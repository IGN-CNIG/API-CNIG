!function(e){var t={};function r(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(a,o,function(t){return e[t]}.bind(null,o));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=7)}([function(e){e.exports=JSON.parse('{"exception":{"impl":"The implementation used cannot create comparatorsControl controls","no_controls":"The Comparators plugin needs to activate at least one control.","mirrorDefaultCompareViz":"modeVizTypes parameter does not contain the value of defaultCompareViz","mirrorModeVizTypes":"modeVizTypes does not have a valid value","fourLayers":"The number of layers is insufficient to apply the effect","notLayers":"The number of layers is insufficient to apply the effect"},"mirrorpanelParams_tooltip":"mirrorpanelParams_tooltip","lyrcompareParams_tooltip":"lyrcompareParams_tooltip","transparencyParams_tooltip":"transparencyParams_tooltip","nolayertext":"No Layout","title":"Comparators","play":"Play","pause":"Pause","intervals_error":"The intervals were not defined correctly","tooltipLyr":"Layer Comparison","tooltip_vcurtain":"Vertical curtain","tooltip_hcurtain":"Horizontal curtain","tooltip_multicurtain":"Multi curtain","tooltip_deactivatecurtain":"Deactivate curtain","layers":"Layehrs","radius":"Radius","opacity":"Opacity","static":"Static","dynamic":"Dynamic","mixed":"Mixed","layer":"Layer","opacity_tooltip":"Opacity of the layers (0-100%)","dynamic_tooltip":"Division between layers is fixed by mouse position","mixed_tooltip":"Division between layers is dragged by mouse","static_tooltip":"Division between layers is fixed 50%","lyrLeftSelect_tooltip":"Select layer on the left","lyrRightSelect_tooltip":"Select layer on the right","advice_sameLayer":"One layer in different places is not allowed","no_layers_plugin":"The number of layers is insufficient to apply the effect","repeated_layers":"Selected layers cannot be repeated","tooltipMirrorpanel":"Mirror Comparison","titleMirrorpanel":"Mirror Maps","modViz0":"Standard map","modViz1":"Vertical two maps","modViz2":"Horizontal two maps","modViz3":"Vertical three maps","modViz4":"Vertical four maps","modViz5":"Mosaic maps","modViz6":"Horizontal four maps","modViz7":"Vertical 2-1-1 proportional maps","modViz8":"One map above and two below","modViz9":"Two maps above and one below","tooltipTransparency":"Transparency","transparency":"Transparency","errorLayer":"Transparency: No valid layer specified on which to apply the effect","freeze":"freeze cursor","unfreeze":"defrost cursor","activate_spyeye":"SpyEye ON","deactivate_spyeye":"SpyEye OFF","tooltip":"Compare panel","inputTransparentRadius":"Modify the opacity of the radius","selectTransparentRadius":"Layer selector, the radius opacity will be applied","tooltip_void":"Single map view","selectLayers":"Layers selected"}')},function(e){e.exports=JSON.parse('{"exception":{"impl":"La implementación usada no puede crear controles comparatorsControl","no_controls":"El plugin Comparators necesita activar al menos un control.","mirrorDefaultCompareViz":"El parámetro modeVizTypes no contiene el valor de defaultCompareViz","mirrorModeVizTypes":"modeVizTypes no tiene un valor válido","fourLayers":"El modo de visualización seleccionado requiere tres capas","notLayers":"El modo de visualización seleccionado requiere una capa"},"nolayertext":"No hay capas de comparación","title":"Panel de Comparadores","play":"Iniciar","pause":"Parar","intervals_error":"Los intervalos no fueron definidos correctamente","tooltipLyr":"Comparador de capas","tooltip_vcurtain":"Cortina vertical","tooltip_hcurtain":"Cortina horizontal","tooltip_multicurtain":"Multivista","tooltip_deactivatecurtain":"Desactivar cortina","layers":"Capas","radius":"Radio","opacity":"Opacidad","static":"Estático","dynamic":"Dinámico","mixed":"Mixto","layer":"Capa","opacity_tooltip":"Opacidad de las capas que se comparan (0-100%)","dynamic_tooltip":"La división la marca la posición del cursor","mixed_tooltip":"La división se arrastra con el ratón","static_tooltip":"La división es fija en el centro del mapa","lyrLeftSelect_tooltip":"Selecciona la capa de la izquierda","lyrRightSelect_tooltip":"Selecciona la capa de la derecha","advice_sameLayer":"No puede cargarse la misma capa en varios sitios","no_layers_plugin":"El número de capas es insuficiente para aplicar el efecto","repeated_layers":"Las capas seleccionadas no se pueden repetir","tooltipMirrorpanel":"Comparador de mapas espejo","titleMirrorpanel":"Mapas espejo","modViz0":"Mapa standard","modViz1":"Dos mapas en vertical","modViz2":"Dos mapas en horizontal","modViz3":"Tres mapas en vertical","modViz4":"Cuatro mapas en vertical","modViz5":"Mosaico de mapas","modViz6":"Cuatro mapas en horizontal","modViz7":"Tres mapas en proporción 2-1-1","modViz8":"Un mapa arriba y dos abajo","modViz9":"Dos mapas arriba y uno abajo","tooltipTransparency":"Transparencia","transparency":"Transparencia","errorLayer":"Transparency: No se ha especificado una capa válida sobre la que aplicar el efecto","freeze":"Inmovilizar cursor","unfreeze":"liberar cursor","activate_spyeye":"Activar Spy Eye","deactivate_spyeye":"Desactivar Spy Eye","tooltip":"Comparador de mapas","inputTransparentRadius":"Modifica la opacidad del radio","selectTransparentRadius":"Selector de capas, se le aplicará la opacidad del radio","tooltip_void":"Vista de un solo mapa","selectLayers":"Selector de capas"}')},function(e,t){e.exports='<div aria-label="Plugin Comparators" role="menuitem" id="div-contenedor-comparators" class="m-control m-container m-comparators">\n    <header role="heading" tabindex="0" id="m-comparators-title" class="m-comparators-header">\n        {{translations.headertitle}}\n    </header>\n    <section id="m-comparators-previews" class="m-comparators-previews">\n        {{#if mirrorpanelParams}}\n            <button tabindex="0" aria-label="{{translations.mirrorpanelParams_tooltip}}" id=\'mirrorpanel-btn\' class="button-comparators mirror-panel-button" title="{{translations.mirrorpanelParams_tooltip}}"></button>\n        {{/if}}\n\n        {{#if lyrcompareParams}}\n            <button tabindex="0" aria-label="{{translations.lyrcompareParams_tooltip}}" id=\'lyrcompare-btn\' class="button-comparators lyrcompare-button" title="{{translations.lyrcompareParams_tooltip}}"></button>\n        {{/if}}\n\n        {{#if transparencyParams}}\n            <button tabindex="0" aria-label="{{translations.transparencyParams_tooltip}}" id=\'transparency-btn\' class="button-comparators transparency-button" title="{{translations.transparencyParams_tooltip}}"></button>\n        {{/if}}\n    </section>\n    <div id="m-comparators-contents"></div>\n</div>'},function(e,t){e.exports='<section tabindex="0" id="m-compatators-mirrorpanelContent" class="m-compatators-mirrorpanelContent">\n      <div class="mirrorButtons">\n        <button tabindex="0" style="display: none;" id="set-mirror-0"  aria-label="{{translations.modViz0}}" title="{{translations.modViz0}}" class="modeviz0"></button>\n        <button tabindex="0" style="display: none;" id="set-mirror-1"  aria-label="{{translations.modViz1}}" title="{{translations.modViz1}}" class="modeviz1"></button>\n        <button tabindex="0" style="display: none;" id="set-mirror-2"  aria-label="{{translations.modViz2}}" title="{{translations.modViz2}}" class="modeviz2"></button>\n        <button tabindex="0" style="display: none;" id="set-mirror-3"  aria-label="{{translations.modViz3}}" title="{{translations.modViz3}}" class="modeviz3"></button>\n        <button tabindex="0" style="display: none;" id="set-mirror-4"  aria-label="{{translations.modViz4}}" title="{{translations.modViz4}}" class="modeviz4"></button>\n        <button tabindex="0" style="display: none;" id="set-mirror-5"  aria-label="{{translations.modViz5}}" title="{{translations.modViz5}}" class="modeviz5"></button>\n        <button tabindex="0" style="display: none;" id="set-mirror-6"  aria-label="{{translations.modViz6}}" title="{{translations.modViz6}}" class="modeviz6"></button>\n        <button tabindex="0" style="display: none;" id="set-mirror-7"  aria-label="{{translations.modViz7}}" title="{{translations.modViz7}}" class="modeviz7"></button>\n        <button tabindex="0" style="display: none;" id="set-mirror-8"  aria-label="{{translations.modViz8}}" title="{{translations.modViz8}}" class="modeviz8"></button>\n        <button tabindex="0" style="display: none;" id="set-mirror-9"  aria-label="{{translations.modViz9}}" title="{{translations.modViz9}}" class="modeviz9"></button>\n      </div>\n\n      <section class="mirrorpanel_selections">\n            <div>\n                  <label tabindex="0" id="mapLASelect_label" class="mapLASelect_label" for="">Capas del mapa: </label>\n                  <select name="mapLA" id="mapLASelect" aria-label="{{translations.selectLayers}}">\n                        <option tabindex="0" value="void">Ninguna Capa</option>\n                  </select>\n            </div>\n\n            <div style="display: none;">\n                  <label tabindex="0" id="mapLBSelect_label" for="">Izquierda</label>\n                  <select name="mapLB" id="mapLBSelect" aria-label="{{translations.selectLayers}}">\n                        <option tabindex="0" value="void">Ninguna Capa</option>\n                  </select>\n            </div>\n\n\n            <div style="display: none;">\n                  <label tabindex="0" id="mapLCSelect_label" for="">Arriba</label>\n                  <select name="mapLC" id="mapLCSelect" aria-label="{{translations.selectLayers}}">\n                        <option tabindex="0" value="void">Ninguna Capa</option>\n                  </select>\n            </div>\n\n            <div style="display: none;">\n                  <label tabindex="0" id="mapLDSelect_label" for="">Abajo</label>\n                  <select name="mapLD" id="mapLDSelect" aria-label="{{translations.selectLayers}}">\n                        <option tabindex="0" value="void">Ninguna Capa</option>\n                  </select>\n            </div>\n\n      </section>\n\n  </section>\n  '},function(e,t){e.exports='<div id="div-contenedor" class="m-lyrcompare-container">\n    <div class="div-m-lyrcompare-panel">\n        <div class="m-lyrcompare-effect-buttoms">\n            <button tabindex="0" value="void" id="m-lyrcompare-void" class="big-buttom button-comparators cp-void" aria-label="{{translations.tooltip_void}}" title="{{translations.tooltip_void}}"></button>\n            <button tabindex="0" value="vcurtain" id="m-lyrcompare-vcurtain" class="big-buttom button-comparators cp-columns" aria-label="{{translations.tooltip_vcurtain}}" title="{{translations.tooltip_vcurtain}}"></button>\n            <button tabindex="0" value="hcurtain" id="m-lyrcompare-hcurtain" class="big-buttom button-comparators cp-columns-rotate" aria-label="{{translations.tooltip_hcurtain}}" title="{{translations.tooltip_hcurtain}}"></button>\n            <button tabindex="0" value="multicurtain" id="m-lyrcompare-multicurtain" class="big-buttom button-comparators cp-th-large" aria-label="{{translations.tooltip_multicurtain}}" title="{{translations.tooltip_multicurtain}}"></button>\n        </div>\n        <div class="div-m-lyrcompare-transparent-opacity">\n            <label for="input-transparent-opacity" title="{{translations.opacity_tooltip}}">{{translations.opacity}}: </label>\n            <input tabindex="0" type="range" min="0" max="100" value="100" id="input-transparent-opacity" aria-label="{{translations.opacity}}" title="{{translations.opacity_tooltip}}"></input>\n        </div>\n        <div class="div-m-lyrcompare-transparent-static">\n            <input tabindex="0" type="radio" id="div-m-lyrcompare-transparent-dynamic" name="staticDivision" value="0" aria-label="{{translations.dynamic_tooltip}}"><label for="div-m-lyrcompare-transparent-dynamic" title="{{translations.dynamic_tooltip}}">{{translations.dynamic}}</label>\n            <input tabindex="0" type="radio" id="div-m-lyrcompare-transparent-static" name="staticDivision" value="1" aria-label="{{translations.static_tooltip}}"><label for="div-m-lyrcompare-transparent-static" title="{{translations.static_tooltip}}">{{translations.static}}</label>\n            <input tabindex="0" type="radio" id="div-m-lyrcompare-transparent-mixed" name="staticDivision" value="2" aria-label="{{translations.mixed_tooltip}}"><label for="div-m-lyrcompare-transparent-mixed" title="{{translations.mixed_tooltip}}">{{translations.mixed}}</label>\n        </div>\n\n        {{#if options}}\n            <div class="m-lyrcompare-select" id="m-lyrcompare-lyrA-cont">\n                <label id="m-lyrcompare-lyrA-lbl" for="m-lyrcompare-lyrA" class="mapLASelect_label" title="{{translations.lyrLeftSelect_tooltip}}">{{translations.lyrLeftSelect_tooltip}}</label>\n                <select tabindex="0" disabled id="m-lyrcompare-lyrA" aria-label="{{translations.lyrLeftSelect_tooltip}}">\n                    {{#each options}}\n                        <option value=\'{{this.name}}\'>{{this.legend}}</option>\n                    {{/each}}\n                </select>\n            </div>\n            <div class="m-lyrcompare-select" id="m-lyrcompare-lyrB-cont">\n                <label id="m-lyrcompare-lyrB-lbl" for="m-lyrcompare-lyrB" class="mapLBSelect_label" title="{{translations.lyrRightSelect_tooltip}}">{{translations.lyrRightSelect_tooltip}}</label>\n                <select tabindex="0" disabled id="m-lyrcompare-lyrB" aria-label="{{translations.lyrRightSelect_tooltip}}">\n                    {{#each options}}\n                        <option value=\'{{this.name}}\'>{{this.legend}}</option>\n                    {{/each}}\n                </select>\n            </div>\n            \x3c!--Multi Curtain--\x3e\n            <div class="m-lyrcompare-select" id="m-lyrcompare-lyrC-cont">\n                <label id="m-lyrcompare-lyrC-lbl" for="m-lyrcompare-lyrC" class="mapLCSelect_label" title="{{translations.lyrLeftSelect_tooltip}}">Abajo a la izquierda</label>\n                <select tabindex="0" disabled id="m-lyrcompare-lyrC" aria-label="{{translations.lyrLeftSelect_tooltip}}">\n                    {{#each options}}\n                        <option value=\'{{this.name}}\'>{{this.legend}}</option>\n                    {{/each}}\n                </select>\n            </div>\n            <div class="m-lyrcompare-select" id="m-lyrcompare-lyrD-cont">\n                <label id="m-lyrcompare-lyrD-lbl" for="m-lyrcompare-lyrD" class="mapLDSelect_label" title="{{translations.lyrRightSelect_tooltip}}">Abajo a la derecha</label>\n                <select tabindex="0" disabled id="m-lyrcompare-lyrD" aria-label="{{translations.lyrRightSelect_tooltip}}">\n                    {{#each options}}\n                        <option value=\'{{this.name}}\'>{{this.legend}}</option>\n                    {{/each}}\n                </select>\n            </div>\n        {{/if}}\n    </div>\n</div>\n'},function(e,t){e.exports='<div id="div-contenedor" class="m-transparency-container">\n    <div class="div-m-transparency-panel">\n        <div class="div-m-transparency-transparent-radius">\n            <p>{{translations.radius}}:</p>\n            <input tabindex="0" type="range" value="100" id="input-transparent-radius" aria-label="{{translations.inputTransparentRadius}}"></input>\n            <button tabindex="0" id="m-transparency-lock" class="button-comparators cp-lock-icon" aria-label="{{translations.freeze}}" title="{{translations.freeze}}"></button>\n            <button tabindex="0" id="m-transparency-unlock" class="button-comparators cp-unlock-icon" aria-label="{{translations.unfreeze}}" title="{{translations.unfreeze}}" style="margin-left:-20px;"></button>\n        </div>\n        {{#if options}}\n            <div class="m-transparency-select">\n                <p>{{translations.layers}}: </p>\n                <select tabindex="0" id="m-transparency-lyr" aria-label="{{translations.selectTransparentRadius}}">\n                    {{#each options}}\n                        <option value="{{name}}">{{legend}}</option>\n                    {{/each}}\n                </select>\n            </div>\n        {{/if}}\n    </div>\n</div>\n'},function(e,t,r){},function(e,t,r){"use strict";r.r(t);r(6);var a=r(2),o=r.n(a);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,s(a.key),a)}}function s(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function c(e,t,r){return t=d(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],d(e).constructor):t.apply(e,r))}function p(){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var a=u(e,t);if(a){var o=Object.getOwnPropertyDescriptor(a,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function u(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(){return i(this,t),c(this,t,arguments)}var r,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(t,M.impl.Control),r=t,(a=[{key:"addTo",value:function(e,r){p(d(t.prototype),"addTo",this).call(this,e,r),this.facadeMap_=e}},{key:"transformCenter",value:function(e,t){var r=this.facadeMap_.getProjection().code;return ol.proj.transform(e,t,r)}}])&&l(r.prototype,a),o&&l(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(),f=r(0),h=r(1),v={en:f,es:h},b=function(){var e="es";return"function"==typeof M.language.getLang&&(e=M.language.getLang()),e},S=function(e){return"es"===e||"en"===e?v[e]:M.language.getTranslation(e).comparators},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b(),r=S(t),a="";return M.utils.isNullOrEmpty(r)?console.warn("The translation '".concat(t,"' has not been defined.")):a=e.split(".").reduce((function(e,t){return e[t]}),r),a};function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,w(a.key),a)}}function w(e){var t=function(e,t){if("object"!=_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=_(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_(t)?t:String(t)}function P(e,t,r){return t=E(t),function(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],E(e).constructor):t.apply(e,r))}function x(){return(x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var a=O(e,t);if(a){var o=Object.getOwnPropertyDescriptor(a,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function O(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var D=function(e){function t(){return L(this,t),P(this,t,arguments)}var r,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(t,M.impl.Control),r=t,(a=[{key:"addTo",value:function(e,r){var a=this;e.getMapImpl().getInteractions().forEach((function(e){e instanceof ol.interaction.DoubleClickZoom&&(a.dblClickInteraction_=e)})),x(E(t.prototype),"addTo",this).call(this,e,r)}}])&&C(r.prototype,a),o&&C(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(),j=r(3),k=r.n(j),z={"set-mirror-0":[{id:"mapLASelect_label",text:{principalMap:"Capas del mapa:",secondaryMap:"Capas del mapa:"}}],"set-mirror-1":[{id:"mapLASelect_label",text:{principalMap:"Capas del mapa derecho:",secondaryMap:"Capas del mapa izquierdo:"}},{id:"mapLBSelect_label",text:{principalMap:"Capas del mapa izquierdo:",secondaryMap:"Capas del mapa derecho:"}}],"set-mirror-2":[{id:"mapLASelect_label",text:{principalMap:"Capas del mapa superior:",secondaryMap:"Capas del mapa superior:"}},{id:"mapLBSelect_label",text:{principalMap:"Capas del mapa inferior:",secondaryMap:"Capas del mapa inferior:"}}],"set-mirror-3":[{id:"mapLASelect_label",text:{principalMap:"Capas del mapa derecho:",secondaryMap:"Capas del mapa izquierdo:"}},{id:"mapLBSelect_label",text:{principalMap:"Capas del mapa central:",secondaryMap:"Capas del mapa central:"}},{id:"mapLCSelect_label",text:{principalMap:"Capas del mapa izquierdo:",secondaryMap:"Capas del mapa derecho:"}}],"set-mirror-4":[{id:"mapLASelect_label",text:{principalMap:"Capas del mapa derecho:",secondaryMap:"Capas del mapa izquierdo:"}},{id:"mapLBSelect_label",text:{principalMap:"Capas del mapa central derecho:",secondaryMap:"Capas del mapa central izquierdo:"}},{id:"mapLCSelect_label",text:{principalMap:"Capas del mapa central izquierdo:",secondaryMap:"Capas del mapa central derecho:"}},{id:"mapLDSelect_label",text:{principalMap:"Capas del mapa izquierdo:",secondaryMap:"Capas del mapa derecho:"}}],"set-mirror-5":[{id:"mapLASelect_label",text:{principalMap:"Capas del mapa superior derecho:",secondaryMap:"Capas del mapa superior izquierdo:"}},{id:"mapLBSelect_label",text:{principalMap:"Capas del mapa superior izquierdo:",secondaryMap:"Capas del mapa superior derecho:"}},{id:"mapLCSelect_label",text:{principalMap:"Capas del mapa inferior izquierdo:",secondaryMap:"Capas del mapa inferior izquierdo:"}},{id:"mapLDSelect_label",text:{principalMap:"Capas del mapa inferior derecho:",secondaryMap:"Capas del mapa inferior derecho:"}}],"set-mirror-6":[{id:"mapLASelect_label",text:{principalMap:"Capas del primer mapa:",secondaryMap:"Capas del primer mapa:"}},{id:"mapLBSelect_label",text:{principalMap:"Capas del segundo mapa:",secondaryMap:"Capas del segundo mapa:"}},{id:"mapLCSelect_label",text:{principalMap:"Capas del tercer mapa:",secondaryMap:"Capas del tercer mapa:"}},{id:"mapLDSelect_label",text:{principalMap:"Capas del cuarto mapa:",secondaryMap:"Capas del cuarto mapa:"}}],"set-mirror-7":[{id:"mapLASelect_label",text:{principalMap:"Capas del mapa derecho:",secondaryMap:"Capas del mapa izquierdo:"}},{id:"mapLBSelect_label",text:{principalMap:"Capas del mapa central:",secondaryMap:"Capas del mapa central:"}},{id:"mapLCSelect_label",text:{principalMap:"Capas del mapa izquierdo:",secondaryMap:"Capas del mapa derecho:"}}],"set-mirror-8":[{id:"mapLASelect_label",text:{principalMap:"Capas del mapa superior:",secondaryMap:"Capas del mapa superior:"}},{id:"mapLBSelect_label",text:{principalMap:"Capas del mapa izquierdo:",secondaryMap:"Capas del mapa izquierdo:"}},{id:"mapLCSelect_label",text:{principalMap:"Capas del mapa derecho:",secondaryMap:"Capas del mapa derecho:"}}],"set-mirror-9":[{id:"mapLASelect_label",text:{principalMap:"Capas del mapa derecho:",secondaryMap:"Capas del mapa izquierdo:"}},{id:"mapLBSelect_label",text:{principalMap:"Capas del mapa izquierdo:",secondaryMap:"Capas del mapa derecho:"}},{id:"mapLCSelect_label",text:{principalMap:"Capas del mapa inferior:",secondaryMap:"Capas del mapa inferior:"}}]},T={"set-mirror-0":[{id:"mapLASelect_label",text:{principalMap:"Map layers:",secondaryMap:"Map layers:"}}],"set-mirror-1":[{id:"mapLASelect_label",text:{principalMap:"Right map layers:",secondaryMap:"Left map layers:"}},{id:"mapLBSelect_label",text:{principalMap:"Left map layers:",secondaryMap:"Right map layers:"}}],"set-mirror-2":[{id:"mapLASelect_label",text:{principalMap:"Upper map layers:",secondaryMap:"Upper map layers:"}},{id:"mapLBSelect_label",text:{principalMap:"Lower map layers:",secondaryMap:"Lower map layers:"}}],"set-mirror-3":[{id:"mapLASelect_label",text:{principalMap:"Right map layers:",secondaryMap:"Left map layers:"}},{id:"mapLBSelect_label",text:{principalMap:"Center map layers:",secondaryMap:"Center map layers:"}},{id:"mapLCSelect_label",text:{principalMap:"Left map layers:",secondaryMap:"Right map layers:"}}],"set-mirror-4":[{id:"mapLASelect_label",text:{principalMap:"Right map layers:",secondaryMap:"Left map layers:"}},{id:"mapLBSelect_label",text:{principalMap:"Right center map layers:",secondaryMap:"Left center map layers:"}},{id:"mapLCSelect_label",text:{principalMap:"Left center map layers:",secondaryMap:"Right center map layers:"}},{id:"mapLDSelect_label",text:{principalMap:"Left map layers:",secondaryMap:"Right map layers:"}}],"set-mirror-5":[{id:"mapLASelect_label",text:{principalMap:"Upper right map layers:",secondaryMap:"Upper left map layers:"}},{id:"mapLBSelect_label",text:{principalMap:"Upper left map layers:",secondaryMap:"Upper right map layers:"}},{id:"mapLCSelect_label",text:{principalMap:"Lower left map layers:",secondaryMap:"Lower left map layers:"}},{id:"mapLDSelect_label",text:{principalMap:"Lower right map layers:",secondaryMap:"Lower right map layers:"}}],"set-mirror-6":[{id:"mapLASelect_label",text:{principalMap:"First map layers:",secondaryMap:"First map layers:"}},{id:"mapLBSelect_label",text:{principalMap:"Second map layers:",secondaryMap:"Second map layers:"}},{id:"mapLCSelect_label",text:{principalMap:"Third map layers:",secondaryMap:"Third map layers:"}},{id:"mapLDSelect_label",text:{principalMap:"Fourth map layers:",secondaryMap:"Fourth map layers:"}}],"set-mirror-7":[{id:"mapLASelect_label",text:{principalMap:"Right map layers:",secondaryMap:"Left map layers:"}},{id:"mapLBSelect_label",text:{principalMap:"Center map layers:",secondaryMap:"Center map layers:"}},{id:"mapLCSelect_label",text:{principalMap:"Left map layers:",secondaryMap:"Right map layers:"}}],"set-mirror-8":[{id:"mapLASelect_label",text:{principalMap:"Upper map layers:",secondaryMap:"Upper map layers:"}},{id:"mapLBSelect_label",text:{principalMap:"Left map layers:",secondaryMap:"Left map layers:"}},{id:"mapLCSelect_label",text:{principalMap:"Right map layers:",secondaryMap:"Right map layers:"}}],"set-mirror-9":[{id:"mapLASelect_label",text:{principalMap:"Right map layers:",secondaryMap:"Left map layers:"}},{id:"mapLBSelect_label",text:{principalMap:"Left map layers:",secondaryMap:"Right map layers:"}},{id:"mapLCSelect_label",text:{principalMap:"Lower map layers:",secondaryMap:"Lower map layers:"}}]};function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,o,n,i,l=[],s=!0,c=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(a=n.call(r)).done)&&(l.push(a.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var I=function(e){var t=V(e.split("*"),4),r=t[0],a=t[2],o=t[3];return"WMS"===r?o:a},R=function(e,t){var r=null,a=[];return e.forEach((function(e){t.some((function(t){return e.name===I(t)}))?r=e:a.push(e)})),[r,a]},q=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("WMS"===e.type){var a=e.url,o=e.name,n=e.legend,i=e.useCapabilities,l=e.options,s=e.version;return r&&t.removeWMS(o),"WMS*".concat(n,"*").concat(a,"*").concat(o,"*true*").concat(l.format||"image/png","*").concat(i,"*").concat(s)}if("WMTS"===e.type){var c=e.url,p=e.name,u=e.legend,d=e.matrixSet,y=e.options,m=e.useCapabilities;r&&t.removeWMTS(p);var f=t.getProjection(),h=f.code;return"WMTS*".concat(c,"*").concat(p,"*").concat(d||h,"*").concat(u,"*").concat(y.format||"image/png","*").concat(m)}return!1},N=function(e,t){return e.map((function(e){var r=e.split("*");if("WMS"===r[0].toUpperCase()){var a=new M.layer.WMS({url:r[2],name:r[3],legend:r[1],format:r[4],useCapabilities:"true"===r[5]||!1,version:r[7]});return a.setZIndex(t),a}var o=new M.layer.WMTS({url:r[1],name:r[2],legend:r[4],matrixSet:r[3],transparent:!0,queryable:!1,visibility:!1,format:r[5],useCapabilities:"true"===r[6]||!1},{displayInLayerSwitcher:!1});return o.setZIndex(t),o}))},W=function(e){return e.replace(/[^\w$]/g,"")};function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||H(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,o,n,i,l=[],s=!0,c=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(a=n.call(r)).done)&&(l.push(a.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||H(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){if(e){if("string"==typeof e)return G(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?G(e,t):void 0}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Z(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,$(a.key),a)}}function $(e){var t=function(e,t){if("object"!=F(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=F(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==F(t)?t:String(t)}function J(e,t,r){return t=X(t),function(e,t){if(t&&("object"===F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],X(e).constructor):t.apply(e,r))}function Y(){return(Y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var a=Q(e,t);if(a){var o=Object.getOwnPropertyDescriptor(a,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function Q(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=X(e)););return e}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e,t){return(ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var te=function(e){function t(e,r,a){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),M.utils.isUndefined(D)&&M.exception(g("exception")),(o=J(this,t,[new D,"Mirrorpanel"])).map_=a,o.template=null,o.modeVizTypes=e.modeVizTypes,void 0===o.modeVizTypes&&(o.modeVizTypes=[0,1,2,3,4,5,6,7,8,9]),o.defaultCompareViz=e.defaultCompareViz,void 0===o.defaultCompareViz&&(o.defaultCompareViz=0),o.showCursors=e.showCursors,o.mapL={A:o.map_,B:null,C:null,D:null},o.lyrCursor={A:null,B:null,C:null,D:null},o.featureLyrCursor={A:null,B:null,C:null,D:null},o.layerSelected={A:null,B:null,C:null,D:null},o.oldClass="",o.principalMap=e.principalMap,void 0===o.principalMap&&(o.principalMap=!1),o.enabledControlsPlugins=e.enabledControlsPlugins,void 0===o.enabledControlsPlugins&&(o.enabledControlsPlugins=!1),o.backImgLayersConfig=e.backImgLayersConfig,o.target=a.getMapImpl().values_.target,o.styleCursor=new M.style.Point({icon:{form:M.style.form.CIRCLE,fontsize:.5,radius:5,rotation:0,rotate:!1,offset:[0,0],color:"black",fill:"red",gradientcolor:"#088A85",opacity:.8}}),o.controlsLayers=r,o.layers=o.map_.getLayers().filter((function(e){return e.displayInLayerSwitcher&&("WMS"===e.type||"WMTS"===e.type)})),o.lyrSelectorIds=["mapLASelect","mapLBSelect","mapLCSelect","mapLDSelect"],o.maps=["A","B","C","D"],o.dicAccesibilityButton="es"===M.language.getLang()?z:T,o.enabledKeyFunctions=e.enabledKeyFunctions,void 0===o.enabledKeyFunctions&&(o.enabledKeyFunctions=!0),o}var r,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ee(e,t)}(t,M.Control),r=t,(a=[{key:"active",value:function(e){var t=this;this.modeVizTypes.includes(this.defaultCompareViz)||(M.toast.error("Error: ".concat(g("exception.mirrorDefaultCompareViz"))),this.defaultCompareViz=this.modeVizTypes[0]),this.modeVizTypes.forEach((function(e){[0,1,2,3,4,5,6,7,8,9].includes(e)||M.toast.error("Error: ".concat(g("exception.mirrorModeVizTypes")," - ").concat(e))})),this.createMapContainers();var r={jsonp:!0,vars:{translations:{modViz0:g("modViz0"),modViz1:g("modViz1"),modViz2:g("modViz2"),modViz3:g("modViz3"),modViz4:g("modViz4"),modViz5:g("modViz5"),modViz6:g("modViz6"),modViz7:g("modViz7"),modViz8:g("modViz8"),modViz9:g("modViz9"),selectLayers:g("selectLayers")}}};this.template=M.template.compileSync(k.a,r),e.querySelector("#m-comparators-contents").appendChild(this.template),this.createLyrDropDown(),this.modeVizTypes.forEach((function(e){var r=t.template.querySelector("#set-mirror-".concat(e));r.style.display="initial",r.addEventListener("click",(function(r){var a=r.target;t.createSelectorLayer(t.addValueButton(e)),t.manageVisionPanelByCSSGrid(e),t.changeSpanText(a.id)}))})),this.manageVisionPanelByCSSGrid(this.defaultCompareViz),this.createSelectorLayer(this.addValueButton(this.defaultCompareViz)),this.changeSpanText("set-mirror-".concat(this.defaultCompareViz)),this.showCursors&&this.addLayerCursor("A"),this.enabledKeyFunctions&&this.addEventKey_()}},{key:"addValueButton",value:function(e){return[1,2].includes(e)?["B"]:[3,7,8,9].includes(e)?["B","C"]:[4,5,6].includes(e)?["B","C","D"]:["A"]}},{key:"createLyrDropDown",value:function(){var e=this;this.lyrSelectorIds.forEach((function(t,r){var a=e.template.querySelector("#".concat(t));e.controlsLayers.forEach((function(e){var t=U(e.split("*"),5),r=t[0],o=t[1],n=t[4];a.innerHTML+="WMS"===r?'<option class="lyrDropOptions" value="'.concat(e,'">').concat(o,"</option>"):'<option class="lyrDropOptions" value="'.concat(e,'">').concat(n,"</option>")})),a.addEventListener("change",(function(t){var r=t.target;e.changeLayer(r)}))}))}},{key:"destroy",value:function(){document.removeEventListener("keydown",(function(e){})),this.removeMaps(),this.destroyMapsContainer();var e=[null,null,null,null,null,null,null,null,null,null,null,null,null];this.control_=e[0],this.panel_=e[1],this.map_=e[2],this.collapsible=e[3],this.collapsed=e[4],this.modeViz=e[5],this.enabledPlugins=e[6],this.enabledKeyFunctions=e[7],this.showCursors=e[8],this.mirrorLayers=e[9],this.defaultBaseLyrs=e[10],this.backImgLayersParams=e[11],this.interface=e[12]}},{key:"removeAllLayers",value:function(){var e=this;this.maps.forEach((function(t){if(null!==e.layerSelected[t]){var r=U(e.layerSelected[t].split("*"),5),a=r[0],o=r[1],n=r[4];"WMS"===a&&e.mapL[t].removeWMS(o),"WMTS"===a&&e.mapL[t].removeWMTS(n)}}))}},{key:"activate",value:function(){Y(X(t.prototype),"activate",this).call(this)}},{key:"deactivate",value:function(){this.manageVisionPanelByCSSGrid(0),this.removeAllLayers(),document.removeEventListener("keydown",(function(e){})),this.removeMaps(),(document.getElementById("mapjsB")||document.getElementById("mapjsC")||document.getElementById("mapjsD"))&&(this.destroyMapsContainer(),this.template.remove())}},{key:"createMapContainers",value:function(){var e=document.createElement("div");e.id="lienzo",e.classList.add("mirrorpanel-grid");var t=document.getElementById(this.target);this.oldClass=t.classList.toString(),t.parentElement.insertBefore(e,t),t.classList.add("mirror1"),e.appendChild(t);var r=document.createElement("div");r.id="mapjsB",r.classList.add("mirror2"),e.appendChild(r);var a=document.createElement("div");a.id="mapjsC",a.classList.add("mirror3"),e.appendChild(a);var o=document.createElement("div");o.id="mapjsD",o.classList.add("mirror4"),e.appendChild(o)}},{key:"changeViewPluginsGrid",value:function(e){M.config.MOBILE_WIDTH=e?"2000":"768";var t=[];Object.entries(this.mapL).forEach((function(e){var r=U(e,2),a=(r[0],r[1]);t=a?[].concat(K(t),K(a.getControls()),K(a.getPlugins())):t})),t.forEach((function(t){return t.changeStyleResponsive?t.changeStyleResponsive(e):null}))}},{key:"manageVisionPanelByCSSGrid",value:function(e){var t=this,r=this.defaultCompareViz;document.getElementById(this.target).style.display="none",document.getElementById("mapjsB").style.display="none",document.getElementById("mapjsC").style.display="none",document.getElementById("mapjsD").style.display="none",document.getElementById("lienzo").classList.remove("reverseMirror"),this.template.querySelector("#set-mirror-".concat(r)).classList.remove("activatedComparators");for(var a=0;a<10;a++)document.getElementById("lienzo").classList.remove("modeViz".concat(a));document.getElementById("lienzo").classList.add("modeViz".concat(e)),this.principalMap&&document.getElementById("lienzo").classList.add("reverseMirror"),[1,2].includes(e)&&null===this.mapL.B&&this.createMapObjects("B"),[3,7,8,9].includes(e)&&(null===this.mapL.B&&this.createMapObjects("B"),null===this.mapL.C&&this.createMapObjects("C")),[4,5,6].includes(e)&&(null===this.mapL.B&&this.createMapObjects("B"),null===this.mapL.C&&this.createMapObjects("C"),null===this.mapL.D&&this.createMapObjects("D")),this.defaultCompareViz=e,this.template.querySelector("#set-mirror-".concat(e)).classList.add("activatedComparators"),this.map_.refresh(),null!==this.mapL.B&&this.mapL.B.refresh(),null!==this.mapL.C&&this.mapL.C.refresh(),null!==this.mapL.D&&this.mapL.D.refresh(),setTimeout((function(){t.changeViewPluginsGrid([3,4,7].includes(e))}),500)}},{key:"createSelectorLayer",value:function(e){this.lyrSelectorIds.forEach((function(e,t){0!==t&&(document.getElementById(e).parentElement.style.display="none")})),e.forEach((function(e){document.querySelector("#mapL".concat(e,"Select")).parentElement.style.display="initial"}))}},{key:"changeSpanText",value:function(e){var t=this.principalMap?"principalMap":"secondaryMap";this.dicAccesibilityButton[e].forEach((function(e){var r=e.id,a=e.text;document.getElementById(r).innerHTML=a[t]}))}},{key:"createMapObjects",value:function(e){this.mapL[e]=M.map({container:"mapjs".concat(e),center:this.map_.getCenter(),projection:"".concat(this.map_.getProjection().code,"*").concat(this.map_.getProjection().units)}),this.mapL[e].getMapImpl().setView(this.map_.getMapImpl().getView()),this.enabledControlsPlugins&&this.addPluginsControls(e),this.showCursors&&this.addLayerCursor(e),this.mapL[e].refresh()}},{key:"createControls",value:function(e){return!!["scale","scaleline","panzoombar","panzoom","location","getfeatureinfo","rotate","backgroundlayers"].includes(e)&&e}},{key:"addPluginsControls",value:function(e){var t=this;Object.keys(this.enabledControlsPlugins).forEach((function(r){Object.keys(t.enabledControlsPlugins[r]).forEach((function(a){("map2"===r&&"B"===e||"map3"===r&&"C"===e||"map4"===r&&"D"===e)&&t.addControlsPlugins(e,a,r)}))}))}},{key:"addControlsPlugins",value:function(e,t,r){if("controls"===t)this.mapL[e].addControls(this.enabledControlsPlugins[r][t]);else try{this.mapL[e].addPlugin(new M.plugin[t](this.enabledControlsPlugins[r][t]))}catch(e){M.toast.error("Error: enabledControlsPlugins")}}},{key:"addLayerCursor",value:function(e){var t=this;this.lyrCursor[e]=new M.layer.Vector({name:"Coordenadas centro ".concat(e)},{displayInLayerSwitcher:!1}),this.featureLyrCursor[e]=new M.Feature("Center".concat(e),{type:"Feature",properties:{},geometry:{type:"Point",coordinates:this.mapL[e].getCenter()}}),this.lyrCursor[e].addFeatures([this.featureLyrCursor[e]]),this.lyrCursor[e].setStyle(this.styleCursor),this.lyrCursor[e].setZIndex(5e3),this.mapL[e].addLayers(this.lyrCursor[e]),this.mapL[e].getMapImpl().on("pointermove",(function(r){t.lyrCursor[e].setVisible(!1),Object.keys(t.featureLyrCursor).forEach((function(a){a!==e&&null!==t.featureLyrCursor[a]&&(t.lyrCursor[a].setVisible(!0),t.featureLyrCursor[a].setGeometry({type:"Point",coordinates:r.coordinate}))}))}))}},{key:"manageLyrAvailable",value:function(e){null!==this.lyDropControlA.control_&&this.lyDropControlA.setDisabledLyrs(e),null!==this.lyDropControlB.control_&&this.lyDropControlB.setDisabledLyrs(e),null!==this.lyDropControlC.control_&&this.lyDropControlC.setDisabledLyrs(e),null!==this.lyDropControlD.control_&&this.lyDropControlD.setDisabledLyrs(e)}},{key:"removeMaps",value:function(){this.mapL.A=null,this.mapL.B=null,this.mapL.C=null,this.mapL.D=null}},{key:"destroyMapsContainer",value:function(){this.manageVisionPanelByCSSGrid(0),document.getElementById("mapjsB").remove(),document.getElementById("mapjsC").remove(),document.getElementById("mapjsD").remove();var e=document.getElementById("lienzo"),t=document.querySelector(".mirror1");e.parentElement.insertBefore(t,e),t.style.display="block",t.classList.remove("mirror1"),t.classList=this.oldClass,document.getElementById("lienzo").remove()}},{key:"changeLayer",value:function(e){var t=e.id,r=e.value,a=e.selectedIndex,o=e.options[a];if(this.disableSelects(t),o.setAttribute("selected",""),o.id.includes("external")&&"mapLASelect"===t)this.externalLayersEvt(o);else{o.disabled=!0;var n=t.split("Select")[0].split("mapL")[1];if(this.mapL[n]){var i=this.layerSelected[n];if(i){var l=U(i.split("*"),5),s=l[0],c=l[2],p=l[4];"WMS"===s&&this.mapL[n].removeWMS(c),"WMTS"===s&&this.mapL[n].removeWMTS(p)}"void"!==r&&(this.mapL[n].addLayers(r),this.layerSelected[n]=r)}}}},{key:"externalLayersEvt",value:function(e){var t=I(e.value),r=this.mapL.A.getLayers().find((function(e){return e.name===t}));r.setVisible(!r.isVisible())}},{key:"disableSelects",value:function(e){document.querySelectorAll("#".concat(e," option")).forEach((function(e){e.id.includes("external_mapLASelect")||(e.disabled=!1)}))}},{key:"equals",value:function(e){return e instanceof CompareMirrorpanel}},{key:"addEventKey_",value:function(){var e=this;document.addEventListener("keydown",(function(t){for(var r=0;r<10;r++)t.ctrlKey&&t.shiftKey&&t.key==="F".concat(r+1)&&e.modeVizTypes.includes(r)&&e.manageVisionPanelByCSSGrid(r);var a=["Control","Shift","Alt","Meta"].includes(t.key)?"":t.key;"Escape"==(t.ctrlKey?"Control ":"")+(t.shiftKey?"Shift ":"")+(t.altKey?"Alt ":"")+(t.metaKey?"Meta ":"")+a&&e.manageVisionPanelByCSSGrid(0)}))}}])&&Z(r.prototype,a),o&&Z(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}();function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,oe(a.key),a)}}function oe(e){var t=function(e,t){if("object"!=re(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=re(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==re(t)?t:String(t)}function ne(e,t,r){return t=ce(t),function(e,t){if(t&&("object"===re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ie(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],ce(e).constructor):t.apply(e,r))}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(){return(le="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var a=se(e,t);if(a){var o=Object.getOwnPropertyDescriptor(a,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function se(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ce(e)););return e}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t){return(pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var ue=function(e){function t(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=ne(this,t,[e])).layers_=[],r.swipeClicked=!1,ol.interaction.Pointer.call(ie(r),{handleDownEvent:r.setPosition,handleUpEvent:function(){return r.swipeClicked=!1},handleMoveEvent:r.setPosition});var a=e||{};r.pos=!1,r.opacityVal=a.opacityVal||100,r.OLVersion="OL6";var o=[a.lyrA].map((function(e){return e.getImpl().getOL3Layer()})).filter((function(e){return null!=e}));r.addLayerA(o);var n=[a.lyrB].map((function(e){return e.getImpl().getOL3Layer()})).filter((function(e){return null!=e}));if(r.addLayerB(n),a.lyrC){var i=[a.lyrC].map((function(e){return e.getImpl().getOL3Layer()})).filter((function(e){return null!=e}));r.addLayerC(i)}if(a.lyrD){var l=[a.lyrD].map((function(e){return e.getImpl().getOL3Layer()})).filter((function(e){return null!=e}));r.addLayerD(l)}return r}var r,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pe(e,t)}(t,ol.interaction.Pointer),r=t,(a=[{key:"setMap",value:function(e){if(this.getMap()){for(var t=0;t<this.layers_.length;t+=1)"OL6"===this.OLVersion?this.layers_[t]&&(this.layers_[t].prerender&&ol.Observable.unByKey(this.layers_[t].prerender),this.layers_[t].postrender&&ol.Observable.unByKey(this.layers_[t].postrender),this.layers_[t].prerender=this.layers_[t].postrender=null):(this.layers_[t].precompose&&ol.Observable.unByKey(this.layers_[t].precompose),this.layers_[t].postcompose&&ol.Observable.unByKey(this.layers_[t].postcompose),this.layers_[t].precompose=this.layers_[t].postcompose=null);this.getMap().renderSync()}ol.interaction.Pointer.prototype.setMap.call(this,e),e&&(this.createSwipeControl(),"OL6"===this.OLVersion?(void 0!==this.layers_[0]&&(this.layers_[0].prerender=this.layers_[0].on("prerender",this.precomposeA_.bind(this)),this.layers_[0].postrender=this.layers_[0].on("postrender",this.postcomposeA_.bind(this))),void 0!==this.layers_[1]&&(this.layers_[1].prerender=this.layers_[1].on("prerender",this.precomposeB_.bind(this)),this.layers_[1].postrender=this.layers_[1].on("postrender",this.postcomposeB_.bind(this))),void 0!==this.layers_[2]&&(this.layers_[2].prerender=this.layers_[2].on("prerender",this.precomposeC_.bind(this)),this.layers_[2].postrender=this.layers_[2].on("postrender",this.postcomposeC_.bind(this))),void 0!==this.layers_[3]&&(this.layers_[3].prerender=this.layers_[3].on("prerender",this.precomposeD_.bind(this)),this.layers_[3].postrender=this.layers_[3].on("postrender",this.postcomposeD_.bind(this)))):(this.layers_[0].precompose=this.layers_[0].on("precompose",this.precomposeA_.bind(this)),this.layers_[0].postcompose=this.layers_[0].on("postcompose",this.postcomposeA_.bind(this)),this.layers_[1].precompose=this.layers_[1].on("precompose",this.precomposeB_.bind(this)),this.layers_[1].postcompose=this.layers_[1].on("postcompose",this.postcomposeB_.bind(this)),void 0!==this.layers_[2]&&void 0!==this.layers_[3]&&(this.layers_[2].precompose=this.layers_[2].on("precompose",this.precomposeC_.bind(this)),this.layers_[2].postcompose=this.layers_[2].on("postcompose",this.postcomposeC_.bind(this)),this.layers_[3].precompose=this.layers_[3].on("precompose",this.precomposeD_.bind(this)),this.layers_[3].postcompose=this.layers_[3].on("postcompose",this.postcomposeD_.bind(this)))),e.renderSync())}},{key:"setOpacity",value:function(e){if(this.opacityVal=e,this.getMap())for(var t=0;t<this.layers_.length;t+=1)void 0!==this.layers_[t]&&this.layers_[t].setOpacity(this.opacityVal/100)}},{key:"setStaticDivision",value:function(e){this.staticDivision=e,this.updatePosition()}},{key:"setComparisonMode",value:function(e){this.comparisonMode=e,this.updatePosition()}},{key:"setVisibilityLayersCD",value:function(){void 0===this.layers_[2]||void 0===this.layers_[3]||1!==this.comparisonMode&&2!==this.comparisonMode?void 0!==this.layers_[2]&&void 0!==this.layers_[3]&&(this.layers_[2].setVisible(!0),this.layers_[3].setVisible(!0)):(this.layers_[2].setVisible(!1),this.layers_[3].setVisible(!1))}},{key:"addLayerA",value:function(e){e instanceof Array||(e=[e]);var t={layer:e[0]};this.getMap()&&(t.prerender=e[0].on("prerender",this.precomposeA_.bind(this)),t.postrender=e[0].on("postrender",this.postcomposeA_.bind(this)),this.getMap().renderSync()),this.layers_.push(e[0])}},{key:"addLayerB",value:function(e){e instanceof Array||(e=[e]);var t={layer:e[0]};this.getMap()&&(t.prerender=e[0].on("prerender",this.precomposeB_.bind(this)),t.postrender=e[0].on("postrender",this.postcomposeB_.bind(this)),this.getMap().renderSync()),this.layers_.push(e[0])}},{key:"addLayerC",value:function(e){e instanceof Array||(e=[e]);var t={layer:e[0]};this.getMap()&&(t.prerender=e[0].on("prerender",this.precomposeC_.bind(this)),t.postrender=e[0].on("postrender",this.postcomposeC_.bind(this)),this.getMap().renderSync()),this.layers_.push(e[0])}},{key:"addLayerD",value:function(e){e instanceof Array||(e=[e]);var t={layer:e[0]};this.getMap()&&(t.prerender=e[0].on("prerender",this.precomposeD_.bind(this)),t.postrender=e[0].on("postrender",this.postcomposeD_.bind(this)),this.getMap().renderSync()),this.layers_.push(e[0])}},{key:"removeLayer",value:function(e){e instanceof Array||(e=[e]);for(var t=0;t<e.length;t+=1){var r=void 0;for(r=0;r<this.layers_.length&&this.layers_[r]!==e[t];r+=1);r!==this.layers_.length&&this.getMap()&&(this.layers_[r].prerender&&ol.Observable.unByKey(this.layers_[r].prerender),this.layers_[r].postrender&&ol.Observable.unByKey(this.layers_[r].postrender),this.layers_.splice(r,1),this.getMap().renderSync())}}},{key:"setPosition",value:function(e){if(2===this.staticDivision&&this.swipeClicked||2!==this.staticDivision){if(e.pixel?this.pos=e.pixel:e&&e instanceof Array?this.pos=e:e=[-1e7,-1e7],2===this.staticDivision&&1!==e.pointerEvent.buttons){var t=this.map_.getSize();this.pos=[t[0]/2,t[1]/2],this.swipeClicked=!1}this.getMap()&&this.getMap().renderSync(),this.moveSwipeControl()}}},{key:"updatePosition",value:function(){var e=document.querySelector(".lyrcompare-swipe-control");if(e&&(1===this.comparisonMode?e.classList="lyrcompare-swipe-control vertical".concat(1===this.staticDivision?" static":" dynamic"):2===this.comparisonMode?e.classList="lyrcompare-swipe-control horizontal".concat(1===this.staticDivision?" static":" dynamic"):3===this.comparisonMode&&(e.classList="lyrcompare-swipe-control vertical horizontal".concat(1===this.staticDivision?" static":" dynamic"))),this.getMap()){var t=this.map_.getSize();e.style.left="".concat(t[0]/2-e.offsetWidth/2,"px"),e.style.top="".concat(t[1]/2-e.offsetHeight/2,"px"),this.pos=[t[0]/2,t[1]/2],this.swipeClicked=!1,this.getMap().renderSync()}}},{key:"precomposeA_",value:function(e){var t,r,a,o,n=e.context,i=(e.frameState.pixelRatio,this.map_.getSize()),l=this.pos[0],s=this.pos[1];n.save(),n.beginPath(),1===this.staticDivision?1===this.comparisonMode?(t=ol.render.getRenderPixel(e,[0,0]),r=ol.render.getRenderPixel(e,[i[0]/2,0]),a=ol.render.getRenderPixel(e,[i[0]/2,i[1]]),o=ol.render.getRenderPixel(e,[0,i[1]])):2===this.comparisonMode?(t=ol.render.getRenderPixel(e,[0,0]),r=ol.render.getRenderPixel(e,[i[0],0]),a=ol.render.getRenderPixel(e,[i[0],i[1]/2]),o=ol.render.getRenderPixel(e,[0,i[1]/2])):3===this.comparisonMode&&(t=ol.render.getRenderPixel(e,[0,0]),r=ol.render.getRenderPixel(e,[i[0]/2,0]),a=ol.render.getRenderPixel(e,[i[0]/2,i[1]/2]),o=ol.render.getRenderPixel(e,[0,i[1]/2])):1===this.comparisonMode?(t=ol.render.getRenderPixel(e,[0,0]),r=ol.render.getRenderPixel(e,[l,0]),a=ol.render.getRenderPixel(e,[l,i[1]]),o=ol.render.getRenderPixel(e,[0,i[1]])):2===this.comparisonMode?(t=ol.render.getRenderPixel(e,[0,0]),r=ol.render.getRenderPixel(e,[i[0],0]),a=ol.render.getRenderPixel(e,[i[0],s]),o=ol.render.getRenderPixel(e,[0,s])):3===this.comparisonMode&&(t=ol.render.getRenderPixel(e,[0,0]),r=ol.render.getRenderPixel(e,[l,0]),a=ol.render.getRenderPixel(e,[l,s]),o=ol.render.getRenderPixel(e,[0,s])),void 0!==t&&(n.moveTo(t[0],t[1]),n.lineTo(o[0],o[1]),n.lineTo(a[0],a[1]),n.lineTo(r[0],r[1]),n.closePath()),n.clip()}},{key:"postcomposeA_",value:function(e){e.context.restore()}},{key:"precomposeB_",value:function(e){var t,r,a,o,n=e.context,i=(e.frameState.pixelRatio,this.map_.getSize()),l=this.pos[0],s=this.pos[1];n.save(),n.beginPath(),1===this.staticDivision?1===this.comparisonMode?(t=ol.render.getRenderPixel(e,[i[0]/2,0]),r=ol.render.getRenderPixel(e,[i[0],0]),a=ol.render.getRenderPixel(e,[i[0],i[1]]),o=ol.render.getRenderPixel(e,[i[0]/2,i[1]])):2===this.comparisonMode?(t=ol.render.getRenderPixel(e,[0,i[1]/2]),r=ol.render.getRenderPixel(e,[i[0],i[1]/2]),a=ol.render.getRenderPixel(e,[i[0],i[1]]),o=ol.render.getRenderPixel(e,[0,i[1]])):3===this.comparisonMode&&(t=ol.render.getRenderPixel(e,[i[0]/2,0]),r=ol.render.getRenderPixel(e,[i[0],0]),a=ol.render.getRenderPixel(e,[i[0],i[1]/2]),o=ol.render.getRenderPixel(e,[i[0]/2,i[1]/2])):1===this.comparisonMode?(t=ol.render.getRenderPixel(e,[l,0]),r=ol.render.getRenderPixel(e,[i[0],0]),a=ol.render.getRenderPixel(e,[i[0],i[1]]),o=ol.render.getRenderPixel(e,[l,i[1]])):2===this.comparisonMode?(t=ol.render.getRenderPixel(e,[0,s]),r=ol.render.getRenderPixel(e,[i[0],s]),a=ol.render.getRenderPixel(e,[i[0],i[1]]),o=ol.render.getRenderPixel(e,[0,i[1]])):3===this.comparisonMode&&(t=ol.render.getRenderPixel(e,[l,0]),r=ol.render.getRenderPixel(e,[i[0],0]),a=ol.render.getRenderPixel(e,[i[0],s]),o=ol.render.getRenderPixel(e,[l,s])),void 0!==t&&(n.moveTo(t[0],t[1]),n.lineTo(o[0],o[1]),n.lineTo(a[0],a[1]),n.lineTo(r[0],r[1]),n.closePath()),n.clip()}},{key:"postcomposeB_",value:function(e){e.context.restore()}},{key:"precomposeC_",value:function(e){var t,r,a,o,n=e.context,i=(e.frameState.pixelRatio,this.map_.getSize()),l=this.pos[0],s=this.pos[1];n.save(),n.beginPath(),1===this.staticDivision?3===this.comparisonMode&&(t=ol.render.getRenderPixel(e,[0,i[1]/2]),r=ol.render.getRenderPixel(e,[i[0]/2,i[1]/2]),a=ol.render.getRenderPixel(e,[i[0]/2,i[1]]),o=ol.render.getRenderPixel(e,[0,i[1]])):3===this.comparisonMode&&(t=ol.render.getRenderPixel(e,[0,s]),r=ol.render.getRenderPixel(e,[l,s]),a=ol.render.getRenderPixel(e,[l,i[1]]),o=ol.render.getRenderPixel(e,[0,i[1]])),void 0!==t&&(n.moveTo(t[0],t[1]),n.lineTo(o[0],o[1]),n.lineTo(a[0],a[1]),n.lineTo(r[0],r[1]),n.closePath()),n.clip()}},{key:"postcomposeC_",value:function(e){e.context.restore()}},{key:"precomposeD_",value:function(e){var t,r,a,o,n=e.context,i=(e.frameState.pixelRatio,this.map_.getSize()),l=this.pos[0],s=this.pos[1];n.save(),n.beginPath(),1===this.staticDivision?3===this.comparisonMode&&(t=ol.render.getRenderPixel(e,[i[0]/2,i[1]/2]),r=ol.render.getRenderPixel(e,[i[0],i[1]/2]),a=ol.render.getRenderPixel(e,[i[0],i[1]]),o=ol.render.getRenderPixel(e,[i[0]/2,i[1]])):3===this.comparisonMode&&(t=ol.render.getRenderPixel(e,[l,s]),r=ol.render.getRenderPixel(e,[i[0],s]),a=ol.render.getRenderPixel(e,[i[0],i[1]]),o=ol.render.getRenderPixel(e,[l,i[1]])),void 0!==t&&(n.moveTo(t[0],t[1]),n.lineTo(o[0],o[1]),n.lineTo(a[0],a[1]),n.lineTo(r[0],r[1]),n.closePath()),n.clip()}},{key:"postcomposeD_",value:function(e){e.context.restore()}},{key:"createSwipeControl",value:function(){var e,t,r=this;null===document.querySelector(".lyrcompare-swipe-control")?((e=document.createElement("div")).classList.add("lyrcompare-swipe-control"),(t=document.createElement("div")).classList.add("control-icon"),e.append(t),document.querySelector(".ol-overlaycontainer-stopevent").append(e)):(e=document.querySelector(".lyrcompare-swipe-control"),t=document.querySelector(".lyrcompare-swipe-control .control-icon")),e.addEventListener("mousedown",(function(){return r.swipeClicked=!0})),e.addEventListener("mouseup",(function(){return r.swipeClicked=!1})),e.addEventListener("touchstart",(function(){return r.swipeClicked=!0})),e.addEventListener("touchend",(function(){return r.swipeClicked=!1})),this.updatePosition()}},{key:"moveSwipeControl",value:function(){var e=this.map_.getSize(),t=document.querySelector(".lyrcompare-swipe-control");t&&this.getMap()&&(0===this.staticDivision||2===this.staticDivision?1===this.comparisonMode?(t.style.top="".concat(e[1]/2-t.offsetHeight/2,"px"),t.style.left="".concat(this.pos[0]-t.offsetWidth/2,"px")):2===this.comparisonMode?(t.style.left="".concat(e[0]/2-t.offsetWidth/2,"px"),t.style.top="".concat(this.pos[1]-t.offsetHeight/2,"px")):3===this.comparisonMode&&(t.style.left="".concat(this.pos[0]-t.offsetWidth/2,"px"),t.style.top="".concat(this.pos[1]-t.offsetHeight/2,"px")):(t.style.left="".concat(e[0]/2-t.offsetWidth/2,"px"),t.style.top="".concat(e[1]/2-t.offsetHeight/2,"px")))}},{key:"setActive",value:function(e){le(ce(t.prototype),"setActive",this).call(this,e)}}])&&ae(r.prototype,a),o&&ae(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}();function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function me(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,fe(a.key),a)}}function fe(e){var t=function(e,t){if("object"!=de(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=de(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==de(t)?t:String(t)}function he(e,t,r){return t=ve(t),function(e,t){if(t&&("object"===de(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],ve(e).constructor):t.apply(e,r))}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t){return(be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Se=function(e){function t(){return ye(this,t),he(this,t,arguments)}var r,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&be(e,t)}(t,M.impl.Control),r=t,(a=[{key:"addTo",value:function(e,t){this.map=e,this.olMap=e.getMapImpl()}},{key:"effectSelectedCurtain",value:function(e,t,r,a,o,n,i){e.setVisible(!0),t.setVisible(!0),this.transparentInteraction_=new ue({opacityVal:o,lyrA:e,lyrB:t,lyrC:r,lyrD:a}),this.olMap.addInteraction(this.transparentInteraction_),this.setOpacity(o),this.setComparisonMode(i),this.setStaticDivision(n)}},{key:"setVisibilityLayersCD",value:function(){void 0!==this.transparentInteraction_&&this.transparentInteraction_.setVisibilityLayersCD()}},{key:"setOpacity",value:function(e){void 0!==this.transparentInteraction_&&this.transparentInteraction_.setOpacity(e)}},{key:"setComparisonMode",value:function(e){void 0!==this.transparentInteraction_&&this.transparentInteraction_.setComparisonMode(e),this.setVisibilityLayersCD()}},{key:"setStaticDivision",value:function(e){void 0!==this.transparentInteraction_&&this.transparentInteraction_.setStaticDivision(e)}},{key:"addLayer",value:function(e){this.transparentInteraction_.addLayer(e.getImpl().getOL3Layer())}},{key:"removeEffectsCurtain",value:function(){this.olMap.removeInteraction(this.transparentInteraction_)}},{key:"removeInteraction",value:function(){this.olMap.getInteractions().forEach((function(e){(e instanceof ol.interaction.PinchRotate||e instanceof ol.interaction.DoubleClickZoom||e instanceof ol.interaction.KeyboardPan)&&e.setActive(!1)}))}},{key:"removeLayer",value:function(e){this.transparentInteraction_.removeLayer(e.getImpl().getOL3Layer())}}])&&me(r.prototype,a),o&&me(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(),ge=r(4),_e=r.n(ge);function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Me=void 0;function Ce(e){return function(e){if(Array.isArray(e))return we(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return we(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return we(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Pe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,xe(a.key),a)}}function xe(e){var t=function(e,t){if("object"!=Le(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=Le(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Le(t)?t:String(t)}function Oe(e,t,r){return t=Ee(t),function(e,t){if(t&&("object"===Le(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],Ee(e).constructor):t.apply(e,r))}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ae(e,t){return(Ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}Array.prototype.unique=function(e){return function(){return Me.filter(e)}};var De=function(e){function t(e,r,a){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),M.utils.isUndefined(Se)&&M.exception(g("exception"));var n=new Se(a);return o=Oe(this,t,[n,"LyrCompare"]),n.addTo(a),o.map_=a,o.name_="lyrcompare",o.layers=N(r),o.opacityVal=e.opacityVal,o.layerSelectedA=null,o.layerSelectedB=null,o.layerSelectedC=null,o.layerSelectedD=null,o.template=null,o.staticDivision=void 0===e.staticDivision?1:parseInt(e.staticDivision),o.opacityVal=100,void 0===e.opacityVal?o.opacityVal=100:(o.opacityVal=parseInt(e.opacityVal),o.opacityVal<=0?o.opacityVal=0:o.opacityVal>=100&&(o.opacityVal=100)),o.comparisonMode=0,void 0===e.defaultCompareViz?o.comparisonMode=0:(o.comparisonMode=parseInt(e.defaultCompareViz),(o.comparisonMode<=0||o.comparisonMode>3)&&(o.comparisonMode=0)),o.defaultLyrA=0,void 0===e.defaultLyrA?o.defaultLyrA=0:o.defaultLyrA=parseInt(e.defaultLyrA),o.defaultLyrB=0,void 0===e.defaultLyrB?o.defaultLyrB=0!==o.defaultLyrA?0:1:o.defaultLyrB=parseInt(e.defaultLyrB),o.defaultLyrA===o.defaultLyrB&&(M.dialog.error(g("repeated_layers"),"lyrcompare"),o.error_=!0),o.defaultLyrC=2,void 0===e.defaultLyrC?o.defaultLyrC=2:o.defaultLyrC=parseInt(e.defaultLyrC),o.defaultLyrA!==o.defaultLyrC&&o.defaultLyrB!==o.defaultLyrC||(M.dialog.error(g("repeated_layers"),"lyrcompare"),o.error_=!0),o.defaultLyrD=3,void 0===e.defaultLyrD?o.defaultLyrD=3:o.defaultLyrD=parseInt(e.defaultLyrD),o.defaultLyrA!==o.defaultLyrD&&o.defaultLyrB!==o.defaultLyrD&&o.defaultLyrC!==o.defaultLyrD||(M.dialog.error(g("repeated_layers"),"lyrcompare"),o.error_=!0),o.interface=void 0===e.interface||e.interface,o.dicAccesibilityButton="es"===M.language.getLang()?z:T,o}var r,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ae(e,t)}(t,M.Control),r=t,(a=[{key:"active",value:function(e){var t=this;new Promise((function(e,r){t.comparisonMode=0;var a=new M.layer.WMS({url:"https://www.ign.es/wms-inspire/ign-base?",name:"empty_layer",legend:"Sin capa",tiled:!1,version:"1.3.0",displayInLayerSwitcher:!1},{visibility:!0,displayInLayerSwitcher:!1,queryable:!1});t.layers.push(a),t.layers.forEach((function(e){null===e.getImpl().getOL3Layer()&&(t.map_.addLayers(e),e.setVisible(!1))})),t.setFunctionsAndCompile(e)})).then((function(t){e.querySelector("#m-comparators-contents").appendChild(t)}))}},{key:"destroy",value:function(){this.deactivate();var e=document.querySelector(".lyrcompare-swipe-control");e&&e.remove(),this.control_.removeCurtainLayers(this.control_.getLayersNames());var t=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];this.name_=t[0],this.error_=t[1],this.map_=t[2],this.layers_=t[3],this.position=t[4],this.collapsed=t[5],this.collapsible=t[6],this.staticDivision=t[7],this.opacityVal=t[8],this.comparisonMode=t[9],this.metadata_=t[10],this.tooltip_=t[11],this.interface=t[12],this.defaultLyrA=t[13],this.defaultLyrB=t[14],this.defaultLyrC=t[15],this.defaultLyrD=t[16]}},{key:"deactivate",value:function(){if(this.template){this.comparisonMode=0,this.layers=[],this.layerSelectedA=null,this.layerSelectedB=null,this.layerSelectedC=null,this.layerSelectedD=null,this.staticDivision=1,this.opacityVal=100,this.defaultLyrA=0,this.defaultLyrB=1,this.defaultLyrC=2,this.defaultLyrD=3,this.interface=!0,this.deactivateCurtain(),this.template.remove();var e=document.querySelector(".lyrcompare-swipe-control");e&&e.remove()}}},{key:"updateNewLayers",value:function(){if(this.template){this.opacityVal=100,this.interface=!0;var e=document.querySelector(".lyrcompare-swipe-control");e&&(e.classList.display="none !important"),e&&e.remove(),null!==this.layerSelectedA&&null!==this.layerSelectedB&&(this.layerSelectedA.setVisible(!1),this.layerSelectedB.setVisible(!1)),null!==this.layerSelectedC&&null!==this.layerSelectedD&&void 0!==this.layerSelectedC&&void 0!==this.layerSelectedD&&(this.layerSelectedC.setVisible(!1),this.layerSelectedD.setVisible(!1)),this.removeEffectsComparison(),this.updateControls(),this.template.remove()}}},{key:"changeSpanText",value:function(e){var t={"m-lyrcompare-vcurtain":"set-mirror-1","m-lyrcompare-hcurtain":"set-mirror-2","m-lyrcompare-void":"set-mirror-0","m-lyrcompare-multicurtain":"set-mirror-5"}[e];this.dicAccesibilityButton[t].forEach((function(e){var t=e.id,r=e.text;document.querySelector(".".concat(t)).innerHTML=r.secondaryMap}))}},{key:"setFunctionsAndCompile",value:function(e){var t=this,r={jsonp:!0,vars:{options:this.layers.map((function(e){return e instanceof Object?{name:e.name,legend:e.legend}:{name:e,legend:e}})),translations:{tooltip_vcurtain:g("tooltip_vcurtain"),tooltip_hcurtain:g("tooltip_hcurtain"),tooltip_void:g("tooltip_void"),tooltip_multicurtain:g("tooltip_multicurtain"),tooltip_deactivatecurtain:g("tooltip_deactivatecurtain"),opacity:g("opacity"),static:g("static"),dynamic:g("dynamic"),mixed:g("mixed"),layer:g("layer"),opacity_tooltip:g("opacity_tooltip"),static_tooltip:g("static_tooltip"),dynamic_tooltip:g("dynamic_tooltip"),mixed_tooltip:g("mixed_tooltip"),lyrLeftSelect_tooltip:g("lyrLeftSelect_tooltip"),lyrRightSelect_tooltip:g("lyrRightSelect_tooltip")}}};return this.template=M.template.compileSync(_e.a,r),this.setEventsAndValues(),this.updateControls(),this.layers.length-1==0?M.dialog.error(g("no_layers_plugin")):(this.activateCurtain(),this.template.querySelectorAll('button[id^="m-lyrcompare-"]').forEach((function(e,r){e.addEventListener("click",(function(r){var a=t.map_.getWMS().length+t.map_.getWMTS().length-1;t.changeSpanText(r.target.id),a<3&&"multicurtain"===e.value?M.toast.error(g("exception.fourLayers"),null,6e3):("void"===e.value&&(t.comparisonMode=0),"vcurtain"===e.value&&(t.comparisonMode=1),"hcurtain"===e.value&&(t.comparisonMode=2),"multicurtain"===e.value&&(t.activeDefault(),t.activateEffectCurtain(),t.comparisonMode=3),t.updateControls(),t.getImpl().setComparisonMode(t.comparisonMode))}))}))),e(this.template)}},{key:"setEventsAndValues",value:function(){var e=this;this.template.querySelector("#input-transparent-opacity").value=this.opacityVal,this.template.querySelector("#input-transparent-opacity").addEventListener("input",(function(t){e.opacityVal=Number(t.target.value),e.getImpl().setOpacity(e.opacityVal)})),1===this.staticDivision?this.template.querySelector("#div-m-lyrcompare-transparent-static").checked=!0:0===this.staticDivision?this.template.querySelector("#div-m-lyrcompare-transparent-dynamic").checked=!0:this.template.querySelector("#div-m-lyrcompare-transparent-mixed").checked=!0,this.template.querySelector("#div-m-lyrcompare-transparent-dynamic").addEventListener("change",(function(t){e.staticDivision=Number(t.target.value),e.getImpl().removeInteraction(),e.getImpl().setStaticDivision(e.staticDivision)})),this.template.querySelector("#div-m-lyrcompare-transparent-static").addEventListener("change",(function(t){e.staticDivision=Number(t.target.value),e.getImpl().setStaticDivision(e.staticDivision)})),this.template.querySelector("#div-m-lyrcompare-transparent-mixed").addEventListener("change",(function(t){e.staticDivision=Number(t.target.value),e.getImpl().setStaticDivision(e.staticDivision)})),this.template.querySelectorAll('select[id^="m-lyrcompare-"]').forEach((function(t){t.addEventListener("change",(function(r){var a=r.target.options;Array.from(a).forEach((function(e){return e.removeAttribute("selected")})),r.target.selectedOptions[0].setAttribute("selected","");var o=e.layers.filter((function(t){if(t.name===r.target.value)return e.map_.addLayers(t),t})),n=[];if("m-lyrcompare-lyrA"===t.id?n=[o[0].name,e.layerSelectedB.name,e.layerSelectedC?e.layerSelectedC.name:void 0,e.layerSelectedD?e.layerSelectedD.name:void 0]:"m-lyrcompare-lyrB"===t.id?n=[e.layerSelectedA.name,o[0].name,e.layerSelectedC?e.layerSelectedC.name:void 0,e.layerSelectedD?e.layerSelectedD.name:void 0]:"m-lyrcompare-lyrC"===t.id?n=[e.layerSelectedA.name,e.layerSelectedB.name,o[0].name,e.layerSelectedD?e.layerSelectedD.name:void 0]:"m-lyrcompare-lyrD"===t.id&&(n=[e.layerSelectedA.name,e.layerSelectedB.name,e.layerSelectedC?e.layerSelectedC.name:void 0,o[0].name]),!1===e.checkLayersAreDifferent.apply(e,Ce(n)))return M.toast.error(g("advice_sameLayer"),null,6e3),"m-lyrcompare-lyrA"===t.id?e.template.querySelector("#".concat(t.id)).value=e.layerSelectedA.name:"m-lyrcompare-lyrB"===t.id?e.template.querySelector("#".concat(t.id)).value=e.layerSelectedB.name:"m-lyrcompare-lyrC"===t.id?e.template.querySelector("#".concat(t.id)).value=e.layerSelectedC.name:"m-lyrcompare-lyrD"===t.id&&(e.template.querySelector("#".concat(t.id)).value=e.layerSelectedD.name),!1;"m-lyrcompare-lyrA"===t.id?(e.layerSelectedC&&o[0].name===e.layerSelectedC.name&&(e.layerSelectedC.setVisible(!1),e.layerSelectedC=e.layerSelectedA,e.template.querySelector("#m-lyrcompare-lyrC").value=e.layerSelectedA.name),e.layerSelectedD&&o[0].name===e.layerSelectedD.name&&(e.layerSelectedD.setVisible(!1),e.layerSelectedD=e.layerSelectedA,e.template.querySelector("#m-lyrcompare-lyrD").value=e.layerSelectedA.name)):"m-lyrcompare-lyrB"===t.id&&(e.layerSelectedC&&o[0].name===e.layerSelectedC.name&&(e.layerSelectedC.setVisible(!1),e.layerSelectedC=e.layerSelectedB,e.template.querySelector("#m-lyrcompare-lyrC").value=e.layerSelectedB.name),e.layerSelectedD&&o[0].name===e.layerSelectedD.name&&(e.layerSelectedD.setVisible(!1),e.layerSelectedD=e.layerSelectedB,e.template.querySelector("#m-lyrcompare-lyrD").value=e.layerSelectedB.name)),"m-lyrcompare-lyrA"===t.id?(e.layerSelectedA.setVisible(!1),e.layerSelectedA=o[0]):"m-lyrcompare-lyrB"===t.id?(e.layerSelectedB.setVisible(!1),e.layerSelectedB=o[0]):"m-lyrcompare-lyrC"===t.id?(e.layerSelectedC&&e.layerSelectedC.setVisible(!1),e.layerSelectedC=o[0]):"m-lyrcompare-lyrD"===t.id&&(e.layerSelectedD&&e.layerSelectedD.setVisible(!1),e.layerSelectedD=o[0]),e.activateEffectCurtain()}))}))}},{key:"activateEffectCurtain",value:function(){var e=this;setTimeout((function(){e.removeEffectsComparison(),e.getImpl().effectSelectedCurtain(e.layerSelectedA,e.layerSelectedB,e.layerSelectedC,e.layerSelectedD,e.opacityVal,e.staticDivision,e.comparisonMode),e.updateControls()}),1e3)}},{key:"checkLayersAreDifferent",value:function(e,t,r,a){var o=!0;if(1===this.comparisonMode||2===this.comparisonMode)o=e!==t;else{var n=[e,t,r,a];o=Ce(new Set(n)).length===n.length}return o}},{key:"activateCurtain",value:function(){this.activeDefault(),this.activateEffectCurtain()}},{key:"activeDefault",value:function(){var e=this;if(null===this.layerSelectedA&&this.layers.length>=1){this.layerSelectedA=this.layers[this.defaultLyrA];var t=this.template.querySelector("#m-lyrcompare-lyrA");if(t.selectedIndex=this.defaultLyrA,!t.options[this.defaultLyrA])return void M.dialog.error("Error layerSelectedA","lyrcompare");t.options[this.defaultLyrA].setAttribute("selected",""),this.map_.getLayers().some((function(t){return t.name===e.layerSelectedA.name}))&&this.map_.addLayers(this.layerSelectedA)}if(null===this.layerSelectedB&&this.layers.length>=2){this.layerSelectedB=this.layers[this.defaultLyrB];var r=this.template.querySelector("#m-lyrcompare-lyrB");if(r.selectedIndex=this.defaultLyrB,r.options[this.defaultLyrB].setAttribute("selected",""),!r.options[this.defaultLyrB])return void M.dialog.error("Error layerSelectedB","lyrcompare");this.map_.getLayers().some((function(t){return t.name===e.layerSelectedB.name}))&&this.map_.addLayers(this.layerSelectedB)}if(null===this.layerSelectedC&&this.layers.length>=3){this.layerSelectedC=this.layers[this.defaultLyrC];var a=this.template.querySelector("#m-lyrcompare-lyrC");if(a.selectedIndex=this.defaultLyrC,a.options[this.defaultLyrC].setAttribute("selected",""),!a.options[this.defaultLyrC])return void M.dialog.error("Error layerSelectedC","lyrcompare");this.map_.getLayers().some((function(t){return t.name===e.layerSelectedC.name}))&&this.map_.addLayers(this.layerSelectedC)}if(null===this.layerSelectedD&&this.layers.length>=4){this.layerSelectedD=this.layers[this.defaultLyrD];var o=this.template.querySelector("#m-lyrcompare-lyrD");if(o.selectedIndex=this.defaultLyrD,o.options[this.defaultLyrD].setAttribute("selected",""),!o.options[this.defaultLyrD])return void M.dialog.error("Error layerSelectedD","lyrcompare");this.map_.getLayers().some((function(t){return t.name===e.layerSelectedD.name}))&&this.map_.addLayers(this.layerSelectedD)}}},{key:"deactivateCurtain",value:function(){var e=document.querySelector(".lyrcompare-swipe-control");e&&(e.classList.display="none !important"),this.comparisonMode=0,null!==this.layerSelectedA&&null!==this.layerSelectedB&&(this.layerSelectedA.setVisible(!1),this.layerSelectedB.setVisible(!1)),null!==this.layerSelectedC&&null!==this.layerSelectedD&&void 0!==this.layerSelectedC&&void 0!==this.layerSelectedD&&(this.layerSelectedC.setVisible(!1),this.layerSelectedD.setVisible(!1)),this.removeEffectsComparison(),this.updateControls()}},{key:"removeEffectsComparison",value:function(){this.getImpl().removeEffectsCurtain()}},{key:"manageLyrAvailable",value:function(e){null!==this.template&&(this.updateLyrsAvailables(e,"A"),this.updateLyrsAvailables(e,"B"),this.updateLyrsAvailables(e,"C"),this.updateLyrsAvailables(e,"D"))}},{key:"updateLyrsAvailables",value:function(e,t){try{var r=null;r=this.template.querySelector("#m-lyrcompare-lyr".concat(t));for(var a=1;a<r.options.length;a++)r.options[a].disabled=!e.includes(r.options[a].value)}catch(e){console.log(e)}}},{key:"updateControls",value:function(){this.removeActivate(),this.activateByMode();var e=document.querySelector(".lyrcompare-swipe-control");if(0===this.comparisonMode)return this.template.querySelectorAll('select[id^="m-lyrcompare-"]').forEach((function(e){e.disabled=!0})),this.template.querySelector("input").disabled=!0,this.template.querySelector("#div-m-lyrcompare-transparent-dynamic").disabled=!0,this.template.querySelector("#div-m-lyrcompare-transparent-static").disabled=!0,void(this.template.querySelector("#div-m-lyrcompare-transparent-mixed").disabled=!0);1===this.comparisonMode?(e&&(e.style.opacity="1"),this.template.querySelector("#m-lyrcompare-lyrA-lbl").classList.add("cp-columns-2"),this.template.querySelector("#m-lyrcompare-lyrB-lbl").classList.add("cp-columns-1"),this.template.querySelector("#m-lyrcompare-lyrA-cont").style.display="block",this.template.querySelector("#m-lyrcompare-lyrB-cont").style.display="block",this.template.querySelector("#m-lyrcompare-lyrA").disabled=!1,this.template.querySelector("#m-lyrcompare-lyrB").disabled=!1):2===this.comparisonMode?(e&&(e.style.opacity="1"),this.template.querySelector("#m-lyrcompare-lyrA-lbl").classList.add("cp-columns-4"),this.template.querySelector("#m-lyrcompare-lyrB-lbl").classList.add("cp-columns-3"),this.template.querySelector("#m-lyrcompare-lyrA-cont").style.display="block",this.template.querySelector("#m-lyrcompare-lyrB-cont").style.display="block",this.template.querySelector("#m-lyrcompare-lyrA").disabled=!1,this.template.querySelector("#m-lyrcompare-lyrB").disabled=!1):3===this.comparisonMode&&(e&&(e.style.opacity="1"),this.template.querySelectorAll('select[id^="m-lyrcompare-"]').forEach((function(e){e.disabled=!1})),this.template.querySelector("#m-lyrcompare-lyrA-lbl").classList.add("cp-th-large-1"),this.template.querySelector("#m-lyrcompare-lyrB-lbl").classList.add("cp-th-large-2"),this.template.querySelector("#m-lyrcompare-lyrC-lbl").classList.add("cp-th-large-3"),this.template.querySelector("#m-lyrcompare-lyrD-lbl").classList.add("cp-th-large-4"),this.template.querySelector("#m-lyrcompare-lyrA-cont").style.display="block",this.template.querySelector("#m-lyrcompare-lyrB-cont").style.display="block",this.template.querySelector("#m-lyrcompare-lyrC-cont").style.display="block",this.template.querySelector("#m-lyrcompare-lyrD-cont").style.display="block"),this.template.querySelector("input").disabled=!1,this.template.querySelector("#div-m-lyrcompare-transparent-dynamic").disabled=!1,this.template.querySelector("#div-m-lyrcompare-transparent-static").disabled=!1,this.template.querySelector("#div-m-lyrcompare-transparent-mixed").disabled=!1}},{key:"activateByMode",value:function(){0===this.comparisonMode?this.template.querySelector("#m-lyrcompare-void").classList.add("buttom-pressed"):1===this.comparisonMode?this.template.querySelector("#m-lyrcompare-vcurtain").classList.add("buttom-pressed"):2===this.comparisonMode?this.template.querySelector("#m-lyrcompare-hcurtain").classList.add("buttom-pressed"):3===this.comparisonMode&&this.template.querySelector("#m-lyrcompare-multicurtain").classList.add("buttom-pressed")}},{key:"removeActivate",value:function(){this.template.querySelector(".buttom-pressed")&&this.template.querySelector(".buttom-pressed").classList.remove("buttom-pressed"),this.template.querySelectorAll('select[id^="m-lyrcompare-"]').disabled=!0,this.template.querySelector("#m-lyrcompare-lyrA-cont").style.display="none",this.template.querySelector("#m-lyrcompare-lyrB-cont").style.display="none",this.template.querySelector("#m-lyrcompare-lyrC-cont").style.display="none",this.template.querySelector("#m-lyrcompare-lyrD-cont").style.display="none",this.template.querySelector("#m-lyrcompare-lyrA-lbl").classList.remove("cp-th-large-1","cp-columns-2"),this.template.querySelector("#m-lyrcompare-lyrA-lbl").classList.remove("cp-th-large-2","cp-columns-3");var e=document.querySelector(".lyrcompare-swipe-control");e&&(e.style.opacity="0")}},{key:"removeCurtainLayers",value:function(e){var t=this;e.forEach((function(e){if(e instanceof Object){if(e instanceof Object){var r=t.map_.getLayers().filter((function(t){return e.name.includes(t.name)}))[t.map_.getLayers().filter((function(t){return e.name.includes(t.name)})).length-1];t.map_.removeLayers(r)}}else if(e.indexOf("*")>=0){var a=e.split("*")[3],o=t.map_.getLayers().filter((function(e){return a.includes(e.name)}))[t.map_.getLayers().filter((function(e){return a.includes(e.name)})).length-1];t.map_.removeLayers(o)}else{var n=t.map_.getLayers().filter((function(t){return e.includes(t.name)}))[t.map_.getLayers().filter((function(t){return e.includes(t.name)})).length-1];t.map_.removeLayers(n)}}))}},{key:"isValidLayer",value:function(e){return"WMTS"===e.type||"WMS"===e.type}},{key:"equals",value:function(e){return e instanceof t}},{key:"getLayersNames",value:function(){return this.layers.map((function(e){return e.name}))}},{key:"addlayersControl",value:function(e){this.layers.push(e)}}])&&Pe(r.prototype,a),o&&Pe(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}();function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ze(a.key),a)}}function ze(e){var t=function(e,t){if("object"!=je(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=je(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==je(t)?t:String(t)}function Te(e,t,r){return t=Re(t),function(e,t){if(t&&("object"===je(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ve(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],Re(e).constructor):t.apply(e,r))}function Ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Be(){return(Be="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var a=Ie(e,t);if(a){var o=Object.getOwnPropertyDescriptor(a,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function Ie(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Re(e)););return e}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qe(e,t){return(qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Ne=function(e){function t(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Te(this,t,[e])).layers_=[],ol.interaction.Pointer.call(Ve(r),{handleDownEvent:r.setPosition,handleMoveEvent:r.setPosition});var a=e||{};r.freeze=a.freeze,r.pos=a.freezeInPosition,r.radius=a.radius||100,r.OLVersion="OL6";var o=[a.layers].map((function(e){return e.getImpl().getOL3Layer()})).filter((function(e){return null!=e}));return r.addLayer(o),r}var r,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qe(e,t)}(t,ol.interaction.Pointer),r=t,(a=[{key:"setMap",value:function(e){var t;if(this.getMap()){for(t=0;t<this.layers_.length;t+=1)"OL6"===this.OLVersion?(this.layers_[t].prerender&&ol.Observable.unByKey(this.layers_[t].prerender),this.layers_[t].postrender&&ol.Observable.unByKey(this.layers_[t].postrender),this.layers_[t].prerender=this.layers_[t].postcompose=null):(this.layers_[t].precompose&&ol.Observable.unByKey(this.layers_[t].precompose),this.layers_[t].postcompose&&ol.Observable.unByKey(this.layers_[t].postcompose),this.layers_[t].precompose=this.layers_[t].postcompose=null);this.getMap().renderSync()}if(ol.interaction.Pointer.prototype.setMap.call(this,e),e){for(t=0;t<this.layers_.length;t+=1)"OL6"===this.OLVersion?(this.layers_[t].prerender=this.layers_[t].on("prerender",this.precompose_.bind(this)),this.layers_[t].postrender=this.layers_[t].on("postrender",this.postcompose_.bind(this))):(this.layers_[t].precompose=this.layers_[t].on("precompose",this.precompose_.bind(this)),this.layers_[t].postcompose=this.layers_[t].on("postcompose",this.postcompose_.bind(this)));e.renderSync()}}},{key:"setRadius",value:function(e){this.radius=e,this.getMap()&&this.getMap().renderSync()}},{key:"setFreeze",value:function(e){this.freeze=e,this.getMap()&&this.getMap().renderSync()}},{key:"toogleFreeze",value:function(){this.freeze=!this.freeze,this.getMap()&&this.getMap().renderSync()}},{key:"addLayer",value:function(e){e instanceof Array||(e=[e]);for(var t=0;t<e.length;t+=1){var r={layer:e[t]};this.getMap()&&(r.prerender=e[t].on("prerender",this.precompose_.bind(this)),r.postrender=e[t].on("postrender",this.postcompose_.bind(this)),this.getMap().renderSync()),this.layers_.push(e[t])}}},{key:"removeLayer",value:function(e){e instanceof Array||(e=[e]);for(var t=0;t<e.length;t+=1){var r=void 0;for(r=0;r<this.layers_.length&&this.layers_[r]!==e[t];r+=1);r!==this.layers_.length&&this.getMap()&&(this.layers_[r].precompose&&ol.Observable.unByKey(this.layers_[r].precompose),this.layers_[r].postcompose&&ol.Observable.unByKey(this.layers_[r].postcompose),this.layers_.splice(r,1),this.getMap().renderSync())}}},{key:"setPosition",value:function(e){e.pixel?!1===this.freeze&&(this.pos=e.pixel):e&&e instanceof Array?this.pos=e:e=[-1e7,-1e7],this.getMap()&&this.getMap().renderSync()}},{key:"precompose_",value:function(e){var t=e.context;t.save(),t.beginPath(),t.arc(this.pos[0],this.pos[1],this.radius,0,2*Math.PI),t.lineWidth=3,this.freeze?t.strokeStyle="rgba(255,0,0,0.7)":t.strokeStyle="rgba(0,0,0,0.5)",t.stroke(),t.clip()}},{key:"postcompose_",value:function(e){e.context.restore()}},{key:"setActive",value:function(e){Be(Re(t.prototype),"setActive",this).call(this,e)}}])&&ke(r.prototype,a),o&&ke(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}();function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ke(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Ue(a.key),a)}}function Ue(e){var t=function(e,t){if("object"!=We(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=We(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==We(t)?t:String(t)}function He(e,t,r){return t=Ge(t),function(e,t){if(t&&("object"===We(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],Ge(e).constructor):t.apply(e,r))}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ze(e,t){return(Ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var $e=function(e){function t(){return Fe(this,t),He(this,t,arguments)}var r,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ze(e,t)}(t,M.impl.Control),r=t,(a=[{key:"addTo",value:function(e,t){this.map=e,this.olMap=e.getMapImpl(),this.freezePosition=!1}},{key:"effectSelected",value:function(e,t,r){e.setVisible(!0),this.transparentInteraction_=new Ne({radius:t,freeze:r,freezeInPosition:this.freezePosition,layers:e}),this.olMap.addInteraction(this.transparentInteraction_)}},{key:"setRadius",value:function(e){void 0!==this.transparentInteraction_&&this.transparentInteraction_.setRadius(e)}},{key:"setFreeze",value:function(e){this.freezePosition=this.transparentInteraction_.pos,void 0!==this.transparentInteraction_&&this.transparentInteraction_.setFreeze(e)}},{key:"toogleFreeze",value:function(){this.freezePosition=this.transparentInteraction_.pos,void 0!==this.transparentInteraction_&&this.transparentInteraction_.toogleFreeze()}},{key:"addLayer",value:function(e){this.transparentInteraction_.addLayer(e)}},{key:"removeEffects",value:function(){this.olMap.removeInteraction(this.transparentInteraction_)}},{key:"removeLayer",value:function(e){this.transparentInteraction_.removeLayer(e.getImpl().getOL3Layer())}}])&&Ke(r.prototype,a),o&&Ke(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(),Je=r(5),Ye=r.n(Je);function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,et(a.key),a)}}function et(e){var t=function(e,t){if("object"!=Qe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=Qe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qe(t)?t:String(t)}function tt(e,t,r){return t=rt(t),function(e,t){if(t&&("object"===Qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],rt(e).constructor):t.apply(e,r))}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function at(e,t){return(at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var ot=function(e){function t(e,r,a){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),M.utils.isUndefined($e)&&M.exception(g("exception"));var n=new $e;return o=tt(this,t,[n,"Transparency"]),n.addTo(a),o.name_="transparency",o.map_=a,o.enabledKeyFunctions=e.enabledKeyFunctions,void 0===o.enabledKeyFunctions&&(o.enabledKeyFunctions=!0),o.layers=N(r),o.maxRadius=e.maxRadius,void 0===o.maxRadius&&(o.maxRadius=200),o.maxRadius>200?o.maxRadius=200:o.maxRadius<30&&(o.maxRadius=30),o.minRadius=e.minRadius,void 0===o.minRadius&&(o.minRadius=30),o.minRadius<30?o.minRadius=30:o.minRadius>o.maxRadius&&(o.minRadius=o.maxRadius),isNaN(parseInt(e.radius))?o.radius=100:e.radius>=30&&e.radius<=200?o.radius=parseInt(e.radius):e.radius>200?o.radius=200:e.radius<30&&(o.radius=30),o.layerSelected=null,o.freeze=!1,o.template=null,o.freezeSpyEye=!1,o}var r,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&at(e,t)}(t,M.Control),r=t,(a=[{key:"active",value:function(e){var t=this;new Promise((function(e,r){var a=t.layers.map((function(e){return e instanceof Object?{name:e.name,legend:e.legend}:{name:e,legend:e}})),o={jsonp:!0,vars:{translations:{transparency:g("transparency"),radius:g("radius"),layers:g("layers"),freeze:g("freeze"),unfreeze:g("unfreeze"),activate_spyeye:g("activate_spyeye"),deactivate_spyeye:g("deactivate_spyeye"),inputTransparentRadius:g("inputTransparentRadius"),selectTransparentRadius:g("selectTransparentRadius")}}};a.length>=1&&(o.vars.options=a),t.template=M.template.compileSync(Ye.a,o);var n=t.template.querySelector("#input-transparent-radius");n.value=t.radius,n.min=t.minRadius,n.max=t.maxRadius,t.template.querySelector("#input-transparent-radius").addEventListener("change",(function(e){t.radius=Number(e.target.value),t.getImpl().setRadius(t.radius)})),t.template.querySelector("#m-transparency-lock").addEventListener("click",(function(e){M.dialog.info("Mueva el cursor a la zona deseada y pulse Ctrl+Shift+Enter para congelar")})),t.template.querySelector("#m-transparency-unlock").addEventListener("click",(function(e){t.freeze=!t.freeze,t.getImpl().setFreeze(t.freeze),t.template.querySelector("#m-transparency-lock").style.visibility="visible",t.template.querySelector("#m-transparency-unlock").style.visibility="hidden"})),0===t.layers.length||""===t.layers?M.toast.error(g("exception.notLayers"),null,6e3):""!==o&&(t.template.querySelector("#m-transparency-lock").style.visibility="hidden",t.template.querySelector("#m-transparency-unlock").style.visibility="hidden",t.template.querySelector("select").addEventListener("change",(function(e){var r=e.target.options;Array.from(r).forEach((function(e){return e.removeAttribute("selected")})),e.target.selectedOptions[0].setAttribute("selected",""),t.layerSelected.setVisible(!1),t.removeEffects();var a=t.layers.filter((function(r){if(r.name===e.target.value)return t.map_.addLayers(r),r}));t.layerSelected=a[0],setTimeout((function(){t.getImpl().effectSelected(t.layerSelected,t.radius,t.freeze)}),1e3)}))),e(t.template)})).then((function(t){e.querySelector("#m-comparators-contents").appendChild(t)})),document.addEventListener("keydown",(function(e){if(t.enabledKeyFunctions){if(e.ctrlKey&&e.shiftKey&&"ArrowUp"===e.key){if(t.radius>=200)return;t.radius+=20,t.getImpl().setRadius(t.radius),t.template.querySelector("#input-transparent-radius").value=t.radius}if(e.ctrlKey&&e.shiftKey&&"ArrowDown"===e.key){if(t.radius<=32)return;t.radius-=20,t.getImpl().setRadius(t.radius),t.template.querySelector("#input-transparent-radius").value=t.radius}e.ctrlKey&&e.shiftKey&&"Enter"===e.key&&(t.freeze=!t.freeze,t.getImpl().setFreeze(t.freeze),t.freeze?(t.template.querySelector("#m-transparency-lock").style.visibility="hidden",t.template.querySelector("#m-transparency-unlock").style.visibility="visible"):(t.template.querySelector("#m-transparency-lock").style.visibility="visible",t.template.querySelector("#m-transparency-unlock").style.visibility="hidden"))}})),this.evtActive_()}},{key:"evtActive_",value:function(){document.querySelector("#m-lyrdropdown-selector")&&(document.querySelector("#m-lyrdropdown-selector").value="none",document.querySelector("#m-lyrdropdown-selector").style.display="none"),this.template.querySelector("#m-transparency-lock").style.visibility="visible",this.template.querySelector("#m-transparency-unlock").style.visibility="hidden",this.activate(),this.map_.addLayers(this.layers)}},{key:"setDefaultLayer",value:function(){console.log("Activación remota")}},{key:"activate",value:function(){var e=this;this.map_.getLayers().forEach((function(t){e.layers.some((function(e){return e.name===t.name}))&&e.map_.removeLayers(t)})),null===this.layerSelected&&(this.layerSelected=this.layers[0],this.map_.addLayers(this.layerSelected)),this.layers.map((function(e){return e instanceof Object?{name:e.name}:{name:e}})).length>=1&&(this.template.querySelector("#m-transparency-lock").style.visibility="visible",this.template.querySelector("#m-transparency-unlock").style.visibility="hidden"),setTimeout((function(){e.getImpl().effectSelected(e.layerSelected,e.radius,e.freeze)}),1e3)}},{key:"deactivate",value:function(){null===this.layerSelected&&(this.layerSelected=this.layers[0]),this.removeEffects(),this.template&&this.template.remove(),this.layerSelected=null}},{key:"updateNewLayers",value:function(){this.removeEffects(),this.template&&this.template.remove(),this.layerSelected=null}},{key:"addlayersControl",value:function(e){this.layers.push(e)}},{key:"destroy",value:function(){this.removeEffects(),this.name_=null,this.map_=null,this.enabledKeyFunctions=null,this.layers=null,this.maxRadius=null,this.minRadius=null,this.radius=null,this.layerSelected=null,this.freeze=null,this.freezeSpyEye=null,this.template=null}},{key:"removeEffects",value:function(){this.getImpl().removeEffects()}},{key:"removeTransparencyLayers",value:function(e){var t=this;e.forEach((function(e){if(e instanceof Object){if(e instanceof Object){var r=t.map_.getLayers().filter((function(t){return e.name.includes(t.name)}))[0];t.map_.removeLayers(r)}}else if(e.indexOf("*")>=0){var a=e.split("*")[3],o=t.map_.getLayers().filter((function(e){return a.includes(e.name)}))[0];t.map_.removeLayers(o)}else{var n=t.map_.getLayers().filter((function(t){return e.includes(t.name)}))[0];t.map_.removeLayers(n)}}))}},{key:"isValidLayer",value:function(e){return"WMTS"===e.type||"WMS"===e.type}},{key:"equals",value:function(e){return e instanceof t}},{key:"getLayersNames",value:function(){return this.layers.map((function(e){return e.name}))}}])&&Xe(r.prototype,a),o&&Xe(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}();function nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,o,n,i,l=[],s=!0,c=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(a=n.call(r)).done)&&(l.push(a.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||st(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t,r){if(mt())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,t);var o=new(e.bind.apply(e,a));return r&&ht(o,r.prototype),o}function lt(e){return function(e){if(Array.isArray(e))return ct(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||st(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(e,t){if(e){if("string"==typeof e)return ct(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ct(e,t):void 0}}function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,dt(a.key),a)}}function dt(e){var t=function(e,t){if("object"!=pt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=pt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pt(t)?t:String(t)}function yt(e,t,r){return t=ft(t),function(e,t){if(t&&("object"===pt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mt()?Reflect.construct(t,r||[],ft(e).constructor):t.apply(e,r))}function mt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(mt=function(){return!!e})()}function ft(e){return(ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ht(e,t){return(ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var vt=function(e){function t(e,r,a){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),M.utils.isUndefined(m)&&M.exception(g("exception.impl")),(o=yt(this,t,[new m,"Comparators"])).isDraggable_=e||!1,o.order=r,o.options=a,o.options.listLayers||(o.options.listLayers=["WMS*Huellas Sentinel2*https://wms-satelites-historicos.idee.es/satelites-historicos*teselas_sentinel2_espanna*true","WMS*Invierno 2022 falso color natural*https://wms-satelites-historicos.idee.es/satelites-historicos*SENTINEL.2022invierno_432-1184*true","WMS*Invierno 2022 falso color infrarrojo*https://wms-satelites-historicos.idee.es/satelites-historicos*SENTINEL.2022invierno_843*true","WMS*Filomena*https://wms-satelites-historicos.idee.es/satelites-historicos*Filomena*true","WMS*Invierno 2021 falso color natural*https://wms-satelites-historicos.idee.es/satelites-historicos*SENTINEL.2021invierno_432-1184*true","WMS*Invierno 2021 falso color infrarrojo*https://wms-satelites-historicos.idee.es/satelites-historicos*SENTINEL.2021invierno_843*true","WMS*Verano 2021 falso color natural*https://wms-satelites-historicos.idee.es/satelites-historicos*SENTINEL.2021verano_432-1184*true","WMS*Verano 2021 falso color infrarrojo*https://wms-satelites-historicos.idee.es/satelites-historicos*SENTINEL.2021verano_843*true","WMS*Invierno 2020 falso color natural*https://wms-satelites-historicos.idee.es/satelites-historicos*SENTINEL.2020invierno_432-1184*true","WMS*Invierno 2020 falso color infrarrojo*https://wms-satelites-historicos.idee.es/satelites-historicos*SENTINEL.2020invierno_843*true","WMS*Verano 2020 falso color natural*https://wms-satelites-historicos.idee.es/satelites-historicos*SENTINEL.2020verano_432-1184*true","WMS*Verano 2020 falso color infrarrojo*https://wms-satelites-historicos.idee.es/satelites-historicos*SENTINEL.2020verano_843*true","WMS*Invierno 2019 falso color natural*https://wms-satelites-historicos.idee.es/satelites-historicos*SENTINEL.2019invierno_432-1184*true","WMS*Invierno 2019 falso color infrarrojo*https://wms-satelites-historicos.idee.es/satelites-historicos*SENTINEL.2019invierno_843*true","WMS*Verano 2019 falso color natural*https://wms-satelites-historicos.idee.es/satelites-historicos*SENTINEL.2019verano_432-1184*true","WMS*Verano 2019 falso color infrarrojo*https://wms-satelites-historicos.idee.es/satelites-historicos*SENTINEL.2019verano_843*true","WMS*Verano 2018 falso color natural*https://wms-satelites-historicos.idee.es/satelites-historicos*SENTINEL.2018verano_432-1184*true","WMS*Verano 2018 falso color infrarrojo*https://wms-satelites-historicos.idee.es/satelites-historicos*SENTINEL.2018verano_843*true","WMS*Huellas Spot5*https://wms-satelites-historicos.idee.es/satelites-historicos*HuellasSpot5_espanna*true","WMS*2014. Pseudocolor natural*https://wms-satelites-historicos.idee.es/satelites-historicos*SPOT.2014*true","WMS*2013. Pseudocolor natural*https://wms-satelites-historicos.idee.es/satelites-historicos*SPOT.2013*true","WMS*2012. Pseudocolor natural*https://wms-satelites-historicos.idee.es/satelites-historicos*SPOT.2012*true","WMS*2011. Pseudocolor natural*https://wms-satelites-historicos.idee.es/satelites-historicos*SPOT.2011*true","WMS*2009. Pseudocolor natural*https://wms-satelites-historicos.idee.es/satelites-historicos*SPOT.2009*true","WMS*2008. Pseudocolor natural*https://wms-satelites-historicos.idee.es/satelites-historicos*SPOT.2008*true","WMS*2005. Pseudocolor natural*https://wms-satelites-historicos.idee.es/satelites-historicos*SPOT.2005*true","WMS*Huellas Landsat8*https://wms-satelites-historicos.idee.es/satelites-historicos*Landsat_huellas_espanna*true","WMS*Landsat 8 2014. Color natural*https://wms-satelites-historicos.idee.es/satelites-historicos*LANDSAT8.2014_432*true","WMS*Landsat 8 2014. Falso color infrarrojo*https://wms-satelites-historicos.idee.es/satelites-historicos*LANDSAT8.2014_654*true","WMS*Landsat 5 TM 2006. Color natural*https://wms-satelites-historicos.idee.es/satelites-historicos*LANDSAT5.2006_321-543","WMS*Landsat 5 TM 2006. Falso color infrarrojo*https://wms-satelites-historicos.idee.es/satelites-historicos*LANDSAT5.2006_432*true","WMS*Landsat 5 TM 1996. Color natural*https://wms-satelites-historicos.idee.es/satelites-historicos*LANDSAT5.1996_321-543*true","WMS*Landsat 5 TM 1996. Falso color infrarrojo*https://wms-satelites-historicos.idee.es/satelites-historicos*LANDSAT5.1996_432*true","WMS*Landsat 5 TM 1991. Color natural*https://wms-satelites-historicos.idee.es/satelites-historicos*LANDSAT5.1991_321-543*true","WMS*Landsat 5 TM 1991. Falso color infrarrojo*https://wms-satelites-historicos.idee.es/satelites-historicos*LANDSAT5.1991_432*true","WMS*Landsat 5 TM 1986. Color natural*https://wms-satelites-historicos.idee.es/satelites-historicos*LANDSAT5.1986_321-543*true","WMS*Landsat 5 TM 1986. Falso color infrarrojo*https://wms-satelites-historicos.idee.es/satelites-historicos*LANDSAT5.1986_432*true","WMS*Landsat 1 1971-1975. Color natural*https://wms-satelites-historicos.idee.es/satelites-historicos*LANDSAT1_544-574*true","WMS*Landsat 1 1971-1975. Falso color infrarrojo*https://wms-satelites-historicos.idee.es/satelites-historicos*LANDSAT1_654*true","WMS*Fondo*https://wms-satelites-historicos.idee.es/satelites-historicos*fondo*true"]),o.defaultCompareMode=o.options.defaultCompareMode||!1,o.mirrorpanelParams=!!M.utils.isUndefined(o.options.mirrorpanelParams)||o.options.mirrorpanelParams,"object"===pt(o.mirrorpanelParams)&&(o.mirrorpanelParams.enabledKeyFunctions=o.options.enabledKeyFunctions||!1),o.lyrcompareParams=!!M.utils.isUndefined(o.options.lyrcompareParams)||o.options.lyrcompareParams,o.transparencyParams=!!M.utils.isUndefined(o.options.transparencyParams)||o.options.transparencyParams,"object"===pt(o.transparencyParams)&&(o.transparencyParams.enabledKeyFunctions=o.options.enabledKeyFunctions||!1),o.control=null,o}var r,a,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ht(e,t)}(t,M.Control),r=t,(a=[{key:"createView",value:function(e){var t=this;return this.map_=e,this.layerDefault=this.map_.getLayers().filter((function(e){return 0!==e.getZIndex()&&"__draw__"!==e.name})),this.layersPlugin=[],this.options.listLayers&&(this.layersPlugin=this.options.listLayers.map((function(e){return e instanceof Object?q(e,t.map_):e}))),this.options.enabledDisplayInLayerSwitcher&&(this.layersPlugin=this.layersPlugin.concat(this.map_.getLayers().filter((function(e){return e.displayInLayerSwitcher&&("WMS"===e.type||"WMTS"===e.type)})).map((function(e){return q(e,t.map_)}))),this.addLayersEventsMap_(),this.removeLayersEventMap_(),this.defaultLayers_()),this.controls=[{id:"mirrorpanel",buttonsID:"mirrorpanel-btn",controlParam:[this.mirrorpanelParams,this.layersPlugin,this.map_,this.defaultCompareMode],controlCreate:function(e){return it(te,lt(e))},control:null,active:!1},{id:"lyrcompare",buttonsID:"lyrcompare-btn",controlParam:[this.lyrcompareParams,this.layersPlugin,this.map_],controlCreate:function(e){return it(De,lt(e))},control:null,active:!1},{id:"transparency",buttonsID:"transparency-btn",controlParam:[this.transparencyParams,this.layersPlugin,this.map_],controlCreate:function(e){return it(ot,lt(e))},control:null,active:!1}],new Promise((function(e,r){var a={headertitle:g("tooltip"),mirrorpanelParams_tooltip:t.mirrorpanelParams.tooltip||g("tooltipMirrorpanel"),lyrcompareParams_tooltip:t.lyrcompareParams.tooltip||g("tooltipLyr"),transparencyParams_tooltip:t.transparencyParams.tooltip||g("tooltipTransparency")};t.html=M.template.compileSync(o.a,{vars:{mirrorpanelParams:t.mirrorpanelParams,lyrcompareParams:t.lyrcompareParams,transparencyParams:t.transparencyParams,translations:a}}),t.controls.forEach((function(e){var r=e.buttonsID;e.controlParam[0]&&(t.html.querySelector("#".concat(r)).addEventListener("click",(function(e){var r=e.target;return t.event_(r)})),t.html.querySelector("#".concat(r)).addEventListener("keydown",(function(e){"Enter"===e.key&&(e.preventDefault(),t.event_(e.target))})))})),t.isDraggable_&&M.utils.draggabillyPlugin(t.getPanel(),"#m-comparators-title"),t.accessibilityTab_(t.html),setTimeout((function(){t.defaultCompareMode_()}),500),e(t.html)}))}},{key:"event_",value:function(e){this.controls.forEach((function(t){var r=t;r.active=e.id===r.buttonsID&&!r.active})),this.eventActive_()}},{key:"eventActive_",value:function(){var e=this;this.removeLayers_(),this.controls.forEach((function(t){if(t.controlParam[0])if(t.active){if(e.html.querySelector("#".concat(t.buttonsID)).classList.add("activatedComparators"),"lyrcompare"===t.id&&t.controlParam[1].length<1)return M.toast.error(g("exception.notLayers"),null,6e3),void setTimeout((function(){e.map_.addLayers(e.layerDefault)}),500);"transparency"===t.id&&setTimeout((function(){e.map_.getLayers().forEach((function(e){return!e.isBase&&e.setVisible(!1)}))}),1e3);var r=t.controlCreate(t.controlParam);t.control=r,e.control=r,r.active(e.html)}else e.html.querySelector("#".concat(t.buttonsID)).classList.remove("activatedComparators"),t.control&&t.control.deactivate(),t.control=null})),this.defaultLayers_()}},{key:"defaultLayers_",value:function(){var e=this;if(!this.controls||!this.controls[0].active&&!this.controls[1].active&&!this.controls[2].active){var t=this.layerDefault;setTimeout((function(){e.map_.addLayers(t)}),500)}}},{key:"addLayersEventsMap_",value:function(){var e=this;[M.evt.ADDED_WMTS,M.evt.ADDED_WMS].forEach((function(t){e.map_.on(t,(function(t){if(e.controls[0].active&&e.addLayersEventMapMirror_(t),e.controls[1].active&&e.addNewLayerUpdate_(t,e.controls[1].control,["m-lyrcompare-lyrA","m-lyrcompare-lyrB","m-lyrcompare-lyrC","m-lyrcompare-lyrD"]),e.controls[2].active&&e.addNewLayerUpdate_(t,e.controls[2].control,["m-transparency-lyr"]),!e.controls[0].active&&!e.controls[1].active&&!e.controls[2].active){var r=nt(R(t,e.layersPlugin),2)[1],a=[];r.forEach((function(t){t.displayInLayerSwitcher&&t.transparent&&a.push(q(t,e.map_,!1))})),e.layersPlugin=[].concat(lt(e.layersPlugin),a),e.layerDefault=[].concat(lt(e.layerDefault),a),e.controls.forEach((function(e){return e.controlParam[1]=[].concat(lt(e.controlParam[1]),a)}))}}))}))}},{key:"addZindex_",value:function(e){e&&0!==this.searchIndex_(e)&&e.setZIndex(this.searchIndex_(e))}},{key:"addLayersEventMapMirror_",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=R(t,this.layersPlugin),a=nt(r,2),o=a[0],n=a[1];this.addZindex_(o),0!==n.length&&n.forEach((function(t,r){if(t.displayInLayerSwitcher&&t.transparent){var a=q(t,e.map_,!1);e.layersPlugin.push(a),["mapLASelect","mapLBSelect","mapLCSelect","mapLDSelect"].forEach((function(e){var r=document.querySelector("#".concat(e)),o=W(t.name).replaceAll(".","");r.innerHTML+="<option \n          ".concat("mapLASelect"===e?"disabled":"",' \n          id="').concat("l_".concat(o,"mapLASelect"===e?"_external_mapLASelect":"_external"),'" \n          class="externalLayers"\n          value="').concat(a,'">').concat(t.legend,"</option>")})),e.changeLayersEventMap_(t)}}))}},{key:"addNewLayerUpdate_",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,o=R(t,this.layersPlugin),n=nt(o,2),i=n[0],l=n[1];this.addZindex_(i),0!==l.length&&l.forEach((function(t,o){if(t.displayInLayerSwitcher&&t.transparent){var n=q(t,e.map_,!1);e.layersPlugin.push(n),void 0!==a&&void 0!==r&&(r.addlayersControl(t),setTimeout((function(){e.addOptions(a,t)}),1e3))}}))}},{key:"addOptions",value:function(e,t){e.forEach((function(e){document.querySelector("#".concat(e)).innerHTML+='<option \n        class="externalLayers"\n        value="'.concat(t.name,'">').concat(t.legend,"</option>")}))}},{key:"searchIndex_",value:function(e){var t=e.name,r=this.layerDefault.filter((function(e){return e.name===t}));return r=0===r.length?0:r[0].getZIndex(),this.options.listLayers.forEach((function(e){e.name===t&&"object"===pt(e)&&(r=e.getZIndex())})),r}},{key:"changeLayersEventMap_",value:function(e){var t=e.name;new Promise((function(t,r){var a=null;a=setInterval((function(){e.getImpl().getOL3Layer()&&(clearInterval(a),t(e.getImpl().getOL3Layer()))}),1e3)})).then((function(e){e.on("change:visible",(function(e){var r=e.oldValue;document.querySelector("#l_".concat(t,"_external_mapLASelect")).disabled=!0!==r}))}))}},{key:"removeLayersEventMap_",value:function(){this.map_.on(M.evt.REMOVED_LAYER,(function(e){e instanceof Array&&e.forEach((function(e){var t=W(e.name).replaceAll(".","");document.getElementById("l_".concat(t,"_external"))&&document.querySelectorAll(".externalLayers").forEach((function(e){e.id.includes(t)&&e.remove()}))}))}))}},{key:"equals",value:function(e){return e instanceof t}},{key:"deactive",value:function(e,t){var r=e.querySelectorAll("#m-comparators-previews .activated")[0];if(r&&!r.id.includes(t)){"m-comparators-zoomextent"===r.id&&this.zoomextentControl.deactive(),r.classList.remove("activated");var a=document.querySelector("#div-contenedor-comparators");a&&a.children.length>2&&a.removeChild(a.children[2])}}},{key:"accessibilityTab_",value:function(e){var t=this;e.querySelectorAll('[tabindex="0"]').forEach((function(e){return e.setAttribute("tabindex",t.order)}))}},{key:"defaultCompareViz_",value:function(){if(this.controls[0].active&&this.options.defaultCompareViz){var e=this.options.defaultCompareViz;this.options.modeViz=e}}},{key:"deactivate",value:function(){this.controls.forEach((function(e){e.control&&e.control.destroy()})),this.order=null,this.isDraggable_=null,this.options=null,this.defaultCompareMode=null,this.mirrorpanelParams=null,this.lyrcompareParams=null,this.transparencyParams=null,this.html=null,this.map_=null,this.controls=null}},{key:"removeLayers_",value:function(){var e=this;this.layersPlugin.forEach((function(t){var r=I(t),a=e.map_.getLayers().filter((function(e){return e.name===r}));e.map_.removeLayers(a)}))}},{key:"defaultCompareMode_",value:function(){var e=this;if(this.options.defaultCompareMode&&"none"!==this.options.defaultCompareMode){var t={mirrorpanelParams:"mirrorpanel",lyrcompareParams:"lyrcompare",transparecyParams:"transparency"};this.controls.forEach((function(r){var a=r;a.active=t[e.options.defaultCompareMode]===a.id&&!a.active})),this.eventActive_()}}}])&&ut(r.prototype,a),n&&ut(r,n),Object.defineProperty(r,"prototype",{writable:!1}),t}();function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function St(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gt(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,_t(a.key),a)}}function _t(e){var t=function(e,t){if("object"!=bt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=bt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bt(t)?t:String(t)}function Lt(e,t,r){return t=Mt(t),function(e,t){if(t&&("object"===bt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],Mt(e).constructor):t.apply(e,r))}function Mt(e){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ct(e,t){return(Ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var wt=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return St(this,t),(e=Lt(this,t)).map_=null,e.controls_=[],e.name="comparators",e.options=r,e.position_=r.position||"TL",e.collapsed=!!M.utils.isUndefined(r.collapsed)||r.collapsed,e.collapsible=!!M.utils.isUndefined(r.collapsible)||r.collapsible,e.tooltip_=r.tooltip||g("tooltip"),e.isDraggable=!M.utils.isUndefined(r.isDraggable)&&r.isDraggable,e.order=r.order>=-1?r.order:null,e}var r,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ct(e,t)}(t,M.Plugin),r=t,o=[{key:"getJSONTranslations",value:function(e){return"en"===e||"es"===e?"en"===e?f:h:M.language.getTranslation(e).comparators}}],(a=[{key:"addTo",value:function(e){this.options.listLayers=this.options.listLayers||[],this.options.listLayers=this.options.listLayers.filter((function(e){return"string"==typeof e?!e.includes("GenericRaster")||!e.includes("GenericVector"):"GenericRaster"!==e.type||"GenericVector"!==e.type})),this.controls_.push(new vt(this.isDraggable,this.order,this.options,e)),this.map_=e,this.panel_=new M.ui.Panel("panelComparators",{collapsible:this.collapsible,collapsed:this.collapsed,position:M.ui.position[this.position_],className:"m-plugin-comparators",tooltip:this.tooltip_,collapsedButtonClass:"comparators-icon-zoom-mapa",order:this.order}),this.panel_.addControls(this.controls_),e.addPanels(this.panel_)}},{key:"getAPIRest",value:function(){return"".concat(this.name,"=").concat(this.position_,"*").concat(this.collapsed,"*").concat(this.collapsible,"*").concat(this.tooltip_,"*").concat(this.isDraggableE,"*").concat(this.options.listLayers,"*").concat(this.options.defaultCompareMode,"*").concat(this.options.enabledKeyFunctions,"*").concat(!!this.options.transparencyParams,"*").concat(!!this.options.lyrcompareParams,"*").concat(!!this.options.mirrorpanelParams)}},{key:"getAPIRestBase64",value:function(){return"".concat(this.name,"=base64=").concat(M.utils.encodeBase64(this.options))}},{key:"destroy",value:function(){this.controls_[0].deactivate(),this.controls_[0].controls=[],this.map_.removeControls(this.controls_),this.map_=null,this.panel_=null,this.name=null,this.options=null,this.position_=null,this.collapsed=null,this.collapsible=null,this.tooltip_=null,this.isDraggable=null,this.order=null}},{key:"equals",value:function(e){return e instanceof t}}])&&gt(r.prototype,a),o&&gt(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}();window.M.plugin||(window.M.plugin={}),window.M.control||(window.M.control={}),window.M.impl||(window.M.impl={}),window.M.impl.control||(window.M.impl.control={}),window.M.plugin.Comparators=wt,window.M.control.ComparatorsControl=vt,window.M.control.LyrCompareControl=De,window.M.control.MirrorpanelControl=te,window.M.control.TransparencyControl=ot,window.M.impl.control.ComparatorsControl=m,window.M.impl.control.Lyrcomparecontrol=Se,window.M.impl.control.LyrcompareInteraction=ue,window.M.impl.control.CompareMirrorpanel=D,window.M.impl.control.TransparencyControl=$e,window.M.impl.control.TransparentInteraction=Ne}]);
//# sourceMappingURL=comparators-1.0.0.ol.min.js.map