!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=5)}([function(e){e.exports=JSON.parse('{"exception":{"formatMRE":"No value specified for the bbox or zoom and center parameters.","parameterizationDeprecated":"Warning M.plugin.selectionzoom: The parameter definition set in the plugin has been deprecated. Review the new definition: https://github.com/IGN-CNIG/API-CNIG/tree/master/api-ign-js/src/plugins/selectionzoom","formatBBoxAndZoom":"No value specified for the bbox or zoom parameters."},"tooltip":"Default views"}')},function(e){e.exports=JSON.parse('{"exception":{"formatMRE":"No se ha especificado ningún valor para los parámetros bbox o zoom y centro.","parameterizationDeprecated":"Advertencia M.plugin.selectionzoom: la definición de parámetros establecidas en el plugin ha quedado obsoleta. Revise la nueva definición: https://github.com/IGN-CNIG/API-CNIG/tree/master/api-ign-js/src/plugins/selectionzoom","formatBBoxAndZoom":"No se ha especificado ningún valor para los parámetros bbox o zoom."},"tooltip":"Vistas predefinidas"}')},function(e){e.exports=JSON.parse('{"url":{"name":"selectionzoom","separator":"*"},"constructor":"M.plugin.SelectionZoom","parameters":[{"type":"object","properties":[{"type":"simple","name":"position","position":0,"possibleValues":["TL","TR","BR","BL"]},{"type":"boolean","name":"collapsible","position":1},{"type":"boolean","name":"collapsed","position":2},{"type":"simple","name":"ids","position":3},{"type":"simple","name":"titles","position":4},{"type":"simple","name":"previews","position":5},{"type":"simple","name":"bboxs","position":6},{"type":"simple","name":"zooms","position":7}]}],"files":{"ol":{"scripts":["selectionzoom.ol.min.js"],"styles":["selectionzoom.ol.min.css"]}},"metadata":{"name":"selectionzoom","description":"Select geographic options to zoom","text":"It shows different geographic options to zoom on the base layer.","version":"1.1.0","date":"3rd September 2019","author":"CNIG","org":"CNIG","tags":"mapea,plugin","icon":"./facade/assets/icons/icons.svg"}}')},function(e,t){e.exports='<div aria-label="Plugin Selection Zoom" role="menuitem"  id="div-contenedor" class="m-control m-container m-selectionzoom">\n    <div role="tab" tabindex="0" id="m-selectionzoom-titulo">{{translations.headertitle}}</div>\n    <div id="m-selectionzoom-previews">\n        {{#each layers}}    \n            <div aria-label="{{this.title}}" tabindex="0" role="tab" id="m-selectionzoom-lyr-{{this.id}}" title="{{this.title}}">\n                <img aria-hidden="true" src="{{this.preview}}" alt="{{this.title}}" height="100px" width="100px" />\n                <span aria-hidden="true">{{this.title}}</span>\n            </div>\n        {{/each}}\n        \x3c!-- <button class="m-selectionzoom-unique-btn" id="m-selectionzoom-unique-btn" title="Selección de capa de fondo"></button> --\x3e\n    </div>\n</div>'},function(e,t,o){},function(e,t,o){"use strict";o.r(t);o(4);var n=o(2),r=o(3),i=o.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(r=n.key,i=void 0,i=function(e,t){if("object"!==a(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===a(i)?i:String(i)),n)}var r,i}function s(){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,o){var n=u(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(arguments.length<3?e:o):r.value}}).apply(this,arguments)}function u(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=y(e);if(t){var r=y(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return m(this,o)}}function m(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(i,M.impl.Control);var t,o,n,r=f(i);function i(){return c(this,i),r.apply(this,arguments)}return t=i,(o=[{key:"addTo",value:function(e,t){var o=this;e.getMapImpl().getInteractions().forEach((function(e){e instanceof ol.interaction.DoubleClickZoom&&(o.dblClickInteraction_=e)})),s(y(i.prototype),"addTo",this).call(this,e,t)}},{key:"activateClick",value:function(e){this.dblClickInteraction_.setActive(!1),e.getMapImpl().on("dblclick",(function(t){var o=new CustomEvent("mapclicked",{detail:t.coordinate,bubbles:!0});e.getContainer().dispatchEvent(o)}))}},{key:"deactivateClick",value:function(e){this.dblClickInteraction_.setActive(!0),e.getMapImpl().removeEventListener("dblclick")}},{key:"transform",value:function(e,t,o){return ol.proj.transform(e,t,o)}}])&&l(t.prototype,o),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(),b=o(0),h=o(1),v={en:b,es:h},g=function(){var e="es";return"function"==typeof M.language.getLang&&(e=M.language.getLang()),e},w=function(e){return"es"===e||"en"===e?v[e]:M.language.getTranslation(e).selectionzoom},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g(),o=w(t),n="";return M.utils.isNullOrEmpty(o)?console.warn("The translation '".concat(t,"' has not been defined.")):n=e.split(".").reduce((function(e,t){return e[t]}),o),n};function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(r=n.key,i=void 0,i=function(e,t){if("object"!==x(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===x(i)?i:String(i)),n)}var r,i}function z(e,t){return(z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=P(e);if(t){var r=P(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return j(this,o)}}function j(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=null,k=null,R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}(a,M.Control);var t,o,n,r=_(a);function a(e,t,o,n,i,c,l,s,u){var p;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var f=new d;p=r.call(this,f,"SelectionZoom"),u||console.warn(O("exception.parameterizationDeprecated")),p.layers=[];var m=t.split(","),y=o.split(","),b=n.split(","),h=[];if(M.utils.isArray(i))i.forEach((function(e,t){h[t]=e.split(/[ ,]+/)}));else{var v=0;i.split(",").forEach((function(e,t){t%4==0&&t>0&&(h[v+=1]=[]),t%4==0&&0===t&&(h[v]=[]),h[v].push(e.trim())}))}var g=c.split(","),w=[];return M.utils.isArray(l)&&l.forEach((function(e,t){w[t]=e.split(/[ ,]+/)})),m.forEach((function(e,t){var o={id:m[t],title:y[t],preview:b[t],bbox:h[t],zoom:g[t],center:w[t],isnewparam:u};p.layers.push(o)})),p.flattedLayers=p.layers.reduce((function(e,t){return e.concat(t.layers)}),[]),p.activeLayer=-1,p.order=s,p}return t=a,(o=[{key:"createView",value:function(e){var t=this;return this.map=e,new Promise((function(e,o){var n=M.template.compileSync(i.a,{vars:{layers:t.layers,translations:{headertitle:O("tooltip")}}});t.html=n,t.accessibilityTab(n),t.listen(n),e(n)}))}},{key:"showBaseLayer",value:function(e,t,o){this.handlerClickDesktop.bind(this)(e,t,o)}},{key:"handlerClickDesktop",value:function(e,t,o){var n=e.currentTarget.parentElement.querySelector("#m-selectionzoom-lyr-".concat(t.id)).classList.contains("activeSelectionZoomDiv");e.currentTarget.parentElement.querySelectorAll('div[id^="m-selectionzoom-lyr-"]').forEach((function(e){e.classList.contains("activeSelectionZoomDiv")&&e.classList.remove("activeSelectionZoomDiv")}));var r=this.map.getBbox();null===E&&(E=[r.x.min,r.x.max,r.y.min,r.y.max],k=this.map.getZoom());var i={x:{},y:{}};if(n)i.x.min=E[0],i.x.max=E[1],i.y.min=E[2],i.y.max=E[3],this.map.setBbox(i),this.map.setZoom(k);else if(this.activeLayer=o,r&&e.currentTarget.parentElement.querySelector("#m-selectionzoom-lyr-".concat(t.id)).classList.add("activeSelectionZoomDiv"),M.utils.isNullOrEmpty(t.bbox))!t.isnewparam||M.utils.isNullOrEmpty(t.zoom)||M.utils.isNullOrEmpty(t.center)?t.isnewparam?M.dialog.error(O("exception.formatMRE")):M.dialog.error(O("exception.formatBBoxAndZoom")):(this.map.setZoom(t.zoom),this.map.setCenter(t.center));else{var a=[t.bbox[0],t.bbox[3]],c=[];c=t.isnewparam?[t.bbox[2],t.bbox[1]]:[t.bbox[1],t.bbox[2]],c=this.getImpl().transform(c,"EPSG:3857",this.map_.getProjection().code),a=this.getImpl().transform(a,"EPSG:3857",this.map_.getProjection().code),i.x.min=a[0],i.x.max=c[0],i.y.min=c[1],i.y.max=a[1],this.map.setBbox(i),t.isnewparam||this.map.setZoom(t.zoom)}this.fire("selectionzoom:activeChanges",[{activeLayerId:this.activeLayer}]),document.querySelector(".m-panel.m-plugin-selectionzoom.opened > button.m-panel-btn").click()}},{key:"removeLayers",value:function(){this.map.removeLayers(this.flattedLayers),this.map.removeLayers(this.map.getBaseLayers())}},{key:"listen",value:function(e){var t=this;e.querySelectorAll('div[id^="m-selectionzoom-lyr-"]').forEach((function(e,o){return e.addEventListener("click",(function(e){return t.showBaseLayer(e,t.layers[o],o)}))})),e.querySelectorAll('div[id^="m-selectionzoom-lyr-"]').forEach((function(e,o){return e.addEventListener("keydown",(function(e){"Enter"===e.key&&t.showBaseLayer(e,t.layers[o],o)}))}))}},{key:"equals",value:function(e){return e instanceof a}},{key:"accessibilityTab",value:function(e){var t=this;e.querySelectorAll('[tabindex="0"]').forEach((function(e){return e.setAttribute("tabindex",t.order)}))}}])&&S(t.prototype,o),n&&S(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}();function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(r=n.key,i=void 0,i=function(e,t){if("object"!==T(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===T(i)?i:String(i)),n)}var r,i}function B(e,t){return(B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Z(e);if(t){var r=Z(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return N(this,o)}}function N(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}(a,M.Plugin);var t,o,r,i=I(a);function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C(this,a),(e=i.call(this)).map_=null,e.controls_=[],e.name="selectionzoom",e.options=t,e.position_=t.position||"TL","options"in t?(e.newparameterization=!0,e.layerOpts=t.options,e.ids=e.layerOpts.map((function(e){return e.id})).toString(),e.titles=e.layerOpts.map((function(e){return e.title})).toString(),e.previews=e.layerOpts.map((function(e){return e.preview})).toString(),e.bboxs=[],e.zooms=[],e.centers=[],e.layerOpts.forEach((function(t,o){"bbox"in t?(e.bboxs[o]=t.bbox,e.zooms[o]="",e.centers[o]=""):"zoom"in t&&"center"in t?(e.bboxs[o]="",e.zooms[o]=t.zoom,e.centers[o]=t.center):(e.bboxs[o]="",e.zooms[o]="",e.centers[o]="")})),e.zooms=e.zooms.toString()):(e.newparameterization=!1,e.ids=t.ids||"",e.titles=t.titles||"",e.previews=t.previews||"",e.zooms=t.zooms||"",e.bboxs=t.bboxs||""),e.collapsed=void 0===t.collapsed||t.collapsed,e.collapsible=void 0===t.collapsible||t.collapsible,e.metadata_=n.metadata,e.tooltip_=t.tooltip||O("tooltip"),e.order=t.order>=-1?t.order:null,e}return t=a,r=[{key:"getJSONTranslations",value:function(e){return"en"===e||"es"===e?"en"===e?b:h:M.language.getTranslation(e).selectionzoom}}],(o=[{key:"addTo",value:function(e){this.controls_.push(new R(e,this.ids,this.titles,this.previews,this.bboxs,this.zooms,this.centers||"",this.order,this.newparameterization)),this.map_=e,this.panel_=new M.ui.Panel("panelSelectionZoom",{collapsible:this.collapsible,collapsed:this.collapsed,position:M.ui.position[this.position_],className:"m-plugin-selectionzoom",tooltip:this.tooltip_,collapsedButtonClass:"g-selectionzoom-selezoom",order:this.order}),this.panel_.addControls(this.controls_),e.addPanels(this.panel_)}},{key:"getAPIRest",value:function(){return"".concat(this.name,"=").concat(this.position_,"*").concat(this.collapsible,"*").concat(this.collapsed,"*\n    ").concat(this.ids,"*").concat(this.titles,"*").concat(this.previews,"*").concat(this.bboxs,"*").concat(this.zooms)}},{key:"getAPIRestBase64",value:function(){return"".concat(this.name,"=base64=").concat(M.utils.encodeBase64(this.options))}},{key:"turnLayerOptsIntoUrl",value:function(){var e=this,t="",o="",n="",r="",i="";return this.layerOpts.forEach((function(a){0!==e.layerOpts.indexOf(a)&&(t+=",",o+=",",n+=",",r+=",",i+=","),t+=a.ids,o+=a.titles,n+=a.previews,r+=a.zooms,i+=a.zooms})),"".concat(t,"s*").concat(o,"*").concat(n,"*").concat(r,"*").concat(i)}},{key:"destroy",value:function(){this.map_.removeControls(this.controls_),this.map_=null,this.control_=null,this.controls_=null,this.panel_=null,this.name=null}},{key:"equals",value:function(e){return e instanceof a}},{key:"getMetadata",value:function(){return this.metadata_}}])&&L(t.prototype,o),r&&L(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}();window.M.plugin||(window.M.plugin={}),window.M.control||(window.M.control={}),window.M.impl||(window.M.impl={}),window.M.impl.control||(window.M.impl.control={}),window.M.plugin.SelectionZoom=A,window.M.control.SelectionZoomControl=R,window.M.impl.control.SelectionZoomControl=d}]);
//# sourceMappingURL=selectionzoom-1.1.0.ol.min.js.map