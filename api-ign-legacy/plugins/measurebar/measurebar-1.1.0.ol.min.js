!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8)}([function(e){e.exports=JSON.parse('{"exception":{"impl_length":"The implementation used cannot create MeasureLength.","impl_clear":"The implementation used cannot create MeasureClear.","impl_area":"The implementation used cannot create MeasureArea"},"text":{"tooltip":"Measurement tools","keep_drawing":"Click to continue drawing the line","click_draw":"Click to start drawing","keep_drawing_area":"Click to continue drawing the area","measure_area":"Measure area","delete":"Remove measures","measure":"Measuring distances"}}')},function(e){e.exports=JSON.parse('{"exception":{"impl_length":"La implementación usada no puede crear controles MeasureLength.","impl_clear":"La implementación usada no puede crear controles MeasureClear.","impl_area":"La implementación usada no puede crear controles MeasureArea"},"text":{"tooltip":"Herramientas de medición","keep_drawing":"Click para continuar dibujando la línea","click_draw":"Click para empezar a dibujar","keep_drawing_area":"Click para continuar dibujando el área","measure_area":"Medir área","delete":"Borrar medidas","measure":"Medir distancias"}}')},function(e,t){e.exports='<div class="m-measure-tooltip pointer"></div>'},function(e,t){e.exports='<div class="m-measure-tooltip measure">Area: {{area}}</div>'},function(e,t){e.exports='<div class="m-control m-measurearea-container">\n    <button type="button" tabindex="{{order}}" id="measurebar-area-btn" class="measurebar-medir-area" title="{{translations.measure_area}}"></button>\n</div>\n'},function(e,t){e.exports='<div class="m-control m-measurelength-container">\n    <button type="button" tabindex="{{order}}" id="measurebar-length-btn" class="measurebar-medir-linea" title="{{translations.measure}}"></button>\n</div>\n'},function(e,t){e.exports='<div class="m-control m-measureclear-container">\n    <button type="button" tabindex="{{order}}" id="measurebar-clear-btn" class="g-cartografia-papelera" title="{{translations.delete}}"></button>\n</div>\n'},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var n=r(0),o=r(1),i={en:n,es:o},a=function(){var e="es";return"function"==typeof M.language.getLang&&(e=M.language.getLang()),e},u=function(e){return"es"===e||"en"===e?i[e]:M.language.getTranslation(e).measurebar},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a(),r=u(t),n="";return M.utils.isNullOrEmpty(r)?console.warn("The translation '".concat(t,"' has not been defined.")):n=e.split(".").reduce((function(e,t){return e[t]}),r),n};function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===l(i)?i:String(i)),n)}var o,i}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return y(this,r)}}function y(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(i,M.Control);var t,r,n,o=p(i);function i(e,t,r,n){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(a=o.call(this,e,r)).template_=t,a.order=n,a}return t=i,(r=[{key:"createView",value:function(e){return M.template.compileSync(this.template_,{jsonp:!0,vars:{translations:c("text"),order:this.order}})}},{key:"getActivationButton",value:function(e){return e.querySelector("button")}},{key:"equals",value:function(e){var t=!1;return e instanceof i&&(t=this.name===e.name),t}},{key:"destroy",value:function(){this.getImpl().destroy(),this.template_=null,this.impl=null}}])&&s(t.prototype,r),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}();m.NAME="measurebar",m.POINTER_TOOLTIP_TEMPLATE="measure_pointer_tooltip.html",m.MEASURE_TOOLTIP_TEMPLATE="measure_tooltip.html",m.HELP_MESSAGE=c("text.click_draw");var b=r(2),h=r.n(b),v=r(3),_=r.n(v);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==g(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===g(i)?i:String(i)),n)}var o,i}function O(){return(O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=j(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function j(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}function P(e,t){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=T(e);if(t){var o=T(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return E(this,r)}}function E(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(i,M.impl.Control);var t,r,n,o=S(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).type_=e,t.layer_=t.createLayer_(),t.draw_=t.createIteractionDraw_(),t.helpTooltip_=null,t.measureTooltip_=null,t.facadeMap_=null,t.currentFeature_=null,t.tooltipCoord_=null,t.overlays_=[],t}return t=i,(r=[{key:"addTo",value:function(e,t){this.facadeMap_=e,e.getMapImpl().addLayer(this.layer_),O(T(i.prototype),"addTo",this).call(this,e,t),this.createHelpTooltip_(),this.createMeasureTooltip_()}},{key:"activate",value:function(){this.invokeEscKey(),this.createHelpTooltip_(),this.facadeMap_.getMapImpl().on("pointermove",this.pointerMoveHandler_.bind(this)),this.facadeMap_.getMapImpl().addInteraction(this.draw_),this.active=!0,this.createMeasureTooltip_(),document.body.style.cursor="crosshair",document.addEventListener("keyup",this.checkEscKey.bind(this))}},{key:"checkEscKey",value:function(e){"Escape"===e.key&&(document.querySelectorAll(".m-panel.m-panel-measurebar .m-panel-controls div.activated > button").forEach((function(e){e.click()})),document.removeEventListener("keyup",this.checkEscKey))}},{key:"invokeEscKey",value:function(){try{document.dispatchEvent(new window.KeyboardEvent("keyup",{key:"Escape",keyCode:27,code:"",which:69,shiftKey:!1,ctrlKey:!1,metaKey:!1}))}catch(e){console.error(e)}}},{key:"deactivate",value:function(){document.body.style.cursor="default",this.facadeMap_.getMapImpl().un("pointermove",this.pointerMoveHandler_.bind(this)),this.facadeMap_.getMapImpl().removeInteraction(this.draw_),M.utils.isNullOrEmpty(this.helpTooltip_)||this.facadeMap_.getMapImpl().removeOverlay(this.helpTooltip_),M.utils.isNullOrEmpty(this.measureTooltip_)||this.facadeMap_.getMapImpl().removeOverlay(this.measureTooltip_),this.active=!1}},{key:"createLayer_",value:function(){return new ol.layer.Vector({source:new ol.source.Vector({}),style:new ol.style.Style({fill:new ol.style.Fill({color:"rgba(51, 124, 235, 0.2)"}),stroke:new ol.style.Stroke({color:"#337ceb",width:2}),image:new ol.style.Circle({radius:7,fill:new ol.style.Fill({color:"#337ceb"})})}),zIndex:9999999999999})}},{key:"createIteractionDraw_",value:function(){var e=new ol.interaction.Draw({source:this.layer_.getSource(),type:this.type_,style:new ol.style.Style({fill:new ol.style.Fill({color:"rgba(255, 255, 255, 0.5)"}),stroke:new ol.style.Stroke({color:"#b54d01",lineDash:[10,10],width:2}),image:new ol.style.Circle({radius:5,stroke:new ol.style.Stroke({color:"#b54d01"}),fill:new ol.style.Fill({color:"rgba(255, 255, 255, 0.5)"})})})});return e.on("drawstart",this.onDrawStart_.bind(this)),e.on("drawend",this.onDrawEnd_.bind(this)),e}},{key:"createHelpTooltip_",value:function(){var e=M.template.compileSync(h.a,{jsonp:!0,vars:{translations:c("text")}});this.helpTooltip_=new ol.Overlay({element:e,offset:[15,0],positioning:"center-left"}),this.facadeMap_.getMapImpl().addOverlay(this.helpTooltip_)}},{key:"createMeasureTooltip_",value:function(){var e=M.template.compileSync(_.a,{jsonp:!0,vars:{translations:c("text")}});M.utils.isNullOrEmpty(this.measureTooltip_)||this.overlays_.push(this.measureTooltip_),this.measureTooltip_=new ol.Overlay({element:e,offset:[0,-15],positioning:"bottom-center"}),this.facadeMap_.getMapImpl().addOverlay(this.measureTooltip_)}},{key:"onDrawStart_",value:function(e){this.currentFeature_=e.feature,this.tooltipCoord_=e.coordinate,this.currentFeature_.getGeometry().on("change",this.onGeometryChange_.bind(this))}},{key:"onDrawEnd_",value:function(e){this.currentFeature_.getGeometry().un("change",this.onGeometryChange_),this.currentFeature_=null,this.measureTooltip_.getElement().classList.add("static"),this.measureTooltip_.setOffset([0,-7]),this.createMeasureTooltip_()}},{key:"pointerMoveHandler_",value:function(e){if(!e.dragging){var t=this.helpMsg_;this.currentFeature_&&(t=this.helpMsgContinue_),M.utils.isNullOrEmpty(this.helpTooltip_)||(this.helpTooltip_.getElement().innerHTML=t,this.helpTooltip_.setPosition(e.coordinate))}}},{key:"onGeometryChange_",value:function(e){var t=e.target,r=this.formatGeometry(t),n=this.getTooltipCoordinate(t);M.utils.isNullOrEmpty(this.measureTooltip_)||(this.measureTooltip_.getElement().innerHTML=r,this.measureTooltip_.setPosition(n))}},{key:"clear",value:function(){var e=this;M.utils.isNullOrEmpty(this.layer_)||this.layer_.getSource().clear(),this.overlays_.forEach((function(t){e.facadeMap_.getMapImpl().removeOverlay(t)}),this),this.overlays_.length=0}},{key:"destroy",value:function(){this.deactivate(),this.element.remove(),this.facadeMap_.removeControls(this),this.facadeMap_=null,this.overlays_.length=0}}])&&w(t.prototype,r),n&&w(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}();function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==R(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===R(i)?i:String(i)),n)}var o,i}function x(){return(x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=L(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function L(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=I(e)););return e}function N(e,t){return(N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=I(e);if(t){var o=I(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return B(this,r)}}function B(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}(i,e);var t,r,n,o=A(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,"Polygon")).helpMsg_=m.HELP_MESSAGE,e.helpMsgContinue_=$,document.addEventListener("keydown",(function(e){if("Escape"===e.key){var t=document.querySelector(".m-panel.m-panel-measurebar.opened");null!==t&&t.querySelector("button.m-panel-btn").click()}})),e}return t=i,(r=[{key:"formatGeometry",value:function(e){var t,r,n=this.facadeMap_.getProjection();return(t=ol.sphere.getArea(e,{projection:n.code}))<=1e4?r="".concat(this.formatNumber(Math.round(100*t)/100)," m<sup>2</sup>"):t>1e4&&t<=1e6?r="".concat(this.formatNumber(Math.round(t/1e4*1e4)/1e4)," ha"):t>1e6&&(r="".concat(this.formatNumber(Math.round(t/1e6*1e4)/1e4)," km<sup>2</sup>")),r}},{key:"getTooltipCoordinate",value:function(e){return e.getInteriorPoint().getCoordinates()}},{key:"activate",value:function(){var e=this.facadeMap_.getControls().filter((function(e){return e instanceof pe}))[0];e&&e.deactivate(),x(I(i.prototype),"activate",this).call(this),document.querySelector(".m-control.m-measurearea-container").classList.add("activated")}},{key:"formatNumber",value:function(e){return"".concat(e).replace(/\d(?=(\d{3})+\.)/g,"$&*").split(".").join(",").split("*").join(".")}}])&&C(t.prototype,r),n&&C(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(k),G=r(4),q=r.n(G);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==H(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==H(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===H(i)?i:String(i)),n)}var o,i}function K(e,t){return(K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=J(e);if(t){var o=J(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return V(this,r)}}function V(e,t){if(t&&("object"===H(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K(e,t)}(i,e);var t,r,n,o=U(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var r=new D;return t=o.call(this,r,q.a,i.NAME,e),M.utils.isUndefined(D)&&M.Exception(c("exception.impl_area")),t}return t=i,(r=[{key:"equals",value:function(e){var t=!1;return e instanceof i&&(t=this.name===e.name),t}}])&&F(t.prototype,r),n&&F(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(m);z.NAME="measurearea",z.TEMPLATE="measurearea.html";var $=c("text.keep_drawing_area");function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==Q(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Q(i)?i:String(i)),n)}var o,i}function X(){return(X="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Y(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function Y(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=re(e)););return e}function Z(e,t){return(Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=re(e);if(t){var o=re(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return te(this,r)}}function te(e,t){if(t&&("object"===Q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}(i,e);var t,r,n,o=ee(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,"LineString")).helpMsg_=m.HELP_MESSAGE,e.helpMsgContinue_=ye,e}return t=i,(r=[{key:"formatGeometry",value:function(e){var t=null,r=this.facadeMap_.getProjection().code,n=this.facadeMap_.getProjection().units;if("EPSG:3857"===r)t=Math.round(100*ol.sphere.getLength(e))/100;else if("d"===n)for(var o=e.getCoordinates(),i=0,a=o.length-1;i<a;i+=1)t+=ol.sphere.getDistance(ol.proj.transform(o[i],r,"EPSG:4326"),ol.proj.transform(o[i+1],r,"EPSG:4326"));else t=Math.round(100*e.getLength())/100;return t>1e3?"".concat(this.formatNumber(Math.round(t/1e3*100)/100)," km"):"".concat(this.formatNumber(Math.round(100*t)/100)," m")}},{key:"getTooltipCoordinate",value:function(e){return e.getLastCoordinate()}},{key:"activate",value:function(){var e=this.facadeMap_.getControls().filter((function(e){return e instanceof z}))[0];e&&e.deactivate(),X(re(i.prototype),"activate",this).call(this),document.querySelector(".m-control.m-measurelength-container").classList.add("activated")}},{key:"formatNumber",value:function(e){return"".concat(e).replace(/\d(?=(\d{3})+\.)/g,"$&*").split(".").join(",").split("*").join(".")}}])&&W(t.prototype,r),n&&W(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(k),oe=r(5),ie=r.n(oe);function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==ae(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ae(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===ae(i)?i:String(i)),n)}var o,i}function ce(e,t){return(ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=fe(e);if(t){var o=fe(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return se(this,r)}}function se(e,t){if(t&&("object"===ae(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ce(e,t)}(i,e);var t,r,n,o=le(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var r=new ne;return t=o.call(this,r,ie.a,i.NAME,e),M.utils.isUndefined(ne)&&M.Exception(c("exception.impl_length")),t}return t=i,(r=[{key:"equals",value:function(e){var t=!1;return e instanceof i&&(t=this.name===e.name),t}}])&&ue(t.prototype,r),n&&ue(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(m);pe.NAME="measurelength",pe.TEMPLATE="measurelength.html";var ye=c("text.keep_drawing");function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==de(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==de(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===de(i)?i:String(i)),n)}var o,i}function be(e,t){return(be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=_e(e);if(t){var o=_e(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ve(this,r)}}function ve(e,t){if(t&&("object"===de(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&be(e,t)}(i,M.impl.Control);var t,r,n,o=he(i);function i(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this)).measureLengthControl_=e,r.facadeMap_=null,r.measureAreaControl_=t,r}return t=i,(r=[{key:"addTo",value:function(e,t){this.facadeMap_=e,t.querySelector("#measurebar-clear-btn").addEventListener("click",this.onClick.bind(this)),ol.control.Control.call(this,{element:t,target:null}),e.getMapImpl().addControl(this)}},{key:"onClick",value:function(){this.measureLengthControl_.clear(),this.measureAreaControl_.clear(),this.deactivateOtherBtns()}},{key:"deactivateOtherBtns",value:function(){var e=this.facadeMap_.getControls().filter((function(e){return e instanceof pe}))[0];e&&e.deactivate();var t=this.facadeMap_.getControls().filter((function(e){return e instanceof z}))[0];t&&t.deactivate()}},{key:"destroy",value:function(){this.element.remove(),this.facadeMap_.removeControls(this),this.facadeMap_=null}}])&&me(t.prototype,r),n&&me(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(),we=r(6),Oe=r.n(we);function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==je(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==je(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===je(i)?i:String(i)),n)}var o,i}function Me(e,t){return(Me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Te(e);if(t){var o=Te(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ee(this,r)}}function Ee(e,t){if(t&&("object"===je(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Me(e,t)}(i,M.Control);var t,r,n,o=Se(i);function i(e,t,r){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var a=new ge(e.getImpl(),t.getImpl());return n=o.call(this,a,i.NAME),M.utils.isUndefined(ge)&&M.Exception(c("exception.impl_clear")),n.order=r,n}return t=i,(r=[{key:"createView",value:function(e){return M.template.compileSync(Oe.a,{jsonp:!0,vars:{translations:c("text"),order:this.order}})}},{key:"equals",value:function(e){var t=!1;return e instanceof i&&(t=this.name===e.name),t}},{key:"destroy",value:function(){this.getImpl().destroy(),this.impl=null}}])&&Pe(t.prototype,r),n&&Pe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}();ke.NAME="measurebar",ke.TEMPLATE="measureclear.html";r(7);function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==Re(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Re(i)?i:String(i)),n)}var o,i}function Le(e,t){return(Le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Be(e);if(t){var o=Be(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ae(this,r)}}function Ae(e,t){if(t&&("object"===Re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Le(e,t)}(u,M.Plugin);var t,r,i,a=Ne(u);function u(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ce(this,u),(e=a.call(this)).map_=null,e.controls_=[],e.position_=t.position||"TL",e.measureLength_=null,e.measureArea_=null,e.measureClear_=null,e.order=t.order>=-1?t.order:null,e.collapsed_=t.collapsed,void 0===e.collapsed_&&(e.collapsed_=!0),e.collapsible_=t.collapsible,void 0===e.collapsible_&&(e.collapsible_=!0),e.tooltip_=t.tooltip||c("text.tooltip"),e.options=t,e}return t=u,i=[{key:"getJSONTranslations",value:function(e){return"en"===e||"es"===e?"en"===e?n:o:M.language.getTranslation(e).measurebar}}],(r=[{key:"addTo",value:function(e){this.map_=e,this.measureLength_=new pe(this.order),this.measureArea_=new z(this.order),this.measureClear_=new ke(this.measureLength_,this.measureArea_,this.order),this.controls_.push(this.measureLength_,this.measureArea_,this.measureClear_),this.panel_=new M.ui.Panel("MeasureBar",{collapsed:this.collapsed_,collapsible:this.collapsible_,tooltip:this.tooltip_,position:M.ui.position[this.position_],className:"m-panel-measurebar",collapsedButtonClass:"measurebar-regla",order:this.order}),this.panel_.addControls(this.controls_),this.map_.addPanels(this.panel_)}},{key:"name",get:function(){return"measurebar"}},{key:"getAPIRest",value:function(){return"".concat(this.name,"=").concat(this.position_,"*").concat(this.collapsed_,"*").concat(this.collapsible_,"*").concat(this.tooltip_)}},{key:"getAPIRestBase64",value:function(){return"".concat(this.name,"=base64=").concat(M.utils.encodeBase64(this.options))}},{key:"destroy",value:function(){this.map_.removeControls([this.measureLength_,this.measureArea_,this.measureClear_]),this.map_=null,this.measureLength_=null,this.measureArea_=null,this.measureClear_=null}},{key:"getControls",value:function(){var e=[];return e.push(this.measureArea_,this.measureClear_,this.measureLength_),e}},{key:"equals",value:function(e){return e instanceof u}}])&&xe(t.prototype,r),i&&xe(t,i),Object.defineProperty(t,"prototype",{writable:!1}),u}();window.M.plugin||(window.M.plugin={}),window.M.plugin.MeasureBar=Ie}]);
//# sourceMappingURL=measurebar-1.1.0.ol.min.js.map