!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=25)}([function(e,t,n){
/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */
e.exports=function(){"use strict";for(var e=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e<t?t:e>n?n:e},t=e,n={},a=0,i=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];a<i.length;a+=1){var o=i[a];n["[object "+o+"]"]=o.toLowerCase()}var s=function(e){return n[Object.prototype.toString.call(e)]||"object"},r=s,l=s,c=Math.PI,d={clip_rgb:function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var n=0;n<=3;n++)n<3?((e[n]<0||e[n]>255)&&(e._clipped=!0),e[n]=t(e[n],0,255)):3===n&&(e[n]=t(e[n],0,1));return e},limit:e,type:s,unpack:function(e,t){return void 0===t&&(t=null),e.length>=3?Array.prototype.slice.call(e):"object"==r(e[0])&&t?t.split("").filter((function(t){return void 0!==e[0][t]})).map((function(t){return e[0][t]})):e[0]},last:function(e){if(e.length<2)return null;var t=e.length-1;return"string"==l(e[t])?e[t].toLowerCase():null},PI:c,TWOPI:2*c,PITHIRD:c/3,DEG2RAD:c/180,RAD2DEG:180/c},u={format:{},autodetect:[]},p=d.last,f=d.clip_rgb,v=d.type,y=u,h=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=this;if("object"===v(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var a=p(e),i=!1;if(!a){i=!0,y.sorted||(y.autodetect=y.autodetect.sort((function(e,t){return t.p-e.p})),y.sorted=!0);for(var o=0,s=y.autodetect;o<s.length;o+=1){var r=s[o];if(a=r.test.apply(r,e))break}}if(!y.format[a])throw new Error("unknown format: "+e);var l=y.format[a].apply(null,i?e:e.slice(0,-1));n._rgb=f(l),3===n._rgb.length&&n._rgb.push(1)};h.prototype.toString=function(){return"function"==v(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var m=h,b=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(b.Color,[null].concat(e)))};b.Color=m,b.version="2.4.2";var g=b,k=d.unpack,w=Math.max,S=d.unpack,O=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=S(e,"cmyk"))[0],a=e[1],i=e[2],o=e[3],s=e.length>4?e[4]:1;return 1===o?[0,0,0,s]:[n>=1?0:255*(1-n)*(1-o),a>=1?0:255*(1-a)*(1-o),i>=1?0:255*(1-i)*(1-o),s]},_=g,x=m,P=u,L=d.unpack,q=d.type,E=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=k(e,"rgb"),a=n[0],i=n[1],o=n[2],s=1-w(a/=255,w(i/=255,o/=255)),r=s<1?1/(1-s):0,l=(1-a-s)*r,c=(1-i-s)*r,d=(1-o-s)*r;return[l,c,d,s]};x.prototype.cmyk=function(){return E(this._rgb)},_.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(x,[null].concat(e,["cmyk"])))},P.format.cmyk=O,P.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=L(e,"cmyk"),"array"===q(e)&&4===e.length)return"cmyk"}});var T=d.unpack,A=d.last,j=function(e){return Math.round(100*e)/100},C=d.unpack,M=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=C(e,"rgba"))[0],a=e[1],i=e[2];n/=255,a/=255,i/=255;var o,s,r=Math.min(n,a,i),l=Math.max(n,a,i),c=(l+r)/2;return l===r?(o=0,s=Number.NaN):o=c<.5?(l-r)/(l+r):(l-r)/(2-l-r),n==l?s=(a-i)/(l-r):a==l?s=2+(i-n)/(l-r):i==l&&(s=4+(n-a)/(l-r)),(s*=60)<0&&(s+=360),e.length>3&&void 0!==e[3]?[s,o,c,e[3]]:[s,o,c]},N=d.unpack,R=d.last,I=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=T(e,"hsla"),a=A(e)||"lsa";return n[0]=j(n[0]||0),n[1]=j(100*n[1])+"%",n[2]=j(100*n[2])+"%","hsla"===a||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,a="hsla"):n.length=3,a+"("+n.join(",")+")"},F=M,D=Math.round,B=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=N(e,"rgba"),a=R(e)||"rgb";return"hsl"==a.substr(0,3)?I(F(n),a):(n[0]=D(n[0]),n[1]=D(n[1]),n[2]=D(n[2]),("rgba"===a||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,a="rgba"),a+"("+n.slice(0,"rgb"===a?3:4).join(",")+")")},z=d.unpack,G=Math.round,V=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];var a,i,o,s=(t=z(t,"hsl"))[0],r=t[1],l=t[2];if(0===r)a=i=o=255*l;else{var c=[0,0,0],d=[0,0,0],u=l<.5?l*(1+r):l+r-l*r,p=2*l-u,f=s/360;c[0]=f+1/3,c[1]=f,c[2]=f-1/3;for(var v=0;v<3;v++)c[v]<0&&(c[v]+=1),c[v]>1&&(c[v]-=1),6*c[v]<1?d[v]=p+6*(u-p)*c[v]:2*c[v]<1?d[v]=u:3*c[v]<2?d[v]=p+(u-p)*(2/3-c[v])*6:d[v]=p;a=(e=[G(255*d[0]),G(255*d[1]),G(255*d[2])])[0],i=e[1],o=e[2]}return t.length>3?[a,i,o,t[3]]:[a,i,o,1]},U=V,Y=u,H=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,K=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,J=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,W=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,X=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,$=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Q=Math.round,Z=function(e){var t;if(e=e.toLowerCase().trim(),Y.format.named)try{return Y.format.named(e)}catch(e){}if(t=e.match(H)){for(var n=t.slice(1,4),a=0;a<3;a++)n[a]=+n[a];return n[3]=1,n}if(t=e.match(K)){for(var i=t.slice(1,5),o=0;o<4;o++)i[o]=+i[o];return i}if(t=e.match(J)){for(var s=t.slice(1,4),r=0;r<3;r++)s[r]=Q(2.55*s[r]);return s[3]=1,s}if(t=e.match(W)){for(var l=t.slice(1,5),c=0;c<3;c++)l[c]=Q(2.55*l[c]);return l[3]=+l[3],l}if(t=e.match(X)){var d=t.slice(1,4);d[1]*=.01,d[2]*=.01;var u=U(d);return u[3]=1,u}if(t=e.match($)){var p=t.slice(1,4);p[1]*=.01,p[2]*=.01;var f=U(p);return f[3]=+t[4],f}};Z.test=function(e){return H.test(e)||K.test(e)||J.test(e)||W.test(e)||X.test(e)||$.test(e)};var ee=g,te=m,ne=u,ae=d.type,ie=B,oe=Z;te.prototype.css=function(e){return ie(this._rgb,e)},ee.css=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(te,[null].concat(e,["css"])))},ne.format.css=oe,ne.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===ae(e)&&oe.test(e))return"css"}});var se=m,re=g,le=d.unpack;u.format.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=le(e,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},re.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(se,[null].concat(e,["gl"])))},se.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};var ce=d.unpack,de=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,a=ce(e,"rgb"),i=a[0],o=a[1],s=a[2],r=Math.min(i,o,s),l=Math.max(i,o,s),c=l-r,d=100*c/255,u=r/(255-c)*100;return 0===c?n=Number.NaN:(i===l&&(n=(o-s)/c),o===l&&(n=2+(s-i)/c),s===l&&(n=4+(i-o)/c),(n*=60)<0&&(n+=360)),[n,d,u]},ue=d.unpack,pe=Math.floor,fe=function(){for(var e,t,n,a,i,o,s=[],r=arguments.length;r--;)s[r]=arguments[r];var l,c,d,u=(s=ue(s,"hcg"))[0],p=s[1],f=s[2];f*=255;var v=255*p;if(0===p)l=c=d=f;else{360===u&&(u=0),u>360&&(u-=360),u<0&&(u+=360);var y=pe(u/=60),h=u-y,m=f*(1-p),b=m+v*(1-h),g=m+v*h,k=m+v;switch(y){case 0:l=(e=[k,g,m])[0],c=e[1],d=e[2];break;case 1:l=(t=[b,k,m])[0],c=t[1],d=t[2];break;case 2:l=(n=[m,k,g])[0],c=n[1],d=n[2];break;case 3:l=(a=[m,b,k])[0],c=a[1],d=a[2];break;case 4:l=(i=[g,m,k])[0],c=i[1],d=i[2];break;case 5:l=(o=[k,m,b])[0],c=o[1],d=o[2]}}return[l,c,d,s.length>3?s[3]:1]},ve=d.unpack,ye=d.type,he=g,me=m,be=u,ge=de;me.prototype.hcg=function(){return ge(this._rgb)},he.hcg=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(me,[null].concat(e,["hcg"])))},be.format.hcg=fe,be.autodetect.push({p:1,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=ve(e,"hcg"),"array"===ye(e)&&3===e.length)return"hcg"}});var ke=d.unpack,we=d.last,Se=Math.round,Oe=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=ke(e,"rgba"),a=n[0],i=n[1],o=n[2],s=n[3],r=we(e)||"auto";void 0===s&&(s=1),"auto"===r&&(r=s<1?"rgba":"rgb");var l=(a=Se(a))<<16|(i=Se(i))<<8|(o=Se(o)),c="000000"+l.toString(16);c=c.substr(c.length-6);var d="0"+Se(255*s).toString(16);switch(d=d.substr(d.length-2),r.toLowerCase()){case"rgba":return"#"+c+d;case"argb":return"#"+d+c;default:return"#"+c}},_e=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,xe=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Pe=function(e){if(e.match(_e)){4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e,16);return[t>>16,t>>8&255,255&t,1]}if(e.match(xe)){5!==e.length&&9!==e.length||(e=e.substr(1)),4===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);var n=parseInt(e,16);return[n>>24&255,n>>16&255,n>>8&255,Math.round((255&n)/255*100)/100]}throw new Error("unknown hex color: "+e)},Le=g,qe=m,Ee=d.type,Te=u,Ae=Oe;qe.prototype.hex=function(e){return Ae(this._rgb,e)},Le.hex=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(qe,[null].concat(e,["hex"])))},Te.format.hex=Pe,Te.autodetect.push({p:4,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===Ee(e)&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var je=d.unpack,Ce=d.TWOPI,Me=Math.min,Ne=Math.sqrt,Re=Math.acos,Ie=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,a=je(e,"rgb"),i=a[0],o=a[1],s=a[2],r=Me(i/=255,o/=255,s/=255),l=(i+o+s)/3,c=l>0?1-r/l:0;return 0===c?n=NaN:(n=(i-o+(i-s))/2,n/=Ne((i-o)*(i-o)+(i-s)*(o-s)),n=Re(n),s>o&&(n=Ce-n),n/=Ce),[360*n,c,l]},Fe=d.unpack,De=d.limit,Be=d.TWOPI,ze=d.PITHIRD,Ge=Math.cos,Ve=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,a,i,o=(e=Fe(e,"hsi"))[0],s=e[1],r=e[2];return isNaN(o)&&(o=0),isNaN(s)&&(s=0),o>360&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?a=1-((i=(1-s)/3)+(n=(1+s*Ge(Be*o)/Ge(ze-Be*o))/3)):o<2/3?i=1-((n=(1-s)/3)+(a=(1+s*Ge(Be*(o-=1/3))/Ge(ze-Be*o))/3)):n=1-((a=(1-s)/3)+(i=(1+s*Ge(Be*(o-=2/3))/Ge(ze-Be*o))/3)),[255*(n=De(r*n*3)),255*(a=De(r*a*3)),255*(i=De(r*i*3)),e.length>3?e[3]:1]},Ue=d.unpack,Ye=d.type,He=g,Ke=m,Je=u,We=Ie;Ke.prototype.hsi=function(){return We(this._rgb)},He.hsi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Ke,[null].concat(e,["hsi"])))},Je.format.hsi=Ve,Je.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Ue(e,"hsi"),"array"===Ye(e)&&3===e.length)return"hsi"}});var Xe=d.unpack,$e=d.type,Qe=g,Ze=m,et=u,tt=M;Ze.prototype.hsl=function(){return tt(this._rgb)},Qe.hsl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Ze,[null].concat(e,["hsl"])))},et.format.hsl=V,et.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Xe(e,"hsl"),"array"===$e(e)&&3===e.length)return"hsl"}});var nt=d.unpack,at=Math.min,it=Math.max,ot=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,a,i,o=(e=nt(e,"rgb"))[0],s=e[1],r=e[2],l=at(o,s,r),c=it(o,s,r),d=c-l;return i=c/255,0===c?(n=Number.NaN,a=0):(a=d/c,o===c&&(n=(s-r)/d),s===c&&(n=2+(r-o)/d),r===c&&(n=4+(o-s)/d),(n*=60)<0&&(n+=360)),[n,a,i]},st=d.unpack,rt=Math.floor,lt=function(){for(var e,t,n,a,i,o,s=[],r=arguments.length;r--;)s[r]=arguments[r];var l,c,d,u=(s=st(s,"hsv"))[0],p=s[1],f=s[2];if(f*=255,0===p)l=c=d=f;else{360===u&&(u=0),u>360&&(u-=360),u<0&&(u+=360);var v=rt(u/=60),y=u-v,h=f*(1-p),m=f*(1-p*y),b=f*(1-p*(1-y));switch(v){case 0:l=(e=[f,b,h])[0],c=e[1],d=e[2];break;case 1:l=(t=[m,f,h])[0],c=t[1],d=t[2];break;case 2:l=(n=[h,f,b])[0],c=n[1],d=n[2];break;case 3:l=(a=[h,m,f])[0],c=a[1],d=a[2];break;case 4:l=(i=[b,h,f])[0],c=i[1],d=i[2];break;case 5:l=(o=[f,h,m])[0],c=o[1],d=o[2]}}return[l,c,d,s.length>3?s[3]:1]},ct=d.unpack,dt=d.type,ut=g,pt=m,ft=u,vt=ot;pt.prototype.hsv=function(){return vt(this._rgb)},ut.hsv=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(pt,[null].concat(e,["hsv"])))},ft.format.hsv=lt,ft.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=ct(e,"hsv"),"array"===dt(e)&&3===e.length)return"hsv"}});var yt={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},ht=yt,mt=d.unpack,bt=Math.pow,gt=function(e){return(e/=255)<=.04045?e/12.92:bt((e+.055)/1.055,2.4)},kt=function(e){return e>ht.t3?bt(e,1/3):e/ht.t2+ht.t0},wt=function(e,t,n){return e=gt(e),t=gt(t),n=gt(n),[kt((.4124564*e+.3575761*t+.1804375*n)/ht.Xn),kt((.2126729*e+.7151522*t+.072175*n)/ht.Yn),kt((.0193339*e+.119192*t+.9503041*n)/ht.Zn)]},St=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=mt(e,"rgb"),a=n[0],i=n[1],o=n[2],s=wt(a,i,o),r=s[0],l=s[1],c=s[2],d=116*l-16;return[d<0?0:d,500*(r-l),200*(l-c)]},Ot=yt,_t=d.unpack,xt=Math.pow,Pt=function(e){return 255*(e<=.00304?12.92*e:1.055*xt(e,1/2.4)-.055)},Lt=function(e){return e>Ot.t1?e*e*e:Ot.t2*(e-Ot.t0)},qt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,a,i,o=(e=_t(e,"lab"))[0],s=e[1],r=e[2];return a=(o+16)/116,n=isNaN(s)?a:a+s/500,i=isNaN(r)?a:a-r/200,a=Ot.Yn*Lt(a),n=Ot.Xn*Lt(n),i=Ot.Zn*Lt(i),[Pt(3.2404542*n-1.5371385*a-.4985314*i),Pt(-.969266*n+1.8760108*a+.041556*i),Pt(.0556434*n-.2040259*a+1.0572252*i),e.length>3?e[3]:1]},Et=d.unpack,Tt=d.type,At=g,jt=m,Ct=u,Mt=St;jt.prototype.lab=function(){return Mt(this._rgb)},At.lab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(jt,[null].concat(e,["lab"])))},Ct.format.lab=qt,Ct.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Et(e,"lab"),"array"===Tt(e)&&3===e.length)return"lab"}});var Nt=d.unpack,Rt=d.RAD2DEG,It=Math.sqrt,Ft=Math.atan2,Dt=Math.round,Bt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Nt(e,"lab"),a=n[0],i=n[1],o=n[2],s=It(i*i+o*o),r=(Ft(o,i)*Rt+360)%360;return 0===Dt(1e4*s)&&(r=Number.NaN),[a,s,r]},zt=d.unpack,Gt=St,Vt=Bt,Ut=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=zt(e,"rgb"),a=n[0],i=n[1],o=n[2],s=Gt(a,i,o),r=s[0],l=s[1],c=s[2];return Vt(r,l,c)},Yt=d.unpack,Ht=d.DEG2RAD,Kt=Math.sin,Jt=Math.cos,Wt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Yt(e,"lch"),a=n[0],i=n[1],o=n[2];return isNaN(o)&&(o=0),[a,Jt(o*=Ht)*i,Kt(o)*i]},Xt=d.unpack,$t=Wt,Qt=qt,Zt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=Xt(e,"lch"))[0],a=e[1],i=e[2],o=$t(n,a,i),s=o[0],r=o[1],l=o[2],c=Qt(s,r,l),d=c[0],u=c[1],p=c[2];return[d,u,p,e.length>3?e[3]:1]},en=d.unpack,tn=Zt,nn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=en(e,"hcl").reverse();return tn.apply(void 0,n)},an=d.unpack,on=d.type,sn=g,rn=m,ln=u,cn=Ut;rn.prototype.lch=function(){return cn(this._rgb)},rn.prototype.hcl=function(){return cn(this._rgb).reverse()},sn.lch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(rn,[null].concat(e,["lch"])))},sn.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(rn,[null].concat(e,["hcl"])))},ln.format.lch=Zt,ln.format.hcl=nn,["lch","hcl"].forEach((function(e){return ln.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=an(t,e),"array"===on(t)&&3===t.length)return e}})}));var dn={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},un=u,pn=d.type,fn=dn,vn=Pe,yn=Oe;m.prototype.name=function(){for(var e=yn(this._rgb,"rgb"),t=0,n=Object.keys(fn);t<n.length;t+=1){var a=n[t];if(fn[a]===e)return a.toLowerCase()}return e},un.format.named=function(e){if(e=e.toLowerCase(),fn[e])return vn(fn[e]);throw new Error("unknown color name: "+e)},un.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===pn(e)&&fn[e.toLowerCase()])return"named"}});var hn=d.unpack,mn=d.type,bn=function(e){if("number"==mn(e)&&e>=0&&e<=16777215)return[e>>16,e>>8&255,255&e,1];throw new Error("unknown num color: "+e)},gn=g,kn=m,wn=u,Sn=d.type,On=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=hn(e,"rgb"),a=n[0],i=n[1],o=n[2];return(a<<16)+(i<<8)+o};kn.prototype.num=function(){return On(this._rgb)},gn.num=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(kn,[null].concat(e,["num"])))},wn.format.num=bn,wn.autodetect.push({p:5,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(1===e.length&&"number"===Sn(e[0])&&e[0]>=0&&e[0]<=16777215)return"num"}});var _n=g,xn=m,Pn=u,Ln=d.unpack,qn=d.type,En=Math.round;xn.prototype.rgb=function(e){return void 0===e&&(e=!0),!1===e?this._rgb.slice(0,3):this._rgb.slice(0,3).map(En)},xn.prototype.rgba=function(e){return void 0===e&&(e=!0),this._rgb.slice(0,4).map((function(t,n){return n<3?!1===e?t:En(t):t}))},_n.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(xn,[null].concat(e,["rgb"])))},Pn.format.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Ln(e,"rgba");return void 0===n[3]&&(n[3]=1),n},Pn.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Ln(e,"rgba"),"array"===qn(e)&&(3===e.length||4===e.length&&"number"==qn(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});var Tn=Math.log,An=function(e){var t,n,a,i=e/100;return i<66?(t=255,n=i<6?0:-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*Tn(n),a=i<20?0:.8274096064007395*(a=i-10)-254.76935184120902+115.67994401066147*Tn(a)):(t=351.97690566805693+.114206453784165*(t=i-55)-40.25366309332127*Tn(t),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*Tn(n),a=255),[t,n,a,1]},jn=An,Cn=d.unpack,Mn=Math.round,Nn=g,Rn=m,In=u,Fn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n,a=Cn(e,"rgb"),i=a[0],o=a[2],s=1e3,r=4e4,l=.4;r-s>l;){var c=jn(n=.5*(r+s));c[2]/c[0]>=o/i?r=n:s=n}return Mn(n)};Rn.prototype.temp=Rn.prototype.kelvin=Rn.prototype.temperature=function(){return Fn(this._rgb)},Nn.temp=Nn.kelvin=Nn.temperature=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Rn,[null].concat(e,["temp"])))},In.format.temp=In.format.kelvin=In.format.temperature=An;var Dn=d.unpack,Bn=Math.cbrt,zn=Math.pow,Gn=Math.sign,Vn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Dn(e,"rgb"),a=n[0],i=n[1],o=n[2],s=[Un(a/255),Un(i/255),Un(o/255)],r=s[0],l=s[1],c=s[2],d=Bn(.4122214708*r+.5363325363*l+.0514459929*c),u=Bn(.2119034982*r+.6806995451*l+.1073969566*c),p=Bn(.0883024619*r+.2817188376*l+.6299787005*c);return[.2104542553*d+.793617785*u-.0040720468*p,1.9779984951*d-2.428592205*u+.4505937099*p,.0259040371*d+.7827717662*u-.808675766*p]};function Un(e){var t=Math.abs(e);return t<.04045?e/12.92:(Gn(e)||1)*zn((t+.055)/1.055,2.4)}var Yn=d.unpack,Hn=Math.pow,Kn=Math.sign,Jn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=Yn(e,"lab"))[0],a=e[1],i=e[2],o=Hn(n+.3963377774*a+.2158037573*i,3),s=Hn(n-.1055613458*a-.0638541728*i,3),r=Hn(n-.0894841775*a-1.291485548*i,3);return[255*Wn(4.0767416621*o-3.3077115913*s+.2309699292*r),255*Wn(-1.2684380046*o+2.6097574011*s-.3413193965*r),255*Wn(-.0041960863*o-.7034186147*s+1.707614701*r),e.length>3?e[3]:1]};function Wn(e){var t=Math.abs(e);return t>.0031308?(Kn(e)||1)*(1.055*Hn(t,1/2.4)-.055):12.92*e}var Xn=d.unpack,$n=d.type,Qn=g,Zn=m,ea=u,ta=Vn;Zn.prototype.oklab=function(){return ta(this._rgb)},Qn.oklab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Zn,[null].concat(e,["oklab"])))},ea.format.oklab=Jn,ea.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Xn(e,"oklab"),"array"===$n(e)&&3===e.length)return"oklab"}});var na=d.unpack,aa=Vn,ia=Bt,oa=d.unpack,sa=Wt,ra=Jn,la=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=oa(e,"lch"))[0],a=e[1],i=e[2],o=sa(n,a,i),s=o[0],r=o[1],l=o[2],c=ra(s,r,l),d=c[0],u=c[1],p=c[2];return[d,u,p,e.length>3?e[3]:1]},ca=d.unpack,da=d.type,ua=g,pa=m,fa=u,va=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=na(e,"rgb"),a=n[0],i=n[1],o=n[2],s=aa(a,i,o),r=s[0],l=s[1],c=s[2];return ia(r,l,c)};pa.prototype.oklch=function(){return va(this._rgb)},ua.oklch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(pa,[null].concat(e,["oklch"])))},fa.format.oklch=la,fa.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=ca(e,"oklch"),"array"===da(e)&&3===e.length)return"oklch"}});var ya=m,ha=d.type;ya.prototype.alpha=function(e,t){return void 0===t&&(t=!1),void 0!==e&&"number"===ha(e)?t?(this._rgb[3]=e,this):new ya([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]},m.prototype.clipped=function(){return this._rgb._clipped||!1};var ma=m,ba=yt;ma.prototype.darken=function(e){void 0===e&&(e=1);var t=this.lab();return t[0]-=ba.Kn*e,new ma(t,"lab").alpha(this.alpha(),!0)},ma.prototype.brighten=function(e){return void 0===e&&(e=1),this.darken(-e)},ma.prototype.darker=ma.prototype.darken,ma.prototype.brighter=ma.prototype.brighten,m.prototype.get=function(e){var t=e.split("."),n=t[0],a=t[1],i=this[n]();if(a){var o=n.indexOf(a)-("ok"===n.substr(0,2)?2:0);if(o>-1)return i[o];throw new Error("unknown channel "+a+" in mode "+n)}return i};var ga=m,ka=d.type,wa=Math.pow;ga.prototype.luminance=function(e){if(void 0!==e&&"number"===ka(e)){if(0===e)return new ga([0,0,0,this._rgb[3]],"rgb");if(1===e)return new ga([255,255,255,this._rgb[3]],"rgb");var t=this.luminance(),n=20,a=function(t,i){var o=t.interpolate(i,.5,"rgb"),s=o.luminance();return Math.abs(e-s)<1e-7||!n--?o:s>e?a(t,o):a(o,i)},i=(t>e?a(new ga([0,0,0]),this):a(this,new ga([255,255,255]))).rgb();return new ga(i.concat([this._rgb[3]]))}return Sa.apply(void 0,this._rgb.slice(0,3))};var Sa=function(e,t,n){return.2126*(e=Oa(e))+.7152*(t=Oa(t))+.0722*(n=Oa(n))},Oa=function(e){return(e/=255)<=.03928?e/12.92:wa((e+.055)/1.055,2.4)},_a={},xa=m,Pa=d.type,La=_a,qa=function(e,t,n){void 0===n&&(n=.5);for(var a=[],i=arguments.length-3;i-- >0;)a[i]=arguments[i+3];var o=a[0]||"lrgb";if(La[o]||a.length||(o=Object.keys(La)[0]),!La[o])throw new Error("interpolation mode "+o+" is not defined");return"object"!==Pa(e)&&(e=new xa(e)),"object"!==Pa(t)&&(t=new xa(t)),La[o](e,t,n).alpha(e.alpha()+n*(t.alpha()-e.alpha()))},Ea=m,Ta=qa;Ea.prototype.mix=Ea.prototype.interpolate=function(e,t){void 0===t&&(t=.5);for(var n=[],a=arguments.length-2;a-- >0;)n[a]=arguments[a+2];return Ta.apply(void 0,[this,e,t].concat(n))};var Aa=m;Aa.prototype.premultiply=function(e){void 0===e&&(e=!1);var t=this._rgb,n=t[3];return e?(this._rgb=[t[0]*n,t[1]*n,t[2]*n,n],this):new Aa([t[0]*n,t[1]*n,t[2]*n,n],"rgb")};var ja=m,Ca=yt;ja.prototype.saturate=function(e){void 0===e&&(e=1);var t=this.lch();return t[1]+=Ca.Kn*e,t[1]<0&&(t[1]=0),new ja(t,"lch").alpha(this.alpha(),!0)},ja.prototype.desaturate=function(e){return void 0===e&&(e=1),this.saturate(-e)};var Ma=m,Na=d.type;Ma.prototype.set=function(e,t,n){void 0===n&&(n=!1);var a=e.split("."),i=a[0],o=a[1],s=this[i]();if(o){var r=i.indexOf(o)-("ok"===i.substr(0,2)?2:0);if(r>-1){if("string"==Na(t))switch(t.charAt(0)){case"+":case"-":s[r]+=+t;break;case"*":s[r]*=+t.substr(1);break;case"/":s[r]/=+t.substr(1);break;default:s[r]=+t}else{if("number"!==Na(t))throw new Error("unsupported value for Color.set");s[r]=t}var l=new Ma(s,i);return n?(this._rgb=l._rgb,this):l}throw new Error("unknown channel "+o+" in mode "+i)}return s};var Ra=m;_a.rgb=function(e,t,n){var a=e._rgb,i=t._rgb;return new Ra(a[0]+n*(i[0]-a[0]),a[1]+n*(i[1]-a[1]),a[2]+n*(i[2]-a[2]),"rgb")};var Ia=m,Fa=Math.sqrt,Da=Math.pow;_a.lrgb=function(e,t,n){var a=e._rgb,i=a[0],o=a[1],s=a[2],r=t._rgb,l=r[0],c=r[1],d=r[2];return new Ia(Fa(Da(i,2)*(1-n)+Da(l,2)*n),Fa(Da(o,2)*(1-n)+Da(c,2)*n),Fa(Da(s,2)*(1-n)+Da(d,2)*n),"rgb")};var Ba=m;_a.lab=function(e,t,n){var a=e.lab(),i=t.lab();return new Ba(a[0]+n*(i[0]-a[0]),a[1]+n*(i[1]-a[1]),a[2]+n*(i[2]-a[2]),"lab")};var za=m,Ga=function(e,t,n,a){var i,o,s,r,l,c,d,u,p,f,v,y,h;return"hsl"===a?(s=e.hsl(),r=t.hsl()):"hsv"===a?(s=e.hsv(),r=t.hsv()):"hcg"===a?(s=e.hcg(),r=t.hcg()):"hsi"===a?(s=e.hsi(),r=t.hsi()):"lch"===a||"hcl"===a?(a="hcl",s=e.hcl(),r=t.hcl()):"oklch"===a&&(s=e.oklch().reverse(),r=t.oklch().reverse()),"h"!==a.substr(0,1)&&"oklch"!==a||(l=(i=s)[0],d=i[1],p=i[2],c=(o=r)[0],u=o[1],f=o[2]),isNaN(l)||isNaN(c)?isNaN(l)?isNaN(c)?y=Number.NaN:(y=c,1!=p&&0!=p||"hsv"==a||(v=u)):(y=l,1!=f&&0!=f||"hsv"==a||(v=d)):y=l+n*(c>l&&c-l>180?c-(l+360):c<l&&l-c>180?c+360-l:c-l),void 0===v&&(v=d+n*(u-d)),h=p+n*(f-p),new za("oklch"===a?[h,v,y]:[y,v,h],a)},Va=Ga,Ua=function(e,t,n){return Va(e,t,n,"lch")};_a.lch=Ua,_a.hcl=Ua;var Ya=m;_a.num=function(e,t,n){var a=e.num(),i=t.num();return new Ya(a+n*(i-a),"num")};var Ha=Ga;_a.hcg=function(e,t,n){return Ha(e,t,n,"hcg")};var Ka=Ga;_a.hsi=function(e,t,n){return Ka(e,t,n,"hsi")};var Ja=Ga;_a.hsl=function(e,t,n){return Ja(e,t,n,"hsl")};var Wa=Ga;_a.hsv=function(e,t,n){return Wa(e,t,n,"hsv")};var Xa=m;_a.oklab=function(e,t,n){var a=e.oklab(),i=t.oklab();return new Xa(a[0]+n*(i[0]-a[0]),a[1]+n*(i[1]-a[1]),a[2]+n*(i[2]-a[2]),"oklab")};var $a=Ga;_a.oklch=function(e,t,n){return $a(e,t,n,"oklch")};var Qa=m,Za=d.clip_rgb,ei=Math.pow,ti=Math.sqrt,ni=Math.PI,ai=Math.cos,ii=Math.sin,oi=Math.atan2,si=function(e,t){for(var n=e.length,a=[0,0,0,0],i=0;i<e.length;i++){var o=e[i],s=t[i]/n,r=o._rgb;a[0]+=ei(r[0],2)*s,a[1]+=ei(r[1],2)*s,a[2]+=ei(r[2],2)*s,a[3]+=r[3]*s}return a[0]=ti(a[0]),a[1]=ti(a[1]),a[2]=ti(a[2]),a[3]>.9999999&&(a[3]=1),new Qa(Za(a))},ri=g,li=d.type,ci=Math.pow,di=function(e){var t="rgb",n=ri("#ccc"),a=0,i=[0,1],o=[],s=[0,0],r=!1,l=[],c=!1,d=0,u=1,p=!1,f={},v=!0,y=1,h=function(e){if((e=e||["#fff","#000"])&&"string"===li(e)&&ri.brewer&&ri.brewer[e.toLowerCase()]&&(e=ri.brewer[e.toLowerCase()]),"array"===li(e)){1===e.length&&(e=[e[0],e[0]]),e=e.slice(0);for(var t=0;t<e.length;t++)e[t]=ri(e[t]);o.length=0;for(var n=0;n<e.length;n++)o.push(n/(e.length-1))}return k(),l=e},m=function(e){return e},b=function(e){return e},g=function(e,a){var i,c;if(null==a&&(a=!1),isNaN(e)||null===e)return n;c=a?e:r&&r.length>2?function(e){if(null!=r){for(var t=r.length-1,n=0;n<t&&e>=r[n];)n++;return n-1}return 0}(e)/(r.length-2):u!==d?(e-d)/(u-d):1,c=b(c),a||(c=m(c)),1!==y&&(c=ci(c,y)),c=s[0]+c*(1-s[0]-s[1]),c=Math.min(1,Math.max(0,c));var p=Math.floor(1e4*c);if(v&&f[p])i=f[p];else{if("array"===li(l))for(var h=0;h<o.length;h++){var g=o[h];if(c<=g){i=l[h];break}if(c>=g&&h===o.length-1){i=l[h];break}if(c>g&&c<o[h+1]){c=(c-g)/(o[h+1]-g),i=ri.interpolate(l[h],l[h+1],c,t);break}}else"function"===li(l)&&(i=l(c));v&&(f[p]=i)}return i},k=function(){return f={}};h(e);var w=function(e){var t=ri(g(e));return c&&t[c]?t[c]():t};return w.classes=function(e){if(null!=e){if("array"===li(e))r=e,i=[e[0],e[e.length-1]];else{var t=ri.analyze(i);r=0===e?[t.min,t.max]:ri.limits(t,"e",e)}return w}return r},w.domain=function(e){if(!arguments.length)return i;d=e[0],u=e[e.length-1],o=[];var t=l.length;if(e.length===t&&d!==u)for(var n=0,a=Array.from(e);n<a.length;n+=1){var s=a[n];o.push((s-d)/(u-d))}else{for(var r=0;r<t;r++)o.push(r/(t-1));if(e.length>2){var c=e.map((function(t,n){return n/(e.length-1)})),p=e.map((function(e){return(e-d)/(u-d)}));p.every((function(e,t){return c[t]===e}))||(b=function(e){if(e<=0||e>=1)return e;for(var t=0;e>=p[t+1];)t++;var n=(e-p[t])/(p[t+1]-p[t]);return c[t]+n*(c[t+1]-c[t])})}}return i=[d,u],w},w.mode=function(e){return arguments.length?(t=e,k(),w):t},w.range=function(e,t){return h(e),w},w.out=function(e){return c=e,w},w.spread=function(e){return arguments.length?(a=e,w):a},w.correctLightness=function(e){return null==e&&(e=!0),p=e,k(),m=p?function(e){for(var t=g(0,!0).lab()[0],n=g(1,!0).lab()[0],a=t>n,i=g(e,!0).lab()[0],o=t+(n-t)*e,s=i-o,r=0,l=1,c=20;Math.abs(s)>.01&&c-- >0;)a&&(s*=-1),s<0?(r=e,e+=.5*(l-e)):(l=e,e+=.5*(r-e)),i=g(e,!0).lab()[0],s=i-o;return e}:function(e){return e},w},w.padding=function(e){return null!=e?("number"===li(e)&&(e=[e,e]),s=e,w):s},w.colors=function(t,n){arguments.length<2&&(n="hex");var a=[];if(0===arguments.length)a=l.slice(0);else if(1===t)a=[w(.5)];else if(t>1){var o=i[0],s=i[1]-o;a=ui(0,t,!1).map((function(e){return w(o+e/(t-1)*s)}))}else{e=[];var c=[];if(r&&r.length>2)for(var d=1,u=r.length,p=1<=u;p?d<u:d>u;p?d++:d--)c.push(.5*(r[d-1]+r[d]));else c=i;a=c.map((function(e){return w(e)}))}return ri[n]&&(a=a.map((function(e){return e[n]()}))),a},w.cache=function(e){return null!=e?(v=e,w):v},w.gamma=function(e){return null!=e?(y=e,w):y},w.nodata=function(e){return null!=e?(n=ri(e),w):n},w};function ui(e,t,n){for(var a=[],i=e<t,o=n?i?t+1:t-1:t,s=e;i?s<o:s>o;i?s++:s--)a.push(s);return a}var pi=m,fi=di,vi=function(e){var t,n,a,i,o,s,r;if(2===(e=e.map((function(e){return new pi(e)}))).length)t=e.map((function(e){return e.lab()})),o=t[0],s=t[1],i=function(e){var t=[0,1,2].map((function(t){return o[t]+e*(s[t]-o[t])}));return new pi(t,"lab")};else if(3===e.length)n=e.map((function(e){return e.lab()})),o=n[0],s=n[1],r=n[2],i=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*o[t]+2*(1-e)*e*s[t]+e*e*r[t]}));return new pi(t,"lab")};else if(4===e.length){var l;a=e.map((function(e){return e.lab()})),o=a[0],s=a[1],r=a[2],l=a[3],i=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*(1-e)*o[t]+3*(1-e)*(1-e)*e*s[t]+3*(1-e)*e*e*r[t]+e*e*e*l[t]}));return new pi(t,"lab")}}else{if(!(e.length>=5))throw new RangeError("No point in running bezier with only one color.");var c,d,u;c=e.map((function(e){return e.lab()})),u=e.length-1,d=function(e){for(var t=[1,1],n=1;n<e;n++){for(var a=[1],i=1;i<=t.length;i++)a[i]=(t[i]||0)+t[i-1];t=a}return t}(u),i=function(e){var t=1-e,n=[0,1,2].map((function(n){return c.reduce((function(a,i,o){return a+d[o]*Math.pow(t,u-o)*Math.pow(e,o)*i[n]}),0)}));return new pi(n,"lab")}}return i},yi=g,hi=function(e,t,n){if(!hi[n])throw new Error("unknown blend mode "+n);return hi[n](e,t)},mi=function(e){return function(t,n){var a=yi(n).rgb(),i=yi(t).rgb();return yi.rgb(e(a,i))}},bi=function(e){return function(t,n){var a=[];return a[0]=e(t[0],n[0]),a[1]=e(t[1],n[1]),a[2]=e(t[2],n[2]),a}};hi.normal=mi(bi((function(e){return e}))),hi.multiply=mi(bi((function(e,t){return e*t/255}))),hi.screen=mi(bi((function(e,t){return 255*(1-(1-e/255)*(1-t/255))}))),hi.overlay=mi(bi((function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))}))),hi.darken=mi(bi((function(e,t){return e>t?t:e}))),hi.lighten=mi(bi((function(e,t){return e>t?e:t}))),hi.dodge=mi(bi((function(e,t){return 255===e||(e=t/255*255/(1-e/255))>255?255:e}))),hi.burn=mi(bi((function(e,t){return 255*(1-(1-t/255)/(e/255))})));for(var gi=hi,ki=d.type,wi=d.clip_rgb,Si=d.TWOPI,Oi=Math.pow,_i=Math.sin,xi=Math.cos,Pi=g,Li=m,qi=Math.floor,Ei=Math.random,Ti=s,Ai=Math.log,ji=Math.pow,Ci=Math.floor,Mi=Math.abs,Ni=function(e,t){void 0===t&&(t=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===Ti(e)&&(e=Object.values(e)),e.forEach((function(e){t&&"object"===Ti(e)&&(e=e[t]),null==e||isNaN(e)||(n.values.push(e),n.sum+=e,e<n.min&&(n.min=e),e>n.max&&(n.max=e),n.count+=1)})),n.domain=[n.min,n.max],n.limits=function(e,t){return Ri(n,e,t)},n},Ri=function(e,t,n){void 0===t&&(t="equal"),void 0===n&&(n=7),"array"==Ti(e)&&(e=Ni(e));var a=e.min,i=e.max,o=e.values.sort((function(e,t){return e-t}));if(1===n)return[a,i];var s=[];if("c"===t.substr(0,1)&&(s.push(a),s.push(i)),"e"===t.substr(0,1)){s.push(a);for(var r=1;r<n;r++)s.push(a+r/n*(i-a));s.push(i)}else if("l"===t.substr(0,1)){if(a<=0)throw new Error("Logarithmic scales are only possible for values > 0");var l=Math.LOG10E*Ai(a),c=Math.LOG10E*Ai(i);s.push(a);for(var d=1;d<n;d++)s.push(ji(10,l+d/n*(c-l)));s.push(i)}else if("q"===t.substr(0,1)){s.push(a);for(var u=1;u<n;u++){var p=(o.length-1)*u/n,f=Ci(p);if(f===p)s.push(o[f]);else{var v=p-f;s.push(o[f]*(1-v)+o[f+1]*v)}}s.push(i)}else if("k"===t.substr(0,1)){var y,h=o.length,m=new Array(h),b=new Array(n),g=!0,k=0,w=null;(w=[]).push(a);for(var S=1;S<n;S++)w.push(a+S/n*(i-a));for(w.push(i);g;){for(var O=0;O<n;O++)b[O]=0;for(var _=0;_<h;_++)for(var x=o[_],P=Number.MAX_VALUE,L=void 0,q=0;q<n;q++){var E=Mi(w[q]-x);E<P&&(P=E,L=q),b[L]++,m[_]=L}for(var T=new Array(n),A=0;A<n;A++)T[A]=null;for(var j=0;j<h;j++)null===T[y=m[j]]?T[y]=o[j]:T[y]+=o[j];for(var C=0;C<n;C++)T[C]*=1/b[C];g=!1;for(var M=0;M<n;M++)if(T[M]!==w[M]){g=!0;break}w=T,++k>200&&(g=!1)}for(var N={},R=0;R<n;R++)N[R]=[];for(var I=0;I<h;I++)N[y=m[I]].push(o[I]);for(var F=[],D=0;D<n;D++)F.push(N[D][0]),F.push(N[D][N[D].length-1]);F=F.sort((function(e,t){return e-t})),s.push(F[0]);for(var B=1;B<F.length;B+=2){var z=F[B];isNaN(z)||-1!==s.indexOf(z)||s.push(z)}}return s},Ii={analyze:Ni,limits:Ri},Fi=m,Di=m,Bi=Math.sqrt,zi=Math.pow,Gi=Math.min,Vi=Math.max,Ui=Math.atan2,Yi=Math.abs,Hi=Math.cos,Ki=Math.sin,Ji=Math.exp,Wi=Math.PI,Xi=m,$i=m,Qi=g,Zi=di,eo={cool:function(){return Zi([Qi.hsl(180,1,.9),Qi.hsl(250,.7,.4)])},hot:function(){return Zi(["#000","#f00","#ff0","#fff"]).mode("rgb")}},to={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},no=0,ao=Object.keys(to);no<ao.length;no+=1){var io=ao[no];to[io.toLowerCase()]=to[io]}var oo=to,so=g;return so.average=function(e,t,n){void 0===t&&(t="lrgb"),void 0===n&&(n=null);var a=e.length;n||(n=Array.from(new Array(a)).map((function(){return 1})));var i=a/n.reduce((function(e,t){return e+t}));if(n.forEach((function(e,t){n[t]*=i})),e=e.map((function(e){return new Qa(e)})),"lrgb"===t)return si(e,n);for(var o=e.shift(),s=o.get(t),r=[],l=0,c=0,d=0;d<s.length;d++)if(s[d]=(s[d]||0)*n[0],r.push(isNaN(s[d])?0:n[0]),"h"===t.charAt(d)&&!isNaN(s[d])){var u=s[d]/180*ni;l+=ai(u)*n[0],c+=ii(u)*n[0]}var p=o.alpha()*n[0];e.forEach((function(e,a){var i=e.get(t);p+=e.alpha()*n[a+1];for(var o=0;o<s.length;o++)if(!isNaN(i[o]))if(r[o]+=n[a+1],"h"===t.charAt(o)){var d=i[o]/180*ni;l+=ai(d)*n[a+1],c+=ii(d)*n[a+1]}else s[o]+=i[o]*n[a+1]}));for(var f=0;f<s.length;f++)if("h"===t.charAt(f)){for(var v=oi(c/r[f],l/r[f])/ni*180;v<0;)v+=360;for(;v>=360;)v-=360;s[f]=v}else s[f]=s[f]/r[f];return p/=a,new Qa(s,t).alpha(p>.99999?1:p,!0)},so.bezier=function(e){var t=vi(e);return t.scale=function(){return fi(t)},t},so.blend=gi,so.cubehelix=function(e,t,n,a,i){void 0===e&&(e=300),void 0===t&&(t=-1.5),void 0===n&&(n=1),void 0===a&&(a=1),void 0===i&&(i=[0,1]);var o,s=0;"array"===ki(i)?o=i[1]-i[0]:(o=0,i=[i,i]);var r=function(r){var l=Si*((e+120)/360+t*r),c=Oi(i[0]+o*r,a),d=(0!==s?n[0]+r*s:n)*c*(1-c)/2,u=xi(l),p=_i(l);return Pi(wi([255*(c+d*(-.14861*u+1.78277*p)),255*(c+d*(-.29227*u-.90649*p)),255*(c+d*(1.97294*u)),1]))};return r.start=function(t){return null==t?e:(e=t,r)},r.rotations=function(e){return null==e?t:(t=e,r)},r.gamma=function(e){return null==e?a:(a=e,r)},r.hue=function(e){return null==e?n:("array"===ki(n=e)?0==(s=n[1]-n[0])&&(n=n[1]):s=0,r)},r.lightness=function(e){return null==e?i:("array"===ki(e)?(i=e,o=e[1]-e[0]):(i=[e,e],o=0),r)},r.scale=function(){return Pi.scale(r)},r.hue(n),r},so.mix=so.interpolate=qa,so.random=function(){for(var e="#",t=0;t<6;t++)e+="0123456789abcdef".charAt(qi(16*Ei()));return new Li(e,"hex")},so.scale=di,so.analyze=Ii.analyze,so.contrast=function(e,t){e=new Fi(e),t=new Fi(t);var n=e.luminance(),a=t.luminance();return n>a?(n+.05)/(a+.05):(a+.05)/(n+.05)},so.deltaE=function(e,t,n,a,i){void 0===n&&(n=1),void 0===a&&(a=1),void 0===i&&(i=1);var o=function(e){return 360*e/(2*Wi)},s=function(e){return 2*Wi*e/360};e=new Di(e),t=new Di(t);var r=Array.from(e.lab()),l=r[0],c=r[1],d=r[2],u=Array.from(t.lab()),p=u[0],f=u[1],v=u[2],y=(l+p)/2,h=Bi(zi(c,2)+zi(d,2)),m=Bi(zi(f,2)+zi(v,2)),b=(h+m)/2,g=.5*(1-Bi(zi(b,7)/(zi(b,7)+zi(25,7)))),k=c*(1+g),w=f*(1+g),S=Bi(zi(k,2)+zi(d,2)),O=Bi(zi(w,2)+zi(v,2)),_=(S+O)/2,x=o(Ui(d,k)),P=o(Ui(v,w)),L=x>=0?x:x+360,q=P>=0?P:P+360,E=Yi(L-q)>180?(L+q+360)/2:(L+q)/2,T=1-.17*Hi(s(E-30))+.24*Hi(s(2*E))+.32*Hi(s(3*E+6))-.2*Hi(s(4*E-63)),A=q-L;A=Yi(A)<=180?A:q<=L?A+360:A-360,A=2*Bi(S*O)*Ki(s(A)/2);var j=p-l,C=O-S,M=1+.015*zi(y-50,2)/Bi(20+zi(y-50,2)),N=1+.045*_,R=1+.015*_*T,I=30*Ji(-zi((E-275)/25,2)),F=-2*Bi(zi(_,7)/(zi(_,7)+zi(25,7)))*Ki(2*s(I)),D=Bi(zi(j/(n*M),2)+zi(C/(a*N),2)+zi(A/(i*R),2)+F*(C/(a*N))*(A/(i*R)));return Vi(0,Gi(100,D))},so.distance=function(e,t,n){void 0===n&&(n="lab"),e=new Xi(e),t=new Xi(t);var a=e.get(n),i=t.get(n),o=0;for(var s in a){var r=(a[s]||0)-(i[s]||0);o+=r*r}return Math.sqrt(o)},so.limits=Ii.limits,so.valid=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];try{return new(Function.prototype.bind.apply($i,[null].concat(e))),!0}catch(e){return!1}},so.scales=eo,so.colors=dn,so.brewer=oo,so}()},function(e,t){e.exports='<div>\n  {{#each attributes}}\n  <option value="{{this.name}}" {{#eq this.name this.selected}}selected{{/eq}}>{{this.name}}</option>\n  {{/each}}\n</div>\n'},function(e,t){e.exports='<div class="">\n    <table class="m-table-category">\n        <tr>\n            <th>{{translations.attributeValue}}</th>\n            <th>{{translations.preview}}</th>\n        </tr>\n        {{#each values}}\n            <tr>\n                <td id="{{this.name}}">{{this.name}}</td>\n                <td><img id="img-{{this.name}}" src="xxxHTMLLINKxxx0.035718820326160470.4891161053067936xxx" alt=""></td>\n            </tr>\n        {{/each}} {{#if attributeExists}}\n            <tr>\n                <td id="other">{{translations.others}}</td>\n                <td><img id="img-other" src="xxxHTMLLINKxxx0.084893561811971050.19550889806263116xxx" alt=""></td>\n            </tr>\n        {{/if}}\n    </table>\n</div>'},function(e,t){e.exports='<div data-category-section>\n    <div class="styles-row m-hidden m-simple-category" data-id="fill">\n        <div class="title"> {{translations.options}}</div>\n        <div class="m-styles-body">\n\n            <div class="group-row">\n                <div class="style-col-1">\n                    <span>Color:</span>\n                    <input data-style-options="fill.color" type="color" value="{{fill.color}}">\n                </div>\n\n                <div class="style-col-2">\n                    <span>{{translations.opacity}}:</span>\n                    <input data-style-options="fill.opacity" type="number" value="{{fill.opacity}}" min="0" step="0.1" max="1">\n                </div>\n            </div>\n\n            <div class="group-row" data-geometry="point">\n                <div class="style-col-1">\n                    <span>{{translations.radius}}:</span>\n                    <input data-style-options="radius" type="number" value="{{radius}}" min="1" max="60">\n                </div>\n            </div>\n\n            <div class="group-row" data-geometry="line">\n                <div class="style-col-1">\n                    <span>{{translations.width}}:</span>\n                    <input value="{{fill.width}}" type="number" data-style-options="fill.width">\n                </div>\n            </div>\n            \x3c!-- Polygon Pattern --\x3e\n            <div class="subtitle" data-geometry="pattern">{{translations.patternOptions}}</div>\n\n            <div class="group-row" data-geometry="pattern">\n                <div class="style-col-1 input-reverse">\n                    <span>{{translations.pattern}}</span>\n                    <input data-apply="fill.pattern" type="checkbox" {{#if patternflag }}checked{{/if}}>\n                </div>\n            </div>\n\n            <div class="group-row" data-geometry="pattern">\n                <div class="style-col-1">\n                    <span>{{translations.type}}:</span>\n                    <select data-style-options="fill.pattern.name">\n                        {{#each patternlist}}\n                            <option value="{{#lowercase this.name}}{{/lowercase}}" {{#eq this.name this.selected}} selected {{/eq}}>\n                                {{this.name}}</option>\n                        {{/each}}\n                    </select>\n                </div>\n\n                <div class="style-col-2">\n                    <span>Color:</span>\n                    <input value="{{fill.pattern.color}}" type="color" data-style-options="fill.pattern.color">\n                </div>\n            </div>\n\n            <div class="group-row" data-geometry="pattern">\n                <div class="style-col-1">\n                    <span>{{translations.size}}:</span>\n                    <input value="{{fill.pattern.size}}" type="number" min="1" max="100" data-style-options="fill.pattern.size">\n                </div>\n\n                <div class="style-col-2">\n                    <span>{{translations.space}}:</span>\n                    <input value="{{fill.pattern.spacing}}" type="number" min="1" max="100" data-style-options="fill.pattern.spacing">\n                </div>\n            </div>\n\n            <div class="group-row" data-geometry="pattern">\n                <div class="style-col-1">\n                    <span>{{translations.rotation}}:</span>\n                    <input value="{{fill.pattern.rotation}}" type="number" min="0" max="360" step="1" data-style-options="fill.pattern.rotation">\n                </div>\n\n                <div class="style-col-2">\n                    <span>{{translations.scale}}:</span>\n                    <input value="{{fill.pattern.scale}}" type="number" min="1" max="30" data-style-options="fill.pattern.scale">\n                </div>\n            </div>\n            <div class="group-row" data-geometry="pattern">\n                <div class="style-col-1">\n                    <span>Offset:</span>\n                    <input value="{{fill.pattern.offset}}" type="number" min="1" data-style-options="fill.pattern.offset">\n                </div>\n            </div>\n        </div>\n    </div>\n\n    \x3c!-- Stroke options --\x3e\n    <div class="styles-row m-hidden m-simple-category" data-id="stroke">\n        <div class="title">{{translations.options}}</div>\n        <div class="m-styles-body">\n\n            <div class="group-row">\n\n                <div class="style-col-1">\n                    <span>Color:</span>\n                    <input value="{{stroke.color}}" type="color" data-style-options="stroke.color">\n                </div>\n\n                <div class="style-col-2">\n                    <span>{{translations.width}}:</span>\n                    <input value="{{stroke.width}}" type="number" value="2" min="1" data-style-options="stroke.width">\n                </div>\n\n            </div>\n            <div class="group-row">\n                <div class="style-col-1">\n                    <span>{{translations.opacity}}:</span>\n                    <input value="{{stroke.opacity}}" type="number" min="0" step="0.1" max="1" data-style-options="stroke.opacity">\n                </div>\n            </div>\n            <div class="group-row">\n                <div class="style-col-1">\n                    <span>Linedash:</span>\n                    <input value="{{#get 0 stroke.linedash}}{{/get}}" type="number" data-target="stroke.linedash" data-style-options="stroke.linedash">\n                    <span class="empty">&nbsp;</span>\n                    <input value="{{#get 1 stroke.linedash}}{{/get}}" type="number" data-id="stroke.linedash">\n                </div>\n\n                <div class="style-col-2">\n                    <span>Linedash Offset:</span>\n                    <input type="number" value="{{stroke.linedashoffset}}" data-style-options="stroke.linedashoffset">\n                </div>\n            </div>\n\n            <div class="group-row">\n\n                <div class="style-col-1">\n                    <span>Line Cap</span>\n                    <select data-style-options="stroke.linecap">\n                        <option value="">{{translations.none}}</option>\n                        {{#each linecapstroke}}\n                            <option value="{{this.name}}" {{#eq this.name this.selected}}selected{{/eq}}>{{this.name}}</option>\n                        {{/each}}\n                    </select>\n                </div>\n\n                <div class="style-col-2">\n                    <span>Line Join</span>\n                    <select data-style-options="stroke.linejoin">\n                        <option value="">{{translations.none}}</option>\n                        {{#each linejoinstroke}}\n                            <option value="{{this.name}}" {{#eq this.name this.selected}}selected{{/eq}}> {{this.name}}</option>\n                        {{/each}}\n                    </select>\n                </div>\n\n            </div>\n        </div>\n    </div>\n\n    \x3c!-- Label options --\x3e\n    <div class="styles-row m-hidden m-simple-category m-label-option" data-id="label">\n        <div class="title">{{translations.options}}</div>\n        <div class="m-styles-body">\n\n            <div class="group-row">\n\n                <div class="style-col-1">\n                    <span>Color</span>\n                    <input value="{{label.fill.color}}" type="color" data-style-options="label.color" value="#0d5cdc">\n                </div>\n\n                <div class="style-col-2">\n                    <span>{{translations.text}}:</span>\n                    <select data-style-options="label.text">\n                        {{#each featuresAttr}}\n                            <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n                        {{/each}}\n                    </select>\n                </div>\n            </div>\n\n            <div class="group-row">\n\n                <div class="style-col-1">\n                    <span>{{translations.font}}:</span>\n                    <select data-font-family>\n                        <option value="serif">Serif</option>\n                        <option value="sans-serif">Sans-Serif</option>\n                        <option value="mono">Mono</option>\n                    </select>\n                </div>\n\n                <div class="style-col-2">\n                    <span>{{translations.size}}:</span>\n                    <input data-font-size type="number" min="1" value="12">\n                </div>\n            </div>\n\n            <div class="group-row">\n\n                <div class="style-col-1">\n                    <span>{{translations.horizontalAlignment}}:</span>\n                    <select data-style-options="label.align">\n                        {{#each alignlist}}\n                            <option value="{{this.name}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n                        {{/each}}\n                    </select>\n                </div>\n\n                <div class="style-col-2">\n                    <span>{{translations.verticalAlignment}}:</span>\n                    <select data-style-options="label.baseline">\n                        {{#each baselinelist}}\n                            <option value="{{this.name}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n                        {{/each}}\n                    </select>\n                </div>\n\n            </div>\n\n            <div class="group-row">\n\n                <div class="style-col-1 input-reverse">\n                    <span>{{translations.enableRotation}}</span>\n                    <input {{#if label.rotate}}checked{{/if}} type="checkbox" data-style-options="label.rotate">\n                </div>\n\n                <div class="style-col-2">\n                    <span>{{translations.rotate}}:</span>\n                    <input value="{{label.rotation}}" type="number" step="0.1" data-style-options="label.rotation">\n                </div>\n\n            </div>\n\n            <div class="group-row">\n\n                <div class="style-col-1">\n                    <span>{{translations.scale}}:</span>\n                    <input value="{{label.scale}}" type="number" max="3" min="0" step="0.1" value="2" data-style-options="label.scale">\n                </div>\n\n                <div class="style-col-2">\n                    <span>Offset:</span>\n                    <input value="{{#get 0 label.offset}}{{/get}}" type="number" data-target="label.offset" data-style-options="label.offset">\n                    <span class="empty">&nbsp;</span>\n                    <input value="{{#get 1 label.offset}}{{/get}}" type="number" data-id="label.offset">\n                </div>\n\n            </div>\n\n            \x3c!-- TextPath Options --\x3e\n\n            <div class="group-row" data-geometry="line">\n\n                <div class="style-col-1 input-reverse">\n                    <span>{{translations.adjust}}</span>\n                    <input {{#if label.path}}checked{{/if}} type="checkbox" data-style-options="label.path">\n                </div>\n\n                <div class="style-col-2">\n                    <span>{{translations.minimumWidth}}:</span>\n                    <input value="{{label.minwidth}}" type="number" min="1" max="200" value="10" data-style-options="label.minwidth" data-textpath {{#unless label.path}}disabled{{/unless}}>\n                </div>\n\n            </div>\n\n            <div class="group-row" data-geometry="line">\n\n                <div class="style-col-1 input-reverse">\n                    <span>{{translations.smooth}}</span>\n                    <input {{#if label.smooth}}checked{{/if}} type="checkbox" data-style-options="label.smooth" data-textpath {{#unless label.path}}disabled{{/unless}}>\n                </div>\n\n                <div class=style-col-2>\n                    <span>{{translations.overflow}}:</span>\n                    <select data-style-options="label.textoverflow" data-textpath {{#unless label.path}}disabled{{/unless}}>\n                        <option value="hidden">{{translations.hidden}}</option>\n                        <option value="visible">{{translations.visible}}</option>\n                        <option value="ellipsis">{{translations.ellipsis}}</option>\n                    </select>\n                </div>\n\n            </div>\n\n            \x3c!-- Stroke Label --\x3e\n            <div class="subtitle">{{translations.labelStroke}}:</div>\n            <div class="group-row">\n\n                <div class="style-col-1 input-reverse">\n                    <span>{{translations.stroke}}</span>\n                    <input type="checkbox" data-apply="label.stroke" {{#neq label.stroke.color \'no-color\' }}checked{{/neq}}>\n                </div>\n\n            </div>\n            <div class="group-row">\n\n                <div class="style-col-1">\n                    <span>Color:</span>\n                    <input type="color" data-style-options="label.stroke.color" {{#neq label.stroke.color \'no-color\'\n            }}value="{{label.stroke.color}}" {{/neq}}>\n                </div>\n\n                <div class="style-col-2">\n                    <span>{{translations.width}}:</span>\n                    <input value="{{label.stroke.width}}" type="number" value="2" max="15" min="1" data-style-options="label.stroke.width">\n                </div>\n\n            </div>\n\n            <div class="group-row">\n\n                <div class="style-col-1">\n                    <span>Line Dash:</span>\n                    <input value="{{#get 0 label.stroke.linedash}}{{/get}}" type="number" data-target="label.stroke.linedash" data-style-options="label.stroke.linedash" data-format="array">\n                    <span class="empty">&nbsp;</span>\n                    <input value="{{#get 1 label.stroke.linedash}}{{/get}}" type="number" data-id="label.stroke.linedash">\n                </div>\n\n                <div class="style-col-2">\n                    <span>Line Dash Offset:</span>\n                    <input type="number" value="{{label.stroke.linedashoffset}}" data-style-options="label.stroke.linedashoffset">\n                </div>\n\n            </div>\n\n            <div class="group-row">\n\n                <div class="style-col-1">\n                    <span>Line Cap:</span>\n                    <select data-style-options="label.stroke.linecap">\n                        {{#each linecaplabelstroke}}\n                            <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n                        {{/each}}\n                    </select>\n                </div>\n\n                <div class="style-col-2">\n                    <span>Line Join:</span>\n                    <select data-style-options="label.stroke.linejoin">\n                        {{#each linejoinlabelstroke}}\n                            <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n                        {{/each}}\n                    </select>\n                </div>\n            </div>\n\n        </div>\n    </div>\n\n    \x3c!-- Icon Options --\x3e\n    <div class="styles-row m-hidden m-simple-category" data-id="icon">\n        <div class="title">{{translations.options}}</div>\n\n        <div class="m-styles-body">\n\n\n            \x3c!-- Point Icon --\x3e\n            <div data-pointicon class="group-row">\n\n                <div class="style-col-1">\n                    <span>URL</span>\n                    <input value="{{icon.src}}" type="url" data-style-options="src.src">\n                </div>\n                <div class="style-col-2">\n                    <span>{{translations.size}}:</span>\n                    <input {{#if icon.size}}value="{{#get 0 icon.size}}{{/get}}" {{/if}} type="number" data-undefined data-target="size" data-style-options="src.size">\n                    <span class="empty">&nbsp;</span>\n                    <input {{#if icon.size}}value="{{#get 1 icon.size}}{{/get}}" {{/if}} type="number" data-undefined data-id="size">\n                </div>\n\n\n            </div>\n\n            <div data-pointicon class="group-row">\n\n\n                <div class="style-col-2 input-reverse m-hidden">\n                    <span>Snap to pixel</span>\n                    <input {{#if icon.snaptopixel}}checked{{/if}} type="checkbox" data-style-options="src.snaptopixel">\n                </div>\n\n            </div>\n\n            <div data-pointicon class="group-row">\n\n                <div class="style-col-1">\n                    <span>{{translations.anchorage}}:</span>\n                    <input value="{{#get 0 icon.anchor}}{{/get}}" type="number" data-target="anchor" data-style-options="src.anchor">\n                    <span class="empty">&nbsp;</span>\n                    <input value="{{#get 1 icon.anchor}}{{/get}}" type="number" data-id="anchor">\n                </div>\n\n                <div class="style-col-2">\n                    <span>{{translations.scale}}:</span>\n                    <input value="{{icon.scale}}" type="number" data-style-options="src.scale" max="3" min="0" step="0.1">\n                </div>\n            </div>\n\n\n\n            \x3c!-- Common --\x3e\n            <div data-common-icon class="group-row">\n\n                <div class="style-col-1">\n                    <span>Offset:</span>\n                    <input value="{{#get 0 icon.offset}}{{/get}}" type="number" data-target="icon-offset" data-style-options="src.offset">\n                    <span class="empty">&nbsp;</span>\n                    <input value="{{#get 1 icon.offset}}{{/get}}" type="number" data-id="icon-offset" />\n                </div>\n\n                <div class="style-col-2">\n                    <span>{{translations.opacity}}:</span>\n                    <input value="{{icon.opacity}}" type="number" step="0.1" min=0 max=1 data-style-options="src.opacity">\n                </div>\n            </div>\n\n            <div data-common-icon class="group-row">\n\n                <div class="style-col-1 input-reverse">\n                    <span>{{translations.enableRotation}}</span>\n                    <input {{#if icon.rotate}}checked {{/if}} type="checkbox" data-style-options="src.rotate">\n                </div>\n\n                <div class="style-col-2">\n                    <span>{{translations.rotate}}:</span>\n                    <input value="{{icon.rotation}}" type="number" min=0 max=360 data-style-options="src.rotation">\n                </div>\n\n            </div>\n\n        </div>\n    </div>\n\n    \x3c!-- Form Options --\x3e\n    <div class="styles-row m-hidden m-simple-category" data-id="form">\n        <div class="title">{{translations.options}}</div>\n        <div class="m-styles-body">\n\n            \x3c!-- Point Font --\x3e\n            <div data-pointfont class="group-row">\n\n                <div class="style-col-1">\n                    <span>bkColor:</span>\n                    <input type="color" data-style-options="form.fill" value="{{icon.fill}}">\n                </div>\n\n            </div>\n\n            <div data-pointfont class="group-row">\n\n                <div class="style-col-1">\n                    <span>{{translations.form}}:</span>\n                    <select data-style-options="form.form">\n                        {{#each formlist}}\n                            <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n                        {{/each}}\n                    </select>\n                </div>\n\n                <div class="style-col-2">\n                    <span>{{translations.family}}:</span>\n                    <select data-style-options="form.class" data-icon="{{icon.class}}">\n                        <option value="" selected>None</option>\n                        <option value="g-cartografia">G-Cartografía</option>\n                        <option value="fa">Font Awesome</option>\n                    </select>\n                    <button id="select-icon" class="g-cartografia-info"></button>\n                    <div class="style-grid-container">\n                        <div class="style-grid-item g-cartografia-spinner"></div>\n                        <div class="style-grid-item g-cartografia-posicion3"></div>\n                        <div class="style-grid-item g-cartografia-brujula-norte"></div>\n                        <div class="style-grid-item g-cartografia-capas2"></div>\n                        <div class="style-grid-item g-cartografia-comentarios"></div>\n                        <div class="style-grid-item g-cartografia-escala3"></div>\n                        <div class="style-grid-item g-cartografia-flecha"></div>\n                        <div class="style-grid-item g-cartografia-flecha-abajo"></div>\n                        <div class="style-grid-item g-cartografia-flecha-arriba"></div>\n                        <div class="style-grid-item g-cartografia-flecha-derecha"></div>\n                        <div class="style-grid-item g-cartografia-flecha-izquierda"></div>\n                        <div class="style-grid-item g-cartografia-gps2"></div>\n                        <div class="style-grid-item g-cartografia-info"></div>\n                        <div class="style-grid-item g-cartografia-papelera"></div>\n                        <div class="style-grid-item g-cartografia-pin"></div>\n                        <div class="style-grid-item g-cartografia-zoom-extension"></div>\n                        <div class="style-grid-item fa fa-glass"></div>\n                        <div class="style-grid-item fa fa-music"></div>\n                        <div class="style-grid-item fa fa-search"></div>\n                        <div class="style-grid-item fa fa-envelope-o"></div>\n                        <div class="style-grid-item fa fa-heart"></div>\n                        <div class="style-grid-item fa fa-star"></div>\n                        <div class="style-grid-item fa fa-star-o"></div>\n                        <div class="style-grid-item fa fa-user"></div>\n                        <div class="style-grid-item fa fa-film"></div>\n                        <div class="style-grid-item fa fa-th-large"></div>\n                        <div class="style-grid-item fa fa-th"></div>\n                        <div class="style-grid-item fa fa-th-list"></div>\n                        <div class="style-grid-item fa fa-check"></div>\n                        <div class="style-grid-item fa fa-remove"></div>\n                        <div class="style-grid-item fa fa-close"></div>\n                        <div class="style-grid-item fa fa-times"></div>\n                        <div class="style-grid-item fa fa-search-plus"></div>\n                        <div class="style-grid-item fa fa-search-minus"></div>\n                        <div class="style-grid-item fa fa-power-off"></div>\n                        <div class="style-grid-item fa fa-signal"></div>\n                        <div class="style-grid-item fa fa-gear"></div>\n                        <div class="style-grid-item fa fa-cog"></div>\n                        <div class="style-grid-item fa fa-trash-o"></div>\n                        <div class="style-grid-item fa fa-home"></div>\n                        <div class="style-grid-item fa fa-file-o"></div>\n                        <div class="style-grid-item fa fa-clock-o"></div>\n                        <div class="style-grid-item fa fa-road"></div>\n                        <div class="style-grid-item fa fa-download"></div>\n                        <div class="style-grid-item fa fa-arrow-circle-o-down"></div>\n                        <div class="style-grid-item fa fa-arrow-circle-o-up"></div>\n                        <div class="style-grid-item fa fa-inbox"></div>\n                        <div class="style-grid-item fa fa-play-circle-o"></div>\n                        <div class="style-grid-item fa fa-rotate-right"></div>\n                        <div class="style-grid-item fa fa-repeat"></div>\n                        <div class="style-grid-item fa fa-refresh"></div>\n                        <div class="style-grid-item fa fa-list-alt"></div>\n                        <div class="style-grid-item fa fa-lock"></div>\n                        <div class="style-grid-item fa fa-flag"></div>\n                        <div class="style-grid-item fa fa-headphones"></div>\n                        <div class="style-grid-item fa fa-volume-off"></div>\n                        <div class="style-grid-item fa fa-volume-down"></div>\n                        <div class="style-grid-item fa fa-volume-up"></div>\n                        <div class="style-grid-item fa fa-qrcode"></div>\n                        <div class="style-grid-item fa fa-barcode"></div>\n                        <div class="style-grid-item fa fa-tag"></div>\n                        <div class="style-grid-item fa fa-tags"></div>\n                        <div class="style-grid-item fa fa-book"></div>\n                        <div class="style-grid-item fa fa-bookmark"></div>\n                        <div class="style-grid-item fa fa-print"></div>\n                        <div class="style-grid-item fa fa-camera"></div>\n                        <div class="style-grid-item fa fa-font"></div>\n                        <div class="style-grid-item fa fa-bold"></div>\n                        <div class="style-grid-item fa fa-italic"></div>\n                        <div class="style-grid-item fa fa-text-height"></div>\n                        <div class="style-grid-item fa fa-text-width"></div>\n                        <div class="style-grid-item fa fa-align-left"></div>\n                        <div class="style-grid-item fa fa-align-center"></div>\n                        <div class="style-grid-item fa fa-align-right"></div>\n                        <div class="style-grid-item fa fa-align-justify"></div>\n                        <div class="style-grid-item fa fa-list"></div>\n                        <div class="style-grid-item fa fa-dedent"></div>\n                        <div class="style-grid-item fa fa-outdent"></div>\n                        <div class="style-grid-item fa fa-indent"></div>\n                        <div class="style-grid-item fa fa-video-camera"></div>\n                        <div class="style-grid-item fa fa-photo"></div>\n                        <div class="style-grid-item fa fa-image"></div>\n                        <div class="style-grid-item fa fa-picture-o"></div>\n                        <div class="style-grid-item fa fa-pencil"></div>\n                        <div class="style-grid-item fa fa-map-marker"></div>\n                        <div class="style-grid-item fa fa-adjust"></div>\n                        <div class="style-grid-item fa fa-tint"></div>\n                        <div class="style-grid-item fa fa-edit"></div>\n                        <div class="style-grid-item fa fa-pencil-square-o"></div>\n                        <div class="style-grid-item fa fa-share-square-o"></div>\n                        <div class="style-grid-item fa fa-check-square-o"></div>\n                        <div class="style-grid-item fa fa-arrows"></div>\n                        <div class="style-grid-item fa fa-step-backward"></div>\n                        <div class="style-grid-item fa fa-fast-backward"></div>\n                        <div class="style-grid-item fa fa-backward"></div>\n                        <div class="style-grid-item fa fa-play"></div>\n                        <div class="style-grid-item fa fa-pause"></div>\n                        <div class="style-grid-item fa fa-stop"></div>\n                        <div class="style-grid-item fa fa-forward"></div>\n                        <div class="style-grid-item fa fa-fast-forward"></div>\n                        <div class="style-grid-item fa fa-step-forward"></div>\n                        <div class="style-grid-item fa fa-eject"></div>\n                        <div class="style-grid-item fa fa-chevron-left"></div>\n                        <div class="style-grid-item fa fa-chevron-right"></div>\n                        <div class="style-grid-item fa fa-plus-circle"></div>\n                        <div class="style-grid-item fa fa-minus-circle"></div>\n                        <div class="style-grid-item fa fa-times-circle"></div>\n                        <div class="style-grid-item fa fa-check-circle"></div>\n                        <div class="style-grid-item fa fa-question-circle"></div>\n                        <div class="style-grid-item fa fa-info-circle"></div>\n                        <div class="style-grid-item fa fa-crosshairs"></div>\n                        <div class="style-grid-item fa fa-times-circle-o"></div>\n                        <div class="style-grid-item fa fa-check-circle-o"></div>\n                        <div class="style-grid-item fa fa-ban"></div>\n                        <div class="style-grid-item fa fa-arrow-left"></div>\n                        <div class="style-grid-item fa fa-arrow-right"></div>\n                        <div class="style-grid-item fa fa-arrow-up"></div>\n                        <div class="style-grid-item fa fa-arrow-down"></div>\n                        <div class="style-grid-item fa fa-mail-forward"></div>\n                        <div class="style-grid-item fa fa-share"></div>\n                        <div class="style-grid-item fa fa-expand"></div>\n                        <div class="style-grid-item fa fa-compress"></div>\n                        <div class="style-grid-item fa fa-plus"></div>\n                        <div class="style-grid-item fa fa-minus"></div>\n                        <div class="style-grid-item fa fa-asterisk"></div>\n                        <div class="style-grid-item fa fa-exclamation-circle"></div>\n                        <div class="style-grid-item fa fa-gift"></div>\n                        <div class="style-grid-item fa fa-leaf"></div>\n                        <div class="style-grid-item fa fa-fire"></div>\n                        <div class="style-grid-item fa fa-eye"></div>\n                        <div class="style-grid-item fa fa-eye-slash"></div>\n                        <div class="style-grid-item fa fa-warning"></div>\n                        <div class="style-grid-item fa fa-exclamation-triangle"></div>\n                        <div class="style-grid-item fa fa-plane"></div>\n                        <div class="style-grid-item fa fa-calendar"></div>\n                        <div class="style-grid-item fa fa-random"></div>\n                        <div class="style-grid-item fa fa-comment"></div>\n                        <div class="style-grid-item fa fa-magnet"></div>\n                        <div class="style-grid-item fa fa-chevron-up"></div>\n                        <div class="style-grid-item fa fa-chevron-down"></div>\n                        <div class="style-grid-item fa fa-retweet"></div>\n                        <div class="style-grid-item fa fa-shopping-cart"></div>\n                        <div class="style-grid-item fa fa-folder"></div>\n                        <div class="style-grid-item fa fa-folder-open"></div>\n                        <div class="style-grid-item fa fa-arrows-v"></div>\n                        <div class="style-grid-item fa fa-arrows-h"></div>\n                        <div class="style-grid-item fa fa-bar-t-o"></div>\n                        <div class="style-grid-item fa fa-bar-t"></div>\n                        <div class="style-grid-item fa fa-twitter-square"></div>\n                        <div class="style-grid-item fa fa-facebook-square"></div>\n                        <div class="style-grid-item fa fa-camera-retro"></div>\n                        <div class="style-grid-item fa fa-key"></div>\n                        <div class="style-grid-item fa fa-gears"></div>\n                        <div class="style-grid-item fa fa-cogs"></div>\n                        <div class="style-grid-item fa fa-comments"></div>\n                    </div>\n                </div>\n\n            </div>\n\n            <div data-pointfont class="group-row">\n\n                <div class="style-col-1">\n                    <span>{{translation.radius}}:</span>\n                    <input type="number" min="1" max="100" value="20" data-style-options="form.radius" value="{{icon.radius}}">\n                </div>\n\n                <div class="style-col-2">\n                    <span>{{translation.iconSize}}:</span>\n                    <input type="number" step="0.1" min=0 max=100 data-style-options="form.fontsize" value="{{icon.fontsize}}">\n                </div>\n\n\n            </div>\n\n            <div data-pointfont class="group-row">\n\n                <div class="style-col-1 input-reverse">\n                    <span>{{translation.gradient}}</span>\n                    <input type="checkbox" data-style-options="form.gradient" {{#if icon.gradient}}checked{{/if}}>\n                </div>\n\n                <div class="style-col-2">\n                    <span>{{translation.iconColor}}:</span>\n                    <input type="color" data-style-options="form.color" value="{{icon.color}}">\n                </div>\n            </div>\n\n            \x3c!-- Common --\x3e\n            <div data-common-icon class="group-row">\n\n                <div class="style-col-1">\n                    <span>Offset:</span>\n                    <input value="{{#get 0 icon.offset}}{{/get}}" type="number" data-target="form-offset" data-style-options="form.offset">\n                    <span class="empty">&nbsp;</span>\n                    <input value="{{#get 1 icon.offset}}{{/get}}" type="number" data-id="form-offset" />\n                </div>\n\n                <div class="style-col-2">\n                    <span>{{translation.opacity}}:</span>\n                    <input value="{{icon.opacity}}" type="number" step="0.1" min=0 max=1 data-style-options="form.opacity">\n                </div>\n            </div>\n\n            <div data-common-icon class="group-row">\n\n                <div class="style-col-1 input-reverse">\n                    <span>{{translation.enableRotation}}</span>\n                    <input {{#if icon.rotate}}checked {{/if}} type="checkbox" data-style-options="form.rotate">\n                </div>\n\n                <div class="style-col-2">\n                    <span>{{translation.rotate}}:</span>\n                    <input value="{{icon.rotation}}" type="number" min=0 max=360 data-style-options="form.rotation">\n                </div>\n\n            </div>\n\n        </div>\n    </div>\n</div>\n</div>'},function(e,t){e.exports='<div class="m-stylemanager-control styles-panel">\n    <div class="m-stylemanager-container-select">\n        <ul>\n            <li class="group">\n                <div class="m-stylemanager-buttons-wrap">\n                    <select class="" id="m-stylemanager-select">\n                        <option disabled="disabled" selected="selected">{{translations.selectLayer}}</option>\n                        {{#each layers}}\n                            <option name={{this.name}}>{{this.name}}</option>\n                        {{/each}}\n                    </select>\n                    <button title="{{translations.applyStyle}}" class="m-button-styles" data-apply-style><i class="gi-1x stylemanager-apply"></i></button>\n                    <button title="{{translations.clearStyle}}" class="m-button-styles" data-clear-style><i class="gi-1x stylemanager-reset"></i></button>\n                    <button title="{{translations.generateSerialized}}" class="m-button-styles" data-serialized-style><i class="gi-1x stylemanager-copy"></i></button>\n                </div>\n            </li>\n        </ul>\n\n        <div class="m-boxes m-hidden m-boxes-botonera" data-role="botonera">\n            <input data-checkbox="stylesimple" type="checkbox" class="m-input" id="box-4">\n            <label data-flap="stylesimple" for="box-4" class="check-selected check-inactive"></label>\n            <label><i class="gi-1x stylemanager-simple"></i> Simple</label>\n\n            \x3c!-- submenu --\x3e\n            <div data-buttons-option class="m-submenu-simple">\n            </div>\n\n            \x3c!-- fin submenu --\x3e\n            <input data-checkbox="styleflowline" type="checkbox" class="m-input" id="box-8">\n            <label data-flap="styleflowline" for="box-8" class="check-selected check-inactive"></label>\n            <label><i class="gi-1x stylemanager-arrow"></i>{{translations.flowLine}}</label>\n\n            <input data-checkbox="stylecluster" type="checkbox" class="m-input" id="box-1">\n            <label data-flap="stylecluster" for="box-1" class="check-selected check-inactive"></label>\n            <label><i class="gi-1x stylemanager-cluster"></i>Cluster</label>\n\n            <input data-checkbox="styleheatmap" type="checkbox" class="m-input" id="box-2">\n            <label data-flap="styleheatmap" for="box-2" class="check-selected check-inactive"></label>\n            <label><i class="gi-1x stylemanager-heatmap"></i>{{translations.heatMap}}</label>\n\n            <input data-checkbox="stylecategory" type="checkbox" class="m-input" id="box-3">\n            <label data-flap="stylecategory" for="box-3" class="check-selected check-inactive"></label>\n            <label><i class="gi-1x stylemanager-category"></i>{{translations.category}}</label>\n\n            <div data-buttons-option-category class="m-hidden m-submenu-simple">\n            </div>\n\n            <input data-checkbox="stylechoropleth" type="checkbox" class="m-input" id="box-5">\n            <label data-flap="stylechoropleth" for="box-5" class="check-selected check-inactive"></label>\n            <label><i class="gi-1x stylemanager-choro"></i>{{translations.choropleths}}</label>\n\n            <input data-checkbox="styleproportional" type="checkbox" class="m-input" id="box-6">\n            <label data-flap="styleproportional" for="box-6" class="check-selected check-inactive"></label>\n            <label><i class="gi-1x stylemanager-proportional"></i>{{translations.proportional}}</label>\n\n            <input data-checkbox="stylechart" type="checkbox" class="m-input" id="box-7">\n            <label data-flap="stylechart" for="box-7" class="check-selected check-inactive"></label>\n            <label><i class="gi-1x stylemanager-chart"></i>{{translations.statistic}}</label>\n        </div>\n\n\n    </div>\n</div>'},function(e,t){e.exports='<select class="" name="">\n  {{#each layers}}\n  <option name="{{this.name}}" {{#eq this.name this.selected}}selected{{/eq}}>{{this.name}}</option>\n  {{/each}}\n</select>\n'},function(e,t){e.exports='<div data-role="m-simple" class="m-stylemanager-simple-section">\n    \x3c!-- Fill options --\x3e\n    <div class="styles-row m-hidden m-simple-category" data-id="fill">\n        <div class="title">{{translations.options}}</div>\n        <div class="m-styles-body">\n            <div class="subtitle">{{translations.pointOptions}}<span class=\'g-cartografia-flecha-abajo\'></span></div>\n            <div class="content-row-hidden">\n                <div class="group-row">\n                    <div class="style-col-1">\n                        <span>Color:</span>\n                        <input data-style-options="point.fill.color" type="color" value="{{point.fill.color}}">\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>{{translations.opacity}}:</span>\n                        <input data-style-options="point.fill.opacity" type="number" value="{{point.fill.opacity}}" min="0" step="0.1" max="1">\n                    </div>\n                </div>\n                <div class="group-row">\n                    <div class="style-col-1">\n                        <span>{{translations.radius}}:</span>\n                        <input data-style-options="point.radius" type="number" value="{{point.radius}}" min="1" max="60">\n                    </div>\n                </div>\n            </div>\n            <div class="subtitle">{{translations.lineOptions}}<span class=\'g-cartografia-flecha-abajo\'></span> </div>\n            <div class="content-row-hidden">\n                <div class="group-row">\n                    <div class="style-col-1">\n                        <span>Color:</span>\n                        <input data-style-options="line.fill.color" type="color" value="{{line.fill.color}}">\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>{{translations.opacity}}:</span>\n                        <input data-style-options="line.fill.opacity" type="number" value="{{line.fill.opacity}}" min="0" step="0.1" max="1">\n                    </div>\n                </div>\n                <div class="group-row">\n                    <div class="style-col-1">\n                        <span>{{translations.width}}:</span>\n                        <input value="{{line.fill.width}}" min="1" type="number" data-style-options="line.fill.width">\n                    </div>\n                </div>\n                <div class="group-row">\n                    <div class="style-col-1 input-reverse">\n                        <span>{{translations.pattern}}</span>\n                        <input data-apply="line.fill.pattern" type="checkbox" {{#if line.patternflag }}checked{{/if}}>\n                    </div>\n                </div>\n                <div class="group-row">\n                    <div class="style-col-1">\n                        <span>{{translations.type}}:</span>\n                        <select data-style-options="line.fill.pattern.name">\n                            {{#each line.patternlist}}\n                                <option value="{{#lowercase this.name}}{{/lowercase}}" {{#eq this.name this.selected}} selected {{/eq}}>\n                                    {{this.name}}\n                                </option>\n                            {{/each}}\n                        </select>\n                    </div>\n                    <div class="style-col-2">\n                        <span>Color:</span>\n                        <input value="{{line.fill.pattern.color}}" type="color" data-style-options="line.fill.pattern.color">\n                    </div>\n                </div>\n                <div class="group-row">\n                    <div class="style-col-1">\n                        <span>{{translations.size}}:</span>\n                        <input value="{{line.fill.pattern.size}}" type="number" min="1" max="100" data-style-options="line.fill.pattern.size">\n                    </div>\n                    <div class="style-col-2">\n                        <span>{{translations.space}}:</span>\n                        <input value="{{line.fill.pattern.spacing}}" type="number" min="1" max="100" data-style-options="line.fill.pattern.spacing">\n                    </div>\n                </div>\n                <div class="group-row">\n                    <div class="style-col-1">\n                        <span>{{translations.rotation}}:</span>\n                        <input value="{{line.fill.pattern.rotation}}" type="number" data-style-options="line.fill.pattern.rotation">\n                    </div>\n                    <div class="style-col-2">\n                        <span>{{translations.scale}}:</span>\n                        <input value="{{line.fill.pattern.scale}}" type="number" min="1" max="30" data-style-options="line.fill.pattern.scale">\n                    </div>\n                </div>\n                <div class="group-row">\n                    <div class="style-col-1">\n                        <span>Offset:</span>\n                        <input value="{{line.fill.pattern.offset}}" type="number" data-style-options="line.fill.pattern.offset">\n                    </div>\n                </div>\n            </div>\n            <div class="subtitle">{{translations.polygonOptions}}<span class=\'g-cartografia-flecha-abajo\'></span></div>\n            <div class="content-row-hidden">\n                <div class="group-row">\n                    <div class="style-col-1">\n                        <span>Color:</span>\n                        <input data-style-options="polygon.fill.color" type="color" value="{{polygon.fill.color}}">\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>{{translations.opacity}}:</span>\n                        <input data-style-options="polygon.fill.opacity" type="number" value="{{polygon.fill.opacity}}" min="0" step="0.1" max="1">\n                    </div>\n                </div>\n                <div class="group-row">\n                    <div class="style-col-1 input-reverse">\n                        <span>{{translations.pattern}}</span>\n                        <input data-apply="polygon.fill.pattern" type="checkbox" {{#if polygon.patternfflag }}checked{{/if}}>\n                    </div>\n                </div>\n                <div class="group-row">\n                    <div class="style-col-1">\n                        <span>{{translations.type}}:</span>\n                        <select data-style-options="polygon.fill.pattern.name">\n                            {{#each polygon.patternflist}}\n                                <option value="{{#lowercase this.name}}{{/lowercase}}" {{#eq this.name this.selected}} selected {{/eq}}>\n                                    {{this.name}}\n                                </option>\n                            {{/each}}\n                        </select>\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>Color:</span>\n                        <input value="{{polygon.fill.pattern.color}}" type="color" data-style-options="polygon.fill.pattern.color">\n                    </div>\n                </div>\n                <div class="group-row">\n                    <div class="style-col-1">\n                        <span>{{translations.size}}:</span>\n                        <input value="{{polygon.fill.pattern.size}}" type="number" min="1" max="100" data-style-options="polygon.fill.pattern.size">\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>{{translations.space}}:</span>\n                        <input value="{{polygon.fill.pattern.spacing}}" type="number" min="1" max="100" data-style-options="polygon.fill.pattern.spacing">\n                    </div>\n                </div>\n                <div class="group-row">\n                    <div class="style-col-1">\n                        <span>{{translations.rotation}}:</span>\n                        <input value="{{polygon.fill.pattern.rotation}}" type="number" data-style-options="polygon.fill.pattern.rotation">\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>{{translations.scale}}:</span>\n                        <input value="{{polygon.fill.pattern.scale}}" type="number" min="1" max="30" data-style-options="polygon.fill.pattern.scale">\n                    </div>\n                </div>\n                <div class="group-row">\n                    <div class="style-col-1">\n                        <span>Offset:</span>\n                        <input value="{{polygon.fill.pattern.offset}}" type="number" data-style-options="polygon.fill.pattern.offset">\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    \x3c!-- Stroke options --\x3e\n    <div class="styles-row m-hidden m-simple-category" data-id="stroke">\n        <div class="title">{{translations.options}}</div>\n        <div class="m-styles-body">\n            <div class="subtitle">{{translations.pointOptions}} <span class=\'g-cartografia-flecha-abajo\'></span></div>\n            <div class="content-row-hidden">\n                <div class="group-row">\n                    <div class="style-col-1">\n                        <span>Color:</span>\n                        <input value="{{point.stroke.color}}" type="color" data-style-options="point.stroke.color">\n                    </div>\n                    <div class="style-col-2">\n                        <span>{{translations.width}}:</span>\n                        <input value="{{point.stroke.width}}" type="number" value="2" min="1" data-style-options="point.stroke.width">\n                    </div>\n                </div>\n                <div class="group-row">\n                    <div class="style-col-1">\n                        <span>{{translations.opacity}}:</span>\n                        <input value="{{point.stroke.opacity}}" type="number" min="0" step="0.1" max="1" data-style-options="point.stroke.opacity">\n                    </div>\n                </div>\n                <div class="group-row">\n                    <div class="style-col-1">\n                        <span>Linedash:</span>\n                        <input value="{{#get 0 point.stroke.linedash}}{{/get}}" type="number" data-target="point.stroke.linedash" data-style-options="point.stroke.linedash">\n                        <span class="empty">&nbsp;</span>\n                        <input value="{{#get 1 point.stroke.linedash}}{{/get}}" type="number" data-id="point.stroke.linedash">\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>Linedash Offset:</span>\n                        <input type="number" value="{{point.stroke.linedashoffset}}" data-style-options="point.stroke.linedashoffset">\n                    </div>\n                </div>\n                <div class="group-row">\n\n                    <div class="style-col-1">\n                        <span>Line Cap</span>\n                        <select data-style-options="stroke.linecap">\n                            <option value="">{{translations.none}}</option>\n                            {{#each point.linecapstroke}}\n                                <option value="{{this.name}}" {{#eq this.name this.selected}}selected{{/eq}}>{{this.name}}</option>\n                            {{/each}}\n                        </select>\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>Line Join:</span>\n                        <select data-style-options="stroke.linejoin">\n                            <option value="">{{translations.none}}</option>\n                            {{#each point.linejoinstroke}}\n                                <option value="{{this.name}}" {{#eq this.name this.selected}}selected{{/eq}}> {{this.name}}</option>\n                            {{/each}}\n                        </select>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n        <div class="subtitle">{{translations.lineOptions}} <span class=\'g-cartografia-flecha-abajo\'></span></div>\n        <div class="content-row-hidden">\n            <div class="group-row">\n                <div class="style-col-1">\n                    <span>Color:</span>\n                    <input value="{{line.stroke.color}}" type="color" data-style-options="line.stroke.color">\n                </div>\n                <div class="style-col-2">\n                    <span>Ancho:</span>\n                    <input value="{{line.stroke.width}}" type="number" value="2" min="1" data-style-options="line.stroke.width">\n                </div>\n            </div>\n            <div class="group-row">\n                <div class="style-col-1">\n                    <span>{{translations.opacity}}:</span>\n                    <input value="{{line.stroke.opacity}}" type="number" min="0" step="0.1" max="1" data-style-options="line.stroke.opacity">\n                </div>\n            </div>\n            <div class="group-row">\n                <div class="style-col-1">\n                    <span>Linedash:</span>\n                    <input value="{{#get 0 line.stroke.linedash}}{{/get}}" type="number" data-target="line.stroke.linedash" data-style-options="line.stroke.linedash">\n                    <span class="empty">&nbsp;</span>\n                    <input value="{{#get 1 line.stroke.linedash}}{{/get}}" type="number" data-id="line.stroke.linedash">\n                </div>\n\n                <div class="style-col-2">\n                    <span>Linedash Offset:</span>\n                    <input type="number" value="{{line.stroke.linedashoffset}}" data-style-options="line.stroke.linedashoffset">\n                </div>\n            </div>\n            <div class="group-row">\n\n                <div class="style-col-1">\n                    <span>Line Cap</span>\n                    <select data-style-options="stroke.linecap">\n                        <option value="">{{translations.none}}</option>\n                        {{#each line.linecapstroke}}\n                            <option value="{{this.name}}" {{#eq this.name this.selected}}selected{{/eq}}>{{this.name}}</option>\n                        {{/each}}\n                    </select>\n                </div>\n\n                <div class="style-col-2">\n                    <span>Line Join:</span>\n                    <select data-style-options="stroke.linejoin">\n                        <option value="">{{translations.none}}</option>\n                        {{#each line.linejoinstroke}}\n                            <option value="{{this.name}}" {{#eq this.name this.selected}}selected{{/eq}}> {{this.name}}</option>\n                        {{/each}}\n                    </select>\n                </div>\n\n            </div>\n        </div>\n        <div class="subtitle">{{translations.polygonOptions}} <span class=\'g-cartografia-flecha-abajo\'></span></div>\n        <div class="content-row-hidden">\n            <div class="group-row">\n                <div class="style-col-1">\n                    <span>Color:</span>\n                    <input value="{{polygon.stroke.color}}" type="color" data-style-options="polygon.stroke.color">\n                </div>\n                <div class="style-col-2">\n                    <span>{{translations.width}}:</span>\n                    <input value="{{polygon.stroke.width}}" type="number" value="2" min="1" data-style-options="polygon.stroke.width">\n                </div>\n            </div>\n            <div class="group-row">\n                <div class="style-col-1">\n                    <span>{{translations.opacity}}:</span>\n                    <input value="{{polygon.stroke.opacity}}" type="number" min="0" step="0.1" max="1" data-style-options="polygon.stroke.opacity">\n                </div>\n            </div>\n            <div class="group-row">\n                <div class="style-col-1">\n                    <span>Linedash:</span>\n                    <input value="{{#get 0 polygon.stroke.linedash}}{{/get}}" type="number" data-target="polygon.stroke.linedash" data-style-options="polygon.stroke.linedash">\n                    <span class="empty">&nbsp;</span>\n                    <input value="{{#get 1 polygon.stroke.linedash}}{{/get}}" type="number" data-id="polygon.stroke.linedash">\n                </div>\n\n                <div class="style-col-2">\n                    <span>Linedash Offset:</span>\n                    <input type="number" value="{{polygon.stroke.linedashoffset}}" data-style-options="polygon.stroke.linedashoffset">\n                </div>\n            </div>\n            <div class="group-row">\n\n                <div class="style-col-1">\n                    <span>Line Cap</span>\n                    <select data-style-options="stroke.linecap">\n                        <option value="">{{translations.none}}</option>\n                        {{#each polygon.linecapstroke}}\n                            <option value="{{this.name}}" {{#eq this.name this.selected}}selected{{/eq}}>{{this.name}}</option>\n                        {{/each}}\n                    </select>\n                </div>\n\n                <div class="style-col-2">\n                    <span>Line Join:</span>\n                    <select data-style-options="stroke.linejoin">\n                        <option value="">{{translations.none}}</option>\n                        {{#each polygon.linejoinstroke}}\n                            <option value="{{this.name}}" {{#eq this.name this.selected}}selected{{/eq}}> {{this.name}}</option>\n                        {{/each}}\n                    </select>\n                </div>\n            </div>\n            <div class="group-row">\n                <div class="style-col-1 input-reverse">\n                    <span>{{translations.pattern}}</span>\n                    <input data-apply="polygon.stroke.pattern" type="checkbox" {{#if polygon.patternstflag }}checked{{/if}}>\n                </div>\n            </div>\n            <div class="group-row">\n                <div class="style-col-1">\n                    <span>{{translations.type}}:</span>\n                    <select data-style-options="polygon.stroke.pattern.name">\n                        {{#each polygon.patternstlist}}\n                            <option value="{{#lowercase this.name}}{{/lowercase}}" {{#eq this.name this.selected}} selected {{/eq}}>\n                                {{this.name}}\n                            </option>\n                        {{/each}}\n                    </select>\n                </div>\n\n                <div class="style-col-2">\n                    <span>Color:</span>\n                    <input value="{{polygon.stroke.pattern.color}}" type="color" data-style-options="polygon.stroke.pattern.color">\n                </div>\n            </div>\n            <div class="group-row">\n                <div class="style-col-1">\n                    <span>{{translations.size}}:</span>\n                    <input value="{{polygon.stroke.pattern.size}}" type="number" min="1" max="100" data-style-options="polygon.stroke.pattern.size">\n                </div>\n\n                <div class="style-col-2">\n                    <span>{{translations.space}}:</span>\n                    <input value="{{polygon.stroke.pattern.spacing}}" type="number" min="1" max="100" data-style-options="polygon.stroke.pattern.spacing">\n                </div>\n            </div>\n            <div class="group-row">\n                <div class="style-col-1">\n                    <span>{{translations.rotation}}:</span>\n                    <input value="{{polygon.stroke.pattern.rotation}}" type="number" data-style-options="polygon.stroke.pattern.rotation">\n                </div>\n\n                <div class="style-col-2">\n                    <span>{{translations.scale}}:</span>\n                    <input value="{{polygon.stroke.pattern.scale}}" type="number" min="1" max="30" data-style-options="polygon.stroke.pattern.scale">\n                </div>\n            </div>\n            <div class="group-row">\n                <div class="style-col-1">\n                    <span>Offset:</span>\n                    <input value="{{polygon.stroke.pattern.offset}}" type="number" data-style-options="polygon.stroke.pattern.offset">\n                </div>\n            </div>\n        </div>\n    </div>\n    \x3c!-- Label options --\x3e\n    <div class="styles-row m-hidden m-simple-category" data-id="label">\n        <div class="title">{{translations.options}}</div>\n        <div class="m-styles-body">\n            <div class="subtitle">{{translations.pointOptions}} <span class=\'g-cartografia-flecha-abajo\'></span></div>\n            <div class="content-row-hidden">\n                <div class="group-row">\n                    <div class="style-col-1">\n                        <span>Color</span>\n                        <input value="{{point.label.color}}" type="color" data-style-options="point.label.color" value="#0d5cdc">\n                    </div>\n                    <div class="style-col-2">\n                        <span>{{translations.text}}:</span>\n                        <select data-style-options="point.label.text">\n                            {{#each point.featuresAttr}}\n                                <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n                            {{/each}}\n                        </select>\n                    </div>\n                </div>\n                <div class="group-row">\n                    <div class="style-col-1">\n                        <span>{{translations.font}}:</span>\n                        <select data-font-family-point>\n                            <option {{#eq point.label.font \'serif\'}}selected{{/eq}} {{this.name}}value="serif">Serif</option>\n                            <option {{#eq point.label.font \'sans-serif\'}}selected{{/eq}} value="sans-serif">Sans-Serif</option>\n                            <option {{#eq point.label.font \'mono\'}}selected{{/eq}} value="mono">Mono</option>\n                        </select>\n                    </div>\n                    <div class="style-col-2">\n                        <span>{{translations.size}}:</span>\n                        <input value="{{point.label.fontSize}}" data-font-size-point type="number" min="1" max="40" value="12">\n                    </div>\n                </div>\n                <div class="group-row">\n                    <div class="style-col-1">\n                        <span>{{translations.horizontalAlignment}}:</span>\n                        <select data-style-options="point.label.align">\n                            {{#each point.alignlist}}\n                                <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n                            {{/each}}\n                        </select>\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>{{translations.verticalAlignment}}:</span>\n                        <select data-style-options="point.label.baseline">\n                            {{#each point.baselinelist}}\n                                <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n                            {{/each}}\n                        </select>\n                    </div>\n\n                </div>\n                <div class="group-row">\n\n                    <div class="style-col-1 input-reverse">\n                        <span>{{translations.enableRotation}}</span>\n                        <input {{#if point.label.rotate}}checked{{/if}} type="checkbox" data-style-options="point.label.rotate">\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>{{translations.rotation}}</span>\n                        <input value="{{point.label.rotation}}" type="number" step="0.1" data-style-options="point.label.rotation">\n                    </div>\n\n                </div>\n                <div class="group-row">\n\n                    <div class="style-col-1">\n                        <span>{{translations.scale}}:</span>\n                        <input value="{{point.label.scale}}" type="number" max="3" min="0" step="0.1" value="2" data-style-options="point.label.scale">\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>Offset:</span>\n                        <input value="{{#get 0 point.label.offset}}{{/get}}" type="number" data-target="point.label.offset" data-style-options="point.label.offset">\n                        <span class="empty">&nbsp;</span>\n                        <input value="{{#get 1 point.label.offset}}{{/get}}" type="number" data-id="point.label.offset">\n                    </div>\n\n                </div>\n                \x3c!-- Stroke Label --\x3e\n                <div class="subtitle">{{translations.labelStroke}}:</div>\n                <div class="group-row">\n\n                    <div class="style-col-1 input-reverse">\n                        <span>{{translations.label}}</span>\n                        <input type="checkbox" data-apply="point.label.stroke" {{#neq point.label.stroke.color \'no-color\' }}checked{{/neq}}>\n                    </div>\n\n                </div>\n                <div class="group-row">\n\n                    <div class="style-col-1">\n                        <span>Color:</span>\n                        <input type="color" data-style-options="point.label.stroke.color" {{#neq point.label.stroke.color \'no-color\'}} value="{{point.label.stroke.color}}" {{/neq}}>\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>{{translations.width}}:</span>\n                        <input value="{{point.label.stroke.width}}" type="number" value="2" max="15" min="1" data-style-options="point.label.stroke.width">\n                    </div>\n\n                </div>\n                <div class="group-row">\n\n                    <div class="style-col-1">\n                        <span>Line Dash:</span>\n                        <input value="{{#get 0 point.label.stroke.linedash}}{{/get}}" type="number" data-target="point.label.stroke.linedash" data-style-options="point.label.stroke.linedash" data-format="array">\n                        <span class="empty">&nbsp;</span>\n                        <input value="{{#get 1 point.label.stroke.linedash}}{{/get}}" type="number" data-id="point.label.stroke.linedash">\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>Offset:</span>\n                        <input type="number" value="{{point.label.stroke.linedashoffset}}" data-style-options="point.label.stroke.linedashoffset">\n                    </div>\n                </div>\n                <div class="group-row">\n\n                    <div class="style-col-1">\n                        <span>Line Cap:</span>\n                        <select data-style-options="point.label.stroke.linecap">\n                            {{#each point.linecaplabelstroke}}\n                                <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n                            {{/each}}\n                        </select>\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>Line Join:</span>\n                        <select data-style-options="point.label.stroke.linejoin">\n                            {{#each point.linejoinlabelstroke}}\n                                <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n                            {{/each}}\n                        </select>\n                    </div>\n                </div>\n            </div>\n            <div class="subtitle">{{translations.lineOptions}} <span class=\'g-cartografia-flecha-abajo\'></span></div>\n            <div class="content-row-hidden">\n                <div class="group-row">\n                    <div class="style-col-1">\n                        <span>Color</span>\n                        <input value="{{line.label.color}}" type="color" data-style-options="line.label.color" value="#0d5cdc">\n                    </div>\n                    <div class="style-col-2">\n                        <span>{{translations.text}}:</span>\n                        <select data-style-options="line.label.text">\n                            {{#each line.featuresAttr}}\n                                <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n                            {{/each}}\n                        </select>\n                    </div>\n                </div>\n                <div class="group-row">\n                    <div class="style-col-1">\n                        <span>{{translations.font}}:</span>\n                        <select data-font-family-line>\n                            <option {{#eq line.label.font \'serif\'}}selected{{/eq}} {{this.name}}value="serif">Serif</option>\n                            <option {{#eq line.label.font \'sans-serif\'}}selected{{/eq}} value="sans-serif">Sans-Serif</option>\n                            <option {{#eq line.label.font \'mono\'}}selected{{/eq}} value="mono">Mono</option>\n                        </select>\n                    </div>\n                    <div class="style-col-2">\n                        <span>{{translations.size}}:</span>\n                        <input value="{{line.label.fontSize}}" data-font-size-line type="number" min="1" max="40" value="12">\n                    </div>\n                </div>\n                <div class="group-row">\n                    <div class="style-col-1">\n                        <span>{{translations.horizontalAlignment}}:</span>\n                        <select data-style-options="line.label.align">\n                            {{#each line.alignlist}}\n                                <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n                            {{/each}}\n                        </select>\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>{{translations.verticalAlignment}}:</span>\n                        <select data-style-options="line.label.baseline">\n                            {{#each line.baselinelist}}\n                                <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n                            {{/each}}\n                        </select>\n                    </div>\n\n                </div>\n                <div class="group-row">\n\n                    <div class="style-col-1 input-reverse">\n                        <span>{{translations.enableRotation}}</span>\n                        <input {{#if line.label.rotate}}checked{{/if}} type="checkbox" data-style-options="line.label.rotate">\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>{{translations.rotation}}</span>\n                        <input value="{{line.label.rotation}}" type="number" step="0.1" data-style-options="line.label.rotation">\n                    </div>\n\n                </div>\n                <div class="group-row">\n\n                    <div class="style-col-1">\n                        <span>{{translations.scale}}:</span>\n                        <input value="{{line.label.scale}}" type="number" max="3" min="0" step="0.1" value="2" data-style-options="line.label.scale">\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>Offset:</span>\n                        <input value="{{#get 0 line.label.offset}}{{/get}}" type="number" data-target="line.label.offset" data-style-options="line.label.offset">\n                        <span class="empty">&nbsp;</span>\n                        <input value="{{#get 1 line.label.offset}}{{/get}}" type="number" data-id="line.label.offset">\n                    </div>\n\n                </div>\n                \x3c!-- TextPath Options --\x3e\n\n                <div class="group-row">\n\n                    <div class="style-col-1 input-reverse">\n                        <span>{{translations.fitGeometry}}</span>\n                        <input {{#if line.label.path}}checked{{/if}} type="checkbox" data-style-options="line.label.path">\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>{{translations.minimumWidth}}:</span>\n                        <input value="{{line.label.minwidth}}" type="number" min="1" max="200" value="10" data-style-options="line.label.minwidth" data-textpath {{#unless line.label.path}}disabled{{/unless}}>\n                    </div>\n\n                </div>\n\n                <div class="group-row">\n\n                    <div class="style-col-1 input-reverse">\n                        <span>{{translations.smooth}}</span>\n                        <input {{#if line.label.smooth}}checked{{/if}} type="checkbox" data-style-options="line.label.smooth" data-textpath {{#unless line.label.path}}disabled{{/unless}}>\n                    </div>\n\n                    <div class=style-col-2>\n                        <span>{{translations.overflow}}:</span>\n                        <select data-style-options="line.label.textoverflow" data-textpath {{#unless line.label.path}}disabled{{/unless}}>\n                            <option value="hidden">{{translations.hidden}}</option>\n                            <option value="visible">{{translations.visible}}</option>\n                            <option value="ellipsis">{{translations.ellipsis}}</option>\n                        </select>\n                    </div>\n\n                </div>\n                \x3c!-- Stroke Label --\x3e\n                <div class="subtitle">{{translations.labelStroke}}:</div>\n                <div class="group-row">\n\n                    <div class="style-col-1 input-reverse">\n                        <span>{{translations.label}}</span>\n                        <input type="checkbox" data-apply="line.label.stroke" {{#neq line.label.stroke.color \'no-color\' }}checked{{/neq}}>\n                    </div>\n\n                </div>\n                <div class="group-row">\n\n                    <div class="style-col-1">\n                        <span>Color:</span>\n                        <input type="color" data-style-options="line.label.stroke.color" {{#neq line.label.stroke.color \'no-color\'}} value="{{line.label.stroke.color}}" {{/neq}}>\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>{{translations.width}}:</span>\n                        <input value="{{line.label.stroke.width}}" type="number" value="2" max="15" min="1" data-style-options="line.label.stroke.width">\n                    </div>\n\n                </div>\n                <div class="group-row">\n\n                    <div class="style-col-1">\n                        <span>Line Dash:</span>\n                        <input value="{{#get 0 line.label.stroke.linedash}}{{/get}}" type="number" data-target="line.label.stroke.linedash" data-style-options="line.label.stroke.linedash" data-format="array">\n                        <span class="empty">&nbsp;</span>\n                        <input value="{{#get 1 line.label.stroke.linedash}}{{/get}}" type="number" data-id="line.label.stroke.linedash">\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>Offset:</span>\n                        <input type="number" value="{{line.label.stroke.linedashoffset}}" data-style-options="line.label.stroke.linedashoffset">\n                    </div>\n                </div>\n                <div class="group-row">\n\n                    <div class="style-col-1">\n                        <span>Line Cap:</span>\n                        <select data-style-options="line.label.stroke.linecap">\n                            {{#each line.linecaplabelstroke}}\n                                <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n                            {{/each}}\n                        </select>\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>Line Join:</span>\n                        <select data-style-options="line.label.stroke.linejoin">\n                            {{#each line.linejoinlabelstroke}}\n                                <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n                            {{/each}}\n                        </select>\n                    </div>\n                </div>\n            </div>\n            <div class="subtitle">{{translations.polygonOptions}} <span class=\'g-cartografia-flecha-abajo\'></span></div>\n            <div class="content-row-hidden">\n                <div class="group-row">\n                    <div class="style-col-1">\n                        <span>Color</span>\n                        <input value="{{polygon.label.color}}" type="color" data-style-options="polygon.label.color" value="#0d5cdc">\n                    </div>\n                    <div class="style-col-2">\n                        <span>{{translations.text}}:</span>\n                        <select data-style-options="polygon.label.text">\n                            {{#each polygon.featuresAttr}}\n                                <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n                            {{/each}}\n                        </select>\n                    </div>\n                </div>\n                <div class="group-row">\n                    <div class="style-col-1">\n                        <span>{{translations.font}}:</span>\n                        <select data-font-family-polygon>\n                            <option {{#eq polygon.label.font \'serif\'}}selected{{/eq}} {{this.name}}value="serif">Serif</option>\n                            <option {{#eq polygon.label.font \'sans-serif\'}}selected{{/eq}} value="sans-serif">Sans-Serif</option>\n                            <option {{#eq polygon.label.font \'mono\'}}selected{{/eq}} value="mono">Mono</option>\n                        </select>\n                    </div>\n                    <div class="style-col-2">\n                        <span>{{translations.size}}:</span>\n                        <input value="{{polygon.label.fontSize}}" data-font-size-polygon type="number" min="1" max="40" value="12">\n                    </div>\n                </div>\n                <div class="group-row">\n                    <div class="style-col-1">\n                        <span>{{translations.horizontalAlignment}}:</span>\n                        <select data-style-options="polygon.label.align">\n                            {{#each polygon.alignlist}}\n                                <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n                            {{/each}}\n                        </select>\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>{{translations.verticalAlignment}}:</span>\n                        <select data-style-options="polygon.label.baseline">\n                            {{#each polygon.baselinelist}}\n                                <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n                            {{/each}}\n                        </select>\n                    </div>\n\n                </div>\n                <div class="group-row">\n\n                    <div class="style-col-1 input-reverse">\n                        <span>{{translations.enableRotation}}</span>\n                        <input {{#if polygon.label.rotate}}checked{{/if}} type="checkbox" data-style-options="polygon.label.rotate">\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>{{translations.rotation}}</span>\n                        <input value="{{polygon.label.rotation}}" type="number" step="0.1" data-style-options="polygon.label.rotation">\n                    </div>\n\n                </div>\n                <div class="group-row">\n\n                    <div class="style-col-1">\n                        <span>{{translations.scale}}:</span>\n                        <input value="{{polygon.label.scale}}" type="number" max="3" min="0" step="0.1" value="2" data-style-options="polygon.label.scale">\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>Offset:</span>\n                        <input value="{{#get 0 polygon.label.offset}}{{/get}}" type="number" data-target="polygon.label.offset" data-style-options="polygon.label.offset">\n                        <span class="empty">&nbsp;</span>\n                        <input value="{{#get 1 polygon.label.offset}}{{/get}}" type="number" data-id="polygon.label.offset">\n                    </div>\n\n                </div>\n                \x3c!-- Stroke Label --\x3e\n                <div class="subtitle">{{translations.labelStroke}}:</div>\n                <div class="group-row">\n\n                    <div class="style-col-1 input-reverse">\n                        <span>{{translations.label}}</span>\n                        <input type="checkbox" data-apply="polygon.label.stroke" {{#neq polygon.label.stroke.color \'no-color\' }}checked{{/neq}}>\n                    </div>\n\n                </div>\n                <div class="group-row">\n\n                    <div class="style-col-1">\n                        <span>Color:</span>\n                        <input type="color" data-style-options="polygon.label.stroke.color" {{#neq polygon.label.stroke.color \'no-color\'}} value="{{polygon.label.stroke.color}}" {{/neq}}>\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>{{translations.width}}:</span>\n                        <input value="{{polygon.label.stroke.width}}" type="number" value="2" max="15" min="1" data-style-options="polygon.label.stroke.width">\n                    </div>\n\n                </div>\n                <div class="group-row">\n\n                    <div class="style-col-1">\n                        <span>Line Dash:</span>\n                        <input value="{{#get 0 polygon.label.stroke.linedash}}{{/get}}" type="number" data-target="polygon.label.stroke.linedash" data-style-options="polygon.label.stroke.linedash" data-format="array">\n                        <span class="empty">&nbsp;</span>\n                        <input value="{{#get 1 polygon.label.stroke.linedash}}{{/get}}" type="number" data-id="polygon.label.stroke.linedash">\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>Offset:</span>\n                        <input type="number" value="{{polygon.label.stroke.linedashoffset}}" data-style-options="polygon.label.stroke.linedashoffset">\n                    </div>\n                </div>\n                <div class="group-row">\n\n                    <div class="style-col-1">\n                        <span>Line Cap:</span>\n                        <select data-style-options="polygon.label.stroke.linecap">\n                            {{#each polygon.linecaplabelstroke}}\n                                <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n                            {{/each}}\n                        </select>\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>Line Join:</span>\n                        <select data-style-options="polygon.label.stroke.linejoin">\n                            {{#each polygon.linejoinlabelstroke}}\n                                <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n                            {{/each}}\n                        </select>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    \x3c!-- Icon Options --\x3e\n    <div class="styles-row m-hidden m-simple-category" data-id="icon">\n        <div class="title">{{translations.options}}</div>\n        <div class="m-styles-body">\n            <div class="subtitle">{{translations.pointOptions}} <span class=\'g-cartografia-flecha-abajo\'></span></div>\n            <div class="content-row-hidden">\n                <div data-pointicon class="group-row">\n                    <div class="style-col-1">\n                        <span>URL:</span>\n                        <input value="{{point.icon.src}}" type="url" data-style-options="point.src.src">\n                        <button title="{{translations.info}}" class="m-button-add-styles info-url" data-info><i class="fa fa-info-circle"></i></button>\n                    </div>\n                    <div class="style-col-2">\n                        <span>{{translations.size}}:</span>\n                        <input {{#if point.icon.size}}value="{{#get 0 point.icon.size}}{{/get}}" {{/if}} type="number" min="1" data-undefined data-target="size" data-style-options="point.src.size">\n                        <span class="empty">&nbsp;</span>\n                        <input {{#if point.icon.size}}value="{{#get 1 point.icon.size}}{{/get}}" {{/if}} type="number" min="1" data-undefined data-id="size">\n                    </div>\n                </div>\n\n                <div data-pointicon class="group-row">\n                    <div class="style-col-2 input-reverse m-hidden">\n                        <span>Snap to pixel</span>\n                        <input {{#if point.icon.snaptopixel}}checked{{/if}} type="checkbox" data-style-options="point.src.snaptopixel">\n                    </div>\n                </div>\n\n                <div data-pointicon class="group-row">\n                    <div class="style-col-1">\n                        <span>{{translations.anchorage}}:</span>\n                        <input value="{{#get 0 point.icon.anchor}}{{/get}}" type="number" data-target="anchor" data-style-options="point.src.anchor" step="0.1">\n                        <span class="empty">&nbsp;</span>\n                        <input value="{{#get 1 point.icon.anchor}}{{/get}}" type="number" data-id="anchor" step="0.1">\n                    </div>\n                    <div class="style-col-2">\n                        <span>Escala:</span>\n                        <input value="{{point.icon.scale}}" type="number" data-style-options="point.src.scale" max="3" min="0" step="0.1">\n                    </div>\n                </div>\n\n                \x3c!-- Common --\x3e\n                <div data-common-icon class="group-row">\n\n                    <div class="style-col-1">\n                        <span>Offset:</span>\n                        <input value="{{#get 0 point.icon.offset}}{{/get}}" type="number" data-target="icon-offset" data-style-options="point.src.offset">\n                        <span class="empty">&nbsp;</span>\n                        <input value="{{#get 1 point.icon.offset}}{{/get}}" type="number" data-id="icon-offset" />\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>{{translations.opacity}}:</span>\n                        <input value="{{point.icon.opacity}}" type="number" step="0.1" min=0 max=1 data-style-options="point.src.opacity">\n                    </div>\n                </div>\n\n                <div data-common-icon class="group-row">\n\n                    <div class="style-col-1 input-reverse">\n                        <span>{{translations.enableRotation}}</span>\n                        <input {{#if point.icon.rotate}}checked {{/if}} type="checkbox" data-style-options="point.src.rotate">\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>{{translations.rotation}}:</span>\n                        <input value="{{point.icon.rotation}}" type="number" min=0 max=360 data-style-options="point.src.rotation">\n                    </div>\n\n                </div>\n                \x3c!-- SVG --\x3e\n                <div class="group-row">\n                    <div class="style-col-1 input-reverse">\n                        <span>{{translations.modifySVG}}</span>\n                        <input type="checkbox" {{#if point.svgflag}}checked {{/if}} data-apply="point-svg">\n                    </div>\n                </div>\n                <div class="group-row">\n                    <div class="style-col-1">\n                        <span>{{translations.stroke}}</span>\n                    </div>\n                </div>\n                <div data-pointicon class="group-row">\n                    <div class="style-col-1">\n                        <span>Color:</span>\n                        <input type="color" value="{{point.src.stroke.color}}" data-style-options="point.src.stroke.color">\n                    </div>\n                    <div class="style-col-2">\n                        <span>{{translations.width}}:</span>\n                        <input type="text" value="{{point.src.stroke.width}}" min="1" max="100" data-style-options="point.src.stroke.width">\n                    </div>\n                </div>\n\n                <div class="group-row">\n                    <div class="style-col-1">\n                        <span>{{translations.fill}}</span>\n                    </div>\n                </div>\n                <div data-pointicon class="group-row">\n                    <div class="style-col-1">\n                        <span>Color:</span>\n                        <input type="color" value="{{point.src.fill.color}}" data-style-options="point.src.fill.color">\n                    </div>\n                    <div class="style-col-2">\n                        <span>{{translations.opacity}}:</span>\n                        <input type="text" value="{{point.src.fill.opacity}}" step="0.1" min=0 max=1 data-style-options="point.src.fill.opacity">\n                    </div>\n                </div>\n                \x3c!----\x3e\n            </div>\n        </div>\n    </div>\n    \x3c!-- Form Options --\x3e\n    <div class="styles-row m-hidden m-simple-category" data-id="form">\n        <div class="title">{{translations.options}}</div>\n        <div class="m-styles-body">\n            <div class="subtitle">{{translations.pointOptions}} <span class=\'g-cartografia-flecha-abajo\'></span></div>\n            \x3c!-- Point Font --\x3e\n            <div class="content-row-hidden">\n                <div data-pointfont class="group-row">\n                    <div class="style-col-1">\n                        <span>bkColor:</span>\n                        <input type="color" data-style-options="point.form.fill" value="{{point.icon.fill}}">\n                    </div>\n                </div>\n                <div data-pointfont class="group-row">\n\n                    <div class="style-col-1">\n                        <span>{{translations.form}}:</span>\n                        <select data-style-options="point.form.form">\n                            {{#each point.formlist}}\n                                <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n                            {{/each}}\n                        </select>\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>{{translations.family}}:</span>\n                        <select data-style-options="point.form.class" data-icon="{{point.con.class}}">\n                            <option value="" selected>None</option>\n                            <option value="g-cartografia">G-Cartografía</option>\n                            <option value="fa">Font Awesome</option>\n                        </select>\n                        <button id="select-icon" class="g-cartografia-info"></button>\n                        <div class="style-grid-container">\n                            <div class="style-grid-item g-cartografia-spinner"></div>\n                            <div class="style-grid-item g-cartografia-posicion3"></div>\n                            <div class="style-grid-item g-cartografia-brujula-norte"></div>\n                            <div class="style-grid-item g-cartografia-capas2"></div>\n                            <div class="style-grid-item g-cartografia-comentarios"></div>\n                            <div class="style-grid-item g-cartografia-escala3"></div>\n                            <div class="style-grid-item g-cartografia-flecha"></div>\n                            <div class="style-grid-item g-cartografia-flecha-abajo"></div>\n                            <div class="style-grid-item g-cartografia-flecha-arriba"></div>\n                            <div class="style-grid-item g-cartografia-flecha-derecha"></div>\n                            <div class="style-grid-item g-cartografia-flecha-izquierda"></div>\n                            <div class="style-grid-item g-cartografia-gps2"></div>\n                            <div class="style-grid-item g-cartografia-info"></div>\n                            <div class="style-grid-item g-cartografia-papelera"></div>\n                            <div class="style-grid-item g-cartografia-pin"></div>\n                            <div class="style-grid-item g-cartografia-zoom-extension"></div>\n                            <div class="style-grid-item fa fa-glass"></div>\n                            <div class="style-grid-item fa fa-music"></div>\n                            <div class="style-grid-item fa fa-search"></div>\n                            <div class="style-grid-item fa fa-envelope-o"></div>\n                            <div class="style-grid-item fa fa-heart"></div>\n                            <div class="style-grid-item fa fa-star"></div>\n                            <div class="style-grid-item fa fa-star-o"></div>\n                            <div class="style-grid-item fa fa-user"></div>\n                            <div class="style-grid-item fa fa-film"></div>\n                            <div class="style-grid-item fa fa-th-large"></div>\n                            <div class="style-grid-item fa fa-th"></div>\n                            <div class="style-grid-item fa fa-th-list"></div>\n                            <div class="style-grid-item fa fa-check"></div>\n                            <div class="style-grid-item fa fa-remove"></div>\n                            <div class="style-grid-item fa fa-close"></div>\n                            <div class="style-grid-item fa fa-times"></div>\n                            <div class="style-grid-item fa fa-search-plus"></div>\n                            <div class="style-grid-item fa fa-search-minus"></div>\n                            <div class="style-grid-item fa fa-power-off"></div>\n                            <div class="style-grid-item fa fa-signal"></div>\n                            <div class="style-grid-item fa fa-gear"></div>\n                            <div class="style-grid-item fa fa-cog"></div>\n                            <div class="style-grid-item fa fa-trash-o"></div>\n                            <div class="style-grid-item fa fa-home"></div>\n                            <div class="style-grid-item fa fa-file-o"></div>\n                            <div class="style-grid-item fa fa-clock-o"></div>\n                            <div class="style-grid-item fa fa-road"></div>\n                            <div class="style-grid-item fa fa-download"></div>\n                            <div class="style-grid-item fa fa-arrow-circle-o-down"></div>\n                            <div class="style-grid-item fa fa-arrow-circle-o-up"></div>\n                            <div class="style-grid-item fa fa-inbox"></div>\n                            <div class="style-grid-item fa fa-play-circle-o"></div>\n                            <div class="style-grid-item fa fa-rotate-right"></div>\n                            <div class="style-grid-item fa fa-repeat"></div>\n                            <div class="style-grid-item fa fa-refresh"></div>\n                            <div class="style-grid-item fa fa-list-alt"></div>\n                            <div class="style-grid-item fa fa-lock"></div>\n                            <div class="style-grid-item fa fa-flag"></div>\n                            <div class="style-grid-item fa fa-headphones"></div>\n                            <div class="style-grid-item fa fa-volume-off"></div>\n                            <div class="style-grid-item fa fa-volume-down"></div>\n                            <div class="style-grid-item fa fa-volume-up"></div>\n                            <div class="style-grid-item fa fa-qrcode"></div>\n                            <div class="style-grid-item fa fa-barcode"></div>\n                            <div class="style-grid-item fa fa-tag"></div>\n                            <div class="style-grid-item fa fa-tags"></div>\n                            <div class="style-grid-item fa fa-book"></div>\n                            <div class="style-grid-item fa fa-bookmark"></div>\n                            <div class="style-grid-item fa fa-print"></div>\n                            <div class="style-grid-item fa fa-camera"></div>\n                            <div class="style-grid-item fa fa-font"></div>\n                            <div class="style-grid-item fa fa-bold"></div>\n                            <div class="style-grid-item fa fa-italic"></div>\n                            <div class="style-grid-item fa fa-text-height"></div>\n                            <div class="style-grid-item fa fa-text-width"></div>\n                            <div class="style-grid-item fa fa-align-left"></div>\n                            <div class="style-grid-item fa fa-align-center"></div>\n                            <div class="style-grid-item fa fa-align-right"></div>\n                            <div class="style-grid-item fa fa-align-justify"></div>\n                            <div class="style-grid-item fa fa-list"></div>\n                            <div class="style-grid-item fa fa-dedent"></div>\n                            <div class="style-grid-item fa fa-outdent"></div>\n                            <div class="style-grid-item fa fa-indent"></div>\n                            <div class="style-grid-item fa fa-video-camera"></div>\n                            <div class="style-grid-item fa fa-photo"></div>\n                            <div class="style-grid-item fa fa-image"></div>\n                            <div class="style-grid-item fa fa-picture-o"></div>\n                            <div class="style-grid-item fa fa-pencil"></div>\n                            <div class="style-grid-item fa fa-map-marker"></div>\n                            <div class="style-grid-item fa fa-adjust"></div>\n                            <div class="style-grid-item fa fa-tint"></div>\n                            <div class="style-grid-item fa fa-edit"></div>\n                            <div class="style-grid-item fa fa-pencil-square-o"></div>\n                            <div class="style-grid-item fa fa-share-square-o"></div>\n                            <div class="style-grid-item fa fa-check-square-o"></div>\n                            <div class="style-grid-item fa fa-arrows"></div>\n                            <div class="style-grid-item fa fa-step-backward"></div>\n                            <div class="style-grid-item fa fa-fast-backward"></div>\n                            <div class="style-grid-item fa fa-backward"></div>\n                            <div class="style-grid-item fa fa-play"></div>\n                            <div class="style-grid-item fa fa-pause"></div>\n                            <div class="style-grid-item fa fa-stop"></div>\n                            <div class="style-grid-item fa fa-forward"></div>\n                            <div class="style-grid-item fa fa-fast-forward"></div>\n                            <div class="style-grid-item fa fa-step-forward"></div>\n                            <div class="style-grid-item fa fa-eject"></div>\n                            <div class="style-grid-item fa fa-chevron-left"></div>\n                            <div class="style-grid-item fa fa-chevron-right"></div>\n                            <div class="style-grid-item fa fa-plus-circle"></div>\n                            <div class="style-grid-item fa fa-minus-circle"></div>\n                            <div class="style-grid-item fa fa-times-circle"></div>\n                            <div class="style-grid-item fa fa-check-circle"></div>\n                            <div class="style-grid-item fa fa-question-circle"></div>\n                            <div class="style-grid-item fa fa-info-circle"></div>\n                            <div class="style-grid-item fa fa-crosshairs"></div>\n                            <div class="style-grid-item fa fa-times-circle-o"></div>\n                            <div class="style-grid-item fa fa-check-circle-o"></div>\n                            <div class="style-grid-item fa fa-ban"></div>\n                            <div class="style-grid-item fa fa-arrow-left"></div>\n                            <div class="style-grid-item fa fa-arrow-right"></div>\n                            <div class="style-grid-item fa fa-arrow-up"></div>\n                            <div class="style-grid-item fa fa-arrow-down"></div>\n                            <div class="style-grid-item fa fa-mail-forward"></div>\n                            <div class="style-grid-item fa fa-share"></div>\n                            <div class="style-grid-item fa fa-expand"></div>\n                            <div class="style-grid-item fa fa-compress"></div>\n                            <div class="style-grid-item fa fa-plus"></div>\n                            <div class="style-grid-item fa fa-minus"></div>\n                            <div class="style-grid-item fa fa-asterisk"></div>\n                            <div class="style-grid-item fa fa-exclamation-circle"></div>\n                            <div class="style-grid-item fa fa-gift"></div>\n                            <div class="style-grid-item fa fa-leaf"></div>\n                            <div class="style-grid-item fa fa-fire"></div>\n                            <div class="style-grid-item fa fa-eye"></div>\n                            <div class="style-grid-item fa fa-eye-slash"></div>\n                            <div class="style-grid-item fa fa-warning"></div>\n                            <div class="style-grid-item fa fa-exclamation-triangle"></div>\n                            <div class="style-grid-item fa fa-plane"></div>\n                            <div class="style-grid-item fa fa-calendar"></div>\n                            <div class="style-grid-item fa fa-random"></div>\n                            <div class="style-grid-item fa fa-comment"></div>\n                            <div class="style-grid-item fa fa-magnet"></div>\n                            <div class="style-grid-item fa fa-chevron-up"></div>\n                            <div class="style-grid-item fa fa-chevron-down"></div>\n                            <div class="style-grid-item fa fa-retweet"></div>\n                            <div class="style-grid-item fa fa-shopping-cart"></div>\n                            <div class="style-grid-item fa fa-folder"></div>\n                            <div class="style-grid-item fa fa-folder-open"></div>\n                            <div class="style-grid-item fa fa-arrows-v"></div>\n                            <div class="style-grid-item fa fa-arrows-h"></div>\n                            <div class="style-grid-item fa fa-bar-t-o"></div>\n                            <div class="style-grid-item fa fa-bar-t"></div>\n                            <div class="style-grid-item fa fa-twitter-square"></div>\n                            <div class="style-grid-item fa fa-facebook-square"></div>\n                            <div class="style-grid-item fa fa-camera-retro"></div>\n                            <div class="style-grid-item fa fa-key"></div>\n                            <div class="style-grid-item fa fa-gears"></div>\n                            <div class="style-grid-item fa fa-cogs"></div>\n                            <div class="style-grid-item fa fa-comments"></div>\n                        </div>\n                    </div>\n\n                </div>\n                <div data-pointfont class="group-row">\n\n                    <div class="style-col-1">\n                        <span>{{translations.radius}}:</span>\n                        <input type="number" min="1" max="100" value="20" data-style-options="point.form.radius" value="{{point.icon.radius}}">\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>{{translations.iconSize}}:</span>\n                        <input type="number" step="0.1" min=0 max=100 data-style-options="point.form.fontsize" value="{{point.icon.fontsize}}">\n                    </div>\n\n\n                </div>\n                <div data-pointfont class="group-row">\n\n                    <div class="style-col-1 input-reverse">\n                        <span>{{translations.gradient}}</span>\n                        <input type="checkbox" data-style-options="point.form.gradient" {{#if point.icon.gradient}}checked{{/if}}>\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>{{translations.iconColor}}:</span>\n                        <input type="color" data-style-options="point.form.color" value="{{point.icon.color}}">\n                    </div>\n                </div>\n                \x3c!-- Common --\x3e\n                <div data-common-icon class="group-row">\n\n                    <div class="style-col-1">\n                        <span>Offset:</span>\n                        <input value="{{#get 0 point.icon.offset}}{{/get}}" type="number" data-target="form-offset" data-style-options="point.form.offset">\n                        <span class="empty">&nbsp;</span>\n                        <input value="{{#get 1 point.icon.offset}}{{/get}}" type="number" data-id="form-offset" />\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>{{translations.opacity}}:</span>\n                        <input value="{{point.icon.opacity}}" type="number" step="0.1" min=0 max=1 data-style-options="point.form.opacity">\n                    </div>\n                </div>\n                <div data-common-icon class="group-row">\n\n                    <div class="style-col-1 input-reverse">\n                        <span>{{translations.enableRotation}}</span>\n                        <input {{#if point.icon.rotate}}checked {{/if}} type="checkbox" data-style-options="point.form.rotate">\n                    </div>\n\n                    <div class="style-col-2">\n                        <span>{{translations.rotation}}:</span>\n                        <input value="{{point.icon.rotation}}" type="number" min=0 max=360 data-style-options="point.form.rotation">\n                    </div>\n\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'},function(e,t){e.exports='<div data-role="m-proportional" class="m-stylemanager-simple-section m-proportional m-hidden">\n    <div class="styles-row">\n        <div class="title">{{translations.options}}</div>\n        <div class="m-styles-body">\n            <div class="group-row">\n                <div class="style-col-1">\n                    <span>{{translations.attributes}}:</span>\n                    <select data-options="attributeName">\n                        {{#each attributes}}\n                            <option value="{{this.name}}" {{#eq this.name this.selected}}selected{{/eq}}>{{this.name}}</option>\n                        {{/each}}\n                    </select>\n                </div>\n                <div class="style-col-2">\n                    <span>{{translations.scale}}:</span>\n                    <select data-options="scaledName">\n                        {{#each functions}}\n                            <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n                        {{/each}}\n                    </select>\n                </div>\n            </div>\n            <div class="group-row">\n                <div class="style-col-1">\n                    <span>{{translations.minimumRadius}}:</span>\n                    <input type="number" min="1" data-options="minRadius" value="{{this.minRadius}}">\n                </div>\n                <div class="style-col-2">\n                    <span for="">{{translations.maximumRadius}}:</span>\n                    <input type="number" min="1" data-options="maxRadius" value="{{this.maxRadius}}">\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'},function(e,t){e.exports='<div data-role="m-cluster" class="m-stylemanager-simple-section m-hidden">\n    \x3c!-- Ranges Options --\x3e\n    <div class="styles-row" data-id="ranges">\n        <div class="title">{{translations.ranks}}</div>\n        <div class="m-styles-body">\n\n            <div class="group-row">\n                <div class="style-col-1">\n                    <span>{{translations.numberRanks}}:</span>\n                    <input type="number" data-number-ranges value="{{ranges.length}}" min="1" max="12">\n                </div>\n            </div>\n            <div data-parent="ranges">\n                {{#each ranges}}\n                    <div {{#neq @index 0}} class="m-hidden" {{/neq}} data-page="{{#sum @index 1}}{{/sum}}">\n                        <div class="subtitle">{{../translations.rank}} {{#sum @index 1}}{{/sum}}</div>\n                        <div class="group-row">\n                            <div class="style-col-1">\n                                <span>{{../translations.since}}:</span>\n                                <input data-apply-range type="number" min="0" data-ranges-options="minRange" data-ranges-id="{{#sum @index 1}}{{/sum}}" value="{{min}}">\n                            </div>\n                            <div class="style-col-2">\n                                <span>{{../translations.until}}:</span>\n                                <input data-apply-range type="number" min="0" data-ranges-options="maxRange" data-ranges-id="{{#sum @index 1}}{{/sum}}" value="{{max}}">\n                            </div>\n                        </div>\n                        <div class="group-row">\n                            <div class="style-col-1">\n                                <span>{{../translations.fill}}:</span>\n                                <input data-apply-range value="{{fill}}" type="color" data-ranges-options="style.fill.color" data-ranges-id="{{#sum @index 1}}{{/sum}}">\n                            </div>\n                            <div class="style-col-2">\n                                <span>{{../translations.opacity}}:</span>\n                                <input data-apply-range value="{{opacity}}" min="0" step="0.1" type="number" data-ranges-options="style.fill.opacity" data-ranges-id="{{#sum @index 1}}{{/sum}}">\n                            </div>\n                        </div>\n                        <div class="group-row">\n                            <div class="style-col-1">\n                                <span>{{../translations.border}}:</span>\n                                <input data-apply-range type="color" value="{{stroke}}" data-ranges-options="style.stroke.color" data-ranges-id="{{#sum @index 1}}{{/sum}}">\n                            </div>\n                            <div class="style-col-2">\n                                <span>{{../translations.width}}:</span>\n                                <input data-apply-range value="{{width}}" type="number" min="1" data-ranges-options="style.stroke.width" data-ranges-id="{{#sum @index 1}}{{/sum}}">\n                            </div>\n                        </div>\n\n                        <div class="group-row">\n                            <div class="style-col-1">\n                                <span>{{../translations.radius}}:</span>\n                                <input data-apply-range value="{{#if radius}}{{radius}}{{/if}}{{#unless radius}}10{{/unless}}" type="number" min="1" data-ranges-options="style.radius" data-ranges-id="{{#sum @index 1}}{{/sum}}">\n                            </div>\n                        </div>\n                    </div>\n                {{/each}} {{#pages}}\n                    <div class="m-hidden" data-page="{{id}}">\n                        <div class="subtitle">{{../translations.range}} {{id}}</div>\n                        <div class="group-row">\n                            <div class="style-col-1">\n                                <span>{{../translations.since}}:</span>\n                                <input value="{{min}}" type="number" min="0" data-ranges-options="minRange" data-ranges-id="{{id}}">\n                            </div>\n                            <div class="style-col-2">\n                                <span>{{../translations.until}}:</span>\n                                <input value="{{max}}" type="number" min="0" data-ranges-options="maxRange" data-ranges-id="{{id}}">\n                            </div>\n                        </div>\n                        <div class="group-row">\n                            <div class="style-col-1">\n                                <span>{{../translations.fill}}:</span>\n                                <input type="color" value="{{fill}}" data-ranges-options="style.fill.color" data-ranges-id="{{id}}">\n                            </div>\n                            <div class="style-col-2">\n                                <span>{{../translations.opacity}}:</span>\n                                <input value="1" step="0.1" type="number" min="0" data-ranges-options="style.fill.opacity" data-ranges-id="{{id}}">\n                            </div>\n                        </div>\n                        <div class="group-row">\n                            <div class="style-col-1">\n                                <span>{{../translations.border}}:</span>\n                                <input type="color" value="{{stroke}}" data-ranges-options="style.stroke.color" data-ranges-id="{{id}}">\n                            </div>\n                            <div class="style-col-2">\n                                <span>{{../translations.width}}:</span>\n                                <input value="2" type="number" min="1" data-ranges-options="style.stroke.width" data-ranges-id="{{id}}">\n                            </div>\n                        </div>\n\n                        <div class="group-row">\n                            <div class="style-col-1">\n                                <span>{{../translations.radius}}:</span>\n                                <input value="10" type="number" min="1" data-ranges-options="style.radius" data-ranges-id="{{id}}">\n                            </div>\n                        </div>\n                    </div>\n                {{/pages}}\n            </div>\n\n            <div class="m-pagination" data-parent-pagination>\n                <ul>\n                    {{#each ranges}}\n                        <li data-page-selector="{{#sum @index 1}}{{/sum}}" {{#eq @index 0}} data-page-active class="m-page-active" {{/eq}}>{{#sum @index 1}}{{/sum}}</li>\n                    {{/each}} {{#each pages}}\n                        <li data-page-selector="{{id}}" class="m-hidden">{{id}}</li>\n                    {{/each}}\n\n                </ul>\n            </div>\n\n        </div>\n    </div>\n    \x3c!-- Vendor Options --\x3e\n    <div class="styles-row" data-id="options">\n        <div class="title">{{translations.options}}</div>\n        <div class="m-styles-body">\n\n            <div class="group-row">\n                <div class="style-col-1 input-reverse">\n                    <span>{{translations.envelope}}</span>\n                    <input type="checkbox" data-style-options="hoveInteraction" {{#if hoverInteraction}}checked{{/if}}>\n                </div>\n                <div class="style-col-2 input-reverse">\n                    <span>{{translations.quantity}}</span>\n                    <input type="checkbox" data-style-options="displayAmount" {{#if displayAmount}}checked{{/if}}>\n                </div>\n            </div>\n\n            <div class="group-row">\n                <div class="style-col-1 input-reverse">\n                    <span>{{translations.selectable}}</span>\n                    <input type="checkbox" data-style-options="selectInteraction" {{#if selectInteraction}}checked{{/if}}>\n                </div>\n                <div class="style-col-2 input-reverse">\n                    <span>{{translations.animated}}</span>\n                    <input type="checkbox" data-style-options="animated" {{#if animated}}checked{{/if}}>\n                </div>\n            </div>\n\n            <div class="group-row">\n                <div class="style-col-1">\n                    <span>{{translations.distance}}:</span>\n                    <input type="number" min="1" data-style-options="distance" value="{{distance}}">\n                </div>\n                <div class="style-col-2">\n                    <span>{{translations.points}}:</span>\n                    <input type="number" min="1" data-style-options="maxFeaturesToSelect" value="{{maxFeaturesToSelect}}">\n                </div>\n            </div>\n\n            <div class="group-row">\n                <div class="style-col-1">\n                    <span>{{translations.fanDistance}}:</span>\n                    <input type="number" min="1" data-style-options="distanceSelectFeatures" value="{{distanceSelectFeatures}}">\n                </div>\n                <div class="style-col-2">\n                    <span>{{translations.textColor}}:</span>\n                    <input type="color" data-style-options="label.color" value="{{label.color}}">\n                </div>\n            </div>\n\n        </div>\n    </div>\n</div>'},function(e,t){e.exports='<div data-role="m-choropleth" class="m-stylemanager-simple-section m-hidden m-choropleth">\n    <div class="styles-row">\n        <div class="title">{{translations.options}}</div>\n        <div class="m-styles-body">\n\n            <div class="group-row">\n\n                <div class="style-col-1">\n                    <span>{{translations.attributes}}:</span>\n                    <select data-options="attributeName">\n                        {{#each attributes}}\n                            <option value="{{this.name}}" {{#eq this.name this.selected}} selected {{/eq}}>{{this.name}}</option>\n                        {{/each}}\n                    </select>\n                </div>\n\n            </div>\n            <div class="group-row">\n\n                <div class="style-col-1">\n                    <span>{{translations.algorithm}}:</span>\n                    <select data-options="quantification">\n                        <option value="ARITHMETIC_PROGRESSION" {{#eq quantification "arithmetic_progression"}}selected{{/eq}}>{{translations.arithmeticProgression}}</option>\n                        <option value="EQUAL_INTERVAL" {{#eq quantification "equal_interval"}}selected{{/eq}}>{{translations.equalIntervals}}</option>\n                        <option value="GEOMETRIC_PROGRESSION" {{#eq quantification "geometric_progression"}}selected{{/eq}}>{{translations.geometricProgression}}</option>\n                        <option value="MEDIA_SIGMA" {{#eq quantification "media_sigma"}}selected{{/eq}}>{{translations.meanSigma}}</option>\n                        <option value="JENKS" {{#eq quantification "jenks"}}selected{{/eq}}>{{translations.naturalBreaks}}</option>\n                        <option value="QUANTILE" {{#eq quantification "quantile"}}selected{{/eq}}>{{translations.quantile}}</option>\n                    </select>\n                </div>\n\n                <div class="style-col-2">\n                    <span>{{translations.ranges}}:</span>\n                    <input type="number" min="2" data-number-ranges data-options="ranges" value="{{ranges}}">\n                </div>\n            </div>\n            <div class="subtitle">\n                <span>{{translations.colorRamp}}</span>\n                <button title="{{translations.addColor}}" class="m-button-add-styles" data-add-color><i class="fa fa-plus"></i></button>\n            </div>\n            <div class="group-row">\n                <div class="style-col-color">\n                    <span>{{translations.initial}}:</span>\n                    <input type="color" data-array-options="colors" value="{{startColor}}">\n                </div>\n                <div data-colors class="style-col-color">\n                </div>\n                <div class="style-col-color">\n                    <span>{{translations.final}}:</span>\n                    <input type="color" data-array-options="colors" value="{{endColor}}">\n                </div>\n            </div>\n\n        </div>\n    </div>\n</div>'},function(e,t){e.exports='<div data-role="m-category" class="m-stylemanager-simple-section m-category m-hidden">\n    <div class="styles-row">\n        <div class="title">{{translations.options}}</div>\n        <div class="m-styles-body">\n            <div class="group-row">\n\n                <div class="style-col-1">\n                    <span>{{translations.attribute}}:</span>\n                    <select data-options="attributeName">\n                        {{#each attributes}}\n                            <option value="{{this.name}}" {{#eq this.name this.selected}}selected{{/eq}}>{{this.name}}</option>\n                        {{/each}}\n                    </select>\n                </div>\n            </div>\n\n            <div class="container-table" data-options="values">\n\n            </div>\n        </div>\n    </div>\n</div>'},function(e,t){e.exports='<div data-role="m-heatmap" class="m-stylemanager-simple-section m-hidden m-heatmap">\n    <div class="styles-row">\n        <div class="title">Opciones</div>\n        <div class="m-styles-body">\n            <div class="group-row">\n                <div class="style-col-1">\n                    <span>{{translations.attribute}}:</span>\n                    <select data-options="attributeName">\n                        <option value="{{null}}" selected></option>\n                        {{#each attributes}}\n                            <option value="{{this.name}}" {{#eq this.name this.selected}}selected{{/eq}}>{{this.name}}</option>\n                        {{/each}}\n                    </select>\n                </div>\n            </div>\n            <div class="group-row">\n                <div class="style-col-1">\n                    <span>{{translations.gradient}}:</span>\n                    <div class="m-grid" data-parent="gradient">\n                        {{#each gradient}}\n                            <div class="m-removable-input-color">\n                                <input type="color" data-array-options="gradient" value="{{this}}">\n                                <span class="m-close"></span>\n                            </div>\n                        {{/each}}\n                    </div>\n                </div>\n                <div class="style-col-2">\n                    <span></span>\n                    <button data-add class="m-add-gradient m-button-styles">{{translations.addColor}}</button>\n                </div>\n            </div>\n\n            <div class="group-row">\n                <div class="style-col-1">\n                    <span for="">{{translations.blur}}:</span>\n                    <input type="number" data-style-options="blur" min="1" value="{{blur}}">\n                </div>\n\n                <div class="style-col-2">\n                    <span for="">{{translations.radius}}:</span>\n                    <input type="number" data-style-options="radius" min="1" value="{{radius}}">\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'},function(e,t){e.exports='<div data-role="m-chart" class="m-stylemanager-simple-section m-chart m-hidden">\n    <div class="styles-row m-stylechart">\n        <div class="title">{{translations.options}}</div>\n\n        <div class="group-row">\n            <div class="style-col-1">\n                <span>{{translations.type}}:</span>\n                <select data-style-options="type">\n                    <option value="pie" {{#eq type "pie"}}selected {{/eq}}>{{translations.cake}}</option>\n                    <option value="pie3D" {{#eq type "pie3D"}}selected {{/eq}}>{{translations.tDcake}}</option>\n                    <option value="donut" {{#eq type "donut"}}selected {{/eq}}>{{translations.donut}}</option>\n                    <option value="bar" {{#eq type "bar"}}selected {{/eq}}>{{translations.graphic}}</option>\n                </select>\n            </div>\n\n            <div class="style-col-2">\n                <span>Color:</span>\n                <select data-style-options="scheme">\n                    <option value="Classic" {{#eq scheme "Classic"}}selected {{/eq}}>{{translations.classic}}</option>\n                    <option value="Dark" {{#eq scheme "Dark"}}selected {{/eq}}>{{translations.dark}}</option>\n                    <option value="Pale" {{#eq scheme "Pale"}}selected {{/eq}}>{{translations.pale}}</option>\n                    <option value="Pastel" {{#eq scheme "Pastel"}}selected {{/eq}}>{{translations.neon}}</option>\n                    <option value="Neon" {{#eq scheme "Neon"}}selected {{/eq}}>{{translations.pie}}</option>\n                </select>\n            </div>\n        </div>\n\n        <div class="group-row">\n            <div class="style-col-1">\n                <span>{{translations.xAxis}}:</span>\n                <input type="number" value="{{offsetX}}" data-style-options="offsetX">\n            </div>\n\n            <div class="style-col-2">\n                <span>{{translations.yAxis}}:</span>\n                <input type="number" value="{{offsetY}}" data-style-options="offsetY">\n            </div>\n        </div>\n\n        <div class="group-row">\n            <div class="style-col-1 {{#eq type \'bar\'}}m-hidden{{/eq}}" data-type="donut,pie,pie3D">\n                <span>{{translations.radius}}:</span>\n                <input type="number" min="1" value="{{radius}}" data-style-options="radius">\n            </div>\n\n            <div class="style-col-2 {{#neq type \'donut\'}}m-hidden{{/neq}}" data-type="donut">\n                <span>{{translations.radius}} donut:</span>\n                <input type="number" min="0" value="6" data-style-options="donutRadio">\n            </div>\n        </div>\n\n        <div class="group-row">\n            <div class="style-col-1 {{#neq type \'pie3D\'}}m-hidden{{/neq}}" data-type="pie3D">\n                <span>3D color:</span>\n                <input type="color" value="#ff00f0" data-style-options="fill3DColor">\n            </div>\n        </div>\n\n    </div>\n    <div class="styles-row m-stylechart">\n        <div class="title">{{translations.attributes}}</div>\n        <div class="group-row">\n\n            <div class="style-col-1">\n                <span>{{translations.attribute}}:</span>\n                <select data-attribute>\n\n                </select>\n            </div>\n\n            <div class="style-col-2">\n                <span></span>\n                <button data-add class="m-add-gradient m-button-styles">{{translations.addAttribute}}</button>\n            </div>\n        </div>\n        <div class="m-chart-variables" data-variables>\n        </div>\n\n        <div class="m-pagination" data-pagination>\n        </div>\n\n    </div>\n</div>'},function(e,t){e.exports='<div>\n  {{#each buttonsParams}}\n  <input data-apply="{{id}}" type="checkbox" class="m-input" id="{{id}}">\n  <label data-selector="{{id}}" for="{{id}}" class="submenu-check check-selected"></label>\n  <label data-label="{{id}}" class="submenu-label">{{name}}</label>\n  {{/each}}\n</div>\n'},function(e){e.exports=JSON.parse('{"exception":{"impl":"The implementation used cannot create StyleManager controls.","geomNotSupported":"Geometry not supported","attributeAdded":"Attribute has already been added.","repeatedVariable":"Repeated variable name","variableName":"No variable with that name exists.","incorrectName":"Incorrect variable name.","emptyString":"It is not allowed to enter an empty string.","emptyVariable":"Empty variable name.","moreColorsRanges":"There cannot be more colors than ranges.","numberColors":"Incorrect number of colors.","chooseStyle":"You must choose at least one style","choStyle":"Choose style","layerNoFeaturesLoad":"The layer has no features or they have not been loaded yet.","chooseLayer":"You have to choose a layer","choLayer":"Choose layer","numberColorAllowed":"You have reached the maximum number of colors allowed","information":"Information"},"selectLayer":"Select a layer...","applyStyle":"Apply Style","clearStyle":"Clear Style","symbology":"Symbology","heatMap":"Heat Map","category":"Category","choropleths":"Choroplet","proportional":"Proportional","statistic":"Statistics","attributeValue":"Attribute Value","preview":"Preview","others":"Others","type":"Type","options":"Options","pointOptions":"Point Options","lineOptions":"Line Options","polygonOptions":"Polygon Options","opacity":"Opacity","radius":"Radius","width":"Width","pattern":"Pattern","size":"Size","space":"Space","rotation":"Rotation","scale":"Scale","none":"None","text":"Text","font":"Font","horizontalAlignment":"Horizontal Alignment","verticalAlignment":"Vertical Alignment","enableRotation":"Enable rotation with the map","fitGeometry":"Fit Geometry","minimumWidth":"Minimum Width","smooth":"Smooth","overflow":"Overflow","hidden":"Hidden","visible":"Visible","ellipsis":"Ellipsis","labelStroke":"Label Stroke","label":"Stroke","anchorage":"Anchorage","form":"Form","family":"Family","iconSize":"Icon size","gradient":"Gradient","iconColor":"Icon Color","legend":"Legend","showLabel":"Show Label","fill":"Fill","border":"Border","bulk":"Thickness","attributes":"Attributes","attribute":"Attribute","minimumRadius":"Minimum radius","maximumRadius":"Maximum Radius","addColor":"Add Color","blur":"Blur","ranks":"Ranks","rank":"Rank","numberRanks":"Number of ranks","since":"Since","until":"Until","envelope":"Envelope","quantity":"Quantity","selectable":"Selectable","animated":"Animated","distance":"Distance","points":"Points","fanDistance":"Fan Distance","textColor":"Text Color","algorithm":"Algorithm","arithmeticProgression":"Arithmetic Progression","equalIntervals":"Equal Intervals","geometricProgression":"Geometric Progression","meanSigma":"Mean Sigma","naturalBreaks":"Natural Breaks","quantile":"Quantile","colorRamp":"Color Ramp","initial":"Initial","final":"Final","cake":"Cake","tDcake":"3D Cake","donut":"Donut","graphic":"Graphic","classic":"Classic","dark":"Dark","pale":"Pale","neon":"Neon","pie":"Cake","xAxis":"X axis","yAxis":"Y axis","addAttribute":"Add Attribute","bevel":"Bezel","miter":"Miter","rounded":"Rounded","extreme":"Extreme","square":"Square","labelText":"Label","icon":"Icon","stroke":"Stroke","center":"Center","justified":"Justified","left":"Left","right":"Right","alphabetical":"Alphabetical","down":"Down","hanging":"Hanging","ideographic":"Ideographic","up":"Up","patternOptions":"Pattern options","adjust":"Adjust","ranges":"Ranges","flowLine":"Flowline","absolute":"Absolute","arrow":"Arrow","arrowColor":"Arrow color","generateSerialized":"Generate serialized style","serializedStyle":"Serialized style","clipboard":"Copied serialized style to clipboard","modifySVG":"Modify SVG","infoURL":"A gallery of SVG files is available at <a target=\'blank\' href=\'https://componentes.cnig.es/api-core/api/actions/resources/svg\'>https://componentes.cnig.es/api-core/api/actions/resources/svg</a>","tooltip":"Style manager"}')},function(e){e.exports=JSON.parse('{"exception":{"impl":"La implementación usada no puede crear controles StyleManager.","geomNotSupported":"Geometría no soportada","attributeAdded":"El atributo ya se ha agregado.","repeatedVariable":"Nombre de variable repetido","variableName":"No existe ninguna variable con ese nombre.","incorrectName":"Nombre de variable incorrecto.","emptyString":"No está permitido introducir una cadena vacía.","emptyVariable":"Nombre de variable vacía.","moreColorsRanges":"No pueden existir más colores que rangos.","numberColors":"Número de colores incorrecto.","chooseStyle":"Debe elegir al menos un estilo","choStyle":"Elija estilo","layerNoFeaturesLoad":"La capa no tiene features o aún no se han cargado.","chooseLayer":"Tiene que elegir una capa","choLayer":"Elija capa","numberColorAllowed":"Ha llegado al número máximo de colores permitidos","information":"Información"},"selectLayer":"Seleccione una capa...","applyStyle":"Aplicar estilo","clearStyle":"Limpiar estilo","symbology":"Simbología","heatMap":"Mapa de calor","category":"Categoría","choropleths":"Coropleta","proportional":"Proporcional","statistic":"Estadísticos","attributeValue":"Valor de atributo","preview":"Previsualización","others":"Otros","type":"Tipo","options":"Opciones","pointOptions":"Opciones de punto","lineOptions":"Opciones de línea","polygonOptions":"Opciones de polígono","opacity":"Opacidad","radius":"Radio","width":"Ancho","pattern":"Patrón","size":"Tamaño","space":"Espacio","rotation":"Rotación","scale":"Escala","none":"Ninguno","text":"Texto","font":"Fuente","horizontalAlignment":"Alineación horizontal","verticalAlignment":"Alineación vertical","enableRotation":"Habilitar rotación con el mapa","fitGeometry":"Ajustar a geometría","minimumWidth":"Ancho Mínimo","smooth":"Suavizar","overflow":"Desbordar","hidden":"Oculto","visible":"Visible","ellipsis":"Puntos suspensivos","labelStroke":"Trazo de la etiqueta","label":"Trazo","anchorage":"Anclaje","form":"Forma","family":"Familia","iconSize":"Tamaño icono","gradient":"Gradiente","iconColor":"Color de icono","legend":"Leyenda","showLabel":"Mostrar etiqueta","fill":"Relleno","border":"Borde","bulk":"Grosor","attributes":"Atributos","attribute":"Atributo","minimumRadius":"Radio mínimo","maximumRadius":"Radio máximo","addColor":"Añadir color","blur":"Difuminado","ranks":"Rangos","rank":"Rango","numberRanks":"Número de rangos","since":"Desde","until":"Hasta","envelope":"Envoltura","quantity":"Cantidad","selectable":"Seleccionable","animated":"Animado","distance":"Distancia","points":"Puntos","fanDistance":"Distancia de abanico","textColor":"Color de texto","algorithm":"Algoritmo","arithmeticProgression":"Progresión aritmética","equalIntervals":"Intervalos iguales","geometricProgression":"Progresión geométrica","meanSigma":"Media sigma","naturalBreaks":"Rupturas naturales","quantile":"Cuantil","colorRamp":"Rampa de color","initial":"Inicial","final":"Final","cake":"Tarta","tDcake":"Tarta 3D","donut":"Donut","graphic":"Gráfico","classic":"Clásico","dark":"Oscuro","pale":"Pálido","neon":"Neón","pie":"Pastel","xAxis":"Eje X","yAxis":"Eje Y","addAttribute":"Añadir atributo","bevel":"Bisel","miter":"Inglete","rounded":"Redondeado","extreme":"Extremo","square":"Cuadrado","labelText":"Etiqueta","icon":"Icono","stroke":"Trazo","center":"Centro","justified":"Justificado","left":"Izquierda","right":"Derecha","alphabetical":"Alfabetico","down":"Abajo","hanging":"Colgando","ideographic":"Ideografico","up":"Arriba","patternOptions":"Opciones de patrón","adjust":"Ajustar","ranges":"Rangos","flowLine":"Línea de flujo","absolute":"Absoluto","arrow":"Flecha","arrowColor":"Color flecha","generateSerialized":"Generar estilo serializado","serializedStyle":"Estilo serializado","clipboard":"Copiado estilo serializado en el portapapeles","modifySVG":"Modificar SVG","infoURL":"Se encuentra disponible una galería de ficheros SVG en <a target=\'blank\' href=\'https://componentes.cnig.es/api-core/api/actions/resources/svg\'>https://componentes.cnig.es/api-core/api/actions/resources/svg</a>","tooltip":"Gestor de estilos"}')},function(e,t){e.exports='<div class="m-removable-input-color">\n  <input type="color" data-array-options="gradient">\n  <span class="m-close"></span>\n</div>\n'},function(e,t){e.exports='<div>\n    <div class="color-intermedio">\n        <span>Color {{numbercolor}}:</span>\n        <input type="color" data-array-options="colors" value="{{startColor}}">\n    </div>\n</div>'},function(e,t){e.exports='<div>\n  {{#each buttonsParams}}\n  <input data-apply="{{id}}" type="checkbox" class="m-input" id="cat-{{id}}">\n  <label data-selector="{{id}}" for="cat-{{id}}" class="submenu-check check-selected"></label>\n  <label data-label="{{id}}" class="submenu-label">{{name}}</label> {{/each}}\n</div>\n'},function(e,t){e.exports='<div>\n\n    <div class="subtitle m-hidden" data-target="{{attribute}}" data-delete="{{attribute}}">Variable: {{attribute}} <span data-remove="{{attribute}}" class="m-icon-remove"><i class="g-cartografia-papelera 2x"></i></span></div>\n    <div class="group-row m-hidden" data-target="{{attribute}}" data-delete="{{attribute}}">\n\n        <div class="style-col-1">\n            <span>{{translations.legend}}:</span>\n            <input data-variable-option="{{attribute}}.legend" type="text" value="{{legend}}">\n        </div>\n\n        <div class="style-col-2 input-reverse">\n            <span>{{translations.showLabel}}</span>\n            <input type="checkbox" data-variable-option="{{attribute}}.labelshow" {{#if label}} checked {{/if}}>\n        </div>\n\n    </div>\n\n    <div data-label-target="{{attribute}}" data-delete="{{attribute}}" class="{{#unless label}}m-hidden{{/unless}}">\n\n        <div class="group-row m-hidden" data-target="{{attribute}}">\n\n            <div class="style-col-1">\n                <span>{{translations.fill}}:</span>\n                <input data-variable-option="{{attribute}}.label.fill" type="color" value="{{label.fill}}">\n            </div>\n\n            <div class="style-col-2">\n                <span>{{translations.size}}:</span>\n                <input data-variable-option="{{attribute}}.label.scale" type="number" min="1" value="{{label.scale}}">\n            </div>\n\n        </div>\n\n        <div class="group-row m-hidden" data-target="{{attribute}}">\n\n            <div class="style-col-1">\n                <span>{{translations.border}}:</span>\n                <input type="color" data-variable-option="{{attribute}}.label.stroke.color" value="{{label.stroke.color}}">\n            </div>\n\n            <div class="style-col-2">\n                <span>{{translations.bulk}}:</span>\n                <input type="number" data-variable-option="{{attribute}}.label.stroke.width" min="1" value="{{label.stroke.width}}">\n            </div>\n        </div>\n\n        <div class="group-row m-hidden" data-target="{{attribute}}">\n\n            <div class="style-col-1">\n                <span>{{translations.space}}:</span>\n                <input data-variable-option="{{attribute}}.label.radiusIncrement" type="number" value="{{label.radiusIncrement}}">\n            </div>\n        </div>\n    </div>\n    <div class="group-row m-hidden" data-target="{{attribute}}">\n    </div>\n</div>'},function(e,t){e.exports='<div>\n  <ul>\n    {{#each ranges}}\n    <li data-page-selector="{{this.attribute}}">{{this.number}}</li>\n    {{/each}}\n  </ul>\n</div>\n'},function(e,t){e.exports='<div>\n  {{#each attributes}}\n  <option value="{{this}}">{{this}}</option>\n  {{/each}}\n</div>\n'},function(e,t){e.exports='\x3c!-- Flow Line --\x3e\n<div data-role="m-flowline" class="m-stylemanager-simple-section m-flowline m-hidden">\n    <div class="styles-row">\n        <div class="title">{{translations.options}}</div>\n        <div class="m-styles-body">\n            <div class="group-row">\n                <div class="style-col-1">\n                    <span>Color:</span>\n                    <input data-options="color" type="color" value="{{color}}">\n                </div>\n                <div class="style-col-2">\n                    <span>Color 2:</span>\n                    <input data-options="color2" type="color" value="{{color2}}">\n                </div>\n            </div>\n            <div class="group-row">\n                <div class="style-col-1">\n                    <span>{{translations.width}}:</span>\n                    <input data-options="width" type="number" value="{{width}}">\n                </div>\n                <div class="style-col-2">\n                    <span>{{translations.width}} 2:</span>\n                    <input data-options="width2" type="number" value="{{width2}}">\n                </div>\n            </div>\n            <div class="group-row">\n                <div class="style-col-1">\n                    <span>{{translations.arrow}}:</span>\n                    <select data-options="arrow">\n                        {{#each arrowlist}}\n                            <option value="{{this.name}}" {{#eq this.name this.selected}} selected {{/eq}}>\n                                {{this.name}}\n                            </option>\n                        {{/each}}\n                    </select>\n                </div>\n                <div class="style-col-2">\n                    <span>{{translations.arrowColor}}:</span>\n                    <input value="{{arrowColor}}" type="color" data-options="arrowColor">\n                </div>\n            </div>\n            <div class="group-row">\n                <div class="style-col-1">\n                    <span>Line Cap:</span>\n                    <select data-options="lineCap">\n                        {{#each linecap}}\n                            <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>\n                                {{this.name}}\n                            </option>\n                        {{/each}}\n                    </select>\n                </div>\n                <div class="style-col-2">\n                    <span>Offset:</span>\n                    <input value="{{offset0}}" type="number" data-options="offset0">\n                    <span class="empty">&nbsp;</span>\n                    <input value="{{offset1}}" type="number" data-options="offset1">\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(23),n(24);var a=n(2),i=n.n(a),o=n(4),s=n.n(o);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,d(a.key),a)}}function d(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}function u(e,t,n){return t=v(t),function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],v(e).constructor):t.apply(e,n))}function p(){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var a=f(e,t);if(a){var i=Object.getOwnPropertyDescriptor(a,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function f(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(){return l(this,t),u(this,t,arguments)}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(t,M.impl.Control),n=t,(a=[{key:"addTo",value:function(e,n){p(v(t.prototype),"addTo",this).call(this,e,n)}},{key:"activate",value:function(){}},{key:"deactivate",value:function(){}}])&&c(n.prototype,a),i&&c(n,i),Object.defineProperty(n,"prototype",{writable:!1}),t}(),m=n(5),b=n.n(m),g=n(6),k=n.n(g),w=n(7),S=n.n(w),O=n(8),_=n.n(O),x=n(9),P=n.n(x),L=n(10),q=n.n(L),E=n(11),T=n.n(E),A=n(12),j=n.n(A),C=n(0),N=n(13),R=n.n(N),I=n(1),F=n.n(I),D={en:n(14),es:n(15)},B=function(){var e="es";return"function"==typeof M.language.getLang&&(e=M.language.getLang()),e},z=function(e){return"es"===e||"en"===e?D[e]:M.language.getTranslation(e).fulltoc},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B(),n=z(t),a="";return M.utils.isNullOrEmpty(n)?console.warn("The translation '".concat(t,"' has not been defined.")):a=e.split(".").reduce((function(e,t){return e[t]}),n),a};function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e,t,n){return(t=X(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,X(a.key),a)}}function X(e){var t=function(e,t){if("object"!=V(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=V(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==V(t)?t:String(t)}var $=function(){function e(t,n,a,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.translations_={options:G("options"),pointOptions:G("pointOptions"),lineOptions:G("lineOptions"),polygonOptions:G("polygonOptions"),opacity:G("opacity"),radius:G("radius"),width:G("width"),pattern:G("pattern"),type:G("type"),size:G("size"),space:G("space"),rotation:G("rotation"),scale:G("scale"),none:G("none"),text:G("text"),font:G("font"),horizontalAlignment:G("horizontalAlignment"),verticalAlignment:G("verticalAlignment"),enableRotation:G("enableRotation"),fitGeometry:G("fitGeometry"),minimumWidth:G("minimumWidth"),smooth:G("smooth"),overflow:G("overflow"),hidden:G("hidden"),visible:G("visible"),ellipsis:G("ellipsis"),labelStroke:G("labelStroke"),stroke:G("stroke"),label:G("label"),anchorage:G("anchorage"),form:G("form"),family:G("family"),iconSize:G("iconSize"),gradient:G("gradient"),iconColor:G("iconColor"),legend:G("legend"),showLabel:G("showLabel"),fill:G("fill"),border:G("border"),bulk:G("bulk"),attributes:G("attributes"),minimumRadius:G("minimumRadius"),maximumRadius:G("maximumRadius"),attribute:G("attribute"),addColor:G("addColor"),blur:G("blur"),ranks:G("ranks"),rank:G("rank"),numberRanks:G("numberRanks"),ranges:G("ranges"),adjust:G("adjust"),since:G("since"),until:G("until"),envelope:G("envelope"),quantity:G("quantity"),selectable:G("selectable"),animated:G("animated"),distance:G("distance"),points:G("points"),fanDistance:G("fanDistance"),textColor:G("textColor"),algorithm:G("algorithm"),arithmeticProgression:G("arithmeticProgression"),equalIntervals:G("equalIntervals"),geometricProgression:G("geometricProgression"),meanSigma:G("meanSigma"),naturalBreaks:G("naturalBreaks"),quantile:G("quantile"),colorRamp:G("colorRamp"),cake:G("cake"),tDcake:G("tDcake"),donut:G("donut"),graphic:G("graphic"),classic:G("classic"),dark:G("dark"),pale:G("pale"),neon:G("neon"),pie:G("pie"),xAxis:G("xAxis"),yAxis:G("yAxis"),addAttribute:G("addAttribute"),initial:G("initial"),final:G("final"),arrow:G("arrow"),arrowColor:G("arrowColor"),modifySVG:G("modifySVG")},this.htmlParent_=n,this.htmlTemplate_=null,this.html_=t,this.activated_=!0,this.selected_=!1,this.disabled_=!1,this.layer_=o,this.activateButton_=n.querySelector('[data-role="botonera"] [data-flap="'.concat(a,'"]')),this.selectButton_=n.querySelector('[data-role="botonera"] [data-checkbox="'.concat(a,'"]')),this.style_=i,this.styleType_=a,this.compilePromise_=this.initializeView(this.html_,this.htmlParent_)}var t,n,a;return t=e,a=[{key:"createObj",value:function(t,n,a){var i=M.utils.isArray(n)?n:n.split("."),o=i.length,s=i[0];1===o?(M.utils.isArray(a)?a=U(a):M.utils.isObject(a)&&(a=Object.assign({},a)),t[s]=a):o>1&&(M.utils.isNullOrEmpty(t[s])&&(t[s]={}),e.createObj(t[s],i.slice(1,o),a))}}],(n=[{key:"compileTemplate",value:function(e,t){var n=K(K({},t),{},{translations:this.translations_});return new Promise((function(t){t(M.template.compileSync(e,{vars:n}))}))}},{key:"getCompilePromise",value:function(){return this.compilePromise_}},{key:"initializeView",value:function(e,t){var n=this,a=this.getOptionsTemplate();return this.compileTemplate(e,a).then((function(e){t.appendChild(e),n.htmlTemplate_=e}))}},{key:"getOptionsTemplate",value:function(){}},{key:"addTemplate",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.compileTemplate(e,n).then((function(e){t.innerHTML=e.innerHTML,"function"==typeof a&&a()}))}},{key:"appendTemplate",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.compileTemplate(e,n).then((function(e){t.appendChild(e),"function"==typeof a&&a()}))}},{key:"generateOptions",value:function(){var t={options:{},ranges:{}};return this.querySelectorAllForEach("[data-options]",(function(e){var n=e.dataset.options,a=e.value;"checkbox"===e.type&&(a=e.checked),"number"===e.type&&(a=parseFloat(a)),t[n]=a})),this.querySelectorAllForEach("[data-style-options]",(function(e){var n=e.dataset.styleOptions,a=e.value;"checkbox"===e.type&&(a=e.checked),"number"===e.type&&(a=parseFloat(a)),t.options[n]=a})),this.querySelectorAllForEach("[data-array-options]",(function(e){var n=e.dataset.arrayOptions,a=e.value;M.utils.isArray(t.options[n])||(t.options[n]=[]),t.options[n].push(a)})),this.querySelectorAllForEach("[data-ranges-id]",(function(n){var a=n.dataset.rangesId;void 0===t.ranges[a]&&(t.ranges[a]={});var i=n.dataset.rangesOptions,o=n.value;"number"===n.type&&(o=parseFloat(o)),e.createObj(t.ranges[a],i,o)})),t}},{key:"setActivated",value:function(e){this.activated_=e,!0===e&&(this.activateButton_.classList.replace("check-selected","check-active"),this.unhide()),!1===e&&(this.activateButton_.classList.replace("check-active","check-selected"),this.hide())}},{key:"setSelected",value:function(e){this.selected_=e,this.selectButton_.checked=e}},{key:"setDisabled",value:function(e){this.disabled_=e,this.selectButton_.disabled=e,!0===e&&(this.activateButton_.classList.add("check-inactive"),this.setSelected(!e),this.setActivated(!e),this.hide()),!1===e&&this.activateButton_.classList.remove("check-inactive")}},{key:"hide",value:function(){return this.getTemplate().classList.add("m-hidden"),this}},{key:"unhide",value:function(){return this.getTemplate().classList.remove("m-hidden"),this}},{key:"getTemplate",value:function(){return this.htmlTemplate_}},{key:"getParentTemplate",value:function(){return this.htmlParent_}},{key:"querySelector",value:function(e){return this.getTemplate().querySelector(e)}},{key:"querySelectorAll",value:function(e){return this.getTemplate().querySelectorAll(e)}},{key:"querySelectorAllForEach",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;Array.prototype.forEach.apply(this.querySelectorAll(e),[t,n])}},{key:"querySelectorAllMap",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return Array.prototype.map.apply(this.querySelectorAll(e),[t,n])}},{key:"querySelectorParent",value:function(e){return this.getParentTemplate().querySelector(e)}},{key:"querySelectorAllParent",value:function(e){return this.getParentTemplate().querySelectorAll(e)}},{key:"querySelectorAllForEachParent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;Array.prototype.forEach.apply(this.querySelectorAllParent(e),[t,n])}},{key:"querySelectorAllMapParent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return Array.prototype.map.apply(this.querySelectorAllParent(e),[t,n])}},{key:"setLayer",value:function(e){return this.layer_=e,this}},{key:"getActivateButton",value:function(){return this.activateButton_}},{key:"getSelectButton",value:function(){return this.selectButton_}},{key:"setIntegerAttributes",value:function(){var e=this;if(this.layer_ instanceof M.layer.Vector){var t=this.filterAttributesFeature("number").map((function(e){return{name:e}})),n=this.getTemplate().querySelector("[data-options='attributeName']");this.compileTemplate(F.a,{attributes:t}).then((function(a){n.innerHTML=a.innerHTML,0===t.length?e.deactivateBinding():e.activateBinding()}))}}},{key:"filterAttributesFeature",value:function(e){var t=this.getAllFeaturesAttributes(),n=Object.keys(t);switch(e){case"string":n=n.filter((function(e){return Number.isNaN(parseFloat(t[e]))}));break;case"number":n=n.filter((function(e){return!Number.isNaN(parseFloat(t[e]))}))}return n}},{key:"getFeaturesAttributes",value:function(){return this.layer_.getFeatures()[0].getAttributes()}},{key:"getAllFeaturesAttributes",value:function(){var e=this.getFeaturesAttributes();return this.layer_.getFeatures().reverse().forEach((function(t){Object.keys(t.getAttributes()).forEach((function(t,n){null!=n&&null==e[t]&&(e[t]=n)}))})),e}},{key:"hideAllOptionsSections",value:function(){this.querySelectorAllForEach(".styles-row",(function(e){e.classList.add("m-hidden")}))}},{key:"hideOptionSection",value:function(e){this.querySelector("[data-id=".concat(e,"]")).classList.add("m-hidden")}},{key:"showOptionSection",value:function(e){this.querySelector("[data-id=".concat(e,"]")).classList.remove("m-hidden")}},{key:"addInputListener",value:function(e){this.querySelectorAllForEach("input",(function(t){t.addEventListener("change",e)})),this.querySelectorAllForEach("select",(function(t){t.addEventListener("change",e)}))}},{key:"deactivateBinding",value:function(){this.querySelectorAllForEach("input,select:not([data-options='attributeName']),label,span,.subtitle",(function(e){e.classList.add("m-hidden")})),this.querySelector("[data-options='attributeName']").disabled=!0;var e=document.createElement("option");e.value="",e.innerText="No existen atributos",this.querySelector("[data-options='attributeName']").add(e),this.querySelector("span").classList.remove("m-hidden")}},{key:"activateBinding",value:function(){this.querySelectorAllForEach("input,select:not([data-options='attributeName']),label,span,.subtitle",(function(e){e.classList.remove("m-hidden")})),this.querySelector("[data-options='attributeName']").disabled=!1}},{key:"destroy",value:function(){this.htmlParent_.removeChild(this.htmlTemplate_)}}])&&W(t.prototype,n),a&&W(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ee(a.key),a)}}function ee(e){var t=function(e,t){if("object"!=Q(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Q(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Q(t)?t:String(t)}function te(e,t,n){return t=ne(t),function(e,t){if(t&&("object"===Q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],ne(e).constructor):t.apply(e,n))}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ae(e,t){return(ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var ie=function(e){function t(e,n,a,i,o,s){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=te(this,t,[e,n,a,i,o])).controller_=s,r.compilePromise_.then((function(){r.infoListener()})),r}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ae(e,t)}(t,e),n=t,i=[{key:"RADIUS_OPTION",get:function(){return 10}},{key:"ICON_RADIUS_OPTION",get:function(){return 10}},{key:"OPTIONS_POINT_SUBMENU",get:function(){return[{id:"fill",name:G("fill")},{id:"stroke",name:G("stroke")},{id:"label",name:G("labelText")},{id:"icon",name:G("icon")},{id:"form",name:G("font")}]}},{key:"OPTIONS_SUBMENU",get:function(){return[{id:"fill",name:G("fill")},{id:"stroke",name:G("stroke")},{id:"label",name:G("labelText")}]}},{key:"GEOMETRIES",get:function(){return["point","line","polygon"]}},{key:"arrayDataToTemplate",value:function(e,t,n){return t.map((function(t,a){return{id:t,name:n[a],selected:e}}))}},{key:"DEFAULT_OPTIONS_STYLE",get:function(){var e={radius:10,fill:{color:"#e5008a",opacity:1,width:2,pattern:{color:"red",name:"HATCH",size:1,spacing:2,scale:3,offset:5,rotation:0}},stroke:{color:"#000000",opacity:1,width:2,linedash:[0,0],linedashoffset:0,linecap:"none",linejoin:"none",pattern:{color:"red",name:"HATCH",size:1,spacing:2,scale:3,offset:5,rotation:0}},label:{fill:{color:"#ff0000"},stroke:{color:"no-color",width:2,linedash:[0,0],linedashoffset:0,linecap:"none",linejoin:"none"},scale:2,text:"",font:"14px serif",align:"center",baseline:"top",rotate:!1,rotation:0,offset:[0,0]},icon:{src:"",size:["",""],anchor:["",""],scale:1,offset:[0,0],rotate:!1,rotation:0,opacity:1,form:"CIRCLE",class:"g-cartografia-info",fill:"#ffffff",color:"#e07e18"}};return{point:M.utils.extends({},e),line:M.utils.extends({},e),polygon:M.utils.extends({},e)}}}],(a=[{key:"setLayer",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.layer_=e,!0===t&&this.refreshTemplate(),this}},{key:"setGeometry",value:function(e){return t.GEOMETRIES.includes(e)?this.geometry_=e:this.geometry_="point",this}},{key:"getGeometry",value:function(){return this.geometry_}},{key:"refreshTemplate",value:function(){this.querySelectorAllForEach("[data-geometry]",(function(e){return e.classList.remove("m-hidden")})),this.refreshOptionsButtons(),this.addLabelPathListener()}},{key:"refreshOptionsButtons",value:function(){var e=this,n=t.OPTIONS_POINT_SUBMENU;this.addOptionsButtons(n,(function(){e.compatibleSectionListener("icon","form"),e.compatibleSectionListener("form","icon")}))}},{key:"infoListener",value:function(){this.querySelector("[data-info]").addEventListener("click",(function(){M.dialog.info(G("infoURL"),G("info"))}))}},{key:"addOptionsButtons",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this.getParentTemplate().querySelector("[data-buttons-option]");this.hideAllOptionsSections(),this.addTemplate(R.a,a,{buttonsParams:e},(function(){e.forEach((function(e){t.toggleCheckOptionSection(e.id),t.activateOptionSection(e.id),"function"==typeof n&&n()})),t.activateOptionsStyle(),t.addEventCheckFromSubmenu()}))}},{key:"addEventCheckFromSubmenu",value:function(){var e=this;this.querySelectorAllForEachParent("[data-buttons-option] input",(function(t){t.addEventListener("change",(function(){e.controller_.selectPanel("stylesimple")}))}))}},{key:"activateOptionsStyle",value:function(){var e=this.style_,t=this.querySelector("#select-icon");t.replaceWith(t.cloneNode(!0)),(t=this.querySelector("#select-icon")).addEventListener("click",this.eventOpenIconSelector),document.querySelector(".style-grid-container").addEventListener("click",this.eventSelectIcon);var n=this.querySelector("[data-style-options='point.form.class']");n.addEventListener("change",this.changeFamilyFont);var a=this.querySelector(".style-col-2 > select[data-style-options = 'point.form.class']"),i=a.dataset.icon;if(""!==i){var o=i.split("-"),s="g"==o[0]?"g-cartografia":"fa"==o[0]?"fa":"";a.querySelector('option[value="'.concat(s,'"]')).selected=!0,a.dispatchEvent(new window.Event("change")),document.querySelector("#select-icon").classList=("fa"===s?"fa ":"")+i,document.querySelector(".style-grid-item".concat("fa"===s?".fa":"",".").concat(i)).classList.add("selected")}if(null!=e&&!(e instanceof M.style.FlowLine)){var r=e.getOptions();if(null!=r.point.fill||null!=r.line.fill||null!=r.polygon.fill){var l=Object.values(r.point.fill).filter((function(e){return void 0!==e})),c=Object.values(r.line.fill).filter((function(e){return void 0!==e})),d=Object.values(r.polygon.fill).filter((function(e){return void 0!==e}));(l.length>0||c.length>0||d.length>0)&&this.checkOptionSection("fill")}void 0===r.point.stroke&&void 0===r.line.stroke&&void 0===r.polygon.stroke||this.checkOptionSection("stroke"),void 0!==r.point.label&&this.checkOptionSection("label"),void 0!==r.point.icon&&(r.point.icon.hasOwnProperty("src")&&(this.checkOptionSection("icon"),this.disableOption("form")),r.point.icon.hasOwnProperty("form")&&(this.checkOptionSection("form"),this.disableOption("icon")),r.point.icon.hasOwnProperty("class")&&(n.value=r.point.icon.class)),void 0!==r.polygon.icon&&(r.polygon.icon.hasOwnProperty("src")&&(this.checkOptionSection("icon"),this.disableOption("form")),r.polygon.icon.hasOwnProperty("form")&&(this.checkOptionSection("form"),this.disableOption("icon")),r.polygon.icon.hasOwnProperty("class")&&(n.value=r.polygon.icon.class)),void 0!==r.line.icon&&(r.line.icon.hasOwnProperty("src")&&(this.checkOptionSection("icon"),this.disableOption("form")),r.line.icon.hasOwnProperty("form")&&(this.checkOptionSection("form"),this.disableOption("icon")),r.line.icon.hasOwnProperty("class")&&(n.value=r.line.icon.class))}}},{key:"eventOpenIconSelector",value:function(e){var t=document.querySelector(".style-grid-container");"style-grid-container active"===t.classList.toString()?t.classList.remove("active"):t.classList.add("active")}},{key:"eventSelectIcon",value:function(e){if(!e.target.classList.contains("selected")&&e.target.classList.contains("style-grid-item")){var t=document.querySelector(".style-grid-item.selected");t&&t.classList.remove("selected"),e.target.classList.add("selected");var n=e.target.classList.toString().replace("selected","").replace("style-grid-item","").trim();document.querySelector("[data-style-options='point.form.class']").dataset.icon=n.replace("fa","").trim(),document.querySelector("#select-icon").classList=n}}},{key:"changeFamilyFont",value:function(e){""===e.target.value?(document.querySelector("#select-icon").style.display="none",document.querySelector(".style-grid-container").classList.remove("active")):document.querySelector("#select-icon").style.display="inherit",document.querySelectorAll(".style-grid-item").forEach((function(e){e.style.display="none"})),document.querySelectorAll(".style-grid-item[class*='".concat(e.target.value,"']")).forEach((function(e){e.style.display="inherit"}))}},{key:"addLabelPathListener",value:function(){var e=this,t=this.querySelector('[data-style-options="line.label.path"]');t.addEventListener("change",(function(){e.togglePathSection(!t.checked)}))}},{key:"togglePathSection",value:function(e){this.querySelectorAllForEach("[data-textpath]",(function(t){t.disabled=!0===e&&e}))}},{key:"toggleCheckOptionSection",value:function(e){var t=this;this.getParentTemplate().querySelector("[data-buttons-option] input[data-apply='".concat(e,"']")).addEventListener("change",(function(n){t.toggleCheckOptSectionListener(e,n)}))}},{key:"toggleCheckOptSectionListener",value:function(e,t){!0===t.target.checked&&this.activateOption(e)}},{key:"checkOptionSection",value:function(e){var t=this.getParentTemplate().querySelector("[data-buttons-option] input[data-apply='".concat(e,"']"));this.activateOption(e),t.checked=!0}},{key:"activateOptionSection",value:function(e){var t=this;this.getParentTemplate().querySelector("[data-buttons-option] [data-label='".concat(e,"']")).addEventListener("click",(function(){t.activateOption(e)}))}},{key:"activateOption",value:function(e){var t=this.querySelectorParent("[data-buttons-option] input[data-apply='".concat(e,"']+label")),n=this.querySelectorParent("[data-buttons-option] input[data-apply='".concat(e,"']"));null!=n&&!1===n.disabled&&(this.activateLabel(t),this.displaySectionOption(e))}},{key:"activateLabel",value:function(e){this.querySelectorAllForEachParent("[data-selector]",(function(e){e.classList.remove("check-active"),e.classList.add("check-selected")})),e.classList.add("check-active"),e.classList.remove("check-selected")}},{key:"displaySectionOption",value:function(e){this.hideAllOptionsSections(),this.showOptionSection(e)}},{key:"generateOptions",value:function(){var e=this,t={options:{}};this.querySelectorAllForEach("[data-style-options]",(function(n){var a=n.dataset.styleOptions,i=n.value;"point.form.class"===a&&""!==i&&(i=e.querySelector("[data-style-options='point.form.class']").dataset.icon),"checkbox"===n.type&&(i=n.checked),"number"===n.type&&(i=parseFloat(i),Number.isNaN(i)&&(i=0));var o=!1,s=n.dataset.target;if(void 0!==s){var r=e.querySelector('[data-target="'.concat(s,'"]')).value,l=e.querySelector('[data-id="'.concat(s,'"]')).value;o=!("size"!==s&&"anchor"!==s||r||l||0===parseFloat(r)||0===parseFloat(l));var c=parseFloat(e.querySelector('[data-id="'.concat(s,'"]')).value);Number.isNaN(c)&&(c=0),i=[i,c]}o||$.createObj(t.options,a,i)})),this.querySelectorAllForEach("[data-apply]",(function(e){var n=e.dataset.apply;!1===e.checked&&("point-svg"===n&&($.createObj(t.options,"point.src.stroke",void 0),$.createObj(t.options,"point.src.fill",void 0)),$.createObj(t.options,n,void 0))}));var n,a,i,o=this.querySelector("[data-font-size-point]").value||12,s=this.querySelector("[data-font-family-point]").value,r="".concat(o,"px ").concat(s),l=this.querySelector("[data-font-size-polygon]").value||12,c=this.querySelector("[data-font-family-polygon]").value,d="".concat(l,"px ").concat(c),u=this.querySelector("[data-font-size-line]").value||12,p=this.querySelector("[data-font-family-line]").value,f="".concat(u,"px ").concat(p),v=document.querySelector('[data-apply="icon"]'),y=null!==v&&!0===v.checked?t.options.point.src:t.options.point.form;return null!=t.options.point.label&&null!=t.options.point.label.text&&(n=t.options.point.label),null!=t.options.polygon.label&&null!=t.options.polygon.label.text&&(a=t.options.polygon.label),null!=t.options.line.label&&null!=t.options.line.label.text&&(i=t.options.line.label),t.options={point:{fill:t.options.point.fill,stroke:t.options.point.stroke,label:n,icon:y,radius:t.options.point.radius},line:{fill:t.options.line.fill,stroke:t.options.line.stroke,label:i},polygon:{fill:t.options.polygon.fill,stroke:t.options.polygon.stroke,label:a}},void 0!==t.options.point.label&&(t.options.point.label.font=r),void 0!==t.options.polygon.label&&(t.options.polygon.label.font=d),void 0!==t.options.line.label&&(t.options.line.label.font=f),this.processOptions(t)}},{key:"processOptions",value:function(e){var t=M.utils.extends({},e),n=this.isChecked("fill"),a=this.isChecked("stroke"),i=this.isChecked("label"),o=this.isChecked("icon"),s=this.isChecked("form");return t.options.point.fill=!0===n?t.options.point.fill:void 0,t.options.point.stroke=!0===a?t.options.point.stroke:void 0,t.options.point.label=!0===i?t.options.point.label:void 0,t.options.point.icon=!0===o||!0===s?t.options.point.icon:void 0,t.options.line.fill=!0===n?t.options.line.fill:void 0,t.options.line.stroke=!0===a?t.options.line.stroke:void 0,t.options.line.label=!0===i?t.options.line.label:void 0,t.options.line.icon=!0===o||!0===s?t.options.line.icon:void 0,t.options.polygon.fill=!0===n?t.options.polygon.fill:void 0,t.options.polygon.stroke=!0===a?t.options.polygon.stroke:void 0,t.options.polygon.label=!0===i?t.options.polygon.label:void 0,t.options.polygon.icon=!0===o||!0===s?t.options.polygon.icon:void 0,t.point={fill:t.options.point.fill,radius:t.options.point.radius,stroke:t.options.point.stroke,label:t.options.point.label,icon:t.options.point.icon},t.line={fill:t.options.line.fill,stroke:t.options.line.stroke,label:t.options.line.label},t.polygon={fill:t.options.polygon.fill,stroke:t.options.polygon.stroke,label:t.options.polygon.label},delete t.options,t}},{key:"isChecked",value:function(e){var t=!1,n=this.getParentTemplate().querySelector("[data-buttons-option] input[data-apply='".concat(e,"'"));return null!=n&&(t=n.checked),t}},{key:"generateStyle",value:function(){var e=this.generateOptions();return new M.style.Generic(e)}},{key:"compatibleSectionListener",value:function(e,t){var n=this,a=this.querySelectorParent('[data-buttons-option] input[data-apply="'.concat(e,'"]'));null!=a&&a.addEventListener("change",(function(){!0===a.checked?n.disableOption(t):n.enableOption(t)}))}},{key:"disableOption",value:function(e){var t=this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]')),n=this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]+label'));this.hideOptionSection(e),n.classList.add("check-inactive"),n.classList.add("check-selected"),n.classList.remove("m-option-active"),t.disabled=!0,t.checked=!1}},{key:"enableOption",value:function(e){var t=this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]'));this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]+label')).classList.remove("check-inactive"),t.disabled=!1}},{key:"getOptionsTemplate",value:function(){var e=t.DEFAULT_OPTIONS_STYLE;null!=this.style_&&(e=M.utils.extends({},this.style_.getOptions()),e=M.utils.extends(e,t.DEFAULT_OPTIONS_STYLE),null!=this.style_.get("polygon.fill.pattern")&&(e.polygon.patternfflag=!0),null!=this.style_.get("polygon.stroke.pattern")&&(e.polygon.patternstflag=!0),null!=this.style_.get("line.fill.pattern")&&(e.line.patternflag=!0),null==this.style_.get("point.icon")||null==this.style_.get("point.icon.src")||null==this.style_.get("point.icon.fill")&&null==this.style_.get("point.icon.stroke")||(e.point.svgflag=!0)),e.point.fill.color=e.point.fill.color.indexOf("rgba")>=0?C(C(e.point.fill.color).rgb()).hex():C(e.point.fill.color).hex(),e.line.fill.color=e.line.fill.color.indexOf("rgba")>=0?C(C(e.line.fill.color).rgb()).hex():C(e.line.fill.color).hex(),e.polygon.fill.color=e.polygon.fill.color.indexOf("rgba")>=0?C(C(e.polygon.fill.color).rgb()).hex():C(e.polygon.fill.color).hex(),e.point.stroke.color=e.point.stroke.color.indexOf("rgba")>=0?C(C(e.point.stroke.color).rgb()).hex():C(e.point.stroke.color).hex(),e.line.stroke.color=e.line.stroke.color.indexOf("rgba")>=0?C(C(e.line.stroke.color).rgb()).hex():C(e.line.stroke.color).hex(),e.polygon.stroke.color=e.polygon.stroke.color.indexOf("rgba")>=0?C(C(e.polygon.stroke.color).rgb()).hex():C(e.polygon.stroke.color).hex(),e.polygon.fill.pattern.color=C(e.polygon.fill.pattern.color).hex(),e.polygon.stroke.pattern.color=C(e.polygon.stroke.pattern.color).hex(),e.point.icon.color=C(e.point.icon.color).hex(),e.line.fill.pattern.color=C(e.polygon.fill.pattern.color).hex();var n=Object.keys(M.style.pattern).filter((function(e){return"ICON"!==e&&"IMAGE"!==e})),a=Object.values(M.style.align),i=Object.values(M.style.baseline),o=Object.values(M.style.form).filter((function(e){return null!=e})),s=[G("bevel"),G("miter"),G("rounded")],r=[G("rounded"),G("extreme"),G("square")],l=[G("center"),G("justified"),G("left"),G("right")];e.line.patternlist=t.arrayDataToTemplate(e.line.fill.pattern.name,n,n),e.polygon.patternflist=t.arrayDataToTemplate(e.polygon.fill.pattern.name,n,n),e.polygon.patternstlist=t.arrayDataToTemplate(e.polygon.stroke.pattern.name,n,n),e.point.linecapstroke=t.arrayDataToTemplate(e.point.stroke.linecap,["butt","square","round"],r),e.line.linecapstroke=t.arrayDataToTemplate(e.line.stroke.linecap,["butt","square","round"],r),e.polygon.linecapstroke=t.arrayDataToTemplate(e.polygon.stroke.linecap,["butt","square","round"],r),e.point.linejoinstroke=t.arrayDataToTemplate(e.point.stroke.linejoin,["bevel","miter","round"],s),e.line.linejoinstroke=t.arrayDataToTemplate(e.line.stroke.linejoin,["bevel","miter","round"],s),e.polygon.linejoinstroke=t.arrayDataToTemplate(e.polygon.stroke.linejoin,["bevel","miter","round"],s),e.point.linecaplabelstroke=t.arrayDataToTemplate(e.point.label.stroke.linecap,["butt","square","round"],r),e.line.linecaplabelstroke=t.arrayDataToTemplate(e.line.label.stroke.linecap,["butt","square","round"],r),e.polygon.linecaplabelstroke=t.arrayDataToTemplate(e.polygon.label.stroke.linecap,["butt","square","round"],r),e.point.linejoinlabelstroke=t.arrayDataToTemplate(e.point.label.stroke.linejoin,["bevel","miter","round"],s),e.polygon.linejoinlabelstroke=t.arrayDataToTemplate(e.polygon.label.stroke.linejoin,["bevel","miter","round"],s),e.line.linejoinlabelstroke=t.arrayDataToTemplate(e.line.label.stroke.linejoin,["bevel","miter","round"],s),e.point.alignlist=t.arrayDataToTemplate(e.point.label.align,a,l),e.polygon.alignlist=t.arrayDataToTemplate(e.polygon.label.align,a,l),e.line.alignlist=t.arrayDataToTemplate(e.line.label.align,a,l);var c=[G("alphabetical"),G("down"),G("hanging"),G("ideographic"),G("up")];if(e.point.baselinelist=t.arrayDataToTemplate(e.point.label.baseline,i,c),e.polygon.baselinelist=t.arrayDataToTemplate(e.polygon.label.baseline,i,c),e.line.baselinelist=t.arrayDataToTemplate(e.line.label.baseline,i,c),e.point.formlist=t.arrayDataToTemplate(e.point.icon.form,o,o),null!=this.layer_){var d=Object.keys(this.getFeaturesAttributes()),u=null!=e.point.label?e.point.label.text:"",p=null!=e.polygon.label?e.polygon.label.text:"",f=null!=e.line.label?e.line.label.text:"";e.point.featuresAttr=t.arrayDataToTemplate(u,d.map((function(e){return"{{".concat(e,"}}")})),d),e.polygon.featuresAttr=t.arrayDataToTemplate(p,d.map((function(e){return"{{".concat(e,"}}")})),d),e.line.featuresAttr=t.arrayDataToTemplate(f,d.map((function(e){return"{{".concat(e,"}}")})),d)}return e.point.label.fontSize=e.point.label.font.split(" ")[0].replace("px",""),e.point.label.font=e.point.label.font.split(" ")[1],e.line.label.fontSize=e.line.label.font.split(" ")[0].replace("px",""),e.line.label.font=e.line.label.font.split(" ")[1],e.polygon.label.fontSize=e.polygon.label.font.split(" ")[0].replace("px",""),e.polygon.label.font=e.polygon.label.font.split(" ")[1],"string"==typeof e.point.icon.fill?(e.point.icon.fill=C(e.point.icon.fill).hex(),e.point.src={fill:{color:"#000000",opacity:1},stroke:{color:"#000000",width:1}}):e.point.src={fill:{color:C(e.point.icon.fill.color).hex()||"#000000",opacity:e.point.icon.fill.opacity||1},stroke:{color:C(e.point.icon.stroke.color).hex()||"#000000",width:e.point.icon.stroke.width||1}},e}},{key:"imgId",get:function(){return this.imgId_},set:function(e){this.imgId_=e}},{key:"toggleDisplaySubmenu",value:function(e){var t=!0===e?"add":"remove";this.getParentTemplate().querySelector("[data-buttons-option]").classList[t]("m-hidden")}},{key:"refreshLegend",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.imgId_,i=this.generateStyle();if(!0===n&&(i=this.style_),null!=i){(i=i.clone())instanceof M.style.Point&&(i.set("radius",t.RADIUS_OPTION),null!=i.get("icon.radius")&&i.set("icon.radius",t.ICON_RADIUS_OPTION));var o=this.htmlParent_.querySelector("img[id='img-".concat(a,"']"));i.updateCanvas();var s=i.toImage();null!=o&&(o.src=s)}}}])&&Z(n.prototype,a),i&&Z(n,i),Object.defineProperty(n,"prototype",{writable:!1}),t}($);function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,le(a.key),a)}}function le(e){var t=function(e,t){if("object"!=oe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=oe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oe(t)?t:String(t)}function ce(e,t,n){return t=de(t),function(e,t){if(t&&("object"===oe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],de(e).constructor):t.apply(e,n))}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t){return(ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var pe=function(e){function t(){return se(this,t),ce(this,t,arguments)}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ue(e,t)}(t,e),n=t,i=[{key:"arrayDataToTemplate",value:function(e,t,n){return t.map((function(t,a){return{id:t,name:n[a],selected:e}}))}}],(a=[{key:"setLayer",value:function(e){return this.layer_=e,this}},{key:"generateStyle",value:function(){var e=this.generateOptions(),t=null;if(""!==e.attributeName){var n="flannery"===e.scaledName?{flannery:!0}:{flannery:!1};t=new M.style.Proportional(e.attributeName,e.minRadius,e.maxRadius,null,null,n)}return t}},{key:"getOptionsTemplate",value:function(){var e=t.DEFAULT_OPTIONS_STYLE;if(null!=this.style_){var n=this.style_.options_&&!0===this.style_.options_.flannery?"flannery":"absolute";e={attributeName:this.style_.getAttributeName(),minRadius:this.style_.getMinRadius(),maxRadius:this.style_.getMaxRadius(),proportionalFunction:n},this.setSelected(!0)}return null!=this.layer_&&(e.attributes=this.getAttributes(),e.attributes.forEach((function(t){return t.selected=e.attributeName})),e.functions=t.arrayDataToTemplate(e.proportionalFunction,["absolute","flannery"],[G("absolute"),"Flannery"])),e}},{key:"getAttributes",value:function(){return this.filterAttributesFeature("number").map((function(e){return{name:e}}))}}])&&re(n.prototype,a),i&&re(n,i),Object.defineProperty(n,"prototype",{writable:!1}),t}($);function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e){return function(e){if(Array.isArray(e))return ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ye(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function he(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,me(a.key),a)}}function me(e){var t=function(e,t){if("object"!=fe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=fe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fe(t)?t:String(t)}function be(e,t,n){return t=ge(t),function(e,t){if(t&&("object"===fe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],ge(e).constructor):t.apply(e,n))}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ke(e,t){return(ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}pe.DEFAULT_OPTIONS_STYLE={attributeName:"",minRadius:12,maxRadius:25,proportionalFunction:"absolute"};var we=function(e){function t(e,n,a,i,o){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(s=be(this,t,[e,n,a,i,o])).compilePromise_.then((function(){s.addEventRangeListener(),s.addPaginationListener()})),s}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ke(e,t)}(t,e),n=t,(a=[{key:"setLayer",value:function(e){return this.layer_=e,this}},{key:"generateOptions",value:function(){var e={options:{},ranges:{}};return this.querySelectorAllForEach("[data-style-options]",(function(t){var n=t.dataset.styleOptions,a=t.value;"checkbox"===t.type&&(a=t.checked),"number"===t.type&&(a=parseFloat(a)),"label.color"===n?(e.options.label={},e.options.label.color=a):e.options[n]=a})),this.querySelectorAllForEach("[data-ranges-id][data-apply-range]",(function(t){var n=t.dataset.rangesId;void 0===e.ranges[n]&&(e.ranges[n]={});var a=t.dataset.rangesOptions,i=t.value;"number"===t.type&&(i=parseFloat(i)),$.createObj(e.ranges[n],a,i)})),e.ranges=Object.values(e.ranges).filter((function(e){return!Number.isNaN(e.minRange)&&!Number.isNaN(e.maxRange)})),e}},{key:"generateStyle",value:function(){var e=this.generateOptions(),t=ve(e.ranges).map((function(e){return{min:e.minRange,max:e.maxRange,style:new M.style.Point(e.style)}}));return e.options.ranges=t,new M.style.Cluster(e.options,{distanceSelectFeatures:e.options.distanceSelectFeatures})}},{key:"setRanges",value:function(){var e=this.querySelector("[data-number-ranges]"),n=parseInt(e.value,0);if(n>0&&n<t.NUMBER_RANGES){for(var a=1;a<n+1;a+=1)this.querySelector('[data-page-selector="'.concat(a,'"]')).classList.remove("m-hidden"),this.querySelectorAllForEach("[data-ranges-id='".concat(a,"']"),(function(e){e.setAttribute("data-apply-range","")}));for(var i=n+1;i<t.NUMBER_RANGES;i+=1)this.querySelector('[data-page-selector="'.concat(i,'"]')).classList.add("m-hidden"),this.querySelectorAllForEach('[data-ranges-id="'.concat(i,'"]'),(function(e){e.removeAttribute("data-apply-range")}));var o=this.querySelector('[data-page-selector="'.concat(n,'"]'));this.paginationListener(o)()}}},{key:"paginationListener",value:function(e){var t=this;return function(){var n=t.querySelector("[data-page-active]");if(null!=n){n.removeAttribute("data-page-active"),n.classList.remove("m-page-active");var a=n.dataset.pageSelector,i=t.querySelector("[data-page='".concat(a,"']"));null!=i&&i.classList.add("m-hidden")}if(null!=e){e.classList.add("m-page-active"),e.dataset.pageActive="";var o=e.dataset.pageSelector;t.querySelector("[data-page='".concat(o,"']")).classList.remove("m-hidden")}}}},{key:"addEventRangeListener",value:function(){this.querySelector("[data-number-ranges]").addEventListener("input",this.setRanges.bind(this))}},{key:"addPaginationListener",value:function(){var e=this;this.querySelectorAllForEach("[data-page-selector]",(function(t){t.addEventListener("click",e.paginationListener(t).bind(e))}))}},{key:"getOptionsTemplate",value:function(){var e=Object.assign({},t.DEFAULT_OPTIONS_STYLE);if(null!=this.style_){var n=(e=Object.assign({},this.style_.getOptions())).ranges.filter((function(e){return!Number.isNaN(e.min)})).map((function(e){var t={},n=e.style;return t.min=e.min,t.max=e.max,t.fill=n.get("fill.color"),t.stroke=n.get("stroke.color"),t.width=n.get("stroke.width"),t.opacity=null==n.get("fill.opacity")?1:n.get("fill.opacity"),t.radius=n.get("radius"),t}));e.ranges=n}var a=e.ranges.slice(-1)[0].max;return e.pages=[],function(e,t,n){for(var a=[],i=n,o=e;o<t;o+=1){var s=i+1,r={id:o,min:s,max:i=s+200,fill:C.random().hex(),stroke:C.random().hex()};a.push(r)}return a}(e.ranges.length+1,t.NUMBER_RANGES,a).forEach((function(t,n){e.pages.push(t)})),e}}])&&he(n.prototype,a),i&&he(n,i),Object.defineProperty(n,"prototype",{writable:!1}),t}($);we.NUMBER_RANGES=13,we.DEFAULT_OPTIONS_STYLE={hoverInteraction:!0,displayAmount:!0,selectInteraction:!0,animated:!0,distance:30,label:{color:"#4dfeef"},maxFeaturesToSelect:20,distanceSelectFeatures:15,ranges:[{min:2,max:30,fill:"#ff00ff",stroke:"#00fef0",width:2,opacity:1}]};var Se=n(16);function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,xe(a.key),a)}}function xe(e){var t=function(e,t){if("object"!=Oe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Oe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Oe(t)?t:String(t)}function Pe(e,t,n){return t=Le(t),function(e,t){if(t&&("object"===Oe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Le(e).constructor):t.apply(e,n))}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qe(e,t){return(qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Ee=function(e){function t(e,n,a,i,o){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(s=Pe(this,t,[e,n,a,i,o])).style_=null,s.compilePromise_.then((function(){s.removeGradientListener(),s.addGradientListener()})),s.numberAddedColors_=6,s}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qe(e,t)}(t,e),n=t,(a=[{key:"setLayer",value:function(e){return this.layer_=e,this.style_=null,this}},{key:"removeGradientListener",value:function(){var e=this;this.querySelectorAllForEach(".m-removable-input-color .m-close",(function(t){t.addEventListener("click",(function(){t.parentElement.parentElement.removeChild(t.parentElement),e.numberAddedColors_-=1}))}))}},{key:"addGradientListener",value:function(){var e=this,n=this.querySelector("[data-parent='gradient']");this.querySelector("[data-add]").addEventListener("click",(function(){e.compileTemplate(Se,{}).then((function(a){e.numberAddedColors_<t.MAX_NUMBER_COLORS?(n.appendChild(a),e.setRandomColor(a),a.querySelector(".m-close").addEventListener("click",(function(){a.parentElement.removeChild(a),e.numberAddedColors_-=1})),e.numberAddedColors_+=1):M.dialog.info(G("exception.numberColorAllowed"),G("exception.information"))}))}))}},{key:"setRandomColor",value:function(e){var t=e.querySelector("input"),n=C.random().hex();t.value=n}},{key:"generateStyle",value:function(){var e=this.generateOptions();return new M.style.Heatmap(e.attributeName,e.options)}},{key:"getOptionsTemplate",value:function(){var e=t.DEFAULT_OPTIONS_STYLE;return null!=this.style_&&(e.attribute=this.style_.getAttributeName(),e.radius=this.style_.getRadius(),e.blur=this.style_.getBlurSize(),e.gradient=this.style_.getGradient().map((function(e){return C(e).hex()}))),null!=this.layer_&&(e.attributes=this.getAttributes(),e.attributes.forEach((function(t){return t.selected=e.attribute}))),e}},{key:"getAttributes",value:function(){return this.filterAttributesFeature("number").map((function(e){return{name:e}}))}}])&&_e(n.prototype,a),i&&_e(n,i),Object.defineProperty(n,"prototype",{writable:!1}),t}($);Ee.DEFAULT_OPTIONS_STYLE={attribute:"",gradient:["#0000ff","#00ffff","#00ff00","#ffff00","#ffb619","#ff0000"],blur:12,radius:22},Ee.MAX_NUMBER_COLORS=30;var Te=n(17),Ae=n.n(Te);function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e){return function(e){if(Array.isArray(e))return Me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Me(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Ne(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Re(a.key),a)}}function Re(e){var t=function(e,t){if("object"!=je(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=je(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==je(t)?t:String(t)}function Ie(e,t,n){return t=Fe(t),function(e,t){if(t&&("object"===je(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Fe(e).constructor):t.apply(e,n))}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function De(e,t){return(De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Be=function(e){function t(e,n,a,i,o){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(s=Ie(this,t,[e,n,a,i,o])).compilePromise_.then((function(){s.addColorListener()})),s}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&De(e,t)}(t,e),n=t,(a=[{key:"setLayer",value:function(e){return this.layer_=e,this}},{key:"setRanges",value:function(){for(var e=this.querySelector("[data-number-ranges]"),t=parseInt(e.value,0),n=[],a=1;a<=t;a+=1)n.push({number:a});var i=this.querySelector("[data-parent]");this.addTemplate("choroplethstyles.html",i,{ranges:n})}},{key:"addEventRangeListener",value:function(){this.querySelector("[data-number-ranges]").addEventListener("input",this.setRanges.bind(this))}},{key:"generateStyle",value:function(){var e=this.generateOptions(),t=e.ranges,n=e.options.colors,a=null;"ARITHMETIC_PROGRESSION"===e.quantification?a=M.style.quantification.ARITHMETIC_PROGRESSION:"EQUAL_INTERVAL"===e.quantification?a=M.style.quantification.EQUAL_INTERVAL:"GEOMETRIC_PROGRESSION"===e.quantification?a=M.style.quantification.GEOMETRIC_PROGRESSION:"MEDIA_SIGMA"===e.quantification?a=M.style.quantification.MEDIA_SIGMA:"JENKS"===e.quantification?a=M.style.quantification.JENKS:"QUANTILE"===e.quantification&&(a=M.style.quantification.QUANTILE);var i=null;return""!==e.attributeName&&(i=new M.style.Choropleth(e.attributeName,n,a(t))),i}},{key:"addColors",value:function(){var e=this.querySelector("[data-number-ranges]"),t=parseInt(e.value,0),n=this.querySelectorAll("[data-array-options]").length;n<t?this.addColorTemplate(n):M.dialog.info(G("exception.moreColorsRanges"),G("exception.numberColors"))}},{key:"addColorTemplate",value:function(e){var t=this.querySelector("[data-colors]");this.compileTemplate(Ae.a,{numbercolor:e,color:"#ffff"}).then((function(e){t.append.apply(t,Ce(e.children))}))}},{key:"addColorListener",value:function(){var e=this;this.querySelector("[data-add-color]").addEventListener("click",(function(){e.addColors()}))}},{key:"getOptionsTemplate",value:function(){var e=t.DEFAULT_OPTIONS_STYLE;if(null!=this.style_){var n=this.style_.getChoroplethStyles()[0].get("fill.color"),a=this.style_.getChoroplethStyles().slice(-1)[0].get("fill.color");n=n||this.style_.getChoroplethStyles()[0].get("stroke.color"),a=a||this.style_.getChoroplethStyles().slice(-1)[0].get("stroke.color"),e={attribute:this.style_.getAttributeName(),ranges:this.style_.getChoroplethStyles().length,quantification:this.style_.getQuantification().name,startColor:n,endColor:a}}return null!=this.layer_&&(e.attributes=this.getAttributes(),e.attributes.forEach((function(t){return t.selected=e.attribute}))),e}},{key:"getAttributes",value:function(){return this.filterAttributesFeature("number").map((function(e){return{name:e}}))}}])&&Ne(n.prototype,a),i&&Ne(n,i),Object.defineProperty(n,"prototype",{writable:!1}),t}($);Be.DEFAULT_OPTIONS_STYLE={attribute:"",quantification:"JENKS",ranges:4,startColor:"#F8FF25",endColor:"#4400FD"};var ze=n(18),Ge=n.n(ze),Ve=n(3),Ue=n.n(Ve);function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Ke(a.key),a)}}function Ke(e){var t=function(e,t){if("object"!=Ye(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Ye(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ye(t)?t:String(t)}function Je(e,t,n){return t=We(t),function(e,t){if(t&&("object"===Ye(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],We(e).constructor):t.apply(e,n))}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xe(e,t){return(Xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var $e=function(e){function t(e,n,a,i,o,s){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Je(this,t,[e,n,a,i,o])).fill_=!1,r.stroke_=!1,r.label_=!1,r.form_=!1,r.icon_=!1,null!=i&&(r.fill_=void 0!==i.getOptions().fill,r.stroke_=void 0!==i.getOptions().stroke,r.label_=void 0!==i.getOptions().label,r.icon_=void 0!==i.get("icon.src"),r.form_=void 0!==i.get("icon.form")),r.binding_=s,r}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xe(e,t)}(t,e),n=t,i=[{key:"RADIUS_OPTION",get:function(){return 10}},{key:"ICON_RADIUS_OPTION",get:function(){return 10}},{key:"OPTIONS_POINT_SUBMENU",get:function(){return[{id:"fill",name:G("fill")},{id:"stroke",name:G("stroke")},{id:"label",name:G("labelText")},{id:"icon",name:G("icon")},{id:"form",name:G("font")}]}},{key:"OPTIONS_SUBMENU",get:function(){return[{id:"fill",name:G("fill")},{id:"stroke",name:G("stroke")},{id:"label",name:G("labelText")}]}},{key:"GEOMETRIES",get:function(){return["point","line","polygon"]}},{key:"arrayDataToTemplate",value:function(e,t,n){return t.map((function(t,a){return{id:t,name:n[a],selected:e}}))}},{key:"DEFAULT_OPTIONS_STYLE",get:function(){return{radius:10,fill:{color:"#e5008a",opacity:1,width:2,pattern:{color:"red",name:"HATCH",size:1,spacing:2,scale:3,offset:5,rotation:0}},stroke:{color:"#000000",opacity:1,width:2,linedash:[0,0],linedashoffset:0,linecap:"none",linejoin:"none"},label:{fill:{color:"#ff0000"},stroke:{color:"no-color",width:2,linedash:[0,0],linedashoffset:0,linecap:"none",linejoin:"none"},scale:2,text:"Texto de prueba",font:"14px serif",align:"center",baseline:"top",rotate:!1,rotation:0,offset:[0,0]},icon:{src:"",size:[40,40],anchor:[0,0],scale:1,offset:[0,0],rotation:0,opacity:1,form:"CIRCLE",fill:"#ffffff",gradientcolor:"#e07e18"}}}}],(a=[{key:"setLayer",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.layer_=e,!0===t&&this.refreshTemplate(),this}},{key:"getOptions",value:function(){return{fill:this.fill_,stroke:this.stroke_,label:this.label_,form:this.form_,icon:this.icon_}}},{key:"setGeometry",value:function(e){return t.GEOMETRIES.includes(e)?this.geometry_=e:this.geometry_="point",this}},{key:"getGeometry",value:function(){return this.geometry_}},{key:"refreshTemplate",value:function(){var e=this,n=this.getGeometry(),a=t.GEOMETRIES.filter((function(e){return e!==n}));a.push("pattern"),a.forEach((function(t){("point"===n&&"pattern"===t||"pattern"!==t)&&e.querySelectorAllForEach('[data-geometry="'.concat(t,'"]'),(function(e){return e.classList.add("m-hidden")}))})),this.querySelectorAllForEach('[data-geometry="'.concat(n,'"]'),(function(e){return e.classList.remove("m-hidden")})),this.addLabelPathListener()}},{key:"activateOptionsStyle",value:function(){var e=this.style_;if(null!=e){var t=e.getOptions();null!=t.fill&&Object.values(t.fill).filter((function(e){return void 0!==e})).length>0&&this.checkOptionSection("fill"),void 0!==t.stroke&&this.checkOptionSection("stroke"),void 0!==t.label&&this.checkOptionSection("label"),void 0!==t.icon&&(t.icon.hasOwnProperty("src")&&(this.checkOptionSection("icon"),this.disableOption("form")),t.icon.hasOwnProperty("form")&&(this.checkOptionSection("form"),this.disableOption("icon")))}}},{key:"showCompatibleSections",value:function(){this.binding_.enableOption("form"),this.binding_.enableOption("icon"),!0===this.icon_&&this.binding_.disableOption("form"),!0===this.form_&&this.binding_.disableOption("icon")}},{key:"addLabelPathListener",value:function(){var e=this,t=this.querySelector("[data-style-options='label.path']");t.addEventListener("change",(function(){e.togglePathSection(!t.checked)}))}},{key:"togglePathSection",value:function(e){this.querySelectorAllForEach("[data-textpath]",(function(t){t.disabled=!0===e&&e}))}},{key:"toggleCheckOptionSection",value:function(e){var t=this;this.getParentTemplate().querySelector("[data-buttons-option] input[data-apply='".concat(e,"']")).addEventListener("change",(function(n){t.toggleCheckOptSectionListener(e,n)}))}},{key:"toggleCheckOptSectionListener",value:function(e,t){!0===t.target.checked&&this.activateOption(e)}},{key:"checkOptionSection",value:function(e){var t=this.getParentTemplate().querySelector("[data-buttons-option] input[data-apply='".concat(e,"']"));this.activateOption(e),t.checked=!0}},{key:"activateOptionSection",value:function(e){var t=this;this.getParentTemplate().querySelector("[data-buttons-option] [data-label='".concat(e,"']")).addEventListener("click",(function(){t.activateOption(e)}))}},{key:"activateOption",value:function(e){var t=this.querySelectorParent('[data-buttons-option] input[data-apply="'.concat(e,'"]+label')),n=this.querySelectorParent('[data-buttons-option] input[data-apply="'.concat(e,'"]'));null!=n&&!1===n.disabled&&(this.activateLabel(t),this.displaySectionOption(e))}},{key:"activateLabel",value:function(e){this.querySelectorAllForEachParent("[data-selector]",(function(e){e.classList.remove("check-active"),e.classList.add("check-selected")})),e.classList.add("check-active"),e.classList.remove("check-selected")}},{key:"displaySectionOption",value:function(e){this.hideAllOptionsSections(),this.showOptionSection(e)}},{key:"generateOptions",value:function(){var e=this,t={options:{}};this.querySelectorAllForEach("[data-style-options]",(function(n){var a=n.dataset.styleOptions,i=n.value;"checkbox"===n.type&&(i=n.checked),"number"===n.type&&(i=parseFloat(i),Number.isNaN(i)&&(i=0));var o=n.dataset.target;if(void 0!==o){var s=parseFloat(e.querySelector("[data-id='".concat(o,"']")).value);Number.isNaN(s)&&(s=0),i=[i,s]}$.createObj(t.options,a,i)})),this.querySelectorAllForEach("[data-apply]",(function(e){var n=e.dataset.apply;!1===e.checked&&$.createObj(t.options,n,void 0)}));var n,a=this.querySelector("[data-font-size]").value||12,i=this.querySelector("[data-font-family]").value,o="".concat(a,"px ").concat(i),s=!0===this.icon?t.options.src:t.options.form;return null!=t.options.label&&null!=t.options.label.text&&(n=t.options.label),t.options={fill:t.options.fill,stroke:t.options.stroke,label:n,icon:s,radius:t.options.radius},"line"===this.getGeometry()&&(t.options={fill:t.options.fill,stroke:t.options.stroke,label:t.options.label},delete t.options.fill.pattern,0===Object.keys(t.options.fill).length&&delete t.options.fill),"polygon"===this.getGeometry()&&(t.options={fill:t.options.fill,stroke:t.options.stroke,label:t.options.label}),void 0!==t.options.label&&(t.options.label.font=o),this.processOptions(t)}},{key:"processOptions",value:function(e){var t=M.utils.extends({},e),n=this.isChecked("fill"),a=this.isChecked("stroke"),i=this.isChecked("label"),o=this.isChecked("icon"),s=this.isChecked("form");return t.options.fill=!0===n?t.options.fill:void 0,t.options.stroke=!0===a?t.options.stroke:void 0,t.options.label=!0===i?t.options.label:void 0,t.options.icon=!0===o||!0===s?t.options.icon:void 0,t}},{key:"isChecked",value:function(e){var t=!1,n=this.getParentTemplate().parentElement.querySelector("[data-buttons-option-category] input[data-apply='".concat(e,"'"));return null!=n&&(t=n.checked),t}},{key:"generateStyle",value:function(){var e,t=this.getGeometry(),n=this.generateOptions().options;switch(t){case"point":e=new M.style.Point(n);break;case"line":e=new M.style.Line(n);break;case"polygon":e=new M.style.Polygon(n);break;default:M.dialog.error(G("exception.geomNotSupported"),"Error")}return e}},{key:"compatibleSectionListener",value:function(e,t){var n=this,a=this.querySelectorParent('[data-buttons-option] input[data-apply="'.concat(e,'"]+label')),i=this.querySelectorParent('[data-buttons-option] input[data-apply="'.concat(e,'"]'));null!=a&&a.addEventListener("click",(function(){!1===i.checked?n.disableOption(t):n.enableOption(t)}))}},{key:"disableOption",value:function(e){var t=this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]')),n=this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]+label'));this.hideOptionSection(e),n.classList.add("check-inactive"),n.classList.add("check-selected"),n.classList.remove("m-option-active"),t.disabled=!0,t.checked=!1}},{key:"enableOption",value:function(e){var t=this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]'));this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]+label')).classList.remove("check-inactive"),t.disabled=!1}},{key:"getOptionsTemplate",value:function(){var e=t.DEFAULT_OPTIONS_STYLE;null!=this.style_&&(null!=this.style_.get("fill.pattern")&&(e.patternflag=!0),e=M.utils.extends({},this.style_.getOptions()),e=M.utils.extends(e,t.DEFAULT_OPTIONS_STYLE)),e.fill.color=C(e.fill.color).hex(),e.stroke.color=C(e.stroke.color).hex(),e.label.fill.color=C(e.label.fill.color).hex(),e.label.stroke.color="no-color"===e.label.stroke.color?"no-color":C(e.label.stroke.color).hex(),e.fill.pattern.color=C(e.fill.pattern.color).hex(),e.icon.fill=C(e.icon.fill).hex(),e.icon.gradientcolor=C(e.icon.gradientcolor).hex();var n=Object.keys(M.style.pattern).filter((function(e){return"ICON"!==e&&"IMAGE"!==e})),a=Object.values(M.style.align),i=Object.values(M.style.baseline),o=Object.values(M.style.form).filter((function(e){return null!=e})),s=[G("bevel"),G("miter"),G("rounded")],r=[G("rounded"),G("extreme"),G("square")];if(e.patternlist=t.arrayDataToTemplate(e.fill.pattern.name,n,n),e.linecapstroke=t.arrayDataToTemplate(e.stroke.linecap,["butt","square","round"],r),e.linejoinstroke=t.arrayDataToTemplate(e.stroke.linejoin,["bevel","miter","round"],s),e.linecaplabelstroke=t.arrayDataToTemplate(e.label.stroke.linecap,["butt","square","round"],r),e.linejoinlabelstroke=t.arrayDataToTemplate(e.label.stroke.linejoin,["bevel","miter","round"],s),e.alignlist=t.arrayDataToTemplate(e.label.align,a,a),e.baselinelist=t.arrayDataToTemplate(e.label.baseline,i,i),e.formlist=t.arrayDataToTemplate(e.icon.form,o,o),null!=this.layer_){var l=Object.keys(this.getFeaturesAttributes()),c=null!=e.label?e.label.text:"";e.featuresAttr=t.arrayDataToTemplate(c,l.map((function(e){return"{{".concat(e,"}}")})),l)}return e}},{key:"imgId",get:function(){return this.imgId_},set:function(e){this.imgId_=e}},{key:"fill",get:function(){return this.fill_},set:function(e){this.fill_=e}},{key:"stroke",get:function(){return this.stroke_},set:function(e){this.stroke_=e}},{key:"label",get:function(){return this.label_},set:function(e){this.label_=e}},{key:"form",get:function(){return this.form_},set:function(e){this.form_=e}},{key:"icon",get:function(){return this.icon_},set:function(e){this.icon_=e}},{key:"toggleDisplaySubmenu",value:function(e){var t=!0===e?"add":"remove";this.getParentTemplate().querySelector("[data-buttons-option]").classList[t]("m-hidden")}},{key:"addLegendListener",value:function(){var e=this;this.querySelectorAllForEach("input,select,div.m-boxes",(function(t){t instanceof window.HTMLDivElement?t.addEventListener("click",(function(){e.refreshLegend(t)})):t instanceof window.HTMLSelectElement?t.addEventListener("change",(function(){e.refreshLegend(t)})):t.addEventListener("input",(function(){e.refreshLegend(t)}))}))}},{key:"refreshLegend",value:function(e,n){var a=this.imgId_,i=this.generateStyle();if(!0===n&&(i=this.style_),null!=i){this.style_=i,(i=i.clone())instanceof M.style.Point&&(i.set("radius",t.RADIUS_OPTION),null!=i.get("icon.radius")&&i.set("icon.radius",t.ICON_RADIUS_OPTION));var o=this.htmlParent_.querySelector("img[id='img-".concat(a,"']"));i.updateCanvas();var s=i.toImage();null!=o&&(o.src=s)}}},{key:"style",get:function(){return this.style_}}])&&He(n.prototype,a),i&&He(n,i),Object.defineProperty(n,"prototype",{writable:!1}),t}($);function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ze(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,et(a.key),a)}}function et(e){var t=function(e,t){if("object"!=Qe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Qe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qe(t)?t:String(t)}function tt(e,t,n){return t=nt(t),function(e,t){if(t&&("object"===Qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],nt(e).constructor):t.apply(e,n))}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function at(e,t){return(at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var it=function(e){function t(e,n,a,i,o,s){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=tt(this,t,[e,n,a,i,o])).styleCategories_={},r.compilePromise_.then((function(){r.getTemplate().querySelector("[data-options='attributeName']").addEventListener("input",(function(){r.renderAttributeOptions()}))})),r.selectedCategory_=null,r.clickedOnTable_=!1,r.controller_=s,r}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&at(e,t)}(t,e),n=t,o=[{key:"OPTIONS_POINT_SUBMENU",get:function(){return[{id:"fill",name:G("fill")},{id:"stroke",name:G("stroke")},{id:"label",name:G("labelText")},{id:"icon",name:G("icon")},{id:"form",name:G("font")}]}},{key:"OPTIONS_SUBMENU",get:function(){return[{id:"fill",name:G("fill")},{id:"stroke",name:G("stroke")},{id:"label",name:G("labelText")}]}},{key:"MAXNUMBER_CATEGORIES",get:function(){return 30}}],(a=[{key:"setLayer",value:function(e){return this.layer_=e,this.setAttributes(),this.refreshOptionsButtons(),this}},{key:"unhide",value:function(){return this.getTemplate().classList.remove("m-hidden"),this.getParentTemplate().querySelector("[data-buttons-option-category]").classList.remove("m-hidden"),this}},{key:"hide",value:function(){return this.getTemplate().classList.add("m-hidden"),this.getParentTemplate().querySelector("[data-buttons-option-category]").classList.add("m-hidden"),this}},{key:"addEventClickListener",value:function(){var e=this;this.querySelectorAllForEach("td:first-child",(function(t){t.addEventListener("click",(function(){e.toggleCategory(t.id)}))}))}},{key:"refreshOptionsButtons",value:function(){var e=this,t=$e.OPTIONS_POINT_SUBMENU;"point"!==this.getGeometry()&&(t=$e.OPTIONS_SUBMENU),this.addOptionsButtons(t,(function(){e.compatibleSectionListener("icon","form"),e.compatibleSectionListener("form","icon")}))}},{key:"addOptionsButtons",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this.getParentTemplate().querySelector("[data-buttons-option-category]");this.addTemplate(Ge.a,a,{buttonsParams:e},(function(a){"function"==typeof n&&n(),e.forEach((function(n){return t.addEventOptionListener(n,e)})),e.forEach((function(n){return t.addEventCheckListener(n,e)})),t.deactivateSubmenu(),t.addEventCheckFromSubmenu()}))}},{key:"addEventCheckFromSubmenu",value:function(){var e=this;this.querySelectorAllForEachParent("[data-buttons-option-category] input",(function(t){t.addEventListener("change",(function(){e.controller_.selectPanel("stylecategory"),e.controller_.setCompatibleStylePanels("stylecategory"),e.controller_.showActivePanel("stylecategory")}))}))}},{key:"compatibleSectionListener",value:function(e,t){var n=this,a=this.querySelectorParent('[data-buttons-option-category] input[data-apply="'.concat(e,'"]'));null!=a&&a.addEventListener("change",(function(){!0===a.checked?n.disableOption(t):n.enableOption(t)}))}},{key:"disableOption",value:function(e){var t=this.getParentTemplate().querySelector('[data-buttons-option-category] input[data-apply="'.concat(e,'"]')),n=this.getParentTemplate().querySelector('[data-buttons-option-category] input[data-apply="'.concat(e,'"]+label'));this.hideOptionSection(e),null!=n&&(n.classList.add("check-inactive"),n.classList.add("check-selected"),n.classList.remove("m-option-active")),null!=t&&(t.disabled=!0,t.checked=!1)}},{key:"enableOption",value:function(e){var t=this.getParentTemplate().querySelector('[data-buttons-option-category] input[data-apply="'.concat(e,'"]')),n=this.getParentTemplate().querySelector('[data-buttons-option-category] input[data-apply="'.concat(e,'"]+label'));null!=n&&n.classList.remove("check-inactive"),null!=t&&(t.disabled=!1)}},{key:"toggleCategory",value:function(e){var t=this;Object.values(this.styleCategories_).forEach((function(e){e.hide()})),!1===this.clickedOnTable_&&(this.activateSubmenu(),this.clickedOnTable_=!0);var n=this.styleCategories_[e];this.selectedCategory_=n;var a=this.selectedCategory_.getOptions();this.checkInput("fill",a.fill),this.checkInput("stroke",a.stroke),this.checkInput("label",a.label),this.checkInput("form",a.form),this.checkInput("icon",a.icon),null!=n&&(n.unhide(),n.showCompatibleSections()),Object.values(this.styleCategories_).forEach((function(e){e.setLayer(t.layer_,!1)}))}},{key:"renderAttributeOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.querySelector("[data-options='attributeName']"),a=n.value;null!=this.style_&&!0===e&&(a=this.style_.getAttributeName());var i=!M.utils.isNullOrEmpty(a),o=this.getAllValuesAttribute(a).filter((function(e){return!M.utils.isNullOrEmpty(e)})).map((function(e){return{name:e}})).splice(0,t.MAXNUMBER_CATEGORIES);this.removeCategories(),this.createCategories(o),this.addCategoriesView(o,i)}},{key:"addCategoriesView",value:function(e,t){var n=this,a=this.querySelector("[data-options='values']");this.compileTemplate(i.a,{values:e,attributeExists:t}).then((function(e){a.innerHTML=e.innerHTML,Object.values(n.styleCategories_).forEach((function(e){e.refreshTemplate(),e.hide()})),n.addEventClickListener(),n.addEventSelectedListener(),n.addLegendListenerAll()}))}},{key:"createCategories",value:function(e){var t=this,n=null==this.style_?null:this.style_.getCategories();e.forEach((function(e){var a=null==n?null:n[e.name];t.styleCategories_[e.name]=new $e(Ue.a,t.htmlTemplate_,"stylesimple",a,t.layer_,t),t.styleCategories_[e.name].compilePromise_.then((function(){t.styleCategories_[e.name].refreshLegend(e.name,!0)})),t.setGeometryCategory(t.styleCategories_[e.name])}));var a=null==n?null:n.other;this.styleCategories_.other=new $e(Ue.a,this.htmlTemplate_,"stylesimple",a,this.layer_,this),this.styleCategories_.other.compilePromise_.then((function(){t.styleCategories_.other.refreshLegend("other",!0)})),this.setGeometryCategory(this.styleCategories_.other)}},{key:"removeCategories",value:function(){Object.values(this.styleCategories_).forEach((function(e){return e.destroy()})),this.styleCategories_={}}},{key:"setAttributes",value:function(){var e=this;if(this.layer_ instanceof M.layer.Vector){var t=null==this.style_?"":this.style_.getAttributeName(),n=this.filterAttributesFeature("string").map((function(e){return{name:e,selected:t}})),a=this.getTemplate().querySelector("[data-options='attributeName']");this.compileTemplate(F.a,{attributes:n}).then((function(t){a.innerHTML=t.innerHTML,e.renderAttributeOptions(!0),0===n.length?e.deactivateBinding():e.activateBinding()}))}}},{key:"setGeometryCategory",value:function(e){switch(this.layer_.getFeatures()[0].getGeometry().type){case"Point":case"MultiPoint":e.geometry_="point";break;case"LineString":case"MultiLineString":e.geometry_="line";break;case"Polygon":case"MultiPolygon":e.geometry_="polygon";break;default:M.dialog.error(G("exception.geomNotSupported"),"Error")}}},{key:"showSection",value:function(e){this.querySelectorAllForEach("[data-id='".concat(e,"']"),(function(e){e.classList.remove("m-hidden")}))}},{key:"hideSection",value:function(e){this.querySelectorAllForEach("[data-id='".concat(e,"']"),(function(e){e.classList.add("m-hidden")}))}},{key:"addEventOptionListener",value:function(e,t){var n=this,a=this.querySelectorParent("[data-buttons-option-category] [data-label='".concat(e.id,"']")),i=this.querySelectorParent("[data-buttons-option-category] input[data-apply='".concat(e.id,"']"));a.addEventListener("click",(function(){!1===i.disabled&&(t.forEach((function(e){return n.hideSection(e.id)})),n.showSection(e.id),n.activeSection(e.id))}))}},{key:"addEventCheckListener",value:function(e,t){var n=this;this.querySelectorParent("[data-buttons-option-category] input[data-apply='".concat(e.id,"']")).addEventListener("click",(function(){n.checkSection(e.id,t)}))}},{key:"activeSection",value:function(e){var t=this.querySelectorParent("[data-buttons-option-category] [data-selector='".concat(e,"']"));this.querySelectorAllForEachParent("[data-buttons-option-category] [data-selector]",(function(e){e.classList.remove("check-active"),e.classList.add("check-selected")})),t.classList.remove("check-selected"),t.classList.add("check-active")}},{key:"setSelectedRow",value:function(e){this.querySelectorAllForEach("td:first-child",(function(e){e.classList.remove("m-table-cell-selected")})),this.querySelector("[id='".concat(e,"']")).classList.add("m-table-cell-selected")}},{key:"addEventSelectedListener",value:function(){var e=this;this.querySelectorAllForEach("td:first-child",(function(t){var n=t.id;t.addEventListener("click",(function(){return e.setSelectedRow(n)}))}))}},{key:"checkSection",value:function(e,t){var n=this;!0===this.querySelectorParent("[data-buttons-option-category] #cat-".concat(e)).checked?(null!=this.selectedCategory_&&(this.selectedCategory_[e]=!0),t.forEach((function(e){return n.hideSection(e.id)})),this.showSection(e),this.activeSection(e)):null!==this.selectedCategory_&&(this.selectedCategory_[e]=!1),this.selectedCategory_.refreshLegend()}},{key:"checkInput",value:function(e,t){var n=this.querySelectorParent("[data-buttons-option-category] #cat-".concat(e));null!=n&&(n.checked=t)}},{key:"activateSubmenu",value:function(){this.querySelectorAllForEachParent("[data-buttons-option-category] input",(function(e){return e.disabled=!1})),this.querySelectorAllForEachParent("[data-buttons-option-category] label[data-selector]",(function(e){e.classList.remove("check-inactive"),e.classList.add("check-selected")}))}},{key:"deactivateSubmenu",value:function(){this.querySelectorAllForEachParent("[data-buttons-option-category] input",(function(e){return e.disabled=!0})),this.querySelectorAllForEachParent("[data-buttons-option-category] label[data-selector]",(function(e){e.classList.add("check-inactive"),e.classList.remove("check-selected")}))}},{key:"getGeometry",value:function(){var e=this.layer_.getFeatures()[0].getGeometry().type;switch(e){case"Point":case"MultiPoint":e="point";break;case"LineString":case"MultiLineString":e="line";break;case"Polygon":case"MultiPolygon":e="polygon";break;default:M.dialog.error(G("geomNotSupported"),"Error")}return e}},{key:"getAllValuesAttribute",value:function(e){return this.layer_.getFeatures().map((function(t){return t.getAttribute(e)})).filter((function(e,t,n){return n.indexOf(e)===t}))}},{key:"generateOptions",value:function(){var e=this,t={},n={};return t.attributeName=this.querySelector("[data-options='attributeName']").value,Object.keys(this.styleCategories_).forEach((function(t){var a=e.styleCategories_[t],i=a.fill,o=a.stroke,s=a.icon||a.form,r=a.label;(i||o||s||r)&&(n[t]=e.styleCategories_[t].style)}),this),t.options=n,t}},{key:"generateStyle",value:function(){var e=this.generateOptions(),t=null;return""!==e.attributeName&&(t=new M.style.Category(e.attributeName,e.options)),t}},{key:"addLegendListenerAll",value:function(){var e=this;Object.keys(this.styleCategories_).forEach((function(t){var n=e.styleCategories_[t];n.imgId=t,n.addLegendListener()}))}}])&&Ze(n.prototype,a),o&&Ze(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}($),ot=n(19),st=n.n(ot),rt=n(20),lt=n.n(rt),ct=n(21),dt=n.n(ct);function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pt(e){return function(e){if(Array.isArray(e))return ft(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ft(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function vt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,yt(a.key),a)}}function yt(e){var t=function(e,t){if("object"!=ut(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=ut(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ut(t)?t:String(t)}function ht(e,t,n){return t=mt(t),function(e,t){if(t&&("object"===ut(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],mt(e).constructor):t.apply(e,n))}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bt(e,t){return(bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var gt=function(e){function t(e,n,a,i,o){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(s=ht(this,t,[e,n,a,i,o])).variables_=[],null!=i&&(s.variables_=i.getOptions().variables.map((function(e){return e.attribute}))),s.compilePromise_.then((function(){s.addKeyEnterListener(),s.addRenderCompatibleListener(),s.addAttributeListener(),s.refreshVariables()})),s}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bt(e,t)}(t,e),n=t,(a=[{key:"setLayer",value:function(e){return this.layer_=e,this.renderAttributes(),this}},{key:"addAttribute",value:function(e){this.variables_.push(e)}},{key:"removeAttribute",value:function(e){this.variables_=this.variables_.filter((function(t){return t!==e}))}},{key:"addAttributeFromParamenter",value:function(e){this.addAttribute(e),this.addVariableTemplate(e),this.refreshPagination()}},{key:"addAttributeFromInput",value:function(){var e=this.querySelector("[data-attribute]").value;""!==e?this.variables_.includes(e)?M.dialog.info(G("exception.attributeAdded"),G("exception.repeatedVariable")):this.layer_.getFeatures()[0].getAttributes().hasOwnProperty(e)?this.addAttributeFromParamenter(e):M.dialog.info(G("exception.variableName"),G("exception.incorrectName")):M.dialog.info(G("exception.emptyString"),G("exception.emptyVariable"))}},{key:"removeAttributeFromInput",value:function(){var e=this.querySelector("[data-attribute]").value;this.removeAttribute(e)}},{key:"addAttributeListener",value:function(){var e=this;this.querySelector("[data-add]").addEventListener("click",(function(){e.addAttributeFromInput()}))}},{key:"addKeyEnterListener",value:function(){this.querySelector("[data-attribute]").addEventListener("keydown",this.keyEnterListener())}},{key:"keyEnterListener",value:function(){var e=this;return function(t){"Enter"===t.key&&e.addAttributeFromInput()}}},{key:"addVariableTemplate",value:function(e){var n,a=this,i=this.querySelector("[data-variables]"),o=[],s=t.DEFAULT_OPTIONS_VARIABLE.legend,r=t.DEFAULT_OPTIONS_VARIABLE.label;null!=this.style_&&(o=this.style_.getOptions().variables),0!==o.length&&null!=(n=o.find((function(t){return t.attribute===e})))&&(s=n.legend,r=n.label),this.compileTemplate(st.a,{attribute:e,legend:s,label:r}).then((function(t){i.append.apply(i,pt(t.children));var n=a.querySelector('[data-remove="'.concat(e,'"]'));null!=n&&(a.addRemoveVarSectionListener(n),a.addLabelOptionListener(e))}))}},{key:"removeVariableTemplate",value:function(e){var t=this.querySelector(".m-chart-variables");this.querySelectorAllForEach('.m-chart-variables [data-delete="'.concat(e,'"]'),(function(e){t.removeChild(e)}))}},{key:"removeVariableSection",value:function(e){this.removeAttribute(e),this.removeVariableTemplate(e),this.refreshPagination()}},{key:"refreshVariables",value:function(){var e=this;pt(this.variables_).forEach((function(t){e.removeVariableSection(t),e.addAttributeFromParamenter(t)}))}},{key:"addRemoveVarSectionListener",value:function(e){e.addEventListener("click",this.removeVarSectionListener(e).bind(this))}},{key:"removeVarSectionListener",value:function(e){var t=this,n=e.dataset.remove;return function(){t.removeVariableSection(n)}}},{key:"refreshPagination",value:function(){var e=this,t=this.variables_.map((function(e,t){return{attribute:e,number:t+1}})),n=this.querySelector("[data-pagination]");this.compileTemplate(lt.a,{ranges:t}).then((function(t){n.innerHTML=t.innerHTML,e.addClickPagerListener();var a=e.variables_.slice(-1)[0];null!=a&&e.showVariableSection(a)()}))}},{key:"addClickPagerListener",value:function(){var e=this;this.querySelectorAllForEach("[data-page-selector]",(function(t){var n=t.dataset.pageSelector;t.addEventListener("click",e.showVariableSection(n).bind(e))}))}},{key:"clickPagerListener",value:function(e){this.querySelectorAllForEach("[data-target]",(function(e){e.classList.add("m-hidden")})),this.querySelectorAllForEach('[data-target="'.concat(e,'"]'),(function(e){e.classList.remove("m-hidden")}))}},{key:"activePageListener",value:function(e){this.querySelectorAllForEach("[data-page-selector]",(function(e){e.classList.remove("m-page-active")}));var t=this.querySelector('[data-page-selector="'.concat(e,'"]'));null!=t&&t.classList.add("m-page-active")}},{key:"showVariableSection",value:function(e){var t=this;return function(){t.clickPagerListener(e),t.activePageListener(e)}}},{key:"renderCompatibleOpts",value:function(e){this.querySelectorAllForEach("[data-type]",(function(t){t.dataset.type.split(",").includes(e)?t.classList.remove("m-hidden"):t.classList.add("m-hidden")}))}},{key:"renderCompatibleListener",value:function(){var e=this.querySelector("[data-style-options='type']").selectedOptions[0].value;this.renderCompatibleOpts(e)}},{key:"addRenderCompatibleListener",value:function(){this.querySelector("[data-style-options='type']").addEventListener("change",this.renderCompatibleListener.bind(this))}},{key:"renderAttributes",value:function(){var e=this,t=this.layer_.getFeatures()[0].getAttributes(),n=Object.keys(t);n=n.filter((function(e){return!Number.isNaN(parseFloat(t[e]))})),this.compileTemplate(dt.a,{attributes:n}).then((function(t){e.querySelector("[data-attribute]").innerHTML=t.innerHTML}))}},{key:"toggleLabelOptions",value:function(e){}},{key:"addLabelOptionListener",value:function(e){var t=this;this.querySelector('[data-variable-option="'.concat(e,'.labelshow"]')).addEventListener("change",(function(){t.toggleLabelOptions(e)}))}},{key:"generateVariableOptions",value:function(){var e={};this.querySelectorAllForEach("input[data-variable-option]",(function(t){var n=t.dataset.variableOption,a=t.value;"number"===t.type&&(a=parseFloat(a)),"checkbox"===t.type&&(a=t.checked),$.createObj(e,n,a)}));var t=this.variables_.map((function(t){return e[t].attribute=t,e[t]}));return t=t.map((function(e){return!0===e.labelshow?e.label.text=function(e,t){return"".concat(Math.round(e/t.reduce((function(e,t){return e+t}))*100),"%")}:e.label=void 0,e}))}},{key:"generateStyle",value:function(){var e=this.generateOptions().options,t=this.generateVariableOptions(),n=M.style.chart.schemes[e.scheme];return new M.style.Chart({type:e.type,scheme:n,radius:e.radius,donutRadio:e.donutRadius,offsetX:e.offsetX,offsetY:e.offsetY,variables:0===t.length?[new M.style.chart.Variable({attribute:"default"})]:t,fill3DColor:e.fill3DColor})}},{key:"getOptionsTemplate",value:function(){var e=t.DEFAULT_OPTIONS_STYLE;return null!=this.style_&&((e=this.style_.getOptions()).scheme=this.getSchemeName()),e}},{key:"getSchemeName",value:function(){var e="";if(null!=this.style_){var t=this.style_.getOptions().scheme,n=M.style.chart.schemes;e=Object.keys(n).find((function(e){return a=t,i=n[e],o=!1,s=!1,a instanceof Array&&i instanceof Array&&(o=a.every((function(e,t){return e===i[t]})),s=i.every((function(e,t){return e===a[t]}))),o&&s;var a,i,o,s}))}return e}}])&&vt(n.prototype,a),i&&vt(n,i),Object.defineProperty(n,"prototype",{writable:!1}),t}($);gt.DEFAULT_OPTIONS_STYLE={donutRatio:4,fill3DColor:"#ff00f0",offsetX:0,offsetY:0,radius:12,rotateWithView:!1,scheme:["#ffa500","blue","red","green","cyan","magenta","yellow","#0f0"],type:"pie"},gt.DEFAULT_OPTIONS_VARIABLE={legend:"Ejemplo de leyenda",label:{fill:"#ff0000",scale:1,text:function(e,t){return"".concat(Math.round(e/t.reduce((function(e,t){return e+t}))*100),"%")},radiusIncrement:2,stroke:{color:"#000000",width:1}}};var kt=n(22),wt=n.n(kt);function St(e){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,xt(a.key),a)}}function xt(e){var t=function(e,t){if("object"!=St(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=St(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==St(t)?t:String(t)}function Pt(e,t,n){return t=Lt(t),function(e,t){if(t&&("object"===St(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Lt(e).constructor):t.apply(e,n))}function Lt(e){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qt(e,t){return(qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Et=function(e){function t(){return Ot(this,t),Pt(this,t,arguments)}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qt(e,t)}(t,e),n=t,i=[{key:"arrayDataToTemplate",value:function(e,t,n){return t.map((function(t,a){return{id:t,name:n[a],selected:e}}))}}],(a=[{key:"setLayer",value:function(e){return this.layer_=e,this}},{key:"generateStyle",value:function(){var e=this.generateOptions(),t=null;return e&&(t=new M.style.FlowLine({color:e.color,color2:e.color2,arrow:e.arrow,width:e.width,width2:e.width2,arrowColor:e.arrowColor,lineCap:e.lineCap,offset0:e.offset0,offset1:e.offset1})),t}},{key:"getOptionsTemplate",value:function(){var e=t.DEFAULT_OPTIONS_STYLE;if(null!=this.style_){var n=this.style_.options_;e={color:n.color,color2:n.color2,arrow:n.arrow,arrowColor:n.arrowColor,width:n.width,width2:n.width2,lineCap:n.lineCap,offset0:n.offset0,offset1:n.offset1},this.setSelected(!0)}return null!=this.layer_&&(e.arrowlist=[{name:0},{name:-1},{name:1},{name:2}],e.arrowlist.forEach((function(t){return t.selected=e.arrow})),e.linecap=t.arrayDataToTemplate(e.lineCap,["round","butt"],[G("rounded"),G("extreme")])),e}}])&&_t(n.prototype,a),i&&_t(n,i),Object.defineProperty(n,"prototype",{writable:!1}),t}($);function Tt(e){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function At(e){return function(e){if(Array.isArray(e))return jt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Ct(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Mt(a.key),a)}}function Mt(e){var t=function(e,t){if("object"!=Tt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Tt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tt(t)?t:String(t)}Et.DEFAULT_OPTIONS_STYLE={color:"#ff0000",color2:"#F8FF25",arrow:0,width:2,width2:25,lineCap:"butt",arrowColor:"#ff0000",offset0:0,offset1:0};var Nt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.layer_=null,this.activePanel_=null,this.selectedPanels_=[],this.html_=t,this.renderViews(null)}var t,n,a;return t=e,a=[{key:"STYLE_COMPATIBLE_OPTIONS",get:function(){return{stylesimple:["styleproportional","stylecluster","stylesimple"],styleproportional:["stylesimple","stylecluster","stylechart","styleproportional","stylecategory","stylechoropleth"],stylechoropleth:["styleproportional","stylecluster","stylechoropleth"],stylecategory:["styleproportional","stylecluster","stylecategory"],stylecluster:["stylesimple","stylechart","styleproportional","stylecategory","stylechoropleth","stylecluster"],styleheatmap:["styleheatmap"],stylechart:["stylecluster","styleproportional","stylechart"],styleflowline:["styleflowline"]}}},{key:"GEOMETRY_COMPATIBLE_OPTIONS",get:function(){return{generic:["stylesimple"],point:["styleproportional","stylecluster","stylechoropleth","stylecategory","styleheatmap","stylechart","stylesimple"],line:["stylechoropleth","stylecategory","styleflowline","stylesimple"],polygon:["stylechoropleth","stylecategory","stylesimple","styleproportional"]}}},{key:"parseStyleToName",value:function(e){var t="";return e instanceof M.style.FlowLine?t="styleflowline":e instanceof M.style.Simple?t="stylesimple":e instanceof M.style.Cluster?t="stylecluster":e instanceof M.style.Heatmap?t="styleheatmap":e instanceof M.style.Choropleth?t="stylechoropleth":e instanceof M.style.Category?t="stylecategory":e instanceof M.style.Chart?t="stylechart":e instanceof M.style.Proportional&&(t="styleproportional"),t}}],(n=[{key:"getStyles",value:function(e,t){var n=null;if(null!=e){var a=e.getStyle();a instanceof t?n=a:a instanceof M.style.Composite&&(n=a.getStyles().find((function(e){return e instanceof t})))}return n}},{key:"renderViews",value:function(e){var t=this;this.bindings_={},this.bindings_.stylesimple=new ie(k.a,this.html_,"stylesimple",this.getStyles(e,M.style.Simple),e,this),this.bindings_.styleproportional=new pe(S.a,this.html_,"styleproportional",this.getStyles(e,M.style.Proportional),e),this.bindings_.stylecluster=new we(_.a,this.html_,"stylecluster",this.getStyles(e,M.style.Cluster),e),this.bindings_.stylechoropleth=new Be(P.a,this.html_,"stylechoropleth",this.getStyles(e,M.style.Choropleth),e),this.bindings_.styleheatmap=new Ee(T.a,this.html_,"styleheatmap",this.getStyles(e,M.style.Heatmap),e),this.bindings_.stylechart=new gt(j.a,this.html_,"stylechart",this.getStyles(e,M.style.Chart),e),this.bindings_.stylecategory=new it(q.a,this.html_,"stylecategory",this.getStyles(e,M.style.Category),e,this),this.bindings_.styleflowline=new Et(wt.a,this.html_,"styleflowline",this.getStyles(e,M.style.FlowLine),e),this.bindings_.stylesimple.getCompilePromise().then((function(){t.addSelectOnChangeListener(),t.addEventSubtitle()})),this.allCompilePromises_=this.getBindings().map((function(e){return e.getCompilePromise()}))}},{key:"getAllCompilePromises",value:function(){return this.allCompilePromises_}},{key:"renderViewsPromise",value:function(){var e=Object.values(this.bindings_).map((function(e){return e.getCompilePromise()}));return Promise.all(e)}},{key:"destroyViews",value:function(){Object.values(this.bindings_).forEach((function(e){return e.destroy()}))}},{key:"getActivePanel",value:function(){return this.activePanel_}},{key:"setActivePanel",value:function(e){Object.values(this.bindings_).forEach((function(e){return e.setActivated(!1)})),this.activePanel_=this.bindings_[e],this.activePanel_.setActivated(!0),"stylesimple"===e?this.bindings_.stylesimple.toggleDisplaySubmenu(!1):this.bindings_.stylesimple.toggleDisplaySubmenu(!0)}},{key:"getSelectedPanels",value:function(){var e=this;return this.selectedPanels_.map((function(t){return e.bindings_[t]}))}},{key:"addSelectedPanel",value:function(e){this.selectedPanels_.includes(e)||(this.selectedPanels_.push(e),this.bindings_[e].setSelected(!0))}},{key:"selectPanel",value:function(e){this.html_.querySelector("[data-checkbox='".concat(e,"']")).checked=!0,this.addSelectedPanel(e)}},{key:"removeSelectedPanel",value:function(e){this.selectedPanels_=this.selectedPanels_.filter((function(t){return t!==e})),this.bindings_[e].setSelected(!1)}},{key:"disablePanel",value:function(e){var t=this.bindings_[e];null!=t&&t.setDisabled(!0)}},{key:"enablePanel",value:function(e){var t=this.bindings_[e];null!=t&&t.setDisabled(!1)}},{key:"setGeometry",value:function(e){this.geometry_=e}},{key:"getGeometry",value:function(){return this.geometry_}},{key:"change",value:function(e){var t=this;this.destroyViews(),this.renderViews(e),this.renderViewsPromise().then((function(){t.setLayer(e),t.resetOptions(),t.setCompatiblePanels(),t.initBindings(e)}))}},{key:"setLayer",value:function(e){var t;if(null===this.layer_&&(this.addActiveListener(),this.addSelectListener()),this.layer_=e,"MVT"===e.type)t="generic";else switch(e.getFeatures()[0].getGeometry().type){case"Point":case"MultiPoint":t="point";break;case"LineString":case"MultiLineString":t="line";break;case"Polygon":case"MultiPolygon":t="polygon";break;default:M.dialog.error(G("exception.geomNotSupported"),"Error")}this.setGeometry(t)}},{key:"getKeysBindings",value:function(){return Object.keys(this.bindings_)}},{key:"getBindings",value:function(){return Object.values(this.bindings_)}},{key:"deactivateAll",value:function(){this.getBindings().forEach((function(e){return e.setActivated(!1)})),this.activePanel_=null}},{key:"unselectAll",value:function(){this.getBindings().forEach((function(e){return e.setSelected(!1)})),this.selectedPanels_=[]}},{key:"enableAll",value:function(){var e=this;this.getKeysBindings().forEach((function(t){return e.enablePanel(t)}))}},{key:"disableAll",value:function(){var e=this;this.getKeysBindings().forEach((function(t){return e.disablePanel(t)}))}},{key:"bindLayer",value:function(e){this.bindings_[e].setLayer(this.layer_),this.bindings_[e].setDisabled(!1)}},{key:"resetOptions",value:function(){this.deactivateAll(),this.unselectAll()}},{key:"initBindings",value:function(t){var n=this;this.bindings_.stylesimple.setGeometry(this.geometry_).setLayer(this.layer_);var a=[t.getStyle()];a[0]instanceof M.style.Composite&&a.push.apply(a,At(a[0].getStyles())),a.map((function(t){return e.parseStyleToName(t)})).forEach((function(e){n.showCompatiblePanel(e),n.activeLastSelected(e)}))}},{key:"setCompatiblePanels",value:function(){var t=this,n=e.GEOMETRY_COMPATIBLE_OPTIONS[this.geometry_];this.getKeysBindings().forEach((function(e){n.includes(e)?t.bindLayer(e):t.disablePanel(e)})),this.deactivateAll()}},{key:"setCompatibleStylePanels",value:function(e){var t=this;this.disableAll(),this.getCompatibles().forEach((function(e){t.compatibleGeometry(e)&&t.enablePanel(e)})),this.selectedPanels_.forEach((function(e){t.bindings_[e].setSelected(!0)}))}},{key:"showActivePanel",value:function(e){this.deactivateAll(),this.setActivePanel(e)}},{key:"activeLastSelected",value:function(e){var t=this.selectedPanels_.slice(-1)[0];void 0===t&&(t=e),this.showActivePanel(t)}},{key:"showCompatiblePanel",value:function(e){this.selectedPanels_.includes(e)?this.removeSelectedPanel(e):this.addSelectedPanel(e),this.setCompatibleStylePanels(e)}},{key:"addActiveListener",value:function(){var e=this;this.getKeysBindings().forEach((function(t){var n=e.bindings_[t],a=n.getSelectButton(),i=n.getActivateButton();e.html_.querySelector("[data-flap='".concat(t,"']+label")).addEventListener("click",(function(){if(!1===a.disabled){var t=i.dataset.flap;e.toggleDisplaySubmenu("stylesimple"!==t),e.showActivePanel(t)}}))}))}},{key:"addSelectListener",value:function(){var e=this;this.getKeysBindings().forEach((function(t){var n=e.bindings_[t].getSelectButton();n.addEventListener("change",(function(){var t=n.dataset.checkbox;e.toggleDisplaySubmenu("stylesimple"!==t),e.showCompatiblePanel(t),e.activeLastSelected(t)}))}))}},{key:"getStyle",value:function(){var e;if(0===this.getSelectedPanels().length)M.dialog.info(G("exception.chooseStyle"),G("exception.choStyle"));else if(1===this.getSelectedPanels().length)e=this.getSelectedPanels()[0].generateStyle();else{var t=this.getMainStyle(),n=this.getIndividualStyles();t.add(n),e=t}return e}},{key:"getMainStyle",value:function(){return this.getSelectedPanels().map((function(e){return e.generateStyle()})).find((function(e){return e instanceof M.style.Composite}))}},{key:"getIndividualStyles",value:function(){var e=this.getMainStyle();return this.getSelectedPanels().filter((function(e){return null!=e})).map((function(e){return e.generateStyle()})).filter((function(t){return!t.equals(e)}))}},{key:"getCompatibles",value:function(){var e=this;return["stylesimple","stylecluster","stylechart","styleproportional","stylecategory","stylechoropleth","styleheatmap","styleflowline"].filter((function(t){return e.isCompatibleAll(e.selectedPanels_,t)}))}},{key:"toggleDisplaySubmenu",value:function(e){this.bindings_.stylesimple.toggleDisplaySubmenu(e)}},{key:"isCompatible",value:function(t,n){return e.STYLE_COMPATIBLE_OPTIONS[t].includes(n)}},{key:"isCompatibleAll",value:function(e,t){var n=this,a=!0;return e.forEach((function(e){n.isCompatible(e,t)||(a=!1)})),a}},{key:"compatibleGeometry",value:function(t){return e.GEOMETRY_COMPATIBLE_OPTIONS[this.geometry_].includes(t)}},{key:"addSelectOnChangeListener",value:function(){var e=this;this.bindings_.stylesimple.querySelectorAllForEach("*",(function(t){t.addEventListener("click",(function(){e.addSelectedPanel("stylesimple")}))}))}},{key:"addEventSubtitle",value:function(){this.bindings_.stylesimple.querySelectorAllForEach(".subtitle",(function(e){e.addEventListener("click",(function(e){"content-row-hidden"===e.currentTarget.nextElementSibling.classList.value?(e.currentTarget.nextElementSibling.classList.add("content-row-show"),e.currentTarget.nextElementSibling.classList.remove("content-row-hidden"),e.currentTarget.firstElementChild.classList.remove("g-cartografia-flecha-abajo"),e.currentTarget.firstElementChild.classList.add("g-cartografia-flecha-arriba")):(e.currentTarget.nextElementSibling.classList.remove("content-row-show"),e.currentTarget.nextElementSibling.classList.add("content-row-hidden"),e.currentTarget.firstElementChild.classList.add("g-cartografia-flecha-abajo"),e.currentTarget.firstElementChild.classList.remove("g-cartografia-flecha-arriba"))}))}))}}])&&Ct(t.prototype,n),a&&Ct(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function It(e){return function(e){if(Array.isArray(e))return Ft(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ft(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Bt(e,t,n){return(t=Gt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Gt(a.key),a)}}function Gt(e){var t=function(e,t){if("object"!=Rt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Rt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rt(t)?t:String(t)}function Vt(e,t,n){return t=Ut(t),function(e,t){if(t&&("object"===Rt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Ut(e).constructor):t.apply(e,n))}function Ut(e){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yt(e,t){return(Yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Ht=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),M.utils.isUndefined(h)&&M.exception(G("impl")),(n=Vt(this,t,[new h,"StyleManager"])).layer_=e,n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yt(e,t)}(t,M.Control),n=t,(a=[{key:"createView",value:function(e){var t=this;this.facadeMap_=e;var n=e.getWFS().concat(e.getMVT().concat(e.getKML().concat(e.getLayers().filter((function(e){return"GeoJSON"===e.type}))))).filter((function(e){return"selectLayer"!==e.name}));return new Promise((function(e,a){var i=M.template.compileSync(s.a,{jsonp:!0,vars:{layers:n,translations:{selectLayer:G("selectLayer"),applyStyle:G("applyStyle"),clearStyle:G("clearStyle"),generateSerialized:G("generateSerialized"),heatMap:G("heatMap"),category:G("category"),choropleths:G("choropleths"),proportional:G("proportional"),statistic:G("statistic"),flowLine:G("flowLine")}}}),o=i.querySelector("#m-stylemanager-select"),r=i.querySelector(".m-stylemanager-container-select");t.bindinController_=new Nt(r),t.addSelectListener(o,i),t.subscribeAddedLayer(o),t.addApplyBtnListener(i),t.addClearBtnListener(i),t.addSerializedBtnListener(i),t.renderOptionsLayerParam(o,i,n),e(i),t.loadFonts(i)}))}},{key:"renderOptionsLayerParam",value:function(e,t,n){var a=this;this.layer_ instanceof M.layer.Vector&&Promise.all(this.bindinController_.getAllCompilePromises()).then((function(){a.renderOptions(e,t,a.layer_);var i=M.template.compileSync(b.a,{vars:{layers:n.map((function(e){return{name:e.name,selected:a.layer_.name}}))}});e.innerHTML=i.innerHTML}))}},{key:"addOpenAttribute",value:function(e){e.querySelector(".m-stylemanager-container-select").setAttribute("open-select","")}},{key:"addApplyBtnListener",value:function(e){e.querySelector("[data-apply-style]").addEventListener("click",this.applyStyle.bind(this))}},{key:"addSerializedBtnListener",value:function(e){e.querySelector("[data-serialized-style]").addEventListener("click",this.serializedStyle.bind(this))}},{key:"addClearBtnListener",value:function(e){e.querySelector("[data-clear-style]").addEventListener("click",this.clearStyle.bind(this))}},{key:"addSelectListener",value:function(e,t){var n=this;e.addEventListener("change",(function(){n.renderOptions(e,t)}))}},{key:"subscribeAddedLayer",value:function(e){var t=this;this.facadeMap_.on(M.evt.ADDED_LAYER,(function(n){if(Array.isArray(n))n.filter((function(e){return e instanceof M.layer.Vector&&"Generic"!==e.type&&e instanceof M.layer.MBTilesVector==0&&"selectLayer"!==e.name})).forEach((function(n){return t.addLayerOption(e,n.name)}));else if(n instanceof M.layer.Vector){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){Bt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);t.addLayerOption(e,a)}}))}},{key:"getActivationButton",value:function(e){return e.querySelector("button.m-panel-btn")}},{key:"addLayerOption",value:function(e,t){if("cluster_cover"!==t&&!0===this.isNotAdded(t,e)){var n=document.createElement("option");n.setAttribute("name",t),n.innerText=t,e.add(n)}}},{key:"isNotAdded",value:function(e,t){return!It(t.children).some((function(t){return t.innerHTML===e}))}},{key:"renderOptions",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=e.value;if(this.layer_=this.getLayerByName(a),null!=n&&(this.layer_=n),this.layer_ instanceof M.layer.Vector){var i=this.layer_.getFeatures();0===i.length?(M.dialog.error(G("exception.layerNoFeaturesLoad"),"Error"),e.selectedIndex=0):(this.bindinController_.change(this.layer_),this.showBoxes(t),this.addOpenAttribute(t))}}},{key:"getLayerByName",value:function(e){return this.facadeMap_.getWFS().concat(this.facadeMap_.getMVT().concat(this.facadeMap_.getKML().concat(this.facadeMap_.getLayers().filter((function(e){return"GeoJSON"===e.type}))))).filter((function(e){return"selectLayer"!==e.name})).find((function(t){return t.name===e}))}},{key:"showBoxes",value:function(e){e.querySelector(".m-boxes").classList.remove("m-hidden")}},{key:"applyStyle",value:function(){if(this.layer_ instanceof M.layer.Vector){this.clearStyle();var e=this.bindinController_.getStyle();this.layer_.setStyle(e)}else M.dialog.info(G("exception.chooseLayer"),G("exception.choLayer"))}},{key:"serializedStyle",value:function(){if(this.layer_ instanceof M.layer.Vector){var e=this.bindinController_.getStyle().serialize(),t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),M.dialog.info(G("clipboard"),G("serializedStyle")),document.body.removeChild(t)}else M.dialog.info(G("exception.chooseLayer"),G("exception.choLayer"))}},{key:"clearStyle",value:function(){this.layer_ instanceof M.layer.Vector?this.layer_.setStyle(M.layer.Vector.DEFAULT_OPTIONS_STYLE):M.dialog.info(G("exception.chooseLayer"),G("exception.choLayer"))}},{key:"loadFonts",value:function(){M.style.Font.addSymbol({font:"FontAwesome",name:"FontAwesome",copyright:"SIL OFL 1.1",prefi:"fa"},{"fa-glass":"","fa-music":"","fa-search":"","fa-envelope-o":"","fa-heart":"","fa-star":"","fa-star-o":"","fa-user":"","fa-film":"","fa-th-large":"","fa-th":"","fa-th-list":"","fa-check":"","fa-remove":"","fa-close":"","fa-times":"","fa-search-plus":"","fa-search-minus":"","fa-power-off":"","fa-signal":"","fa-gear":"","fa-cog":"","fa-trash-o":"","fa-home":"","fa-file-o":"","fa-clock-o":"","fa-road":"","fa-download":"","fa-arrow-circle-o-down":"","fa-arrow-circle-o-up":"","fa-inbox":"","fa-play-circle-o":"","fa-rotate-right":"","fa-repeat":"","fa-refresh":"","fa-list-alt":"","fa-lock":"","fa-flag":"","fa-headphones":"","fa-volume-off":"","fa-volume-down":"","fa-volume-up":"","fa-qrcode":"","fa-barcode":"","fa-tag":"","fa-tags":"","fa-book":"","fa-bookmark":"","fa-print":"","fa-camera":"","fa-font":"","fa-bold":"","fa-italic":"","fa-text-height":"","fa-text-width":"","fa-align-left":"","fa-align-center":"","fa-align-right":"","fa-align-justify":"","fa-list":"","fa-dedent":"","fa-outdent":"","fa-indent":"","fa-video-camera":"","fa-photo":"","fa-image":"","fa-picture-o":"","fa-pencil":"","fa-map-marker":"","fa-adjust":"","fa-tint":"","fa-edit":"","fa-pencil-square-o":"","fa-share-square-o":"","fa-check-square-o":"","fa-arrows":"","fa-step-backward":"","fa-fast-backward":"","fa-backward":"","fa-play":"","fa-pause":"","fa-stop":"","fa-forward":"","fa-fast-forward":"","fa-step-forward":"","fa-eject":"","fa-chevron-left":"","fa-chevron-right":"","fa-plus-circle":"","fa-minus-circle":"","fa-times-circle":"","fa-check-circle":"","fa-question-circle":"","fa-info-circle":"","fa-crosshairs":"","fa-times-circle-o":"","fa-check-circle-o":"","fa-ban":"","fa-arrow-left":"","fa-arrow-right":"","fa-arrow-up":"","fa-arrow-down":"","fa-mail-forward":"","fa-share":"","fa-expand":"","fa-compress":"","fa-plus":"","fa-minus":"","fa-asterisk":"","fa-exclamation-circle":"","fa-gift":"","fa-leaf":"","fa-fire":"","fa-eye":"","fa-eye-slash":"","fa-warning":"","fa-exclamation-triangle":"","fa-plane":"","fa-calendar":"","fa-random":"","fa-comment":"","fa-magnet":"","fa-chevron-up":"","fa-chevron-down":"","fa-retweet":"","fa-shopping-cart":"","fa-folder":"","fa-folder-open":"","fa-arrows-v":"","fa-arrows-h":"","fa-bar-t-o":"","fa-bar-t":"","fa-twitter-square":"","fa-facebook-square":"","fa-camera-retro":"","fa-key":"","fa-gears":"","fa-cogs":"","fa-comments":""})}},{key:"equals",value:function(e){return e instanceof t}}])&&zt(n.prototype,a),i&&zt(n,i),Object.defineProperty(n,"prototype",{writable:!1}),t}();function Kt(e){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Wt(a.key),a)}}function Wt(e){var t=function(e,t){if("object"!=Kt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Kt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Kt(t)?t:String(t)}var Xt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"apply",value:function(e){var t=this,n=e.document,a={started:!1,color:"#000000",inputs:{},hasNativeColorSupport:!1,init:function(e){if(t.start(),!t.hasNativeColorSupport){if("string"!=typeof e)throw new Error("inputId have to be a string id selector");if(t.input=(t.inputs[e]=t.inputs[e])||n.getElementById(e),!t.input)throw new Error('There was no input found with id: "'.concat(e,'"'));t.input.value=t.color,t.input.unselectable="on",t.css(t.input,{backgroundColor:t.color,borderWidth:"0.4em 0.3em",width:"3em",cursor:"default"}),t.input.onfocus=function(){a.onFocus(t.id)}}},start:function(){if(!t.started){try{t.hasNativeColorSupport=!!(n.createElement("input").type="color")}catch(e){}if(!t.hasNativeColorSupport){var e=n.createElement("object");e.classid="clsid:3050f819-98b5-11cf-bb82-00aa00bdce0b",e.id="colorHelperObj",t.css(e,{width:"0",height:"0"}),n.body.appendChild(e)}t.started=!0}},destroy:function(e){var a;if("string"==typeof e)t.off(t.inputs[e]);else{for(a in n.body.removeChild(n.getElementById("colorHelperObj")),t.inputs)t.off(t.inputs[a]);t.started=!1}},off:function(e){e.onfocus=null,t.css(e,{backgroundColor:"",borderWidth:"",width:"",cursor:""})},onFocus:function(e){t.input=t.inputs[e],t.color=t.getColor(),t.input.value=t.color,a.css(t.input,{backgroundColor:t.color,color:t.color}),t.input.blur()},getColor:function(){var e=n.getElementById("colorHelperObj").ChooseColorDlg(t.color.replace(/#/,"")).toString(16);return e.length<6&&(e="000000".substring(0,6-e.length).concat(e)),"# ".concat(e)},css:function(e,t){for(var n in t)e.style[n]=t[n]}};e.nativeColorPicker=a}}],(n=null)&&Jt(t.prototype,n),a&&Jt(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function $t(e){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,en(a.key),a)}}function en(e){var t=function(e,t){if("object"!=$t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=$t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$t(t)?t:String(t)}function tn(e,t,n){return t=nn(t),function(e,t){if(t&&("object"===$t(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],nn(e).constructor):t.apply(e,n))}function nn(e){return(nn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function an(e,t){return(an=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var on=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Qt(this,t),(e=tn(this,t)).map_=null,e.controls_=[],e.position_=n.position||"TL",e.collapsed_=n.collapsed,void 0===e.collapsed_&&(e.collapsed_=!0),e.collapsible_=n.collapsible,void 0===e.collapsible_&&(e.collapsible_=!0),e.panel_=null,e.layer_=n.layer,e.tooltip_=n.tooltip||G("tooltip"),e.options=n,Xt.apply(window),M.utils.extends=M.utils.extendsObj,e}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&an(e,t)}(t,M.Plugin),n=t,(a=[{key:"addTo",value:function(e){this.controls_.push(new Ht(this.layer_)),this.map_=e,this.panel_=new M.ui.Panel(t.NAME,{collapsed:this.collapsed_,collapsible:this.collapsible_,className:"m-stylemanager",collapsedButtonClass:"stylemanager-palette",position:M.ui.position[this.position_],tooltip:this.tooltip_}),this.panel_.addControls(this.controls_),e.addPanels(this.panel_)}},{key:"getAPIRest",value:function(){return"".concat(this.name,"=").concat(this.position_,"*").concat(this.collapsed_,"*").concat(this.collapsible_,"*").concat(this.tooltip_)}},{key:"getAPIRestBase64",value:function(){return"".concat(this.name,"=base64=").concat(M.utils.encodeBase64(this.options))}},{key:"destroy",value:function(){this.map_.removeControls(this.controls_);var e=[null,null,null];this.control_=e[0],this.panel_=e[1],this.map_=e[2]}},{key:"name",get:function(){return"stylemanager"}}])&&Zt(n.prototype,a),i&&Zt(n,i),Object.defineProperty(n,"prototype",{writable:!1}),t}();window.M.plugin||(window.M.plugin={}),window.M.plugin.StyleManager=on}]);
//# sourceMappingURL=stylemanager-1.1.0.ol.min.js.map