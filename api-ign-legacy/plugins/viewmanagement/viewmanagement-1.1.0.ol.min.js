!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=7)}([function(e){e.exports=JSON.parse('{"exception":{"impl":"The implementation used cannot create ViewManagementControl.","impl_zoomextent":"The implementation used cannot create ZoomExtentControl.","impl_viewhistory":"The implementation used cannot create ViewHistoryControl.","impl_zoompanel":"The implementation used cannot create ZoomPanelControl.","impl_predefinedzoom":"The implementation used cannot create PredefinedZoomControl.","no_controls":"The ViewManagement plugin needs to activate at least one control."},"tooltip":"View Management","viewhistory":"View history","nextView":"Next view","previousView":"Previous view","predefinedzoom":"Predefined zoom","zoomextent":"Zoom to box","zoompanel":"Zoom tools","zoomin":"Zoom In","zoomout":"Zoom Out"}')},function(e){e.exports=JSON.parse('{"exception":{"impl":"La implementación usada no puede crear controles ViewManagementControl.","impl_zoomextent":"La implementación usada no puede crear controles ZoomExtentControl.","impl_viewhistory":"La implementación usada no puede crear controles ViewHistoryControl.","impl_zoompanel":"La implementación usada no puede crear controles ZoomPanelControl.","impl_predefinedzoom":"La implementación usada no puede crear controles PredefinedZoomControl.","no_controls":"El plugin ViewManagement necesita activar al menos un control."},"tooltip":"Gestión de la vista","viewhistory":"Historial","nextView":"Vista siguiente","previousView":"Vista anterior","predefinedzoom":"Zoom predefinido","zoomextent":"Zoom al recuadro","zoompanel":"Herramientas de zoom","zoomin":"Aumentar zoom","zoomout":"Disminuir zoom"}')},function(e,t){e.exports='<div id="m-predefinedzoom-panel"></div>'},function(e,t){e.exports='<div id="m-viewhistory-panel">\n    <button id="m-historyprevious-button" class="viewmanagement-icon-flecha-izquierda3" title="{{translations.previousView}}"></button>\n    <button id="m-historynext-button" class="viewmanagement-icon-flecha-derecha3" title="{{translations.nextView}}"></button>\n</div>'},function(e,t){e.exports='<div aria-label="Plugin View Management" role="menuitem" id="div-contenedor-viewmanagement" class="m-control m-container m-viewmanagement">\n    <div role="heading" tabindex="0" id="m-viewmanagement-title">{{translations.headertitle}}</div>\n    <div id="m-viewmanagement-previews">\n        {{#if predefinedzoom}}\n            <div role="button" tabindex="0" id="m-viewmanagement-predefinedzoom" title="{{translations.predefinedzoom}}" class="viewmanagement-icon-home"></div>\n        {{/if}}\n        {{#if zoomextent}}\n            <div tabindex="0" id="m-viewmanagement-zoomextent" title="{{translations.zoomextent}}" class="viewmanagement-icon-zoom-extension"></div>\n        {{/if}}\n        {{#if viewhistory}}\n            <div tabindex="0" id="m-viewmanagement-viewhistory" title="{{translations.viewhistory}}" class="viewmanagement-icon-flecha-historial"></div>\n        {{/if}}\n        {{#if zoompanel}}\n            <div tabindex="0" id="m-viewmanagement-zoompanel" title="{{translations.zoompanel}}" class="viewmanagement-icon-zoompanel"></div>\n        {{/if}}\n    </div>\n</div>'},function(e,t){e.exports='<div id="m-zoompanel-panel">\n  <button type="button" tabindex="0" id="m-zoompanel-zoomin" class="viewmanagement-icon-zoom-in"\n    title="{{translations.zoomin}}"></button>\n  <button type="button" tabindex="0" id="m-zoompanel-zoomout" class="viewmanagement-icon-zoom-out"\n    title="{{translations.zoomout}}"></button>\n</div>'},function(e,t,o){},function(e,t,o){"use strict";o.r(t);var n=o(2),r=o.n(n);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function c(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:String(t)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t,o){return t=s(t),function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,o||[],s(e).constructor):t.apply(e,o))}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){return u(this,t),l(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(t,M.impl.Control),o=t,n&&a(o.prototype,n),r&&a(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,n,r}(),m=o(0),y=o(1),d={en:m,es:y},v=function(){var e="es";return"function"==typeof M.language.getLang&&(e=M.language.getLang()),e},b=function(e){return"es"===e||"en"===e?d[e]:M.language.getTranslation(e).viewmanagement},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v(),o=b(t),n="";return M.utils.isNullOrEmpty(o)?console.warn("The translation '".concat(t,"' has not been defined.")):n=e.split(".").reduce((function(e,t){return e[t]}),o),n};function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_(n.key),n)}}function _(e){var t=function(e,t){if("object"!=w(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==w(t)?t:String(t)}function O(e,t,o){return t=S(t),function(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,o||[],S(e).constructor):t.apply(e,o))}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var z=function(e){function t(e,o){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),M.utils.isUndefined(p)&&M.exception(h("exception.impl_predefinedzoom")),(n=O(this,t,[new p,"PredefinedZoomImpl"])).savedZooms_=o,n.map=e,n}var o,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}(t,M.Control),o=t,(n=[{key:"active",value:function(e){var t=this,o=e.querySelector("#m-viewmanagement-predefinedzoom").classList.contains("activated");if(this.deactive(e),!o)if(M.utils.isArray(this.savedZooms_)&&this.savedZooms_.length>1){e.querySelector("#m-viewmanagement-predefinedzoom").classList.add("activated");var n=M.template.compileSync(r.a);this.savedZooms_.forEach((function(e){var o=document.createElement("div");o.classList.add("m-predefinedzoom-button-container");var r=document.createElement("button");r.setAttribute("class","viewmanagement-icon-expand"),r.setAttribute("id","m-predefinedzoom-".concat(e.name)),r.setAttribute("title",e.name),void 0!==e.bbox?r.addEventListener("click",(function(){return t.zoomToGivenBox(r,e.bbox)})):void 0!==e.center&&void 0!==e.zoom&&r.addEventListener("click",(function(){return t.zoomToCenter(r,e.center,e.zoom)}));var i=document.createElement("span");i.classList.add("m-predefinedzoom-namezoom"),i.textContent=e.name,o.appendChild(r),o.appendChild(i),n.appendChild(o)})),document.querySelector("#div-contenedor-viewmanagement").appendChild(n)}else{var i=e.querySelector("#m-viewmanagement-predefinedzoom");i.classList.add("activated"),void 0!==this.savedZooms_[0].bbox?this.zoomToGivenBox(i,this.savedZooms_[0].bbox):void 0!==this.savedZooms_[0].center&&void 0!==this.savedZooms_[0].zoom&&this.zoomToCenter(i,this.savedZooms_[0].center,this.savedZooms_[0].zoom)}}},{key:"deactive",value:function(e){e.querySelector("#m-viewmanagement-predefinedzoom").classList.remove("activated");var t=e.querySelector("#m-predefinedzoom-panel");t&&document.querySelector("#div-contenedor-viewmanagement").removeChild(t)}},{key:"zoomToGivenBox",value:function(e,t){e.classList.add("activated"),setTimeout((function(){e.classList.remove("activated")}),1e3),this.map.setBbox(t)}},{key:"zoomToCenter",value:function(e,t,o){e.classList.add("activated"),setTimeout((function(){e.classList.remove("activated")}),1e3),this.map.setCenter(t),this.map.setZoom(o)}},{key:"equals",value:function(e){return e instanceof t}}])&&g(o.prototype,n),i&&g(o,i),Object.defineProperty(o,"prototype",{writable:!1}),t}(),P=o(3),x=o.n(P);function E(e,t,o){return t=k(t),function(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,o||[],k(e).constructor):t.apply(e,o))}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R(n.key),n)}}function q(e,t,o){return t&&L(e.prototype,t),o&&L(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function R(e){var t=function(e,t){if("object"!=T(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==T(t)?t:String(t)}var V=function(){function e(t,o){Z(this,e),this.center=t,this.resolution=o}return q(e,[{key:"equals",value:function(t){var o=!1;return t instanceof e&&(o=t.center[0]===this.center[0]&&t.center[1]===this.center[1]&&t.resolution===this.resolution),o}}]),e}(),B=function(e){function t(e){var o;return Z(this,t),(o=E(this,t)).facadeMap_=e,o.history_=[],o.historyNow_=-1,o.clickBtn_=!1,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(t,M.impl.Control),q(t,[{key:"registerZoomEvent_",value:function(){this.registerZoom_()}},{key:"registerViewEvents",value:function(){this.regZoom=this.registerZoomEvent_.bind(this),this.facadeMap_.getMapImpl().on("moveend",this.regZoom)}},{key:"registerZoom_",value:function(){if(this.clickBtn_)this.clickBtn_=!1;else{var e=new V(this.facadeMap_.getMapImpl().getView().getCenter(),this.facadeMap_.getMapImpl().getView().getResolution()),t=this.history_[this.historyNow_];e.equals(t)||(this.history_=this.history_.slice(0,this.historyNow_+1).concat(e).concat(this.history_.slice(this.historyNow_+1)),this.historyNow_+=1),this.clickBtn_=!1}}},{key:"previousStep",value:function(){if(this.historyNow_>0){var e=this.history_[this.historyNow_-1].center,t=this.history_[this.historyNow_-1].resolution;this.clickBtn_=!0,this.historyNow_-=1,this.facadeMap_.getMapImpl().getView().setCenter(e),this.facadeMap_.getMapImpl().getView().setResolution(t)}}},{key:"nextStep",value:function(){if(this.historyNow_<this.history_.length-1){var e=this.history_[this.historyNow_+1].center,t=this.history_[this.historyNow_+1].resolution;this.clickBtn_=!0,this.historyNow_+=1,this.facadeMap_.getMapImpl().getView().setCenter(e),this.facadeMap_.getMapImpl().getView().setResolution(t)}}},{key:"unRegisterViewEvents",value:function(){this.facadeMap_.getMapImpl().un("moveend",this.regZoom)}}]),t}();function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D(n.key),n)}}function D(e){var t=function(e,t){if("object"!=I(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==I(t)?t:String(t)}function A(e,t,o){return t=U(t),function(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,o||[],U(e).constructor):t.apply(e,o))}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t){return(H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var K=function(e){function t(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),M.utils.isUndefined(B)&&M.exception(h("exception.impl_viewhistory")),(o=A(this,t,[new B(e),"ViewHistoryImpl"])).registerViewEvents_(),o}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H(e,t)}(t,M.Control),o=t,(n=[{key:"registerViewEvents_",value:function(){this.getImpl().registerViewEvents()}},{key:"active",value:function(e){var t=e.querySelector("#m-viewmanagement-viewhistory").classList.contains("activated");if(this.deactive(e),!t){e.querySelector("#m-viewmanagement-viewhistory").classList.add("activated");var o=M.template.compileSync(x.a,{vars:{translations:{previousView:h("previousView"),nextView:h("nextView")}}});document.querySelector("#div-contenedor-viewmanagement").appendChild(o),e.querySelector("#m-historyprevious-button").addEventListener("click",this.previousStep_.bind(this)),e.querySelector("#m-historynext-button").addEventListener("click",this.nextStep_.bind(this))}}},{key:"deactive",value:function(e){e.querySelector("#m-viewmanagement-viewhistory").classList.remove("activated");var t=e.querySelector("#m-viewhistory-panel");t&&document.querySelector("#div-contenedor-viewmanagement").removeChild(t)}},{key:"nextStep_",value:function(e){e.preventDefault(),e.target.classList.add("activated"),setTimeout((function(){e.target.classList.remove("activated")}),1e3),this.getImpl().nextStep()}},{key:"previousStep_",value:function(e){e.preventDefault(),e.target.classList.add("activated"),setTimeout((function(){e.target.classList.remove("activated")}),1e3),this.getImpl().previousStep()}},{key:"equals",value:function(e){return e instanceof t}},{key:"destroy",value:function(){this.getImpl().unRegisterViewEvents()}}])&&N(o.prototype,n),r&&N(o,r),Object.defineProperty(o,"prototype",{writable:!1}),t}(),G=(o(6),o(4)),J=o.n(G);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,X(n.key),n)}}function X(e){var t=function(e,t){if("object"!=F(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==F(t)?t:String(t)}function Y(e,t,o){return t=te(t),function(e,t){if(t&&("object"===F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,o||[],te(e).constructor):t.apply(e,o))}function $(){return($="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,o){var n=ee(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(arguments.length<3?e:o):r.value}}).apply(this,arguments)}function ee(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=te(e)););return e}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t){return(oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var ne=function(e){function t(){return Q(this,t),Y(this,t,arguments)}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oe(e,t)}(t,M.impl.Control),o=t,(n=[{key:"addTo",value:function(e,o){$(te(t.prototype),"addTo",this).call(this,e,o),this.facadeMap_=e}},{key:"transformCenter",value:function(e,t){var o=this.facadeMap_.getProjection().code;return ol.proj.transform(e,t,o)}}])&&W(o.prototype,n),r&&W(o,r),Object.defineProperty(o,"prototype",{writable:!1}),t}(),re=o(5),ie=o.n(re);function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ue(n.key),n)}}function ue(e){var t=function(e,t){if("object"!=ae(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=ae(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ae(t)?t:String(t)}function le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t,o){return t=fe(t),function(e,t){if(t&&("object"===ae(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,o||[],fe(e).constructor):t.apply(e,o))}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t){return(pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var me=function(e){function t(){return le(this,t),se(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pe(e,t)}(t,M.impl.Control),o=t,n&&ce(o.prototype,n),r&&ce(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,n,r}();function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ve(n.key),n)}}function ve(e){var t=function(e,t){if("object"!=ye(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=ye(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ye(t)?t:String(t)}function be(e,t,o){return t=he(t),function(e,t){if(t&&("object"===ye(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,o||[],he(e).constructor):t.apply(e,o))}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(e,t){return(we=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var ge=function(e){function t(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),M.utils.isUndefined(me)&&M.exception(h("exception.impl_zoompanel")),(o=be(this,t,[new me,"ZoomPanelImpl"])).facadeMap_=e,o}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&we(e,t)}(t,M.Control),o=t,(n=[{key:"active",value:function(e){var t=this,o=e.querySelector("#m-viewmanagement-zoompanel").classList.contains("activated");if(this.deactive(e),!o){e.querySelector("#m-viewmanagement-zoompanel").classList.add("activated");var n=M.template.compileSync(ie.a,{vars:{translations:{zoomin:h("zoomin"),zoomout:h("zoomout")}}});document.querySelector("#div-contenedor-viewmanagement").appendChild(n);var r=e.querySelector("button#m-zoompanel-zoomin"),i=e.querySelector("button#m-zoompanel-zoomout");r.addEventListener("click",(function(e){e.target.classList.add("activated"),setTimeout((function(){e.target.classList.remove("activated")}),1e3),t.facadeMap_.setZoom(t.facadeMap_.getZoom()+1)})),i.addEventListener("click",(function(e){e.target.classList.add("activated"),setTimeout((function(){e.target.classList.remove("activated")}),1e3),t.facadeMap_.setZoom(t.facadeMap_.getZoom()-1)}))}}},{key:"deactive",value:function(e){e.querySelector("#m-viewmanagement-zoompanel").classList.remove("activated");var t=e.querySelector("#m-zoompanel-panel");t&&document.querySelector("#div-contenedor-viewmanagement").removeChild(t)}},{key:"equals",value:function(e){return e instanceof t}}])&&de(o.prototype,n),r&&de(o,r),Object.defineProperty(o,"prototype",{writable:!1}),t}();function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,je(n.key),n)}}function je(e){var t=function(e,t){if("object"!=_e(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=_e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_e(t)?t:String(t)}function ze(e,t,o){return t=Pe(t),function(e,t){if(t&&("object"===_e(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,o||[],Pe(e).constructor):t.apply(e,o))}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Me(e,t){return(Me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var xe=function(e){function t(){return Oe(this,t),ze(this,t,arguments)}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Me(e,t)}(t,M.impl.Control),o=t,(n=[{key:"createInteraction",value:function(e){this.facadeMap_=e,this.dragZoom=new ol.interaction.DragZoom({condition:function(){return!0}}),this.dragZoom.setActive(!1),this.facadeMap_.getMapImpl().addInteraction(this.dragZoom)}},{key:"activateClick",value:function(e){this.dragZoom.setActive(!0)}},{key:"deactivateClick",value:function(e){this.dragZoom.setActive(!1)}},{key:"removeInteraction",value:function(){this.facadeMap_.getMapImpl().removeEventListener("keydown"),this.facadeMap_.getMapImpl().removeInteraction(this.dragZoom)}}])&&Se(o.prototype,n),r&&Se(o,r),Object.defineProperty(o,"prototype",{writable:!1}),t}();function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ce(n.key),n)}}function Ce(e){var t=function(e,t){if("object"!=Ee(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=Ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ee(t)?t:String(t)}function Te(e,t,o){return t=Ze(t),function(e,t){if(t&&("object"===Ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,o||[],Ze(e).constructor):t.apply(e,o))}function Ze(e){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Le(e,t){return(Le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var qe=function(e){function t(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),M.utils.isUndefined(xe)&&M.exception(h("exception.impl_zoomextent")),(o=Te(this,t,[new xe,"ZoomExtentImpl"])).getImpl().createInteraction(e),o}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Le(e,t)}(t,M.Control),o=t,(n=[{key:"active",value:function(e){e.querySelector("#m-viewmanagement-zoomextent").classList.contains("activated")?this.deactive():(e.querySelector("#m-viewmanagement-zoomextent").classList.add("activated"),this.getImpl().activateClick(this.map_),this.escKey_=this.checkEscKey.bind(this),document.addEventListener("keydown",this.escKey_))}},{key:"checkEscKey",value:function(e){"Escape"===e.key&&(this.deactive(),document.removeEventListener("keydown",this.escKey_))}},{key:"deactive",value:function(){document.querySelector("#m-viewmanagement-zoomextent").classList.remove("activated"),this.getImpl().deactivateClick(this.map_)}},{key:"equals",value:function(e){return e instanceof t}},{key:"destroy",value:function(){this.getImpl().removeInteraction(),document.removeEventListener("keydown",this.escKey_)}}])&&ke(o.prototype,n),r&&ke(o,r),Object.defineProperty(o,"prototype",{writable:!1}),t}();function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Be(n.key),n)}}function Be(e){var t=function(e,t){if("object"!=Re(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=Re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Re(t)?t:String(t)}function Ie(e,t,o){return t=Ne(t),function(e,t){if(t&&("object"===Re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,o||[],Ne(e).constructor):t.apply(e,o))}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function De(e,t){return(De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Ae=function(e){function t(e,o,n,r,i,a){var c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),M.utils.isUndefined(ne)&&M.exception(h("exception.impl")),(c=Ie(this,t,[new ne,"ViewManagement"])).predefinedzoom_=o,c.zoomextent_=n,c.viewhistory_=r,c.zoompanel_=i,c.isDraggable_=e,c.order=a,c}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&De(e,t)}(t,M.Control),o=t,(n=[{key:"createView",value:function(e){var t=this;return this.map_=e,new Promise((function(o,n){var r=M.template.compileSync(J.a,{vars:{predefinedzoom:t.predefinedzoom_,zoomextent:t.zoomextent_,viewhistory:t.viewhistory_,zoompanel:t.zoompanel_,translations:{headertitle:h("tooltip"),predefinedzoom:h("predefinedzoom"),zoomextent:h("zoomextent"),viewhistory:h("viewhistory"),zoompanel:h("zoompanel")}}});t.html=r,t.predefinedzoom_&&(t.predefinedzoomControl=new z(e,t.predefinedzoom_),"isDefault"in t.predefinedzoom_&&(t.predefinedzoom_[0].center=t.getImpl().transformCenter(t.predefinedzoom_[0].center,"EPSG:3857")),r.querySelector("#m-viewmanagement-predefinedzoom").addEventListener("click",(function(){t.deactive(r,"predefinedzoom"),t.predefinedzoomControl.active(r)})),r.querySelector("#m-viewmanagement-predefinedzoom").addEventListener("keydown",(function(e){"Enter"===e.key&&(t.deactive(r,"predefinedzoom"),t.predefinedzoomControl.active(r))}))),t.zoomextent_&&(t.zoomextentControl=new qe(e),r.querySelector("#m-viewmanagement-zoomextent").addEventListener("click",(function(){t.deactive(r,"zoomextent"),t.zoomextentControl.active(r)})),r.querySelector("#m-viewmanagement-zoomextent").addEventListener("keydown",(function(e){"Enter"===e.key&&(t.deactive(r,"zoomextent"),t.zoomextentControl.active(r))}))),t.viewhistory_&&(t.viewhistoryControl=new K(e),r.querySelector("#m-viewmanagement-viewhistory").addEventListener("click",(function(){t.deactive(r,"viewhistory"),t.viewhistoryControl.active(r)})),r.querySelector("#m-viewmanagement-viewhistory").addEventListener("keydown",(function(e){"Enter"===e.key&&(t.deactive(r,"viewhistory"),t.viewhistoryControl.active(r))}))),t.zoompanel_&&(t.zoompanelControl=new ge(e),r.querySelector("#m-viewmanagement-zoompanel").addEventListener("click",(function(){t.deactive(r,"zoompanel"),t.zoompanelControl.active(r)})),r.querySelector("#m-viewmanagement-zoompanel").addEventListener("keydown",(function(e){"Enter"===e.key&&(t.deactive(r,"zoompanel"),t.zoompanelControl.active(r))}))),t.isDraggable_&&M.utils.draggabillyPlugin(t.getPanel(),"#m-viewmanagement-title"),t.accessibilityTab(r),o(r)}))}},{key:"equals",value:function(e){return e instanceof t}},{key:"deactive",value:function(e,t){var o=e.querySelectorAll("#m-viewmanagement-previews .activated")[0];if(o&&!o.id.includes(t)){"m-viewmanagement-zoomextent"===o.id&&this.zoomextentControl.deactive(),o.classList.remove("activated");var n=document.querySelector("#div-contenedor-viewmanagement");n&&n.children.length>2&&n.removeChild(n.children[2])}}},{key:"accessibilityTab",value:function(e){var t=this;e.querySelectorAll('[tabindex="0"]').forEach((function(e){return e.setAttribute("tabindex",t.order)}))}},{key:"destroy",value:function(){M.utils.isNullOrEmpty(this.zoomextentControl)||this.zoomextentControl.destroy(),M.utils.isNullOrEmpty(this.viewhistoryControl)||this.viewhistoryControl.destroy()}}])&&Ve(o.prototype,n),r&&Ve(o,r),Object.defineProperty(o,"prototype",{writable:!1}),t}();function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ke(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ge(n.key),n)}}function Ge(e){var t=function(e,t){if("object"!=Ue(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=Ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ue(t)?t:String(t)}function Je(e,t,o){return t=Fe(t),function(e,t){if(t&&("object"===Ue(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,o||[],Fe(e).constructor):t.apply(e,o))}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qe(e,t){return(Qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var We=function(e){function t(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return He(this,t),(e=Je(this,t)).map_=null,e.controls_=[],e.name="viewmanagement",e.options=o,e.position_=o.position||"TL",e.collapsed=!!M.utils.isUndefined(o.collapsed)||o.collapsed,e.collapsible=!!M.utils.isUndefined(o.collapsible)||o.collapsible,e.tooltip_=o.tooltip||h("tooltip"),e.isDraggable=!M.utils.isUndefined(o.isDraggable)&&o.isDraggable,e.predefinedzoom=M.utils.isUndefined(o.predefinedZoom)||!0===o.predefinedZoom?e.getPredefinedZoom():o.predefinedZoom,e.zoomextent=!!M.utils.isUndefined(o.zoomExtent)||o.zoomExtent,e.viewhistory=!!M.utils.isUndefined(o.viewhistory)||o.viewhistory,e.zoompanel=!!M.utils.isUndefined(o.zoompanel)||o.zoompanel,e.order=o.order>=-1?o.order:null,e}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qe(e,t)}(t,M.Plugin),o=t,r=[{key:"getJSONTranslations",value:function(e){return"en"===e||"es"===e?"en"===e?m:y:M.language.getTranslation(e).viewmanagement}}],(n=[{key:"addTo",value:function(e){!1===this.predefinedzoom&&!1===this.zoomextent&&!1===this.viewhistory&&!1===this.zoompanel&&M.dialog.error(h("exception.no_controls")),this.controls_.push(new Ae(this.isDraggable,this.predefinedzoom,this.zoomextent,this.viewhistory,this.zoompanel,this.order)),this.map_=e,this.panel_=new M.ui.Panel("panelViewManagement",{collapsible:this.collapsible,collapsed:this.collapsed,position:M.ui.position[this.position_],className:"m-plugin-viewmanagement",tooltip:this.tooltip_,collapsedButtonClass:"viewmanagement-icon-zoom-mapa",order:this.order}),this.panel_.addControls(this.controls_),e.addPanels(this.panel_)}},{key:"getPredefinedZoom",value:function(){return[{center:[-356188.1915089525,4742037.53423241],zoom:6,isDefault:!0}]}},{key:"getAPIRest",value:function(){return"".concat(this.name,"=").concat(this.position_,"*").concat(this.collapsed,"*").concat(this.collapsible,"*").concat(this.tooltip_,"*").concat(this.isDraggableE,"\n    *").concat(this.predefinedzoom,"*").concat(this.zoomextent,"*").concat(this.viewhistory,"*").concat(this.zoompanel)}},{key:"getAPIRestBase64",value:function(){return"".concat(this.name,"=base64=").concat(M.utils.encodeBase64(this.options))}},{key:"destroy",value:function(){this.map_.removeControls(this.controls_),this.map_=null,this.controls_=null,this.panel_=null,this.name=null}},{key:"equals",value:function(e){return e instanceof t}}])&&Ke(o.prototype,n),r&&Ke(o,r),Object.defineProperty(o,"prototype",{writable:!1}),t}();window.M.control||(window.M.control={}),window.M.plugin||(window.M.plugin={}),window.M.impl||(window.M.impl={}),window.M.impl.control||(window.M.impl.control={}),window.M.control.PredefinedZoomControl=z,window.M.control.ViewHistoryControl=K,window.M.plugin.ViewManagement=We,window.M.control.ViewManagementControl=Ae,window.M.control.ZoomExtentControl=qe,window.M.control.ZoomPanelControl=ge,window.M.impl.control.PredefinedZoomControl=p,window.M.impl.control.ViewHistoryControl=B,window.M.impl.control.ViewManagementControl=ne,window.M.impl.control.ZoomExtentControl=xe,window.M.impl.control.ZoomPanelControl=me}]);
//# sourceMappingURL=viewmanagement-1.1.0.ol.min.js.map