!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=795)}([function(t,e,r){"use strict";r.d(e,"ab",(function(){return m})),r.d(e,"S",(function(){return y})),r.d(e,"W",(function(){return g})),r.d(e,"R",(function(){return _})),r.d(e,"X",(function(){return b})),r.d(e,"U",(function(){return v})),r.d(e,"Y",(function(){return O})),r.d(e,"Z",(function(){return w})),r.d(e,"bb",(function(){return E})),r.d(e,"db",(function(){return x})),r.d(e,"G",(function(){return S})),r.d(e,"b",(function(){return j})),r.d(e,"z",(function(){return P})),r.d(e,"M",(function(){return T})),r.d(e,"N",(function(){return I})),r.d(e,"v",(function(){return L})),r.d(e,"H",(function(){return R})),r.d(e,"B",(function(){return C})),r.d(e,"A",(function(){return A})),r.d(e,"J",(function(){return k})),r.d(e,"jb",(function(){return N})),r.d(e,"O",(function(){return D})),r.d(e,"e",(function(){return F})),r.d(e,"c",(function(){return B})),r.d(e,"d",(function(){return U})),r.d(e,"g",(function(){return G})),r.d(e,"P",(function(){return z})),r.d(e,"t",(function(){return W})),r.d(e,"s",(function(){return X})),r.d(e,"r",(function(){return q})),r.d(e,"p",(function(){return V})),r.d(e,"fb",(function(){return Y})),r.d(e,"gb",(function(){return Z})),r.d(e,"F",(function(){return K})),r.d(e,"hb",(function(){return H})),r.d(e,"V",(function(){return J})),r.d(e,"j",(function(){return Q})),r.d(e,"K",(function(){return $})),r.d(e,"Q",(function(){return tt})),r.d(e,"I",(function(){return et})),r.d(e,"u",(function(){return rt})),r.d(e,"y",(function(){return nt})),r.d(e,"lb",(function(){return it})),r.d(e,"E",(function(){return ot})),r.d(e,"kb",(function(){return at})),r.d(e,"k",(function(){return st})),r.d(e,"T",(function(){return ct})),r.d(e,"ib",(function(){return ut})),r.d(e,"o",(function(){return ht})),r.d(e,"C",(function(){return ft})),r.d(e,"f",(function(){return pt})),r.d(e,"L",(function(){return dt})),r.d(e,"x",(function(){return mt})),r.d(e,"cb",(function(){return yt})),r.d(e,"l",(function(){return gt})),r.d(e,"q",(function(){return _t})),r.d(e,"i",(function(){return bt})),r.d(e,"n",(function(){return vt})),r.d(e,"m",(function(){return Ot})),r.d(e,"eb",(function(){return wt})),r.d(e,"D",(function(){return Et})),r.d(e,"h",(function(){return xt})),r.d(e,"w",(function(){return St})),r.d(e,"mb",(function(){return jt})),r.d(e,"a",(function(){return Pt}));var n=r(64),i=r(83),o=r.n(i),a=r(457),s=r.n(a),c=r(652),l=r(6),u=r(225),h=r(49);function f(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return p(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var m=function(t){return void 0===t},y=function(t){var e=!1;return null===t||m(t)||(e="boolean"==typeof t),e},g=function(t){var e=!1;return y(t)||"number"==typeof t||(m(t)?e=!0:t?null===t&&(e=!0):e=!0),e},_=function(t){var e=!1;return g(t)||(e=Object.prototype.toString.call(t)===Object.prototype.toString.call([])),e},b=function t(e){var r=!1;return g(e)?r=!0:_(e)?(r=!0,e.length>0&&(r=!e.some((function(e){return!t(e)})))):"string"==typeof e&&0===e.trim().length&&(r=!0),r},v=function(t){var e=!1;return g(t)||(e="function"==typeof t&&!m(t.call)),e},O=function(t){var e=!1;return g(t)||(e="object"===d(t)&&!m(t.toString)),e},w=function(t){var e=!1;return g(t)||(e="string"==typeof t),e},E=function(t){var e=!1;return!g(t)&&w(t)&&(e=/(https?:\/\/[^*]+)/.test(t)),e},x=function(t,e){var r=t;return!b(r)&&w(r)&&(r=r.trim(),r=e?r.toUpperCase():r.toLowerCase()),r},S=function(t,e){var r=null,n=t.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),i=e,o=i.indexOf("?");-1!==o&&(i=i.substring(o),null!==(r=new RegExp("[\\?&]".concat(n,"=([^&#]*)")).exec(i))&&(r=decodeURIComponent(r[1].replace(/\+/g," "))));return r},j=function(t,e){var r=t;-1===r.indexOf("?")?r+="?":"?"!==r.charAt(r.length-1)&&(r+="&");var n="";O(e)?(Object.keys(e).forEach((function(t){var r=e[t];n+=t,n+="=",n+=encodeURIComponent(r),n+="&"})),n=n.substring(0,n.length-1)):w(e)&&(n=e);return r+=n},P=function(t,e){var r="";return b(t)||(r=t),r=r.concat(Math.random()).replace(/0\./,""),b(e)||(r=r.concat(e)),r},T=function(t,e){var r=t;return r=j(r,"request=GetCapabilities"),r=j(r,"service=WMS"),r=j(r,{version:e})},I=function(t,e){var r=t;return r=j(r,"request=GetCapabilities"),r=j(r,"service=WMTS"),b(e)||(r=j(r,{version:e})),r},L=function(t,e,r){var n=t,i=e,o=new Array(r);n=Number.parseFloat(n),i=Number.parseFloat(i);var a=2;Number.isNaN(n)||(a=Math.pow(i/n,1/(r-1)));for(var s=0;s<r;s+=1)o[s]=i/Math.pow(a,s);return o.sort((function(t,e){return e-t})),o},R=function(t,e){var r,n=e;b(t)||(g(n)&&(n="degrees"),r=1/((t>1?1/t:t)*u.b[n]*u.a));return r},C=function(t,e,r,n){var i=R(t,n),o=R(e,n);return L(i,o,r)},A=function(t,e,r,n){var i=t,o=null,a=null;_(i)?(o=i[2]-i[0],a=i[3]-i[1]):O(i)?(o=i.x.max-i.x.min,a=i.y.max-i.y.min):w(i)&&(o=(i=i.split(","))[2]-i[0],a=i[3]-i[1]);var s=o/e[0],c=a/e[1],l=Math.max(s,c);return L(null,l,r)},k=function(t,e){var r=e;return b(r)&&(r="degrees"),t*u.b[r]*u.a},N=function(t){var e;if(!b(t)){var r=document.createElement("div");r.innerHTML=t,e=r.children[0]}return e},D=function(t){var e;if(!b(t)){var r=document.createElement("div");r.appendChild(t),e=r.innerHTML}return e},F=function(t){var e;return e=(e=(e=(e=(e=(e=(e=t.toLowerCase()).trim(e)).charAt(0).toUpperCase()+e.slice(1)).replace(/_/g," ")).replace(/\s+/," ")).replace(/(\s\w)+/g,(function(t){return t.toUpperCase()}))).replace(/\s+(de|del|las?|el|los?|un|unas?|unos?|y|a|al|en)\s+/gi,(function(t){return t.toLowerCase()}))},B=function(t){var e=t;if(e&&(e=e.trim()).length>0){var r=e.indexOf(":");-1!==r&&(r+=1,e=e.substring(r,e.length))}return e},U=function(t){var e=x(t);return e=(e=e.replace(/_(\w)/g,(function(t,e){return" ".concat(e.toUpperCase())}))).replace(/^\w/,(function(t){return t.toUpperCase()}))},G=function(t){var e=null;if(!b(t)){e=(e=t[0]).replace(/\/+\s*$/,"");for(var r=1,n=t.length;r<n;r+=1){var i=t[r];0!==i.indexOf("/")&&(e=e.concat("/")),e=e.concat(i)}}return e},z=function(t,e,r){var n=Object(t),i=parseInt(n.length,10)||0;if(0===i)return!1;var o,a,s=parseInt(r,10)||0;for(s>=0?o=s:(o=i+s)<0&&(o=0);o<i;){if(e===(a=n[o])||Object.equals(e,a))return!0;o+=1}return!1},W=function t(e,r,n){var i=e;return Object.keys(r).forEach((function(e){m(i[e])?i[e]=r[e]:Object.getPrototypeOf(i[e])===Object.prototype?t(i[e],r[e],n):!0===n&&(i[e]=r[e])})),i},X=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},q=function(t){return t.replace(/(<\s*script[^>]*>)+[^<]*(<\s*\/\s*script[^>]*>)+/gi,"").replace(/(('|')\s*\+\s*)?\s*eval\s*\(.*\)\s*(\+\s*('|'))?/gi,"")},V=function(t){var e=t;if("ontouchstart"in document){var r=0;e.addEventListener("touchstart",(function(t){r=e.scrollTop+t.touches[0].pageY})),e.addEventListener("touchmove",(function(t){e.scrollTop=r-t.touches[0].pageY}))}},Y=function(t){var e;try{e=o()(t).hex()}catch(t){throw t}return e},Z=function(t){var e;try{e=o()(t).hex()}catch(t){throw t}return e},K=function(t){var e,r=/^rgba\s*\((\s*\d+\s*,){3}\s*([\d.]+)\s*\)$/;if(r.test(t)){e=t.replace(r,"$2");try{e=parseFloat(e)}catch(t){throw t}}return e},H=function(t,e){var r=t.replace(/^(.+)\/$/,"$1").replace(/^(.+)\?$/,"$1"),n=e.replace(/^(.+)\/$/,"$1").replace(/^(.+)\?$/,"$1");return r.toLowerCase()===n.toLowerCase()},J=function(t){var e=[h.b.toLowerCase(),"GeometryPropertyType".toLowerCase(),h.i.toLowerCase(),h.e.toLowerCase(),h.d.toLowerCase(),h.j.toLowerCase(),h.g.toLowerCase(),h.f.toLowerCase(),h.h.toLowerCase(),h.c.toLowerCase(),h.a.toLowerCase(),"pointpropertytype","polygonpropertytype","linestringpropertytype","geometrypropertytype","multisurfacepropertytype","multilinestringpropertytype","surfacepropertytype","geometrypropertytype","geometryarraypropertytype","multigeometrypropertytype","multipolygonpropertytype","multipointpropertytype","abstractgeometricaggregatetype","pointarraypropertytype","curvearraypropertytype","solidpropertytype","solidarraypropertytype"],r=t.toLowerCase();return-1!==e.indexOf(r)},Q=function(t){var e=document.createElement("textarea");return e.innerHTML=t,e.value},$=function(t){var e=t;!w(t)&&t.outerHTML&&(e=t.outerHTML);var r=document.createElement("DIV");return r.innerHTML=e,r.textContent||r.innerText||""},tt=function(t){var e;if(w(t)){var r=o()(t).hex();r=r.replace(/^#/,"0x"),e=o()(16777215-r).hex()}return e},et=function(t,e){return o()(t).alpha(e).css()},rt=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;return b(r)||Object.keys(r).forEach((function(e){var i=r[e];_(i)?i=f(i):O(i)&&(i=t({},i)),b(n[e])?n[e]=i:O(n[e])&&t(n[e],i)})),n},nt=function(t,e){var r=f(t);if(t.length<e){for(var n=(t[0]+t[1])/(e-1),i=1;i<e-1;i+=1)r[i]=n*i;r=[].concat(f(r),[t[1]])}return r},it=function(t,e){return t.ORDER-e.ORDER},ot=function(t){var e=new Image;return new Promise((function(r,n){e.onload=function(){return r(e)},e.src=t}))},at=function t(e){var r;return _(e)?r=(r=f(e)).map(t):O(e)?(r=rt({},e),Object.keys(r).forEach((function(e){var n=r[e];v(n)?r[e]="{{f}}".concat(n.toString()):O(n)&&(r[e]=t(n))}))):r=v(e)?"{{f}}".concat(e.toString()):e,r},st=function t(e){var r=e;if(/^\{\{f\}\}/.test(e)){var n=e.replace(/^\{\{f\}\}(.+)/,"$1");r=new Function("f","return ".concat(n))()}else Object.keys(r).forEach((function(e){var n=r[e];if(/^\{\{f\}\}/.test(n)){var i=n.replace(/^\{\{f\}\}(.+)/,"$1");r[e]=new Function("f","return ".concat(i))()}else O(n)&&t(n)}));return r},ct=function t(e){var r=!1;return Array.isArray(e)||"object"!==d(e)||b(e)?("function"==typeof e||"string"==typeof e&&/\{\{.*\}\}/.test(e))&&(r=!0):r=Object.values(e).some((function(e){return t(e)})),r},lt=c,ut=function(t){lt=t},ht=function(t){return lt},ft=function(t){var e=null;return b(t)||(e=[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER],t.forEach((function(t){b(t)||(e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[2]),e[3]=Math.max(e[3],t[3]))}))),e},pt=function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/png",n=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],i="",o=t.length;for(e=2;e<o;e+=3)i+=n[t[e-2]>>2],i+=n[(3&t[e-2])<<4|t[e-1]>>4],i+=n[(15&t[e-1])<<2|t[e]>>6],i+=n[63&t[e]];return e===o+1&&(i+=n[t[e-2]>>2],i+=n[(3&t[e-2])<<4],i+="=="),e===o&&(i+=n[t[e-2]>>2],i+=n[(3&t[e-2])<<4|t[e-1]>>4],i+=n[(15&t[e-1])<<2],i+="="),"data:".concat(r,";base64,").concat(i)},dt=function t(e){return new Promise((function(r,n){var i=new Uint8Array;e instanceof ArrayBuffer?(i=new Uint8Array(e),r(i)):e instanceof File?e.arrayBuffer().then((function(t){i=new Uint8Array(t),r(i)})):e instanceof Response?r(e.arrayBuffer().then(t)):e instanceof Uint8Array?r(e):r(i)}))},mt=function(t,e){return o.a.scale(t).colors(e)},yt=function(t,e){return Object(n.b)(t).then((function(t){var r="";try{var n=e.icon.tag?e.icon.tag:["path","circle","ellipse","line","polygon","polyline","rect","foreignObject"],i=Array.from(t.xml.getElementsByTagName("svg"))[0],o=e.icon.stroke&&e.icon.stroke.width?e.icon.stroke.width:1,a=i.getAttribute("width")?i.getAttribute("width").replace(/[^0-9.]/g,""):null,s=i.getAttribute("height")?i.getAttribute("height").replace(/[^0-9.]/g,""):null;if(i.getAttribute("viewBox")){var c=i.getAttribute("viewBox").split(" ");a||(i.setAttribute("width",c[2]),a=c[2]),s||(i.setAttribute("height",c[3]),s=c[3])}if(e.icon.stroke&&o&&a&&s)if(i.getAttribute("viewBox")){var l=i.getAttribute("viewBox").split(" ");i.setAttribute("viewBox","".concat(-o," ").concat(-o," ").concat(Math.ceil(Number(l[2]))+2*o," ").concat(Number(l[3])+2*o))}else i.setAttribute("viewBox","".concat(-o," ").concat(-o," ").concat(Math.ceil(Number(a))+2*o," ").concat(Number(s)+2*o));n.forEach((function(r){Array.from(t.xml.getElementsByTagName(r)).forEach((function(t){var r;(r=t.classList).remove.apply(r,f(t.classList)),e.icon.fill&&e.icon.fill.color&&t.setAttribute("fill",e.icon.fill.color),e.icon.fill&&e.icon.fill.opacity&&t.setAttribute("fill-opacity",e.icon.fill.opacity),e.icon.stroke&&e.icon.stroke.color&&t.setAttribute("stroke",e.icon.stroke.color),e.icon.stroke&&o&&t.setAttribute("stroke-width",o)}))})),Array.from(t.xml.getElementsByTagName("g")).forEach((function(t){e.icon.stroke&&o&&t.removeAttribute("clip-path")})),r="data:image/svg+xml,".concat(encodeURIComponent((new XMLSerializer).serializeToString(t.xml,"text/xml")))}catch(t){}return r}))},gt=function(t,e){document.getElementById(e).onmousedown=function(e){var r=0,n=0,i=0,o=0,a=document.getElementById(t),s=e||window.event;s.preventDefault(),i=s.clientX,o=s.clientY,document.onmouseup=function(){document.onmouseup=null,document.onmousemove=null},document.onmousemove=function(t){var e=t||window.event;e.preventDefault(),r=i-e.clientX,n=o-e.clientY,i=e.clientX,o=e.clientY,a.offsetTop-n>=a.parentElement.clientHeight-a.clientHeight||(a.style.top="".concat(Math.abs(a.offsetTop-n),"px")),a.offsetLeft-r>=a.parentElement.clientWidth-a.clientWidth||(a.style.left="".concat(Math.abs(a.offsetLeft-r),"px"))}}},_t=function(t){var e=JSON.stringify(t);return window.btoa(unescape(encodeURIComponent(e)))},bt=function(t){return JSON.parse(decodeURIComponent(escape(window.atob(t.replace(" ","+")))))},vt=function(t,e){var r=t.getTemplatePanel(),n=null;setTimeout((function(){n=new s.a(r,{containment:".m-mapea-container",handle:e}),M.utils.isNull(n)||t.isCollapsed()||n.enable();var i=r.querySelector(".m-panel-btn");i&&i.addEventListener("click",(function(){t.isCollapsed()?(r.style.removeProperty("left"),r.style.removeProperty("top"),r.style.position="relative",n.disable()):n.enable()}))}),1e3)},Ot=function(t,e){setTimeout((function(){var r=document.querySelector(t);null!==r&&new s.a(r,{containment:"body",handle:e}).enable()}),50)},wt=function(t,e){var r=document.querySelector(".".concat(t)).getBoundingClientRect(),n=e.getMapImpl().getViewport().getBoundingClientRect(),i=r.left-n.left+r.width/2,o=r.top-n.top+r.height/2;return e.getMapImpl().getCoordinateFromPixel([i,o])},Mt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/jpeg",r=t.getMapImpl().getViewport().querySelectorAll(".ol-layer canvas, canvas.ol-layer");if(1===r.length)return r[0];var n=document.createElement("canvas"),i=n.getContext("2d"),o=t.getMapImpl(),a=o.getSize();return n.width=a[0],n.height=a[1],/jp.*g$/.test(e)&&(i.fillStyle="white",i.fillRect(0,0,n.width,n.height)),r.forEach((function(t){if(t.width){if(i.save(),"0"===t.parentNode.style.opacity)return;i.globalAlpha=parseFloat(t.parentNode.style.opacity)||1,i.globalCompositeOperation=t.parentNode.style.mixBlendMode,i.filter=t.parentNode.style.filter;var e=t.style.transform||t.style.webkitTransform;/^matrix/.test(e)?((e=e.replace(/^matrix\(|\)$/g,"").split(",")).forEach((function(t,r){e[r]=parseFloat(t)})),i.transform(e[0],e[1],e[2],e[3],e[4],e[5]),i.drawImage(t,0,0)):i.drawImage(t,0,0,t.width,t.height),i.restore()}})),n},Et=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/jpeg",r=arguments.length>2?arguments[2]:void 0,n=r||Mt(t,e),i=null;if(n)try{i=n.toDataURL(e)}catch(t){throw t}return i},xt=function(t,e){var r=e||Mt(t,"image/png");if(r)try{r.toBlob((function(t){if(t){var e=new window.ClipboardItem({"image/png":t});window.navigator.clipboard.write([e]).then((function(){console.log("Image copied to clipboard")})).catch((function(t){console.error("Error copying image to clipboard:",t)}))}}))}catch(t){throw t}},St=function(t){return t.match(/(^|\s)(https?:\/\/[^\s<>"']+)/g)||[]},jt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t,n=St(r);return n.forEach((function(t){var n=t.slice(-1),i="";t=t.trim(),/^[a-zA-Z0-9]+$/.test(n)||(i=n,t=t.slice(0,-1));var o={images:e.images||["120px","75px"],videos:e.videos||["500px","300px"],documents:e.documents||["500px","300px"],audios:e.audios||["250px","40px"]};r=/\.(jpg||jpeg|png|gif|svg)$/i.test(t)?r.replace("".concat(t).concat(i),"</br><img src='".concat(t,"' style='max-width: ").concat(o.images[0],"; max-height: ").concat(o.images[1],";'/></br>").concat(i)):/\.(pdf||txt|json|geojson)$/i.test(t)?r.replace("".concat(t).concat(i),"</br><iframe src='".concat(t,"' width='").concat(o.documents[0],"' height='").concat(o.documents[1],"'></iframe></br>").concat(i)):/\.(mp4|mov|3gp)$/i.test(t)?r.replace("".concat(t).concat(i),"</br><video style='max-width: ".concat(o.videos[0],"; max-height: ").concat(o.videos[1],"' controls><source src='").concat(t,"'>\n        <p>").concat(Object(l.e)("exception").browser_video,"</p></video></br>").concat(i)):/\.(mp3|ogg|ogv|wav)$/i.test(t)?r.replace("".concat(t).concat(i),"</br><audio style='max-width: ".concat(o.audios[0],"; max-height: ").concat(o.audios[1],"'controls><source src='").concat(t,"'>").concat(Object(l.e)("exception").browser_audio,"</audio></br>").concat(i)):r.replace("".concat(t).concat(i),"<a href=".concat(t,">").concat(t,"</a>").concat(i))})),r},Pt=function(t,e){return M.impl.ol.js.projections.getSupportedProjs().filter((function(t){return t.codes.includes(e)}))[0].def.includes("+proj=longlat")?[t.y.min,t.x.min,t.y.max,t.x.max]:[t.x.min,t.y.min,t.x.max,t.y.max]}},function(t,e,r){"use strict";r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return o})),r.d(e,"d",(function(){return a})),r.d(e,"h",(function(){return s})),r.d(e,"e",(function(){return c})),r.d(e,"s",(function(){return l})),r.d(e,"i",(function(){return u})),r.d(e,"j",(function(){return h})),r.d(e,"o",(function(){return f})),r.d(e,"m",(function(){return p})),r.d(e,"n",(function(){return d})),r.d(e,"l",(function(){return m})),r.d(e,"k",(function(){return y})),r.d(e,"q",(function(){return g})),r.d(e,"a",(function(){return _})),r.d(e,"p",(function(){return b})),r.d(e,"r",(function(){return v})),r.d(e,"t",(function(){return O})),r.d(e,"u",(function(){return w})),r.d(e,"v",(function(){return E})),r.d(e,"x",(function(){return S})),r.d(e,"g",(function(){return j})),r.d(e,"w",(function(){return T})),r.d(e,"f",(function(){return I}));var n=r(13),i="http://www.w3.org/2001/XMLSchema-instance";function o(t,e){return I().createElementNS(t,e)}function a(t,e){return function t(e,r,n){if(e.nodeType==Node.CDATA_SECTION_NODE||e.nodeType==Node.TEXT_NODE)r?n.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):n.push(e.nodeValue);else{var i=void 0;for(i=e.firstChild;i;i=i.nextSibling)t(i,r,n)}return n}(t,e,[]).join("")}function s(t){return"documentElement"in t}function c(t,e,r){return t.getAttributeNS(e,r)||""}function l(t){return(new DOMParser).parseFromString(t,"application/xml")}function u(t,e){return function(r,i){var o=t.call(void 0!==e?e:this,r,i);if(void 0!==o){var a=i[i.length-1];Object(n.c)(a,o)}}}function h(t,e){return function(r,n){var i=t.call(void 0!==e?e:this,r,n);void 0!==i&&n[n.length-1].push(i)}}function f(t,e){return function(r,n){var i=t.call(void 0!==e?e:this,r,n);void 0!==i&&(n[n.length-1]=i)}}function p(t,e,r){return function(n,i){var o=t.call(void 0!==r?r:this,n,i);if(void 0!==o){var a=i[i.length-1],s=void 0!==e?e:n.localName,c=void 0;s in a?c=a[s]:(c=[],a[s]=c),c.push(o)}}}function d(t,e,r){return function(n,i){var o=t.call(void 0!==r?r:this,n,i);void 0!==o&&(i[i.length-1][void 0!==e?e:n.localName]=o)}}function m(t,e){return function(r,n,i){t.call(void 0!==e?e:this,r,n,i),i[i.length-1].node.appendChild(r)}}function y(t,e){var r,n;return function(e,i,o){if(void 0===r){r={};var a={};a[e.localName]=t,r[e.namespaceURI]=a,n=g(e.localName)}M(r,n,i,o)}}function g(t,e){var r=t;return function(t,n,i){var a=n[n.length-1].node,s=r;return void 0===s&&(s=i),o(void 0!==e?e:a.namespaceURI,s)}}var _=g();function b(t,e){for(var r=e.length,n=new Array(r),i=0;i<r;++i)n[i]=t[e[i]];return n}function v(t,e,r){var n,i,o=void 0!==r?r:{};for(n=0,i=t.length;n<i;++n)o[t[n]]=e;return o}function O(t,e,r,n){var i;for(i=e.firstElementChild;i;i=i.nextElementSibling){var o=t[i.namespaceURI];if(void 0!==o){var a=o[i.localName];void 0!==a&&a.call(n,i,r)}}}function w(t,e,r,n,i){return n.push(t),O(e,r,n,i),n.pop()}function M(t,e,r,n,i,o){for(var a,s,c=(void 0!==i?i:r).length,l=0;l<c;++l)void 0!==(a=r[l])&&void 0!==(s=e.call(void 0!==o?o:this,a,n,void 0!==i?i[l]:void 0))&&t[s.namespaceURI][s.localName].call(o,s,a,n)}function E(t,e,r,n,i,o,a){return i.push(t),M(e,r,n,i,o,a),i.pop()}var x=void 0;function S(t){x=t}function j(){return void 0===x&&"undefined"!=typeof XMLSerializer&&(x=new XMLSerializer),x}var P=void 0;function T(t){P=t}function I(){return void 0===P&&"undefined"!=typeof document&&(P=document.implementation.createDocument("","",null)),P}},function(t,e,r){"use strict";r.d(e,"c",(function(){return a})),r.d(e,"d",(function(){return s})),r.d(e,"e",(function(){return c})),r.d(e,"f",(function(){return l})),r.d(e,"g",(function(){return u})),r.d(e,"h",(function(){return h})),r.d(e,"i",(function(){return f})),r.d(e,"j",(function(){return p})),r.d(e,"k",(function(){return d})),r.d(e,"l",(function(){return m})),r.d(e,"m",(function(){return y})),r.d(e,"n",(function(){return g})),r.d(e,"o",(function(){return _})),r.d(e,"p",(function(){return b})),r.d(e,"q",(function(){return v})),r.d(e,"b",(function(){return O})),r.d(e,"r",(function(){return w})),r.d(e,"s",(function(){return M})),r.d(e,"t",(function(){return x})),r.d(e,"u",(function(){return j})),r.d(e,"v",(function(){return P})),r.d(e,"w",(function(){return T})),r.d(e,"x",(function(){return I})),r.d(e,"y",(function(){return L})),r.d(e,"z",(function(){return R})),r.d(e,"A",(function(){return C})),r.d(e,"B",(function(){return A})),r.d(e,"C",(function(){return k})),r.d(e,"D",(function(){return N})),r.d(e,"E",(function(){return D})),r.d(e,"F",(function(){return F})),r.d(e,"G",(function(){return B})),r.d(e,"H",(function(){return U})),r.d(e,"J",(function(){return G})),r.d(e,"K",(function(){return z})),r.d(e,"L",(function(){return W})),r.d(e,"I",(function(){return X})),r.d(e,"a",(function(){return q})),r.d(e,"M",(function(){return V}));var n=r(19),i=r(245),o=r(98);function a(t){for(var e=d(),r=0,n=t.length;r<n;++r)M(e,t[r]);return e}function s(t,e,r){return r?(r[0]=t[0]-e,r[1]=t[1]-e,r[2]=t[2]+e,r[3]=t[3]+e,r):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function c(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function l(t,e,r){var n,i;return(n=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*n+(i=r<t[1]?t[1]-r:t[3]<r?r-t[3]:0)*i}function u(t,e){return f(t,e[0],e[1])}function h(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function f(t,e,r){return t[0]<=e&&e<=t[2]&&t[1]<=r&&r<=t[3]}function p(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],s=e[0],c=e[1],l=o.a.UNKNOWN;return s<r?l|=o.a.LEFT:s>i&&(l|=o.a.RIGHT),c<n?l|=o.a.BELOW:c>a&&(l|=o.a.ABOVE),l===o.a.UNKNOWN&&(l=o.a.INTERSECTING),l}function d(){return[1/0,1/0,-1/0,-1/0]}function m(t,e,r,n,i){return i?(i[0]=t,i[1]=e,i[2]=r,i[3]=n,i):[t,e,r,n]}function y(t){return m(1/0,1/0,-1/0,-1/0,t)}function g(t,e){var r=t[0],n=t[1];return m(r,n,r,n,e)}function _(t,e){return E(y(e),t)}function b(t,e,r,n,i){return x(y(i),t,e,r,n)}function v(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function O(t,e,r){return Math.abs(t[0]-e[0])<r&&Math.abs(t[2]-e[2])<r&&Math.abs(t[1]-e[1])<r&&Math.abs(t[3]-e[3])<r}function w(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function M(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function E(t,e){for(var r=0,n=e.length;r<n;++r)M(t,e[r]);return t}function x(t,e,r,n,i){for(;r<n;r+=i)S(t,e[r],e[r+1]);return t}function S(t,e,r){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],r),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],r)}function j(t,e){var r;return(r=e(T(t)))||(r=e(I(t)))||(r=e(F(t)))?r:(r=e(D(t)))||!1}function P(t){var e=0;return G(t)||(e=B(t)*A(t)),e}function T(t){return[t[0],t[1]]}function I(t){return[t[2],t[1]]}function L(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function R(t,e){var r;return e===i.a.BOTTOM_LEFT?r=T(t):e===i.a.BOTTOM_RIGHT?r=I(t):e===i.a.TOP_LEFT?r=D(t):e===i.a.TOP_RIGHT?r=F(t):Object(n.a)(!1,13),r}function C(t,e,r,n,i){var o=e*n[0]/2,a=e*n[1]/2,s=Math.cos(r),c=Math.sin(r),l=o*s,u=o*c,h=a*s,f=a*c,p=t[0],d=t[1],y=p-l+f,g=p-l-f,_=p+l-f,b=p+l+f,v=d-u-h,O=d-u+h,w=d+u+h,M=d+u-h;return m(Math.min(y,g,_,b),Math.min(v,O,w,M),Math.max(y,g,_,b),Math.max(v,O,w,M),i)}function A(t){return t[3]-t[1]}function k(t,e,r){var n=r||[1/0,1/0,-1/0,-1/0];return U(t,e)?(t[0]>e[0]?n[0]=t[0]:n[0]=e[0],t[1]>e[1]?n[1]=t[1]:n[1]=e[1],t[2]<e[2]?n[2]=t[2]:n[2]=e[2],t[3]<e[3]?n[3]=t[3]:n[3]=e[3]):y(n),n}function N(t){return[t[2]-t[0],t[3]-t[1]]}function D(t){return[t[0],t[3]]}function F(t){return[t[2],t[3]]}function B(t){return t[2]-t[0]}function U(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function G(t){return t[2]<t[0]||t[3]<t[1]}function z(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function W(t,e){var r=(t[2]-t[0])/2*(e-1),n=(t[3]-t[1])/2*(e-1);t[0]-=r,t[2]+=r,t[1]-=n,t[3]+=n}function X(t,e,r){var n=!1,i=p(t,e),a=p(t,r);if(i===o.a.INTERSECTING||a===o.a.INTERSECTING)n=!0;else{var s=t[0],c=t[1],l=t[2],u=t[3],h=e[0],f=e[1],d=r[0],m=r[1],y=(m-f)/(d-h),g=void 0,_=void 0;a&o.a.ABOVE&&!(i&o.a.ABOVE)&&(n=(g=d-(m-u)/y)>=s&&g<=l),n||!(a&o.a.RIGHT)||i&o.a.RIGHT||(n=(_=m-(d-l)*y)>=c&&_<=u),n||!(a&o.a.BELOW)||i&o.a.BELOW||(n=(g=d-(m-c)/y)>=s&&g<=l),n||!(a&o.a.LEFT)||i&o.a.LEFT||(n=(_=m-(d-s)*y)>=c&&_<=u)}return n}function q(t,e,r,n){var i=[];if(n>1)for(var o=t[2]-t[0],a=t[3]-t[1],s=0;s<n;++s)i.push(t[0]+o*s/n,t[1],t[2],t[1]+a*s/n,t[2]-o*s/n,t[3],t[0],t[3]-a*s/n);else i=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(i,i,2);for(var c=[],l=[],u=(s=0,i.length);s<u;s+=2)c.push(i[s]),l.push(i[s+1]);return function(t,e,r){return m(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),r)}(c,l,r)}function V(t,e){var r=e.getExtent(),n=L(t);if(e.canWrapX()&&(n[0]<r[0]||n[0]>=r[2])){var i=B(r),o=Math.floor((n[0]-r[0])/i)*i;t[0]-=o,t[2]-=o}return t}},function(t,e,r){"use strict";e.a=function(t){throw t}},function(t,e,r){"use strict";r.d(e,"a",(function(){return c.a})),r.d(e,"o",(function(){return x})),r.d(e,"d",(function(){return S})),r.d(e,"j",(function(){return j})),r.d(e,"k",(function(){return P})),r.d(e,"c",(function(){return T})),r.d(e,"e",(function(){return I})),r.d(e,"b",(function(){return R})),r.d(e,"g",(function(){return C})),r.d(e,"p",(function(){return A})),r.d(e,"f",(function(){return k})),r.d(e,"m",(function(){return N})),r.d(e,"l",(function(){return D})),r.d(e,"s",(function(){return F})),r.d(e,"t",(function(){return B})),r.d(e,"n",(function(){return X})),r.d(e,"q",(function(){return q})),r.d(e,"h",(function(){return V})),r.d(e,"r",(function(){return Y})),r.d(e,"i",(function(){return Z}));var n,i=r(201),o=r(2),a=r(14),s=r(116),c=r(55),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),u=6378137*Math.PI,h=[-u,-u,u,u],f=[-180,-85,180,85],p=function(t){function e(e){return t.call(this,{code:e,units:c.b.METERS,extent:h,global:!0,worldExtent:f,getPointResolution:function(t,e){return t/Object(a.b)(e[1]/6378137)}})||this}return l(e,t),e}(s.a),d=[new p("EPSG:3857"),new p("EPSG:102100"),new p("EPSG:102113"),new p("EPSG:900913"),new p("urn:ogc:def:crs:EPSG:6.18:3:3857"),new p("urn:ogc:def:crs:EPSG::3857"),new p("http://www.opengis.net/gml/srs/epsg.xml#3857")];function m(t,e,r){var n=t.length,i=r>1?r:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(n));for(var a=u,s=0;s<n;s+=i){o[s]=a*t[s]/180;var c=6378137*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));c>a?c=a:c<-a&&(c=-a),o[s+1]=c}return o}function y(t,e,r){var n=t.length,i=r>1?r:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(n));for(var a=0;a<n;a+=i)o[a]=180*t[a]/u,o[a+1]=360*Math.atan(Math.exp(t[a+1]/6378137))/Math.PI-90;return o}var g=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),_=[-180,-90,180,90],b=6378137*Math.PI/180,v=function(t){function e(e,r){return t.call(this,{code:e,units:c.b.DEGREES,extent:_,axisOrientation:r,global:!0,metersPerUnit:b,worldExtent:_})||this}return g(e,t),e}(s.a),O=[new v("CRS:84"),new v("EPSG:4326","neu"),new v("urn:ogc:def:crs:EPSG::4326","neu"),new v("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new v("urn:ogc:def:crs:OGC:1.3:CRS84"),new v("urn:ogc:def:crs:OGC:2:84"),new v("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new v("urn:x-ogc:def:crs:EPSG:4326","neu")],w=r(170),M={};function E(t,e,r){var n;if(void 0!==e){for(var i=0,o=t.length;i<o;++i)e[i]=t[i];n=e}else n=t.slice();return n}function x(t,e,r){if(void 0!==e&&t!==e){for(var n=0,i=t.length;n<i;++n)e[n]=t[n];t=e}return t}function S(t){!function(t,e){M[t]=e}(t.getCode(),t),Object(w.a)(t,t,E)}function j(t){return"string"==typeof t?M[t]||null:t||null}function P(t,e,r,n){var o,a=(t=j(t)).getPointResolutionFunc();if(a)o=a(e,r),n&&n!==t.getUnits()&&(s=t.getMetersPerUnit())&&(o=o*s/c.a[n]);else if(t.getUnits()==c.b.DEGREES&&!n||n==c.b.DEGREES)o=e;else{var s,l=N(t,j("EPSG:4326")),u=[r[0]-e/2,r[1],r[0]+e/2,r[1],r[0],r[1]-e/2,r[0],r[1]+e/2];u=l(u,u,2),o=(Object(i.b)(u.slice(0,2),u.slice(2,4))+Object(i.b)(u.slice(4,6),u.slice(6,8)))/2,void 0!==(s=n?c.a[n]:t.getMetersPerUnit())&&(o/=s)}return o}function T(t){!function(t){t.forEach(S)}(t),t.forEach((function(e){t.forEach((function(t){e!==t&&Object(w.a)(e,t,E)}))}))}function I(t,e){return t?"string"==typeof t?j(t):t:j(e)}function L(t){return function(e,r,n){for(var i=e.length,o=void 0!==n?n:2,a=void 0!==r?r:new Array(i),s=0;s<i;s+=o){var c=t([e[s],e[s+1]]);a[s]=c[0],a[s+1]=c[1];for(var l=o-1;l>=2;--l)a[s+l]=e[s+l]}return a}}function R(t,e,r,n){var i=j(t),o=j(e);Object(w.a)(i,o,L(r)),Object(w.a)(o,i,L(n))}function C(t,e){return F(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function A(t,e){var r=F(t,void 0!==e?e:"EPSG:3857","EPSG:4326"),n=r[0];return(n<-180||n>180)&&(r[0]=Object(a.d)(n+180,360)-180),r}function k(t,e){if(t===e)return!0;var r=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||N(t,e)===E)&&r}function N(t,e){var r=t.getCode(),n=e.getCode(),i=Object(w.c)(r,n);return i||(i=x),i}function D(t,e){return N(j(t),j(e))}function F(t,e,r){return D(e,r)(t,void 0,t.length)}function B(t,e,r,n){var i=D(e,r);return Object(o.a)(t,i,void 0,n)}var U,G,z,W=null;function X(){return W}function q(t,e){return W?F(t,e,W):t}function V(t,e){return W?F(t,W,e):t}function Y(t,e){return W?B(t,e,W):t}function Z(t,e){return W?B(t,W,e):t}T(d),T(O),U=d,G=m,z=y,O.forEach((function(t){U.forEach((function(e){Object(w.a)(t,e,G),Object(w.a)(e,t,z)}))}))},function(t,e,r){"use strict";var n=r(25),i=r(76),o=r(0),a=r(178),s=r(68);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==c(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===c(o)?o:String(o)),n)}var i,o}function h(t,e){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p(this,r)}}function p(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(p,t);var e,r,a,c=f(p);function p(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(this,p),(t=c.call(this,e)).updateFacadeOptions(e),t}return e=p,a=[{key:"getValue",value:function(t,e,r){var a=/^\{\{([^}]+)\}\}$/,c=t;if(a.test(t)||Object(o.U)(t))if(e instanceof n.a||e instanceof i.a){var l=s.a.olFeature2Facade(e,!1);if(a.test(t)){var u=t.replace(a,"$1");c=l.getAttribute(u)}else if(Object(o.U)(t)){var h;Object(o.X)(r)||(h=r.getImpl().getMap()),c=t(l,h)}}else c=void 0;return Object(o.X)(c)&&(c=void 0),c}}],(r=[{key:"olStyleFn",get:function(){return this.olStyleFn_}},{key:"applyToLayer",value:function(t){this.layer_=t;var e=t.getImpl().getOL3Layer();Object(o.X)(e)||e.setStyle(this.olStyleFn_)}},{key:"applyToFeature",value:function(t){t.getImpl().getOLFeature().setStyle(this.olStyleFn_)}}])&&u(e.prototype,r),a&&u(e,a),Object.defineProperty(e,"prototype",{writable:!1}),p}(a.a);e.a=m},function(t,e,r){"use strict";r.d(e,"b",(function(){return s})),r.d(e,"a",(function(){return c})),r.d(e,"d",(function(){return l})),r.d(e,"e",(function(){return u})),r.d(e,"f",(function(){return h})),r.d(e,"c",(function(){return f}));var n=r(526),i=r(527),o=r(3),a=r(22),s={translations:{en:n,es:i},lang:"es"},c=function(t,e){s.translations[t]=e},l=function(t){return"es"===t?(s.translations[t].attributions=a.a.attributions.esAttributions,s.translations[t].backimglayer=a.a.backimglayer.esBackimglayer,s.translations[t].beautytoc=a.a.beautytoc.esBeautytoc,s.translations[t].buffer=a.a.buffer.esBuffer,s.translations[t].calendar=a.a.calendar.esCalendar,s.translations[t].comparators=a.a.comparators.esComparators,s.translations[t].comparepanel=a.a.comparepanel.esComparepanel,s.translations[t].contactlink=a.a.contactlink.esContactlink,s.translations[t].fulltoc=a.a.fulltoc.esFulltoc,s.translations[t].geometrydraw=a.a.geometrydraw.esGeometrydraw,s.translations[t].georefimage=a.a.georefimage.esGeorefimage,s.translations[t].georefimage2=a.a.georefimage2.esGeorefimage2,s.translations[t].help=a.a.help.esHelp,s.translations[t].iberpixcompare=a.a.iberpixcompare.esIberpixcompare,s.translations[t].ignsearch=a.a.ignsearch.esIgnsearch,s.translations[t].ignsearchlocator=a.a.ignsearchlocator.esIgnsearchlocator,s.translations[t].incicarto=a.a.incicarto.esIncicarto,s.translations[t].infocatastro=a.a.infocatastro.esInfocatastro,s.translations[t].infocoordinates=a.a.infocoordinates.esInfocoordinates,s.translations[t].information=a.a.information.esInformation,s.translations[t].lyrcompare=a.a.lyrcompare.esLyrcompare,s.translations[t].layerswitcher=a.a.layerswitcher.esLayerswitcher,s.translations[t].measurebar=a.a.measurebar.esMeasurebar,s.translations[t].mirrorpanel=a.a.mirrorpanel.esMirrorpanel,s.translations[t].mousesrs=a.a.mousesrs.esMousesrs,s.translations[t].popup=a.a.popup.esPopup,s.translations[t].predefinedzoom=a.a.predefinedzoom.esPredefinedzoom,s.translations[t].printermap=a.a.printermap.esPrintermap,s.translations[t].printviewmanagement=a.a.printviewmanagement.esPrintviewmanagement,s.translations[t].queryattributes=a.a.queryattributes.esQueryattributes,s.translations[t].rescale=a.a.rescale.esRescale,s.translations[t].selectiondraw=a.a.selectiondraw.esSelectiondraw,s.translations[t].selectionzoom=a.a.selectionzoom.esSelectionzoom,s.translations[t].sharemap=a.a.sharemap.esSharemap,s.translations[t].stylemanager=a.a.stylemanager.esStylemanager,s.translations[t].timeline=a.a.timeline.esTimeline,s.translations[t].toc=a.a.toc.esToc,s.translations[t].topographicprofile=a.a.topographicprofile.esTopographicprofile,s.translations[t].transparency=a.a.transparency.esTransparency,s.translations[t].vectors=a.a.vectors.esVectors,s.translations[t].viewhistory=a.a.viewhistory.esViewhistory,s.translations[t].xylocator=a.a.xylocator.esXylocator,s.translations[t].zoomextent=a.a.zoomextent.esZoomextent,s.translations[t].zoompanel=a.a.zoompanel.esZoompanel,s.translations[t].viewshed=a.a.viewshed.esViewshed,s.translations[t].viewmanagement=a.a.viewmanagement.esViewmanagement,s.translations[t].locator=a.a.locator.esLocator,s.translations[t].locatorscn=a.a.locatorscn.esLocatorscn,s.translations[t].vectorsmanagement=a.a.vectorsmanagement.esVectorsmanagement):"en"===t&&(s.translations[t].attributions=a.a.attributions.enAttributions,s.translations[t].backimglayer=a.a.backimglayer.enBackimglayer,s.translations[t].beautytoc=a.a.beautytoc.enBeautytoc,s.translations[t].buffer=a.a.buffer.enBuffer,s.translations[t].calendar=a.a.calendar.enCalendar,s.translations[t].comparators=a.a.comparators.enComparators,s.translations[t].comparepanel=a.a.comparepanel.enComparepanel,s.translations[t].contactlink=a.a.contactlink.enContactlink,s.translations[t].fulltoc=a.a.fulltoc.enFulltoc,s.translations[t].geometrydraw=a.a.geometrydraw.enGeometrydraw,s.translations[t].georefimage=a.a.georefimage.enGeorefimage,s.translations[t].georefimage2=a.a.georefimage2.enGeorefimage2,s.translations[t].help=a.a.help.enHelp,s.translations[t].iberpixcompare=a.a.iberpixcompare.enIberpixcompare,s.translations[t].ignsearch=a.a.ignsearch.enIgnsearch,s.translations[t].ignsearchlocator=a.a.ignsearchlocator.enIgnsearchlocator,s.translations[t].incicarto=a.a.incicarto.enIncicarto,s.translations[t].infocatastro=a.a.infocatastro.enInfocatastro,s.translations[t].infocoordinates=a.a.infocoordinates.enInfocoordinates,s.translations[t].information=a.a.information.enInformation,s.translations[t].lyrcompare=a.a.lyrcompare.enLyrcompare,s.translations[t].layerswitcher=a.a.layerswitcher.enLayerswitcher,s.translations[t].measurebar=a.a.measurebar.enMeasurebar,s.translations[t].mirrorpanel=a.a.mirrorpanel.enMirrorpanel,s.translations[t].mousesrs=a.a.mousesrs.enMousesrs,s.translations[t].popup=a.a.popup.enPopup,s.translations[t].predefinedzoom=a.a.predefinedzoom.enPredefinedzoom,s.translations[t].printermap=a.a.printermap.enPrintermap,s.translations[t].rescale=a.a.rescale.enRescale,s.translations[t].selectiondraw=a.a.selectiondraw.enSelectiondraw,s.translations[t].queryattributes=a.a.queryattributes.enQueryattributes,s.translations[t].selectionzoom=a.a.selectionzoom.enSelectionzoom,s.translations[t].sharemap=a.a.sharemap.enSharemap,s.translations[t].stylemanager=a.a.stylemanager.enStylemanager,s.translations[t].timeline=a.a.timeline.enTimeline,s.translations[t].toc=a.a.toc.enToc,s.translations[t].topographicprofile=a.a.topographicprofile.enTopographicprofile,s.translations[t].transparency=a.a.transparency.enTransparency,s.translations[t].vectors=a.a.vectors.enVectors,s.translations[t].viewhistory=a.a.viewhistory.enViewhistory,s.translations[t].xylocator=a.a.xylocator.enXylocator,s.translations[t].zoomextent=a.a.zoomextent.enZoomextent,s.translations[t].zoompanel=a.a.zoompanel.enZoompanel,s.translations[t].viewshed=a.a.viewshed.enViewshed,s.translations[t].viewmanagement=a.a.viewmanagement.enViewmanagement,s.translations[t].locator=a.a.locator.enLocator,s.translations[t].locatorscn=a.a.locatorscn.enLocatorscn,s.translations[t].vectorsmanagement=a.a.vectorsmanagement.enVectorsmanagement),s.translations[t]},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.lang;return l(e)[t]},h=function(t){Object.keys(s.translations).includes(t)||Object(o.a)(u("exception").unsupported_lang),s.lang=t},f=function(){return s.lang}},function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return a})),r.d(e,"c",(function(){return s})),r.d(e,"d",(function(){return c})),r.d(e,"e",(function(){return l})),r.d(e,"f",(function(){return u})),r.d(e,"g",(function(){return h})),r.d(e,"h",(function(){return f})),r.d(e,"i",(function(){return p})),r.d(e,"j",(function(){return d})),r.d(e,"k",(function(){return m})),r.d(e,"l",(function(){return y})),r.d(e,"m",(function(){return g})),r.d(e,"n",(function(){return _}));var n=r(1),i=r(149);function o(t){return a(Object(n.d)(t,!1))}function a(t){var e=/^\s*(true|1)|(false|0)\s*$/.exec(t);return e?void 0!==e[1]||!1:void 0}function s(t){var e=Object(n.d)(t,!1),r=Date.parse(e);return isNaN(r)?void 0:r/1e3}function c(t){return l(Object(n.d)(t,!1))}function l(t){var e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);return e?parseFloat(e[1]):void 0}function u(t){return h(Object(n.d)(t,!1))}function h(t){var e=/^\s*(\d+)\s*$/.exec(t);return e?parseInt(e[1],10):void 0}function f(t){return Object(n.d)(t,!1).trim()}function p(t,e){_(t,e?"1":"0")}function d(t,e){t.appendChild(Object(n.f)().createCDATASection(e))}function m(t,e){var r=new Date(1e3*e),o=r.getUTCFullYear()+"-"+Object(i.b)(r.getUTCMonth()+1,2)+"-"+Object(i.b)(r.getUTCDate(),2)+"T"+Object(i.b)(r.getUTCHours(),2)+":"+Object(i.b)(r.getUTCMinutes(),2)+":"+Object(i.b)(r.getUTCSeconds(),2)+"Z";t.appendChild(Object(n.f)().createTextNode(o))}function y(t,e){var r=e.toPrecision();t.appendChild(Object(n.f)().createTextNode(r))}function g(t,e){var r=e.toString();t.appendChild(Object(n.f)().createTextNode(r))}function _(t,e){t.appendChild(Object(n.f)().createTextNode(e))}},function(t,e,r){"use strict";e.a={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},function(t,e,r){"use strict";r.d(e,"i",(function(){return n})),r.d(e,"j",(function(){return i})),r.d(e,"c",(function(){return o})),r.d(e,"b",(function(){return a})),r.d(e,"m",(function(){return s})),r.d(e,"l",(function(){return c})),r.d(e,"k",(function(){return l})),r.d(e,"d",(function(){return u})),r.d(e,"e",(function(){return h})),r.d(e,"o",(function(){return f})),r.d(e,"h",(function(){return p})),r.d(e,"g",(function(){return d})),r.d(e,"f",(function(){return m})),r.d(e,"E",(function(){return y})),r.d(e,"D",(function(){return g})),r.d(e,"n",(function(){return _})),r.d(e,"a",(function(){return b})),r.d(e,"v",(function(){return v})),r.d(e,"G",(function(){return O})),r.d(e,"x",(function(){return w})),r.d(e,"w",(function(){return M})),r.d(e,"F",(function(){return E})),r.d(e,"H",(function(){return x})),r.d(e,"y",(function(){return S})),r.d(e,"z",(function(){return j})),r.d(e,"A",(function(){return P})),r.d(e,"u",(function(){return T})),r.d(e,"p",(function(){return I})),r.d(e,"q",(function(){return L})),r.d(e,"r",(function(){return R})),r.d(e,"s",(function(){return C})),r.d(e,"t",(function(){return A})),r.d(e,"B",(function(){return k})),r.d(e,"C",(function(){return N}));var n="added:map",i="added:panel",o="added:layer",a="added:kml",s="added:wms",c="added:wfs",l="added:vectortile",u="added:mbtiles",h="added:mbtilesvector",f="added:xyz",p="added:tms",d="added:quicklayers",m="added:ogcapifeatures",y="removed:layer",g="removed:map",_="added:wmts",b="activated",v="deactivated",O="show",w="hide",M="destroy",E="select:features",x="unselect:features",S="hover:features",j="leave:features",P="load",T="completed",I="change",L="change:proj",R="change:style",C="change:zoom",A="click",k="move",N="movemouse"},function(t,e,r){"use strict";function n(){return function(){throw new Error("Unimplemented abstract method.")}()}r.d(e,"b",(function(){return n})),r.d(e,"c",(function(){return o})),r.d(e,"a",(function(){return a}));var i=0;function o(t){return t.ol_uid||(t.ol_uid=String(++i))}var a="6.3.1"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return center})),__webpack_require__.d(__webpack_exports__,"jb",(function(){return getType})),__webpack_require__.d(__webpack_exports__,"Db",(function(){return maxExtent})),__webpack_require__.d(__webpack_exports__,"Kb",(function(){return projection})),__webpack_require__.d(__webpack_exports__,"Lb",(function(){return resolutions})),__webpack_require__.d(__webpack_exports__,"Rb",(function(){return zoom})),__webpack_require__.d(__webpack_exports__,"Hb",(function(){return minZoom})),__webpack_require__.d(__webpack_exports__,"Eb",(function(){return maxZoom})),__webpack_require__.d(__webpack_exports__,"E",(function(){return getNameKML})),__webpack_require__.d(__webpack_exports__,"j",(function(){return getExtractKML})),__webpack_require__.d(__webpack_exports__,"q",(function(){return getLabelKML})),__webpack_require__.d(__webpack_exports__,"wb",(function(){return getVisibilityKML})),__webpack_require__.d(__webpack_exports__,"s",(function(){return getLegendKML})),__webpack_require__.d(__webpack_exports__,"lb",(function(){return getURLKML})),__webpack_require__.d(__webpack_exports__,"Bb",(function(){return kml})),__webpack_require__.d(__webpack_exports__,"J",(function(){return getNameWFS})),__webpack_require__.d(__webpack_exports__,"pb",(function(){return getURLWFS})),__webpack_require__.d(__webpack_exports__,"N",(function(){return getNamespaceWFS})),__webpack_require__.d(__webpack_exports__,"w",(function(){return getLegendWFS})),__webpack_require__.d(__webpack_exports__,"d",(function(){return getCQLWFS})),__webpack_require__.d(__webpack_exports__,"o",(function(){return getGeometryWFS})),__webpack_require__.d(__webpack_exports__,"p",(function(){return getIdsWFS})),__webpack_require__.d(__webpack_exports__,"ab",(function(){return getStyleWFS})),__webpack_require__.d(__webpack_exports__,"ub",(function(){return getVersionWFS})),__webpack_require__.d(__webpack_exports__,"m",(function(){return getExtractWFS})),__webpack_require__.d(__webpack_exports__,"P",(function(){return getOptionsWFS})),__webpack_require__.d(__webpack_exports__,"Nb",(function(){return wfs})),__webpack_require__.d(__webpack_exports__,"r",(function(){return getLegendGeoJSON})),__webpack_require__.d(__webpack_exports__,"kb",(function(){return getURLGeoJSON})),__webpack_require__.d(__webpack_exports__,"U",(function(){return getSourceGeoJSON})),__webpack_require__.d(__webpack_exports__,"i",(function(){return getExtractGeoJSON})),__webpack_require__.d(__webpack_exports__,"X",(function(){return getStyleGeoJSON})),__webpack_require__.d(__webpack_exports__,"c",(function(){return geojson})),__webpack_require__.d(__webpack_exports__,"ob",(function(){return getURLMVT})),__webpack_require__.d(__webpack_exports__,"H",(function(){return getNameMVT})),__webpack_require__.d(__webpack_exports__,"v",(function(){return getLegendMVT})),__webpack_require__.d(__webpack_exports__,"Ib",(function(){return mvt})),__webpack_require__.d(__webpack_exports__,"K",(function(){return getNameWMS})),__webpack_require__.d(__webpack_exports__,"qb",(function(){return getURLWMS})),__webpack_require__.d(__webpack_exports__,"x",(function(){return getLegendWMS})),__webpack_require__.d(__webpack_exports__,"hb",(function(){return getTransparentWMS})),__webpack_require__.d(__webpack_exports__,"fb",(function(){return getTiledWMS})),__webpack_require__.d(__webpack_exports__,"C",(function(){return getMaxExtentWMS})),__webpack_require__.d(__webpack_exports__,"vb",(function(){return getVersionWMS})),__webpack_require__.d(__webpack_exports__,"Q",(function(){return getOptionsWMS})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getDisplayInLayerSwitcherWMS})),__webpack_require__.d(__webpack_exports__,"S",(function(){return getQueryableWMS})),__webpack_require__.d(__webpack_exports__,"zb",(function(){return getVisibilityWMS})),__webpack_require__.d(__webpack_exports__,"tb",(function(){return getUseCapabilitiesWMS})),__webpack_require__.d(__webpack_exports__,"Ob",(function(){return wms})),__webpack_require__.d(__webpack_exports__,"L",(function(){return getNameWMTS})),__webpack_require__.d(__webpack_exports__,"rb",(function(){return getURLWMTS})),__webpack_require__.d(__webpack_exports__,"z",(function(){return getMatrixSetWMTS})),__webpack_require__.d(__webpack_exports__,"y",(function(){return getLegendWMTS})),__webpack_require__.d(__webpack_exports__,"R",(function(){return getOptionsWMTS})),__webpack_require__.d(__webpack_exports__,"ib",(function(){return getTransparentWMTS})),__webpack_require__.d(__webpack_exports__,"n",(function(){return getFormatWMTS})),__webpack_require__.d(__webpack_exports__,"g",(function(){return getDisplayInLayerSwitcherWMTS})),__webpack_require__.d(__webpack_exports__,"T",(function(){return getQueryableWMTS})),__webpack_require__.d(__webpack_exports__,"Ab",(function(){return getVisibilityWMTS})),__webpack_require__.d(__webpack_exports__,"M",(function(){return getNameXYZ})),__webpack_require__.d(__webpack_exports__,"sb",(function(){return getURLXYZSource})),__webpack_require__.d(__webpack_exports__,"h",(function(){return getExtraParameter})),__webpack_require__.d(__webpack_exports__,"Qb",(function(){return xyz})),__webpack_require__.d(__webpack_exports__,"I",(function(){return getNameTMS})),__webpack_require__.d(__webpack_exports__,"Mb",(function(){return tms})),__webpack_require__.d(__webpack_exports__,"Pb",(function(){return wmts})),__webpack_require__.d(__webpack_exports__,"t",(function(){return getLegendMBTiles})),__webpack_require__.d(__webpack_exports__,"mb",(function(){return getURLMBTiles})),__webpack_require__.d(__webpack_exports__,"V",(function(){return getSourceMBTiles})),__webpack_require__.d(__webpack_exports__,"bb",(function(){return getTileLoadFunctionMBTiles})),__webpack_require__.d(__webpack_exports__,"F",(function(){return getNameMBTiles})),__webpack_require__.d(__webpack_exports__,"gb",(function(){return getTransparentMBTiles})),__webpack_require__.d(__webpack_exports__,"xb",(function(){return getVisibilityMBTiles})),__webpack_require__.d(__webpack_exports__,"O",(function(){return getOpacityMBTiles})),__webpack_require__.d(__webpack_exports__,"D",(function(){return getMaxZoomLevelMBTiles})),__webpack_require__.d(__webpack_exports__,"A",(function(){return getMaxExtentMBTiles})),__webpack_require__.d(__webpack_exports__,"db",(function(){return getTileSizeMBTiles})),__webpack_require__.d(__webpack_exports__,"Fb",(function(){return mbtiles})),__webpack_require__.d(__webpack_exports__,"u",(function(){return getLegendMBTilesVector})),__webpack_require__.d(__webpack_exports__,"nb",(function(){return getURLMBTilesVector})),__webpack_require__.d(__webpack_exports__,"W",(function(){return getSourceMBTilesVector})),__webpack_require__.d(__webpack_exports__,"cb",(function(){return getTileLoadFunctionMBTilesVector})),__webpack_require__.d(__webpack_exports__,"G",(function(){return getNameMBTilesVector})),__webpack_require__.d(__webpack_exports__,"yb",(function(){return getVisibilityMBTilesVector})),__webpack_require__.d(__webpack_exports__,"B",(function(){return getMaxExtentMBTilesVector})),__webpack_require__.d(__webpack_exports__,"eb",(function(){return getTileSizeMBTilesVector})),__webpack_require__.d(__webpack_exports__,"Y",(function(){return getStyleMBTilesVector})),__webpack_require__.d(__webpack_exports__,"k",(function(){return getExtractMBTilesVector})),__webpack_require__.d(__webpack_exports__,"Gb",(function(){return mbtilesvector})),__webpack_require__.d(__webpack_exports__,"Z",(function(){return getStyleOGC})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getConditionalOGC})),__webpack_require__.d(__webpack_exports__,"l",(function(){return getExtractOGC})),__webpack_require__.d(__webpack_exports__,"Jb",(function(){return ogcapifeatures})),__webpack_require__.d(__webpack_exports__,"Cb",(function(){return layer}));var _util_Utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_exception_exception__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_layer_Type__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(12),_layer_Layer__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(51),_i18n_language__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6);function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach((function(e){_defineProperty(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function _defineProperty(t,e,r){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _iterableToArrayLimit(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var center=function(t){var e=t,r={};if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(e)&&Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").no_center),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(e))if(e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.db)(e),/^-?\d+(\.\d+)?[,;]-?\d+(\.\d+)?([*](true|false))?$/i.test(e)){var n=e.split(/\*/),i=n[0],o=n[1],a=i.split(/[,;]+/);2===a.length?(r.x=Number.parseFloat(a[0]),r.y=Number.parseFloat(a[1])):Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").invalid_center_param),r.draw=/^1|(true)$/i.test(o)}else Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").invalid_center_param);else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.R)(e)?2===e.length||3===e.length?(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(e[0])&&(e[0]=Number.parseFloat(e[0])),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(e[1])&&(e[1]=Number.parseFloat(e[1])),r.x=e[0],r.y=e[1]):Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").invalid_center_param):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(e)?(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.W)(e.x)?Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").invalid_center_param):(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(e.x)&&(e.x=Number.parseFloat(e.x)),r.x=e.x),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.W)(e.y)?Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").invalid_center_param):(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(e.y)&&(e.y=Number.parseFloat(e.y)),r.y=e.y),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.W)(e.draw)?r.draw=!1:r.draw=/^true$/.test(e.draw)):Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat("undefined"==typeof maxExtentParameter?"undefined":_typeof(maxExtentParameter)));return(Number.isNaN(r.x)||Number.isNaN(r.y))&&Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").invalid_center_param),r},getParameters=function(t){var e=_slicedToArray(t.split(/\*/),6),r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5];return{type:r,name:n,legend:i,url:o,visibility:void 0===a?void 0:"true"===a,transparent:"true"===(void 0!==s&&s)}},getType=function(t,e){var r;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t))if(/^\s*osm\s*$/i.test(t))r=_layer_Type__WEBPACK_IMPORTED_MODULE_2__.OSM;else{var n=t.match(/^(\w+)\*.+$/);n&&n.length>1&&(r=_layer_Type__WEBPACK_IMPORTED_MODULE_2__.parse(n[1]),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.ab)(r)&&Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("No se reconoce el tipo de capa ".concat(n[1]))),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.ab)(r)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(e)?r=e:Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.ab)(r)&&Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("No se reconoce el tipo de capa ".concat(r))}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.type)||(r=_layer_Type__WEBPACK_IMPORTED_MODULE_2__.parse(t.type),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.ab)(r)&&Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("No se reconoce el tipo de capa ".concat(r))):Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(r)||Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(e)||r===e||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El tipo de la capa (".concat(r).concat(") no era el esperado (").concat(e).concat(")")),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(r)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(e)&&(r=e),r},maxExtent=function(t){var e,r=t;if(!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(r)){if(e={x:{},y:{}},Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(r)&&Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").no_maxextent),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(r))if(/^\s*-?\d+(\.\d+)?\s*[,;]\s*-?\d+(\.\d+)?\s*[,;]\s*-?\d+(\.\d+)?\s*[,;]\s*-?\d+(\.\d+)?$/.test(r)){var n=r.split(/[,;]+/);4===n.length?(e.x.min=Number.parseFloat(n[0]),e.y.min=Number.parseFloat(n[1]),e.x.max=Number.parseFloat(n[2]),e.y.max=Number.parseFloat(n[3])):Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").invalid_maxextent_param)}else Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").invalid_maxextent_param);else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.R)(r)?4===r.length?(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(r[0])&&(r[0]=Number.parseFloat(r[0])),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(r[1])&&(r[1]=Number.parseFloat(r[1])),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(r[2])&&(r[2]=Number.parseFloat(r[2])),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(r[3])&&(r[3]=Number.parseFloat(r[3])),e.x.min=r[0],e.y.min=r[1],e.x.max=r[2],e.y.max=r[3]):Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").invalid_maxextent_param):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(r)?(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.W)(r.left)?Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.W)(r.x.min)?Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").invalid_maxextent_param):(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(r.x.min)&&(r.x.min=Number.parseFloat(r.x.min)),e.x.min=r.x.min):(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(r.left)&&(r.left=Number.parseFloat(r.left)),e.x.min=r.left),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.W)(r.bottom)?Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.W)(r.y.min)?Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").invalid_maxextent_param):(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(r.y.min)&&(r.y.min=Number.parseFloat(r.y.min)),e.y.min=r.y.min):(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(r.bottom)&&(r.bottom=Number.parseFloat(r.bottom)),e.y.min=r.bottom),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.W)(r.right)?Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.W)(r.x.max)?Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").invalid_maxextent_param):(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(r.x.max)&&(r.x.max=Number.parseFloat(r.x.max)),e.x.max=r.x.max):(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(r.right)&&(r.right=Number.parseFloat(r.right)),e.x.max=r.right),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.W)(r.top)?Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.W)(r.y.max)?Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").invalid_maxextent_param):(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(r.y.max)&&(r.y.max=Number.parseFloat(r.y.max)),e.y.max=r.y.max):(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(r.top)&&(r.top=Number.parseFloat(r.top)),e.y.max=r.top)):Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(r)));(Number.isNaN(e.x.min)||Number.isNaN(e.y.min)||Number.isNaN(e.x.max)||Number.isNaN(e.y.max))&&Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").invalid_maxextent_param)}return e},projection=function(t){var e={code:null,units:null};if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t)&&Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").no_projection),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t))if(/^(EPSG:)?\d+\*((d(egrees)?)|(m(eters)?))$/i.test(t)){var r=t.split(/\*/);e.code=r[0],e.units=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.db)(r[1].substring(0,1))}else Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El formato del parmetro projection no es correcto. </br>Se usar la proyeccin por defecto: ".concat(M.config.DEFAULT_PROJ));else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.W)(t.code)||Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.W)(t.units)?Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El formato del parmetro projection no es correcto. </br>Se usar la proyeccin por defecto: ".concat(M.config.DEFAULT_PROJ)):(e.code=t.code,e.units=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.db)(t.units.substring(0,1))):Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return"m"!==e.units&&"d"!==e.units&&Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)('La unidad "'.concat(t.units,'" del parmetro projection no es vlida. Las disponibles son: "m" o "d"')),e},resolutions=function(t){var e=t,r=[];Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(e)&&Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").no_resolutions),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(e)&&(/^\d+(\.\d+)?([,;]\d+(\.\d+)?)*$/.test(e)?e=e.split(/[,;]+/):Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").invalid_resolutions_param)),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.R)(e)?r=e.map((function(t){return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?Number.parseFloat(t):t})):Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(e)));for(var n=!0,i=0,o=r.length;i<o&&n;i+=1)n=!Number.isNaN(r[i]);return n||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").invalid_resolutions_param),r},zoom=function(t){var e,r=t;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(r)&&Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").no_zoom),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(r)?e=Number.parseFloat(r):"number"==typeof r?e=r:Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(r))),Number.isNaN(e)&&Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").invalid_zoom_param),e},minZoom=function(t){var e,r=t;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(r)&&Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").no_zoom),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(r)?e=Number.parseInt(r,10):"number"==typeof r?e=r:Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(r))),Number.isNaN(e)&&Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").invalid_zoom_param),e},maxZoom=function(t){var e,r=t;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(r)&&Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").no_zoom),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(r)?e=Number.parseInt(r,10):"number"==typeof r?e=r:Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(r))),Number.isNaN(e)&&Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").invalid_zoom_param),e},getNameKML=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/^KML\*.+/i.test(t)?/^KML\*[^*]+\*[^*]+(\*[^*]+)?(\*(true|false))?/i.test(t)&&(e=t.split(/\*/)[1].trim()):(/^[^*]*\*[^*]+/.test(t)||/^[^*]*/.test(t))&&(e=t.split(/\*/)[0].trim()):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.name)?e=t.name.trim():Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.bb)(e)||/^(true|false)$/i.test(e))&&(e=null),e},getExtractKML=function(t){var e,r;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/^KML\*[^*]+\*[^*]+(\*[^*]+)?(\*(true|false))?/i.test(t)?e=(r=t.split(/\*/))[r.length-3].trim():/^[^*]+\*[^*]+\*(true|false)$/i.test(t)?e=(r=t.split(/\*/))[2].trim():/^[^*]+\*(true|false)$/i.test(t)&&(e=(r=t.split(/\*/))[1].trim()):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.db)(t.extract):Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(e)?void 0:/^1|(true)$/i.test(e)},getLabelKML=function(t){var e,r;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?e="false"!==(e=(r=t.split(/\*/))[r.length-2].trim()):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.db)(t.label):Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),e},getVisibilityKML=function(t){var e,r;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?e="false"!==(e=(r=t.split(/\*/))[r.length-1].trim()):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.db)(t.visibility):Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),e},getLegendKML=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&(e=t.legend),e},getURLKML=function(t){var e;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t))if(/^KML\*[^*]+\*[^*]+\*[^*]+\.kml\*(true|false)$/i.test(t)){var r=t.split(/\*/);e=r[2].concat(r[3])}else{var n=t.match(/^([^*]*\*)*(https?:\/\/[^*]+)\*.*/i);n&&n.length>2&&(e=n[2])}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=t.url:Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return e},kml=function(t){var e=t,r=[];Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(e)&&Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").no_param);var n=e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.R)(n)||(n=[n]),r=n.map((function(t){var e={};return e.type=_layer_Type__WEBPACK_IMPORTED_MODULE_2__.KML,e.name=getNameKML(t),e.url=getURLKML(t),e.extract=getExtractKML(t),e.label=getLabelKML(t),e.visibility=getVisibilityKML(t),e.legend=getLegendKML(t),e})),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.R)(e)||(r=r[0]),r},getNameWFS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/^WFS(T)?\*.+/i.test(t)?/^WFS(T)?\*[^*]*\*[^*]+\*[^*]+:[^*]+/i.test(t)||/^[^*]*\*[^*]+:[^*]+/.test(t)?e=t.split(/\*/)[3].trim().split(":")[1]:/^WFS(T)?\*[^*]*\*[^*]+[^*]+/i.test(t)&&(e=t.split(/\*/)[3].trim()):/^[^*]*\*[^*]+:[^*]+/.test(t)&&(e=t.split(/\*/)[1].trim().split(":")[1]):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.name)?e=t.name.trim():Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.bb)(e)||/^(true|false)$/i.test(e))&&(e=null),e},getURLWFS=function(t){var e;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){var r=t.match(/^([^*]*\*)*(https?:\/\/[^*]+)([^*]*\*?)*$/i);r&&r.length>2&&(e=r[2])}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=t.url:Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return e},getNamespaceWFS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/^WFS(T)?\*.+/i.test(t)?/^WFS(T)?\*[^*]*\*[^*]+\*[^*]+:[^*]+/i.test(t)&&(e=t.split(/\*/)[3].trim().split(":")[0]):/^[^*]*\*[^*]+:[^*]+/.test(t)&&(e=t.split(/\*/)[1].trim().split(":")[0]):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.namespace)?e=t.namespace.trim():Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.bb)(e)||/^(true|false)$/i.test(e))&&(e=null),e},getLegendWFS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/^WFS(T)?\*[^*]/i.test(t)?e=t.split(/\*/)[1].trim():/^[^*]+\*[^*]+:[^*]+\*[^*]+/.test(t)&&(e=t.split(/\*/)[2].trim()):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.legend)?e=t.legend.trim():Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.bb)(e)||/^(true|false)$/i.test(e))&&(e=null),e},getCQLWFS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?(/^[^*]+\*[^*]+:[^*]+\*[^*]+\*[^*]+/i.test(t)&&(e=t.split(/\*/)[3].trim()),/^WFS(T)?\*[^*]*\*[^*]+\*[^*]+:[^*]+\*[^*]+\*[^*]*\*[^*]*/i.test(t)&&(e=t.split(/\*/)[6].trim())):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.cql)||!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.ecql)?e=t.cql?t.cql.trim():t.ecql.trim():Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),(/^(true|false)$/i.test(e)||/^\d\.\d\.\d$/.test(e))&&(e=void 0),e},getGeometryWFS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/^WFS(T)?\*.+/i.test(t)&&(/^WFS(T)?\*[^*]*\*[^*]+\*[^*]+:[^*]+\*[^*]+/i.test(t)||/^WFS(T)?\*[^*]*\*[^*][^*]+\*[^*]+/i.test(t))&&(e=t.split(/\*/)[4].trim()):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.geometry)?e=t.geometry.trim():Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.bb)(e)||/^(true|false)$/i.test(e))&&(e=null),e},getIdsWFS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/^WFS(T)?\*.+/i.test(t)&&(/^WFS(T)?\*[^*]*\*[^*]+\*[^*]+:[^*]+\*[^*]+\*(.-?)+$/i.test(t)||/^WFS(T)?\*[^*]*\*[^*]+\*[^*]+\*[^*]+\*(.-?)+$/i.test(t))&&(e=t.split(/\*/)[5].trim().split("-")):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.ids)?e=t.ids:Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.bb)(e)&&(e=null),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(e)||Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.R)(e)||(e=[e]),e},getStyleWFS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/^WFS(T)?\*.+/i.test(t)&&/^WFS(T)?\*[^*]*\*[^*]+\*[^*]+:[^*]+\*[^*]+\*[^*]*\*[^*]*\*[^*]*/i.test(t)&&(e=t.split(/\*/)[7].trim()):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.style)?e=t.style:Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),e},getVersionWFS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/(\d\.\d\.\d)$/.test(t)&&(e=t.match(/\d\.\d\.\d$/)[0]):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=t.version:Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),e},getExtractWFS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&(e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.db)(t.extract)),e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(e)?void 0:/^1|(true)$/i.test(e)},getOptionsWFS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)||(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=t.options:Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)))),e},wfs=function(t){var e=[];Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t)&&Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").no_param);var r=t;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.R)(r)||(r=[r]),e=r.map((function(e){var r={};return r.type=_layer_Type__WEBPACK_IMPORTED_MODULE_2__.WFS,r.name=getNameWFS(e),r.url=getURLWFS(e),r.namespace=getNamespaceWFS(e),r.legend=getLegendWFS(e),r.cql=getCQLWFS(e),r.geometry=getGeometryWFS(e),r.ids=getIdsWFS(e),r.version=getVersionWFS(e),r.extract=getExtractWFS(e),r.style=getStyleWFS(e),r.options=getOptionsWFS(e),r.outputFormat=t.outputFormat,r})),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.R)(t)||(e=e[0]),e},getLegendGeoJSON=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/^GeoJSON(T)?\*[^*]/i.test(t)?e=t.split(/\*/)[1].trim():/^[^*]+\*[^*]+:[^*]+\*[^*]+/.test(t)&&(e=t.split(/\*/)[2].trim()):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.legend)?e=t.legend.trim():Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.bb)(e)||/^(true|false)$/i.test(e))&&(e=null),e},getURLGeoJSON=function(t){var e;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){var r=t.match(/^([^*]*\*)*(https?:\/\/[^*]+)([^*]*\*?)*$/i);r&&r.length>2&&(e=r[2])}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=t.url:Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return e},getSourceGeoJSON=function(t){var e,r;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){if(r=t.split(/\*/),/^GeoJSON\*[^*]+\*[^*]/i.test(t)){var n=r[2];-1===n.indexOf("http")&&-1===n.indexOf("https")&&(e=n)}}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=t.source:Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return e},getExtractGeoJSON=function(t){var e,r;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/^GeoJSON\*[^*]+\*[^*]+\*[^*]*(true|false)/i.test(t)?e=t.split(/\*/)[3].trim():(r=t.split(/\*/)[3],e=!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(r)&&[r]):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.db)(t.extract):Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),e},getStyleGeoJSON=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/^GeoJSON\*[^*]+\*[^*]+\*[^*]*(true|false)+\*[^*]/i.test(t)&&(/^GeoJSON(T)?\*[^*]*\*[^*]+\*[^*]+\*[^*]*/i.test(t)||/^GeoJSON(T)?\*[^*]*\*[^*]+\*/i.test(t))&&(e=t.split(/\*/)[4].trim()):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.style)?e=t.style:Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),e},geojson=function(t){var e=[];Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t)&&Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").no_param);var r=t;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.R)(r)||(r=[r]),e=r.map((function(t){var e={};return e.type=_layer_Type__WEBPACK_IMPORTED_MODULE_2__.GeoJSON,e.name=getLegendGeoJSON(t),e.legend=getLegendGeoJSON(t),e.url=getURLGeoJSON(t),e.source=getSourceGeoJSON(t),e.extract=getExtractGeoJSON(t),e.style=getStyleGeoJSON(t),e})),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.R)(t)||(e=e[0]),e},getURLMVT=function(t){var e;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){if(/^MVT\*.+/i.test(t)){var r=t.match(/.*\*(https?:\/\/[^*]+).*/i);r&&r.length>1&&(e=r[1])}}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.url)?e=t.url.trim():Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return e},getNameMVT=function(t){var e;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){if(/^MVT\*.+/i.test(t)){var r=t.match(/.*\*(https?:\/\/[^*]+)\*([^*]+)/i);r&&r.length>2&&(e=r[2])}}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.name)?e=t.name.trim():Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return e},getLegendMVT=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.legend)&&(e=t.legend.trim()),e},mvt=function(t){var e=[];Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t)&&Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("No ha especificado ningn parmetro");var r=t;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.R)(r)||(r=[r]),e=r.map((function(t){var e={};return e.type=_layer_Type__WEBPACK_IMPORTED_MODULE_2__.MVT,e.name=getNameMVT(t),e.legend=getLegendMVT(t),e.url=getURLMVT(t),e})),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.R)(t)||(e=e[0]),e},getNameWMS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/^WMS\*.+/i.test(t)?/^WMS\*[^*]+\*[^*]+\*[^*]+/i.test(t)&&(e=t.split(/\*/)[3].trim()):/^[^*]*\*[^*]+/.test(t)?e=t.split(/\*/)[1].trim():/^[^*]*/.test(t)&&(e=t.split(/\*/)[0].trim()):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.name)?e=t.name.trim():Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.bb)(e)||/^(true|false)$/i.test(e))&&(e=null),e},getURLWMS=function(t){var e;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){var r=t.match(/^([^*]*\*)*(https?:\/\/[^*]+)([^*]*\*?)*$/i);r&&r.length>2&&(e=r[2])}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=t.url:Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return e},getLegendWMS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/^WMS\*[^*]/i.test(t)?e=t.split(/\*/)[1].trim():/^[^*]+\*[^*]+\*[^*]+/.test(t)&&(e=t.split(/\*/)[2].trim()):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.legend)?e=t.legend.trim():Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.bb)(e)||/^(true|false)$/i.test(e))&&(e=null),e},getTransparentWMS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/^WMS\*[^*]+\*[^*]+\*[^*]+\*(true|false)/i.test(t)?e=t.split(/\*/)[4].trim():/^WMS_FULL\*[^*]+(\*(true|false))?/i.test(t)?(t.split(/\*/),e=!0):/^[^*]+\*[^*]+\*[^*]+\*(true|false)/i.test(t)?e=t.split(/\*/)[3].trim():/^[^*]+\*[^*]+\*(true|false)/i.test(t)&&(e=t.split(/\*/)[2].trim()):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.db)(t.transparent):Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(e)||(e=/^1|(true)$/i.test(e)),e},getTiledWMS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/^WMS\*[^*]+\*[^*]+\*[^*]+\*(true|false)\*(true|false)/i.test(t)?e=t.split(/\*/)[5].trim():/^WMS\*[^*]+\*[^*]+\*[^*]+\*(true|false)/i.test(t)?e=!0:/^WMS_FULL\*[^*]+\*(true|false)/i.test(t)?e=t.split(/\*/)[2].trim():(/^[^*]+\*[^*]+\*[^*]+\*(true|false)\*(true|false)/i.test(t)||/^[^*]+\*[^*]+\*(true|false)\*(true|false)/i.test(t))&&t.split(/\*/):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.db)(t.tiled):Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(e)||(e=/^1|(true)$/i.test(e)),e},getMaxExtentWMS=function(t){var e;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){if(/^WMS(\*[^*]*){6}$/i.test(t))e=t.split(/\*/)[6].trim();else if(/^WMS_FULL(\*[^*]*){3}/i.test(t)){e=t.split(/\*/)[3].trim()}Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(e)||(e=e.split(/[,;]+/))}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=t.maxExtent:Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(e)||4!==e.length?Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(e)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").invalid_maxextent_param):(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(e[0])&&(e[0]=Number.parseFloat(e[0])),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(e[1])&&(e[1]=Number.parseFloat(e[1])),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(e[2])&&(e[2]=Number.parseFloat(e[2])),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(e[3])&&(e[3]=Number.parseFloat(e[3]))),e},getVersionWMS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/(\d\.\d\.\d)$/.test(t)&&(e=t.match(/\d\.\d\.\d$/)[0]):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=t.version:Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),e},getOptionsWMS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)||(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=t.options:Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)))),e},getDisplayInLayerSwitcherWMS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/^WMS\*[^*]+\*[^*]+\*[^*]+\*(true|false)\*(true|false)\*.*\*(\d\.\d\.\d)\*(true|false)/i.test(t)&&(e=t.split(/\*/)[8].trim()):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.db)(t.displayInLayerSwitcher):Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(e)||(e=/^1|(true)$/i.test(e)),e},getQueryableWMS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/^WMS\*[^*]+\*[^*]+\*[^*]+\*(true|false)\*(true|false)\*.*\*(\d\.\d\.\d)\*(true|false)\*(true|false)/i.test(t)&&(e=t.split(/\*/)[9].trim()):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.db)(t.queryable):Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(e)||(e=/^1|(true)$/i.test(e)),e},getVisibilityWMS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/^WMS\*[^*]+\*[^*]+\*[^*]+\*(true|false)\*(true|false)\*.*\*(\d\.\d\.\d)\*(true|false)\*(true|false)\*(true|false)/i.test(t)&&(e=t.split(/\*/)[10].trim()):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.db)(t.visibility):Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(e)||(e=/^1|(true)$/i.test(e)),e},getUseCapabilitiesWMS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/^WMS\*[^*]+\*[^*]+\*[^*]+\*(true|false)\*(true|false)\*.*\*(\d\.\d\.\d)\*(true|false)\*(true|false)\*(true|false)\*(true|false)/i.test(t)&&(e=t.split(/\*/)[11].trim()):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.db)(t.useCapabilities):Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(e)||(e=/^1|(true)$/i.test(e)),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.ab)(e)&&(e=!0),e},wms=function(t){var e=[];Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t)&&Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").no_param);var r=t;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.R)(r)||(r=[r]),e=r.map((function(t){var e=_layer_Type__WEBPACK_IMPORTED_MODULE_2__.WMS,r=getNameWMS(t),n=getURLWMS(t),i=getLegendWMS(t),o=getTransparentWMS(t),a=getTiledWMS(t),s=getMaxExtentWMS(t),c=getVersionWMS(t),l=getOptionsWMS(t);return{type:e,name:r,url:n,legend:i,transparent:o,tiled:a,maxExtent:s,version:c,displayInLayerSwitcher:getDisplayInLayerSwitcherWMS(t),queryable:getQueryableWMS(t),visibility:getVisibilityWMS(t),options:l,useCapabilities:getUseCapabilitiesWMS(t)}})),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.R)(t)||(e=e[0]),e},getNameWMTS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/^WMTS\*.+/i.test(t)?/^WMTS\*[^*]+\*[^*]+/i.test(t)&&(e=t.split(/\*/)[2].trim()):/^[^*]*\*[^*]+/.test(t)&&(e=t.split(/\*/)[1].trim()):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.name)?e=t.name.trim():Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.bb)(e)||/^(true|false)$/i.test(e))&&(e=null),e},getURLWMTS=function(t){var e;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){var r=t.match(/^([^*]*\*)*(https?:\/\/[^*]+)([^*]*\*?)*$/i);r&&r.length>2&&(e=r[2])}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=t.url:Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return e},getMatrixSetWMTS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/^WMTS\*[^*]+\*[^*]+\*[^*]+/i.test(t)?e=t.split(/\*/)[3].trim():/^[^*]+\*[^*]+\*[^*]+/.test(t)&&(e=t.split(/\*/)[2].trim()):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.matrixSet)?e=t.matrixSet.trim():Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.bb)(e)||/^(true|false)$/i.test(e))&&(e=null),e},getLegendWMTS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/^WMTS\*.+/i.test(t)?/^WMTS\*[^*]+\*[^*]+\*[^*]*\*[^*]+/i.test(t)&&(e=t.split(/\*/)[4].trim()):/^[^*]+\*[^*]+\*[^*]*\*[^*]+/.test(t)&&(e=t.split(/\*/)[3].trim()):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.legend)?e=t.legend.trim():Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.bb)(e)||/^(true|false)$/i.test(e))&&(e=null),e},getOptionsWMTS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)||(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=t.options:Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)))),e},getTransparentWMTS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/^WMTS\*[^*]+\*[^*]+\*[^*]*\*[^*]*\*(true|false)/i.test(t)?e=t.split(/\*/)[5].trim():/^WMS_FULL\*[^*]+(\*(true|false))?/i.test(t)?(t.split(/\*/),e=!0):/^[^*]+\*[^*]+\*[^*]+\*(true|false)/i.test(t)?e=t.split(/\*/)[3].trim():/^[^*]+\*[^*]+\*(true|false)/i.test(t)&&(e=t.split(/\*/)[2].trim()):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.db)(t.transparent):Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(e)||(e=/^1|(true)$/i.test(e)),e},getFormatWMTS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/^WMTS\*[^*]+\*[^*]+\*[^*]*\*[^*]*\*(true|false)\*(image\/.*)/i.test(t)&&(e=t.split(/\*/)[6].trim()):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.db)(t.format):Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),e},getDisplayInLayerSwitcherWMTS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/^WMTS\*[^*]+\*[^*]+\*[^*]*\*[^*]*\*(true|false)\*(image\/.*)\*(true|false)/i.test(t)&&(e=t.split(/\*/)[7].trim()):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.db)(t.displayInLayerSwitcher):Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(e)||(e=/^1|(true)$/i.test(e)),e},getQueryableWMTS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/^WMTS\*[^*]+\*[^*]+\*[^*]*\*[^*]*\*(true|false)\*(image\/.*)\*(true|false)\*(true|false)/i.test(t)&&(e=t.split(/\*/)[8].trim()):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.db)(t.queryable):Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(e)||(e=/^1|(true)$/i.test(e)),e},getVisibilityWMTS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/^WMTS\*[^*]+\*[^*]+\*[^*]*\*[^*]*\*(true|false)\*(image\/.*)\*(true|false)\*(true|false)\*(true|false)/i.test(t)&&(e=t.split(/\*/)[9].trim()):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.db)(t.visibility):Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(e)||(e=/^1|(true)$/i.test(e)),e},getUseCapabilitiesWMTS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/^WMTS\*[^*]+\*[^*]+\*[^*]*\*[^*]*\*(true|false)\*(image\/.*)\*(true|false)\*(true|false)\*(true|false)\*(true|false)/i.test(t)&&(e=t.split(/\*/)[10].trim()):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.db)(t.useCapabilities):Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(e)||(e=/^1|(true)$/i.test(e)),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.ab)(e)&&(e=!0),e},getNameXYZ=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/^XYZ\*.+/i.test(t)?/^XYZ\*[^*]+\*[^*]+(\*[^*]+)?(\*(true|false))?/i.test(t)&&(e=t.split(/\*/)[1].trim()):(/^[^*]*\*[^*]+/.test(t)||/^[^*]*/.test(t))&&(e=t.split(/\*/)[0].trim()):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.name)?e=t.name.trim():Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.bb)(e)||/^(true|false)$/i.test(e))&&(e=null),e},getURLXYZSource=function(t){var e;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){var r=t.match(/^([^*]*\*)*(https?:\/\/[^*]+)([^*]*\*?)*$/i);r&&r.length>2&&(e=r[2])}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=t.url:Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return e},getExtraParameter=function(t,e,r,n){var i,o;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?r+3<=(o=t.split(/\*/)).length-1?(i=o[r+3].trim(),isNaN(i)?"true"!==i.toLowerCase()&&"false"!==i.toLowerCase()||(i="false"!==i.toLowerCase()):i=Number(i)):i=e:Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?i="legend"!==n?Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.db)(t[n]):t[n]:Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),i},xyz=function(t){var e=t,r=[];Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(e)&&Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").no_param);var n=e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.R)(n)||(n=[n]),r=n.map((function(t){var e={};return e.type=_layer_Type__WEBPACK_IMPORTED_MODULE_2__.XYZ,e.name=getNameXYZ(t),e.url=getURLXYZSource(t),e.visibility=getExtraParameter(t,"true",0,"visibility"),e.transparent=getExtraParameter(t,"true",1,"transparent"),e.displayInLayerSwitcher=getExtraParameter(t,"true",2,"displayInLayerSwitcher"),e.legend=getExtraParameter(t,e.name,3,"legend")||e.name,e})),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.R)(e)||(r=r[0]),r},getNameTMS=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)?/^TMS\*.+/i.test(t)?/^TMS\*[^*]+\*[^*]+(\*[^*]+)?(\*(true|false))?/i.test(t)&&(e=t.split(/\*/)[1].trim()):(/^[^*]*\*[^*]+/.test(t)||/^[^*]*/.test(t))&&(e=t.split(/\*/)[0].trim()):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.name)?e=t.name.trim():Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t))),(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.bb)(e)||/^(true|false)$/i.test(e))&&(e=null),e},tms=function(t){var e=t,r=[];Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(e)&&Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").no_param);var n=e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.R)(n)||(n=[n]),r=n.map((function(t){var e={};return e.type=_layer_Type__WEBPACK_IMPORTED_MODULE_2__.TMS,e.name=getNameTMS(t),e.url=getURLXYZSource(t),e.visibility=getExtraParameter(t,"true",0,"visibility"),e.transparent=getExtraParameter(t,"true",1,"transparent"),e.tileGridMaxZoom=getExtraParameter(t,"17",2,"tileGridMaxZoom"),e.displayInLayerSwitcher=getExtraParameter(t,"true",3,"displayInLayerSwitcher"),e.legend=getExtraParameter(t,e.name,4,"legend"),e.crossOrigin=getExtraParameter(t,void 0,5,"crossOrigin"),e.tileSize=getExtraParameter(t,void 0,6,"tileSize"),e})),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.R)(e)||(r=r[0]),r},wmts=function(t){var e=[];Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t)&&Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").no_param);var r=t;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.R)(r)||(r=[r]),e=r.map((function(t){var e={};return e.type=_layer_Type__WEBPACK_IMPORTED_MODULE_2__.WMTS,e.name=getNameWMTS(t),e.url=getURLWMTS(t),e.matrixSet=getMatrixSetWMTS(t),e.legend=getLegendWMTS(t),e.options=getOptionsWMTS(t),e.transparent=getTransparentWMTS(t),e.format=getFormatWMTS(t),e.displayInLayerSwitcher=getDisplayInLayerSwitcherWMTS(t),e.queryable=getQueryableWMTS(t),e.visibility=getVisibilityWMTS(t),e.useCapabilities=getUseCapabilitiesWMTS(t),e})),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.R)(t)||(e=e[0]),e},getLegendMBTiles=function(t){var e,r;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){if((r=t.split("*")).length-1>=1){var n=r[1].trim();e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(n)?void 0:n}}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.legend)?e=t.legend.trim():Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return e},getURLMBTiles=function(t){var e;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){var r=t.match(/^([^*]*\*)*(https?:\/\/[^*]+)([^*]*\*?)*$/i);r&&r.length>2&&(e=r[2])}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=t.url:Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return e},getSourceMBTiles=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&(e=t.source),e},getTileLoadFunctionMBTiles=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&(e=t.tileLoadFunction),e},getNameMBTiles=function(t){var e,r;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t))if((r=t.split("*")).length-1>=3){var n=r[3].trim();e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(n)?void 0:n}else/^[^*]*/.test(t)&&(e=(r=t.split(/\*/))[0].trim());else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.name)?e=t.name.trim():Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return e},getTransparentMBTiles=function(t){var e,r;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){if((r=t.split("*")).length-1>=4){var n=r[4].trim();e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(n)?void 0:n}}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.transparent)?e=t.transparent:Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return e},getVisibilityMBTiles=function(t){var e,r;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){if((r=t.split("*")).length-1>=5){var n=r[5].trim();e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(n)?void 0:"false"!==n}}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.visibility)?e=t.visibility:Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return e},getOpacityMBTiles=function(t){var e,r;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){if((r=t.split("*")).length-1>=6){var n=r[6].trim();e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(n)?void 0:parseInt(n,10)}}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.opacity)?e=t.opacity:Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return e},getMaxZoomLevelMBTiles=function(t){var e,r;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){if((r=t.split("*")).length-1>=7){var n=r[7].trim();e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(n)?void 0:parseInt(n,10)}}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.maxZoomLevel)?e=t.maxZoomLevel:Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return e},getMaxExtentMBTiles=function(t){var e,r;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){if((r=t.split("*")).length-1>=8){var n=r[8].trim();Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(n)?e=void 0:(n=n.split(";"),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(n)||4!==n.length||(e=n=n.map((function(t){return parseFloat(t.trim())}))))}}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.maxExtent)?e=t.maxExtent:Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return e},getTileSizeMBTiles=function(t){var e,r;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){if((e=t.split("*")).length-1>=9){var n=e[9].trim();r=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(n)?void 0:parseInt(n,10)}}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.tileSize)?r=parseInt(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.db)(t.tileSize),10):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return r},mbtiles=function(t){var e=[];Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t)&&Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").no_param);var r=t;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.R)(r)||(r=[r]),e=r.map((function(t){var e={};return e.type=_layer_Type__WEBPACK_IMPORTED_MODULE_2__.MBTiles,e.legend=getLegendMBTiles(t),e.url=getURLMBTiles(t),e.source=getSourceMBTiles(t),e.name=getNameMBTiles(t),e.transparent=getTransparentMBTiles(t),e.visibility=getVisibilityMBTiles(t),e.opacity=getOpacityMBTiles(t),e.maxZoomLevel=getMaxZoomLevelMBTiles(t),e.maxExtent=getMaxExtentMBTiles(t),e.tileLoadFunction=getTileLoadFunctionMBTiles(t),e.tileSize=getTileSizeMBTiles(t),e})),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.R)(t)||(e=e[0]),e},getLegendMBTilesVector=function(t){var e,r;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){if((r=t.split("*")).length-1>=1){var n=r[1].trim();e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(n)?void 0:n}}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.legend)?e=t.legend.trim():Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return e},getURLMBTilesVector=function(t){var e;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){var r=t.match(/^([^*]*\*)*(https?:\/\/[^*]+)([^*]*\*?)*$/i);r&&r.length>2&&(e=r[2])}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=t.url:Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return e},getSourceMBTilesVector=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&(e=t.source),e},getTileLoadFunctionMBTilesVector=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&(e=t.tileLoadFunction),e},getNameMBTilesVector=function(t){var e,r;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t))if((r=t.split("*")).length-1>=3){var n=r[3].trim();e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(n)?void 0:n}else/^[^*]*/.test(t)&&(e=(r=t.split(/\*/))[0].trim());else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.name)?e=t.name.trim():Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return e},getVisibilityMBTilesVector=function(t){var e,r;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){if((r=t.split("*")).length-1>=4){var n=r[4].trim();e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(n)?void 0:"false"!==n}}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.visibility)?e=t.visibility:Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return e},getMaxExtentMBTilesVector=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.maxExtent)&&(e=t.maxExtent),e},getTileSizeMBTilesVector=function(t){var e,r;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){if((e=t.split("*")).length-1>=5){var n=e[5].trim();r=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(n)?void 0:parseInt(n,10)}}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.tileSize)?r=parseInt(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.db)(t.tileSize),10):Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return r},getStyleMBTilesVector=function(t){var e,r;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){if((e=t.split("*")).length-1>=6){var n=e[6].trim();r=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(n)?void 0:n}}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.style)?r=t.style:Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return r},getExtractMBTilesVector=function(t){var e,r;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){if((e=t.split("*")).length-1>=7){var n=e[7].trim();r=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(n)?void 0:n}}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.extract)?r=t.extract:Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return r},mbtilesvector=function(t){var e=[];Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t)&&Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").no_param);var r=t;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.R)(r)||(r=[r]),e=r.map((function(t){var e={};return e.type=_layer_Type__WEBPACK_IMPORTED_MODULE_2__.MBTilesVector,e.legend=getLegendMBTilesVector(t),e.url=getURLMBTilesVector(t),e.source=getSourceMBTilesVector(t),e.name=getNameMBTilesVector(t),e.visibility=getVisibilityMBTilesVector(t),e.tileSize=getTileSizeMBTilesVector(t),e.maxExtent=getMaxExtentMBTilesVector(t),e.tileLoadFunction=getTileLoadFunctionMBTilesVector(t),e.style=getStyleMBTilesVector(t),e.extract=getExtractMBTilesVector(t),e})),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.R)(t)||(e=e[0]),e},getLegendOGC=function(t){var e,r;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){if((r=t.split("*")).length>=1){var n=r[1];e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(n)?void 0:n}}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.legend)?e=t.legend.trim():Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return e},getURLOGC=function(t){var e;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){var r=t.match(/^([^*]*\*)*(https?:\/\/[^*]+)([^*]*\*?)*$/i);r&&r.length>2&&(e=r[2])}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=t.url:Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return e},getNameOGC=function(t){var e,r;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t))if((r=t.split("*")).length>=3){var n=r[3];e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(n)?void 0:n}else e=r[0].trim();else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.name)?e=t.name.trim():Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return e},getLimitOGC=function(t){var e,r;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){if((r=t.split("*")).length>=4){var n=r[4];e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(n)?void 0:parseInt(n,10)}}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.ab)(t.limit)||(e=parseInt(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.db)(t.limit),10)):Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return e},getBboxOGC=function(t){var e,r;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){if((r=t.split("*")).length>=5){var n=r[5];e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(n)?void 0:n}}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.db)(t.bbox):Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(e)||Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.R)(e)||(e=e.split(";")).forEach((function(t,r){e[r]=parseFloat(t)})),e},getIdOGC=function(t){var e,r;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){if((r=t.split("*")).length>=6){var n=r[6];e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(n)?void 0:parseInt(n,10)}}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=t.id:Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return e},getOffsetOGC=function(t){var e,r;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){if((r=t.split("*")).length>=7){var n=r[7];e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(n)?void 0:parseInt(n,10)}}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.db)(t.offset):Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return e},getFormatOGC=function(t){var e,r;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){if((r=t.split("*")).length>=8){var n=r[8];e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(n)?void 0:n}}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)?e=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.db)(t.format):Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return e},getStyleOGC=function(t){var e,r;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){if((e=t.split("*")).length>=9){var n=e[9];r=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(n)?void 0:n}}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.style)?r=t.style:Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return r},getConditionalOGC=function(t){var e;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.conditional)&&(e=t.conditional),e},getExtractOGC=function(t){var e,r;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(t)){if((e=t.split("*")).length>=10){var n=e[10];r=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(n)?void 0:n}}else Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.extract)?r=t.extract:Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)||Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)("El parmetro no es de un tipo soportado: ".concat(_typeof(t)));return r},ogcapifeatures=function(t){var e=[];Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t)&&Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").no_param);var r=t;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.R)(r)||(r=[r]),e=r.map((function(t){return{type:_layer_Type__WEBPACK_IMPORTED_MODULE_2__.OGCAPIFeatures,legend:getLegendOGC(t),url:getURLOGC(t),name:getNameOGC(t),limit:getLimitOGC(t),bbox:getBboxOGC(t),format:getFormatOGC(t),offset:getOffsetOGC(t),id:getIdOGC(t),style:getStyleOGC(t),conditional:getConditionalOGC(t),extract:getExtractOGC(t)}})),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.R)(t)||(e=e[0]),e},generic=function generic(userParameters,type){var params=userParameters;if(!Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(params))return userParameters;var urlParams=params.split(/\*/);return{type:type,vendorOptions:eval(decodeURIComponent(escape(window.atob(urlParams[1]))))||void 0,name:urlParams[2]||void 0,legend:urlParams[3]||void 0,transparent:urlParams[4]||void 0,minZoom:urlParams[5]||void 0,maxZoom:urlParams[6]||void 0,displayInLayerSwitcher:urlParams[7]||void 0,visibility:urlParams[8]||void 0}},genericvector=function(t){return generic(t,"GenericVector")},genericraster=function(t){return generic(t,"GenericRaster")},osm=function(t){var e=t;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Z)(e)?getParameters(e):_objectSpread(_objectSpread({},e),{},{type:"osm"})},parameterFunction={kml:kml,wfs:wfs,osm:osm,wms:wms,wmts:wmts,geojson:geojson,mvt:mvt,xyz:xyz,tms:tms,mbtiles:mbtiles,mbtilesvector:mbtilesvector,ogcapifeatures:ogcapifeatures,genericvector:genericvector,genericraster:genericraster},layer=function(t,e){var r=[];Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t)&&Object(_exception_exception__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_i18n_language__WEBPACK_IMPORTED_MODULE_4__.e)("exception").no_param);var n=t;return Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.R)(n)||(n=[n]),r=n.map((function(t){var r=null;if(Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.Y)(t)&&t instanceof _layer_Layer__WEBPACK_IMPORTED_MODULE_3__.a)r=t;else{var n=getType(t,e);n=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.db)(n),r=Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.U)(parameterFunction[n])?parameterFunction[n](t):t,Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.isBase)||(r.transparent=!t.isBase),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.infoEventType)||(r.infoEventType=t.infoEventType),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.X)(t.attribution)||(r.attribution=t.attribution)}return r})),Object(_util_Utils__WEBPACK_IMPORTED_MODULE_0__.R)(t)||(r=r[0]),r};__webpack_exports__.b={}},function(t,e,r){"use strict";r.r(e),r.d(e,"KML",(function(){return i})),r.d(e,"WMS",(function(){return o})),r.d(e,"WFS",(function(){return a})),r.d(e,"OGCAPIFeatures",(function(){return s})),r.d(e,"WMTS",(function(){return c})),r.d(e,"OSM",(function(){return l})),r.d(e,"XYZ",(function(){return u})),r.d(e,"TMS",(function(){return h})),r.d(e,"GeoJSON",(function(){return f})),r.d(e,"Vector",(function(){return p})),r.d(e,"MVT",(function(){return d})),r.d(e,"MBTiles",(function(){return m})),r.d(e,"MBTilesVector",(function(){return y})),r.d(e,"GenericVector",(function(){return g})),r.d(e,"GenericRaster",(function(){return _})),r.d(e,"parse",(function(){return v})),r.d(e,"know",(function(){return O}));var n=r(0),i="KML",o="WMS",a="WFS",s="OGCAPIFeatures",c="WMTS",l="OSM",u="XYZ",h="TMS",f="GeoJSON",p="Vector",d="MVT",m="MBTiles",y="MBTilesVector",g="GenericVector",_="GenericRaster",b={KML:i,WMS:o,WFS:a,WMTS:c,OSM:l,GeoJSON:f,Vector:p,MVT:d,XYZ:u,TMS:h,MBTiles:m,MBTilesVector:y,OGCAPIFeatures:s,GenericRaster:_,GenericVector:g},v=function(t){var e=Object(n.db)(t,!0);return e="WMS_FULL"===e?o:"WFST"===e?a:Object.keys(b).find((function(t){var r=b[t];return Object(n.Z)(r)&&Object(n.db)(r,!0)===e})),b[e]},O=function(t){return-1!==[i,o,a,c,d,u,h,m,y,s].indexOf(v(t))};e.default={}},function(t,e,r){"use strict";function n(t,e,r){for(var n,o,a=r||i,s=0,c=t.length,l=!1;s<c;)(o=+a(t[n=s+(c-s>>1)],e))<0?s=n+1:(c=n,l=!o);return l?s:~s}function i(t,e){return t>e?1:t<e?-1:0}function o(t,e){return t.indexOf(e)>=0}function a(t,e,r){var n=t.length;if(t[0]<=e)return 0;if(e<=t[n-1])return n-1;var i=void 0;if(r>0){for(i=1;i<n;++i)if(t[i]<e)return i-1}else if(r<0){for(i=1;i<n;++i)if(t[i]<=e)return i}else for(i=1;i<n;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return n-1}function s(t,e,r){for(;e<r;){var n=t[e];t[e]=t[r],t[r]=n,++e,--r}}function c(t,e){for(var r=Array.isArray(e)?e:[e],n=r.length,i=0;i<n;i++)t[t.length]=r[i]}function l(t,e){for(var r,n=t.length>>>0,i=0;i<n;i++)if(e(r=t[i],i,t))return r;return null}function u(t,e){var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function h(t,e){var r,n=t.length,i=Array(t.length);for(r=0;r<n;r++)i[r]={index:r,value:t[r]};for(i.sort((function(t,r){return e(t.value,r.value)||t.index-r.index})),r=0;r<t.length;r++)t[r]=i[r].value}function f(t,e){var r;return!t.every((function(n,i){return r=i,!e(n,i,t)}))?r:-1}function p(t,e,r){var n=e||i;return t.every((function(e,i){if(0===i)return!0;var o=n(t[i-1],e);return!(o>0||r&&0===o)}))}r.d(e,"a",(function(){return n})),r.d(e,"i",(function(){return i})),r.d(e,"f",(function(){return o})),r.d(e,"h",(function(){return a})),r.d(e,"j",(function(){return s})),r.d(e,"c",(function(){return c})),r.d(e,"d",(function(){return l})),r.d(e,"b",(function(){return u})),r.d(e,"k",(function(){return h})),r.d(e,"e",(function(){return f})),r.d(e,"g",(function(){return p}))},function(t,e,r){"use strict";function n(t,e,r){return Math.min(Math.max(t,e),r)}r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return i})),r.d(e,"g",(function(){return o})),r.d(e,"f",(function(){return a})),r.d(e,"e",(function(){return s})),r.d(e,"h",(function(){return c})),r.d(e,"i",(function(){return l})),r.d(e,"d",(function(){return u})),r.d(e,"c",(function(){return h}));var i="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2};function o(t,e,r,n,i,o){var s=i-r,c=o-n;if(0!==s||0!==c){var l=((t-r)*s+(e-n)*c)/(s*s+c*c);l>1?(r=i,n=o):l>0&&(r+=s*l,n+=c*l)}return a(t,e,r,n)}function a(t,e,r,n){var i=r-t,o=n-e;return i*i+o*o}function s(t){for(var e=t.length,r=0;r<e;r++){for(var n=r,i=Math.abs(t[r][r]),o=r+1;o<e;o++){var a=Math.abs(t[o][r]);a>i&&(i=a,n=o)}if(0===i)return null;var s=t[n];t[n]=t[r],t[r]=s;for(var c=r+1;c<e;c++)for(var l=-t[c][r]/t[r][r],u=r;u<e+1;u++)r==u?t[c][u]=0:t[c][u]+=l*t[r][u]}for(var h=new Array(e),f=e-1;f>=0;f--){h[f]=t[f][e]/t[f][f];for(var p=f-1;p>=0;p--)t[p][e]-=t[p][f]*h[f]}return h}function c(t){return 180*t/Math.PI}function l(t){return t*Math.PI/180}function u(t,e){var r=t%e;return r*e<0?r+e:r}function h(t,e,r){return t+r*(e-t)}},function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return o})),r.d(e,"d",(function(){return a}));var n="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(t),n=1,i=arguments.length;n<i;++n){var o=arguments[n];if(null!=o)for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])}return r};function i(t){for(var e in t)delete t[e]}var o="function"==typeof Object.values?Object.values:function(t){var e=[];for(var r in t)e.push(t[r]);return e};function a(t){var e;for(e in t)return!1;return!e}},function(t,e,r){"use strict";e.a={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return o})),r.d(e,"c",(function(){return a}));var n=r(15);function i(t,e,r,n,i){if(n&&n!==t&&(r=r.bind(n)),i){var o=r;r=function(){t.removeEventListener(e,r),o.apply(this,arguments)}}var a={target:t,type:e,listener:r};return t.addEventListener(e,r),a}function o(t,e,r,n){return i(t,e,r,n,!0)}function a(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),Object(n.b)(t))}},function(t,e,r){"use strict";r.d(e,"d",(function(){return o})),r.d(e,"h",(function(){return a})),r.d(e,"g",(function(){return s})),r.d(e,"k",(function(){return l})),r.d(e,"a",(function(){return u})),r.d(e,"i",(function(){return h})),r.d(e,"j",(function(){return f})),r.d(e,"f",(function(){return p})),r.d(e,"m",(function(){return d})),r.d(e,"b",(function(){return m})),r.d(e,"c",(function(){return y})),r.d(e,"e",(function(){return g})),r.d(e,"l",(function(){return _}));var n=r(19),i=new Array(6);function o(){return[1,0,0,1,0,0]}function a(t){return c(t,1,0,0,1,0,0)}function s(t,e){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],c=e[0],l=e[1],u=e[2],h=e[3],f=e[4],p=e[5];return t[0]=r*c+i*l,t[1]=n*c+o*l,t[2]=r*u+i*h,t[3]=n*u+o*h,t[4]=r*f+i*p+a,t[5]=n*f+o*p+s,t}function c(t,e,r,n,i,o,a){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=o,t[5]=a,t}function l(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function u(t,e){var r=e[0],n=e[1];return e[0]=t[0]*r+t[2]*n+t[4],e[1]=t[1]*r+t[3]*n+t[5],e}function h(t,e){var r=Math.cos(e),n=Math.sin(e);return s(t,c(i,r,n,-n,r,0,0))}function f(t,e,r){return s(t,c(i,e,0,0,r,0,0))}function p(t,e,r){return c(t,e,0,0,r,0,0)}function d(t,e,r){return s(t,c(i,1,0,0,1,e,r))}function m(t,e,r,n,i,o,a,s){var c=Math.sin(o),l=Math.cos(o);return t[0]=n*l,t[1]=i*c,t[2]=-n*c,t[3]=i*l,t[4]=a*n*l-s*n*c+e,t[5]=a*i*c+s*i*l+r,t}function y(t,e,r,n,i,o,a){return _(m([1,0,0,1,0,0],t,e,r,n,i,o,a))}function g(t,e){var r,i=(r=e)[0]*r[3]-r[1]*r[2];Object(n.a)(0!==i,32);var o=e[0],a=e[1],s=e[2],c=e[3],l=e[4],u=e[5];return t[0]=c/i,t[1]=-a/i,t[2]=-s/i,t[3]=o/i,t[4]=(s*u-c*l)/i,t[5]=-(o*u-a*l)/i,t}function _(t){return"matrix("+t.join(", ")+")"}},function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r(269);function i(t,e){if(!t)throw new n.a(e)}},function(t,e,r){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},function(t,e,r){"use strict";e.a={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},function(t,e,r){"use strict";var n=r(528),i=r(529),o=r(530),a=r(531),s=r(532),c=r(533),l=r(534),u=r(535),h=r(536),f=r(537),p=r(538),d=r(539),m=r(540),y=r(541),g=r(542),_=r(543),b=r(544),v=r(545),O=r(546),w=r(547),M=r(548),E=r(549),x=r(550),S=r(551),j=r(552),P=r(553),T=r(554),I=r(555),L=r(556),R=r(557),C=r(558),A=r(559),k=r(560),N=r(561),D=r(562),F=r(563),B=r(564),U=r(565),G=r(566),z=r(567),W=r(568),X=r(569),q=r(570),V=r(571),Y=r(572),Z=r(573),K=r(574),H=r(575),J=r(576),Q=r(577),$=r(578),tt=r(579),et=r(580),rt=r(581),nt=r(582),it=r(583),ot=r(584),at=r(585),st=r(586),ct=r(587),lt=r(588),ut=r(589),ht=r(590),ft=r(591),pt=r(592),dt=r(593),mt=r(594),yt=r(595),gt=r(596),_t=r(597),bt=r(598),vt=r(599),Ot=r(600),wt=r(601),Mt=r(602),Et=r(603),xt=r(604),St=r(605),jt=r(606),Pt=r(607),Tt=r(608),It=r(609),Lt=r(610),Rt=r(611),Ct=r(612),At=r(613),kt=r(614),Nt=r(615),Dt=r(616),Ft=r(617),Bt=r(618),Ut=r(619),Gt=r(620),zt=r(621),Wt=r(622),Xt=r(623),qt=r(624),Vt=r(625),Yt=r(626),Zt=r(627),Kt={attributions:{esAttributions:n,enAttributions:i},backimglayer:{esBackimglayer:o,enBackimglayer:a},beautytoc:{esBeautytoc:s,enBeautytoc:c},buffer:{esBuffer:l,enBuffer:u},calendar:{esCalendar:h,enCalendar:f},comparators:{esComparators:p,enComparators:d},comparepanel:{esComparepanel:m,enComparepanel:y},contactlink:{esContactlink:g,enContactlink:_},fulltoc:{esFulltoc:b,enFulltoc:v},geometrydraw:{esGeometrydraw:O,enGeometrydraw:w},georefimage:{esGeorefimage:M,enGeorefimage:E},georefimage2:{esGeorefimage2:x,enGeorefimage2:S},help:{esHelp:j,enHelp:P},iberpixcompare:{esIberpixcompare:T,enIberpixcompare:I},ignsearch:{esIgnsearch:L,enIgnsearch:R},ignsearchlocator:{esIgnsearchlocator:C,enIgnsearchlocator:A},incicarto:{esIncicarto:k,enIncicarto:N},infocatastro:{esInfocatastro:D,enInfocatastro:F},infocoordinates:{esInfocoordinates:B,enInfocoordinates:U},information:{esInformation:G,enInformation:z},lyrcompare:{esLyrcompare:W,enLyrcompare:X},layerswitcher:{esLayerswitcher:q,enLayerswitcher:V},measurebar:{esMeasurebar:Y,enMeasurebar:Z},mirrorpanel:{esMirrorpanel:K,enMirrorpanel:H},mousesrs:{esMousesrs:J,enMousesrs:Q},overviewmap:{esOverviewmap:$,enOverviewmap:tt},popup:{esPopup:et,enPopup:rt},predefinedzoom:{esPredefinedzoom:nt,enPredefinedzoom:it},printviewmanagement:{esPrintviewmanagement:st,enPrintviewmanagement:ct},printermap:{esPrintermap:ot,enPrintermap:at},queryattributes:{esQueryattributes:lt,enQueryattributes:ut},rescale:{esRescale:ht,enRescale:ft},selectiondraw:{esSelectiondraw:pt,enSelectiondraw:dt},selectionzoom:{esSelectionzoom:mt,enSelectionzoom:yt},sharemap:{esSharemap:gt,enSharemap:_t},stylemanager:{esStylemanager:bt,enStylemanager:vt},timeline:{esTimeline:Ot,enTimeline:wt},toc:{esToc:Mt,enToc:Et},topographicprofile:{esTopographicprofile:xt,enTopographicprofile:St},transparency:{esTransparency:jt,enTransparency:Pt},vectors:{esVectors:Tt,enVectors:It},viewhistory:{esViewhistory:Lt,enViewhistory:Rt},xylocator:{esXylocator:Ct,enXylocator:At},zoomextent:{esZoomextent:kt,enZoomextent:Nt},zoompanel:{esZoompanel:Dt,enZoompanel:Ft},viewshed:{esViewshed:Bt,enViewshed:Ut},viewmanagement:{esViewmanagement:Gt,enViewmanagement:zt},locator:{esLocator:Wt,enLocator:Xt},locatorscn:{esLocatorscn:qt,enLocatorscn:Vt},vectorsmanagement:{esVectorsmanagement:Yt,enVectorsmanagement:Zt}};e.a=Kt},function(t,e,r){"use strict";var n=r(379),i=r(4),o=r(182),a=r(116),s=r(85),c=r(105),l=r(220),u=r(12),h=(r(657),r(658),r(74)),f=r(133),p=r(9),d=r(51),m=r(3),y=r(6),g=r(64),_=r(0),b=(r(229),r(36)),v=r(213),O=r(223),w=r(214);function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t){return function(t){if(Array.isArray(t))return S(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return S(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function j(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function P(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?j(Object(r),!0).forEach((function(e){T(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function T(t,e,r){return(e=A(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */I=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,i){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),s=new S(i||[]);return n(a,"_invoke",{value:O(t,r,s)}),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h={};function f(){}function p(){}function d(){}var m={};c(m,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(j([])));g&&g!==e&&r.call(g,o)&&(m=g);var _=d.prototype=f.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){var i;n(this,"_invoke",{value:function(n,o){function a(){return new e((function(i,a){!function n(i,o,a,s){var c=u(t[i],t,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==E(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}(n,o,i,a)}))}return i=i?i.then(a,a):a()}})}function O(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return P()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=w(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function w(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var i=u(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=d,n(_,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=c(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},b(v.prototype),c(v.prototype,a,(function(){return this})),t.AsyncIterator=v,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new v(l(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(_),c(_,s,"Generator"),c(_,o,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=j,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;x(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function L(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A(n.key),n)}}function A(t){var e=function(t,e){if("object"!==E(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===E(e)?e:String(e)}function k(t,e){return(k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function N(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=B(t);if(e){var i=B(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return D(this,r)}}function D(t,e){if(e&&("object"===E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return F(t)}function F(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var U=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(T,t);var e,r,c,E,S,j=N(T);function T(t,e){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;R(this,T),(r=j.call(this)).facadeMap_=e,r.layers_=[],r.layerGroups_=[],r.controls_=[],r.initZoom_=!0,r.userResolutions_=null,r.userBbox_=null,r.maxExtentForResolutions_=null,r.envolvedMaxExtent_=null,r._calculatedResolutions=!1,r._resolutionsEnvolvedExtent=!1,r._resolutionsBaseLayer=!1,r.currentZoom=null,r.viewExtent=i.viewExtent,r.objectView=o,void 0!==r.viewExtent&&4===r.viewExtent.length&&(r.objectView.extent=r.viewExtent);var a=new O.a(r.objectView);return r.map_=new n.a({controls:[],target:t.id,view:a}),r.registerEvents_(),r.facadeMap_.on(p.u,(function(){r.map_.updateSize()})),r.map_.on("singleclick",r.onMapClick_.bind(F(r))),r.map_.addInteraction(new s.a({handleEvent:function(t){return"pointerdrag"===t.type||"wheel"===t.type?r.onMapMove_(t):"pointermove"===t.type&&r.onMapMoveMouse_(t),!0}})),r}return e=T,(r=[{key:"getLayers",value:function(t){var e=this.getKML(t),r=this.getWMS(t),n=this.getWFS(t),i=this.getOGCAPIFeatures(t),o=this.getWMTS(t),a=this.getMVT(t),s=this.getMBTiles(t),c=this.getMBTilesVector(t),l=this.getXYZs(t),u=this.getTMS(t),h=this.getUnknowLayers_(t);return e.concat(r).concat(n).concat(i).concat(o).concat(a).concat(s).concat(c).concat(l).concat(u).concat(h)}},{key:"getBaseLayers",value:function(){return this.layers_.filter((function(t){return!1===t.transparent}))}},{key:"addLayers",value:function(t){var e=this,r=t;return Object(_.X)(r)&&(r=[]),Object(_.R)(r)||(r=[r]),0===r.length||r.forEach((function(t){t.type===u.WMS?e.facadeMap_.addWMS(t):t.type===u.WMTS?e.facadeMap_.addWMTS(t):t.type===u.KML?e.facadeMap_.addKML(t):t.type===u.WFS?e.facadeMap_.addWFS(t):t.type===u.OGCAPIFeatures?e.facadeMap_.addOGCAPIFeatures(t):t.type===u.MVT?e.facadeMap_.addMVT(t):"MBTiles"===t.type?e.facadeMap_.addMBTiles(t):"MBTilesVector"===t.type?e.facadeMap_.addMBTilesVector(t):t.type===u.XYZ?e.facadeMap_.addXYZ(t):t.type===u.TMS?e.facadeMap_.addTMS(t):u.know(t.type)||(e.addUnknowLayers_([t]),e.facadeMap_.addUnknowLayers_(t))})),this}},{key:"removeLayers",value:function(t){var e=t.filter((function(t){return!u.know(t.type)})),r=t.filter((function(t){return u.know(t.type)}));return r.length>0&&(this.removeKML(r),this.removeWMS(r),this.removeWFS(r),this.removeOGCAPIFeatures(r),this.removeWMTS(r),this.removeMVT(r),this.removeMBTiles(r),this.removeMBTilesVector(r),this.removeXYZ(r),this.removeTMS(r)),e.length>0&&this.removeUnknowLayers_(e),this.facadeMap_.fire(p.E,[t]),this}},{key:"getKML",value:function(t){var e=[],r=t,n=this.layers_.filter((function(t){return t.type===u.KML}));return Object(_.X)(r)&&(r=[]),Object(_.R)(r)||(r=[r]),0===r.length?e=n:r.forEach((function(t){var r=n.filter((function(r){var n=!0;return e.includes(r)?n=!1:(Object(_.X)(t.type)||(n=n&&t.type===r.type),Object(_.X)(t.url)||(n=n&&t.url===r.url),Object(_.X)(t.name)||(n=n&&t.name===r.name),Object(_.X)(t.extract)||(n=n&&t.extract===r.extract)),n}));e=e.concat(r)}),this),e}},{key:"addKML",value:function(t){var e=this,r=this.getBaseLayers().length>0;return t.forEach((function(t){if(t.type===u.KML&&!Object(_.P)(e.layers_,t)){if(t.getImpl().addTo(e.facadeMap_),e.layers_.push(t),null==t.getZIndex()){var n=e.layers_.length+T.Z_INDEX[u.KML];t.setZIndex(n)}r||e.updateResolutionsFromBaseLayer()}}),this),this}},{key:"removeKML",value:function(t){var e=this;return this.getKML(t).forEach((function(t){e.layers_=e.layers_.filter((function(e){return!t.equals(e)})),t.getImpl().destroy(),t.fire(p.D,[t])}),this),this}},{key:"getWMS",value:function(t){var e=[],r=t,n=this.layers_.filter((function(t){return t.type===u.WMS}));return Object(_.X)(r)&&(r=[]),Object(_.R)(r)||(r=[r]),0===r.length?e=n:r.forEach((function(t){var r=n.filter((function(r){var n=!0;return e.includes(r)?n=!1:t instanceof f.a?n=t===r:(Object(_.X)(t.type)||(n=n&&t.type===r.type),Object(_.X)(t.url)||(n=n&&t.url===r.url),Object(_.X)(t.name)||(n=n&&t.name===r.name),Object(_.X)(t.legend)||(n=n&&t.legend===r.legend),Object(_.X)(t.isBase)||(n=n&&t.isBase===r.isBase),Object(_.X)(t.transparent)||(n=n&&t.transparent===r.transparent),Object(_.X)(t.tiled)||(n=n&&t.tiled===r.tiled),Object(_.X)(t.cql)||(n=n&&t.cql===r.cql),Object(_.X)(t.version)||(n=n&&t.version===r.version)),n}));e=e.concat(r)}),this),e}},{key:"addWMS",value:function(t){var e=this,r=this.getBaseLayers().length>0,n=[];return t.forEach((function(t){if(t.type===u.WMS&&!Object(_.P)(e.layers_,t))if(t.getImpl().addTo(e.facadeMap_),e.layers_.push(t),n.push(t),!1===t.transparent)t.setVisible(!r),r=!0,t.setZIndex(T.Z_INDEX_BASELAYER);else if(null==t.getZIndex()){var i=e.layers_.length+T.Z_INDEX[u.WMS];t.setZIndex(i)}})),(n.length>0&&!r||n.some((function(t){return!0!==t.transparent&&t.isVisible()})))&&this.updateResolutionsFromBaseLayer(),this}},{key:"removeWMS",value:function(t){var e=this;return this.getWMS(t).forEach((function(t){t.fire(p.D,[t]),e.layers_=e.layers_.filter((function(e){return!t.equals(e)})),t.getImpl().destroy()})),this}},{key:"getGeoJSON",value:function(t){var e=[],r=t,n=this.layers_.filter((function(t){return t.type===u.GeoJSON}));return Object(_.X)(r)&&(r=[]),Object(_.R)(r)||(r=[r]),0===r.length?e=n:r.forEach((function(t){var r=n.filter((function(r){var n=!0;return e.includes(r)?n=!1:(Object(_.X)(t.type)||(n=n&&t.type===r.type),Object(_.X)(t.url)||(n=n&&t.url===r.url),Object(_.X)(t.name)||(n=n&&t.name===r.name),Object(_.X)(t.legend)||(n=n&&t.legend===r.legend)),n}));e=e.concat(r)})),e}},{key:"getWFS",value:function(t){var e=[],r=t,n=this.layers_.filter((function(t){return t.type===u.WFS}));return Object(_.X)(r)&&(r=[]),Object(_.R)(r)||(r=[r]),0===r.length?e=n:r.forEach((function(t){var r=n.filter((function(r){var n=!0;return e.includes(r)?n=!1:(Object(_.X)(t.type)||(n=n&&t.type===r.type),Object(_.X)(t.url)||(n=n&&t.url===r.url),Object(_.X)(t.name)||(n=n&&t.name===r.name),Object(_.X)(t.namespace)||(n=n&&t.namespace===r.namespace),Object(_.X)(t.legend)||(n=n&&t.legend===r.legend),Object(_.X)(t.cql)||(n=n&&t.cql===r.cql),Object(_.X)(t.geometry)||(n=n&&t.geometry===r.geometry),Object(_.X)(t.ids)||(n=n&&t.ids===r.ids),Object(_.X)(t.version)||(n=n&&t.version===r.version)),n}));e=e.concat(r)})),e}},{key:"addWFS",value:function(t){var e=this,r=this.getBaseLayers().length>0;return t.forEach((function(t){if(t.type===u.WFS&&!Object(_.P)(e.layers_,t)){if(t.getImpl().addTo(e.facadeMap_),e.layers_.push(t),t.setZIndex(t.getZIndex()),null==t.getZIndex()){var n=e.layers_.length+T.Z_INDEX[u.WFS];t.setZIndex(n)}r||e.updateResolutionsFromBaseLayer()}})),this}},{key:"removeWFS",value:function(t){var e=this;return this.getWFS(t).forEach((function(t){e.layers_=e.layers_.filter((function(e){return!e.equals(t)})),t.getImpl().destroy(),t.fire(p.D,[t])})),this}},{key:"getOGCAPIFeatures",value:function(t){var e=[],r=t,n=this.layers_.filter((function(t){return t.type===u.OGCAPIFeatures}));return Object(_.X)(r)&&(r=[]),Object(_.R)(r)||(r=[r]),0===r.length?e=n:r.forEach((function(t){var r=n.filter((function(r){var n=!0;return e.includes(r)?n=!1:(Object(_.X)(t.type)||(n=n&&t.type===r.type),Object(_.X)(t.url)||(n=n&&t.url===r.url),Object(_.X)(t.name)||(n=n&&t.name===r.name),Object(_.X)(t.legend)||(n=n&&t.legend===r.legend),Object(_.X)(t.cql)||(n=n&&t.cql===r.cql),Object(_.X)(t.geometry)||(n=n&&t.geometry===r.geometry),Object(_.X)(t.id)||(n=n&&t.id===r.id)),n}));e=e.concat(r)})),e}},{key:"addOGCAPIFeatures",value:function(t){var e=this,r=this.getBaseLayers().length>0;return t.forEach((function(t){if(t.type===u.OGCAPIFeatures&&!Object(_.P)(e.layers_,t)){if(t.getImpl().addTo(e.facadeMap_),e.layers_.push(t),t.setZIndex(t.getZIndex()),null==t.getZIndex()){var n=e.layers_.length+T.Z_INDEX[u.OGCAPIFeatures];t.setZIndex(n)}r||e.updateResolutionsFromBaseLayer()}})),this}},{key:"removeOGCAPIFeatures",value:function(t){var e=this;return this.getOGCAPIFeatures(t).forEach((function(t){e.layers_=e.layers_.filter((function(e){return!e.equals(t)})),t.getImpl().destroy(),t.fire(p.D,[t])})),this}},{key:"getWMTS",value:function(t){var e=[],r=t,n=this.layers_.filter((function(t){return t.type===u.WMTS}));return Object(_.X)(r)&&(r=[]),Object(_.R)(r)||(r=[r]),0===r.length?e=n:r.forEach((function(t){var r=n.filter((function(r){var n=!0;return e.includes(r)?n=!1:(Object(_.X)(t.type)||(n=n&&t.type===r.type),Object(_.X)(t.url)||(n=n&&t.url===r.url),Object(_.X)(t.name)||(n=n&&t.name===r.name),Object(_.X)(t.matrixSet)||(n=n&&t.matrixSet===r.matrixSet),Object(_.X)(t.legend)||(n=n&&t.legend===r.legend)),n}));e=e.concat(r)})),e}},{key:"addWMTS",value:function(t){var e=this,r=this.getBaseLayers().length>0;return t.forEach((function(t){if(t.type===u.WMTS&&!Object(_.P)(e.layers_,t))if(t.getImpl().addTo(e.facadeMap_),e.layers_.push(t),!1===t.transparent)t.setVisible(!r),r=!0,t.isVisible()&&e.updateResolutionsFromBaseLayer(),t.setZIndex(T.Z_INDEX_BASELAYER);else{if(null==t.getZIndex()){var n=e.layers_.length+T.Z_INDEX[u.WMTS];t.setZIndex(n)}r||e.updateResolutionsFromBaseLayer()}})),this}},{key:"removeWMTS",value:function(t){var e=this;return this.getWMTS(t).forEach((function(t){e.layers_=e.layers_.filter((function(e){return!e.equals(t)})),t.getImpl().destroy(),t.fire(p.D,[t])})),this}},{key:"getMBTiles",value:function(t){var e=[],r=t,n=this.layers_.filter((function(t){return"MBTiles"===t.type}));return Object(_.X)(r)&&(r=[]),Object(_.R)(r)||(r=[r]),0===r.length?e=n:r.forEach((function(t){var r=n.filter((function(r){var n=!0;return e.includes(r)?n=!1:(Object(_.X)(t.type)||(n=n&&t.type===r.type),Object(_.X)(t.url)||(n=n&&t.url===r.url),Object(_.X)(t.name)||(n=n&&t.name===r.name),Object(_.X)(t.legend)||(n=n&&t.legend===r.legend)),n}));e=e.concat(r)})),e}},{key:"addMBTiles",value:function(t){var e=this,r=this.getBaseLayers().length>0,n=[];return t.forEach((function(t){if(t.type===u.MBTiles&&!Object(_.P)(e.layers_,t))if(t.getImpl().addTo(e.facadeMap_),e.layers_.push(t),n.push(t),!1===t.transparent)t.setVisible(!r),r=!0,t.setZIndex(T.Z_INDEX_BASELAYER);else if(null==t.getZIndex()){var i=e.layers_.length+T.Z_INDEX.MBTiles;t.setZIndex(i)}})),(n.length>0&&!r||n.some((function(t){return!0!==t.transparent&&t.isVisible()})))&&this.updateResolutionsFromBaseLayer(),this}},{key:"removeMBTiles",value:function(t){var e=this;return this.getMBTiles(t).forEach((function(t){e.layers_=e.layers_.filter((function(e){return!e.equals(t)})),t.getImpl().destroy(),t.fire(p.D,[t])})),this}},{key:"getMBTilesVector",value:function(t){var e=[],r=t,n=this.layers_.filter((function(t){return"MBTilesVector"===t.type}));return Object(_.X)(r)&&(r=[]),Object(_.R)(r)||(r=[r]),0===r.length?e=n:r.forEach((function(t){var r=n.filter((function(r){var n=!0;return e.includes(r)?n=!1:(Object(_.X)(t.type)||(n=n&&t.type===r.type),Object(_.X)(t.url)||(n=n&&t.url===r.url),Object(_.X)(t.name)||(n=n&&t.name===r.name),Object(_.X)(t.legend)||(n=n&&t.legend===r.legend)),n}));e=e.concat(r)})),e}},{key:"addMBTilesVector",value:function(t){var e=this,r=this.getBaseLayers().length>0;return t.forEach((function(t){if(t.type===u.MBTilesVector&&!Object(_.P)(e.layers_,t)){if(t.getImpl().addTo(e.facadeMap_),e.layers_.push(t),t.setZIndex(t.getZIndex()),null==t.getZIndex()){var n=e.layers_.length+T.Z_INDEX.MBTilesVector;t.setZIndex(n)}r||e.updateResolutionsFromBaseLayer()}})),this}},{key:"removeMBTilesVector",value:function(t){var e=this;return this.getMBTilesVector(t).forEach((function(t){e.layers_=e.layers_.filter((function(e){return!e.equals(t)})),t.getImpl().destroy(),t.fire(p.D,[t])})),this}},{key:"getUnknowLayers_",value:function(t){var e=[],r=t,n=this.layers_.filter((function(t){return!u.know(t.type)}));return Object(_.X)(r)&&(r=[]),Object(_.R)(r)||(r=[r]),0===r.length?e=n:r.forEach((function(t){var r=n.filter((function(r){var n=!0;return e.includes(r)?n=!1:t instanceof d.a?n=t.equals(r):(Object(_.X)(t.type)||(n=n&&t.type===r.type),Object(_.X)(t.name)||(n=n&&t.name===r.name)),n}));e=e.concat(r)})),e}},{key:"addUnknowLayers_",value:function(t){var e=this,r=this.getBaseLayers().length>0;return t.forEach((function(t){if(!Object(_.P)(e.layers_,t))if(t.getImpl().addTo(e.facadeMap_),e.layers_.push(t),!1===t.transparent)t.setVisible(!r),r=!0,t.isVisible()&&e.updateResolutionsFromBaseLayer(),t.setZIndex(T.Z_INDEX_BASELAYER);else{if(t.setZIndex(t.getZIndex()),null==t.getZIndex()){var n=e.layers_.length+T.Z_INDEX[t.type];t.setZIndex(n)}r||e.updateResolutionsFromBaseLayer()}})),this}},{key:"removeUnknowLayers_",value:function(t){var e=this;t.forEach((function(t){if(Object(_.P)(e.layers_,t)&&(e.layers_=e.layers_.filter((function(e){return!e.equals(t)})),t.getImpl().destroy(),!1===t.transparent)){var r=e.facadeMap_.getBaseLayers();r.length>0&&r[0].setVisible(!0)}}))}},{key:"getMVT",value:function(t){var e=[],r=t,n=this.layers_.filter((function(t){return t.type===u.MVT}));return Object(_.X)(r)&&(r=[]),Object(_.R)(r)||(r=[r]),0===r.length?e=n:r.forEach((function(t){var r=n.filter((function(r){var n=!0;return e.includes(r)?n=!1:(Object(_.X)(t.type)||(n=n&&t.type===r.type),Object(_.X)(t.url)||(n=n&&t.url===r.url),Object(_.X)(t.name)||(n=n&&t.name===r.name)),n}));e=e.concat(r)})),e}},{key:"removeMVT",value:function(t){var e=this;return this.getMVT(t).forEach((function(t){e.layers_=e.layers_.filter((function(e){return!e.equals(t)})),t.getImpl().destroy(),t.fire(p.D,[t])})),this}},{key:"addMVT",value:function(t){var e=this,r=this.getBaseLayers().length>0;return t.forEach((function(t){if(t.type===u.MVT&&!Object(_.P)(e.layers_,t)){if(t.getImpl().addTo(e.facadeMap_),e.layers_.push(t),t.setZIndex(t.getZIndex()),null==t.getZIndex()){var n=e.layers_.length+T.Z_INDEX[u.MVT];t.setZIndex(n)}r||e.updateResolutionsFromBaseLayer()}})),this}},{key:"getXYZs",value:function(t){var e=[],r=t,n=this.layers_.filter((function(t){return t.type===u.XYZ}));return Object(_.X)(r)&&(r=[]),Object(_.R)(r)||(r=[r]),0===r.length?e=n:r.forEach((function(t){var r=n.filter((function(r){var n=!0;return e.includes(r)?n=!1:(Object(_.X)(t.type)||(n=n&&t.type===r.type),Object(_.X)(t.url)||(n=n&&t.url===r.url),Object(_.X)(t.name)||(n=n&&t.name===r.name)),n}));e=e.concat(r)})),e}},{key:"addXYZ",value:function(t){var e=this;return t.forEach((function(t){if(t.type===u.XYZ&&!Object(_.P)(e.layers_,t))if(t.getImpl().addTo(e.facadeMap_),e.layers_.push(t),!0===t.transparent){var r=e.layers_.length+T.Z_INDEX[u.XYZ];t.setZIndex(r)}else t.setZIndex(0)})),this}},{key:"removeXYZ",value:function(t){var e=this;return this.getXYZs(t).forEach((function(t){t.getImpl().destroy(),e.layers_=e.layers_.filter((function(e){return!e.equals(t)})),t.fire(p.D,[t])})),this}},{key:"getTMS",value:function(t){var e=[],r=t,n=this.layers_.filter((function(t){return t.type===u.TMS}));return Object(_.X)(r)&&(r=[]),Object(_.R)(r)||(r=[r]),0===r.length?e=n:r.forEach((function(t){var r=n.filter((function(r){var n=!0;return e.includes(r)?n=!1:(Object(_.X)(t.type)||(n=n&&t.type===r.type),Object(_.X)(t.url)||(n=n&&t.url===r.url),Object(_.X)(t.name)||(n=n&&t.name===r.name)),n}));e=e.concat(r)})),e}},{key:"addTMS",value:function(t){var e=this;return t.forEach((function(t){if(t.type===u.TMS&&!Object(_.P)(e.layers_,t))if(t.getImpl().addTo(e.facadeMap_),e.layers_.push(t),!0===t.transparent){var r=e.layers_.length+T.Z_INDEX[u.TMS];t.setZIndex(r)}else t.setZIndex(0)})),this}},{key:"removeTMS",value:function(t){var e=this;return this.getTMS(t).forEach((function(t){t.getImpl().destroy(),e.layers_=e.layers_.filter((function(e){return!e.equals(t)})),t.fire(p.D,[t])})),this}},{key:"getControls",value:function(t){var e=t,r=[],n=this.facadeMap_.getPanels().map((function(t){return t.getControls()}));n.length>0&&(n=n.reduce((function(t,e){return t.concat(e)})));var i=this.controls_.concat(n);Object(_.X)(e)&&(e=[]),Object(_.R)(e)||(e=[e]),0===e.length?r=i:e.forEach((function(t){r=r.concat(i.filter((function(e){var n=!1;return Object(_.P)(r,e)||(Object(_.Z)(t)?n=t===e.name:t instanceof h.a?n=t===e:Object(_.Y)(t)&&(n=t.name===e.name)),n})))}));var o=[];return r.forEach((function(t){o.map((function(t){return t.name})).includes(t.name)||o.push(t)})),o}},{key:"addControls",value:function(t){var e=this;return t.forEach((function(t){t instanceof l.a&&e.facadeMap_.addControls(M.config.controls.default.split(",")),Object(_.P)(e.controls_,t)||e.controls_.push(t)})),this}},{key:"removeControls",value:function(t){var e=this;return this.getControls(t).forEach((function(t){t.destroy(),e.controls_=e.controls_.filter((function(e){var r=e.constructor===t.constructor;return Object(_.X)(e.equals)||(r=!e.equals(t)),r}))})),this}},{key:"setMaxExtent",value:function(t,e){var r=t;return Object(_.X)(r)||Object(_.R)(r)||!Object(_.Y)(r)||(r=[t.x.min,t.y.min,t.x.max,t.y.max]),this.getMapImpl().getView().set("extent",r),this.updateResolutionsFromBaseLayer(),Object(_.X)(r)||!1===e||this.setBbox(r),this}},{key:"getMaxExtent",value:function(){var t=this.getMapImpl().getView().get("extent");return Object(_.X)(t)?this.envolvedMaxExtent_:{x:{min:t[0],max:t[2]},y:{min:t[1],max:t[3]}}}},{key:"getCapabilities",value:(E=I().mark((function t(e,r,n){var i,a,s,c,l,u,h,f,p;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e,a=r,s=this.getProjection(),c="WMS"===n?Object(_.M)(i,a):Object(_.N)(i,a),t.next=6,Object(g.b)(c);case 6:if(l=t.sent,u=l.xml,h="WMS"===n?new w.a:new o.a,"WMS"!==n){t.next=15;break}return t.next=12,h.customRead(u);case 12:t.t0=t.sent,t.next=18;break;case 15:return t.next=17,h.read(u);case 17:t.t0=t.sent;case 18:if(f=t.t0,"WMS"!==n){t.next=26;break}return t.next=22,new v.a(f,i,s);case 22:p=t.sent,this.getCapabilitiesPromise=p,t.next=28;break;case 26:try{f.Contents.Layer.forEach((function(t){var e=t.Identifier;t.Style.forEach((function(t){var r=l.text.split("Layer>").filter((function(t){return t.indexOf("Identifier>".concat(e,"<"))>-1}))[0];t.LegendURL=r.split("LegendURL")[1].split('xlink:href="')[1].split('"')[0]}))}))}catch(t){}this.getCapabilitiesPromise=f;case 28:return t.abrupt("return",this.getCapabilitiesPromise);case 29:case"end":return t.stop()}}),t,this)})),S=function(){var t=this,e=arguments;return new Promise((function(r,n){var i=E.apply(t,e);function o(t){L(i,r,n,o,a,"next",t)}function a(t){L(i,r,n,o,a,"throw",t)}o(void 0)}))},function(t,e,r){return S.apply(this,arguments)})},{key:"setBbox",value:function(t,e){var r;return Object(_.X)(t)&&Object(m.a)(Object(y.e)("exception").no_bbox),this.userBbox_=t,Object(_.R)(t)?r=t:Object(_.Y)(t)&&(r=[t.x.min,t.y.min,t.x.max,t.y.max]),this.getMapImpl().getView().fit(r,e),this}},{key:"getBbox",value:function(){var t=null,e=this.getMapImpl(),r=e.getView();if(!Object(_.X)(r.getCenter())){var n=r.calculateExtent(e.getSize());Object(_.X)(n)||(t={x:{min:n[0],max:n[2]},y:{min:n[1],max:n[3]}})}return t}},{key:"setZoom",value:function(t){return Object(_.X)(t)&&Object(m.a)(Object(y.e)("exception").no_zoom),this.getMapImpl().getView().setUserZoom(t),this}},{key:"setMinZoom",value:function(t){return Object(_.X)(t)&&Object(m.a)(Object(y.e)("exception").no_zoom),this.getMapImpl().getView().setMinZoom(t),this}},{key:"setMaxZoom",value:function(t){return Object(_.X)(t)&&Object(m.a)(Object(y.e)("exception").no_zoom),this.getMapImpl().getView().setMaxZoom(t),this}},{key:"getZoom",value:function(){var t=null,e=this.getMapImpl().getView(),r=e.getResolution(),n=this.getResolutions();if(Object(_.X)(n))Object(_.X)(r)||(t=e.getZoomForResolution(r));else for(var i=0,o=n.length;i<o;i+=1)if(n[i]<=r){t=i;break}return t}},{key:"getMinZoom",value:function(){var t;return this.getMapImpl()&&this.getMapImpl().getView()&&(t=this.getMapImpl().getView().getMinZoom()),t}},{key:"getMaxZoom",value:function(){var t;return this.getMapImpl()&&this.getMapImpl().getView()&&(t=this.getMapImpl().getView().getMaxZoom()),t}},{key:"setCenter",value:function(t){Object(_.X)(t)&&Object(m.a)(Object(y.e)("exception").no_center);var e=[t.x,t.y],r=this.getMapImpl().getView(),n=r.getCenter();return Object(_.X)(n)||this.getMapImpl().getView().animate({duration:250,source:n}),r.setCenter(e),this}},{key:"getCenter",value:function(){var t=null,e=this.getMapImpl().getView().getCenter();return Object(_.X)(e)||(t={x:e[0],y:e[1]}),t}},{key:"setZoomConstrains",value:function(t){return Object(_.X)(t)&&Object(m.a)(Object(y.e)("exception").no_zoomConstrains),this.getMapImpl().getView().setConstrainResolution(t),this}},{key:"getZoomConstrains",value:function(){return this.getMapImpl().getView().getConstrainResolution()}},{key:"getResolutions",value:function(){return this.getMapImpl().getView().getResolutions()}},{key:"setResolutions",value:function(t,e){Object(_.X)(t)&&Object(m.a)(Object(y.e)("exception").no_resolutions),Object(_.X)(e)&&(this.userResolutions_=t);var r,n=Object(i.j)(this.getProjection().code),o=this.getMapImpl(),a=o.getView().getProperties(),s=o.getView().getUserZoom(),c=o.getView().getMinZoom(),l=o.getView().getMaxZoom(),u=o.getSize(),h=new O.a(P(P({},this.objectView),{},{projection:n}));if(void 0!==this.viewExtent&&4===this.viewExtent.length&&(h=new O.a(P(P({},this.objectView),{},{projection:n,extent:this.viewExtent}))),h.setProperties(a),h.setResolutions(t),h.setUserZoom(s),h.setMinZoom(c),h.setMaxZoom(l),Object(_.X)(s)){var f=this.facadeMap_.getBbox();if(!Object(_.X)(f)){var p=h.getResolutionForExtent([f.x.min,f.y.min,f.x.max,f.y.max],u),d=t.map((function(t){return Math.abs(t-p)})),g=d.indexOf(Math.min.apply(Math,x(d)));r=t[g]}}else r=t[s];return h.setResolution(r),o.setView(h),this.getWMS().forEach((function(e){e.getImpl().setResolutions(t)})),this}},{key:"getScale",value:function(){var t=this.getMapImpl().getView().getResolution(),e=this.getProjection().units,r=Object(_.J)(t,e);return Object(_.X)(r)||(r=r>=1e3&&r<=95e4?1e3*Math.round(r/1e3):r>=95e4?1e6*Math.round(r/1e6):Math.round(r)),r}},{key:"getExactScale",value:function(){var t=this.getMapImpl().getView().getResolution(),e=this.getProjection().units,r=Object(_.J)(t,e);return Math.trunc(r)}},{key:"setProjection",value:function(t){Object(_.X)(t)&&Object(m.a)(Object(y.e)("exception").no_projection);var e=Object(i.j)(t.code);Object(_.X)(e)&&(e=new a.a(t));var r=Object(i.j)(this.getProjection().code),n=this.facadeMap_.getMaxExtent(),o=this.facadeMap_.getResolutions(),s=this.getMapImpl(),c=s.getView().getProperties(),l=s.getView().getResolution(),u=s.getView().getUserZoom(),h=s.getView().getMinZoom(),f=s.getView().getMaxZoom(),d=new O.a(P(P({},this.objectView),{},{projection:e}));void 0!==this.viewExtent&&4===this.viewExtent.length&&(d=new O.a(P(P({},this.objectView),{},{projection:e,extent:this.viewExtent}))),d.setProperties(c),Object(_.X)(o)||d.setResolutions(o),Object(_.X)(l)||d.setResolution(l),d.setUserZoom(u),d.setMinZoom(h),d.setMaxZoom(f),s.setView(d),this.facadeMap_.getWMS().forEach((function(e){e.updateMinMaxResolution(t)})),Object(_.X)(n)||(Object(_.R)(n)||(n=[n.x.min,n.y.min,n.x.max,n.y.max]),this.setMaxExtent(b.a.transformExtent(n,r,e),!1)),this.updateResolutionsFromBaseLayer();var g=this.facadeMap_.getPopup();if(!Object(_.X)(g)){var v=g.getCoordinate();Object(_.X)(v)||(v=Object(i.s)(v,r,e),g.setCoordinate(v))}var w=this.facadeMap_.getLabel();if(!Object(_.X)(w)){var M=w.getCoordinate();Object(_.X)(M)||(M=Object(i.s)(M,r,e),w.setCoordinate(M))}return this.fire(p.p),this}},{key:"getProjection",value:function(){var t=this.getMapImpl().getView().getProjection(),e=null;return Object(_.X)(t)||(e={code:t.getCode(),units:t.getUnits(),getExtent:function(){return t.getExtent()}}),e}},{key:"getMapImpl",value:function(){return this.map_}},{key:"removePopup",value:function(t){if(!Object(_.X)(t)){var e=t.getImpl();this.getMapImpl().removeOverlay(e)}return this}},{key:"destroy",value:function(){this.layers_.length=0,this.controls_.length=0,this.popup_=null,this.options_=null,this.map_.setTarget(null),this.map_=null}},{key:"updateResolutionsFromBaseLayer",value:function(){this.fire(p.u),this.refresh()}},{key:"addLabel",value:function(t){return this.label=t,t.show(this.facadeMap_),this}},{key:"getLabel",value:function(){return this.label}},{key:"removeLabel",value:function(){if(!Object(_.X)(this.label)){var t=this.label.getPopup();this.removePopup(t),this.label=null}}},{key:"refresh",value:function(){return this.map_.updateSize(),this}},{key:"getContainer",value:function(){return this.map_.getOverlayContainerStopEvent()}},{key:"setFacadeMap",value:function(t){this.facadeMap_=t}},{key:"registerEvents_",value:function(){this.map_.on("moveend",this.zoomEvent_.bind(this))}},{key:"zoomEvent_",value:function(){this.currentZoom!==this.getZoom()&&(this.facadeMap_.fire(p.s,this.facadeMap_),this.currentZoom=this.getZoom())}},{key:"onMapClick_",value:function(t){var e=t.pixel,r=this.map_.getCoordinateFromPixel(e),n=this.facadeMap_.getLabel();Object(_.X)(n)||n.hide(),this.facadeMap_.fire(p.t,[{pixel:e,coord:r,vendor:t}])}},{key:"onMapMove_",value:function(t){var e=t.pixel,r=this.map_.getCoordinateFromPixel(e);this.facadeMap_.fire(p.B,[{pixel:e,coord:r,vendor:t}])}},{key:"onMapMoveMouse_",value:function(t){var e=t.pixel,r=this.map_.getCoordinateFromPixel(e);this.facadeMap_.fire(p.C,[{pixel:e,coord:r,vendor:t}])}}])&&C(e.prototype,r),c&&C(e,c),Object.defineProperty(e,"prototype",{writable:!1}),T}(c.a);U.Z_INDEX={},U.Z_INDEX_BASELAYER=0,U.Z_INDEX[u.OSM]=40,U.Z_INDEX[u.WMS]=40,U.Z_INDEX[u.WMTS]=40,U.Z_INDEX[u.KML]=40,U.Z_INDEX[u.WFS]=40,U.Z_INDEX[u.MVT]=40,U.Z_INDEX[u.Vector]=40,U.Z_INDEX[u.GeoJSON]=40,U.Z_INDEX[u.MBTiles]=40,U.Z_INDEX[u.MBTilesVector]=40,U.Z_INDEX[u.XYZ]=40,U.Z_INDEX[u.TMS]=40,U.Z_INDEX[u.OGCAPIFeatures]=40,U.Z_INDEX[u.GenericVector]=40,U.Z_INDEX[u.GenericRaster]=40,e.a=U},function(t,e,r){"use strict";r.d(e,"d",(function(){return u})),r.d(e,"c",(function(){return h})),r.d(e,"e",(function(){return f})),r.d(e,"f",(function(){return p})),r.d(e,"g",(function(){return d})),r.d(e,"h",(function(){return m})),r.d(e,"j",(function(){return y})),r.d(e,"l",(function(){return g})),r.d(e,"m",(function(){return _})),r.d(e,"n",(function(){return b})),r.d(e,"k",(function(){return v})),r.d(e,"i",(function(){return O})),r.d(e,"a",(function(){return w})),r.d(e,"p",(function(){return M})),r.d(e,"t",(function(){return T})),r.d(e,"r",(function(){return I})),r.d(e,"q",(function(){return C})),r.d(e,"s",(function(){return A})),r.d(e,"u",(function(){return k})),r.d(e,"o",(function(){return N})),r.d(e,"b",(function(){return F}));var n=r(47),i=r(34),o=r(15),a=r(33),s=r(142),c=r(60),l=r(18),u="10px sans-serif",h="#000",f="round",p=[],d=0,m="round",y=10,g="#000",_="center",b="middle",v=[0,0,0,0],O=1,w=new a.a,M=new s.a;M.setSize=function(){console.warn("labelCache is deprecated.")};var E,x,S,j=null,P={},T=function(){var t,e,r=["monospace","serif"],i=r.length,a="wmytzilWMYTZIL@#/&?$%10";function s(t,n,o){for(var s=!0,c=0;c<i;++c){var l=r[c];if(e=R(t+" "+n+" 32px "+l,a),o!=l){var u=R(t+" "+n+" 32px "+o+","+l,a);s=s&&u!=e}}return!!s}function c(){for(var e=!0,r=w.getKeys(),n=0,i=r.length;n<i;++n){var a=r[n];w.get(a)<100&&(s.apply(this,a.split("\n"))?(Object(o.b)(P),j=null,E=void 0,w.set(a,100)):(w.set(a,w.get(a)+1,!0),e=!1))}e&&(clearInterval(t),t=void 0)}return function(e){var r=Object(n.g)(e);if(r)for(var i=r.families,o=0,a=i.length;o<a;++o){var l=i[o],u=r.style+"\n"+r.weight+"\n"+l;void 0===w.get(u)&&(w.set(u,100,!0),s(r.style,r.weight,l)||(w.set(u,0,!0),void 0===t&&(t=setInterval(c,32))))}}}(),I=(S=P,function(t){var e=S[t];if(null==e)if(c.g){var r=Object(n.g)(t),i=L(t,"g"),o=isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight);P[t]=o*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else x||((x=document.createElement("div")).innerHTML="M",x.style.margin="0 !important",x.style.padding="0 !important",x.style.position="absolute !important",x.style.left="-99999px !important"),x.style.font=t,document.body.appendChild(x),e=x.offsetHeight,S[t]=e,document.body.removeChild(x);return e});function L(t,e){return j||(j=Object(i.a)(1,1)),t!=E&&(j.font=t,E=j.font),j.measureText(e)}function R(t,e){return L(t,e).width}function C(t,e,r){if(e in r)return r[e];var n=R(t,e);return r[e]=n,n}function A(t,e,r){for(var n=e.length,i=0,o=0;o<n;++o){var a=R(t,e[o]);i=Math.max(i,a),r.push(a)}return i}function k(t,e,r,n){0!==e&&(t.translate(r,n),t.rotate(e),t.translate(-r,-n))}function N(t,e,r,n,i,o,a,s,c,l,u){t.save(),1!==r&&(t.globalAlpha*=r),e&&t.setTransform.apply(t,e),n.contextInstructions?(t.translate(c,l),t.scale(u,u),function(t,e){for(var r=t.contextInstructions,n=0,i=r.length;n<i;n+=2)Array.isArray(r[n+1])?e[r[n]].apply(e,r[n+1]):e[r[n]]=r[n+1]}(n,t)):t.drawImage(n,i,o,a,s,c,l,a*u,s*u),t.restore()}var D=null;function F(t){return c.g?Object(l.l)(t):(D||(D=Object(i.a)(1,1).canvas),D.style.transform=Object(l.l)(t),D.style.transform)}},function(t,e,r){"use strict";var n,i=r(19),o=r(17),a=r(16),s=r(33),c=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),l=function(t){function e(e){var r=t.call(this)||this;if(r.id_=void 0,r.geometryName_="geometry",r.style_=null,r.styleFunction_=void 0,r.geometryChangeKey_=null,r.addEventListener(Object(s.b)(r.geometryName_),r.handleGeometryChanged_),e)if("function"==typeof e.getSimplifiedGeometry){var n=e;r.setGeometry(n)}else{var i=e;r.setProperties(i)}return r}return c(e,t),e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var r=this.getGeometry();r&&t.setGeometry(r.clone());var n=this.getStyle();return n&&t.setStyle(n),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(o.c)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Object(o.a)(t,a.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?function(t){if("function"==typeof t)return t;var e;Array.isArray(t)?e=t:(Object(i.a)("function"==typeof t.getZIndex,41),e=[t]);return function(){return e}}(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeEventListener(Object(s.b)(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=t,this.addEventListener(Object(s.b)(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(s.a);e.a=l},function(t,e,r){"use strict";r.d(e,"a",(function(){return E})),r.d(e,"d",(function(){return x})),r.d(e,"c",(function(){return S})),r.d(e,"e",(function(){return j}));var n,i=r(13),o=r(2),a=r(21),s=r(8),c=r(134),l=r(28),u=r(89),h=r(201),f=r(270),p=r(124),d=r(160),m=r(106),y=r(109),g=r(234),_=r(212),b=r(162),v=r(153),O=r(14),w=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),M=function(t){function e(e,r,n){var i=t.call(this)||this;return i.ends_=[],i.flatInteriorPointRevision_=-1,i.flatInteriorPoint_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,void 0!==r&&n?(i.setFlatCoordinates(r,e),i.ends_=n):i.setCoordinates(e,r),i}return w(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?Object(i.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,r,n){return n<Object(o.f)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(p.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(p.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,r,n))},e.prototype.containsXY=function(t,e){return Object(d.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return Object(f.b)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(b.d)(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,Object(y.b)(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Object(o.y)(this.getExtent());this.flatInteriorPoint_=Object(g.a)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new l.a(this.getFlatInteriorPoint(),a.a.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new c.a(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,r=this.ends_,n=[],i=0,o=0,a=r.length;o<a;++o){var s=r[o],l=new c.a(e.slice(i,s),t);n.push(l),i=s}return n},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(b.b)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(b.d)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],n=[];return r.length=Object(v.c)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),r,0,n),new e(r,a.a.XY,n)},e.prototype.getType=function(){return s.a.POLYGON},e.prototype.intersectsExtent=function(t){return Object(_.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var r=Object(m.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()},e}(u.a);function E(t,e,r,n){for(var o=r||32,s=[],c=0;c<o;++c)Object(i.c)(s,Object(h.d)(t,e,2*Math.PI*c/o,n));return s.push(s[0],s[1]),new M(s,a.a.XY,[s.length])}function x(t){var e=t[0],r=t[1],n=t[2],i=t[3],o=[e,r,e,i,n,i,n,r,e,r];return new M(o,a.a.XY,[o.length])}function S(t,e,r){for(var n=e||32,i=t.getStride(),o=t.getLayout(),a=t.getCenter(),s=i*(n+1),c=new Array(s),l=0;l<s;l+=i){c[l]=0,c[l+1]=0;for(var u=2;u<i;u++)c[l+u]=a[u]}var h=[c.length],f=new M(c,o,h);return j(f,a,t.getRadius(),r),f}function j(t,e,r,n){for(var i=t.getFlatCoordinates(),o=t.getStride(),a=i.length/o-1,s=n||0,c=0;c<=a;++c){var l=c*o,u=s+2*Object(O.d)(c,a)*Math.PI/a;i[l]=e[0]+r*Math.cos(u),i[l+1]=e[1]+r*Math.sin(u)}t.changed()}e.b=M},function(t,e,r){"use strict";r.d(e,"d",(function(){return i})),r.d(e,"e",(function(){return o})),r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return s}));var n={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},i=[n.FILL],o=[n.STROKE],a=[n.BEGIN_PATH],s=[n.CLOSE_PATH];e.c=n},function(t,e,r){"use strict";var n,i=r(2),o=r(8),a=r(89),s=r(106),c=r(14),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),u=function(t){function e(e,r){var n=t.call(this)||this;return n.setCoordinates(e,r),n}return l(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,r,n){var i=this.flatCoordinates,o=Object(c.f)(t,e,i[0],i[1]);if(o<n){for(var a=this.stride,s=0;s<a;++s)r[s]=i[s];return r.length=a,o}return n},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return Object(i.n)(this.flatCoordinates,t)},e.prototype.getType=function(){return o.a.POINT},e.prototype.intersectsExtent=function(t){return Object(i.i)(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(s.a)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(a.a);e.a=u},function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return s})),r.d(e,"c",(function(){return c})),r.d(e,"d",(function(){return l})),r.d(e,"e",(function(){return u})),r.d(e,"h",(function(){return h})),r.d(e,"g",(function(){return f})),r.d(e,"i",(function(){return p})),r.d(e,"j",(function(){return d})),r.d(e,"k",(function(){return m})),r.d(e,"f",(function(){return y})),r.d(e,"l",(function(){return g})),r.d(e,"m",(function(){return _})),r.d(e,"n",(function(){return b})),r.d(e,"o",(function(){return v}));var n=r(14),i=r(149),o=r(2);function a(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function s(t,e){var r=e.getRadius(),n=e.getCenter(),i=n[0],o=n[1],a=t[0]-i,s=t[1]-o;0===a&&0===s&&(a=1);var c=Math.sqrt(a*a+s*s);return[i+r*a/c,o+r*s/c]}function c(t,e){var r,n,i=t[0],o=t[1],a=e[0],s=e[1],c=a[0],l=a[1],u=s[0],h=s[1],f=u-c,p=h-l,d=0===f&&0===p?0:(f*(i-c)+p*(o-l))/(f*f+p*p||0);return d<=0?(r=c,n=l):d>=1?(r=u,n=h):(r=c+d*f,n=l+d*p),[r,n]}function l(t){return function(e){return b(e,t)}}function u(t,e,r){var o=Object(n.d)(e+180,360)-180,a=Math.abs(3600*o),s=r||0,c=Math.pow(10,s),l=Math.floor(a/3600),u=Math.floor((a-3600*l)/60),h=a-3600*l-60*u;return(h=Math.ceil(h*c)/c)>=60&&(h=0,u+=1),u>=60&&(u=0,l+=1),l+" "+Object(i.b)(u,2)+" "+Object(i.b)(h,2,s)+""+(0==o?"":" "+t.charAt(o<0?1:0))}function h(t,e,r){return t?e.replace("{x}",t[0].toFixed(r)).replace("{y}",t[1].toFixed(r)):""}function f(t,e){for(var r=!0,n=t.length-1;n>=0;--n)if(t[n]!=e[n]){r=!1;break}return r}function p(t,e){var r=Math.cos(e),n=Math.sin(e),i=t[0]*r-t[1]*n,o=t[1]*r+t[0]*n;return t[0]=i,t[1]=o,t}function d(t,e){return t[0]*=e,t[1]*=e,t}function m(t,e){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function y(t,e){return Math.sqrt(m(t,e))}function g(t,e){return m(t,c(t,e))}function _(t,e){return t?u("NS",t[1],e)+" "+u("EW",t[0],e):""}function b(t,e){return h(t,"{x}, {y}",e)}function v(t,e){var r=e.getExtent();if(e.canWrapX()&&(t[0]<r[0]||t[0]>=r[2])){var n=Object(o.G)(r),i=Math.floor((t[0]-r[0])/n);t[0]-=i*n}return t}},function(t,e,r){"use strict";var n,i=r(13),o=r(2),a=r(21),s=r(8),c=r(89),l=r(124),u=r(106),h=r(109),f=r(202),p=r(212),d=r(371),m=r(370),y=r(153),g=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),_=function(t){function e(e,r){var n=t.call(this)||this;return n.flatMidpoint_=null,n.flatMidpointRevision_=-1,n.maxDelta_=-1,n.maxDeltaRevision_=-1,void 0===r||Array.isArray(e[0])?n.setCoordinates(e,r):n.setFlatCoordinates(r,e),n}return g(e,t),e.prototype.appendCoordinate=function(t){this.flatCoordinates?Object(i.c)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,r,n){return n<Object(o.f)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(l.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(l.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,r,n))},e.prototype.forEachSegment=function(t){return Object(m.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=a.a.XYM&&this.layout!=a.a.XYZM)return null;var r=void 0!==e&&e;return Object(f.b)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r)},e.prototype.getCoordinates=function(){return Object(h.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return Object(f.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},e.prototype.getLength=function(){return Object(d.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[];return r.length=Object(y.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,0),new e(r,a.a.XY)},e.prototype.getType=function(){return s.a.LINE_STRING},e.prototype.intersectsExtent=function(t){return Object(p.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(u.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(c.a);e.a=_},function(t,e,r){"use strict";r.d(e,"c",(function(){return u})),r.d(e,"e",(function(){return h})),r.d(e,"b",(function(){return f})),r.d(e,"a",(function(){return p}));var n=r(368),i=r.n(n);function o(t){return function(t){const e=t.compile;return t.compile=function(t,r){const n=e.call(this,t,r);return function(t,e){return n(t,function(t){return{allowProtoPropertiesByDefault:!0,allowProtoMethodsByDefault:!0,...t}}(e))}},t}(t.create())}var a=r(64),s=r(0),c=r(322),l={},u=function(t,e){var r,n={};Object(s.ab)(e)||(n=Object(s.u)(n,e.vars),r=e.parseToHtml);var a=o(i.a);Object(c.a)(a);var l=a.compile(t)(n);return!1!==r?Object(s.jb)(l):l},h=function(t,e){var r;return Object(s.ab)(e)||(r=e.scope),new Promise((function(n,u){var h=l[t];if(Object(s.ab)(h)){var f=t;Object(s.ab)(e)||!0!==e.jsonp||(f=function(t){var e=null;return Object(s.X)(t)||(e=(e=M.config.MAPEA_URL.concat(M.config.TEMPLATES_PATH)).concat(t)),e}(t));var p=Object(s.X)(e)&&!0===e.jsonp;Object(a.b)(f,null,{jsonp:p}).then((function(e){var a=o(i.a);Object(c.a)(a),h=a.compile(e.text),l[t]=h,n.call(r,h)}))}else n.call(r,h)}))},f=function(t,e){var r,n,i={};return Object(s.ab)(e)||(i=Object(s.u)(i,e.vars),r=e.parseToHtml,n=e.scope),new Promise((function(o,a){h(t,e).then((function(t){var e=t.call(null,i);!1!==r?o.call(n,Object(s.jb)(e)):o.call(n,e)}))}))},p=function(t,e){Object(s.ab)(l[t])&&(l[t]=e)};e.d={}},function(t,e,r){"use strict";r.d(e,"a",(function(){return s})),r.d(e,"b",(function(){return c})),r.d(e,"f",(function(){return l})),r.d(e,"c",(function(){return u})),r.d(e,"d",(function(){return h})),r.d(e,"g",(function(){return f})),r.d(e,"i",(function(){return p})),r.d(e,"m",(function(){return d})),r.d(e,"p",(function(){return m})),r.d(e,"e",(function(){return y})),r.d(e,"j",(function(){return g})),r.d(e,"l",(function(){return _})),r.d(e,"o",(function(){return b})),r.d(e,"q",(function(){return v})),r.d(e,"h",(function(){return O})),r.d(e,"r",(function(){return w})),r.d(e,"k",(function(){return M})),r.d(e,"n",(function(){return E}));var n=r(42),i=r(19),o=r(39),a=r(60),s=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},c=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},l=function(t){return t.target.getTargetElement()===document.activeElement},u=o.b,h=function(t){return t.type==n.a.CLICK},f=function(t){var e=t.originalEvent;return 0==e.button&&!(a.f&&a.d&&e.ctrlKey)},p=o.a,d=function(t){return"pointermove"==t.type},m=function(t){return t.type==n.a.SINGLECLICK},y=function(t){return t.type==n.a.DBLCLICK},g=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},_=function(t){var e=t.originalEvent;return!e.altKey&&(a.d?e.metaKey:e.ctrlKey)&&!e.shiftKey},b=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},v=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},O=function(t){var e=t.pointerEvent;return Object(i.a)(void 0!==e,56),"mouse"==e.pointerType},w=function(t){var e=t.pointerEvent;return Object(i.a)(void 0!==e,56),"touch"===e.pointerType},M=function(t){var e=t.pointerEvent;return Object(i.a)(void 0!==e,56),"pen"===e.pointerType},E=function(t){var e=t.pointerEvent;return Object(i.a)(void 0!==e,56),e.isPrimary&&0===e.button}},function(t,e,r){"use strict";r.d(e,"b",(function(){return p}));var n,i=r(10),o=r(132),a=r(95),s=r(50),c=r(15),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),u=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.key=r,i.oldValue=n,i}return l(e,t),e}(s.a),h=function(t){function e(e){var r=t.call(this)||this;return Object(i.c)(r),r.values_={},void 0!==e&&r.setProperties(e),r}return l(e,t),e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return Object(c.a)({},this.values_)},e.prototype.notify=function(t,e){var r;r=p(t),this.dispatchEvent(new u(r,t,e)),r=o.a.PROPERTYCHANGE,this.dispatchEvent(new u(r,t,e))},e.prototype.set=function(t,e,r){if(r)this.values_[t]=e;else{var n=this.values_[t];this.values_[t]=e,n!==e&&this.notify(t,n)}},e.prototype.setProperties=function(t,e){for(var r in t)this.set(r,t[r],e)},e.prototype.unset=function(t,e){if(t in this.values_){var r=this.values_[t];delete this.values_[t],e||this.notify(t,r)}},e}(a.a),f={};function p(t){return f.hasOwnProperty(t)?f[t]:f[t]="change:"+t}e.a=h},function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"c",(function(){return o})),r.d(e,"b",(function(){return a})),r.d(e,"g",(function(){return s})),r.d(e,"e",(function(){return c})),r.d(e,"d",(function(){return l})),r.d(e,"f",(function(){return u}));var n=r(60);function i(t,e,r){var i=r&&r.length?r.shift():n.g?new OffscreenCanvas(t||300,e||300):document.createElement("canvas");return t&&(i.width=t),e&&(i.height=e),i.getContext("2d")}function o(t){var e=t.offsetWidth,r=getComputedStyle(t);return e+=parseInt(r.marginLeft,10)+parseInt(r.marginRight,10)}function a(t){var e=t.offsetHeight,r=getComputedStyle(t);return e+=parseInt(r.marginTop,10)+parseInt(r.marginBottom,10)}function s(t,e){var r=e.parentNode;r&&r.replaceChild(t,e)}function c(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function l(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function u(t,e){for(var r=t.childNodes,n=0;;++n){var i=r[n],o=e[n];if(!i&&!o)break;i!==o&&(i?o?t.insertBefore(o,i):(t.removeChild(i),--n):t.appendChild(o))}}},function(t,e,r){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},function(t,e,r){"use strict";r.d(e,"b",(function(){return T}));var n=r(91),i=r(49),o=r(0),a=r(2),s=r(4),c=r(25),l=r(76),u=r(8),h=r(28),f=r(30),p=r(134),d=r(26),m=r(62),y=r(54),g=r(59),_=r(101),b=r(135);function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t){return function(t){if(Array.isArray(t))return w(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return w(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function M(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j(n.key),n)}}function E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function x(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?E(Object(r),!0).forEach((function(e){S(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function S(t,e,r){return(e=j(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j(t){var e=function(t,e){if("object"!==v(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===v(e)?e:String(e)}var P=function(t,e){return function(t,e){var r=t;return r[0]=e[0],r[1]=e[1],r}(e,Object(s.l)(t,"EPSG:4326")(function(t){for(var e=[],r=0;r<t.length;r+=1)e.push(t[r]);for(;e.length>2;)e.pop();return e}(e)))},T=function(t,e){var r=[];return t.forEach((function(t){var n=t.geometry.coordinates,i=[];switch(t.geometry.type){case"Point":i=P(e,n);break;case"MultiPoint":for(var o=0;o<n.length;o+=1){var a=P(e,n[o]);i.push(a)}break;case"LineString":for(var s=0;s<n.length;s+=1){var c=P(e,n[s]);i.push(c)}break;case"MultiLineString":for(var l=0;l<n.length;l+=1){for(var u=[],h=0;h<n[l].length;h+=1){var f=P(e,n[l][h]);u.push(f)}i.push(u)}break;case"Polygon":for(var p=0;p<n.length;p+=1){for(var d=[],m=0;m<n[p].length;m+=1){var y=P(e,n[p][m]);d.push(y)}i.push(d)}break;case"MultiPolygon":for(var g=0;g<n.length;g+=1){for(var _=[],b=0;b<n[g].length;b+=1){for(var v=[],O=0;O<n[g][b].length;O+=1){var w=P(e,n[g][b][O]);v.push(w)}_.push(v)}i.push(_)}}var M=function(t,e){return x(x({},t),{},{geometry:{type:t.geometry.type,coordinates:e}})}(t,i);r.push(M)})),r},I=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,v;return e=t,v=[{key:"generateResolutions",value:function(t,e,r,n){var i,s,c,l=[];Object(o.X)(e)&&(i=t.getExtent());var u=Object(a.G)(i)/256;Object(o.X)(r)&&(s=0),Object(o.X)(n)&&(c=20);for(var h=c-s,f=0;f<h;f+=1)l[f]=u/Math.pow(2,f);return l}},{key:"addOverlayImage",value:function(t,e){e.getMapImpl().updateSize();var r=e.getMapImpl().getSize(),n=t.screenXY,i=t.screenXUnits,o=t.screenYUnits,a=t.overlayXY,s=t.overlayXUnits,c=t.overlayYUnits,l=t.size,u=t.src,h=document.createElement("img");h.src=u,h.style.width="".concat(l[0],"px"),h.style.height="".concat(l[1],"px");var f=a[0];"fraction"===s&&(f*=l[0]);var p=a[1];"fraction"===c&&(p=l[1]-p*l[1]),h.style.position="absolute";var d=n[0];"fraction"===i&&(d=d*r[0]-f);var m=n[1];return"fraction"===o&&(m=r[1]-m*r[1]-p),h.style.top="".concat(m,"px"),h.style.left="".concat(d,"px"),e.getMapImpl().getOverlayContainerStopEvent().appendChild(h),h}},{key:"addFacadeName",value:function(t,e){var r=e;if(Object(o.X)(t)&&!Object(o.X)(r.getSource())&&!Object(o.X)(r.getSource().getParams)&&!Object(o.X)(r.getSource().getParams().LAYERS))return r.getSource().getParams().LAYERS;if(Object(o.X)(t)&&!Object(o.X)(r.getSource())&&!Object(o.X)(r.getSource().getUrl)&&!Object(o.X)(r.getSource().getUrl())&&"function"!=typeof r.getSource().getUrl()){var n=null,i=r.getSource().getUrl().split("&typeName=")[1];return Object(o.X)(i)||(n=i.split("&")[0].split(":")),Object(o.X)(n)?Object(o.z)("layer_"):n[1]}return r.getSource().getLayer?r.getSource().getLayer():Object(o.X)(t)?Object(o.z)("layer_"):t}},{key:"addFacadeLegend",value:function(t){var e=t;return e.getProperties()&&e.getProperties().legend?e.getProperties().legend:null}},{key:"getExtentHeight",value:function(t){return t[3]-t[1]}},{key:"getExtentWidth",value:function(t){return t[2]-t[0]}},{key:"getCentroid",value:function(e){var r,n,i,a,s;if(Object(o.X)(e))r=null;else if(e instanceof l.a)r=e;else switch(e.getType()){case"Point":r=e.getCoordinates();break;case"LineString":case"LinearRing":r=(n=e.getCoordinates())[i=Math.floor(n.length/2)];break;case"Polygon":r=t.getCentroid(e.getInteriorPoint());break;case"MultiPoint":a=e.getPoints(),i=Math.floor(a.length/2),r=t.getCentroid(a[i]);break;case"MultiLineString":s=e.getLineStrings(),i=Math.floor(s.length/2),r=t.getCentroid(s[i]);break;case"MultiPolygon":a=e.getInteriorPoints(),r=t.getCentroid(a);break;case"Circle":r=e.getCenter();break;default:return null}return r}},{key:"getFeaturesExtent",value:function(t,e){var r=t.map((function(t){return t instanceof n.a?t.getImpl().getOLFeature():t})),i=[];if(r.forEach((function(t){t.getGeometry()&&i.push(t.getGeometry().getExtent().slice(0))})),1===i.length){var o=r[0].getGeometry();if("Point"===o.getType()){var c=function(t,e){return e/Object(s.j)(t).getMetersPerUnit()}(e,1e3),l=o.getCoordinates()[0],u=o.getCoordinates()[1];i=[[l-c,u-c,l+c,u+c]]}}return 0===i.length?null:i.reduce((function(t,e){return Object(a.r)(t,e)}))}},{key:"getCentroidCoordinate",value:function(e){var r,n,o,a,s,c;return e.getType()===i.i?r=e.getCoordinates():e.getType()===i.e||e.getType()===i.d?r=(n=e.getCoordinates())[o=Math.floor(n.length/2)]:e.getType()===i.j?r=t.getCentroidCoordinate(e.getInteriorPoint()):e.getType()===i.g?(a=e.getPoints(),o=Math.floor(a.length/2),r=t.getCentroidCoordinate(a[o])):e.getType()===i.f?(s=e.getLineStrings(),o=Math.floor(s.length/2),r=t.getCentroidCoordinate(s[o])):e.getType()===i.h?(a=e.getInteriorPoints(),r=t.getCentroidCoordinate(a)):e.getType()===i.a?r=e.getCenter():e.getType()===i.c&&(c=e.getGeometries(),o=Math.floor(c.length/2),r=t.getCentroidCoordinate(c[o])),r}},{key:"transformExtent",value:function(t,e,r){var n=Object(o.Z)(e)?Object(s.j)(e):e,i=Object(o.Z)(r)?Object(s.j)(r):r,a=n.getExtent();return t.every((function(t,e){return e<2?t<=a[e]:t>=a[e]}))?i.getExtent():Object(s.t)(t,n,i)}},{key:"olRenderFeature2olFeature",value:function(t,e,r){var n;if(!Object(o.X)(t)){var i,a=t.getId(),s=t.getProperties();if(Object(o.X)(e)&&Object(o.X)(e))i=this.getGeometryFromRenderFeature(t.getGeometry());else{var l=e.getExtent(),u=e.getWorldExtent();if(!Object(o.X)(l)&&!Object(o.X)(u)){var h=this.cloneOLRenderFeature(t);h.transform(e,r),i=this.getGeometryFromRenderFeature(h.getGeometry())}}n=new c.a,Object(o.X)(a)?n.setId(Object(o.z)("mapea_feature_")):n.setId(a),n.setProperties(s,!0),n.setGeometry(i)}return n}},{key:"cloneOLRenderFeature",value:function(t){var e=t.getType(),r=t.getFlatCoordinates(),n=t.getEnds(),i=t.getProperties(),o=t.getId(),a=O(r),s=Object.assign(i),c=O(n);return new l.a(e,a,c,s,o)}},{key:"getGeometryFromRenderFeature",value:function(t){var e,r=t.getFlatCoordinates(),n=t.getEnds(),i=t.getEndss();switch(t.getType()){case u.a.POINT:e=new h.a(r);break;case u.a.LINE_STRING:e=new f.a(r);break;case u.a.LINEAR_RING:e=new p.a(r);break;case u.a.POLYGON:e=new d.b(r);break;case u.a.MULTI_POINT:e=new m.a(r);break;case u.a.MULTI_LINE_STRING:e=new y.a(r,void 0,n);break;case u.a.MULTI_POLYGON:e=new g.a(r,void 0,i);break;case u.a.GEOMETRY_COLLECTION:var o=t.getGeometries();e=new _.a(o);break;case u.a.CIRCLE:var a=t.getFlatInteriorPoint();e=new b.a(a);break;default:e=null}return e}},{key:"getWMTSScale",value:function(t,e){var r=t.getProjection().code,n=Object(s.j)(r).getMetersPerUnit(),i=t.getMapImpl().getSize(),o=i[0],a=t.getMapImpl().getView().calculateExtent(i),c=n*(a[2]-a[0])/o*1e3/.28;return 1==!e&&(c=c>=1e3&&c<=95e4?1e3*Math.round(c/1e3):c>=95e4?1e6*Math.round(c/1e6):Math.round(c)),Math.trunc(c)}}],(r=null)&&M(e.prototype,r),v&&M(e,v),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.a=I},function(t,e,r){"use strict";var n,i=r(13),o=r(2),a=r(40),s=r(38),c=r(7),l=r(21),u=r(30),h=r(54),f=r(59),p=r(26),d=r(15),m=r(4),y=r(1),g=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),_=s.a+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",b={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},v=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this,n)||this).surface_=void 0!==n.surface&&n.surface,r.curve_=void 0!==n.curve&&n.curve,r.multiCurve_=void 0===n.multiCurve||n.multiCurve,r.multiSurface_=void 0===n.multiSurface||n.multiSurface,r.schemaLocation=n.schemaLocation?n.schemaLocation:_,r.hasZ=void 0!==n.hasZ&&n.hasZ,r}return g(e,t),e.prototype.readMultiCurve_=function(t,e){var r=Object(y.u)([],this.MULTICURVE_PARSERS_,t,e,this);return r?new h.a(r):void 0},e.prototype.readMultiSurface_=function(t,e){var r=Object(y.u)([],this.MULTISURFACE_PARSERS_,t,e,this);if(r)return new f.a(r)},e.prototype.curveMemberParser_=function(t,e){Object(y.t)(this.CURVEMEMBER_PARSERS_,t,e,this)},e.prototype.surfaceMemberParser_=function(t,e){Object(y.t)(this.SURFACEMEMBER_PARSERS_,t,e,this)},e.prototype.readPatch_=function(t,e){return Object(y.u)([null],this.PATCHES_PARSERS_,t,e,this)},e.prototype.readSegment_=function(t,e){return Object(y.u)([null],this.SEGMENTS_PARSERS_,t,e,this)},e.prototype.readPolygonPatch_=function(t,e){return Object(y.u)([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this)},e.prototype.readLineStringSegment_=function(t,e){return Object(y.u)([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},e.prototype.interiorParser_=function(t,e){var r=Object(y.u)(void 0,this.RING_PARSERS,t,e,this);r&&e[e.length-1].push(r)},e.prototype.exteriorParser_=function(t,e){var r=Object(y.u)(void 0,this.RING_PARSERS,t,e,this);r&&(e[e.length-1][0]=r)},e.prototype.readSurface_=function(t,e){var r=Object(y.u)([null],this.SURFACE_PARSERS_,t,e,this);if(r&&r[0]){var n,o=r[0],a=[o.length],s=void 0;for(s=1,n=r.length;s<n;++s)Object(i.c)(o,r[s]),a.push(o.length);return new p.b(o,l.a.XYZ,a)}},e.prototype.readCurve_=function(t,e){var r=Object(y.u)([null],this.CURVE_PARSERS_,t,e,this);return r?new u.a(r,l.a.XYZ):void 0},e.prototype.readEnvelope_=function(t,e){var r=Object(y.u)([null],this.ENVELOPE_PARSERS_,t,e,this);return Object(o.l)(r[1][0],r[1][1],r[2][0],r[2][1])},e.prototype.readFlatPos_=function(t,e){for(var r,n=Object(y.d)(t,!1),i=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,o=[];r=i.exec(n);)o.push(parseFloat(r[1])),n=n.substr(r[0].length);if(""===n){var a=e[0].srsName,s="enu";if(a)s=Object(m.j)(a).getAxisOrientation();if("neu"===s){var c,l=void 0;for(l=0,c=o.length;l<c;l+=3){var u=o[l],h=o[l+1];o[l]=h,o[l+1]=u}}var f=o.length;if(2==f&&o.push(0),0!==f)return o}},e.prototype.readFlatPosList_=function(t,e){var r=Object(y.d)(t,!1).replace(/^\s*|\s*$/g,""),n=e[0],i=n.srsName,o=n.srsDimension,a="enu";i&&(a=Object(m.j)(i).getAxisOrientation());var s,l,u,h=r.split(/\s+/),f=2;t.getAttribute("srsDimension")?f=Object(c.g)(t.getAttribute("srsDimension")):t.getAttribute("dimension")?f=Object(c.g)(t.getAttribute("dimension")):t.parentNode.getAttribute("srsDimension")?f=Object(c.g)(t.parentNode.getAttribute("srsDimension")):o&&(f=Object(c.g)(o));for(var p=[],d=0,g=h.length;d<g;d+=f)s=parseFloat(h[d]),l=parseFloat(h[d+1]),u=3===f?parseFloat(h[d+2]):0,"en"===a.substr(0,2)?p.push(s,l,u):p.push(l,s,u);return p},e.prototype.writePos_=function(t,e,r){var n=r[r.length-1],i=n.hasZ,o=i?"3":"2";t.setAttribute("srsDimension",o);var a=n.srsName,s="enu";a&&(s=Object(m.j)(a).getAxisOrientation());var l,u=e.getCoordinates();(l="en"===s.substr(0,2)?u[0]+" "+u[1]:u[1]+" "+u[0],i)&&(l+=" "+(u[2]||0));Object(c.n)(t,l)},e.prototype.getCoords_=function(t,e,r){var n="enu";e&&(n=Object(m.j)(e).getAxisOrientation());var i="en"===n.substr(0,2)?t[0]+" "+t[1]:t[1]+" "+t[0];r&&(i+=" "+(t[2]||0));return i},e.prototype.writePosList_=function(t,e,r){var n=r[r.length-1],i=n.hasZ,o=i?"3":"2";t.setAttribute("srsDimension",o);for(var a,s=n.srsName,l=e.getCoordinates(),u=l.length,h=new Array(u),f=0;f<u;++f)a=l[f],h[f]=this.getCoords_(a,s,i);Object(c.n)(t,h.join(" "))},e.prototype.writePoint_=function(t,e,r){var n=r[r.length-1].srsName;n&&t.setAttribute("srsName",n);var i=Object(y.c)(t.namespaceURI,"pos");t.appendChild(i),this.writePos_(i,e,r)},e.prototype.writeEnvelope=function(t,e,r){var n=r[r.length-1].srsName;n&&t.setAttribute("srsName",n);var i=[e[0]+" "+e[1],e[2]+" "+e[3]];Object(y.v)({node:t},this.ENVELOPE_SERIALIZERS_,y.a,i,r,["lowerCorner","upperCorner"],this)},e.prototype.writeLinearRing_=function(t,e,r){var n=r[r.length-1].srsName;n&&t.setAttribute("srsName",n);var i=Object(y.c)(t.namespaceURI,"posList");t.appendChild(i),this.writePosList_(i,e,r)},e.prototype.RING_NODE_FACTORY_=function(t,e,r){var n=e[e.length-1],i=n.node,o=n.exteriorWritten;return void 0===o&&(n.exteriorWritten=!0),Object(y.c)(i.namespaceURI,void 0!==o?"interior":"exterior")},e.prototype.writeSurfaceOrPolygon_=function(t,e,r){var n=r[r.length-1],i=n.hasZ,o=n.srsName;if("PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){var a=e.getLinearRings();Object(y.v)({node:t,hasZ:i,srsName:o},this.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,a,r,void 0,this)}else if("Surface"===t.nodeName){var s=Object(y.c)(t.namespaceURI,"patches");t.appendChild(s),this.writeSurfacePatches_(s,e,r)}},e.prototype.writeCurveOrLineString_=function(t,e,r){var n=r[r.length-1].srsName;if("LineStringSegment"!==t.nodeName&&n&&t.setAttribute("srsName",n),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName){var i=Object(y.c)(t.namespaceURI,"posList");t.appendChild(i),this.writePosList_(i,e,r)}else if("Curve"===t.nodeName){var o=Object(y.c)(t.namespaceURI,"segments");t.appendChild(o),this.writeCurveSegments_(o,e,r)}},e.prototype.writeMultiSurfaceOrPolygon_=function(t,e,r){var n=r[r.length-1],i=n.hasZ,o=n.srsName,a=n.surface;o&&t.setAttribute("srsName",o);var s=e.getPolygons();Object(y.v)({node:t,hasZ:i,srsName:o,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},e.prototype.writeMultiPoint_=function(t,e,r){var n=r[r.length-1],i=n.srsName,o=n.hasZ;i&&t.setAttribute("srsName",i);var a=e.getPoints();Object(y.v)({node:t,hasZ:o,srsName:i},this.POINTMEMBER_SERIALIZERS_,Object(y.q)("pointMember"),a,r,void 0,this)},e.prototype.writeMultiCurveOrLineString_=function(t,e,r){var n=r[r.length-1],i=n.hasZ,o=n.srsName,a=n.curve;o&&t.setAttribute("srsName",o);var s=e.getLineStrings();Object(y.v)({node:t,hasZ:i,srsName:o,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},e.prototype.writeRing_=function(t,e,r){var n=Object(y.c)(t.namespaceURI,"LinearRing");t.appendChild(n),this.writeLinearRing_(n,e,r)},e.prototype.writeSurfaceOrPolygonMember_=function(t,e,r){var n=this.GEOMETRY_NODE_FACTORY_(e,r);n&&(t.appendChild(n),this.writeSurfaceOrPolygon_(n,e,r))},e.prototype.writePointMember_=function(t,e,r){var n=Object(y.c)(t.namespaceURI,"Point");t.appendChild(n),this.writePoint_(n,e,r)},e.prototype.writeLineStringOrCurveMember_=function(t,e,r){var n=this.GEOMETRY_NODE_FACTORY_(e,r);n&&(t.appendChild(n),this.writeCurveOrLineString_(n,e,r))},e.prototype.writeSurfacePatches_=function(t,e,r){var n=Object(y.c)(t.namespaceURI,"PolygonPatch");t.appendChild(n),this.writeSurfaceOrPolygon_(n,e,r)},e.prototype.writeCurveSegments_=function(t,e,r){var n=Object(y.c)(t.namespaceURI,"LineStringSegment");t.appendChild(n),this.writeCurveOrLineString_(n,e,r)},e.prototype.writeGeometryElement=function(t,e,r){var n,i=r[r.length-1],o=Object(d.a)({},i);o.node=t,n=Array.isArray(e)?Object(a.b)(e,i):Object(a.c)(e,!0,i),Object(y.v)(o,this.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[n],r,void 0,this)},e.prototype.writeFeatureElement=function(t,e,r){var n=e.getId();n&&t.setAttribute("fid",n);var i=r[r.length-1],o=i.featureNS,a=e.getGeometryName();i.serializers||(i.serializers={},i.serializers[o]={});var s=e.getProperties(),l=[],u=[];for(var h in s){var f=s[h];null!==f&&(l.push(h),u.push(f),h==a||"function"==typeof f.getSimplifiedGeometry?h in i.serializers[o]||(i.serializers[o][h]=Object(y.l)(this.writeGeometryElement,this)):h in i.serializers[o]||(i.serializers[o][h]=Object(y.l)(c.n)))}var p=Object(d.a)({},i);p.node=t,Object(y.v)(p,i.serializers,Object(y.q)(void 0,o),u,r,l)},e.prototype.writeFeatureMembers_=function(t,e,r){var n=r[r.length-1],i=n.featureType,o=n.featureNS,a={};a[o]={},a[o][i]=Object(y.l)(this.writeFeatureElement,this);var s=Object(d.a)({},n);s.node=t,Object(y.v)(s,a,Object(y.q)(i,o),e,r)},e.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,r){var n=e[e.length-1].node;return Object(y.c)(this.namespace,b[n.nodeName])},e.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,r){var n,i=e[e.length-1],o=i.multiSurface,a=i.surface,s=i.curve,c=i.multiCurve;return Array.isArray(t)?n="Envelope":"MultiPolygon"===(n=t.getType())&&!0===o?n="MultiSurface":"Polygon"===n&&!0===a?n="Surface":"LineString"===n&&!0===s?n="Curve":"MultiLineString"===n&&!0===c&&(n="MultiCurve"),Object(y.c)(this.namespace,n)},e.prototype.writeGeometryNode=function(t,e){e=this.adaptOptions(e);var r=Object(y.c)(this.namespace,"geom"),n={node:r,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return e&&Object(d.a)(n,e),this.writeGeometryElement(r,t,[n]),r},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var r=Object(y.c)(this.namespace,"featureMembers");r.setAttributeNS(y.b,"xsi:schemaLocation",this.schemaLocation);var n={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return e&&Object(d.a)(n,e),this.writeFeatureMembers_(r,t,[n]),r},e}(s.b);v.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:Object(y.o)(v.prototype.readFlatPos_),posList:Object(y.o)(v.prototype.readFlatPosList_)}},v.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:v.prototype.interiorParser_,exterior:v.prototype.exteriorParser_}},v.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:Object(y.o)(s.b.prototype.readPoint),MultiPoint:Object(y.o)(s.b.prototype.readMultiPoint),LineString:Object(y.o)(s.b.prototype.readLineString),MultiLineString:Object(y.o)(s.b.prototype.readMultiLineString),LinearRing:Object(y.o)(s.b.prototype.readLinearRing),Polygon:Object(y.o)(s.b.prototype.readPolygon),MultiPolygon:Object(y.o)(s.b.prototype.readMultiPolygon),Surface:Object(y.o)(v.prototype.readSurface_),MultiSurface:Object(y.o)(v.prototype.readMultiSurface_),Curve:Object(y.o)(v.prototype.readCurve_),MultiCurve:Object(y.o)(v.prototype.readMultiCurve_),Envelope:Object(y.o)(v.prototype.readEnvelope_)}},v.prototype.MULTICURVE_PARSERS_={"http://www.opengis.net/gml":{curveMember:Object(y.j)(v.prototype.curveMemberParser_),curveMembers:Object(y.j)(v.prototype.curveMemberParser_)}},v.prototype.MULTISURFACE_PARSERS_={"http://www.opengis.net/gml":{surfaceMember:Object(y.j)(v.prototype.surfaceMemberParser_),surfaceMembers:Object(y.j)(v.prototype.surfaceMemberParser_)}},v.prototype.CURVEMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:Object(y.j)(s.b.prototype.readLineString),Curve:Object(y.j)(v.prototype.readCurve_)}},v.prototype.SURFACEMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:Object(y.j)(s.b.prototype.readPolygon),Surface:Object(y.j)(v.prototype.readSurface_)}},v.prototype.SURFACE_PARSERS_={"http://www.opengis.net/gml":{patches:Object(y.o)(v.prototype.readPatch_)}},v.prototype.CURVE_PARSERS_={"http://www.opengis.net/gml":{segments:Object(y.o)(v.prototype.readSegment_)}},v.prototype.ENVELOPE_PARSERS_={"http://www.opengis.net/gml":{lowerCorner:Object(y.j)(v.prototype.readFlatPosList_),upperCorner:Object(y.j)(v.prototype.readFlatPosList_)}},v.prototype.PATCHES_PARSERS_={"http://www.opengis.net/gml":{PolygonPatch:Object(y.o)(v.prototype.readPolygonPatch_)}},v.prototype.SEGMENTS_PARSERS_={"http://www.opengis.net/gml":{LineStringSegment:Object(y.o)(v.prototype.readLineStringSegment_)}},v.prototype.writeFeatures,v.prototype.RING_SERIALIZERS_={"http://www.opengis.net/gml":{exterior:Object(y.l)(v.prototype.writeRing_),interior:Object(y.l)(v.prototype.writeRing_)}},v.prototype.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:Object(y.l)(c.n),upperCorner:Object(y.l)(c.n)}},v.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:Object(y.l)(v.prototype.writeSurfaceOrPolygonMember_),polygonMember:Object(y.l)(v.prototype.writeSurfaceOrPolygonMember_)}},v.prototype.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:Object(y.l)(v.prototype.writePointMember_)}},v.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:Object(y.l)(v.prototype.writeLineStringOrCurveMember_),curveMember:Object(y.l)(v.prototype.writeLineStringOrCurveMember_)}},v.prototype.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:Object(y.l)(v.prototype.writeCurveOrLineString_),MultiCurve:Object(y.l)(v.prototype.writeMultiCurveOrLineString_),Point:Object(y.l)(v.prototype.writePoint_),MultiPoint:Object(y.l)(v.prototype.writeMultiPoint_),LineString:Object(y.l)(v.prototype.writeCurveOrLineString_),MultiLineString:Object(y.l)(v.prototype.writeMultiCurveOrLineString_),LinearRing:Object(y.l)(v.prototype.writeLinearRing_),Polygon:Object(y.l)(v.prototype.writeSurfaceOrPolygon_),MultiPolygon:Object(y.l)(v.prototype.writeMultiSurfaceOrPolygon_),Surface:Object(y.l)(v.prototype.writeSurfaceOrPolygon_),MultiSurface:Object(y.l)(v.prototype.writeMultiSurfaceOrPolygon_),Envelope:Object(y.l)(v.prototype.writeEnvelope)}},e.a=v},function(t,e,r){"use strict";r.d(e,"a",(function(){return v}));var n,i=r(13),o=r(25),a=r(40),s=r(145),c=r(21),l=r(30),u=r(134),h=r(54),f=r(62),p=r(59),d=r(28),m=r(26),y=r(15),g=r(4),_=r(1),b=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),v="http://www.opengis.net/gml",O=/^[\s\xa0]*$/,w=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.featureType=n.featureType,r.featureNS=n.featureNS,r.srsName=n.srsName,r.schemaLocation="",r.FEATURE_COLLECTION_PARSERS={},r.FEATURE_COLLECTION_PARSERS[r.namespace]={featureMember:Object(_.j)(r.readFeaturesInternal),featureMembers:Object(_.o)(r.readFeaturesInternal)},r}return b(e,t),e.prototype.readFeaturesInternal=function(t,e){var r=t.localName,n=null;if("FeatureCollection"==r)n=Object(_.u)([],this.FEATURE_COLLECTION_PARSERS,t,e,this);else if("featureMembers"==r||"featureMember"==r){var i=e[0],o=i.featureType,a=i.featureNS;if(!o&&t.childNodes){o=[],a={};for(var s=0,c=t.childNodes.length;s<c;++s){var l=t.childNodes[s];if(1===l.nodeType){var u=l.nodeName.split(":").pop();if(-1===o.indexOf(u)){var h="",f=0,p=l.namespaceURI;for(var d in a){if(a[d]===p){h=d;break}++f}h||(a[h="p"+f]=p),o.push(h+":"+u)}}}"featureMember"!=r&&(i.featureType=o,i.featureNS=a)}if("string"==typeof a){var m=a;(a={}).p0=m}var y={},g=Array.isArray(o)?o:[o];for(var b in a){var v={};for(s=0,c=g.length;s<c;++s){(-1===g[s].indexOf(":")?"p0":g[s].split(":")[0])===b&&(v[g[s].split(":").pop()]="featureMembers"==r?Object(_.j)(this.readFeatureElement,this):Object(_.o)(this.readFeatureElement,this))}y[a[b]]=v}n="featureMember"==r?Object(_.u)(void 0,y,t,e):Object(_.u)([],y,t,e)}return null===n&&(n=[]),n},e.prototype.readGeometryElement=function(t,e){var r=e[0];r.srsName=t.firstElementChild.getAttribute("srsName"),r.srsDimension=t.firstElementChild.getAttribute("srsDimension");var n=Object(_.u)(null,this.GEOMETRY_PARSERS,t,e,this);return n?Array.isArray(n)?Object(a.b)(n,r):Object(a.c)(n,!1,r):void 0},e.prototype.readFeatureElementInternal=function(t,e,r){for(var n,i={},a=t.firstElementChild;a;a=a.nextElementSibling){var s=void 0,c=a.localName;0===a.childNodes.length||1===a.childNodes.length&&(3===a.firstChild.nodeType||4===a.firstChild.nodeType)?(s=Object(_.d)(a,!1),O.test(s)&&(s=void 0)):(r&&(s=this.readGeometryElement(a,e)),s?"boundedBy"!==c&&(n=c):s=this.readFeatureElementInternal(a,e,!1)),i[c]?(i[c]instanceof Array||(i[c]=[i[c]]),i[c].push(s)):i[c]=s;var l=a.attributes.length;if(l>0){i[c]={_content_:i[c]};for(var u=0;u<l;u++){var h=a.attributes[u].name;i[c][h]=a.attributes[u].value}}}if(r){var f=new o.a(i);n&&f.setGeometryName(n);var p=t.getAttribute("fid")||Object(_.e)(t,this.namespace,"id");return p&&f.setId(p),f}return i},e.prototype.readFeatureElement=function(t,e){return this.readFeatureElementInternal(t,e,!0)},e.prototype.readPoint=function(t,e){var r=this.readFlatCoordinatesFromNode_(t,e);if(r)return new d.a(r,c.a.XYZ)},e.prototype.readMultiPoint=function(t,e){var r=Object(_.u)([],this.MULTIPOINT_PARSERS_,t,e,this);return r?new f.a(r):void 0},e.prototype.readMultiLineString=function(t,e){var r=Object(_.u)([],this.MULTILINESTRING_PARSERS_,t,e,this);if(r)return new h.a(r)},e.prototype.readMultiPolygon=function(t,e){var r=Object(_.u)([],this.MULTIPOLYGON_PARSERS_,t,e,this);if(r)return new p.a(r)},e.prototype.pointMemberParser_=function(t,e){Object(_.t)(this.POINTMEMBER_PARSERS_,t,e,this)},e.prototype.lineStringMemberParser_=function(t,e){Object(_.t)(this.LINESTRINGMEMBER_PARSERS_,t,e,this)},e.prototype.polygonMemberParser_=function(t,e){Object(_.t)(this.POLYGONMEMBER_PARSERS_,t,e,this)},e.prototype.readLineString=function(t,e){var r=this.readFlatCoordinatesFromNode_(t,e);return r?new l.a(r,c.a.XYZ):void 0},e.prototype.readFlatLinearRing_=function(t,e){var r=Object(_.u)(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this);return r||void 0},e.prototype.readLinearRing=function(t,e){var r=this.readFlatCoordinatesFromNode_(t,e);if(r)return new u.a(r,c.a.XYZ)},e.prototype.readPolygon=function(t,e){var r=Object(_.u)([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this);if(r&&r[0]){var n,o=r[0],a=[o.length],s=void 0;for(s=1,n=r.length;s<n;++s)Object(i.c)(o,r[s]),a.push(o.length);return new m.b(o,c.a.XYZ,a)}},e.prototype.readFlatCoordinatesFromNode_=function(t,e){return Object(_.u)(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},e.prototype.readGeometryFromNode=function(t,e){var r=this.readGeometryElement(t,[this.getReadOptions(t,e||{})]);return r||null},e.prototype.readFeaturesFromNode=function(t,e){var r={featureType:this.featureType,featureNS:this.featureNS};return e&&Object(y.a)(r,this.getReadOptions(t,e)),this.readFeaturesInternal(t,[r])||[]},e.prototype.readProjectionFromNode=function(t){return Object(g.j)(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},e}(s.a);w.prototype.namespace=v,w.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},w.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},w.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},w.prototype.MULTIPOINT_PARSERS_={"http://www.opengis.net/gml":{pointMember:Object(_.j)(w.prototype.pointMemberParser_),pointMembers:Object(_.j)(w.prototype.pointMemberParser_)}},w.prototype.MULTILINESTRING_PARSERS_={"http://www.opengis.net/gml":{lineStringMember:Object(_.j)(w.prototype.lineStringMemberParser_),lineStringMembers:Object(_.j)(w.prototype.lineStringMemberParser_)}},w.prototype.MULTIPOLYGON_PARSERS_={"http://www.opengis.net/gml":{polygonMember:Object(_.j)(w.prototype.polygonMemberParser_),polygonMembers:Object(_.j)(w.prototype.polygonMemberParser_)}},w.prototype.POINTMEMBER_PARSERS_={"http://www.opengis.net/gml":{Point:Object(_.j)(w.prototype.readFlatCoordinatesFromNode_)}},w.prototype.LINESTRINGMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:Object(_.j)(w.prototype.readLineString)}},w.prototype.POLYGONMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:Object(_.j)(w.prototype.readPolygon)}},w.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:Object(_.o)(w.prototype.readFlatLinearRing_)}},e.b=w},function(t,e,r){"use strict";r.d(e,"b",(function(){return i})),r.d(e,"a",(function(){return o})),r.d(e,"c",(function(){return a})),r.d(e,"d",(function(){return s}));var n=r(13);function i(){return!0}function o(){return!1}function a(){}function s(t){var e,r,i,o=!1;return function(){var a=Array.prototype.slice.call(arguments);return o&&this===i&&Object(n.b)(a,r)||(o=!0,i=this,r=a,e=t.apply(this,arguments)),e}}},function(t,e,r){"use strict";r.d(e,"c",(function(){return c})),r.d(e,"b",(function(){return l}));var n=r(15),i=r(10),o=r(4),a=r(55),s=function(){function t(){this.dataProjection=null,this.defaultFeatureProjection=null}return t.prototype.getReadOptions=function(t,e){var r;if(e){var n=e.dataProjection?Object(o.j)(e.dataProjection):this.readProjection(t);e.extent&&n&&n.getUnits()===a.b.TILE_PIXELS&&(n=Object(o.j)(n)).setWorldExtent(e.extent),r={dataProjection:n,featureProjection:e.featureProjection}}return this.adaptOptions(r)},t.prototype.adaptOptions=function(t){return Object(n.a)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},t.prototype.getType=function(){return Object(i.b)()},t.prototype.readFeature=function(t,e){return Object(i.b)()},t.prototype.readFeatures=function(t,e){return Object(i.b)()},t.prototype.readGeometry=function(t,e){return Object(i.b)()},t.prototype.readProjection=function(t){return Object(i.b)()},t.prototype.writeFeature=function(t,e){return Object(i.b)()},t.prototype.writeFeatures=function(t,e){return Object(i.b)()},t.prototype.writeGeometry=function(t,e){return Object(i.b)()},t}();function c(t,e,r){var n,i=r?Object(o.j)(r.featureProjection):null,a=r?Object(o.j)(r.dataProjection):null;if(n=i&&a&&!Object(o.f)(i,a)?(e?t.clone():t).transform(e?i:a,e?a:i):t,e&&r&&void 0!==r.decimals){var s=Math.pow(10,r.decimals);n===t&&(n=t.clone()),n.applyTransform((function(t){for(var e=0,r=t.length;e<r;++e)t[e]=Math.round(t[e]*s)/s;return t}))}return n}function l(t,e){var r=e?Object(o.j)(e.featureProjection):null,n=e?Object(o.j)(e.dataProjection):null;return r&&n&&!Object(o.f)(r,n)?Object(o.t)(t,n,r):t}e.a=s},function(t,e,r){"use strict";r.d(e,"d",(function(){return u})),r.d(e,"a",(function(){return f})),r.d(e,"b",(function(){return p}));var n=r(19),i=r(8),o=r(168),a=r(43),s=r(44);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var l=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=d,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"===c(e)&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=d,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}();function u(t){var e;if("function"==typeof t)e=t;else{var r;if(Array.isArray(t))r=t;else Object(n.a)("function"==typeof t.getZIndex,41),r=[t];e=function(){return r}}return e}var h=null;function f(t,e){if(!h){var r=new a.a({color:"rgba(255,255,255,0.4)"}),n=new s.a({color:"#3399CC",width:1.25});h=[new l({image:new o.a({fill:r,stroke:n,radius:5}),fill:r,stroke:n})]}return h}function p(){var t={},e=[255,255,255,1],r=[0,153,255,1];return t[i.a.POLYGON]=[new l({fill:new a.a({color:[255,255,255,.5]})})],t[i.a.MULTI_POLYGON]=t[i.a.POLYGON],t[i.a.LINE_STRING]=[new l({stroke:new s.a({color:e,width:5})}),new l({stroke:new s.a({color:r,width:3})})],t[i.a.MULTI_LINE_STRING]=t[i.a.LINE_STRING],t[i.a.CIRCLE]=t[i.a.POLYGON].concat(t[i.a.LINE_STRING]),t[i.a.POINT]=[new l({image:new o.a({radius:6,fill:new a.a({color:r}),stroke:new s.a({color:e,width:1.5})}),zIndex:1/0})],t[i.a.MULTI_POINT]=t[i.a.POINT],t[i.a.GEOMETRY_COLLECTION]=t[i.a.POLYGON].concat(t[i.a.LINE_STRING],t[i.a.POINT]),t}function d(t){return t.getGeometry()}e.c=l},function(t,e,r){"use strict";var n=r(16);e.a={SINGLECLICK:"singleclick",CLICK:n.a.CLICK,DBLCLICK:n.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},function(t,e,r){"use strict";var n=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}();e.a=n},function(t,e,r){"use strict";var n=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}();e.a=n},function(t,e,r){"use strict";e.a={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},function(t,e,r){"use strict";r.d(e,"c",(function(){return n})),r.d(e,"d",(function(){return i})),r.d(e,"e",(function(){return o})),r.d(e,"f",(function(){return a})),r.d(e,"b",(function(){return s})),r.d(e,"a",(function(){return c})),r.d(e,"g",(function(){return h}));var n="ol-hidden",i="ol-selectable",o="ol-unselectable",a="ol-unsupported",s="ol-control",c="ol-collapsed",l=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),u=["style","variant","weight","size","lineHeight","family"],h=function(t){var e=t.match(l);if(!e)return null;for(var r={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},n=0,i=u.length;n<i;++n){var o=e[n+1];void 0!==o&&(r[u[n]]=o)}return r.families=r.family.split(/,\s?/),r}},function(t,e,r){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=r(94),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function a(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},a.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"e",(function(){return i})),r.d(e,"j",(function(){return o})),r.d(e,"g",(function(){return a})),r.d(e,"f",(function(){return s})),r.d(e,"h",(function(){return c})),r.d(e,"d",(function(){return l})),r.d(e,"i",(function(){return u})),r.d(e,"c",(function(){return h})),r.d(e,"a",(function(){return f}));var n="Geometry",i="LineString",o="Polygon",a="MultiPoint",s="MultiLineString",c="MultiPolygon",l="LinearRing",u="Point",h="GeometryCollection",f="Circle"},function(t,e,r){"use strict";r.d(e,"b",(function(){return i}));var n=function(){function t(t){this.propagationStopped,this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}();function i(t){t.stopPropagation()}e.a=n},function(t,e,r){"use strict";var n=r(3),i=r(11),o=r(78),a=r(0),s=r(6);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==c(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===c(o)?o:String(o)),n)}var i,o}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=p(t);if(e){var i=p(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f(this,r)}}function f(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(f,t);var e,r,o,c=h(f);function f(t,e){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),r=c.call(this,e);var n=i.Cb(t);return r.attribution=t.attribution,r._type=n.type,r.url=n.url,r.name=n.name,r.transparent=!0,Object(a.X)(n.transparent)?Object(a.X)(t.isBase)||(r.transparent=!t.isBase):r.transparent=n.transparent,r.isBase=!r.transparent,r.maxExtent_=null,r.zindex_=null,r.map_=null,r.userMaxExtent=n.maxExtent||t.maxExtent,r.legend=n.legend,r.minZoom=n.minZoom||Number.NEGATIVE_INFINITY,r.maxZoom=n.maxZoom||Number.POSITIVE_INFINITY,r}return e=f,(r=[{key:"type",get:function(){return this._type},set:function(t){Object(a.ab)(t)||Object(a.X)(t)||t===this._type||Object(n.a)("El tipo de capa debe ser '".concat(this._type).concat("' pero se ha especificado '").concat(t).concat("'"))}},{key:"getLegend",value:function(){return this.getImpl().legend}},{key:"setLegend",value:function(t){this.legend=t,this.getImpl().legend=t}},{key:"url",get:function(){return this.getImpl().url},set:function(t){this.getImpl().url=t}},{key:"name",get:function(){return this.getImpl().name},set:function(t){var e=t;if(Object(a.ab)(t)){var r=Math.floor(9e3*Math.random())+1e3;e="layer_".concat(r)}this.getImpl().name=e}},{key:"isBase",get:function(){return this.getImpl().isBase},set:function(t){Object(a.X)(t)?(this.getImpl().isBase=!1,this.transparent=!0):Object(a.Z)(t)?(this.getImpl().isBase="true"===t,this.transparent="true"!==t):(this.transparent=!t,this.getImpl().isBase=t)}},{key:"transparent",get:function(){return this.getImpl().transparent},set:function(t){Object(a.X)(t)?this.getImpl().transparent=!0:Object(a.Z)(t)?this.getImpl().transparent="true"===Object(a.db)(t):this.getImpl().transparent=t}},{key:"displayInLayerSwitcher",get:function(){return this.getImpl().displayInLayerSwitcher},set:function(t){Object(a.X)(t)?this.getImpl().displayInLayerSwitcher=!0:Object(a.Z)(t)?this.getImpl().displayInLayerSwitcher="true"===Object(a.db)(t):this.getImpl().displayInLayerSwitcher=t}},{key:"getMaxExtent",value:function(){var t=this.userMaxExtent;return Object(a.X)(t)&&(t=this.map_.userMaxExtent,Object(a.X)(t)&&(t=this.map_.getProjection().getExtent())),t}},{key:"calculateMaxExtent",value:function(){var t=this;return new Promise((function(e){return e(t.getMaxExtent())}))}},{key:"setMaxExtent",value:function(t){this.userMaxExtent=t,!Object(a.R)(t)&&Object(a.Y)(t)&&(this.userMaxExtent=[t.x.min,t.y.min,t.x.max,t.y.max]),Object(a.U)(this.getImpl().setMaxExtent)&&(Object(a.X)(t)?this.resetMaxExtent():this.getImpl().setMaxExtent(t))}},{key:"resetMaxExtent",value:function(){var t=this;this.userMaxExtent=null,this.calculateMaxExtent().then((function(e){Object(a.U)(t.getImpl().setMaxExtent)&&t.getImpl().setMaxExtent(e)}))}},{key:"setMap",value:function(t){this.map_=t}},{key:"getLayerGroup",value:function(){return this.getImpl().layerGroup}},{key:"setLayerGroup",value:function(t){this.getImpl().layerGroup=t}},{key:"isVisible",value:function(){return Object(a.ab)(this.getImpl().isVisible)&&Object(n.a)(Object(s.e)("exception").isvisible_method),this.getImpl().isVisible()}},{key:"isQueryable",value:function(){return Object(a.ab)(this.getImpl().isQueryable)&&Object(n.a)(Object(s.e)("exception").isqueryable_method),this.getImpl().isQueryable()}},{key:"setVisible",value:function(t){var e=t;Object(a.X)(e)&&Object(n.a)(Object(s.e)("exception").visibility_param),Object(a.Z)(e)||Object(a.S)(e)||Object(n.a)(Object(s.e)("exception").visibility_param),Object(a.ab)(this.getImpl().setVisible)&&Object(n.a)(Object(s.e)("exception").setvisible_method),e=/^1|(true)$/i.test(e),this.getImpl().setVisible(e)}},{key:"inRange",value:function(){return Object(a.ab)(this.getImpl().inRange)&&Object(n.a)(Object(s.e)("exception").inrage_method),this.getImpl().inRange()}},{key:"getLegendURL",value:function(){return this.getImpl().getLegendURL()}},{key:"setLegendURL",value:function(t){var e=t;Object(a.X)(e)&&(e=Object(a.g)([M.config.THEME_URL,f.LEGEND_DEFAULT])),this.getImpl().setLegendURL(e)}},{key:"getZIndex",value:function(){return this.zindex_}},{key:"setZIndex",value:function(t){this.zindex_=t,this.getImpl().setZIndex(t)}},{key:"getMinZoom",value:function(){return this.minZoom}},{key:"setMinZoom",value:function(t){this.minZoom=t,this.getImpl().setMinZoom(t)}},{key:"getMaxZoom",value:function(){return this.maxZoom}},{key:"setMaxZoom",value:function(t){this.maxZoom=t,this.getImpl().setMaxZoom(t)}},{key:"getOpacity",value:function(){return this.getImpl().getOpacity()}},{key:"setOpacity",value:function(t){this.getImpl().setOpacity(t)}},{key:"getAttribution",value:function(){return this.attribution}},{key:"refresh",value:function(){!Object(a.ab)(this.getImpl().refresh)&&Object(a.U)(this.getImpl().refresh)&&this.getImpl().refresh()}},{key:"generateName_",value:function(){this.name=Object(a.z)("layer_","_".concat(this.type))}}])&&l(e.prototype,r),o&&l(e,o),Object.defineProperty(e,"prototype",{writable:!1}),f}(o.a);d.LEGEND_DEFAULT="/img/legend-default.png",d.LEGEND_ERROR="/img/legend-error.png",e.a=d},function(t,e,r){"use strict";r.r(e),r.d(e,"removeElement",(function(){return c})),r.d(e,"remove",(function(){return l})),r.d(e,"show",(function(){return u})),r.d(e,"info",(function(){return h})),r.d(e,"error",(function(){return f})),r.d(e,"success",(function(){return p}));r(689);var n=r(629),i=r.n(n),o=r(0),a=r(31),s=r(6),c=function(t){t.parentElement.removeChild(t)},l=function(){var t=document.querySelectorAll("div.m-dialog");Array.prototype.forEach.call(t,(function(t){t.parentElement.removeChild(t)}))},u=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l={message:t,title:e,severity:r,order:n};(!0===s.intelligence||!Object(o.ab)(s.intelligence)&&!0===s.intelligence.activate)&&(l.message=Object(o.mb)(t,s.intelligence.sizes));var u=Object(a.c)(i.a,{vars:l}),h=document.querySelector("div.m-mapea-container"),f=u.querySelector("div.m-button > button");f.addEventListener("click",(function(t){return c(u)})),h.appendChild(u)},h=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e;Object(o.X)(i)&&(i=Object(s.e)("dialog").info),u(t,i,"info",r,n)},f=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e;Object(o.X)(i)&&(i=Object(s.e)("dialog").error),u(t,i,"error",r,n)},p=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e;Object(o.X)(i)&&(i=Object(s.e)("dialog").success),u(t,i,"success",r,n)};e.default={}},function(t,e,r){"use strict";r.d(e,"b",(function(){return s})),r.d(e,"a",(function(){return f})),r.d(e,"c",(function(){return d}));var n=r(19),i=r(14),o=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,a=/^([a-z]*)$|^hsla?\(.*\)$/i;function s(t){return"string"==typeof t?t:d(t)}function c(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var r=getComputedStyle(e).color;return document.body.removeChild(e),r}return""}var l,u,h=(l={},u=0,function(t){var e;if(l.hasOwnProperty(t))e=l[t];else{if(u>=1024){var r=0;for(var i in l)0==(3&r++)&&(delete l[i],--u)}e=function(t){var e,r,i,s,l;if(a.exec(t)&&(t=c(t)),o.exec(t)){var u=t.length-1,h=void 0;h=u<=4?1:2;var f=4===u||8===u;e=parseInt(t.substr(1+0*h,h),16),r=parseInt(t.substr(1+1*h,h),16),i=parseInt(t.substr(1+2*h,h),16),s=f?parseInt(t.substr(1+3*h,h),16):255,1==h&&(e=(e<<4)+e,r=(r<<4)+r,i=(i<<4)+i,f&&(s=(s<<4)+s)),l=[e,r,i,s/255]}else 0==t.indexOf("rgba(")?p(l=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((l=t.slice(4,-1).split(",").map(Number)).push(1),p(l)):Object(n.a)(!1,14);return l}(t),l[t]=e,++u}return e});function f(t){return Array.isArray(t)?t:h(t)}function p(t){return t[0]=Object(i.a)(t[0]+.5|0,0,255),t[1]=Object(i.a)(t[1]+.5|0,0,255),t[2]=Object(i.a)(t[2]+.5|0,0,255),t[3]=Object(i.a)(t[3],0,1),t}function d(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var r=t[1];r!=(0|r)&&(r=r+.5|0);var n=t[2];return n!=(0|n)&&(n=n+.5|0),"rgba("+e+","+r+","+n+","+(void 0===t[3]?1:t[3])+")"}},function(t,e,r){"use strict";var n,i=r(13),o=r(2),a=r(21),s=r(8),c=r(30),l=r(89),u=r(124),h=r(106),f=r(109),p=r(202),d=r(212),m=r(153),y=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),g=function(t){function e(e,r,n){var o=t.call(this)||this;if(o.ends_=[],o.maxDelta_=-1,o.maxDeltaRevision_=-1,Array.isArray(e[0]))o.setCoordinates(e,r);else if(void 0!==r&&n)o.setFlatCoordinates(r,e),o.ends_=n;else{for(var a=o.getLayout(),s=e,c=[],l=[],u=0,h=s.length;u<h;++u){var f=s[u];0===u&&(a=f.getLayout()),Object(i.c)(c,f.getFlatCoordinates()),l.push(c.length)}o.setFlatCoordinates(a,c),o.ends_=l}return o}return y(e,t),e.prototype.appendLineString=function(t){this.flatCoordinates?Object(i.c)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,r,n){return n<Object(o.f)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(u.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(u.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,r,n))},e.prototype.getCoordinateAtM=function(t,e,r){if(this.layout!=a.a.XYM&&this.layout!=a.a.XYZM||0===this.flatCoordinates.length)return null;var n=void 0!==e&&e,i=void 0!==r&&r;return Object(p.c)(this.flatCoordinates,0,this.ends_,this.stride,t,n,i)},e.prototype.getCoordinates=function(){return Object(f.b)(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new c.a(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,r=this.layout,n=[],i=0,o=0,a=e.length;o<a;++o){var s=e[o],l=new c.a(t.slice(i,s),r);n.push(l),i=s}return n},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,r=0,n=this.ends_,o=this.stride,a=0,s=n.length;a<s;++a){var c=n[a],l=Object(p.a)(e,r,c,o,.5);Object(i.c)(t,l),r=c}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],n=[];return r.length=Object(m.b)(this.flatCoordinates,0,this.ends_,this.stride,t,r,0,n),new e(r,a.a.XY,n)},e.prototype.getType=function(){return s.a.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return Object(d.b)(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var r=Object(h.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()},e}(l.a);e.a=g},function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},i={};i[n.DEGREES]=2*Math.PI*6370997/360,i[n.FEET]=.3048,i[n.METERS]=1,i[n.USFEET]=1200/3937,e.b=n},function(t,e,r){"use strict";function n(t,e,r){return void 0===r&&(r=[0,0]),r[0]=t[0]+2*e,r[1]=t[1]+2*e,r}function i(t){return t[0]>0&&t[1]>0}function o(t,e,r){return void 0===r&&(r=[0,0]),r[0]=t[0]*e+.5|0,r[1]=t[1]*e+.5|0,r}function a(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return o})),r.d(e,"d",(function(){return a}))},function(t,e,r){"use strict";e.a={ANIMATING:0,INTERACTING:1}},function(t,e,r){"use strict";var n,i=r(10),o=r(67),a=r(72),s=r(132),c=r(13),l=r(19),u=r(17),h=r(50),f=r(16),p=r(2),d=r(221),m=r(39),y=r(186),g=r(15),_=r(166),b=r(61),v=r(104),O=r(237),w=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),M=function(t){function e(e,r){var n=t.call(this,e)||this;return n.feature=r,n}return w(e,t),e}(h.a),E=function(t){function e(e){var r=this,n=e||{};(r=t.call(this,{attributions:n.attributions,projection:void 0,state:b.a.READY,wrapX:void 0===n.wrapX||n.wrapX})||this).loader_=m.c,r.format_=n.format,r.overlaps_=void 0===n.overlaps||n.overlaps,r.url_=n.url,void 0!==n.loader?r.loader_=n.loader:void 0!==r.url_&&(Object(l.a)(r.format_,7),r.loader_=Object(d.c)(r.url_,r.format_)),r.strategy_=void 0!==n.strategy?n.strategy:y.a;var i,a,s=void 0===n.useSpatialIndex||n.useSpatialIndex;return r.featuresRtree_=s?new O.a:null,r.loadedExtentsRtree_=new O.a,r.nullGeometryFeatures_={},r.idIndex_={},r.uidIndex_={},r.featureChangeKeys_={},r.featuresCollection_=null,Array.isArray(n.features)?a=n.features:n.features&&(a=(i=n.features).getArray()),s||void 0!==i||(i=new o.a(a)),void 0!==a&&r.addFeaturesInternal(a),void 0!==i&&r.bindFeaturesCollection_(i),r}return w(e,t),e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=Object(i.c)(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var r=t.getGeometry();if(r){var n=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(n,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new M(v.a.ADDFEATURE,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Object(u.a)(e,f.a.CHANGE,this.handleFeatureChange_,this),Object(u.a)(e,s.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var r=!0,n=e.getId();return void 0!==n&&(n.toString()in this.idIndex_?r=!1:this.idIndex_[n.toString()]=e),r&&(Object(l.a)(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),r},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],r=[],n=[],o=0,a=t.length;o<a;o++){var s=t[o],c=Object(i.c)(s);this.addToIndex_(c,s)&&r.push(s)}o=0;for(var l=r.length;o<l;o++){s=r[o],c=Object(i.c)(s);this.setupChangeEvents_(c,s);var u=s.getGeometry();if(u){var h=u.getExtent();e.push(h),n.push(s)}else this.nullGeometryFeatures_[c]=s}this.featuresRtree_&&this.featuresRtree_.load(e,n);o=0;for(var f=r.length;o<f;o++)this.dispatchEvent(new M(v.a.ADDFEATURE,r[o]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(v.a.ADDFEATURE,(function(r){e||(e=!0,t.push(r.feature),e=!1)})),this.addEventListener(v.a.REMOVEFEATURE,(function(r){e||(e=!0,t.remove(r.feature),e=!1)})),t.addEventListener(a.a.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)}.bind(this)),t.addEventListener(a.a.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(u.c)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var r in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var n=new M(v.a.CLEAR);this.dispatchEvent(n),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var r=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(r,(function(r){return r.getGeometry().intersectsCoordinate(t)?e(r):void 0}))},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,(function(r){if(r.getGeometry().intersectsExtent(t)){var n=e(r);if(n)return n}}))},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Object(g.d)(this.nullGeometryFeatures_)||Object(c.c)(t,Object(g.c)(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray():[]},e.prototype.getClosestFeatureToCoordinate=function(t,e){var r=t[0],n=t[1],i=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],c=e||m.b;return this.featuresRtree_.forEachInExtent(s,(function(t){if(c(t)){var e=t.getGeometry(),l=a;if((a=e.closestPointXY(r,n,o,a))<l){i=t;var u=Math.sqrt(a);s[0]=r-u,s[1]=n-u,s[2]=r+u,s[3]=n+u}}})),i},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,r=Object(i.c)(e),n=e.getGeometry();if(n){var o=n.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[r]=e);var a=e.getId();if(void 0!==a){var s=a.toString();this.idIndex_[s]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[s]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[r]=e;this.changed(),this.dispatchEvent(new M(v.a.CHANGEFEATURE,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:Object(i.c)(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(g.d)(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,r){var n=this.loadedExtentsRtree_,i=this.strategy_(t,e);this.loading=!1;for(var o=function(t,o){var s=i[t];n.forEachInExtent(s,(function(t){return Object(p.h)(t.extent,s)}))||(a.loader_.call(a,s,e,r),n.insert(s,{extent:s.slice()}),a.loading=a.loader_!==m.c)},a=this,s=0,c=i.length;s<c;++s)o(s)},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var e,r=this.loadedExtentsRtree_;r.forEachInExtent(t,(function(r){if(Object(p.q)(r.extent,t))return e=r,!0})),e&&r.remove(e)},e.prototype.removeFeature=function(t){var e=Object(i.c)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=Object(i.c)(t);this.featureChangeKeys_[e].forEach(u.c),delete this.featureChangeKeys_[e];var r=t.getId();void 0!==r&&delete this.idIndex_[r.toString()],delete this.uidIndex_[e],this.dispatchEvent(new M(v.a.REMOVEFEATURE,t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var r in this.idIndex_)if(this.idIndex_[r]===t){delete this.idIndex_[r],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){Object(l.a)(this.format_,7),this.setLoader(Object(d.c)(t,this.format_))},e}(_.a);e.a=E},function(t,e,r){"use strict";var n,i=r(13),o=r(2),a=r(21),s=r(8),c=r(62),l=r(26),u=r(89),h=r(270),f=r(369),p=r(124),d=r(160),m=r(106),y=r(109),g=r(234),_=r(212),b=r(162),v=r(153),O=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),w=function(t){function e(e,r,n){var o=t.call(this)||this;if(o.endss_=[],o.flatInteriorPointsRevision_=-1,o.flatInteriorPoints_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,!n&&!Array.isArray(e[0])){for(var a=o.getLayout(),s=e,c=[],l=[],u=0,h=s.length;u<h;++u){var f=s[u];0===u&&(a=f.getLayout());for(var p=c.length,d=f.getEnds(),m=0,y=d.length;m<y;++m)d[m]+=p;Object(i.c)(c,f.getFlatCoordinates()),l.push(d)}r=a,e=c,n=l}return void 0!==r&&n?(o.setFlatCoordinates(r,e),o.endss_=n):o.setCoordinates(e,r),o}return O(e,t),e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var r=this.flatCoordinates.length;Object(i.c)(this.flatCoordinates,t.getFlatCoordinates());for(var n=0,o=(e=t.getEnds().slice()).length;n<o;++n)e[n]+=r}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,r=new Array(t),n=0;n<t;++n)r[n]=this.endss_[n].slice();return new e(this.flatCoordinates.slice(),this.layout,r)},e.prototype.closestPointXY=function(t,e,r,n){return n<Object(o.f)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(p.f)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(p.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,r,n))},e.prototype.containsXY=function(t,e){return Object(d.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return Object(h.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(b.e)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,Object(y.c)(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=Object(f.a)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Object(g.b)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new c.a(this.getFlatInteriorPoints().slice(),a.a.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(b.c)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(b.e)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],n=[];return r.length=Object(v.d)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),r,0,n),new e(r,a.a.XY,n)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var r=this.endss_[t-1];e=r[r.length-1]}var n=this.endss_[t].slice(),i=n[n.length-1];if(0!==e)for(var o=0,a=n.length;o<a;++o)n[o]-=e;return new l.b(this.flatCoordinates.slice(e,i),this.layout,n)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,r=this.endss_,n=[],i=0,o=0,a=r.length;o<a;++o){var s=r[o].slice(),c=s[s.length-1];if(0!==i)for(var u=0,h=s.length;u<h;++u)s[u]-=i;var f=new l.b(e.slice(i,c),t,s);n.push(f),i=c}return n},e.prototype.getType=function(){return s.a.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return Object(_.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var r=Object(m.d)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===r.length)this.flatCoordinates.length=0;else{var n=r[r.length-1];this.flatCoordinates.length=0===n.length?0:n[n.length-1]}this.changed()},e}(u.a);e.a=w},function(t,e,r){"use strict";r.d(e,"b",(function(){return i})),r.d(e,"f",(function(){return o})),r.d(e,"d",(function(){return a})),r.d(e,"a",(function(){return s})),r.d(e,"g",(function(){return c})),r.d(e,"c",(function(){return l})),r.d(e,"e",(function(){return u}));var n="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",i=-1!==n.indexOf("firefox"),o=(-1!==n.indexOf("safari")&&n.indexOf("chrom"),-1!==n.indexOf("webkit")&&-1==n.indexOf("edge")),a=-1!==n.indexOf("macintosh"),s="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,c="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,l="undefined"!=typeof Image&&Image.prototype.decode,u=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(t){}return t}()},function(t,e,r){"use strict";e.a={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},function(t,e,r){"use strict";var n,i=r(13),o=r(2),a=r(8),s=r(28),c=r(89),l=r(106),u=r(109),h=r(14),f=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),p=function(t){function e(e,r){var n=t.call(this)||this;return r&&!Array.isArray(e[0])?n.setFlatCoordinates(r,e):n.setCoordinates(e,r),n}return f(e,t),e.prototype.appendPoint=function(t){this.flatCoordinates?Object(i.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,r,n){if(n<Object(o.f)(this.getExtent(),t,e))return n;for(var i=this.flatCoordinates,a=this.stride,s=0,c=i.length;s<c;s+=a){var l=Object(h.f)(t,e,i[s],i[s+1]);if(l<n){n=l;for(var u=0;u<a;++u)r[u]=i[s+u];r.length=a}}return n},e.prototype.getCoordinates=function(){return Object(u.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new s.a(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,r=this.stride,n=[],i=0,o=t.length;i<o;i+=r){var a=new s.a(t.slice(i,i+r),e);n.push(a)}return n},e.prototype.getType=function(){return a.a.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,r=this.stride,n=0,i=e.length;n<i;n+=r){var a=e[n],s=e[n+1];if(Object(o.i)(t,a,s))return!0}return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(l.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(c.a);e.a=p},function(t,e,r){"use strict";function n(t,e,r,n){return void 0!==n?(n[0]=t,n[1]=e,n[2]=r,n):[t,e,r]}function i(t,e,r){return t+"/"+e+"/"+r}function o(t){return i(t[0],t[1],t[2])}function a(t){return t.split("/").map(Number)}function s(t){return(t[1]<<t[0])+t[2]}function c(t,e){var r=t[0],n=t[1],i=t[2];if(e.getMinZoom()>r||r>e.getMaxZoom())return!1;var o,a=e.getExtent();return!(o=a?e.getTileRangeForExtentAndZ(a,r):e.getFullTileRange(r))||o.containsXY(n,i)}r.d(e,"a",(function(){return n})),r.d(e,"d",(function(){return i})),r.d(e,"c",(function(){return o})),r.d(e,"b",(function(){return a})),r.d(e,"e",(function(){return s})),r.d(e,"f",(function(){return c}))},function(t,e,r){"use strict";r.d(e,"c",(function(){return a})),r.d(e,"b",(function(){return u})),r.d(e,"d",(function(){return h}));var n=r(0),i=r(127),o=r(349),a={GET:"GET",POST:"POST"},s=function(t,e){var r=M.config.PROXY_URL;return e===a.POST&&(r=M.config.PROXY_POST_URL),r=Object(n.b)(r,{url:t})},c=function(t,e,r){var c=t;Object(n.X)(e)||(c=Object(n.b)(c,e)),i.f&&(c=s(c,a.GET));var l=Object(n.z)("mapea_jsonphandler_");c=Object(n.b)(c,{callback:l});var u=new Promise((function(t,e){var r=t;new Promise((function(t){window[l]=t})).then((function(t){delete window[l],function(t){var e=document.getElementById(t);e.parentNode.removeChild(e)}(l);var e=new o.a;e.parseProxy(t),r(e)}))}));return function(t,e){var r=document.createElement("script");r.type="text/javascript",r.id=e,r.src=t,r.setAttribute("async",""),window.document.body.appendChild(r)}(c,l),u},l=function(t,e,r,a){var c=t,l=e;return!1!==a&&!0===i.f&&(c=s(c,r)),Object(n.Y)(l)&&(l=JSON.stringify(l)),new Promise((function(t,e){var n;window.XMLHttpRequest?n=new XMLHttpRequest:window.ActiveXObject&&(n=new ActiveXObject("Microsoft.XMLHTTP")),n.onreadystatechange=function(){if(4===n.readyState){var e=new o.a;e.parseXmlHttp(n),t(e)}},n.open(r,c,!0),n.send(l)}))},u=function(t,e,r){return!0===((Object(n.X)(r)||!1!==r.jsonp)&&!1!==i.f)?c(t,e):l(t,e,a.GET,!1)},h=function(t,e,r){return l(t,e,a.POST)};e.a={}},function(t,e,r){"use strict";function n(t){return Math.pow(t,3)}function i(t){return 1-n(1-t)}function o(t){return 3*t*t-2*t*t*t}function a(t){return t}function s(t){return t<.5?o(2*t):1-o(2*(t-.5))}r.r(e),r.d(e,"easeIn",(function(){return n})),r.d(e,"easeOut",(function(){return i})),r.d(e,"inAndOut",(function(){return o})),r.d(e,"linear",(function(){return a})),r.d(e,"upAndDown",(function(){return s}))},function(t,e,r){"use strict";var n,i=r(10),o=r(35),a=r(19),s=r(53),c=r(16),l=r(79),u=r(34),h=r(142),f=r(197),p=r(143),d=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),m=function(t){function e(e,r,n,i,o,a){var s=t.call(this)||this;return s.hitDetectionImage_=null,s.image_=e||new Image,null!==i&&(s.image_.crossOrigin=i),s.canvas_=a?document.createElement("canvas"):null,s.color_=a,s.unlisten_=null,s.imageState_=o,s.size_=n,s.src_=r,s.tainted_,s}return d(e,t),e.prototype.isTainted_=function(t){if(void 0===this.tainted_&&this.imageState_===o.a.LOADED){t||(t=Object(u.a)(1,1)).drawImage(this.image_,0,0);try{t.getImageData(0,0,1,1),this.tainted_=!1}catch(t){this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(c.a.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=o.a.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=o.a.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(t){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],r=this.size_[1],n=Object(u.a)(e,r);n.fillRect(0,0,e,r),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==o.a.IDLE){this.imageState_=o.a.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=Object(p.b)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(){if(this.color_){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");if(t.drawImage(this.image_,0,0),this.isTainted_(t)){var e=this.color_;return t.globalCompositeOperation="multiply",t.fillStyle="rgb("+e[0]+","+e[1]+","+e[2]+")",t.fillRect(0,0,this.image_.width,this.image_.height),t.globalCompositeOperation="destination-in",void t.drawImage(this.image_,0,0)}for(var r=t.getImageData(0,0,this.image_.width,this.image_.height),n=r.data,i=this.color_[0]/255,o=this.color_[1]/255,a=this.color_[2]/255,s=0,c=n.length;s<c;s+=4)n[s]*=i,n[s+1]*=o,n[s+2]*=a;t.putImageData(r,0,0)}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(h.a);var y=r(80),g=r(215),_=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),b=function(t){function e(e){var r=this,n=e||{},c=void 0!==n.opacity?n.opacity:1,u=void 0!==n.rotation?n.rotation:0,h=void 0!==n.scale?n.scale:1,p=void 0!==n.rotateWithView&&n.rotateWithView;(r=t.call(this,{opacity:c,rotation:u,scale:h,displacement:void 0!==n.displacement?n.displacement:[0,0],rotateWithView:p})||this).anchor_=void 0!==n.anchor?n.anchor:[.5,.5],r.normalizedAnchor_=null,r.anchorOrigin_=void 0!==n.anchorOrigin?n.anchorOrigin:y.e.TOP_LEFT,r.anchorXUnits_=void 0!==n.anchorXUnits?n.anchorXUnits:l.c.FRACTION,r.anchorYUnits_=void 0!==n.anchorYUnits?n.anchorYUnits:l.c.FRACTION,r.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null;var d=void 0!==n.img?n.img:null,g=void 0!==n.imgSize?n.imgSize:null,_=n.src;Object(a.a)(!(void 0!==_&&d),4),Object(a.a)(!d||d&&g,5),void 0!==_&&0!==_.length||!d||(_=d.src||Object(i.c)(d)),Object(a.a)(void 0!==_&&_.length>0,6);var b=void 0!==n.src?o.a.IDLE:o.a.LOADED;return r.color_=void 0!==n.color?Object(s.a)(n.color):null,r.iconImage_=function(t,e,r,n,i,o){var a=f.a.get(e,n,o);return a||(a=new m(t,e,r,n,i,o),f.a.set(e,n,o,a)),a}(d,_,g,r.crossOrigin_,b,r.color_),r.offset_=void 0!==n.offset?n.offset:[0,0],r.offsetOrigin_=void 0!==n.offsetOrigin?n.offsetOrigin:y.e.TOP_LEFT,r.origin_=null,r.size_=void 0!==n.size?n.size:null,r}return _(e,t),e.prototype.clone=function(){return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==l.c.FRACTION||this.anchorYUnits_==l.c.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==l.c.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==l.c.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=y.e.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=y.e.TOP_RIGHT&&this.anchorOrigin_!=y.e.BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=y.e.BOTTOM_LEFT&&this.anchorOrigin_!=y.e.BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_,e=this.getDisplacement();if(this.offsetOrigin_!=y.e.TOP_LEFT){var r=this.getSize(),n=this.iconImage_.getSize();if(!r||!n)return null;t=t.slice(),this.offsetOrigin_!=y.e.TOP_RIGHT&&this.offsetOrigin_!=y.e.BOTTOM_RIGHT||(t[0]=n[0]-r[0]-t[0]),this.offsetOrigin_!=y.e.BOTTOM_LEFT&&this.offsetOrigin_!=y.e.BOTTOM_RIGHT||(t[1]=n[1]-r[1]-t[1])}return t[0]+=e[0],t[1]+=e[1],this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(c.a.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(c.a.CHANGE,t)},e}(g.a);e.a=b},function(t,e,r){"use strict";var n,i=r(269),o=r(72),a=r(33),s=r(50),c=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),l="length",u=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.element=r,i.index=n,i}return c(e,t),e}(s.a),h=function(t){function e(e,r){var n=t.call(this)||this,i=r||{};if(n.unique_=!!i.unique,n.array_=e||[],n.unique_)for(var o=0,a=n.array_.length;o<a;++o)n.assertUnique_(n.array_[o],o);return n.updateLength_(),n}return c(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,r=t.length;e<r;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,r=0,n=e.length;r<n;++r)t(e[r],r,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(l)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new u(o.a.ADD,e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,r=0,n=e.length;r<n;++r)if(e[r]===t)return this.removeAt(r)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new u(o.a.REMOVE,e,t)),e},e.prototype.setAt=function(t,e){var r=this.getLength();if(t<r){this.unique_&&this.assertUnique_(e,t);var n=this.array_[t];this.array_[t]=e,this.dispatchEvent(new u(o.a.REMOVE,n,t)),this.dispatchEvent(new u(o.a.ADD,e,t))}else{for(var i=r;i<t;++i)this.insertAt(i,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(l,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var r=0,n=this.array_.length;r<n;++r)if(this.array_[r]===t&&r!==e)throw new i.a(58)},e}(a.a);e.a=h},function(t,e,r){"use strict";var n=r(91),i=r(0),o=r(155),a=r(28),s=r(135),c=r(62),l=r(30),u=r(26),h=r(54),f=r(59),p=r(25),d=r(122),m=r(36);function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==y(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===y(o)?o:String(o)),n)}var i,o}var _=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o=r;this.facadeFeature_=null,this.formatter_=new d.a,Object(i.X)(r)?this.olFeature_=new p.a:(Object(i.X)(r.type)&&(o.type="Feature"),this.olFeature_=this.formatter_.readFeature(o)),Object(i.X)(e)?Object(i.X)(this.olFeature_.getId())&&this.olFeature_.setId(Object(i.z)("mapea_feature_")):this.olFeature_.setId(e)}var e,r,y;return e=t,y=[{key:"olFeature2Facade",value:function(t,e){var r=null;return Object(i.X)(t)||(r=new n.a).getImpl().setOLFeature(t,e),r}},{key:"olRenderFeature2Facade",value:function(e,r,n){var i=m.a.olRenderFeature2olFeature(e,r,n);return t.olFeature2Facade(i)}},{key:"facade2OLFeature",value:function(t){return t.getImpl().getOLFeature()}},{key:"getGeometry",value:function(t){var e,r=t.geometry.type;return"circle"===r?e=new s.a(t.geometry.coordinates):"geometry"===r?e=new o.a(t.geometry.coordinates):"linestring"===r?e=new l.a(t.geometry.coordinates):"multilinestring"===r?e=new h.a(t.geometry.coordinates):"multipoint"===r?e=new c.a(t.geometry.coordinates):"multipolygon"===r?e=new f.a(t.geometry.coordinates):"point"===r?e=new a.a(t.geometry.coordinates):"polygon"===r&&(e=new u.b(t.geometry.coordinates)),e}}],(r=[{key:"getOLFeature",value:function(){return this.olFeature_}},{key:"setOLFeature",value:function(t,e){Object(i.X)(t)||(this.olFeature_=t,!1!==e&&Object(i.X)(this.olFeature_.getId())&&this.olFeature_.setId(Object(i.z)("mapea_feature_")))}},{key:"getAttributes",value:function(){var t=this.olFeature_.getProperties(),e=t.geometry;return!Object(i.X)(e)&&e instanceof o.a&&delete t.geometry,t}},{key:"getId",value:function(){return this.olFeature_.getId()}},{key:"setId",value:function(t){this.olFeature_.setId(t)}},{key:"setAttributes",value:function(t){this.olFeature_.setProperties(t)}},{key:"getAttribute",value:function(t){return this.olFeature_.get(t)}},{key:"setAttribute",value:function(t,e){return this.olFeature_.set(t,e)}},{key:"setGeometry",value:function(t){var e=t.type.toLowerCase();"circle"===e?this.olFeature_.setGeometry(new s.a(t.coordinates)):"geometry"===e?this.olFeature_.setGeometry(new o.a(t.coordinates)):"linestring"===e?this.olFeature_.setGeometry(new l.a(t.coordinates)):"multilinestring"===e?this.olFeature_.setGeometry(new h.a(t.coordinates)):"multipoint"===e?this.olFeature_.setGeometry(new c.a(t.coordinates)):"multipolygon"===e?this.olFeature_.setGeometry(new f.a(t.coordinates)):"point"===e?this.olFeature_.setGeometry(new a.a(t.coordinates)):"polygon"===e&&this.olFeature_.setGeometry(new u.b(t.coordinates))}},{key:"setFacadeObj",value:function(t){this.facadeFeature_=t}},{key:"getCentroid",value:function(){var e,r=this.getOLFeature().getGeometry(),n=m.a.getCentroid(r);if(!Object(i.X)(n)){var o=new a.a;o.setCoordinates(n),e=new p.a({geometry:o,name:"centroid"})}return e=e||t.olFeature2Facade(e)}},{key:"clearStyle",value:function(){this.olFeature_.setStyle(null)}}])&&g(e.prototype,r),y&&g(e,y),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.a=_},function(t,e,r){"use strict";var n=r(78),i=r(0),o=r(9);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===a(o)?o:String(o)),n)}var i,o}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=p(t);if(e){var i=p(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f(this,r)}}function f(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(c,t);var e,r,n,a=h(c);function c(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(r=a.call(this,e)).options_=t,r.canvas_=document.createElement("canvas"),r.updateCanvasPromise_=null,r.layer_=null,r}return e=c,n=[{key:"setValue",value:function(t,e,r){var n=r,o=t,a=Object(i.R)(e)?e:e.split("."),l=a.length,u=a[0];1===l?(Object(i.R)(n)?n=s(n):Object(i.Y)(n)&&(n=Object.assign({},n)),o[u]=n):l>1&&(Object(i.X)(o[u])&&(o[u]={}),c.setValue(o[u],a.slice(1,l),n))}},{key:"deserialize",value:function(t){var e=decodeURIComponent(escape(window.atob(t.replace(" ","+")))),r=JSON.parse(e),n=r.parameters,i=r.deserializedMethod;return new Function("serializedParams","return ".concat(i,"(serializedParams)"))(n)}}],(r=[{key:"canvas",get:function(){return this.canvas_}},{key:"apply",value:function(t){this.layer_=t,this.getImpl().applyToLayer(t),this.updateCanvas()}},{key:"unapply",value:function(t){}},{key:"get",value:function(t){var e;if(e=this.options_[t],Object(i.X)(e)){var r=t.split(".");r.length>1&&(e=r.reduce((function(t,e){var r;return Object(i.X)(t)||(r=t[e],t instanceof c&&(r=t.get(e))),r}),this))}return e}},{key:"set",value:function(t,e){var r=this.get(t);return c.setValue(this.options_,t,e),Object(i.X)(this.layer_)||this.getImpl().updateFacadeOptions(this.options_),Object(i.X)(this.feature_)||this.applyToFeature(this.feature_),this.fire(o.p,[t,r,e]),this.refresh(),this}},{key:"refresh",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(i.X)(t)||(this.layer_=t),Object(i.X)(this.layer_)||(this.apply(this.layer_),this.updateCanvas())}},{key:"getOptions",value:function(){return this.options_}},{key:"toImage",value:function(){var t,e=this;if(Object(i.X)(this.updateCanvasPromise_))if(Object(i.X)(this.options_.icon)||Object(i.X)(this.options_.icon.src))t=this.canvas_.toDataURL("png");else{var r=new Image;r.crossOrigin="Anonymous";var n=this.canvas_;r.onload=function(){n.getContext("2d").drawImage(e,0,0,50,50)},r.src=this.options_.icon.src,t=this.canvas_.toDataURL("png")}else t=this.updateCanvasPromise_.then((function(){return e.canvas_.toDataURL("png")}));return t}},{key:"updateCanvas",value:function(){this.updateCanvasPromise_=this.getImpl().updateCanvas(this.canvas_)}},{key:"equals",value:function(t){return this.constructor===t.constructor}},{key:"clone",value:function(){var t={};Object(i.u)(t,this.options_);var e=new(0,this.getImpl().constructor)(t);return new this.constructor(t,e)}},{key:"toJSON",value:function(){return{parameters:[Object(i.kb)(this.getOptions())],deserializedMethod:this.getDeserializedMethod_()}}},{key:"serialize",value:function(){return window.btoa(unescape(encodeURIComponent(JSON.stringify(this))))}}])&&l(e.prototype,r),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(n.a);e.a=d},function(t,e,r){"use strict";r.d(e,"a",(function(){return l}));var n,i=r(42),o=r(85),a=r(15),s=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),c=function(t){function e(e){var r=this,n=e||{};return r=t.call(this,n)||this,n.handleDownEvent&&(r.handleDownEvent=n.handleDownEvent),n.handleDragEvent&&(r.handleDragEvent=n.handleDragEvent),n.handleMoveEvent&&(r.handleMoveEvent=n.handleMoveEvent),n.handleUpEvent&&(r.handleUpEvent=n.handleUpEvent),n.stopDown&&(r.stopDown=n.stopDown),r.handlingDownUpSequence=!1,r.trackedPointers_={},r.targetPointers=[],r}return s(e,t),e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==i.a.POINTERDRAG)this.handleDragEvent(t);else if(t.type==i.a.POINTERUP){var r=this.handleUpEvent(t);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(t.type==i.a.POINTERDOWN){var n=this.handleDownEvent(t);this.handlingDownUpSequence=n,e=this.stopDown(n)}else t.type==i.a.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===i.a.POINTERDOWN||e===i.a.POINTERDRAG||e===i.a.POINTERUP}(t)){var e=t.pointerEvent,r=e.pointerId.toString();t.type==i.a.POINTERUP?delete this.trackedPointers_[r]:(t.type==i.a.POINTERDOWN||r in this.trackedPointers_)&&(this.trackedPointers_[r]=e),this.targetPointers=Object(a.c)(this.trackedPointers_)}},e}(o.a);function l(t){for(var e=t.length,r=0,n=0,i=0;i<e;i++)r+=t[i].clientX,n+=t[i].clientY;return[r/e,n/e]}e.b=c},function(t,e,r){"use strict";r.d(e,"d",(function(){return c})),r.d(e,"b",(function(){return l})),r.d(e,"a",(function(){return u})),r.d(e,"c",(function(){return h}));var n=r(60),i=r(18),o=r(278),a=r(164),s=r(4);function c(t,e){var r=t.canvas,a=e||{},s=a.pixelRatio||n.a,c=a.size;c&&(r.width=c[0]*s,r.height=c[1]*s,r.style.width=c[0]+"px",r.style.height=c[1]+"px");var l=[0,0,r.width,r.height],u=Object(i.j)(Object(i.d)(),s,s);return new o.a(t,s,l,u,0)}function l(t){var e,r=t.frameState,n=Object(i.g)(t.inversePixelTransform.slice(),r.coordinateToPixelTransform),c=Object(a.b)(r.viewState.resolution,r.pixelRatio),l=Object(s.n)();return l&&(e=Object(s.m)(l,r.viewState.projection)),new o.a(t.context,r.pixelRatio,r.extent,n,r.viewState.rotation,c,e)}function u(t,e){var r=e.slice(0);return Object(i.a)(t.inversePixelTransform.slice(),r),r}function h(t,e){e&&e.clear();for(var r=t.declutterItems,n=r.length-1;n>=0;--n)for(var i=r[n],o=i.items,a=0,s=o.length;a<s;a+=3)e=o[a].renderDeclutter(o[a+1],o[a+2],i.opacity,e);return r.length=0,e}},function(t,e,r){"use strict";e.a={ADD:"add",REMOVE:"remove"}},function(t,e,r){"use strict";e.a={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"}},function(t,e,r){"use strict";var n=r(0),i=r(3),o=r(78),a=r(9),s=r(6);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==c(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===c(o)?o:String(o)),n)}var i,o}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=p(t);if(e){var i=p(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f(this,r)}}function f(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(f,t);var e,r,o,c=h(f);function f(t,e){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f);var o=t;return r=c.call(this,o),Object(n.ab)(o.addTo)&&Object(i.a)(Object(s.e)("exception").addto_method),Object(n.ab)(o.getElement)&&Object(i.a)(Object(s.e)("exception").getelement_method),Object(n.ab)(o.isByDefault)&&(o.isByDefault=!0),r.name=e,r.map_=null,r.element_=null,r.activationBtn_=null,r.activated=!1,r.panel_=null,r.controls_=null,r}return e=f,(r=[{key:"setImpl",value:function(t){var e=t;Object(n.ab)(e.addTo)&&Object(i.a)(Object(s.e)("exception").addto_method),Object(n.ab)(e.getElement)&&Object(i.a)(Object(s.e)("exception").getelement_method),Object(n.ab)(e.isByDefault)&&(e.isByDefault=!0)}},{key:"addTo",value:function(t){var e=this;this.map_=t;var r=this.getImpl(),n=this.createView(t);n instanceof Promise?n.then((function(n){e.manageActivation(n),r.addTo(t,n),e.fire(a.i)})):(this.manageActivation(n),r.addTo(t,n),this.fire(a.i))}},{key:"createView",value:function(t){}},{key:"manageActivation",value:function(t){var e=this;this.element_=t,this.activationBtn_=this.getActivationButton(this.element_),Object(n.X)(this.activationBtn_)||this.activationBtn_.addEventListener("click",(function(t){t.preventDefault(),e.activated?(e.deactivate(),e.activated=!1):(e.activate(),e.activated=!0)}),!1)}},{key:"getActivationButton",value:function(t){}},{key:"activate",value:function(){Object(n.X)(this.element_)||this.element_.classList.add("activated"),Object(n.ab)(this.getImpl().activate)||this.getImpl().activate(),this.activated=!0,this.fire(a.a)}},{key:"deactivate",value:function(){Object(n.X)(this.element_)||this.element_.classList.remove("activated"),Object(n.ab)(this.getImpl().deactivate)||this.getImpl().deactivate(),this.activated=!1,this.fire(a.v)}},{key:"getElement",value:function(){return this.getImpl().getElement()}},{key:"setPanel",value:function(t){this.panel_=t}},{key:"getPanel",value:function(){return this.panel_}},{key:"destroy",value:function(){}}])&&l(e.prototype,r),o&&l(e,o),Object.defineProperty(e,"prototype",{writable:!1}),f}(o.a);e.a=d},function(t,e,r){"use strict";var n=r(404),i=(r(690),r(456)),o=r.n(i),a=r(0),s=r(78),c=r(31),l=r(9),u=r(150);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=m(t);if(e){var i=m(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return d(this,r)}}function d(t,e){if(e&&("object"===h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==h(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===h(o)?o:String(o)),n)}var i,o}function g(t,e,r){return e&&y(t.prototype,e),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var b=g((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_(this,t),this.icon=e.icon,this.title=e.title,this.content=e.content,(!0===e.intelligence||!Object(a.ab)(e.intelligence)&&!0===e.intelligence.activate)&&(this.content=Object(a.mb)(this.content,e.intelligence.sizes)),this.listeners=e.listeners||[]})),v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(r,t);var e=p(r);function r(t){var i;_(this,r);var o=new n.a(t);return(i=e.call(this,o)).coord_=null,i.tabs_=[],i.element_=null,i.status_=r.status.COLLAPSED,i}return g(r,[{key:"getTabs",value:function(){return this.tabs_}},{key:"removeTab",value:function(t){this.tabs_=this.tabs_.filter((function(e){return e.content!==t.content})),this.update()}},{key:"addTab",value:function(t){var e=t;e instanceof b||(e=new b(t)),this.tabs_.push(e),this.update()}},{key:"addTo",value:function(t,e){if(this.map_=t,Object(a.X)(this.element_)){var r=Object(c.c)(o.a,{jsonp:!0,vars:{tabs:this.tabs_}});this.tabs_.length>0&&(this.element_=r,this.addEvents(r),this.getImpl().addTo(t,r),this.show(e))}else this.getImpl().addTo(t,this.element_),this.show(e);(/Mobi|Android/i.test(window.navigator.userAgent)||u.a.WIDTH<=M.config.MOBILE_WIDTH)&&(M.config.MOVE_MAP_EXTRACT=!1),M.config.MOVE_MAP_EXTRACT&&this.map_.getMapImpl().getView().animate({zoom:this.map_.getZoom(),center:Object(a.eb)("m-popup",this.map_),duration:1e3})}},{key:"update",value:function(){if(!Object(a.X)(this.map_)){var t=Object(c.c)(o.a,{jsonp:!0,vars:{tabs:this.tabs_}});this.tabs_.length>0&&(this.element_=t,this.addEventTabs(this.tabs_[0],t),this.addEvents(t),this.getImpl().setContainer(t),this.show(this.coord_))}}},{key:"show",value:function(t){var e=this;this.coord_=t,this.getImpl().show(this.coord_,(function(){e.fire(l.G)}))}},{key:"hide",value:function(t){Object(a.X)(t)||t.preventDefault(),this.getImpl().hide()}},{key:"switchTab",value:function(t){if(this.tabs_.length>t){var e=this.tabs_[t];this.setContent_(e.content),this.addEventTabs(e,this.getContent()),this.show(this.coord_)}}},{key:"addEventTabs",value:function(t,e){t.listeners.forEach((function(t){!0===t.all?e.querySelectorAll(t.selector).forEach((function(e){e.addEventListener(t.type,(function(e){return t.callback(e)}))})):e.querySelector(t.selector).addEventListener(t.type,(function(e){return t.callback(e)}))}))}},{key:"setContent_",value:function(t){this.getContent().innerHTML=t}},{key:"getContent",value:function(){return this.getImpl().getContent()}},{key:"addEvents",value:function(t){var e,n=this,i=t,o=i.querySelectorAll("div.m-tab");Array.prototype.forEach.call(o,(function(t){t.addEventListener("click",(function(r){r.preventDefault();var i=r.clientY;if("click"===r.type||Math.abs(e-i)<5){Array.prototype.forEach.call(o,(function(t){t.classList.remove("m-activated")})),t.classList.add("m-activated");var a=t.getAttribute("data-index");n.switchTab(a)}})),t.addEventListener("touchend",(function(r){r.preventDefault();var i=r.clientY;if("touchend"===r.type||Math.abs(e-i)<5){Array.prototype.forEach.call(o,(function(t){t.classList.remove("m-activated")})),t.classList.add("m-activated");var a=t.getAttribute("data-index");n.switchTab(a)}}))}));var s=i.querySelector("a.m-popup-closer");s.addEventListener("click",this.hide.bind(this),!1),s.addEventListener("touchend",this.hide.bind(this),!1);var c=i.querySelector("div.m-tabs");if(Object(a.X)(c)&&(c=i.querySelector("div.m-content > div.m-header")),!Object(a.X)(c)){var l;c.addEventListener("touchstart",(function(t){t.preventDefault(),e=t.touches[0].clientY,n.status_===r.status.COLLAPSED?l=.9*u.a.HEIGHT:n.status_===r.status.DEFAULT?l=.45*u.a.HEIGHT:n.status_===r.status.FULL&&(l=0),i.classList.add("m-no-animation")}),!1),c.addEventListener("touchmove",(function(t){t.preventDefault(),n.touchY=t.touches[0].clientY;var r=n.touchY-e;i.style.top="".concat(l+r,"px")}),!1),c.addEventListener("touchend",(function(t){t.preventDefault(),n.manageCollapsiblePopup_(e,n.touchY)}),!1);var h=window.matchMedia("(max-width: 768px)");setTimeout((function(){return n.manageTransform(h,i)}),10),h.addEventListener("change",(function(t){n.manageTransform(t,i)})),c.addEventListener("mouseup",(function(t){t.preventDefault(),n.tabs_.length<=1&&(n.status_===r.status.COLLAPSED?n.setStatus_(r.status.DEFAULT):n.status_===r.status.DEFAULT?n.setStatus_(r.status.FULL):n.setStatus_(r.status.COLLAPSED))}))}}},{key:"setStatus_",value:function(t){t!==this.status_&&(this.element_.classList.remove(this.status_),this.status_=t,this.element_.classList.add(this.status_),this.element_.style.top="",this.element_.classList.remove("m-no-animation"),u.a.WIDTH<=M.config.MOBILE_WIDTH&&this.getImpl().centerByStatus(t,this.coord_))}},{key:"manageTransform",value:function(t,e){e&&e.parentElement&&(t.matches?e.parentElement.classList.add("unsetTransform"):e.parentElement.classList.remove("unsetTransform"))}},{key:"manageCollapsiblePopup_",value:function(t,e){var n=100*e/u.a.HEIGHT;100*Math.abs(t-e)/u.a.HEIGHT>10?this.status_===r.status.COLLAPSED?n<45?this.setStatus_(r.status.FULL):n<85?this.setStatus_(r.status.DEFAULT):this.setStatus_(r.status.COLLAPSED):this.status_===r.status.DEFAULT?n>45?this.setStatus_(r.status.COLLAPSED):n<45?this.setStatus_(r.status.FULL):this.setStatus_(r.status.DEFAULT):this.status_===r.status.FULL&&(n>45?this.setStatus_(r.status.COLLAPSED):n>0?this.setStatus_(r.status.DEFAULT):this.setStatus_(r.status.FULL)):this.setStatus_(this.status_)}},{key:"getCoordinate",value:function(){return this.coord_}},{key:"setCoordinate",value:function(t){this.coord_=t,Object(a.X)(this.element_)||this.getImpl().show(t)}},{key:"destroy",value:function(){this.tabs_.length=0,this.coord_=null,this.fire(l.w)}}]),r}(s.a);v.status={},v.status.COLLAPSED="m-collapsed",v.status.DEFAULT="m-default",v.status.FULL="m-full",e.a=v},function(t,e,r){"use strict";var n=r(13),i=r(2),o=r(8),a=r(369),s=r(234),c=r(202),l=r(4),u=r(97),h=r(18),f=Object(h.d)(),p=function(){function t(t,e,r,n,i){this.extent_,this.id_=i,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=r,this.properties_=n}return t.prototype.get=function(t){return this.properties_[t]},t.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_===o.a.POINT?Object(i.n)(this.flatCoordinates_):Object(i.p)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},t.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var t=Object(i.y)(this.getExtent());this.flatInteriorPoints_=Object(s.a)(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_},t.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var t=Object(a.a)(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=Object(s.b)(this.flatCoordinates_,0,this.ends_,2,t)}return this.flatInteriorPoints_},t.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=Object(c.a)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},t.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var t=this.flatCoordinates_,e=0,r=this.ends_,i=0,o=r.length;i<o;++i){var a=r[i],s=Object(c.a)(t,e,a,2,.5);Object(n.c)(this.flatMidpoints_,s),e=a}}return this.flatMidpoints_},t.prototype.getId=function(){return this.id_},t.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},t.prototype.getGeometry=function(){return this},t.prototype.getSimplifiedGeometry=function(t){return this},t.prototype.simplifyTransformed=function(t,e){return this},t.prototype.getProperties=function(){return this.properties_},t.prototype.getStride=function(){return 2},t.prototype.getStyleFunction=function(){},t.prototype.getType=function(){return this.type_},t.prototype.transform=function(t,e){var r=(t=Object(l.j)(t)).getExtent(),n=t.getWorldExtent(),o=Object(i.B)(n)/Object(i.B)(r);Object(h.b)(f,n[0],n[3],o,-o,0,0,0),Object(u.c)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,f,this.flatCoordinates_)},t}();p.prototype.getEnds=function(){return this.ends_},p.prototype.getEndss=p.prototype.getEnds,p.prototype.getFlatCoordinates=p.prototype.getOrientedFlatCoordinates,e.a=p},function(t,e,r){"use strict";var n=r(99),i=r(36),o=r(316),a=r(0),s=r(3),c=r(51),l=r(12),u=r(52),h=r(69),f=r(286),p=r(115),d=r(9),m=r(6),y=r(88);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function b(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(t,e,r){return(e=M(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M(n.key),n)}}function M(t){var e=function(t,e){if("object"!==g(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===g(e)?e:String(e)}function E(t,e){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=j(t);if(e){var i=j(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return S(this,r)}}function S(t,e){if(e&&("object"===g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E(t,e)}(b,t);var e,r,g,_=x(b);function b(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;O(this,b);var c=e;c.type=e.type?e.type:l.Vector;var u=r;"string"!=typeof e&&(u.maxExtent=e.maxExtent?e.maxExtent:r.maxExtent,c.maxExtent=u.maxExtent);var h=o||new n.a(u,i);t=_.call(this,c,h),Object(a.ab)(n.a)&&Object(s.a)(Object(m.e)("exception").vectorlayer_method),t.style_=null,t.filter_=null,t.minZoom=c.minZoom,t.maxZoom=c.maxZoom,t.infoEventType=c.infoEventType||"click",t.extract=void 0!==c.extract&&c.extract,t.predefinedStyles=Object(a.ab)(r.predefinedStyles)?[]:r.predefinedStyles;var f=Object(a.ab)(t.constructor.DEFAULT_OPTS_STYLE)?t.constructor.DEFAULT_OPTIONS_STYLE:t.constructor.DEFAULT_OPTS_STYLE;return Object(a.ab)(r.style)&&f?t.predefinedStyles.unshift(new y.a(f)):Object(a.ab)(r.style)?t.predefinedStyles.unshift(new y.a(b.DEFAULT_OPTIONS_STYLE)):t.predefinedStyles.unshift(r.style),t.setStyle(r.style),h.on(d.A,(function(e){return t.fire(d.A,[e])})),t}return e=b,(r=[{key:"getFilter",value:function(){return this.filter_}},{key:"removeFilter",value:function(){this.setFilter(null)}},{key:"addFeatures",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t;Object(a.X)(r)||(Object(a.R)(r)||(r=[r]),this.getImpl().addFeatures(r,e))}},{key:"getFeatures",value:function(t){var e=t;return Object(a.X)(this.getFilter())&&(e=!0),this.getImpl().getFeatures(e,this.filter_)}},{key:"getFeatureById",value:function(t){var e=null;return Object(a.X)(t)?u.error(Object(m.e)("dialog").id_feature):e=this.getImpl().getFeatureById(t),e}},{key:"removeFeatures",value:function(t){var e=t;Object(a.R)(e)||(e=[e]),this.getImpl().removeFeatures(e)}},{key:"clear",value:function(){this.removeFilter(),this.removeFeatures(this.getFeatures(!0))}},{key:"refresh",value:function(){this.getImpl().refresh(!0),this.redraw()}},{key:"redraw",value:function(){this.getImpl().redraw()}},{key:"getFeaturesExtent",value:function(t){return this.getImpl().getFeaturesExtent(!0,this.filter_)}},{key:"extract",get:function(){return this.getImpl().extract},set:function(t){Object(a.X)(t)?this.getImpl().extract=!1:Object(a.Z)(t)?this.getImpl().extract="true"===Object(a.db)(t):this.getImpl().extract=t}},{key:"equals",value:function(t){var e=!1;return t instanceof b&&(e=this.name===t.name),e}},{key:"setStyle",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.DEFAULT_OPTIONS_STYLE;this.getImpl().isLoaded()?(Object(a.X)(this.getStyle())&&this.applyStyle_(n,r),Object(a.X)(t)||this.applyStyle_(t,r)):this.once(d.A,(function(){Object(a.X)(e.getStyle())&&e.applyStyle_(n,r),Object(a.X)(t)||e.applyStyle_(t,r)}))}},{key:"applyStyle_",value:function(t,e){var r=this,n=t;if(Object(a.Z)(n)?n=h.a.deserialize(n):n instanceof h.a||(n=new y.a(n)),n instanceof h.a){var i=n.getOptions();i.point&&(i=i.point),i.icon&&i.icon.src&&"string"==typeof i.icon.src&&i.icon.src.endsWith(".svg")&&(i.icon.fill||i.icon.stroke)?Object(a.cb)(i.icon.src,i).then((function(n){i.icon.src=n,r.applyStyle_(t,e)})):n instanceof h.a&&(!Object(a.X)(this.style_)&&this.style_ instanceof h.a&&this.style_.unapply(this),n.apply(this,e),this.style_=n,this.fire(d.r,[n,this]))}this.fire(d.r,[n,this])}},{key:"getStyle",value:function(){return this.style_}},{key:"clearStyle",value:function(){this.setStyle(null),this.getFeatures().forEach((function(t){return t.clearStyle()}))}},{key:"getLegendURL",value:function(){var t=this.getImpl().getLegendURL();return-1!==t.indexOf(c.a.LEGEND_DEFAULT)&&-1===t.indexOf(c.a.LEGEND_ERROR)&&this.style_ instanceof h.a&&(t=this.style_.toImage()),t}},{key:"getGeometryType",value:function(){var t=null;if(!Object(a.X)(this.getFeatures())){var e=this.getFeatures()[0];Object(a.X)(e)||Object(a.X)(e.getGeometry())||(t=e.getGeometry().type)}return t}},{key:"getMaxExtent",value:function(){return this.getFeaturesExtent()}},{key:"calculateMaxExtent",value:function(){return this.getImpl().getFeaturesExtentPromise(!0,this.filter_)}},{key:"setFilter",value:function(t){if(Object(a.X)(t)||t instanceof f.a){this.filter_=t;var e=this.style_;e instanceof p.a&&e.getImpl().deactivateChangeEvent(),this.redraw(),e instanceof p.a&&(e.getImpl().activateChangeEvent(),e.refresh())}else u.error(Object(m.e)("dialog").vector_filter)}},{key:"toGeoJSON",value:function(){var t=this.map_.getProjection().code,e=this.getFeatures().map((function(t){return t.getGeoJSON()})),r=o.a.getSupportedProjs().filter((function(t){return t.codes.includes("EPSG:4326")}))[0];return{type:"FeatureCollection",crs:{type:"name",properties:{name:r.codes[r.codes.length-2]}},features:Object(i.b)(e,t)}}}])&&w(e.prototype,r),g&&w(e,g),Object.defineProperty(e,"prototype",{writable:!1}),b}(c.a);P.DEFAULT_PARAMS={fill:{color:"rgba(255, 255, 255, 0.4)",opacity:.4},stroke:{color:"#3399CC",width:1.5}},P.DEFAULT_OPTIONS_STYLE={point:b(b({},P.DEFAULT_PARAMS),{},{radius:5}),line:b({},P.DEFAULT_PARAMS),polygon:b({},P.DEFAULT_PARAMS)},e.a=P},function(t,e,r){"use strict";var n=r(0);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(a)?a:String(a)),n)}var o,a}function a(t,e){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return c(this,r)}}function c(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return l(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(u,t);var e,r,i,c=s(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=c.call(this)).impl_=t,!Object(n.X)(e.impl_)&&Object(n.U)(e.impl_.setFacadeObj)&&e.impl_.setFacadeObj(l(e)),e}return e=u,(r=[{key:"getImpl",value:function(){return this.impl_}},{key:"setImpl",value:function(t){this.impl_=t}},{key:"destroy",value:function(){!Object(n.X)(this.impl_)&&Object(n.U)(this.impl_.destroy)&&this.impl_.destroy()}}])&&o(e.prototype,r),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),u}(r(105).a);e.a=h},function(t,e,r){"use strict";e.c={FRACTION:"fraction",PIXELS:"pixels"}},function(t,e,r){"use strict";e.e={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},function(t,e,r){"use strict";r.r(e),r.d(e,"TL",(function(){return n})),r.d(e,"TR",(function(){return i})),r.d(e,"BL",(function(){return o})),r.d(e,"BR",(function(){return a}));var n=".m-top.m-left",i=".m-top.m-right",o=".m-bottom.m-left",a=".m-bottom.m-right"},function(t,e,r){"use strict";var n,i=r(39),o=r(183),a=r(33),s=r(34),c=r(17),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),u=function(t){function e(e){var r=t.call(this)||this;return r.element=e.element?e.element:null,r.target_=null,r.map_=null,r.listenerKeys=[],r.render_=e.render?e.render:i.c,e.target&&r.setTarget(e.target),r}return l(e,t),e.prototype.disposeInternal=function(){Object(s.e)(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&Object(s.e)(this.element);for(var e=0,r=this.listenerKeys.length;e<r;++e)Object(c.c)(this.listenerKeys[e]);(this.listenerKeys.length=0,this.map_=t,this.map_)&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==i.c&&this.listenerKeys.push(Object(c.a)(t,o.a.POSTRENDER,this.render,this)),t.render())},e.prototype.render=function(t){this.render_.call(this,t)},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(a.a);e.a=u},function(t,e,r){(function(t){var r;
/**
 * @license
 *
 * chroma.js - JavaScript library for color conversions
 * 
 * Copyright (c) 2011-2017, Gregor Aisch
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 * 
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 */(function(){var n,i,o,a,s,c,l,u,h,f,p,d,m,y,g,_,b,v,O,w,M,E,x,S,j,P,T,I,L,R,C,A,k,N,D,F,B,U,G,z,W,X,q,V,Y,Z,K,H,J,Q,$,tt,et,rt,nt,it,ot,at,st,ct,lt,ut,ht,ft,pt,dt,mt,yt,gt,_t,bt,vt,Ot,wt,Mt,Et,xt,St,jt,Pt,Tt=[].slice;Et=function(){var t,e,r,n,i;for(t={},n=0,e=(i="Boolean Number String Function Array Date RegExp Undefined Null".split(" ")).length;n<e;n++)r=i[n],t["[object "+r+"]"]=r.toLowerCase();return function(e){var r;return r=Object.prototype.toString.call(e),t[r]||"object"}}(),K=function(t,e,r){return null==e&&(e=0),null==r&&(r=1),t<e&&(t=e),t>r&&(t=r),t},xt=function(t){return t.length>=3?Array.prototype.slice.call(t):t[0]},M=function(t){var e,r;for(t._clipped=!1,t._unclipped=t.slice(0),e=r=0;r<3;e=++r)e<3?((t[e]<0||t[e]>255)&&(t._clipped=!0),t[e]<0&&(t[e]=0),t[e]>255&&(t[e]=255)):3===e&&(t[e]<0&&(t[e]=0),t[e]>1&&(t[e]=1));return t._clipped||delete t._unclipped,t},a=Math.PI,bt=Math.round,x=Math.cos,I=Math.floor,nt=Math.pow,H=Math.log,Ot=Math.sin,wt=Math.sqrt,y=Math.atan2,$=Math.max,m=Math.abs,l=2*a,s=a/3,i=a/180,c=180/a,(w=function(){return arguments[0]instanceof n?arguments[0]:function(t,e,r){r.prototype=t.prototype;var n=new r,i=t.apply(n,e);return Object(i)===i?i:n}(n,arguments,(function(){}))}).default=w,d=[],null!==t&&null!=t.exports&&(t.exports=w),void 0===(r=function(){return w}.apply(e,[]))||(t.exports=r),w.version="1.4.1",p={},h=[],f=!1,n=function(){function t(){var t,e,r,n,i,o,a,s,c;for(o=this,e=[],s=0,n=arguments.length;s<n;s++)null!=(t=arguments[s])&&e.push(t);if(e.length>1&&(a=e[e.length-1]),null!=p[a])o._rgb=M(p[a](xt(e.slice(0,-1))));else{for(f||(h=h.sort((function(t,e){return e.p-t.p})),f=!0),c=0,i=h.length;c<i&&!(a=(r=h[c]).test.apply(r,e));c++);a&&(o._rgb=M(p[a].apply(p,e)))}null==o._rgb&&console.warn("unknown format: "+e),null==o._rgb&&(o._rgb=[0,0,0]),3===o._rgb.length&&o._rgb.push(1)}return t.prototype.toString=function(){return this.hex()},t}(),w._input=p,
/**
  	ColorBrewer colors for chroma.js
  
  	Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The 
  	Pennsylvania State University.
  
  	Licensed under the Apache License, Version 2.0 (the "License"); 
  	you may not use this file except in compliance with the License.
  	You may obtain a copy of the License at	
  	http://www.apache.org/licenses/LICENSE-2.0
  
  	Unless required by applicable law or agreed to in writing, software distributed
  	under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
  	CONDITIONS OF ANY KIND, either express or implied. See the License for the
  	specific language governing permissions and limitations under the License.
  
      @preserve
   */
w.brewer=v={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var t,e;for(t in e=[],v)e.push(v[t.toLowerCase()]=v[t])}(),w.colors=St={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},X=function(){var t,e,r,n,i,a,s;return n=(e=xt(arguments))[0],t=e[1],r=e[2],a=(n+16)/116,i=isNaN(t)?a:a+t/500,s=isNaN(r)?a:a-r/200,a=o.Yn*q(a),i=o.Xn*q(i),s=o.Zn*q(s),[Pt(3.2404542*i-1.5371385*a-.4985314*s),Pt(-.969266*i+1.8760108*a+.041556*s),r=Pt(.0556434*i-.2040259*a+1.0572252*s),e.length>3?e[3]:1]},Pt=function(t){return 255*(t<=.00304?12.92*t:1.055*nt(t,1/2.4)-.055)},q=function(t){return t>o.t1?t*t*t:o.t2*(t-o.t0)},o={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},ht=function(){var t,e,r,n,i,o,a;return r=(n=xt(arguments))[0],e=n[1],t=n[2],o=(i=yt(r,e,t))[0],[116*(a=i[1])-16,500*(o-a),200*(a-i[2])]},gt=function(t){return(t/=255)<=.04045?t/12.92:nt((t+.055)/1.055,2.4)},jt=function(t){return t>o.t3?nt(t,1/3):t/o.t2+o.t0},yt=function(){var t,e,r,n;return r=(n=xt(arguments))[0],e=n[1],t=n[2],r=gt(r),e=gt(e),t=gt(t),[jt((.4124564*r+.3575761*e+.1804375*t)/o.Xn),jt((.2126729*r+.7151522*e+.072175*t)/o.Yn),jt((.0193339*r+.119192*e+.9503041*t)/o.Zn)]},w.lab=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,i=t.apply(n,e);return Object(i)===i?i:n}(n,Tt.call(arguments).concat(["lab"]),(function(){}))},p.lab=X,n.prototype.lab=function(){return ht(this._rgb)},g=function(t){var e,r,n,i,o,a,s,c,l,u,h;return 2===(t=function(){var e,r,n;for(n=[],r=0,e=t.length;r<e;r++)i=t[r],n.push(w(i));return n}()).length?(l=function(){var e,r,n;for(n=[],r=0,e=t.length;r<e;r++)i=t[r],n.push(i.lab());return n}(),o=l[0],a=l[1],e=function(t){var e,r;return r=function(){var r,n;for(n=[],e=r=0;r<=2;e=++r)n.push(o[e]+t*(a[e]-o[e]));return n}(),w.lab.apply(w,r)}):3===t.length?(u=function(){var e,r,n;for(n=[],r=0,e=t.length;r<e;r++)i=t[r],n.push(i.lab());return n}(),o=u[0],a=u[1],s=u[2],e=function(t){var e,r;return r=function(){var r,n;for(n=[],e=r=0;r<=2;e=++r)n.push((1-t)*(1-t)*o[e]+2*(1-t)*t*a[e]+t*t*s[e]);return n}(),w.lab.apply(w,r)}):4===t.length?(h=function(){var e,r,n;for(n=[],r=0,e=t.length;r<e;r++)i=t[r],n.push(i.lab());return n}(),o=h[0],a=h[1],s=h[2],c=h[3],e=function(t){var e,r;return r=function(){var r,n;for(n=[],e=r=0;r<=2;e=++r)n.push((1-t)*(1-t)*(1-t)*o[e]+3*(1-t)*(1-t)*t*a[e]+3*(1-t)*t*t*s[e]+t*t*t*c[e]);return n}(),w.lab.apply(w,r)}):5===t.length&&(r=g(t.slice(0,3)),n=g(t.slice(2,5)),e=function(t){return t<.5?r(2*t):n(2*(t-.5))}),e},w.bezier=function(t){var e;return(e=g(t)).scale=function(){return w.scale(e)},e},w.cubehelix=function(t,e,r,n,i){var o,a,s;return null==t&&(t=300),null==e&&(e=-1.5),null==r&&(r=1),null==n&&(n=1),null==i&&(i=[0,1]),o=0,"array"===Et(i)?a=i[1]-i[0]:(a=0,i=[i,i]),(s=function(s){var c,u,h,f,p;return c=l*((t+120)/360+e*s),f=nt(i[0]+a*s,n),u=(0!==o?r[0]+s*o:r)*f*(1-f)/2,h=x(c),p=Ot(c),w(M([255*(f+u*(-.14861*h+1.78277*p)),255*(f+u*(-.29227*h-.90649*p)),255*(f+u*(1.97294*h)),1]))}).start=function(e){return null==e?t:(t=e,s)},s.rotations=function(t){return null==t?e:(e=t,s)},s.gamma=function(t){return null==t?n:(n=t,s)},s.hue=function(t){return null==t?r:("array"===Et(r=t)?0===(o=r[1]-r[0])&&(r=r[1]):o=0,s)},s.lightness=function(t){return null==t?i:("array"===Et(t)?(i=t,a=t[1]-t[0]):(i=[t,t],a=0),s)},s.scale=function(){return w.scale(s)},s.hue(r),s},w.random=function(){var t,e;for("0123456789abcdef",t="#",e=0;e<6;++e)t+="0123456789abcdef".charAt(I(16*Math.random()));return new n(t)},d=[],D=function(t,e,r,n){var i,o,a,s;for(null==r&&(r=.5),null==n&&(n="rgb"),"object"!==Et(t)&&(t=w(t)),"object"!==Et(e)&&(e=w(e)),a=0,o=d.length;a<o;a++)if(n===(i=d[a])[0]){s=i[1](t,e,r,n);break}if(null==s)throw"color mode "+n+" is not supported";return s.alpha(t.alpha()+r*(e.alpha()-t.alpha()))},w.interpolate=D,n.prototype.interpolate=function(t,e,r){return D(this,t,e,r)},w.mix=D,n.prototype.mix=n.prototype.interpolate,p.rgb=function(){var t,e,r,n;for(t in r=[],e=xt(arguments))n=e[t],r.push(n);return r},w.rgb=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,i=t.apply(n,e);return Object(i)===i?i:n}(n,Tt.call(arguments).concat(["rgb"]),(function(){}))},n.prototype.rgb=function(t){return null==t&&(t=!0),t?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},n.prototype.rgba=function(t){return null==t&&(t=!0),t?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},h.push({p:3,test:function(t){var e;return e=xt(arguments),"array"===Et(e)&&3===e.length||4===e.length&&"number"===Et(e[3])&&e[3]>=0&&e[3]<=1?"rgb":void 0}}),p.lrgb=p.rgb,U=function(t,e,r,i){var o,a;return o=t._rgb,a=e._rgb,new n(wt(nt(o[0],2)*(1-r)+nt(a[0],2)*r),wt(nt(o[1],2)*(1-r)+nt(a[1],2)*r),wt(nt(o[2],2)*(1-r)+nt(a[2],2)*r),i)},u=function(t){var e,r,i,o,a;for(e=1/t.length,a=[0,0,0,0],i=0,r=t.length;i<r;i++)o=t[i]._rgb,a[0]+=nt(o[0],2)*e,a[1]+=nt(o[1],2)*e,a[2]+=nt(o[2],2)*e,a[3]+=o[3]*e;return a[0]=wt(a[0]),a[1]=wt(a[1]),a[2]=wt(a[2]),a[3]>1&&(a[3]=1),new n(M(a))},d.push(["lrgb",U]),w.average=function(t,e){var r,n,i,o,s,c,l,h,f,p,d,m,g;if(null==e&&(e="rgb"),f=t.length,l=(t=t.map((function(t){return w(t)}))).splice(0,1)[0],"lrgb"===e)return u(t);for(h in o=[],s=0,c=0,m=l.get(e))m[h]=m[h]||0,o.push(isNaN(m[h])?0:1),"h"!==e.charAt(h)||isNaN(m[h])||(r=m[h]/180*a,s+=x(r),c+=Ot(r));for(n=l.alpha(),d=0,p=t.length;d<p;d++)for(h in g=(i=t[d]).get(e),n+=i.alpha(),m)isNaN(g[h])||(o[h]+=1,"h"===e.charAt(h)?(r=g[h]/180*a,s+=x(r),c+=Ot(r)):m[h]+=g[h]);for(h in m)if("h"===e.charAt(h)){for(r=y(c/o[h],s/o[h])/a*180;r<0;)r+=360;for(;r>=360;)r-=360;m[h]=r}else m[h]=m[h]/o[h];return w(m,e).alpha(n/f)},R=function(t){var e,r;if(t.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]),[(r=parseInt(t,16))>>16,r>>8&255,255&r,1];if(t.match(/^#?([A-Fa-f0-9]{8})$/))return 9===t.length&&(t=t.substr(1)),[(r=parseInt(t,16))>>24&255,r>>16&255,r>>8&255,bt((255&r)/255*100)/100];if(null!=p.css&&(e=p.css(t)))return e;throw"unknown color: "+t},st=function(t,e){var r,n,i,o,a,s;return null==e&&(e="auto"),a=t[0],i=t[1],n=t[2],r=t[3],"auto"===e&&(e=r<1?"rgba":"rgb"),a=Math.round(a),i=Math.round(i),n=Math.round(n),s=(s="000000"+(a<<16|i<<8|n).toString(16)).substr(s.length-6),o=(o="0"+bt(255*r).toString(16)).substr(o.length-2),"#"+function(){switch(e.toLowerCase()){case"rgba":return s+o;case"argb":return o+s;default:return s}}()},p.hex=function(t){return R(t)},w.hex=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,i=t.apply(n,e);return Object(i)===i?i:n}(n,Tt.call(arguments).concat(["hex"]),(function(){}))},n.prototype.hex=function(t){return null==t&&(t="auto"),st(this._rgb,t)},h.push({p:4,test:function(t){if(1===arguments.length&&"string"===Et(t))return"hex"}}),k=function(){var t,e,r,n,i,o,a,s,c,l,u,h,f,p;if(i=(t=xt(arguments))[0],u=t[1],a=t[2],0===u)c=n=e=255*a;else{for(r=[0,0,0],h=2*a-(f=a<.5?a*(1+u):a+u-a*u),(p=[0,0,0])[0]=(i/=360)+1/3,p[1]=i,p[2]=i-1/3,o=s=0;s<=2;o=++s)p[o]<0&&(p[o]+=1),p[o]>1&&(p[o]-=1),6*p[o]<1?r[o]=h+6*(f-h)*p[o]:2*p[o]<1?r[o]=f:3*p[o]<2?r[o]=h+(f-h)*(2/3-p[o])*6:r[o]=h;c=(l=[bt(255*r[0]),bt(255*r[1]),bt(255*r[2])])[0],n=l[1],e=l[2]}return t.length>3?[c,n,e,t[3]]:[c,n,e]},lt=function(t,e,r){var n,i,o,a,s;return void 0!==t&&t.length>=3&&(t=(a=t)[0],e=a[1],r=a[2]),t/=255,e/=255,r/=255,o=Math.min(t,e,r),i=(($=Math.max(t,e,r))+o)/2,$===o?(s=0,n=Number.NaN):s=i<.5?($-o)/($+o):($-o)/(2-$-o),t===$?n=(e-r)/($-o):e===$?n=2+(r-t)/($-o):r===$&&(n=4+(t-e)/($-o)),(n*=60)<0&&(n+=360),[n,s,i]},w.hsl=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,i=t.apply(n,e);return Object(i)===i?i:n}(n,Tt.call(arguments).concat(["hsl"]),(function(){}))},p.hsl=k,n.prototype.hsl=function(){return lt(this._rgb)},N=function(){var t,e,r,n,i,o,a,s,c,l,u,h,f,p,d,m,y,g;if(i=(t=xt(arguments))[0],m=t[1],g=t[2],g*=255,0===m)c=n=e=g;else switch(360===i&&(i=0),i>360&&(i-=360),i<0&&(i+=360),a=g*(1-m),s=g*(1-m*(r=(i/=60)-(o=I(i)))),y=g*(1-m*(1-r)),o){case 0:c=(l=[g,y,a])[0],n=l[1],e=l[2];break;case 1:c=(u=[s,g,a])[0],n=u[1],e=u[2];break;case 2:c=(h=[a,g,y])[0],n=h[1],e=h[2];break;case 3:c=(f=[a,s,g])[0],n=f[1],e=f[2];break;case 4:c=(p=[y,a,g])[0],n=p[1],e=p[2];break;case 5:c=(d=[g,a,s])[0],n=d[1],e=d[2]}return[c,n,e,t.length>3?t[3]:1]},ut=function(){var t,e,r,n,i,o,a,s,c;return o=(a=xt(arguments))[0],r=a[1],t=a[2],i=Math.min(o,r,t),e=($=Math.max(o,r,t))-i,c=$/255,0===$?(n=Number.NaN,s=0):(s=e/$,o===$&&(n=(r-t)/e),r===$&&(n=2+(t-o)/e),t===$&&(n=4+(o-r)/e),(n*=60)<0&&(n+=360)),[n,s,c]},w.hsv=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,i=t.apply(n,e);return Object(i)===i?i:n}(n,Tt.call(arguments).concat(["hsv"]),(function(){}))},p.hsv=N,n.prototype.hsv=function(){return ut(this._rgb)},et=function(t){return"number"===Et(t)&&t>=0&&t<=16777215?[t>>16,t>>8&255,255&t,1]:(console.warn("unknown num color: "+t),[0,0,0,1])},dt=function(){var t;return((t=xt(arguments))[0]<<16)+(t[1]<<8)+t[2]},w.num=function(t){return new n(t,"num")},n.prototype.num=function(t){return null==t&&(t="rgb"),dt(this._rgb,t)},p.num=et,h.push({p:1,test:function(t){if(1===arguments.length&&"number"===Et(t)&&t>=0&&t<=16777215)return"num"}}),L=function(){var t,e,r,n,i,o,a,s,c,l,u,h,f,p,d,m,y,g,_,b;if(s=(r=xt(arguments))[0],i=r[1],e=r[2],a=a/100*255,t=255*(i/=100),0===i)h=a=n=e;else switch(360===s&&(s=0),s>360&&(s-=360),s<0&&(s+=360),u=(l=e*(1-i))+t*(1-(o=(s/=60)-(c=I(s)))),_=l+t*o,b=l+t,c){case 0:h=(f=[b,_,l])[0],a=f[1],n=f[2];break;case 1:h=(p=[u,b,l])[0],a=p[1],n=p[2];break;case 2:h=(d=[l,b,_])[0],a=d[1],n=d[2];break;case 3:h=(m=[l,u,b])[0],a=m[1],n=m[2];break;case 4:h=(y=[_,l,b])[0],a=y[1],n=y[2];break;case 5:h=(g=[b,l,u])[0],a=g[1],n=g[2]}return[h,a,n,r.length>3?r[3]:1]},at=function(){var t,e,r,n,i,o,a,s,c;return s=(c=xt(arguments))[0],i=c[1],e=c[2],a=Math.min(s,i,e),r=100*(n=($=Math.max(s,i,e))-a)/255,t=a/(255-n)*100,0===n?o=Number.NaN:(s===$&&(o=(i-e)/n),i===$&&(o=2+(e-s)/n),e===$&&(o=4+(s-i)/n),(o*=60)<0&&(o+=360)),[o,r,t]},w.hcg=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,i=t.apply(n,e);return Object(i)===i?i:n}(n,Tt.call(arguments).concat(["hcg"]),(function(){}))},p.hcg=L,n.prototype.hcg=function(){return at(this._rgb)},S=function(t){var e,r,n,i,o,a,s,c;if(t=t.toLowerCase(),null!=w.colors&&w.colors[t])return R(w.colors[t]);if(o=t.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(s=o.slice(1,4),i=a=0;a<=2;i=++a)s[i]=+s[i];s[3]=1}else if(o=t.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(s=o.slice(1,5),i=c=0;c<=3;i=++c)s[i]=+s[i];else if(o=t.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(s=o.slice(1,4),i=e=0;e<=2;i=++e)s[i]=bt(2.55*s[i]);s[3]=1}else if(o=t.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(s=o.slice(1,5),i=r=0;r<=2;i=++r)s[i]=bt(2.55*s[i]);s[3]=+s[3]}else(o=t.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?((n=o.slice(1,4))[1]*=.01,n[2]*=.01,(s=k(n))[3]=1):(o=t.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&((n=o.slice(1,4))[1]*=.01,n[2]*=.01,(s=k(n))[3]=+o[4]);return s},ot=function(t){var e;return"rgb"===(e=t[3]<1?"rgba":"rgb")?e+"("+t.slice(0,3).map(bt).join(",")+")":"rgba"===e?e+"("+t.slice(0,3).map(bt).join(",")+","+t[3]+")":void 0},_t=function(t){return bt(100*t)/100},A=function(t,e){var r;return r=e<1?"hsla":"hsl",t[0]=_t(t[0]||0),t[1]=_t(100*t[1])+"%",t[2]=_t(100*t[2])+"%","hsla"===r&&(t[3]=e),r+"("+t.join(",")+")"},p.css=function(t){return S(t)},w.css=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,i=t.apply(n,e);return Object(i)===i?i:n}(n,Tt.call(arguments).concat(["css"]),(function(){}))},n.prototype.css=function(t){return null==t&&(t="rgb"),"rgb"===t.slice(0,3)?ot(this._rgb):"hsl"===t.slice(0,3)?A(this.hsl(),this.alpha()):void 0},p.named=function(t){return R(St[t])},h.push({p:5,test:function(t){if(1===arguments.length&&null!=St[t])return"named"}}),n.prototype.name=function(t){var e,r;for(r in arguments.length&&(St[t]&&(this._rgb=R(St[t])),this._rgb[3]=1),e=this.hex("rgb"),St)if(e===St[r])return r;return e},V=function(){var t,e,r,n;return r=(n=xt(arguments))[0],t=n[1],e=n[2],[r,x(e*=i)*t,Ot(e)*t]},Y=function(){var t,e,r,n,i,o,a,s,c;return a=(r=xt(arguments))[0],i=r[1],o=r[2],t=(s=V(a,i,o))[0],e=s[1],n=s[2],[(c=X(t,e,n))[0],c[1],n=c[2],r.length>3?r[3]:1]},W=function(){var t,e,r,n,i,o;return i=(o=xt(arguments))[0],t=o[1],e=o[2],r=wt(t*t+e*e),n=(y(e,t)*c+360)%360,0===bt(1e4*r)&&(n=Number.NaN),[i,r,n]},ft=function(){var t,e,r,n,i,o,a;return i=(o=xt(arguments))[0],r=o[1],e=o[2],n=(a=ht(i,r,e))[0],t=a[1],e=a[2],W(n,t,e)},w.lch=function(){var t;return t=xt(arguments),new n(t,"lch")},w.hcl=function(){var t;return t=xt(arguments),new n(t,"hcl")},p.lch=Y,p.hcl=function(){var t,e,r,n;return e=(n=xt(arguments))[0],t=n[1],r=n[2],Y([r,t,e])},n.prototype.lch=function(){return ft(this._rgb)},n.prototype.hcl=function(){return ft(this._rgb).reverse()},it=function(t){var e,r,n,i,o,a;return null==t&&(t="rgb"),o=(a=xt(arguments))[0],n=a[1],e=a[2],n/=255,e/=255,[(1-(o/=255)-(i=1-Math.max(o,Math.max(n,e))))*(r=i<1?1/(1-i):0),(1-n-i)*r,(1-e-i)*r,i]},E=function(){var t,e,r,n,i,o;return r=(e=xt(arguments))[0],i=e[1],o=e[2],n=e[3],t=e.length>4?e[4]:1,1===n?[0,0,0,t]:[r>=1?0:255*(1-r)*(1-n),i>=1?0:255*(1-i)*(1-n),o>=1?0:255*(1-o)*(1-n),t]},p.cmyk=function(){return E(xt(arguments))},w.cmyk=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,i=t.apply(n,e);return Object(i)===i?i:n}(n,Tt.call(arguments).concat(["cmyk"]),(function(){}))},n.prototype.cmyk=function(){return it(this._rgb)},p.gl=function(){var t,e,r,n,i;for(n=function(){var t,r;for(e in r=[],t=xt(arguments))i=t[e],r.push(i);return r}.apply(this,arguments),t=r=0;r<=2;t=++r)n[t]*=255;return n},w.gl=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,i=t.apply(n,e);return Object(i)===i?i:n}(n,Tt.call(arguments).concat(["gl"]),(function(){}))},n.prototype.gl=function(){var t;return[(t=this._rgb)[0]/255,t[1]/255,t[2]/255,t[3]]},pt=function(t,e,r){var n;return t=(n=xt(arguments))[0],e=n[1],r=n[2],.2126*(t=J(t))+.7152*(e=J(e))+.0722*(r=J(r))},J=function(t){return(t/=255)<=.03928?t/12.92:nt((t+.055)/1.055,2.4)},z=function(t,e,r,i){var o,a;return o=t._rgb,a=e._rgb,new n(o[0]+r*(a[0]-o[0]),o[1]+r*(a[1]-o[1]),o[2]+r*(a[2]-o[2]),i)},d.push(["rgb",z]),n.prototype.luminance=function(t,e){var r,n,i,o,a;return null==e&&(e="rgb"),arguments.length?(o=this._rgb,0===t?o=[0,0,0,this._rgb[3]]:1===t?o=[255,255,255,this[3]]:(r=pt(this._rgb),n=1e-7,i=20,a=function(r,o){var s,c;return s=(c=r.interpolate(o,.5,e)).luminance(),Math.abs(t-s)<n||!i--?c:s>t?a(r,c):a(c,o)},o=r>t?a(w("black"),this).rgba():a(this,w("white")).rgba()),w(o).alpha(this.alpha())):pt(this._rgb)},Mt=function(t){var e,r,n,i;return(i=t/100)<66?(n=255,r=-155.25485562709179-.44596950469579133*(r=i-2)+104.49216199393888*H(r),e=i<20?0:.8274096064007395*(e=i-10)-254.76935184120902+115.67994401066147*H(e)):(n=351.97690566805693+.114206453784165*(n=i-55)-40.25366309332127*H(n),r=325.4494125711974+.07943456536662342*(r=i-50)-28.0852963507957*H(r),e=255),[n,r,e]},mt=function(){var t,e,r,n,i,o,a,s;for(i=(o=xt(arguments))[0],o[1],t=o[2],n=1e3,r=4e4,e=.4;r-n>e;)(a=Mt(s=.5*(r+n)))[2]/a[0]>=t/i?r=s:n=s;return bt(s)},w.temperature=w.kelvin=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,i=t.apply(n,e);return Object(i)===i?i:n}(n,Tt.call(arguments).concat(["temperature"]),(function(){}))},p.temperature=p.kelvin=p.K=Mt,n.prototype.temperature=function(){return mt(this._rgb)},n.prototype.kelvin=n.prototype.temperature,w.contrast=function(t,e){var r,i,o,a;return"string"!==(o=Et(t))&&"number"!==o||(t=new n(t)),"string"!==(a=Et(e))&&"number"!==a||(e=new n(e)),(r=t.luminance())>(i=e.luminance())?(r+.05)/(i+.05):(i+.05)/(r+.05)},w.distance=function(t,e,r){var i,o,a,s,c,l,u;for(o in null==r&&(r="lab"),"string"!==(c=Et(t))&&"number"!==c||(t=new n(t)),"string"!==(l=Et(e))&&"number"!==l||(e=new n(e)),a=t.get(r),s=e.get(r),u=0,a)u+=(i=(a[o]||0)-(s[o]||0))*i;return Math.sqrt(u)},w.deltaE=function(t,e,r,i){var o,s,c,l,u,h,f,p,d,g,_,b,v,O,w,M,E,S,j,P,T,I,L,R;for(null==r&&(r=1),null==i&&(i=1),"string"!==(w=Et(t))&&"number"!==w||(t=new n(t)),"string"!==(M=Et(e))&&"number"!==M||(e=new n(e)),o=(E=t.lab())[0],c=E[1],u=E[2],s=(S=e.lab())[0],l=S[1],h=S[2],f=wt(c*c+u*u),p=wt(l*l+h*h),P=o<16?.511:.040975*o/(1+.01765*o),j=.0638*f/(1+.0131*f)+.638,O=f<1e-6?0:180*y(u,c)/a;O<0;)O+=360;for(;O>=360;)O-=360;return T=O>=164&&O<=345?.56+m(.2*x(a*(O+168)/180)):.36+m(.4*x(a*(O+35)/180)),v=wt((d=f*f*f*f)/(d+1900)),wt((I=(o-s)/(r*P))*I+(L=(b=f-p)/(i*j))*L+((g=c-l)*g+(_=u-h)*_-b*b)/((R=j*(v*T+1-v))*R))},n.prototype.get=function(t){var e,r,n,i,o;return this,n=(i=t.split("."))[0],e=i[1],o=this[n](),e?(r=n.indexOf(e))>-1?o[r]:console.warn("unknown channel "+e+" in mode "+n):o},n.prototype.set=function(t,e){var r,n,i,o,a;if(this,i=(o=t.split("."))[0],r=o[1])if(a=this[i](),(n=i.indexOf(r))>-1)if("string"===Et(e))switch(e.charAt(0)){case"+":case"-":a[n]+=+e;break;case"*":a[n]*=+e.substr(1);break;case"/":a[n]/=+e.substr(1);break;default:a[n]=+e}else a[n]=e;else console.warn("unknown channel "+r+" in mode "+i);else a=e;return w(a,i).alpha(this.alpha())},n.prototype.clipped=function(){return this._rgb._clipped||!1},n.prototype.alpha=function(t){return arguments.length?w.rgb([this._rgb[0],this._rgb[1],this._rgb[2],t]):this._rgb[3]},n.prototype.darken=function(t){var e;return null==t&&(t=1),this,(e=this.lab())[0]-=o.Kn*t,w.lab(e).alpha(this.alpha())},n.prototype.brighten=function(t){return null==t&&(t=1),this.darken(-t)},n.prototype.darker=n.prototype.darken,n.prototype.brighter=n.prototype.brighten,n.prototype.saturate=function(t){var e;return null==t&&(t=1),this,(e=this.lch())[1]+=t*o.Kn,e[1]<0&&(e[1]=0),w.lch(e).alpha(this.alpha())},n.prototype.desaturate=function(t){return null==t&&(t=1),this.saturate(-t)},n.prototype.premultiply=function(){var t,e;return e=this.rgb(),t=this.alpha(),w(e[0]*t,e[1]*t,e[2]*t,t)},tt=function(t,e){return t*e/255},j=function(t,e){return t>e?e:t},Z=function(t,e){return t>e?t:e},vt=function(t,e){return 255*(1-(1-t/255)*(1-e/255))},rt=function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},O=function(t,e){return 255*(1-(1-e/255)/(t/255))},P=function(t,e){return 255===t||(t=e/255*255/(1-t/255))>255?255:t},(_=function(t,e,r){if(!_[r])throw"unknown blend mode "+r;return _[r](t,e)}).normal=(b=function(t){return function(e,r){var n,i;return n=w(r).rgb(),i=w(e).rgb(),w(t(n,i),"rgb")}})((T=function(t){return function(e,r){var n,i,o;for(o=[],n=i=0;i<=3;n=++i)o[n]=t(e[n],r[n]);return o}})((function(t,e){return t}))),_.multiply=b(T(tt)),_.screen=b(T(vt)),_.overlay=b(T(rt)),_.darken=b(T(j)),_.lighten=b(T(Z)),_.dodge=b(T(P)),_.burn=b(T(O)),w.blend=_,w.analyze=function(t){var e,r,n,i;for(n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},r=0,e=t.length;r<e;r++)null==(i=t[r])||isNaN(i)||(n.values.push(i),n.sum+=i,i<n.min&&(n.min=i),i>n.max&&(n.max=i),n.count+=1);return n.domain=[n.min,n.max],n.limits=function(t,e){return w.limits(n,t,e)},n},w.scale=function(t,e){var r,n,i,o,a,s,c,l,u,h,f,p,d,m,y,g,_,b,v,O,M;return u="rgb",h=w("#ccc"),m=0,!1,a=[0,1],d=[],p=[0,0],r=!1,i=[],f=!1,l=0,c=1,o=!1,n={},y=!0,s=1,O=function(t){var e,r,n,o,a,s;if(null==t&&(t=["#fff","#000"]),null!=t&&"string"===Et(t)&&null!=w.brewer&&(t=w.brewer[t]||w.brewer[t.toLowerCase()]||t),"array"===Et(t)){for(1===t.length&&(t=[t[0],t[0]]),e=n=0,o=(t=t.slice(0)).length-1;0<=o?n<=o:n>=o;e=0<=o?++n:--n)r=t[e],"string"===Et(r)&&(t[e]=w(r));for(d.length=0,e=s=0,a=t.length-1;0<=a?s<=a:s>=a;e=0<=a?++s:--s)d.push(e/(t.length-1))}return v(),i=t},_=function(t){var e,n;if(null!=r){for(n=r.length-1,e=0;e<n&&t>=r[e];)e++;return e-1}return 0},M=function(t){return t},function(t){var e,n,i,o,a;return a=t,r.length>2&&(o=r.length-1,e=_(t),i=r[0]+(r[1]-r[0])*(0+.5*m),n=r[o-1]+(r[o]-r[o-1])*(1-.5*m),a=l+(r[e]+.5*(r[e+1]-r[e])-i)/(n-i)*(c-l)),a},b=function(t,e){var o,a,f,m,g,b,v;if(null==e&&(e=!1),isNaN(t)||null===t)return h;if(v=e?t:r&&r.length>2?_(t)/(r.length-2):c!==l?(t-l)/(c-l):1,e||(v=M(v)),1!==s&&(v=nt(v,s)),v=p[0]+v*(1-p[0]-p[1]),v=Math.min(1,Math.max(0,v)),f=Math.floor(1e4*v),y&&n[f])o=n[f];else{if("array"===Et(i))for(a=m=0,b=d.length-1;0<=b?m<=b:m>=b;a=0<=b?++m:--m){if(v<=(g=d[a])){o=i[a];break}if(v>=g&&a===d.length-1){o=i[a];break}if(v>g&&v<d[a+1]){v=(v-g)/(d[a+1]-g),o=w.interpolate(i[a],i[a+1],v,u);break}}else"function"===Et(i)&&(o=i(v));y&&(n[f]=o)}return o},v=function(){return n={}},O(t),(g=function(t){var e;return e=w(b(t)),f&&e[f]?e[f]():e}).classes=function(t){var e;return null!=t?("array"===Et(t)?(r=t,a=[t[0],t[t.length-1]]):(e=w.analyze(a),r=0===t?[e.min,e.max]:w.limits(e,"e",t)),g):r},g.domain=function(t){var e,r,n,o,s,u,h;if(!arguments.length)return a;if(l=t[0],c=t[t.length-1],d=[],n=i.length,t.length===n&&l!==c)for(s=0,o=t.length;s<o;s++)r=t[s],d.push((r-l)/(c-l));else for(e=h=0,u=n-1;0<=u?h<=u:h>=u;e=0<=u?++h:--h)d.push(e/(n-1));return a=[l,c],g},g.mode=function(t){return arguments.length?(u=t,v(),g):u},g.range=function(t,e){return O(t),g},g.out=function(t){return f=t,g},g.spread=function(t){return arguments.length?(m=t,g):m},g.correctLightness=function(t){return null==t&&(t=!0),o=t,v(),M=o?function(t){var e,r,n,i,o,a,s,c,l;for(e=b(0,!0).lab()[0],r=b(1,!0).lab()[0],s=e>r,n=b(t,!0).lab()[0],i=n-(o=e+(r-e)*t),c=0,l=1,a=20;Math.abs(i)>.01&&a-- >0;)s&&(i*=-1),i<0?(c=t,t+=.5*(l-t)):(l=t,t+=.5*(c-t)),n=b(t,!0).lab()[0],i=n-o;return t}:function(t){return t},g},g.padding=function(t){return null!=t?("number"===Et(t)&&(t=[t,t]),p=t,g):p},g.colors=function(e,n){var o,s,c,l,u,h,f,p;if(arguments.length<2&&(n="hex"),u=[],0===arguments.length)u=i.slice(0);else if(1===e)u=[g(.5)];else if(e>1)s=a[0],o=a[1]-s,u=function(){h=[];for(var t=0;0<=e?t<e:t>e;0<=e?t++:t--)h.push(t);return h}.apply(this).map((function(t){return g(s+t/(e-1)*o)}));else{if(t=[],f=[],r&&r.length>2)for(c=p=1,l=r.length;1<=l?p<l:p>l;c=1<=l?++p:--p)f.push(.5*(r[c-1]+r[c]));else f=a;u=f.map((function(t){return g(t)}))}return w[n]&&(u=u.map((function(t){return t[n]()}))),u},g.cache=function(t){return null!=t?(y=t,g):y},g.gamma=function(t){return null!=t?(s=t,g):s},g.nodata=function(t){return null!=t?(h=w(t),g):h},g},null==w.scales&&(w.scales={}),w.scales.cool=function(){return w.scale([w.hsl(180,1,.9),w.hsl(250,.7,.4)])},w.scales.hot=function(){return w.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},w.analyze=function(t,e,r){var n,i,o,a,s,c;if(s={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==r&&(r=function(){return!0}),n=function(t){null==t||isNaN(t)||(s.values.push(t),s.sum+=t,t<s.min&&(s.min=t),t>s.max&&(s.max=t),s.count+=1)},c=function(t,i){if(r(t,i))return null!=e&&"function"===Et(e)?n(e(t)):null!=e&&"string"===Et(e)||"number"===Et(e)?n(t[e]):n(t)},"array"===Et(t))for(a=0,o=t.length;a<o;a++)c(t[a]);else for(i in t)c(t[i],i);return s.domain=[s.min,s.max],s.limits=function(t,e){return w.limits(s,t,e)},s},w.limits=function(t,e,r){var n,i,o,a,s,c,l,u,h,f,p,d,y,g,_,b,v,O,M,E,x,S,j,P,T,L,R,C,A,k,N,D,F,B,U,G,z,W,X,q,V,Y,Z,K,J,Q,tt,et,rt,it,ot,at,st,ct,lt;if(null==e&&(e="equal"),null==r&&(r=7),"array"===Et(t)&&(t=w.analyze(t)),T=t.min,$=t.max,t.sum,ct=t.values.sort((function(t,e){return t-e})),1===r)return[T,$];if(j=[],"c"===e.substr(0,1)&&(j.push(T),j.push($)),"e"===e.substr(0,1)){for(j.push(T),E=N=1,U=r-1;1<=U?N<=U:N>=U;E=1<=U?++N:--N)j.push(T+E/r*($-T));j.push($)}else if("l"===e.substr(0,1)){if(T<=0)throw"Logarithmic scales are only possible for values > 0";for(L=Math.LOG10E*H(T),P=Math.LOG10E*H($),j.push(T),E=lt=1,G=r-1;1<=G?lt<=G:lt>=G;E=1<=G?++lt:--lt)j.push(nt(10,L+E/r*(P-L)));j.push($)}else if("q"===e.substr(0,1)){for(j.push(T),E=n=1,Y=r-1;1<=Y?n<=Y:n>=Y;E=1<=Y?++n:--n)D=(ct.length-1)*E/r,(F=I(D))===D?j.push(ct[F]):(B=D-F,j.push(ct[F]*(1-B)+ct[F+1]*B));j.push($)}else if("k"===e.substr(0,1)){for(C=ct.length,g=new Array(C),O=new Array(r),it=!0,A=0,b=null,(b=[]).push(T),E=i=1,Z=r-1;1<=Z?i<=Z:i>=Z;E=1<=Z?++i:--i)b.push(T+E/r*($-T));for(b.push($);it;){for(x=o=0,K=r-1;0<=K?o<=K:o>=K;x=0<=K?++o:--o)O[x]=0;for(E=a=0,J=C-1;0<=J?a<=J:a>=J;E=0<=J?++a:--a){for(st=ct[E],R=Number.MAX_VALUE,x=s=0,Q=r-1;0<=Q?s<=Q:s>=Q;x=0<=Q?++s:--s)(M=m(b[x]-st))<R&&(R=M,_=x);O[_]++,g[E]=_}for(k=new Array(r),x=c=0,tt=r-1;0<=tt?c<=tt:c>=tt;x=0<=tt?++c:--c)k[x]=null;for(E=l=0,et=C-1;0<=et?l<=et:l>=et;E=0<=et?++l:--l)null===k[v=g[E]]?k[v]=ct[E]:k[v]+=ct[E];for(x=u=0,rt=r-1;0<=rt?u<=rt:u>=rt;x=0<=rt?++u:--u)k[x]*=1/O[x];for(it=!1,x=h=0,z=r-1;0<=z?h<=z:h>=z;x=0<=z?++h:--h)if(k[x]!==b[E]){it=!0;break}b=k,++A>200&&(it=!1)}for(S={},x=f=0,W=r-1;0<=W?f<=W:f>=W;x=0<=W?++f:--f)S[x]=[];for(E=p=0,X=C-1;0<=X?p<=X:p>=X;E=0<=X?++p:--p)S[v=g[E]].push(ct[E]);for(ot=[],x=d=0,q=r-1;0<=q?d<=q:d>=q;x=0<=q?++d:--d)ot.push(S[x][0]),ot.push(S[x][S[x].length-1]);for(ot=ot.sort((function(t,e){return t-e})),j.push(ot[0]),E=y=1,V=ot.length-1;y<=V;E=y+=2)at=ot[E],isNaN(at)||-1!==j.indexOf(at)||j.push(at)}return j},C=function(t,e,r){var n,i,o,a;return t=(n=xt(arguments))[0],e=n[1],r=n[2],isNaN(t)&&(t=0),(t/=360)<1/3?o=1-((i=(1-e)/3)+(a=(1+e*x(l*t)/x(s-l*t))/3)):t<2/3?i=1-((a=(1-e)/3)+(o=(1+e*x(l*(t-=1/3))/x(s-l*t))/3)):a=1-((o=(1-e)/3)+(i=(1+e*x(l*(t-=2/3))/x(s-l*t))/3)),[255*(a=K(r*a*3)),255*(o=K(r*o*3)),255*(i=K(r*i*3)),n.length>3?n[3]:1]},ct=function(){var t,e,r,n,i,o,a;return i=(o=xt(arguments))[0],e=o[1],t=o[2],l=2*Math.PI,i/=255,e/=255,t/=255,0===(a=1-Math.min(i,e,t)/(n=(i+e+t)/3))?r=0:(r=(i-e+(i-t))/2,r/=Math.sqrt((i-e)*(i-e)+(i-t)*(e-t)),r=Math.acos(r),t>e&&(r=l-r),r/=l),[360*r,a,n]},w.hsi=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,i=t.apply(n,e);return Object(i)===i?i:n}(n,Tt.call(arguments).concat(["hsi"]),(function(){}))},p.hsi=C,n.prototype.hsi=function(){return ct(this._rgb)},F=function(t,e,r,n){var i,o,a,s,c,l,u,h,f,p;return"hsl"===n?(f=t.hsl(),p=e.hsl()):"hsv"===n?(f=t.hsv(),p=e.hsv()):"hcg"===n?(f=t.hcg(),p=e.hcg()):"hsi"===n?(f=t.hsi(),p=e.hsi()):"lch"!==n&&"hcl"!==n||(n="hcl",f=t.hcl(),p=e.hcl()),"h"===n.substr(0,1)&&(o=f[0],u=f[1],s=f[2],a=p[0],h=p[1],c=p[2]),isNaN(o)||isNaN(a)?isNaN(o)?isNaN(a)?i=Number.NaN:(i=a,1!==s&&0!==s||"hsv"===n||(l=h)):(i=o,1!==c&&0!==c||"hsv"===n||(l=u)):i=o+r*(a>o&&a-o>180?a-(o+360):a<o&&o-a>180?a+360-o:a-o),null==l&&(l=u+r*(h-u)),w[n](i,l,s+r*(c-s))},G=function(t,e,r,n){var i,o;return i=t.num(),o=e.num(),w.num(i+(o-i)*r,"num")},(d=d.concat(function(){var t,e,r,n;for(n=[],e=0,t=(r=["hsv","hsl","hsi","hcl","lch","hcg"]).length;e<t;e++)Q=r[e],n.push([Q,F]);return n}())).push(["num",G]),B=function(t,e,r,i){var o,a;return o=t.lab(),a=e.lab(),new n(o[0]+r*(a[0]-o[0]),o[1]+r*(a[1]-o[1]),o[2]+r*(a[2]-o[2]),i)},d.push(["lab",B])}).call(this)}).call(this,r(193)(t))},function(t,e,r){"use strict";r.d(e,"d",(function(){return l})),r.d(e,"i",(function(){return u})),r.d(e,"q",(function(){return h})),r.d(e,"r",(function(){return f})),r.d(e,"s",(function(){return p})),r.d(e,"g",(function(){return d})),r.d(e,"e",(function(){return m})),r.d(e,"f",(function(){return y})),r.d(e,"j",(function(){return g})),r.d(e,"b",(function(){return _})),r.d(e,"t",(function(){return b})),r.d(e,"k",(function(){return v})),r.d(e,"l",(function(){return O})),r.d(e,"c",(function(){return w})),r.d(e,"o",(function(){return M})),r.d(e,"u",(function(){return E})),r.d(e,"n",(function(){return x})),r.d(e,"m",(function(){return S})),r.d(e,"h",(function(){return j})),r.d(e,"p",(function(){return P}));var n=r(0),i=r(3),o=r(6);function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==c(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===c(o)?o:String(o)),n)}var i,o}function s(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var l=function t(e){var r;return Object(n.Z)(e)?r=document.getElementById(e):Object(n.Y)(e)?Object(n.X)(e.id)?Object(n.X)(e.container)?Object(i.a)(Object(o.e)("exception").no_container):r=t(e.container):r=document.getElementById(e.id):Object(i.a)("El tipo del parmetro container no es vlido: ".concat(c(e))),Object(n.X)(r)&&Object(i.a)(Object(o.e)("exception").no_id_container),r},u=function(t){var e;return Object(n.Z)(t)?e=Object(n.G)("layers",t):Object(n.Y)(t)?e=t.layers:Object(i.a)("El tipo del parmetro container no es vlido: ".concat(c(t))),e},h=function(t){var e;return Object(n.Z)(t)?(e=Object(n.G)("wmc",t),Object(n.X)(e)&&(e=Object(n.G)("wmcfile",t)),Object(n.X)(e)&&(e=Object(n.G)("wmcfiles",t))):Object(n.Y)(t)?(e=t.wmc,Object(n.X)(e)&&(e=t.wmcfile),Object(n.X)(e)&&(e=t.wmcfiles)):Object(i.a)("El tipo del parmetro container no es vlido: ".concat(c(t))),e},f=function(t){var e;return Object(n.Z)(t)?e=Object(n.G)("wms",t):Object(n.Y)(t)?e=t.wms:Object(i.a)("El tipo del parmetro container no es vlido: ".concat(c(t))),e},p=function(t){var e;return Object(n.Z)(t)?e=Object(n.G)("wmts",t):Object(n.Y)(t)?e=t.wmts:Object(i.a)("El tipo del parmetro container no es vlido: ".concat(c(t))),e},d=function(t){var e;return Object(n.Z)(t)?e=Object(n.G)("kml",t):Object(n.Y)(t)?e=t.kml:Object(i.a)("El tipo del parmetro container no es vlido: ".concat(c(t))),e},m=function(t){var e;return Object(n.Z)(t)?e=Object(n.G)("controls",t):Object(n.Y)(t)?e=t.controls:Object(i.a)("El tipo del parmetro controls no es vlido: ".concat(c(t))),e},y=function(t){var e;return Object(n.Z)(t)?e=Object(n.G)("getfeatureinfo",t):Object(n.Y)(t)?(e=t.getfeatureinfo,!Object(n.ab)(e)&&Object(n.X)(e)&&(e="plain")):Object(i.a)("El tipo del parmetro controls no es vlido: ".concat(c(t))),e},g=function(t){var e;return Object(n.Z)(t)?(e=Object(n.G)("maxExtent",t),Object(n.X)(e)&&(e=Object(n.G)("maxextent",t))):Object(n.Y)(t)?(e=t.maxExtent,Object(n.X)(e)&&(e=t.maxextent)):Object(i.a)("El tipo del parmetro container no es vlido: ".concat(c(t))),e},_=function(t){var e;return Object(n.Z)(t)?e=Object(n.G)("bbox",t):Object(n.Y)(t)?e=t.bbox:Object(i.a)("El tipo del parmetro container no es vlido: ".concat(c(t))),e},b=function(t){var e;return Object(n.Z)(t)?e=Object(n.G)("zoom",t):Object(n.Y)(t)?e=t.zoom:Object(i.a)("El tipo del parmetro zoom no es vlido: ".concat(c(t))),e},v=function(t){var e;return Object(n.Z)(t)?e=Object(n.G)("maxZoom",t):Object(n.Y)(t)?e=t.maxZoom:Object(i.a)("El tipo del parmetro maxZoom no es vlido: ".concat(c(t))),e},O=function(t){var e;return Object(n.Z)(t)?e=Object(n.G)("minZoom",t):Object(n.Y)(t)?e=t.minZoom:Object(i.a)("El tipo del parmetro minZoom no es vlido: ".concat(c(t))),e},w=function(t){var e;return Object(n.Z)(t)?e=Object(n.G)("center",t):Object(n.Y)(t)?e=t.center:Object(i.a)("El tipo del parmetro center no es vlido: ".concat(c(t))),e},M=function(t){var e;return Object(n.Z)(t)?e=Object(n.G)("ticket",t):Object(n.Y)(t)?e=t.ticket:Object(i.a)("El tipo del parmetro ticket no es vlido: ".concat(c(t))),e},E=function(t){var e;return Object(n.Z)(t)?e=Object(n.G)("zoomConstrains",t):Object(n.Y)(t)?e=t.zoomConstrains:Object(i.a)("El tipo del parmetro zoomConstrains no es vlido: ".concat(c(t))),e},x=function(t){var e;return Object(n.Z)(t)?e=Object(n.G)("resolutions",t):Object(n.Y)(t)?e=t.resolutions:Object(i.a)("El tipo del parmetro container no es vlido: ".concat(c(t))),e},S=function(t){var e;return Object(n.Z)(t)?e=Object(n.G)("projection",t):Object(n.Y)(t)?e=t.projection:Object(i.a)("El tipo del parmetro container no es vlido: ".concat(c(t))),e},j=function(t){var e;return Object(n.Z)(t)?e=Object(n.G)("label",t):Object(n.Y)(t)?e=t.label:Object(i.a)("El tipo del parmetro container no es vlido: ".concat(c(t))),e},P=function(t){var e;return Object(n.Z)(t)?e=Object(n.G)("viewExtent",t):Object(n.Y)(t)?e=t.viewExtent:Object(i.a)("El tipo del parmetro viewExtent no es vlido: ".concat(c(t))),Object(n.X)(e)||Object(n.R)(e)||(e=e.split(",").map(Number)),e},T=s((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(n.X)(e)&&Object(i.a)(Object(o.e)("exception").no_param),this.container=l(e),this.layers=u(e),this.wmc=h(e),this.wms=f(e),this.wmts=p(e),this.kml=d(e),this.controls=m(e),this.getfeatureinfo=y(e),this.maxExtent=g(e),this.bbox=_(e),this.zoom=b(e),this.minZoom=O(e),this.maxZoom=v(e),this.center=w(e),this.resolutions=x(e),this.projection=S(e),this.label=j(e),this.ticket=M(e),this.zoomConstrains=E(e),this.viewExtent=P(e)}));e.a=T},function(t,e,r){"use strict";r.d(e,"b",(function(){return l})),r.d(e,"c",(function(){return u}));var n,i=r(33),o=r(65),a=r(235),s=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),c=function(t){function e(e){var r=t.call(this)||this;return e.handleEvent&&(r.handleEvent=e.handleEvent),r.map_=null,r.setActive(!0),r}return s(e,t),e.prototype.getActive=function(){return this.get(a.a.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(a.a.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(i.a);function l(t,e,r){var n=t.getCenterInternal();if(n){var i=[n[0]+e[0],n[1]+e[1]];t.animateInternal({duration:void 0!==r?r:250,easing:o.linear,center:t.getConstrainedCenter(i)})}}function u(t,e,r,n){var i=t.getZoom();if(void 0!==i){var a=t.getConstrainedZoom(i+e),s=t.getResolutionForZoom(a);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:s,anchor:r,duration:void 0!==n?n:250,easing:o.easeOut})}}e.a=c},function(t,e,r){"use strict";var n,i=r(177),o=r(285),a=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.createRenderer=function(){return new o.a(this)},e}(i.a);e.a=s},function(t,e,r){"use strict";r.d(e,"d",(function(){return u})),r.d(e,"e",(function(){return h})),r.d(e,"b",(function(){return f})),r.d(e,"a",(function(){return d})),r.d(e,"c",(function(){return m}));var n=r(156),i=r(56),o=r(2),a=r(245),s=r(4),c=r(55),l=r(112);function u(t){var e=t.getDefaultTileGrid();return e||(e=d(t),t.setDefaultTileGrid(e)),e}function h(t,e,r){var n=e[0],i=t.getTileCoordCenter(e),a=m(r);if(Object(o.g)(a,i))return e;var s=Object(o.G)(a),c=Math.ceil((a[0]-i[0])/s);return i[0]+=s*c,t.getTileCoordForCoordAndZ(i,n)}function f(t){var e=t||{},r=e.extent||Object(s.j)("EPSG:3857").getExtent(),n={extent:r,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:p(r,e.maxZoom,e.tileSize,e.maxResolution)};return new l.a(n)}function p(t,e,r,a){for(var s=void 0!==e?e:n.a,c=Object(o.B)(t),l=Object(o.G)(t),u=Object(i.d)(void 0!==r?r:n.b),h=a>0?a:Math.max(l/u[0],c/u[1]),f=s+1,p=new Array(f),d=0;d<f;++d)p[d]=h/Math.pow(2,d);return p}function d(t,e,r,n){return function(t,e,r,n){var i=void 0!==n?n:a.a.TOP_LEFT,s=p(t,e,r);return new l.a({extent:t,origin:Object(o.z)(t,i),resolutions:s,tileSize:r})}(m(t),e,r,n)}function m(t){var e=(t=Object(s.j)(t)).getExtent();if(!e){var r=180*s.a[c.b.DEGREES]/t.getMetersPerUnit();e=Object(o.l)(-r,-r,r,r)}return e}},function(t,e,r){"use strict";var n=r(406),i=r(114),o=r(0);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t,e,r){return(e=h(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h(n.key),n)}}function h(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===a(e)?e:String(e)}function f(t,e){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=m(t);if(e){var i=m(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return d(this,r)}}function d(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(s,t);var e,r,i,a=p(s);function s(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var e=t;e=Object(o.X)(e)?s.DEFAULT_NULL:Object(o.u)(e,s.DEFAULT),e=Object(o.u)({},e);var r=new n.a(e);return a.call(this,e,r)}return e=s,(r=[{key:"toImage",value:function(){return this.getImpl().toImage(this.canvas_)}},{key:"getDeserializedMethod_",value:function(){return"((serializedParameters) => M.style.Simple.deserialize(serializedParameters, 'M.style.Generic'))"}}])&&u(e.prototype,r),i&&u(e,i),Object.defineProperty(e,"prototype",{writable:!1}),s}(i.a);y.DEFAULT={point:{radius:5}},y.PARAMS_DEFAULT_NULL={fill:{color:"rgba(255, 255, 255, 0.4)",opacity:.4},stroke:{color:"#3399CC",width:1.5}},y.DEFAULT_NULL={point:c(c({},y.PARAMS_DEFAULT_NULL),{},{radius:5}),line:c({},y.PARAMS_DEFAULT_NULL),polygon:c({},y.PARAMS_DEFAULT_NULL)},e.a=y},function(t,e,r){"use strict";r.d(e,"b",(function(){return h})),r.d(e,"c",(function(){return f}));var n,i=r(10),o=r(2),a=r(155),s=r(21),c=r(97),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),u=function(t){function e(){var e=t.call(this)||this;return e.layout=s.a.XY,e.stride=2,e.flatCoordinates=null,e}return l(e,t),e.prototype.computeExtent=function(t){return Object(o.p)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return Object(i.b)()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=h(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){Object(i.b)()},e.prototype.setLayout=function(t,e,r){var n;if(t)n=h(t);else{for(var i=0;i<r;++i){if(0===e.length)return this.layout=s.a.XY,void(this.stride=2);e=e[0]}t=function(t){var e;2==t?e=s.a.XY:3==t?e=s.a.XYZ:4==t&&(e=s.a.XYZM);return e}(n=e.length)}this.layout=t,this.stride=n},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var r=this.getFlatCoordinates();if(r){var n=this.getStride();Object(c.a)(r,0,r.length,n,t,e,r),this.changed()}},e.prototype.scale=function(t,e,r){var n=e;void 0===n&&(n=t);var i=r;i||(i=Object(o.y)(this.getExtent()));var a=this.getFlatCoordinates();if(a){var s=this.getStride();Object(c.b)(a,0,a.length,s,t,n,i,a),this.changed()}},e.prototype.translate=function(t,e){var r=this.getFlatCoordinates();if(r){var n=this.getStride();Object(c.d)(r,0,r.length,n,t,e,r),this.changed()}},e}(a.a);function h(t){var e;return t==s.a.XY?e=2:t==s.a.XYZ||t==s.a.XYM?e=3:t==s.a.XYZM&&(e=4),e}function f(t,e,r){var n=t.getFlatCoordinates();if(n){var i=t.getStride();return Object(c.c)(n,0,n.length,i,e,r)}return null}e.a=u},function(t,e,r){"use strict";var n=r(43),i=r(403),o=function(){function t(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new n.a({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:i.a.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return t.prototype.clone=function(){return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(t){this.overflow_=t},t.prototype.setFont=function(t){this.font_=t},t.prototype.setMaxAngle=function(t){this.maxAngle_=t},t.prototype.setOffsetX=function(t){this.offsetX_=t},t.prototype.setOffsetY=function(t){this.offsetY_=t},t.prototype.setPlacement=function(t){this.placement_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setFill=function(t){this.fill_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.setText=function(t){this.text_=t},t.prototype.setTextAlign=function(t){this.textAlign_=t},t.prototype.setTextBaseline=function(t){this.textBaseline_=t},t.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},t.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},t.prototype.setPadding=function(t){this.padding_=t},t}();e.a=o},function(t,e,r){"use strict";var n=r(68),i=r(78),o=r(0),a=r(180),s=r(52),c=r(218),l=r(103),u=r(9),h=r(6);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==f(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===f(o)?o:String(o)),n)}var i,o}function d(t,e){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=g(t);if(e){var i=g(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return y(this,r)}}function y(t,e){if(e&&("object"===f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(g,t);var e,r,i,y=m(g);function g(t,e,r){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g);var o=new n.a(t,e,r);return(i=y.call(this,o)).style_=null,i.formatGeoJSON_=new a.a,i.setStyle(r),i}return e=g,(r=[{key:"setId",value:function(t){this.getImpl().setId(t)}},{key:"getId",value:function(){return this.getImpl().getId()}},{key:"getGeometry",value:function(){return this.getGeoJSON().geometry}},{key:"setGeometry",value:function(t){this.getImpl().setGeometry(t)}},{key:"getGeoJSON",value:function(){return this.formatGeoJSON_.write(this)[0]}},{key:"getAttributes",value:function(){return this.getImpl().getAttributes()}},{key:"setAttributes",value:function(t){"object"===f(t)?this.getImpl().setAttributes(t):s.info(Object(h.e)("feature").incorrect_attributes)}},{key:"getAttribute",value:function(t){var e;if(e=this.getImpl().getAttribute(t),Object(o.X)(e)){var r=t.split(".");r.length>1&&(e=r.reduce((function(t,e){var r;return Object(o.X)(t)||(r=t instanceof g?t.getAttribute(e):t[e]),r}),this))}return e}},{key:"setAttribute",value:function(t,e){return this.getImpl().setAttribute(t,e)}},{key:"setStyle",value:function(t){!Object(o.X)(t)&&t instanceof c.a?(this.style_=t,this.style_.applyToFeature(this)):Object(o.X)(t)&&(this.style_=null,this.getImpl().clearStyle()),this.fire(u.r,[t,this])}},{key:"equals",value:function(t){return this.getId()===t.getId()}},{key:"getStyle",value:function(){return this.style_}},{key:"clearStyle",value:function(){this.setStyle(null)}},{key:"getCentroid",value:function(){var t=this.getId(),e=this.getAttributes(),r=new l.a({stroke:{color:"#67af13",width:2},radius:8,fill:{color:"#67af13",opacity:.2}}),n=this.getImpl().getCentroid();return Object(o.X)(n)||(n.id("".concat(t," centroid}")),n.attributes(e),n.style=r),n}}])&&p(e.prototype,r),i&&p(e,i),Object.defineProperty(e,"prototype",{writable:!1}),g}(i.a);e.a=_},function(t,e,r){"use strict";r.d(e,"a",(function(){return v})),r.d(e,"k",(function(){return O})),r.d(e,"l",(function(){return w})),r.d(e,"e",(function(){return M})),r.d(e,"m",(function(){return E})),r.d(e,"d",(function(){return x})),r.d(e,"c",(function(){return S})),r.d(e,"b",(function(){return j})),r.d(e,"f",(function(){return P})),r.d(e,"h",(function(){return T})),r.d(e,"i",(function(){return I})),r.d(e,"g",(function(){return L})),r.d(e,"j",(function(){return R}));var n=r(83),i=r.n(n),o=r(0),a=r(148),s=r(126),c=r(41),l=r(43),u=r(44),h=r(90),f=r(66),p=r(5),d=r(217),m=r(238),y=r(325),g=r(198),_=r(407),b=r(199),v=function(t,e,r){var n;if(!Object(o.X)(t.fill)){var a=p.a.getValue(t.fill.color,e,r),s=p.a.getValue(t.fill.opacity,e,r);s||0===s||(s=1),Object(o.X)(a)||(n=new l.a({color:i()(a).alpha(s).css()}))}return n},O=function(t,e,r){var n;if(!Object(o.X)(t.stroke)){var a=p.a.getValue(t.stroke.color,e,r),s=p.a.getValue(t.stroke.opacity,e,r);if(s||0===s||(s=1),!Object(o.X)(a)){var c=t.stroke.linedashoffset;n=new u.a({color:i()(a).alpha(s).css(),width:p.a.getValue(t.stroke.width,e,r),lineDash:p.a.getValue(t.stroke.linedash,e,r),lineDashOffset:p.a.getValue(c,e,r),lineCap:p.a.getValue(t.stroke.linecap,e,r),lineJoin:p.a.getValue(t.stroke.linejoin,e,r),miterLimit:p.a.getValue(t.stroke.miterlimit,e,r)})}}return n},w=function(t,e,r){var n="rgba(0,0,0,1)";Object(o.X)(t.stroke.pattern.color)||(n=p.a.getValue(t.stroke.pattern.color,e,r));var i=new l.a({color:t.stroke.color?t.stroke.color:"rgba(0,0,0,0)",opacity:t.stroke.opacity?t.stroke.opacity:1});return new b.a({pattern:(p.a.getValue(t.stroke.pattern.name,e,r)||"").toLowerCase(),color:n,width:p.a.getValue(t.stroke.width,e,r),size:p.a.getValue(t.stroke.pattern.size,e,r),spacing:p.a.getValue(t.stroke.pattern.spacing,e,r),image:"Image"===p.a.getValue(t.stroke.pattern.name,e,r)?new f.a({src:p.a.getValue(t.stroke.pattern.src,e,r),crossOrigin:"anonymous"}):void 0,angle:p.a.getValue(t.stroke.pattern.rotation,e,r),scale:p.a.getValue(t.stroke.pattern.scale,e,r),offset:p.a.getValue(t.stroke.pattern.offset,e,r),fill:i,layer:r})},M=function(t,e,r){var n;if(t.label){var i=p.a.getValue(t.label.text,e,r),c=p.a.getValue(t.label.align,e,r),f=p.a.getValue(t.label.baseline,e,r);if(n=new h.a({font:p.a.getValue(t.label.font,e,r),rotateWithView:p.a.getValue(t.label.rotate,e,r),scale:p.a.getValue(t.label.scale,e,r),offsetX:p.a.getValue(t.label.offset?t.label.offset[0]:void 0,e,r),offsetY:p.a.getValue(t.label.offset?t.label.offset[1]:void 0,e,r),fill:new l.a({color:p.a.getValue(t.label.color||"#000",e,r)}),textAlign:Object.values(a).includes(c)?c:"center",textBaseline:Object.values(s).includes(f)?f:"top",text:void 0===i?void 0:String(i),rotation:p.a.getValue(t.label.rotation,e,r)}),!Object(o.X)(t.label.stroke)){var d=t.label.stroke,m=d.miterlimit,y=d.linedashoffset;n.setStroke(new u.a({color:p.a.getValue(t.label.stroke.color,e,r),width:p.a.getValue(t.label.stroke.width,e,r),lineCap:p.a.getValue(t.label.stroke.linecap,e,r),lineJoin:p.a.getValue(t.label.stroke.linejoin,e,r),lineDash:p.a.getValue(t.label.stroke.linedash,e,r),lineDashOffset:p.a.getValue(y,e,r),miterLimit:p.a.getValue(m,e,r)}))}}return n},E={},x=function(t,e,r){var n=p.a.getValue(t.icon.anchor,e,r),i=p.a.getValue(t.icon.anchorxunits,e,r),o=p.a.getValue(t.icon.anchoryunits,e,r),a=p.a.getValue(t.icon.src,e,r),s=p.a.getValue(t.icon.opacity,e,r),c=p.a.getValue(t.icon.scale,e,r),l=p.a.getValue(t.icon.rotation,e,r),u=p.a.getValue(t.icon.rotate,e,r),h=p.a.getValue(t.icon.snaptopixel,e,r),f=p.a.getValue(t.icon.offsetorigin,e,r),d=p.a.getValue(t.icon.offset,e,r),y=p.a.getValue(t.icon.crossorigin,e,r),g=p.a.getValue(t.icon.anchororigin,e,r),_=a+n+i+o+s+c+l+u+h+f+d+y+g+g+p.a.getValue(t.icon.size,e,r),b=E[_];return b||(b=new m.a({anchor:p.a.getValue(t.icon.anchor,e,r),anchorXUnits:p.a.getValue(t.icon.anchorxunits,e,r),anchorYUnits:p.a.getValue(t.icon.anchoryunits,e,r),src:p.a.getValue(t.icon.src,e,r),opacity:p.a.getValue(t.icon.opacity,e,r),scale:p.a.getValue(t.icon.scale,e,r),rotation:p.a.getValue(t.icon.rotation,e,r),rotateWithView:p.a.getValue(t.icon.rotate,e,r),snapToPixel:p.a.getValue(t.icon.snaptopixel,e,r),offsetOrigin:p.a.getValue(t.icon.offsetorigin,e,r),offset:p.a.getValue(t.icon.offset,e,r),crossOrigin:p.a.getValue(t.icon.crossorigin,e,r),anchorOrigin:p.a.getValue(t.icon.anchororigin,e,r),size:p.a.getValue(t.icon.size,e,r)}),E[_]=b),b},S=function(t,e,r){return new y.a({form:Object(o.X)(p.a.getValue(t.icon.form,e,r))?"":p.a.getValue(t.icon.form,e,r).toLowerCase(),gradient:p.a.getValue(t.icon.gradient,e,r),glyph:p.a.getValue(t.icon.class,e,r),fontSize:p.a.getValue(t.icon.fontsize,e,r),radius:p.a.getValue(t.icon.radius,e,r),rotation:p.a.getValue(t.icon.rotation,e,r),rotateWithView:p.a.getValue(t.icon.rotate,e,r),offsetX:p.a.getValue(t.icon.offset?t.icon.offset[0]:void 0,e,r),offsetY:p.a.getValue(t.icon.offset?t.icon.offset[1]:void 0,e,r),fill:new l.a({color:p.a.getValue(void 0!==t.icon.fill?t.icon.fill:"#FFFFFF",e,r)}),stroke:t.icon.color?new u.a({color:p.a.getValue(t.icon.color,e,r),width:1}):void 0,anchor:p.a.getValue(t.icon.anchor,e,r),anchorXUnits:p.a.getValue(t.icon.anchorxunits,e,r),anchorYUnits:p.a.getValue(t.icon.anchoryunits,e,r),src:p.a.getValue(t.icon.src,e,r),opacity:p.a.getValue(t.icon.opacity,e,r),scale:p.a.getValue(t.icon.scale,e,r),snapToPixel:p.a.getValue(t.icon.snaptopixel,e,r),offsetOrigin:p.a.getValue(t.icon.offsetorigin,e,r),offset:p.a.getValue(t.icon.offset,e,r),crossOrigin:p.a.getValue(t.icon.crossorigin,e,r),anchorOrigin:p.a.getValue(t.icon.anchororigin,e,r),size:p.a.getValue(t.icon.size,e,r)})},j=function(t,e,r,n){var a="rgba(0,0,0,1)";if(!Object(o.X)(t.fill.pattern.color)){var s=p.a.getValue(t.fill.pattern.opacity,e,r)||1;s||0===s||(s=1),a=i()(t.fill.pattern.color).alpha(s).css()}return"LineString"===e.getGeometry().getType()||"MultiLineString"===e.getGeometry().getType()?new b.a({pattern:(p.a.getValue(t.fill.pattern.name,e,r)||"").toLowerCase(),color:a,width:p.a.getValue(t.fill.width,e,r),size:p.a.getValue(t.fill.pattern.size,e,r),spacing:p.a.getValue(t.fill.pattern.spacing,e,r),image:"Image"===p.a.getValue(t.fill.pattern.name,e,r)?new f.a({src:p.a.getValue(t.fill.pattern.src,e,r),crossOrigin:"anonymous"}):void 0,angle:p.a.getValue(t.fill.pattern.rotation,e,r),scale:p.a.getValue(t.fill.pattern.scale,e,r),offset:p.a.getValue(t.fill.pattern.offset,e,r),fill:n,layer:r}):new g.a({pattern:(p.a.getValue(t.fill.pattern.name,e,r)||"").toLowerCase(),color:a,size:p.a.getValue(t.fill.pattern.size,e,r),spacing:p.a.getValue(t.fill.pattern.spacing,e,r),image:"IMAGE"===p.a.getValue(t.fill.pattern.name,e,r)?new f.a({src:p.a.getValue(t.fill.pattern.src,e,r)}):void 0,angle:p.a.getValue(t.fill.pattern.rotation,e,r),scale:p.a.getValue(t.fill.pattern.scale,e,r),offset:p.a.getValue(t.fill.pattern.offset,e,r),fill:n,layer:r})},P=function(t,e,r){var n;if(!Object(o.X)(t.fill)){var a=p.a.getValue(t.fill.color,e,r),s=p.a.getValue(t.fill.opacity,e,r);s||0===s||(s=1);var c=p.a.getValue(t.fill.width,e,r);Object(o.X)(a)||(n=new u.a({color:i()(a).alpha(s).css(),width:c}))}return n},T=function(t,e,r){var n,i=t.label;if(!Object(o.X)(i)){var a={text:void 0===p.a.getValue(i.text,e)?void 0:String(p.a.getValue(i.text,e)),font:p.a.getValue(i.font,e),fill:new l.a({color:p.a.getValue(i.color||"#000",e)}),textBaseline:(p.a.getValue(i.baseline,e)||"").toLowerCase(),textAlign:p.a.getValue(i.align,e),scale:p.a.getValue(i.scale,e),rotateWithView:p.a.getValue(i.rotate,e)||!1,overflow:p.a.getValue(i.textoverflow,e)||!1,minWidth:p.a.getValue(i.minwidth,e)||0,geometry:p.a.getValue(i.geometry,e),offsetX:p.a.getValue(t.label.offset?t.label.offset[0]:void 0,e),offsetY:p.a.getValue(t.label.offset?t.label.offset[1]:void 0,e)};n=new d.a(a),Object(o.X)(i.stroke)||n.setStroke(new u.a({color:p.a.getValue(i.stroke.color,e),width:p.a.getValue(i.stroke.width,e),lineCap:p.a.getValue(i.stroke.linecap,e),lineJoin:p.a.getValue(i.stroke.linejoin,e),lineDash:p.a.getValue(i.stroke.linedash,e),lineDashOffset:p.a.getValue(i.stroke.linedashoffset,e),miterLimit:p.a.getValue(i.stroke.miterlimit,e)}))}return n},I=function(t,e,r){var n=t||{},i=v(n,e,r),a=O(n,e,r),s=new _.a({fill:i,stroke:a,radius:p.a.getValue(n.radius,e,r),snapToPixel:p.a.getValue(n.snapToPixel,e,r)}),l=new c.c({image:s}),u=new c.c;if(!Object(o.X)(n.icon)){var h,f=p.a.getValue(n.icon.src,e,r);Object(o.X)(f)?Object(o.X)(n.icon.form)||(h=S(n,e,r),u.setImage(h)):(h=x(n,e,r),u.setImage(h))}var d=M(n,e,r);return Object(o.X)(n.label)||Object(o.ab)(d.getText())||l.setText(d),[l,u]},L=function(t,e,r){var n=t||{},i=O(n,e,r),a=P(n,e,r),s=T(n,e,r);n.fill&&!Object(o.X)(n.fill.pattern)&&(a=j(n,e,r,a));var l=new c.c,u=new c.c;Object(o.X)(n.label)||(!0===p.a.getValue(n.label.path,e)&&(l.textPath=s,!Object(o.X)(n.label.smooth)&&!0===n.label.smooth&&Object(o.U)(e.getGeometry)&&l.setGeometry(e.getGeometry().cspline()),s.setPlacement("line")),l.setText(s));return l.setStroke(i),u.setStroke(a),[l,u]},R=function(t,e,r){var n=t||{},i=new c.c,a=O(n,e,r);n.stroke&&!Object(o.X)(n.stroke.pattern)&&(a=w(n,e,r));var s=v(n,e,r),l=M(n,e,r);return n.fill&&!Object(o.X)(n.fill.pattern)&&(s=j(n,e,r,s)),i.setFill(s),i.setStroke(a),i.setText(l),[i]}},function(t,e,r){"use strict";r.d(e,"a",(function(){return M})),r.d(e,"p",(function(){return E})),r.d(e,"n",(function(){return x})),r.d(e,"b",(function(){return S})),r.d(e,"d",(function(){return j})),r.d(e,"i",(function(){return P})),r.d(e,"q",(function(){return T})),r.d(e,"f",(function(){return I})),r.d(e,"o",(function(){return L})),r.d(e,"k",(function(){return R})),r.d(e,"l",(function(){return C})),r.d(e,"g",(function(){return A})),r.d(e,"h",(function(){return k})),r.d(e,"j",(function(){return N})),r.d(e,"c",(function(){return D})),r.d(e,"m",(function(){return F})),r.d(e,"e",(function(){return B}));var n,i=r(386),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(t){function e(e){return t.call(this,"And",Array.prototype.slice.call(arguments))||this}return o(e,t),e}(i.a),s=r(389),c=r(390),l=r(402),u=r(393),h=r(397),f=r(398),p=r(391),d=r(400),m=r(401),y=r(399),g=r(395),_=r(396),b=r(388),v=r(394),O=r(387),w=r(392);function M(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(a,e))}function E(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(O.a,e))}function x(t){return new b.a(t)}function S(t,e,r){return new s.a(t,e,r)}function j(t,e,r){return new c.a(t,e,r)}function P(t,e,r){return new p.a(t,e,r)}function T(t,e,r){return new w.a(t,e,r)}function I(t,e,r){return new u.a(t,e,r)}function L(t,e,r){return new v.a(t,e,r)}function R(t,e){return new g.a(t,e)}function C(t,e){return new _.a(t,e)}function A(t,e){return new h.a(t,e)}function k(t,e){return new f.a(t,e)}function N(t){return new y.a(t)}function D(t,e,r){return new d.a(t,e,r)}function F(t,e,r,n,i,o){return new m.a(t,e,r,n,i,o)}function B(t,e,r){return new l.a(t,e,r)}},function(t,e,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(661),i=r(458),o=r(459);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,r){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return l(this,t,e,r)}function l(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=f(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(e,r),i=(t=s(t,n)).write(e,r);i!==n&&(t=t.slice(0,i));return t}(t,e,r):function(t,e){if(c.isBuffer(e)){var r=0|p(e.length);return 0===(t=s(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?s(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(u(e),t=s(t,e<0?0:0|p(e)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function f(t,e){var r=e.length<0?0:0|p(e.length);t=s(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function d(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(t).length;default:if(n)return U(t).length;e=(""+e).toLowerCase(),n=!0}}function m(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,r);case"utf8":case"utf-8":return S(this,e,r);case"ascii":return j(this,e,r);case"latin1":case"binary":return P(this,e,r);case"base64":return x(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function y(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function g(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=c.from(e,n)),c.isBuffer(e))return 0===e.length?-1:_(t,e,r,n,i);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):_(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function _(t,e,r,n,i){var o,a=1,s=t.length,c=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,c/=2,r/=2}function l(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var u=-1;for(o=r;o<s;o++)if(l(t,o)===l(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(r+c>s&&(r=s-c),o=r;o>=0;o--){for(var h=!0,f=0;f<c;f++)if(l(t,o+f)!==l(e,f)){h=!1;break}if(h)return o}return-1}function b(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[r+a]=s}return a}function v(t,e,r,n){return z(U(e,t.length-r),t,r,n)}function O(t,e,r,n){return z(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function w(t,e,r,n){return O(t,e,r,n)}function M(t,e,r,n){return z(G(e),t,r,n)}function E(t,e,r,n){return z(function(t,e){for(var r,n,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function x(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function S(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,a,s,c,l=t[i],u=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=r)switch(h){case 1:l<128&&(u=l);break;case 2:128==(192&(o=t[i+1]))&&(c=(31&l)<<6|63&o)>127&&(u=c);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(c=(15&l)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(c=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,h=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=h}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return r}(n)}e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,r){return l(null,t,e,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,r){return function(t,e,r,n){return u(e),e<=0?s(t,e):void 0!==r?"string"==typeof n?s(t,e).fill(r,n):s(t,e).fill(r):s(t,e)}(null,t,e,r)},c.allocUnsafe=function(t){return h(null,t)},c.allocUnsafeSlow=function(t){return h(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=c.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var a=t[r];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?S(this,0,t):m.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,r,n,i){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),s=Math.min(o,a),l=this.slice(n,i),u=t.slice(e,r),h=0;h<s;++h)if(l[h]!==u[h]){o=l[h],a=u[h];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},c.prototype.indexOf=function(t,e,r){return g(this,t,e,r,!0)},c.prototype.lastIndexOf=function(t,e,r){return g(this,t,e,r,!1)},c.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,t,e,r);case"utf8":case"utf-8":return v(this,t,e,r);case"ascii":return O(this,t,e,r);case"latin1":case"binary":return w(this,t,e,r);case"base64":return M(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function P(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function T(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=B(t[o]);return i}function I(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function L(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,r,n,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function C(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function A(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function k(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(t,e,r,n,o){return o||k(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function D(t,e,r,n,o){return o||k(t,0,r,8),i.write(t,e,r,n,52,8),r+8}c.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=c.prototype;else{var i=e-t;r=new c(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},c.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||L(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},c.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||L(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},c.prototype.readUInt8=function(t,e){return e||L(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||L(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||L(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||L(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},c.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||L(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||L(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||L(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(t,e){e||L(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(t,e){return e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||L(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||L(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||L(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||L(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||R(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},c.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||R(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},c.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||R(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||R(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):C(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||R(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):C(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||R(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):A(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||R(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):A(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);R(this,t,e,r,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<r&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},c.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);R(this,t,e,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},c.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||R(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||R(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):C(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||R(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):C(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||R(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):A(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):A(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,r){return N(this,t,e,!0,r)},c.prototype.writeFloatBE=function(t,e,r){return N(this,t,e,!1,r)},c.prototype.writeDoubleLE=function(t,e,r){return D(this,t,e,!0,r)},c.prototype.writeDoubleBE=function(t,e,r){return D(this,t,e,!1,r)},c.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},c.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var a=c.isBuffer(t)?t:U(new c(t,n).toString()),s=a.length;for(o=0;o<r-e;++o)this[o+e]=a[o%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function B(t){return t<16?"0"+t.toString(16):t.toString(16)}function U(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function G(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(F,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function z(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(120))},function(t,e,r){"use strict";r.d(e,"b",(function(){return l}));var n,i=r(17),o=r(142),a=r(16),s=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),c=function(t){function e(){var e=t.call(this)||this;return e.revision_=0,e}return s(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent(a.a.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var r=t.length,n=new Array(r),o=0;o<r;++o)n[o]=Object(i.a)(this,t[o],e);return n}return Object(i.a)(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var r=t.length,n=new Array(r),o=0;o<r;++o)n[o]=Object(i.b)(this,t[o],e);return n}return Object(i.b)(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var r=0,n=t.length;r<n;++r)this.removeEventListener(t[r],e);else this.removeEventListener(t,e)},e}(o.a);function l(t){if(Array.isArray(t))for(var e=0,r=t.length;e<r;++e)Object(i.c)(t[e]);else Object(i.c)(t)}e.a=c},function(t,e,r){"use strict";r.d(e,"b",(function(){return x}));var n,i=r(10),o=r(110),a=r(35),s=r(13),c=r(50),l=r(2),u=r(4),h=r(271),f=r(17),p=r(16),d=r(184),m=r(374),y=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),g=function(t){function e(e,r,n,i,s,c){var u=this,h=e.getExtent(),f=r.getExtent(),p=f?Object(l.C)(n,f):n,y=Object(l.y)(p),g=Object(d.a)(e,r,y,i),_=o.b,b=new m.a(e,r,p,h,g*_,i),v=c(b.calculateSourceExtent(),g,s),O=v?a.a.IDLE:a.a.EMPTY,w=v?v.getPixelRatio():1;return(u=t.call(this,n,i,w,O)||this).targetProj_=r,u.maxSourceExtent_=h,u.triangulation_=b,u.targetResolution_=i,u.targetExtent_=n,u.sourceImage_=v,u.sourcePixelRatio_=w,u.canvas_=null,u.sourceListenerKey_=null,u}return y(e,t),e.prototype.disposeInternal=function(){this.state==a.a.LOADING&&this.unlistenSource_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.getProjection=function(){return this.targetProj_},e.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==a.a.LOADED){var e=Object(l.G)(this.targetExtent_)/this.targetResolution_,r=Object(l.B)(this.targetExtent_)/this.targetResolution_;this.canvas_=Object(d.b)(e,r,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=t,this.changed()},e.prototype.load=function(){if(this.state==a.a.IDLE){this.state=a.a.LOADING,this.changed();var t=this.sourceImage_.getState();t==a.a.LOADED||t==a.a.ERROR?this.reproject_():(this.sourceListenerKey_=Object(f.a)(this.sourceImage_,p.a.CHANGE,(function(t){var e=this.sourceImage_.getState();e!=a.a.LOADED&&e!=a.a.ERROR||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}},e.prototype.unlistenSource_=function(){Object(f.c)(this.sourceListenerKey_),this.sourceListenerKey_=null},e}(h.a),_=r(166),b=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),v="imageloadstart",O="imageloadend",w="imageloaderror",M=function(t){function e(e,r){var n=t.call(this,e)||this;return n.image=r,n}return b(e,t),e}(c.a),E=function(t){function e(e){var r=t.call(this,{attributions:e.attributions,projection:e.projection,state:e.state})||this;return r.resolutions_=void 0!==e.resolutions?e.resolutions:null,r.reprojectedImage_=null,r.reprojectedRevision_=0,r}return b(e,t),e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=Object(s.h)(this.resolutions_,t,0);t=this.resolutions_[e]}return t},e.prototype.getImage=function(t,e,r,n){var i=this.getProjection();if(o.a&&i&&n&&!Object(u.f)(i,n)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Object(u.f)(this.reprojectedImage_.getProjection(),n)&&this.reprojectedImage_.getResolution()==e&&Object(l.q)(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new g(i,n,t,e,r,function(t,e,r){return this.getImageInternal(t,e,r,i)}.bind(this)),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return i&&(n=i),this.getImageInternal(t,e,r,n)},e.prototype.getImageInternal=function(t,e,r,n){return Object(i.b)()},e.prototype.handleImageChange=function(t){var e=t.target;switch(e.getState()){case a.a.LOADING:this.loading=!0,this.dispatchEvent(new M(v,e));break;case a.a.LOADED:this.loading=!1,this.dispatchEvent(new M(O,e));break;case a.a.ERROR:this.loading=!1,this.dispatchEvent(new M(w,e))}},e}(_.a);function x(t,e){t.getImage().src=e}e.a=E},function(t,e,r){"use strict";function n(t,e,r,n,i,o){for(var a=o||[],s=0,c=e;c<r;c+=n){var l=t[c],u=t[c+1];a[s++]=i[0]*l+i[2]*u+i[4],a[s++]=i[1]*l+i[3]*u+i[5]}return o&&a.length!=s&&(a.length=s),a}function i(t,e,r,n,i,o,a){for(var s=a||[],c=Math.cos(i),l=Math.sin(i),u=o[0],h=o[1],f=0,p=e;p<r;p+=n){var d=t[p]-u,m=t[p+1]-h;s[f++]=u+d*c-m*l,s[f++]=h+d*l+m*c;for(var y=p+2;y<p+n;++y)s[f++]=t[y]}return a&&s.length!=f&&(s.length=f),s}function o(t,e,r,n,i,o,a,s){for(var c=s||[],l=a[0],u=a[1],h=0,f=e;f<r;f+=n){var p=t[f]-l,d=t[f+1]-u;c[h++]=l+i*p,c[h++]=u+o*d;for(var m=f+2;m<f+n;++m)c[h++]=t[m]}return s&&c.length!=h&&(c.length=h),c}function a(t,e,r,n,i,o,a){for(var s=a||[],c=0,l=e;l<r;l+=n){s[c++]=t[l]+i,s[c++]=t[l+1]+o;for(var u=l+2;u<l+n;++u)s[c++]=t[u]}return a&&s.length!=c&&(s.length=c),s}r.d(e,"c",(function(){return n})),r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return o})),r.d(e,"d",(function(){return a}))},function(t,e,r){"use strict";e.a={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},function(t,e,r){"use strict";var n=r(0),i=r(31),o=r(75),a=r(130),s=r.n(a),c=r(9),l=r(69),u=r(4),h=r(86),f=r(58),p=r(107),d=r(36),m=r(68);function y(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return g(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==_(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===_(o)?o:String(o)),n)}var i,o}function v(t,e){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=M(t);if(e){var i=M(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return w(this,r)}}function w(t,e){if(e&&("object"===_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(g,t);var e,r,a,p=O(g);function g(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),(r=p.call(this,t,e)).facadeVector_=null,r.features_=[],r.postComposeEvtKey_=null,r.load_=!1,r.loaded_=!1,r.visibility=!1!==t.visibility,r.maxExtent_=t.maxExtent,r}return e=g,(r=[{key:"addTo",value:function(t){this.map=t,this.fire(c.i),t.on(c.q,this.setProjection_.bind(this),this),this.ol3Layer=new h.a(this.vendorOptions_),this.updateSource_(),this.opacity_&&this.setOpacity(this.opacity_),this.setVisible(this.visibility),this.map.getMapImpl().addLayer(this.ol3Layer),this.ol3Layer.setMaxZoom(this.maxZoom),this.ol3Layer.setMinZoom(this.minZoom),this.ol3Layer.setExtent(this.maxExtent_)}},{key:"updateSource_",value:function(){Object(n.X)(this.vendorOptions_.source)&&(Object(n.X)(this.ol3Layer.getSource())&&this.ol3Layer.setSource(new f.a),this.redraw(),this.loaded_=!0,this.fire(c.A,[this.features_]))}},{key:"inRange",value:function(){return!0}},{key:"parseFeaturesForTemplate_",value:function(t){var e=this,r={features:[]};return t.forEach((function(t){var n={id:t.getId(),attributes:e.recursiveExtract_(t.getAttributes())};r.features.push(n)})),r}},{key:"recursiveExtract_",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=[],o=Object.keys(t);return o.forEach((function(o){var a=!0;if(Object(n.X)(e.showAttributes_)?Object(n.X)(e.hiddenAttributes_)||(a=!Object(n.P)(e.hiddenAttributes_,o)):a=Object(n.P)(e.showAttributes_,o),"object"===_(t[o])&&t[o]&&!Array.isArray(t[o])){var s=e.recursiveExtract_(t[o],r?"".concat(r," | ").concat(o):o);i.push.apply(i,y(s))}else if(a){var c=(r?"".concat(r," | ").concat(o):o).split(" | ");i.push({key:r?"".concat(c[c.length-2]," | ").concat(c[c.length-1]):o,value:t[o]})}})),i}},{key:"addFeatures",value:function(t,e){var r=this;t.forEach((function(t){var e=r.features_.find((function(e){return e.equals(t)}));Object(n.X)(e)&&r.features_.push(t)})),e&&this.updateLayer_(),this.redraw()}},{key:"updateLayer_",value:function(){var t=this.facadeVector_.getStyle();Object(n.X)(t)||(t instanceof l.a?this.facadeVector_.setStyle(t):t.apply(this.facadeVector_))}},{key:"getFeatures",value:function(t,e){var r=this.features_;return t||(r=e.execute(r)),r}},{key:"getFeatureById",value:function(t){return this.features_.filter((function(e){return e.getId()===t}))[0]}},{key:"removeFeatures",value:function(t){this.features_=this.features_.filter((function(e){return!t.includes(e)})),this.redraw()}},{key:"redraw",value:function(){var t=this.getOL3Layer();if(!Object(n.X)(t)){var e=t.getSource();y(e.getFeatures()).forEach(e.removeFeature,e);var r=this.facadeVector_.getFeatures();e.addFeatures(r.map(m.a.facade2OLFeature))}}},{key:"getFeaturesExtent",value:function(t,e){var r=this.getFeatures(t,e),n=d.a.getFeaturesExtent(r,this.map.getProjection().code);return null===n&&(n=this.map.getProjection().getExtent()),n}},{key:"selectFeatures",value:function(t,e,r){if(!0===this.extract){var a=t[0];if(!Object(n.X)(a)){var c=a.getAttribute("vendor.mapea.click");if(Object(n.U)(c))c(r,a);else{var l=Object(i.c)(s.a,{vars:this.parseFeaturesForTemplate_(t),parseToHtml:!1}),u={icon:"g-cartografia-pin",title:this.name,content:l},h=this.map.getPopup();Object(n.X)(h)?((h=new o.a).addTab(u),this.map.addPopup(h,e)):h.addTab(u)}}}}},{key:"unselectFeatures",value:function(){}},{key:"setFacadeObj",value:function(t){this.facadeVector_=t}},{key:"setProjection_",value:function(t,e){if(t.code!==e.code){var r=Object(u.j)(t.code),n=Object(u.j)(e.code);this.facadeVector_.getFeatures().forEach((function(t){return t.getImpl().getOLFeature().getGeometry().transform(r,n)}))}}},{key:"equals",value:function(t){var e=!1;return t instanceof g&&this.constructor===t.constructor&&(e=!0),e}},{key:"refresh",value:function(){this.getOL3Layer().getSource().clear()}},{key:"isLoaded",value:function(){return this.loaded_}},{key:"destroy",value:function(){var t=this.map.getMapImpl();Object(n.X)(this.ol3Layer)||(t.removeLayer(this.ol3Layer),this.ol3Layer=null),this.map=null}}])&&b(e.prototype,r),a&&b(e,a),Object.defineProperty(e,"prototype",{writable:!1}),g}(p.a);e.a=E},function(t,e,r){"use strict";var n,i=r(377),o=r(273),a=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.createRenderer=function(){return new o.a(this)},e}(i.a);e.a=s},function(t,e,r){"use strict";var n,i=r(17),o=r(16),a=r(2),s=r(155),c=r(8),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),u=function(t){function e(e){var r=t.call(this)||this;return r.geometries_=e||null,r.changeEventsKeys_=[],r.listenGeometriesChange_(),r}return l(e,t),e.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(i.c),this.changeEventsKeys_.length=0},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push(Object(i.a)(this.geometries_[t],o.a.CHANGE,this.changed,this))},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t},e.prototype.closestPointXY=function(t,e,r,n){if(n<Object(a.f)(this.getExtent(),t,e))return n;for(var i=this.geometries_,o=0,s=i.length;o<s;++o)n=i[o].closestPointXY(t,e,r,n);return n},e.prototype.containsXY=function(t,e){for(var r=this.geometries_,n=0,i=r.length;n<i;++n)if(r[n].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){Object(a.m)(t);for(var e=this.geometries_,r=0,n=e.length;r<n;++r)Object(a.r)(t,e[r].getExtent());return t},e.prototype.getGeometries=function(){return h(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getGeometriesArrayRecursive=function(){for(var t=[],e=this.geometries_,r=0,n=e.length;r<n;++r)e[r].getType()===this.getType()?t=t.concat(e[r].getGeometriesArrayRecursive()):t.push(e[r]);return t},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var r=[],n=this.geometries_,i=!1,o=0,a=n.length;o<a;++o){var s=n[o],c=s.getSimplifiedGeometry(t);r.push(c),c!==s&&(i=!0)}if(i){var l=new e(null);return l.setGeometriesArray(r),l}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return c.a.GEOMETRY_COLLECTION},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,r=0,n=e.length;r<n;++r)if(e[r].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var r=this.geometries_,n=0,i=r.length;n<i;++n)r[n].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,r){var n=r;n||(n=Object(a.y)(this.getExtent()));for(var i=this.geometries_,o=0,s=i.length;o<s;++o)i[o].scale(t,e,n);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(h(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,r=0,n=e.length;r<n;++r)e[r].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var r=this.geometries_,n=0,i=r.length;n<i;++n)r[n].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(s.a);function h(t){for(var e=[],r=0,n=t.length;r<n;++r)e.push(t[r].clone());return e}e.a=u},function(t,e,r){"use strict";r.d(e,"a",(function(){return s})),r.d(e,"b",(function(){return c})),r.d(e,"d",(function(){return l})),r.d(e,"c",(function(){return u}));var n=r(19),i=r(14),o=r(63);function a(t,e){var r=/\{z\}/g,i=/\{x\}/g,o=/\{y\}/g,a=/\{-y\}/g;return function(s,c,l){return s?t.replace(r,s[0].toString()).replace(i,s[1].toString()).replace(o,s[2].toString()).replace(a,(function(){var t=s[0],r=e.getFullTileRange(t);return Object(n.a)(r,55),(r.getHeight()-s[2]-1).toString()})):void 0}}function s(t,e){for(var r=t.length,n=new Array(r),i=0;i<r;++i)n[i]=a(t[i],e);return c(n)}function c(t){return 1===t.length?t[0]:function(e,r,n){if(e){var a=Object(o.e)(e),s=Object(i.d)(a,t.length);return t[s](e,r,n)}}}function l(t,e,r){}function u(t){var e=[],r=/\{([a-z])-([a-z])\}/.exec(t);if(r){var n=r[1].charCodeAt(0),i=r[2].charCodeAt(0),o=void 0;for(o=n;o<=i;++o)e.push(t.replace(r[0],String.fromCharCode(o)));return e}if(r=/\{(\d+)-(\d+)\}/.exec(t)){for(var a=parseInt(r[2],10),s=parseInt(r[1],10);s<=a;s++)e.push(t.replace(r[0],s.toString()));return e}return e.push(t),e}},function(t,e,r){"use strict";var n=r(303),i=r(114),o=r(0);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===a(o)?o:String(o)),n)}var i,o}function c(t,e){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h(t);if(e){var i=h(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return u(this,r)}}function u(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(u,t);var e,r,i,a=l(u);function u(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var e=t;e=Object(o.X)(e)?u.DEFAULT_NULL:Object(o.u)(e,u.DEFAULT),e=Object(o.u)({},e);var r=new n.a(e);return a.call(this,e,r)}return e=u,(r=[{key:"toImage",value:function(){return this.getImpl().toImage(this.canvas_)}},{key:"getDeserializedMethod_",value:function(){return"((serializedParameters) => M.style.Simple.deserialize(serializedParameters, 'M.style.Point'))"}}])&&s(e.prototype,r),i&&s(e,i),Object.defineProperty(e,"prototype",{writable:!1}),u}(i.a);f.DEFAULT={radius:5},f.DEFAULT_NULL={fill:{color:"rgba(255, 255, 255, 0.4)",opacity:.4},stroke:{color:"#3399CC",width:1.5},radius:5},f.getFonts=function(){return n.a.getFonts()},f.getFontsIcons=function(t){return n.a.getFontsIcons(t)},e.a=f},function(t,e,r){"use strict";e.a={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"}},function(t,e,r){"use strict";var n=r(366),i=r(0);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,a=void 0,a=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===o(a)?a:String(a)),n)}var i,a}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.eventsManager_=new n.a}var e,r,o;return e=t,(r=[{key:"on",value:function(t,e,r){return this.eventsManager_.add(t,e,r)}},{key:"once",value:function(t,e,r){return this.eventsManager_.add(t,e,r,!0)}},{key:"un",value:function(t,e,r){this.eventsManager_.remove(t,e,r)}},{key:"unByKey",value:function(t,e){this.eventsManager_.remove(t,e)}},{key:"fire",value:function(t,e){var r=e;Object(i.X)(r)&&(r=[this]),this.eventsManager_.fire(t,r)}}])&&a(e.prototype,r),o&&a(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.a=s},function(t,e,r){"use strict";function n(t,e,r,n){for(var i=0,o=r.length;i<o;++i)t[e++]=r[i];return e}function i(t,e,r,n){for(var i=0,o=r.length;i<o;++i)for(var a=r[i],s=0;s<n;++s)t[e++]=a[s];return e}function o(t,e,r,n,o){for(var a=o||[],s=0,c=0,l=r.length;c<l;++c){var u=i(t,e,r[c],n);a[s++]=u,e=u}return a.length=s,a}function a(t,e,r,n,i){for(var a=i||[],s=0,c=0,l=r.length;c<l;++c){var u=o(t,e,r[c],n,a[s]);a[s++]=u,e=u[u.length-1]}return a.length=s,a}r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return o})),r.d(e,"d",(function(){return a}))},function(t,e,r){"use strict";var n=r(0),i=r(105),o=r(51);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===a(o)?o:String(o)),n)}var i,o}function l(t,e){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h(this,r)}}function h(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(h,t);var e,r,i,a=u(h);function h(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(this,h),(t=a.call(this,e)).vendorOptions_=r,t.map=null,t.ol3Layer=null,t.options=e,t.visibility=!1!==t.options.visibility,t.displayInLayerSwitcher=!1!==t.options.displayInLayerSwitcher,t.zIndex_=null,t.opacity_=t.options.opacity||1,t.legendUrl_=Object(n.g)([M.config.THEME_URL,o.a.LEGEND_DEFAULT]),t.minZoom=t.options.minZoom||Number.NEGATIVE_INFINITY,t.maxZoom=t.options.maxZoom||Number.POSITIVE_INFINITY,t.userMaxExtent=e.maxExtent,t}return e=h,(r=[{key:"isVisible",value:function(){return Object(n.X)(this.ol3Layer)?this.visibility:this.ol3Layer.getVisible()}},{key:"isQueryable",value:function(){return!1}},{key:"inRange",value:function(){var t=!1;if(!Object(n.X)(this.ol3Layer)){var e=this.map.getMapImpl().getView().getResolution(),r=this.ol3Layer.getMaxResolution();t=e>=this.ol3Layer.getMinResolution()&&e<=r}return t}},{key:"setVisible",value:function(t){this.visibility=t,Object(n.X)(this.ol3Layer)||this.ol3Layer.setVisible(t)}},{key:"getMinZoom",value:function(){return Object(n.X)(this.getOL3Layer())||(this.minZoom=this.getOL3Layer().getMinZoom()),this.minZoom}},{key:"setMinZoom",value:function(t){this.minZoom=t,Object(n.X)(this.getOL3Layer())||this.getOL3Layer().setMinZoom(t)}},{key:"getMaxZoom",value:function(){return Object(n.X)(this.getOL3Layer())||(this.maxZoom=this.getOL3Layer().getMaxZoom()),this.maxZoom}},{key:"setMaxZoom",value:function(t){this.maxZoom=t,Object(n.X)(this.getOL3Layer())||this.getOL3Layer().setMaxZoom(t)}},{key:"getZIndex",value:function(){return Object(n.X)(this.getOL3Layer())||(this.zIndex_=this.getOL3Layer().getZIndex()),this.zIndex_}},{key:"setZIndex",value:function(t){this.zIndex_=t,Object(n.X)(this.getOL3Layer())||this.getOL3Layer().setZIndex(t)}},{key:"getOpacity",value:function(){return Object(n.X)(this.getOL3Layer())||(this.opacity_=this.getOL3Layer().getOpacity()),this.opacity_}},{key:"setOpacity",value:function(t){var e=t;!Object(n.X)(t)&&Object(n.Z)(t)&&(e=Number(t)),this.opacity_=e,Object(n.X)(this.getOL3Layer())||this.getOL3Layer().setOpacity(e)}},{key:"getOL3Layer",value:function(){return this.ol3Layer}},{key:"setOL3Layer",value:function(t){var e=this.map.getMapImpl();return e.removeLayer(this.ol3Layer),this.ol3Layer=t,e.addLayer(t),this}},{key:"getMap",value:function(){return this.map}},{key:"getLegendURL",value:function(){return this.legendUrl_}},{key:"setMaxExtent",value:function(t){this.ol3Layer.setExtent(t)}},{key:"getMaxExtent",value:function(){this.ol3Layer.getExtent()}},{key:"setLegendURL",value:function(t){this.legendUrl_=t}},{key:"getNumZoomLevels",value:function(){return this.numZoomLevels||20}},{key:"unselectFeatures",value:function(t,e,r){}},{key:"selectFeatures",value:function(t,e,r){}}])&&c(e.prototype,r),i&&c(e,i),Object.defineProperty(e,"prototype",{writable:!1}),h}(i.a);e.a=p},function(t,e,r){"use strict";var n,i=r(110),o=r(10),a=r(318),s=r(272),c=r(20),l=r(16),u=r(4),h=r(144),f=r(17),p=r(2),d=r(14),m=r(184),y=r(374),g=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),_=function(t){function e(e,r,n,o,a,s,l,u,h,f,g){var _=t.call(this,a,c.a.IDLE)||this;_.renderEdges_=void 0!==g&&g,_.pixelRatio_=l,_.gutter_=u,_.canvas_=null,_.sourceTileGrid_=r,_.targetTileGrid_=o,_.wrappedTileCoord_=s||a,_.sourceTiles_=[],_.sourcesListenerKeys_=null,_.sourceZ_=0;var b=o.getTileCoordExtent(_.wrappedTileCoord_),v=_.targetTileGrid_.getExtent(),O=_.sourceTileGrid_.getExtent(),w=v?Object(p.C)(b,v):b;if(0===Object(p.v)(w))return _.state=c.a.EMPTY,_;var M=e.getExtent();M&&(O=O?Object(p.C)(O,M):M);var E=o.getResolution(_.wrappedTileCoord_[0]),x=Object(p.y)(w),S=Object(m.a)(e,n,x,E);if(!isFinite(S)||S<=0)return _.state=c.a.EMPTY,_;var j=void 0!==f?f:i.b;if(_.triangulation_=new y.a(e,n,w,O,S*j,E),0===_.triangulation_.getTriangles().length)return _.state=c.a.EMPTY,_;_.sourceZ_=r.getZForResolution(S);var P=_.triangulation_.calculateSourceExtent();if(O&&(e.canWrapX()?(P[1]=Object(d.a)(P[1],O[1],O[3]),P[3]=Object(d.a)(P[3],O[1],O[3])):P=Object(p.C)(P,O)),Object(p.v)(P)){for(var T=r.getTileRangeForExtentAndZ(P,_.sourceZ_),I=T.minX;I<=T.maxX;I++)for(var L=T.minY;L<=T.maxY;L++){var R=h(_.sourceZ_,I,L,l);R&&_.sourceTiles_.push(R)}0===_.sourceTiles_.length&&(_.state=c.a.EMPTY)}else _.state=c.a.EMPTY;return _}return g(e,t),e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,r,n){e&&e.getState()==c.a.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=c.a.ERROR;else{var e=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(e),n="number"==typeof r?r:r[0],i="number"==typeof r?r:r[1],o=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),s=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Object(m.b)(n,i,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,s,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=c.a.LOADED}this.changed()},e.prototype.load=function(){if(this.state==c.a.IDLE){this.state=c.a.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,r,n){var i=e.getState();if(i==c.a.IDLE||i==c.a.LOADING){t++;var o=Object(f.a)(e,l.a.CHANGE,(function(r){var n=e.getState();n!=c.a.LOADED&&n!=c.a.ERROR&&n!=c.a.EMPTY||(Object(f.c)(o),0===--t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(o)}}.bind(this)),this.sourceTiles_.forEach((function(t,e,r){t.getState()==c.a.IDLE&&t.load()})),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(f.c),this.sourcesListenerKeys_=null},e}(h.a),b=r(319),v=r(63),O=r(87),w=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),M=function(t){function e(e){var r=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:E,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return r.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,r.tileClass=void 0!==e.tileClass?e.tileClass:a.a,r.tileCacheForProjection={},r.tileGridForProjection={},r.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,r.renderReprojectionEdges_=!1,r}return w(e,t),e.prototype.canExpireCache=function(){if(!i.a)return t.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},e.prototype.expireCache=function(e,r){if(i.a){var n=this.getTileCacheForProjection(e);for(var o in this.tileCache.expireCache(this.tileCache==n?r:{}),this.tileCacheForProjection){var a=this.tileCacheForProjection[o];a.expireCache(a==n?r:{})}}else t.prototype.expireCache.call(this,e,r)},e.prototype.getGutterForProjection=function(t){return i.a&&this.getProjection()&&t&&!Object(u.f)(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(i.a&&this.getProjection()&&e&&!Object(u.f)(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(e){if(!i.a)return t.prototype.getTileGridForProjection.call(this,e);var r=this.getProjection();if(!this.tileGrid||r&&!Object(u.f)(r,e)){var n=Object(o.c)(e);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=Object(O.d)(e)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(e){if(!i.a)return t.prototype.getTileCacheForProjection.call(this,e);var r=this.getProjection();if(!r||Object(u.f)(r,e))return this.tileCache;var n=Object(o.c)(e);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new s.a(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,r,n,i,o){var a=[t,e,r],s=this.getTileCoordForTileUrlFunction(a,i),u=s?this.tileUrlFunction(s,n,i):void 0,h=new this.tileClass(a,void 0!==u?c.a.IDLE:c.a.EMPTY,void 0!==u?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=o,h.addEventListener(l.a.CHANGE,this.handleTileChange.bind(this)),h},e.prototype.getTile=function(t,e,r,n,o){var a=this.getProjection();if(i.a&&a&&o&&!Object(u.f)(a,o)){var s=this.getTileCacheForProjection(o),c=[t,e,r],l=void 0,h=Object(v.c)(c);s.containsKey(h)&&(l=s.get(h));var f=this.getKey();if(l&&l.key==f)return l;var p=this.getTileGridForProjection(a),d=this.getTileGridForProjection(o),m=this.getTileCoordForTileUrlFunction(c,o),y=new _(a,p,o,d,c,m,this.getTilePixelRatio(n),this.getGutter(),function(t,e,r,n){return this.getTileInternal(t,e,r,n,a)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return y.key=f,l?(y.interimTile=l,y.refreshInterimChain(),s.replace(h,y)):s.set(h,y),y}return this.getTileInternal(t,e,r,n,a||o)},e.prototype.getTileInternal=function(t,e,r,n,i){var o=null,a=Object(v.d)(t,e,r),s=this.getKey();if(this.tileCache.containsKey(a)){if((o=this.tileCache.get(a)).key!=s){var l=o;o=this.createTile_(t,e,r,n,i,s),l.getState()==c.a.IDLE?o.interimTile=l.interimTile:o.interimTile=l,o.refreshInterimChain(),this.tileCache.replace(a,o)}}else o=this.createTile_(t,e,r,n,i,s),this.tileCache.set(a,o);return o},e.prototype.setRenderReprojectionEdges=function(t){if(i.a&&this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){if(i.a){var r=Object(u.j)(t);if(r){var n=Object(o.c)(r);n in this.tileGridForProjection||(this.tileGridForProjection[n]=e)}}},e}(b.a);function E(t,e){t.getImage().src=e}e.a=M},function(t,e,r){"use strict";function n(t,e,r,n,i){for(var o=void 0!==i?i:[],a=0,s=e;s<r;s+=n)o[a++]=t.slice(s,s+n);return o.length=a,o}function i(t,e,r,i,o){for(var a=void 0!==o?o:[],s=0,c=0,l=r.length;c<l;++c){var u=r[c];a[s++]=n(t,e,u,i,a[s]),e=u}return a.length=s,a}function o(t,e,r,n,o){for(var a=void 0!==o?o:[],s=0,c=0,l=r.length;c<l;++c){var u=r[c];a[s++]=i(t,e,u,n,a[s]),e=u[u.length-1]}return a.length=s,a}r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return o}))},function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return i}));var n=.5,i=!0},function(t,e,r){"use strict";e.a={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}},function(t,e,r){"use strict";var n=r(156),i=r(19),o=r(246),a=r(13),s=r(2),c=r(14),l=r(56),u=r(63),h=[0,0,0],f=function(){function t(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Object(i.a)(Object(a.g)(this.resolutions_,(function(t,e){return e-t}),!0),17),!t.origins)for(var r=0,c=this.resolutions_.length-1;r<c;++r)if(e){if(this.resolutions_[r]/this.resolutions_[r+1]!==e){e=void 0;break}}else e=this.resolutions_[r]/this.resolutions_[r+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Object(i.a)(this.origins_.length==this.resolutions_.length,20));var l=t.extent;void 0===l||this.origin_||this.origins_||(this.origin_=Object(s.E)(l)),Object(i.a)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Object(i.a)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:n.b,Object(i.a)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==l?l:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){return new o.b(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))}),this):l&&this.calculateTileRanges_(l)}return t.prototype.forEachTileCoord=function(t,e,r){for(var n=this.getTileRangeForExtentAndZ(t,e),i=n.minX,o=n.maxX;i<=o;++i)for(var a=n.minY,s=n.maxY;a<=s;++a)r([e,i,a])},t.prototype.forEachTileCoordParentTileRange=function(t,e,r,n){var i,a,s,c=null,l=t[0]-1;for(2===this.zoomFactor_?(a=t[1],s=t[2]):c=this.getTileCoordExtent(t,n);l>=this.minZoom;){if(2===this.zoomFactor_?(a=Math.floor(a/2),s=Math.floor(s/2),i=Object(o.a)(a,a,s,s,r)):i=this.getTileRangeForExtentAndZ(c,l,r),e(l,i))return!0;--l}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,r){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var n=2*t[1],i=2*t[2];return Object(o.a)(n,n+1,i,i+1,e)}var a=this.getTileCoordExtent(t,r);return this.getTileRangeForExtentAndZ(a,t[0]+1,e)}return null},t.prototype.getTileRangeExtent=function(t,e,r){var n=this.getOrigin(t),i=this.getResolution(t),o=Object(l.d)(this.getTileSize(t),this.tmpSize_),a=n[0]+e.minX*o[0]*i,c=n[0]+(e.maxX+1)*o[0]*i,u=n[1]+e.minY*o[1]*i,h=n[1]+(e.maxY+1)*o[1]*i;return Object(s.l)(a,u,c,h,r)},t.prototype.getTileRangeForExtentAndZ=function(t,e,r){var n=h;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,n);var i=n[1],a=n[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,n),Object(o.a)(i,n[1],a,n[2],r)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),r=this.getResolution(t[0]),n=Object(l.d)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*n[0]*r,e[1]-(t[2]+.5)*n[1]*r]},t.prototype.getTileCoordExtent=function(t,e){var r=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=Object(l.d)(this.getTileSize(t[0]),this.tmpSize_),o=r[0]+t[1]*i[0]*n,a=r[1]-(t[2]+1)*i[1]*n,c=o+i[0]*n,u=a+i[1]*n;return Object(s.l)(o,a,c,u,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,r){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,r)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,r,n,i){var o=this.getZForResolution(r),a=r/this.getResolution(o),s=this.getOrigin(o),c=Object(l.d)(this.getTileSize(o),this.tmpSize_),h=n?.5:0,f=n?.5:0,p=Math.floor((t-s[0])/r+h),d=Math.floor((s[1]-e)/r+f),m=a*p/c[0],y=a*d/c[1];return n?(m=Math.ceil(m)-1,y=Math.ceil(y)-1):(m=Math.floor(m),y=Math.floor(y)),Object(u.a)(o,m,y,i)},t.prototype.getTileCoordForXYAndZ_=function(t,e,r,n,i){var o=this.getOrigin(r),a=this.getResolution(r),s=Object(l.d)(this.getTileSize(r),this.tmpSize_),c=n?.5:0,h=n?.5:0,f=Math.floor((t-o[0])/a+c),p=Math.floor((o[1]-e)/a+h),d=f/s[0],m=p/s[1];return n?(d=Math.ceil(d)-1,m=Math.ceil(m)-1):(d=Math.floor(d),m=Math.floor(m)),Object(u.a)(r,d,m,i)},t.prototype.getTileCoordForCoordAndZ=function(t,e,r){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,r)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},t.prototype.getZForResolution=function(t,e){var r=Object(a.h)(this.resolutions_,t,e||0);return Object(c.a)(r,this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,r=new Array(e),n=this.minZoom;n<e;++n)r[n]=this.getTileRangeForExtentAndZ(t,n);this.fullTileRanges_=r},t}();e.a=f},function(t,e,r){"use strict";r.d(e,"b",(function(){return m}));var n,i=r(17),o=r(16),a=r(33),s=r(275),c=r(73),l=r(15),u=r(147),h=r(61),f=r(19),p=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),d=function(t){function e(e){var r=this,n=Object(l.a)({},e);delete n.source,(r=t.call(this,n)||this).mapPrecomposeKey_=null,r.mapRenderKey_=null,r.sourceChangeKey_=null,r.renderer_=null,e.render&&(r.render=e.render),e.map&&r.setMap(e.map),r.addEventListener(Object(a.b)(c.a.SOURCE),r.handleSourcePropertyChange_);var i=e.source?e.source:null;return r.setSource(i),r}return p(e,t),e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(c.a.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():h.a.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(i.c)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Object(i.a)(t,o.a.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_.getFeatures(t)},e.prototype.render=function(t,e){var r=this.getRenderer();if(r.prepareFrame(t))return r.renderFrame(t,e)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Object(i.c)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Object(i.c)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Object(i.a)(t,u.a.PRECOMPOSE,(function(t){var e=t.frameState.layerStatesArray,r=this.getLayerState(!1);Object(f.a)(!e.some((function(t){return t.layer===r.layer})),67),e.push(r)}),this),this.mapRenderKey_=Object(i.a)(this,o.a.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(c.a.SOURCE,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.setSource(null),t.prototype.disposeInternal.call(this)},e}(s.a);function m(t,e){if(!t.visible)return!1;var r=e.resolution;if(r<t.minResolution||r>=t.maxResolution)return!1;var n=e.zoom;return n>t.minZoom&&n<=t.maxZoom}e.a=d},function(t,e,r){"use strict";var n=r(0);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(a)?a:String(a)),n)}var o,a}function l(){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=u(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function u(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}function h(t,e){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p(this,r)}}function p(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(u,t);var e,r,i,a=f(u);function u(){return s(this,u),a.apply(this,arguments)}return e=u,i=[{key:"deserialize",value:function(t,e){var r=Object(n.k)(t),i=r.map((function(t,e){return"arg".concat(e)})),a=i.reduce((function(t,e){return t.concat(", ").concat(e)}));return new Function(i,"return new ".concat(e,"(").concat(a,")")).apply(void 0,o(r))}}],(r=[{key:"apply",value:function(t,e,r){var n=this;this.layer_=t,this.getImpl().applyToLayer(t),!0===e&&(r?t.getFeatures().forEach((function(t){t.style=null})):t.getFeatures().forEach((function(t){t.setStyle(n.clone())}))),this.updateCanvas()}},{key:"toImage",value:function(){var t=l(d(u.prototype),"toImage",this).call(this),e={fill:this.options_.fill,stroke:this.options_.stroke};return!0===Object(n.T)(e)&&(t=Object(n.o)(this.canvas_)),t}},{key:"ORDER",get:function(){return 1}}])&&c(e.prototype,r),i&&c(e,i),Object.defineProperty(e,"prototype",{writable:!1}),u}(r(218).a);e.a=m},function(t,e,r){"use strict";var n=r(350),i=r(69),o=r(158),a=r(0);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===s(o)?o:String(o)),n)}var i,o}function f(){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=p(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function p(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}function d(t,e){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=g(t);if(e){var i=g(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return y(this,r)}}function y(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(l,t);var e,r,o,s=m(l);function l(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u(this,l);var i=new n.a(e,r);return t=s.call(this,e,i),Object(a.u)(e,l.DEFAULT),Object(a.u)(r,l.DEFAULT_VENDOR),t.optsVendor_=r,t.oldStyle_=null,t}return e=l,o=[{key:"deserialize",value:function(t){var e=c(t,3),r=e[0],n=e[1],o=e[2],s=r;s.ranges.forEach((function(t){t.style=i.a.deserialize(t.style)})),s=Object(a.k)(r);var l=Object(a.k)(n),u=new Function(["options","optsVendor"],"return new M.style.Cluster(options, optsVendor)")(s,l),h=o.map((function(t){return i.a.deserialize(t)}));return u.add(h),u}}],(r=[{key:"apply",value:function(t){f(g(l.prototype),"apply",this).call(this,t);var e=t.getStyle();this.oldStyle_=e instanceof l?e.getOldStyle():e}},{key:"unapplySoft",value:function(t){this.getImpl().unapply()}},{key:"add",value:function(t){return Object(a.X)(this.layer_)||this.unapplySoft(this.layer_),f(g(l.prototype),"add",this).call(this,t)}},{key:"applyInternal",value:function(t){this.layer_=t,this.getImpl().applyToLayer(t),this.updateCanvas()}},{key:"getOldStyle",value:function(){return this.oldStyle_}},{key:"getRanges",value:function(){return this.options_.ranges}},{key:"getOptions",value:function(){return this.options_}},{key:"setRanges",value:function(t){return this.getImpl().ranges=t,this.unapply(this.layer_),this.layer_.style=this,this}},{key:"getRange",value:function(t,e){return this.options_.ranges.find((function(r){return r.min===t&&r.max===e}))}},{key:"updateRange",value:function(t,e,r){return n.a.updateRangeImpl(t,e,r,this.layer_,this),this.unapply(this.layer_),this.layer_.style=this,this}},{key:"setAnimated",value:function(t){return this.getImpl().setAnimated(t,this.layer_,this)}},{key:"isAnimated",value:function(){return this.options_.animated}},{key:"toImage",value:function(){return this.oldStyle_ instanceof i.a?this.oldStyle_.toImage():f(g(l.prototype),"toImage",this).call(this)}},{key:"refresh",value:function(){if(!Object(a.X)(this.layer_)){var t=this.layer_;this.unapply(this.layer_),this.apply(t),this.updateCanvas()}}},{key:"ORDER",get:function(){return 4}},{key:"addSelectInteraction",value:function(){this.getImpl().addSelectInteraction()}},{key:"removeSelectInteraction",value:function(){this.getImpl().removeSelectInteraction()}},{key:"toJSON",value:function(){var t=Object(a.u)({},this.getOptions());t.ranges=this.getRanges().map((function(t){var e=Object(a.u)({},t);return e.style=t.style.serialize(),e})),t=Object(a.kb)(t);var e=Object(a.u)({},this.optsVendor_);return{parameters:[t,e=Object(a.kb)(e),this.getStyles().map((function(t){return t.serialize()}))],deserializedMethod:"M.style.Cluster.deserialize"}}}])&&h(e.prototype,r),o&&h(e,o),Object.defineProperty(e,"prototype",{writable:!1}),l}(o.a);_.DEFAULT={ranges:[],hoverInteraction:!0,displayAmount:!0,selectInteraction:!0,distance:60,animated:!0,maxFeaturesToSelect:15,label:{text:function(t){var e,r=t.getAttribute("features");return r.length&&(e=r.length.toString()),e},color:"#fff",font:"bold 15px Arial",baseline:"middle",align:"center"}},_.DEFAULT_VENDOR={animationDuration:250,animationMethod:"linear",distanceSelectFeatures:15,convexHullStyle:{fill:{color:"#fff",opacity:.25},stroke:{color:"#7b98bc"}}},_.RANGE_1_DEFAULT={fill:{color:"#81c89a"},stroke:{color:"#6eb988",width:3},radius:15},_.RANGE_2_DEFAULT={fill:{color:"#85b9d2"},stroke:{color:"#6da4be",width:3},radius:20},_.RANGE_3_DEFAULT={fill:{color:"#938fcf"},stroke:{color:"#827ec5",width:3},radius:25},e.a=_},function(t,e,r){"use strict";var n=r(55),i=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||n.a[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}();e.a=i},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===n(a)?a:String(a)),i)}var o,a}function a(t,e){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=l(t);if(e){var i=l(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return c(this,r)}}function c(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(l,t);var e,r,n,c=s(l);function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(this,l),c.call(this,t)}return e=l,(r=[{key:"clone",value:function(){var t=this.getGeometry();return t&&t.clone&&(t=t.clone()),new l({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}}])&&o(e.prototype,r),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(r(41).c);e.a=u},function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r(53);function i(t){return Array.isArray(t)?Object(n.c)(t):t}},function(t,e,r){"use strict";e.a={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"}},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var c,l=[],u=!1,h=-1;function f(){u&&c&&(u=!1,c.length?l=c.concat(l):h=-1,l.length&&p())}function p(){if(!u){var t=s(f);u=!0;for(var e=l.length;e;){for(c=l,l=[];++h<e;)c&&c[h].run();h=-1,e=l.length}c=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];l.push(new d(t,e)),1!==l.length||u||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,r){"use strict";var n=r(0),i=r(91),o=r(281),a=r(4),s=r(41),c=r(66);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==l(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===l(o)?o:String(o)),n)}var i,o}function f(){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=p(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function p(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}function d(t,e){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=g(t);if(e){var i=g(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return y(this,r)}}function y(t,e){if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(p,t);var e,r,o,l=m(p);function p(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,p),(t=l.call(this,e)).mapProj=e.featureProjection,t}return e=p,o=[{key:"readProjectionFromObject",value:function(t){var e,r=t.crs;if(r)if("name"===r.type)e=Object(a.j)(r.properties.name);else{if("EPSG"!==r.type)throw e=null,new Error("Unknown crs.type: ".concat(r.type));e=Object(a.j)("EPSG:".concat(r.properties.code))}else e="EPSG:4326";return e}},{key:"applyIcon",value:function(t,e){var r,n=document.createElement("IMG");n.src=e.url,n.width=e.width,n.height=e.height,n.crossOrigin="anonymous",e.anchor&&e.anchor.x&&e.anchor.y&&(r=[e.anchor.x,e.anchor.y]),t.setStyle(new s.c({image:new c.a({img:n,imgSize:[e.width,e.height],anchor:r})}))}}],(r=[{key:"readFeatureFromObject",value:function(t,e){var r=t,i=f(g(p.prototype),"readFeatureFromObject",this).call(this,r,e);return this.geometryName_&&i.setGeometryName(this.geometryName_),Object(n.X)(r.id)?i.setId(Object(n.z)("geojson_")):i.setId(r.id),r.properties&&i.setProperties(r.properties),r.click&&(i.click=r.click),r.properties&&r.properties.vendor&&r.properties.vendor.mapea&&r.properties.vendor.mapea.icon&&p.applyIcon(i,r.properties.vendor.mapea.icon),i}},{key:"writeFeatureObject",value:function(t,e){var r=e,i={type:"Feature"},o=t.getId();o&&(i.id=o);var a=t.getGeometry();i.geometry=a?f(g(p.prototype),"writeGeometryObject",this).call(this,a,r):null;var s=t.getProperties();return delete s[t.getGeometryName()],Object(n.X)(s)?i.properties=null:i.properties=s,Object(n.X)(t.click)||(i.click=t.click),i}},{key:"write",value:function(t){var e=this;return t.map((function(t){return e.writeFeatureObject(t.getImpl().getOLFeature())}))}},{key:"read",value:function(t,e,r){var o=r.code;Object(n.X)(o)&&(o=Object(n.X)(r.featureProjection)?Object(a.j)(r.getCode()):Object(a.j)(r.featureProjection.getCode()));var s=p.readProjectionFromObject(t);return e.map((function(t){var e=t.id,r=new i.a(e,t),n=r.getImpl().getOLFeature();if(null!==n.getGeometry()){var a=n.getGeometry().transform(s,o);n.setGeometry(a)}return r}))}}])&&h(e.prototype,r),o&&h(e,o),Object.defineProperty(e,"prototype",{writable:!1}),p}(o.a);e.a=_},function(t,e,r){"use strict";function n(t,e){var r=[];Object.keys(e).forEach((function(t){null!==e[t]&&void 0!==e[t]&&r.push(t+"="+encodeURIComponent(e[t]))}));var n=r.join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+n}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";r.d(e,"e",(function(){return o})),r.d(e,"a",(function(){return a})),r.d(e,"f",(function(){return s})),r.d(e,"d",(function(){return c})),r.d(e,"b",(function(){return l})),r.d(e,"c",(function(){return u}));var n=r(14);function i(t,e,r,i,o,a,s){var c,l=t[e],u=t[e+1],h=t[r]-l,f=t[r+1]-u;if(0===h&&0===f)c=e;else{var p=((o-l)*h+(a-u)*f)/(h*h+f*f);if(p>1)c=r;else{if(p>0){for(var d=0;d<i;++d)s[d]=Object(n.c)(t[e+d],t[r+d],p);return void(s.length=i)}c=e}}for(d=0;d<i;++d)s[d]=t[c+d];s.length=i}function o(t,e,r,i,o){var a=t[e],s=t[e+1];for(e+=i;e<r;e+=i){var c=t[e],l=t[e+1],u=Object(n.f)(a,s,c,l);u>o&&(o=u),a=c,s=l}return o}function a(t,e,r,n,i){for(var a=0,s=r.length;a<s;++a){var c=r[a];i=o(t,e,c,n,i),e=c}return i}function s(t,e,r,n,i){for(var o=0,s=r.length;o<s;++o){var c=r[o];i=a(t,e,c,n,i),e=c[c.length-1]}return i}function c(t,e,r,o,a,s,c,l,u,h,f){if(e==r)return h;var p,d;if(0===a){if((d=Object(n.f)(c,l,t[e],t[e+1]))<h){for(p=0;p<o;++p)u[p]=t[e+p];return u.length=o,d}return h}for(var m=f||[NaN,NaN],y=e+o;y<r;)if(i(t,y-o,y,o,c,l,m),(d=Object(n.f)(c,l,m[0],m[1]))<h){for(h=d,p=0;p<o;++p)u[p]=m[p];u.length=o,y+=o}else y+=o*Math.max((Math.sqrt(d)-Math.sqrt(h))/a|0,1);if(s&&(i(t,r-o,e,o,c,l,m),(d=Object(n.f)(c,l,m[0],m[1]))<h)){for(h=d,p=0;p<o;++p)u[p]=m[p];u.length=o}return h}function l(t,e,r,n,i,o,a,s,l,u,h){for(var f=h||[NaN,NaN],p=0,d=r.length;p<d;++p){var m=r[p];u=c(t,e,m,n,i,o,a,s,l,u,f),e=m}return u}function u(t,e,r,n,i,o,a,s,c,u,h){for(var f=h||[NaN,NaN],p=0,d=r.length;p<d;++p){var m=r[p];u=l(t,e,m,n,i,o,a,s,c,u,f),e=m[m.length-1]}return u}},function(t,e,r){"use strict";var n=r(216),i=r(53);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,a=void 0,a=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===o(a)?a:String(a)),n)}var i,a}function c(t,e){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h(t);if(e){var i=h(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return u(this,r)}}function u(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(u,t);var e,r,n,o=l(u);function u(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,u);var r=0;return e.stroke&&(r=e.stroke.getWidth()),t=o.call(this,{radius:e.radius,fill:e.fill,rotation:e.rotation,rotateWithView:e.rotateWithView}),"number"==typeof e.opacity&&t.setOpacity(e.opacity),t.color_=e.color,t.fontSize_=e.fontSize||1,t.stroke_=e.stroke,t.fill_=e.fill,t.radius_=e.radius-r,t.form_=e.form||"none",t.gradient_=e.gradient,t.offset_=[e.offsetX?e.offsetX:0,e.offsetY?e.offsetY:0],t.glyph_=t.getGlyph(e.glyph)||"",t.renderMaker(),t}return e=u,n=[{key:"addDefs",value:function(t,e){var r=t;if("string"==typeof t&&(r={font:t,name:t,copyright:""}),!r.font||"string"!=typeof r.font)throw new Error("bad font def");var n=r.font;u.defs.fonts[n]=r,Object.keys(e).forEach((function(t){var n=e[t];"string"==typeof n&&1===n.length&&(n={char:n}),u.defs.glyphs[t]={font:r.font,char:n.char||"".concat(String.fromCharCode(n.code))||"",theme:n.theme||r.name,name:n.name||t,search:n.search||""}}))}}],(r=[{key:"clone",value:function(){var t=new u({glyph:"",color:this.color_,fontSize:this.fontSize_,stroke:this.stroke_,fill:this.fill_,radius:this.radius_+(this.stroke_?this.stroke_.getWidth():0),form:this.form_,gradient:this.gradient_,offsetX:this.offset_[0],offsetY:this.offset_[1],opacity:this.getOpacity(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()});return t.setScale(this.getScale()),t.setGlyph(this.getGlyph()),t.renderMaker(),t}},{key:"setGlyph",value:function(t){this.glyph_=t}},{key:"getFill",value:function(){return this.fill_}},{key:"getStroke",value:function(){return this.stroke_}},{key:"getGlyph",value:function(t){var e=this.glyph_;return t&&(e=(e=u.defs.glyphs[t])||{font:"none",char:t.charAt(0),theme:"none",name:"none",search:""}),e}},{key:"getGlyphName",value:function(){var t=this,e="";return Object.keys(u.defs.glyphs).forEach((function(r){u.defs.glyph[r]===t.glyph_&&(e=r)})),e}},{key:"getFontInfo",value:function(t){return u.defs.fonts[t.font]}},{key:"renderMaker",value:function(t){var e,r=0;this.stroke_&&(e=Object(i.b)(this.stroke_.getColor()),r=this.stroke_.getWidth());var n=this.getImage(),o={strokeStyle:e,strokeWidth:r,size:n.width},a=n.getContext("2d");a.clearRect(0,0,n.width,n.height),this.drawMarker_(o,a,0,0);var s=this.getAnchor();s[0]=n.width/2-this.offset_[0],s[1]=n.width/2-this.offset_[1]}},{key:"drawPath_",value:function(t,e){var r=e,n=2*this.radius_+t.strokeWidth+1,i=t.strokeWidth/2,o=t.size/2,a={fac:1,posX:t.size/2,posY:t.size/2};r.lineJoin="round",r.beginPath();var s=Math.PI;switch(this.form_){case"none":a.fac=1;break;case"circle":case"ban":r.arc(o,o,n/2,0,2*Math.PI,!0);break;case"poi":r.arc(o,o-.4*this.radius_,.6*this.radius_,.15*s,.85*s,!0),r.lineTo(o-.89*.05*n,(.95+.45*.05)*n+i),r.arc(o,.95*n+i,.05*n,.85*Math.PI,.15*Math.PI,!0),a={fac:.45,posX:o,posY:o-.35*this.radius_};break;case"bubble":r.arc(o,o-.2*this.radius_,.8*this.radius_,.4*s,.6*s,!0),r.lineTo(.5*n+i,n+i),a={fac:.7,posX:o,posY:o-.2*this.radius_};break;case"marker":r.arc(o,o-.2*this.radius_,.8*this.radius_,.25*s,.75*s,!0),r.lineTo(.5*n+i,n+i),a={fac:.7,posX:o,posY:o-.2*this.radius_};break;case"coma":r.moveTo(o+.8*this.radius_,o-.2*this.radius_),r.quadraticCurveTo(.95*n+i,.75*n+i,.5*n+i,n+i),r.arc(o,o-.2*this.radius_,.8*this.radius_,.45*s,0,!1),a={fac:.7,posX:o,posY:o-.2*this.radius_};break;default:var c;switch(this.form_){case"shield":c=[.05,0,.95,0,.95,.8,.5,1,.05,.8,.05,0],a.posY=.45*n+i;break;case"blazon":c=[.1,0,.9,0,.9,.8,.6,.8,.5,1,.4,.8,.1,.8,.1,0],a.fac=.8,a.posY=.4*n+i;break;case"bookmark":c=[.05,0,.95,0,.95,1,.5,.8,.05,1,.05,0],a.fac=.9,a.posY=.4*n+i;break;case"hexagon":c=[.05,.2,.5,0,.95,.2,.95,.8,.5,1,.05,.8,.05,.2],a.fac=.9,a.posY=.5*n+i;break;case"diamond":c=[.25,0,.75,0,1,.2,1,.4,.5,1,0,.4,0,.2,.25,0],a.fac=.75,a.posY=.35*n+i;break;case"triangle":c=[0,0,1,0,.5,1,0,0],a.fac=.6,a.posY=.3*n+i;break;case"sign":c=[.5,.05,1,.95,0,.95,.5,.05],a.fac=.7,a.posY=.65*n+i;break;case"lozenge":c=[.5,0,1,.5,.5,1,0,.5,.5,0],a.fac=.7;break;default:c=[0,0,1,0,1,1,0,1,0,0]}for(var l=0;l<c.length;l+=2)r.lineTo(c[l]*n+i,c[l+1]*n+i)}return r.closePath(),a}},{key:"drawMarker_",value:function(t,e,r,n){var o=e,a=this.fill_?this.fill_.getColor():"#000",s=this.stroke_?this.stroke_.getColor():"#000";"none"===this.form_&&this.stroke_&&this.fill_&&(s=this.fill_.getColor(),a=this.stroke_.getColor()),o.setTransform(1,0,0,1,0,0),o.translate(r,n);var c=this.drawPath_(t,o);if(this.fill_){if(this.gradient_&&"none"!==this.form_){var l=o.createLinearGradient(0,0,t.size/2,t.size);l.addColorStop(1,Object(i.b)(a)),l.addColorStop(0,Object(i.b)(s)),o.fillStyle=l}else o.fillStyle=Object(i.b)(a);o.fill()}if(this.stroke_&&t.strokeWidth&&(o.strokeStyle=t.strokeStyle,o.lineWidth=t.strokeWidth,o.stroke()),this.glyph_.char){o.font="".concat(2*c.fac*this.radius_*this.fontSize_,"px ").concat(this.glyph_.font),o.strokeStyle=o.fillStyle,o.lineWidth=t.strokeWidth*("none"===this.form_?2:1),o.fillStyle=Object(i.b)(this.color_||s),o.textAlign="center",o.textBaseline="middle";var u=this.glyph_.char;t.strokeWidth&&"transparent"!==s&&o.strokeText(u,c.posX,c.posY),o.fillText(u,c.posX,c.posY)}if("ban"===this.form_&&this.stroke_&&t.strokeWidth){o.strokeStyle=t.strokeStyle,o.lineWidth=t.strokeWidth;var h=this.radius_+t.strokeWidth,f=this.radius_*Math.cos(Math.PI/4);o.moveTo(h+f,h-f),o.lineTo(h-f,h+f),o.stroke()}}},{key:"getChecksum",value:function(){var t=null!==this.stroke_?this.stroke_.getChecksum():"-",e=null!==this.fill_?this.fill_.getChecksum():"-";if(null===this.checksums_||t!==this.checksums_[1]||e!==this.checksums_[2]||this.radius_!==this.checksums_[3]||"".concat(this.form_,"-").concat(this.glyphs_!==this.checksums_[4])){var r="c"+t+e+(void 0!==this.radius_?this.radius_.toString():"-")+this.form_+"-"+this.glyphs_;this.checksums_=[r,t,e,this.radius_,"".concat(this.form_,"-").concat(this.glyphs_)]}return this.checksums_[0]}}])&&s(e.prototype,r),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(n.a);f.defs={fonts:{},glyphs:{}},f.addDefs({font:"g-cartografia",name:"g-cartografia",prefix:"g-cartografia-"},{"g-cartografia-spinner":{font:"g-cartografia",code:59663,name:"spinner",search:"spinner"},"g-cartografia-posicion3":{font:"g-cartografia",code:59661,name:"posicion3",search:"posicion3"},"g-cartografia-brujula-norte":{font:"g-cartografia",code:59648,name:"brujula-norte",search:"brujula-norte"},"g-cartografia-capas2":{font:"g-cartografia",code:59649,name:"capas2",search:"capas2"},"g-cartografia-comentarios":{font:"g-cartografia",code:59650,name:"comentarios",search:"comentarios"},"g-cartografia-escala3":{font:"g-cartografia",code:59651,name:"escala3",search:"escala3"},"g-cartografia-flecha":{font:"g-cartografia",code:59652,name:"flecha",search:"flecha"},"g-cartografia-flecha-abajo":{font:"g-cartografia",code:59653,name:"flecha-abajo",search:"flecha-abajo"},"g-cartografia-flecha-arriba":{font:"g-cartografia",code:59654,name:"flecha-arriba",search:"flecha-arriba"},"g-cartografia-flecha-derecha":{font:"g-cartografia",code:59655,name:"flecha-derecha",search:"flecha-derecha"},"g-cartografia-flecha-izquierda":{font:"g-cartografia",code:59656,name:"flecha-izquierda",search:"flecha-izquierda"},"g-cartografia-gps2":{font:"g-cartografia",code:59657,name:"gps2",search:"gps2"},"g-cartografia-info":{font:"g-cartografia",code:59658,name:"info",search:"info"},"g-cartografia-papelera":{font:"g-cartografia",code:59659,name:"papelera",search:"papelera"},"g-cartografia-pin":{font:"g-cartografia",code:59660,name:"pin",search:"pin"},"g-cartografia-zoom-extension":{font:"g-cartografia",code:59662,name:"zoom-extension",search:"zoom-extension"}}),e.a=f},function(t,e,r){"use strict";r.r(e),r.d(e,"TOP",(function(){return n})),r.d(e,"MIDDLE",(function(){return i})),r.d(e,"BOTTOM",(function(){return o})),r.d(e,"ALPHABETIC",(function(){return a})),r.d(e,"HANGING",(function(){return s})),r.d(e,"IDEOGRAPHIC",(function(){return c}));var n="top",i="middle",o="bottom",a="alphabetic",s="hanging",c="ideographic"},function(t,e,r){"use strict";r.d(e,"b",(function(){return f})),r.d(e,"d",(function(){return p})),r.d(e,"f",(function(){return d})),r.d(e,"e",(function(){return m})),r.d(e,"a",(function(){return g})),r.d(e,"c",(function(){return _}));r(655),r(656),r(316);var n=r(23),i=r(384),o=r(204),a=r(161),s=r(159),c=r(103),l=(r(787),r(0)),u=r(3),h=(r(150),r(455),r(6)),f=function t(e,r){t[e]=r},p=function(t,e,r){return Object(l.X)(n.a)&&Object(u.a)(Object(h.e)("exception").no_impl),new i.a(t,e,r)},d=!0,m=function(t){"boolean"==typeof t&&(d=t)},y=function(){return{BASE_MapaBase_IGNBaseTodo_WMTS:new s.a({url:"https://www.ign.es/wmts/ign-base?",name:"IGNBaseTodo",legend:"Mapa IGN",matrixSet:"GoogleMapsCompatible",transparent:!1,attribution:'<p><b>IDEE</b>: <a style="color: #0000FF" href="https://www.scne.es" target="_blank">SCNE</a></p>'},{format:"image/jpeg",displayInLayerSwitcher:!1,queryable:!1,visible:!0}),MapaBase_CallejeroGris_WMTS:"WMTS*https://www.ign.es/wmts/ign-base?*IGNBase-gris*GoogleMapsCompatible*IGNBaseGris*true*image/jpeg",OcupacionSuelo_LandCoverSurfaces_WMTS:"WMTS*https://servicios.idee.es/wmts/ocupacion-suelo?*LC.LandCoverSurfaces*GoogleMapsCompatible*LandCoverSurfaces*true*image/png",MDT_ElevationGridCoverage_WMTS:"WMTS*https://servicios.idee.es/wmts/mdt?*EL.ElevationGridCoverage*GoogleMapsCompatible*ElevationGridCoverage*true*image/jpeg",CartografiaRaster_MTN_WMTS:"WMTS*https://www.ign.es/wmts/mapa-raster?*MTN*GoogleMapsCompatible*MTN*true*image/jpeg",PNOA_MA_OrthoimageCoverage_WMTS:"WMTS*https://www.ign.es/wmts/pnoa-ma?*OI.OrthoimageCoverage*GoogleMapsCompatible*OrthoimageCoverage*true*image/jpeg",MapaLiDAR_GridCoverageDSM_WMTS:"WMTS*https://wmts-mapa-lidar.idee.es/lidar?*EL.GridCoverageDSM*GoogleMapsCompatible*GridCoverageDSM*true*image/png",MTN_Historico_Catastrones_WMTS:"WMTS*https://www.ign.es/wmts/primera-edicion-mtn?*Catastrones*GoogleMapsCompatible*catastrones*true*image/jpeg",Planos_Historicos_MadridMancelliMadrid_WMTS:"WMTS*https://www.ign.es/wmts/planos?*MancelliMadrid*GoogleMapsCompatible*MancelliMadrid*true*image/png",NGBE_GeographicalNames_WMS:"WMS*GeographicalNames*https://www.ign.es/wms-inspire/ngbe?*GN.GeographicalNames",UnidadesAdministrativas_AdministrativeUnit_WMS:"WMS*UnidadesAdministrativas*https://www.ign.es/wms-inspire/unidades-administrativas?*AU.AdministrativeUnit",Hidrografia_HydroPointOfInterest_WMS:"WMS*HydroPointOfInterest*https://servicios.idee.es/wms-inspire/hidrografia?*HY.PhysicalWaters.HydroPointOfInterest",Usos_Coberturas_HRLForestTCD2015_WMS:"WMS*HRLForestTCD2015*https://servicios.idee.es/wms/copernicus-landservice-spain?*HRLForestTCD2015",Cuadriculas_GridETRS89_WMS:"WMS*GridETRS89*https://www.ign.es/wms-inspire/cuadriculas?*Grid-ETRS89-lonlat-50k",CaminoSantiago_CaminoFrances_WMS:"WMS*CaminoFrances*https://www.ign.es/wms-inspire/camino-santiago?*camino_frances",RedesGeodesicas_RedRegente_WMS:"WMS*RedRegente*https://www.ign.es/wms-inspire/redes-geodesicas?*RED_REGENTE",Informacionsismica_Ultimos10dias_WMS:"WMS*Ultimos10dias*https://www.ign.es/wms-inspire/geofisica?*Ultimos10dias",RedVigilanciaVolcanica_SIS_WMS:"WMS*SIS*https://wms-volcanologia.ign.es/volcanologia?*sis",PNOA_Historico_PNOA2019_WMS:"WMS*SIPNOA2019S*https://www.ign.es/wms/pnoa-historico?*PNOA2019",MinutasCartograficas_Minutas_WMS:"WMS*Minutas*https://www.ign.es/wms/minutas-cartograficas?*Minutas",HojasKilometricas_ParcelasCatastrales_WMS:"WMS*ParcelasCatastrales*https://www.ign.es/wms/hojas-kilometricas?*Parcelas_Catastrales",Fototeca_InfoVuelos_WMS:"WMS*InfoVuelos*https://wms-fototeca.idee.es/fototeca?*infoVuelos",SatelitesHistoricos_SentinelInvierno23_WMS:"WMS*SentinelInvierno23*https://wms-satelites-historicos.idee.es/satelites-historicos?*SENTINEL.2023invierno_432-1184",PNOA_Provisional_MosaicElement_WMS:"WMS*MosaicElement*https://wms-pnoa.idee.es/pnoa-provisionales?*OI.MosaicElement",Base_IGNBaseTodo_TMS:new a.a({url:"https://tms-ign-base.idee.es/1.0.0/IGNBaseTodo/{z}/{x}/{-y}.jpeg",legend:"IGNBaseTodo",visible:!0,transparent:!1,tileGridMaxZoom:17,name:"IGNBaseTodo",attribution:'<p><b>IDEE</b>: <a style="color: #0000FF" href="https://www.scne.es" target="_blank">SCNE</a></p>'},{crossOrigin:"anonymous",displayInLayerSwitcher:!1}),IGNBaseTodo_TMS:"TMS*IGNBaseTodo*https://tms-ign-base.idee.es/1.0.0/IGNBaseTodo/{z}/{x}/{-y}.jpeg",BASE_IGNBaseOrto_TMS:new a.a({url:"https://tms-ign-base.idee.es/1.0.0/IGNBaseOrto/{z}/{x}/{-y}.png",legend:"IGNBaseOrto",name:"IGNBaseOrto",visible:!0,transparent:!1,tileGridMaxZoom:17,attribution:'<p><b>IDEE</b>: <a style="color: #0000FF" href="https://www.scne.es" target="_blank">SCNE</a></p>'},{crossOrigin:"anonymous",displayInLayerSwitcher:!1}),IGNBaseOrto_TMS:"TMS*IGNBaseOrto*https://tms-ign-base.idee.es/1.0.0/IGNBaseOrto/{z}/{x}/{-y}.png",IGNBaseSimplificado_TMS:"TMS*IGNBaseSimplificado*https://tms-ign-base.idee.es/1.0.0/IGNBaseSimplificado/{z}/{x}/{-y}.png",MapaRaster_TMS:"TMS*MapaRaster*https://tms-mapa-raster.ign.es/1.0.0/mapa-raster/{z}/{x}/{-y}.jpeg",BASE_PNOA_MA_TMS:new a.a({url:"https://tms-pnoa-ma.idee.es/1.0.0/pnoa-ma/{z}/{x}/{-y}.jpeg",legend:"PNOA_MA",name:"PNOA_MA",visible:!0,transparent:!1,tileGridMaxZoom:19,attribution:{name:"PNOA-MA",description:"IGN",url:"https://www.ign.es",contentAttributions:"https://componentes.cnig.es/api-core/files/attributions/WMTS_PNOA_20170220/atribucionPNOA_Url.kml",contentType:"kml"}},{crossOrigin:"anonymous",displayInLayerSwitcher:!1}),PNOA_MA_TMS:"TMS*PNOA_MA*https://tms-pnoa-ma.idee.es/1.0.0/pnoa-ma/{z}/{x}/{-y}.jpeg",RelieveSombreado_TMS:"TMS*RelieveSombreado*https://tms-relieve.idee.es/1.0.0/relieve/{z}/{x}/{-y}.jpeg",UnidadesAdministrativas_MVT:"MVT*https://vt-unidades-administrativas.ign.es/1.0.0/uadministrativa/{z}/{x}/{y}.pbf*UnidadesAdministrativas",Senderos_MVT:"MVT*https://vt-fedme.idee.es/vt.senderogr,vt.senderopr,vt.senderosl/{z}/{x}/{y}.pbf*Senderos",RedAlberguesJuveniles_MVT:"MVT*https://vt-reaj.idee.es/vt.alberguesjuveniles/{z}/{x}/{y}.pbf*RedAlberguesJuveniles",ViasVerdes_MVT:"MVT*https://vt-viasverdes.idee.es/vt.viasverdes/{z}/{x}/{y}.pbf*ViasVerdes",BTN_MVT:"MVT*https://vt-btn.idee.es/1.0.0/btn/tile/{z}/{y}/{x}.pbf*BTN",RedesGeodesicas_Regente_WFS:new o.a({url:"https://www.ign.es/wfs/redes-geodesicas?",legend:"REGENTE",name:"RED_REGENTE",geometry:"POINT",extract:!0},{style:new c.a({radius:2,fill:{color:"black",opacity:.5}})})}},g=function(t,e){if(!0===e)y=function(){return t};else{var r=Object.assign(y(),t);y=function(){return r}}return y()},_=function(t){var e=y();return Object(l.ab)(t)||(e=y()[t]),e}},function(t,e,r){"use strict";e.e={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"}},function(t,e,r){"use strict";r.r(e),r.d(e,"POINT",(function(){return n})),r.d(e,"LINE",(function(){return i})),r.d(e,"POLYGON",(function(){return o})),r.d(e,"MPOINT",(function(){return a})),r.d(e,"MLINE",(function(){return s})),r.d(e,"MPOLYGON",(function(){return c}));var n="POINT",i="LINE",o="POLYGON",a="MPOINT",s="MLINE",c="MPOLYGON";e.default={}},function(t,e){t.exports='<div class="m-geojson-content">\n   {{#each features}}\n   <div id="{{id}}" class="result">\n      {{#each attributes}}\n      <table>\n         <tr>\n            <td class="key">{{key}}</td>\n            <td class="value">{{{value}}}</td>\n         </tr>\n      </table>\n      {{/each}}\n   </div>\n   <div class="m-separator"></div>\n   {{/each}}\n</div>'},function(t,e,r){"use strict";var n=r(82);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(a)?a:String(a)),n)}var o,a}function a(t,e){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=l(t);if(e){var i=l(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return c(this,r)}}function c(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(l,t);var e,r,i,c=s(l);function l(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(t=c.call(this,{})).facadeMap_=null,t}return e=l,(r=[{key:"addTo",value:function(t,e){this.facadeMap_=t,n.a.call(this,{element:e,target:null}),t.getMapImpl().addControl(this)}},{key:"destroy",value:function(){this.facadeMap_.getMapImpl().removeControl(this),this.facadeMap_=null}},{key:"getElement",value:function(){return this.element}}])&&o(e.prototype,r),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),l}(n.a);e.a=u},function(t,e,r){"use strict";e.a={PROPERTYCHANGE:"propertychange"}},function(t,e,r){"use strict";var n=r(323),i=r(0),o=r(3),a=r(51),s=r(11),c=r(12),l=r(6);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return(e=y(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y(n.key),n)}}function y(t){var e=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===u(e)?e:String(e)}function g(t,e){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=v(t);if(e){var i=v(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return b(this,r)}}function b(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(h,t);var e,r,a,u=_(h);function h(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d(this,h),Object(i.ab)(n.a)&&Object(o.a)(Object(l.e)("exception").wms_method),Object(i.X)(t)&&Object(o.a)(Object(l.e)("exception").no_param);var p=s.Cb(t,c.WMS),m=f(f({},r),{},{visibility:p.visibility,queryable:p.queryable,displayInLayerSwitcher:p.displayInLayerSwitcher,useCapabilities:p.useCapabilities,transparent:p.transparent,isWMSfull:void 0===p.name}),y=new n.a(m,a);return(e=u.call(this,p,y)).legend=p.legend,e.version=p.version,Object(i.X)(p.tiled)||(e.tiled=p.tiled),Object(i.X)(a.capabilitiesMetadata)||(e.capabilitiesMetadata=a.capabilitiesMetadata),e.minZoom=p.minZoom,e.maxZoom=p.maxZoom,e.options=m,e.getCapabilitiesPromise_=null,e.useCapabilities=!1!==t.useCapabilities,e._updateNoCache(),e}return e=h,(r=[{key:"legend",get:function(){return this.getImpl().legend},set:function(t){Object(i.X)(t)?this.getImpl().legend=this.name:this.getImpl().legend=t}},{key:"tiled",get:function(){return this.getImpl().tiled},set:function(t){Object(i.X)(t)?this.getImpl().tiled=!0:Object(i.Z)(t)?this.getImpl().tiled="true"===Object(i.db)(t):this.getImpl().tiled=t}},{key:"version",get:function(){return this.getImpl().version},set:function(t){Object(i.X)(t)?this.getImpl().version="1.3.0":this.getImpl().version=t}},{key:"options",get:function(){return this.getImpl().options},set:function(t){this.getImpl().options=t}},{key:"getMaxExtent",value:function(t){var e,r=this;return Object(i.X)(this.userMaxExtent)?(Object(i.X)(this.options.wmcMaxExtent)?Object(i.X)(this.map_.userMaxExtent)?this.getCapabilities().then((function(e){var n=r.getImpl().getExtentFromCapabilities(e);if(Object(i.X)(n)){var o=r.map_.getProjection().getExtent();r.maxExtent_=o}else r.maxExtent_=n;Object(i.U)(t)&&t(r.maxExtent_)})):this.maxExtent_=this.map_.userMaxExtent:this.maxExtent_=this.options.wmcMaxExtent,e=this.maxExtent_):e=this.userMaxExtent,!Object(i.X)(e)&&Object(i.U)(t)&&t(e),e}},{key:"calculateMaxExtent",value:function(){var t=this;return new Promise((function(e){return t.getMaxExtent(e)}))}},{key:"calculateMaxExtentWithCapabilities",value:function(t){if(Object(i.X)(this.userMaxExtent)&&this.userMaxExtent)return this.userMaxExtent;if(Object(i.X)(this.options.wmcMaxExtent)&&this.options.wmcMaxExtent)return this.maxExtent_=this.options.wmcMaxExtent,this.maxExtent_;if(Object(i.X)(this.map_.userMaxExtent)&&this.map_.userMaxExtent)return this.maxExtent_=this.map_.userMaxExtent,this.maxExtent_;var e=this.getImpl().getExtentFromCapabilities(t);if(Object(i.X)(e)){var r=this.map_.getProjection().getExtent();return this.maxExtent_=r,this.maxExtent_}return e}},{key:"getCapabilities",value:function(){return Object(i.X)(this.getCapabilitiesPromise_)&&(this.getCapabilitiesPromise_=this.getImpl().getCapabilities()),this.getCapabilitiesPromise_}},{key:"getNoCacheUrl",value:function(){return this._noCacheUrl}},{key:"getNoCacheName",value:function(){return this._noCacheName}},{key:"updateMinMaxResolution",value:function(t){return this.getImpl().updateMinMaxResolution(t)}},{key:"_updateNoCache",value:function(){var t=M.config.tileMappgins.tiledNames.indexOf(this.name);-1!==t&&Object(i.hb)(M.config.tileMappgins.tiledUrls[t],this.url)&&(this._noCacheUrl=M.config.tileMappgins.urls[t],this._noCacheName=M.config.tileMappgins.names[t])}},{key:"equals",value:function(t){var e=!1;return t instanceof h&&(e=this.url===t.url,e=e&&this.name===t.name,e=e&&this.version===t.version),e}}])&&m(e.prototype,r),a&&m(e,a),Object.defineProperty(e,"prototype",{writable:!1}),h}(a.a);e.a=O},function(t,e,r){"use strict";var n,i=r(2),o=r(21),a=r(8),s=r(89),c=r(270),l=r(124),u=r(106),h=r(109),f=r(153),p=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),d=function(t){function e(e,r){var n=t.call(this)||this;return n.maxDelta_=-1,n.maxDeltaRevision_=-1,void 0===r||Array.isArray(e[0])?n.setCoordinates(e,r):n.setFlatCoordinates(r,e),n}return p(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,r,n){return n<Object(i.f)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(l.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(l.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,r,n))},e.prototype.getArea=function(){return Object(c.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return Object(h.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[];return r.length=Object(f.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,0),new e(r,o.a.XY)},e.prototype.getType=function(){return a.a.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(u.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(s.a);e.a=d},function(t,e,r){"use strict";var n,i=r(2),o=r(8),a=r(89),s=r(106),c=r(97),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),u=function(t){function e(e,r,n){var i=t.call(this)||this;if(void 0!==n&&void 0===r)i.setFlatCoordinates(n,e);else{var o=r||0;i.setCenterAndRadius(e,o,n)}return i}return l(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),void 0,this.layout)},e.prototype.closestPointXY=function(t,e,r,n){var i=this.flatCoordinates,o=t-i[0],a=e-i[1],s=o*o+a*a;if(s<n){if(0===s)for(var c=0;c<this.stride;++c)r[c]=i[c];else{var l=this.getRadius()/Math.sqrt(s);r[0]=i[0]+l*o,r[1]=i[1]+l*a;for(c=2;c<this.stride;++c)r[c]=i[c]}return r.length=this.stride,s}return n},e.prototype.containsXY=function(t,e){var r=this.flatCoordinates,n=t-r[0],i=e-r[1];return n*n+i*i<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var e=this.flatCoordinates,r=e[this.stride]-e[0];return Object(i.l)(e[0]-r,e[1]-r,e[0]+r,e[1]+r,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},e.prototype.getType=function(){return o.a.CIRCLE},e.prototype.intersectsExtent=function(t){var e=this.getExtent();if(Object(i.H)(t,e)){var r=this.getCenter();return t[0]<=r[0]&&t[2]>=r[0]||(t[1]<=r[1]&&t[3]>=r[1]||Object(i.u)(t,this.intersectsCoordinate.bind(this)))}return!1},e.prototype.setCenter=function(t){var e=this.stride,r=this.flatCoordinates[e]-this.flatCoordinates[0],n=t.slice();n[e]=n[0]+r;for(var i=1;i<e;++i)n[e+i]=t[i];this.setFlatCoordinates(this.layout,n),this.changed()},e.prototype.setCenterAndRadius=function(t,e,r){this.setLayout(r,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var n=this.flatCoordinates,i=Object(s.a)(n,0,t,this.stride);n[i++]=n[0]+e;for(var o=1,a=this.stride;o<a;++o)n[i++]=n[o];n.length=i,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,e){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e.prototype.rotate=function(t,e){var r=this.getCenter(),n=this.getStride();this.setCenter(Object(c.a)(r,0,r.length,n,t,e,r)),this.changed()},e.prototype.translate=function(t,e){var r=this.getCenter(),n=this.getStride();this.setCenter(Object(c.d)(r,0,r.length,n,t,e,r)),this.changed()},e}(a.a);u.prototype.transform,e.a=u},function(t,e,r){"use strict";r.d(e,"b",(function(){return d}));var n,i=r(102),o=r(13),a=r(15),s=r(4),c=r(108),l=r(139),u=r(167),h=r(123),f=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),p=function(t){function e(e){var r=this,n=void 0!==e.requestEncoding?e.requestEncoding:l.a.KVP,o=e.tileGrid,a=e.urls;return void 0===a&&void 0!==e.url&&(a=Object(i.c)(e.url)),(r=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:o,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:i.d,urls:a,wrapX:void 0!==e.wrapX&&e.wrapX,transition:e.transition})||this).version_=void 0!==e.version?e.version:"1.0.0",r.format_=void 0!==e.format?e.format:"image/jpeg",r.dimensions_=void 0!==e.dimensions?e.dimensions:{},r.layer_=e.layer,r.matrixSet_=e.matrixSet,r.style_=e.style,r.requestEncoding_=n,r.setKey(r.getKeyForDimensions_()),a&&a.length>0&&(r.tileUrlFunction=Object(i.b)(a.map(m.bind(r)))),r}return f(e,t),e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.setTileUrlFunction(Object(i.b)(t.map(m.bind(this))),e)},e.prototype.getDimensions=function(){return this.dimensions_},e.prototype.getFormat=function(){return this.format_},e.prototype.getLayer=function(){return this.layer_},e.prototype.getMatrixSet=function(){return this.matrixSet_},e.prototype.getRequestEncoding=function(){return this.requestEncoding_},e.prototype.getStyle=function(){return this.style_},e.prototype.getVersion=function(){return this.version_},e.prototype.getKeyForDimensions_=function(){var t=0,e=[];for(var r in this.dimensions_)e[t++]=r+"-"+this.dimensions_[r];return e.join("/")},e.prototype.updateDimensions=function(t){Object(a.a)(this.dimensions_,t),this.setKey(this.getKeyForDimensions_())},e}(c.a);function d(t,e){var r=t.Contents.Layer,n=Object(o.d)(r,(function(t,r,n){return t.Identifier==e.layer}));if(null===n)return null;var i,a=t.Contents.TileMatrixSet;(i=n.TileMatrixSetLink.length>1?"projection"in e?Object(o.e)(n.TileMatrixSetLink,(function(t,r,n){var i=Object(o.d)(a,(function(e){return e.Identifier==t.TileMatrixSet})).SupportedCRS,c=Object(s.j)(i.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Object(s.j)(i),l=Object(s.j)(e.projection);return c&&l?Object(s.f)(c,l):i==e.projection})):Object(o.e)(n.TileMatrixSetLink,(function(t,r,n){return t.TileMatrixSet==e.matrixSet})):0)<0&&(i=0);var c=n.TileMatrixSetLink[i].TileMatrixSet,h=n.TileMatrixSetLink[i].TileMatrixSetLimits,f=n.Format[0];"format"in e&&(f=e.format),(i=Object(o.e)(n.Style,(function(t,r,n){return"style"in e?t.Title==e.style:t.isDefault})))<0&&(i=0);var p=n.Style[i].Identifier,d={};"Dimension"in n&&n.Dimension.forEach((function(t,e,r){var n=t.Identifier,i=t.Default;void 0===i&&(i=t.Value[0]),d[n]=i}));var m,y=t.Contents.TileMatrixSet,g=Object(o.d)(y,(function(t,e,r){return t.Identifier==c})),_=g.SupportedCRS;if(_&&(m=Object(s.j)(_.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Object(s.j)(_)),"projection"in e){var b=Object(s.j)(e.projection);b&&(m&&!Object(s.f)(b,m)||(m=b))}var v=g.TileMatrix[0],O=28e-5*v.ScaleDenominator,w=m===Object(s.j)("EPSG:4326")?[v.TopLeftCorner[1],v.TopLeftCorner[0]]:v.TopLeftCorner,M=v.TileWidth*O,E=v.TileHeight*O,x=[w[0],w[1]-E*v.MatrixHeight,w[0]+M*v.MatrixWidth,w[1]];null===m.getExtent()&&m.setExtent(x);var S=Object(u.a)(g,x,h),j=[],P=e.requestEncoding;if(P=void 0!==P?P:"","OperationsMetadata"in t&&"GetTile"in t.OperationsMetadata)for(var T=t.OperationsMetadata.GetTile.DCP.HTTP.Get,I=0,L=T.length;I<L;++I)if(T[I].Constraint){var R=Object(o.d)(T[I].Constraint,(function(t){return"GetEncoding"==t.name})).AllowedValues.Value;if(""===P&&(P=R[0]),P!==l.a.KVP)break;Object(o.f)(R,l.a.KVP)&&j.push(T[I].href)}else T[I].href&&(P=l.a.KVP,j.push(T[I].href));return 0===j.length&&(P=l.a.REST,n.ResourceURL.forEach((function(t){"tile"===t.resourceType&&(f=t.format,j.push(t.template))}))),{urls:j,layer:e.layer,matrixSet:c,format:f,projection:m,requestEncoding:P,tileGrid:S,style:p,dimensions:d,wrapX:!1,crossOrigin:e.crossOrigin}}function m(t){var e=this.requestEncoding_,r={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};e==l.a.KVP&&Object(a.a)(r,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),t=e==l.a.KVP?Object(h.a)(t,r):t.replace(/\{(\w+?)\}/g,(function(t,e){return e.toLowerCase()in r?r[e.toLowerCase()]:t}));var n=this.tileGrid,i=this.dimensions_;return function(r,o,s){if(r){var c={TileMatrix:n.getMatrixId(r[0]),TileCol:r[1],TileRow:r[2]};Object(a.a)(c,i);var u=t;return u=e==l.a.KVP?Object(h.a)(u,c):u.replace(/\{(\w+?)\}/g,(function(t,e){return c[e]}))}}}e.a=p},function(t,e,r){"use strict";e.a={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}},function(t,e,r){"use strict";var n=r(286),i=r(0);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,a=void 0,a=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===o(a)?a:String(a)),n)}var i,a}function c(t,e){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h(t);if(e){var i=h(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return u(this,r)}}function u(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(u,t);var e,r,n,o=l(u);function u(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(this,u),(e=o.call(this)).filterFunction_=t,e.cqlFilter_="",Object(i.X)(r.cqlFilter)||(e.cqlFilter_=r.cqlFilter),e}return e=u,(r=[{key:"setFunction",value:function(t){this.filterFunction_=t}},{key:"getFunctionFilter",value:function(){return this.filterFunction_}},{key:"execute",value:function(t){return t.filter(this.filterFunction_)}},{key:"toCQL",value:function(){return this.cqlFilter_}}])&&s(e.prototype,r),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(n.a);e.a=f},function(t,e,r){"use strict";e.a={KVP:"KVP",REST:"REST"}},function(t,e,r){"use strict";e.a={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}},function(t,e,r){"use strict";r(695);var n=r(648),i=r.n(n),o=r(81),a=r(0),s=r(105),c=r(9),l=r(74),u=r(31);function h(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==p(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===p(o)?o:String(o)),n)}var i,o}function y(t,e){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=b(t);if(e){var i=b(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _(this,r)}}function _(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(f,t);var e,r,n,s=g(f);function f(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(this,f),(e=s.call(this)).name=t,e._map=null,e._controls=[],e._buttonPanel=null,e._collapsible=!1,Object(a.X)(r.collapsible)||(e._collapsible=r.collapsible),e.position=o.TL,Object(a.X)(r.position)||(e.position=r.position),e._collapsed=e._collapsible,Object(a.X)(r.collapsed)||(e._collapsed=r.collapsed&&!0===e._collapsible),e._multiActivation=!1,Object(a.X)(r.multiActivation)||(e._multiActivation=r.multiActivation),e._className=null,Object(a.X)(r.className)||(e._className=r.className),e._collapsedButtonClass=null,Object(a.X)(r.collapsedButtonClass)?e.position===o.TL||e.position===o.BL?e._collapsedButtonClass="g-cartografia-flecha-derecha":e.position!==o.TR&&e.position!==o.BR||(e._collapsedButtonClass="g-cartografia-flecha-izquierda"):e._collapsedButtonClass=r.collapsedButtonClass,e._openedButtonClass=null,Object(a.X)(r.openedButtonClass)?e.position===o.TL||e.position===o.BL?e._openedButtonClass="g-cartografia-flecha-izquierda":e.position!==o.TR&&e.position!==o.BR||(e._openedButtonClass="g-cartografia-flecha-derecha"):e._openedButtonClass=r.openedButtonClass,e._element=null,e._areaContainer=null,e._controlsContainer=null,e._tooltip=null,Object(a.X)(r.tooltip)||(e._tooltip=r.tooltip),Object(a.X)(r.order)||(e._order=r.order),e}return e=f,(r=[{key:"destroy",value:function(){null!=this._element&&this._areaContainer.removeChild(this._element),this._controlsContainer=null}},{key:"addTo",value:function(t,e){var r=this;this._map=t,this._areaContainer=e;var n=Object(u.c)(i.a),o=n.querySelector(".m-panel-btn");o.setAttribute("type","button"),this._element=n,o.setAttribute("role","button"),o.setAttribute("aria-label","Plugin ".concat(this.name)),this._order?(this._element.style.setProperty("order",this._order,"important"),o.setAttribute("tabIndex",this._order)):o.setAttribute("tabIndex","300"),this._tabAccessibility(),Object(a.X)(this._tooltip)||this._element.setAttribute("title",this._tooltip),this._buttonPanel=n.querySelector("button.m-panel-btn"),Object(a.X)(this._className)||this._className.split(/\s+/).forEach((function(t){n.classList.add(t)})),!0===this._collapsed?this.collapse():this.open(),!0!==this._collapsible&&n.classList.add("no-collapsible"),this._controlsContainer=n.querySelector("div.m-panel-controls"),e.appendChild(n),this._buttonPanel.addEventListener("click",(function(t){t.preventDefault(),!1===r._collapsed?r.collapse():r.open()})),this.addControls(this._controls),this.fire(c.i,n)}},{key:"_tabAccessibility",value:function(){document.body.addEventListener("keyup",(function(t){var e=t.key,r=t.target;"Tab"===e&&(document.querySelector(".focusStyle")&&document.querySelector(".focusStyle").classList.remove("focusStyle"),r.classList.add("focusStyle"))})),document.body.addEventListener("click",(function(){document.querySelector(".focusStyle")&&document.querySelector(".focusStyle").classList.remove("focusStyle")}))}},{key:"_collapse",value:function(t){t.classList.remove("opened"),this._buttonPanel.classList.remove(this._openedButtonClass),t.classList.add("collapsed"),this._buttonPanel.classList.add(this._collapsedButtonClass),this._collapsed=!0,this.fire(c.x)}},{key:"_open",value:function(t){t.classList.remove("collapsed"),this._buttonPanel.classList.remove(this._collapsedButtonClass),t.classList.add("opened"),this._buttonPanel.classList.add(this._openedButtonClass),this._collapsed=!1,this.fire(c.G)}},{key:"open",value:function(){this._open(this._element)}},{key:"collapse",value:function(){this._collapse(this._element)}},{key:"getControls",value:function(t){if(!t)return this._controls;var e=null,r=null;return Array.isArray(t)||(e=[t]),"object"===p(e[0])&&(r=Object.values.apply(Object,h(e))),this._controls.filter((function(t){var e=t.name;return!r||r.includes(e)}))}},{key:"addControls",value:function(t){var e=this;this.contador=0;var r=t;Object(a.X)(r)||(Object(a.R)(r)||(r=[r]),r.forEach((function(t,r){t instanceof l.a&&(e.hasControl(t)||(e._controls.push(t),t.setPanel(e),t.on(c.w,e._removeControl.bind(e),e)),Object(a.X)(e._controlsContainer)||(t.on(c.i,e._moveControlView.bind(e),e),e._map.addControls(t)),t.on(c.a,e._manageActivation.bind(e),e)),t.on(c.i,(function(){}))})))}},{key:"hasControl",value:function(t){var e=!1;return Object(a.X)(t)||(Object(a.Z)(t)?e=null!=this._controls.filter((function(e){return e.name===t}))[0]:t instanceof l.a&&(e=Object(a.P)(this._controls,t))),e}},{key:"removeControls",value:function(t){var e=this,r=t;Object(a.X)(r)||(Object(a.R)(r)||(r=[r]),r.forEach((function(t){var r=t;r instanceof l.a&&e.hasControl(r)&&(e._controls=e._controls.filter((function(t){return!r.equals(t)})),r.setPanel(null))}),this),0===this._controls.length&&this._map.removePanel(this))}},{key:"_removeControl",value:function(t){var e=this;this._map.controls(t).forEach((function(t){var r=e._controls.indexOf(t);-1!==r&&e._controls.splice(r,1)}))}},{key:"removeClassName",value:function(t){Object(a.X)(this._element)?this._className=this._className.replace(new RegExp("s* ".concat(t," s*")),""):this._element.classList.remove(t)}},{key:"addClassName",value:function(t){Object(a.X)(this._element)?this._className=this._className.concat(" ").concat(t):this._element.classList.add(t)}},{key:"_moveControlView",value:function(t){var e=t.getElement();Object(a.X)(this._controlsContainer)||this._controlsContainer.appendChild(e),t.fire(c.j)}},{key:"_manageActivation",value:function(t){!0!==this._multiActivation&&this._controls.forEach((function(e){!e.equals(t)&&e.activated&&e.deactivate()}))}},{key:"equals",value:function(t){var e=!1;return t instanceof f&&(e=t.name===this.name),e}},{key:"getTemplatePanel",value:function(){return this._element}},{key:"getButtonPanel",value:function(){return this._buttonPanel}},{key:"isCollapsed",value:function(){return this._collapsed}},{key:"getControlsContainer",value:function(){return this._controlsContainer}}])&&m(e.prototype,r),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),f}(s.a);e.a=v},function(t,e,r){"use strict";var n,i=r(211),o=r(39),a=r(50),s=r(15),c=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),l=function(t){function e(e){var r=t.call(this)||this;return r.eventTarget_=e,r.pendingRemovals_={},r.dispatching_={},r.listeners_={},r}return c(e,t),e.prototype.addEventListener=function(t,e){if(t&&e){var r=this.listeners_[t];r||(r=[],this.listeners_[t]=r),-1===r.indexOf(e)&&r.push(e)}},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new a.a(t):t,r=e.type;e.target||(e.target=this.eventTarget_||this);var n,i=this.listeners_[r];if(i){r in this.dispatching_||(this.dispatching_[r]=0,this.pendingRemovals_[r]=0),++this.dispatching_[r];for(var s=0,c=i.length;s<c;++s)if(!1===(n="handleEvent"in i[s]?i[s].handleEvent(e):i[s].call(this,e))||e.propagationStopped){n=!1;break}if(--this.dispatching_[r],0===this.dispatching_[r]){var l=this.pendingRemovals_[r];for(delete this.pendingRemovals_[r];l--;)this.removeEventListener(r,o.c);delete this.dispatching_[r]}return n}},e.prototype.disposeInternal=function(){Object(s.b)(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var r=this.listeners_[t];if(r){var n=r.indexOf(e);-1!==n&&(t in this.pendingRemovals_?(r[n]=o.c,++this.pendingRemovals_[t]):(r.splice(n,1),0===r.length&&delete this.listeners_[t]))}},e}(i.a);e.a=l},function(t,e,r){"use strict";r.d(e,"b",(function(){return f}));var n,i=r(271),o=r(35),a=r(17),s=r(16),c=r(2),l=r(60),u=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),h=function(t){function e(e,r,n,i,a,s){var c=t.call(this,e,r,n,o.a.IDLE)||this;return c.src_=i,c.image_=new Image,null!==a&&(c.image_.crossOrigin=a),c.unlisten_=null,c.state=o.a.IDLE,c.imageLoadFunction_=s,c}return u(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=o.a.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Object(c.B)(this.extent)/this.image_.height),this.state=o.a.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=o.a.IDLE&&this.state!=o.a.ERROR||(this.state=o.a.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=f(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(i.a);function f(t,e,r){var n=t;if(n.src&&l.c){var i=n.decode(),o=!0;return i.then((function(){o&&e()})).catch((function(t){o&&("EncodingError"===t.name&&"Invalid image type."===t.message?e():r())})),function(){o=!1}}var c=[Object(a.b)(n,s.a.LOAD,e),Object(a.b)(n,s.a.ERROR,r)];return function(){c.forEach(a.c)}}e.a=h},function(t,e,r){"use strict";var n,i=r(20),o=r(65),a=r(142),s=r(16),c=r(10),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),u=function(t){function e(e,r,n){var i=t.call(this)||this,o=n||{};return i.tileCoord=e,i.state=r,i.interimTile=null,i.hifi=!0,i.key="",i.transition_=void 0===o.transition?250:o.transition,i.transitionStarts_={},i}return l(e,t),e.prototype.changed=function(){this.dispatchEvent(s.a.CHANGE)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==i.a.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==i.a.LOADED){t.interimTile=null;break}t.getState()==i.a.LOADING?e=t:t.getState()==i.a.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==i.a.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){Object(c.b)()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var r=this.transitionStarts_[t];if(r){if(-1===r)return 1}else r=e,this.transitionStarts_[t]=r;var n=e-r+1e3/60;return n>=this.transition_?1:Object(o.easeIn)(n/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(a.a);e.a=u},function(t,e,r){"use strict";var n,i=r(10),o=r(13),a=r(40),s=r(137),c=r(1),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),u=function(t){function e(){var e=t.call(this)||this;return e.xmlSerializer_=Object(c.g)(),e}return l(e,t),e.prototype.getType=function(){return s.a.XML},e.prototype.readFeature=function(t,e){if(t){if("string"==typeof t){var r=Object(c.s)(t);return this.readFeatureFromDocument(r,e)}return Object(c.h)(t)?this.readFeatureFromDocument(t,e):this.readFeatureFromNode(t,e)}return null},e.prototype.readFeatureFromDocument=function(t,e){var r=this.readFeaturesFromDocument(t,e);return r.length>0?r[0]:null},e.prototype.readFeatureFromNode=function(t,e){return null},e.prototype.readFeatures=function(t,e){if(t){if("string"==typeof t){var r=Object(c.s)(t);return this.readFeaturesFromDocument(r,e)}return Object(c.h)(t)?this.readFeaturesFromDocument(t,e):this.readFeaturesFromNode(t,e)}return[]},e.prototype.readFeaturesFromDocument=function(t,e){for(var r=[],n=t.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&Object(o.c)(r,this.readFeaturesFromNode(n,e));return r},e.prototype.readFeaturesFromNode=function(t,e){return Object(i.b)()},e.prototype.readGeometry=function(t,e){if(t){if("string"==typeof t){var r=Object(c.s)(t);return this.readGeometryFromDocument(r,e)}return Object(c.h)(t)?this.readGeometryFromDocument(t,e):this.readGeometryFromNode(t,e)}return null},e.prototype.readGeometryFromDocument=function(t,e){return null},e.prototype.readGeometryFromNode=function(t,e){return null},e.prototype.readProjection=function(t){if(t){if("string"==typeof t){var e=Object(c.s)(t);return this.readProjectionFromDocument(e)}return Object(c.h)(t)?this.readProjectionFromDocument(t):this.readProjectionFromNode(t)}return null},e.prototype.readProjectionFromDocument=function(t){return this.dataProjection},e.prototype.readProjectionFromNode=function(t){return this.dataProjection},e.prototype.writeFeature=function(t,e){var r=this.writeFeatureNode(t,e);return this.xmlSerializer_.serializeToString(r)},e.prototype.writeFeatureNode=function(t,e){return null},e.prototype.writeFeatures=function(t,e){var r=this.writeFeaturesNode(t,e);return this.xmlSerializer_.serializeToString(r)},e.prototype.writeFeaturesNode=function(t,e){return null},e.prototype.writeGeometry=function(t,e){var r=this.writeGeometryNode(t,e);return this.xmlSerializer_.serializeToString(r)},e.prototype.writeGeometryNode=function(t,e){return null},e}(a.a);e.a=u},function(t,e,r){"use strict";var n,i=r(108),o=r(87),a=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=function(t){function e(e){var r=e||{},n=void 0!==r.projection?r.projection:"EPSG:3857",i=void 0!==r.tileGrid?r.tileGrid:Object(o.b)({extent:Object(o.c)(n),maxResolution:r.maxResolution,maxZoom:r.maxZoom,minZoom:r.minZoom,tileSize:r.tileSize});return t.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,opaque:r.opaque,projection:n,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:r.tileLoadFunction,tilePixelRatio:r.tilePixelRatio,tileUrlFunction:r.tileUrlFunction,url:r.url,urls:r.urls,wrapX:void 0===r.wrapX||r.wrapX,transition:r.transition,attributionsCollapsible:r.attributionsCollapsible,zDirection:r.zDirection})||this}return a(e,t),e}(i.a);e.a=s},function(t,e,r){"use strict";e.a={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},function(t,e,r){"use strict";r.r(e),r.d(e,"LEFT",(function(){return n})),r.d(e,"CENTER",(function(){return i})),r.d(e,"RIGHT",(function(){return o})),r.d(e,"JUSTIFY",(function(){return a}));var n="left",i="center",o="right",a="justify"},function(t,e,r){"use strict";function n(t,e,r){var n=void 0!==r?t.toFixed(r):""+t,i=n.indexOf(".");return(i=-1===i?n.length:i)>e?n:new Array(1+e-i).join("0")+n}function i(t,e){for(var r=(""+t).split("."),n=(""+e).split("."),i=0;i<Math.max(r.length,n.length);i++){var o=parseInt(r[i]||"0",10),a=parseInt(n[i]||"0",10);if(o>a)return 1;if(a>o)return-1}return 0}r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return i}))},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===n(a)?a:String(a)),i)}var o,a}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n;return e=t,n=[{key:"listen",value:function(){t.WIDTH=window.innerWidth,t.HEIGHT=window.innerHeight,window.addEventListener("resize",(function(e){t.WIDTH=e.target.innerWidth,t.HEIGHT=e.target.innerHeight}))}}],(r=null)&&i(e.prototype,r),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();o.WIDTH=window.innerWidth,o.HEIGHT=window.innerHeight,o.listen(),e.a=o},function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=r,r.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)}},function(t,e,r){"use strict";var n=e,i=r(194),o=r(151),a=r(509);n.assert=o,n.toArray=a.toArray,n.zero2=a.zero2,n.toHex=a.toHex,n.encode=a.encode,n.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,o=t.clone(),a=0;a<n.length;a++){var s,c=o.andln(i-1);o.isOdd()?(s=c>(i>>1)-1?(i>>1)-c:c,o.isubn(s)):s=0,n[a]=s,o.iushrn(1)}return n},n.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var a,s,c=t.andln(3)+i&3,l=e.andln(3)+o&3;3===c&&(c=-1),3===l&&(l=-1),a=0==(1&c)?0:3!==(n=t.andln(7)+i&7)&&5!==n||2!==l?c:-c,r[0].push(a),s=0==(1&l)?0:3!==(n=e.andln(7)+o&7)&&5!==n||2!==c?l:-l,r[1].push(s),2*i===a+1&&(i=1-i),2*o===s+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return r},n.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(t){return"string"==typeof t?n.toArray(t,"hex"):t},n.intFromLE=function(t){return new i(t,"hex","le")}},function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return o})),r.d(e,"e",(function(){return a})),r.d(e,"c",(function(){return c})),r.d(e,"d",(function(){return l}));var n=r(14);function i(t,e,r,i,o,a,s){var c=(r-e)/i;if(c<3){for(;e<r;e+=i)a[s++]=t[e],a[s++]=t[e+1];return s}var l=new Array(c);l[0]=1,l[c-1]=1;for(var u=[e,r-i],h=0;u.length>0;){for(var f=u.pop(),p=u.pop(),d=0,m=t[p],y=t[p+1],g=t[f],_=t[f+1],b=p+i;b<f;b+=i){var v=t[b],O=t[b+1],w=Object(n.g)(v,O,m,y,g,_);w>d&&(h=b,d=w)}d>o&&(l[(h-e)/i]=1,p+i<h&&u.push(p,h),h+i<f&&u.push(h,f))}for(b=0;b<c;++b)l[b]&&(a[s++]=t[e+b*i],a[s++]=t[e+b*i+1]);return s}function o(t,e,r,n,o,a,s,c){for(var l=0,u=r.length;l<u;++l){var h=r[l];s=i(t,e,h,n,o,a,s),c.push(s),e=h}return s}function a(t,e){return e*Math.round(t/e)}function s(t,e,r,n,i,o,s){if(e==r)return s;var c,l,u=a(t[e],i),h=a(t[e+1],i);e+=n,o[s++]=u,o[s++]=h;do{if(c=a(t[e],i),l=a(t[e+1],i),(e+=n)==r)return o[s++]=c,o[s++]=l,s}while(c==u&&l==h);for(;e<r;){var f=a(t[e],i),p=a(t[e+1],i);if(e+=n,f!=c||p!=l){var d=c-u,m=l-h,y=f-u,g=p-h;d*g==m*y&&(d<0&&y<d||d==y||d>0&&y>d)&&(m<0&&g<m||m==g||m>0&&g>m)?(c=f,l=p):(o[s++]=c,o[s++]=l,u=c,h=l,c=f,l=p)}}return o[s++]=c,o[s++]=l,s}function c(t,e,r,n,i,o,a,c){for(var l=0,u=r.length;l<u;++l){var h=r[l];a=s(t,e,h,n,i,o,a),c.push(a),e=h}return a}function l(t,e,r,n,i,o,a,s){for(var l=0,u=r.length;l<u;++l){var h=r[l],f=[];a=c(t,e,h,n,i,o,a,f),s.push(f),e=h[h.length-1]}return a}},function(t,e,r){"use strict";var n,i=r(175),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(t){function e(e,r,n,i){var o=t.call(this,e,r)||this;return o.expression=n,o.matchCase=i,o}return o(e,t),e}(i.a);e.a=a},function(t,e,r){"use strict";var n,i=r(10),o=r(33),a=r(2),s=r(97),c=r(4),l=r(55),u=r(18),h=r(39),f=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),p=Object(u.d)(),d=function(t){function e(){var e=t.call(this)||this;return e.extent_=Object(a.k)(),e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=Object(h.d)((function(t,e,r){if(!r)return this.getSimplifiedGeometry(e);var n=this.clone();return n.applyTransform(r),n.getSimplifiedGeometry(e)})),e}return f(e,t),e.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},e.prototype.clone=function(){return Object(i.b)()},e.prototype.closestPointXY=function(t,e,r,n){return Object(i.b)()},e.prototype.containsXY=function(t,e){var r=this.getClosestPoint([t,e]);return r[0]===t&&r[1]===e},e.prototype.getClosestPoint=function(t,e){var r=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],r,1/0),r},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return Object(i.b)()},e.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),Object(a.K)(this.extent_,t)},e.prototype.rotate=function(t,e){Object(i.b)()},e.prototype.scale=function(t,e,r){Object(i.b)()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return Object(i.b)()},e.prototype.getType=function(){return Object(i.b)()},e.prototype.applyTransform=function(t){Object(i.b)()},e.prototype.intersectsExtent=function(t){return Object(i.b)()},e.prototype.translate=function(t,e){Object(i.b)()},e.prototype.transform=function(t,e){var r=Object(c.j)(t),n=r.getUnits()==l.b.TILE_PIXELS?function(t,n,i){var o=r.getExtent(),l=r.getWorldExtent(),h=Object(a.B)(l)/Object(a.B)(o);return Object(u.b)(p,l[0],l[3],h,-h,0,0,0),Object(s.c)(t,0,t.length,i,p,n),Object(c.l)(r,e)(t,n,i)}:Object(c.l)(r,e);return this.applyTransform(n),this},e}(o.a);e.a=d},function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return i}));var n=42,i=256},function(t,e,r){"use strict";var n,i=r(2),o=r(40),a=r(38),s=r(7),c=r(15),l=r(4),u=r(1),h=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),f=a.a+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",p={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},d=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this,n)||this).FEATURE_COLLECTION_PARSERS[a.a].featureMember=Object(u.j)(r.readFeaturesInternal),r.schemaLocation=n.schemaLocation?n.schemaLocation:f,r}return h(e,t),e.prototype.readFlatCoordinates_=function(t,e){var r=Object(u.d)(t,!1).replace(/^\s*|\s*$/g,""),n=e[0].srsName,i="enu";if(n){var o=Object(l.j)(n);o&&(i=o.getAxisOrientation())}for(var a=r.trim().split(/\s+/),s=[],c=0,h=a.length;c<h;c++){var f=a[c].split(/,+/),p=parseFloat(f[0]),d=parseFloat(f[1]),m=3===f.length?parseFloat(f[2]):0;"en"===i.substr(0,2)?s.push(p,d,m):s.push(d,p,m)}return s},e.prototype.readBox_=function(t,e){var r=Object(u.u)([null],this.BOX_PARSERS_,t,e,this);return Object(i.l)(r[1][0],r[1][1],r[1][3],r[1][4])},e.prototype.innerBoundaryIsParser_=function(t,e){var r=Object(u.u)(void 0,this.RING_PARSERS,t,e,this);r&&e[e.length-1].push(r)},e.prototype.outerBoundaryIsParser_=function(t,e){var r=Object(u.u)(void 0,this.RING_PARSERS,t,e,this);r&&(e[e.length-1][0]=r)},e.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,r){var n,i=e[e.length-1],o=i.multiSurface,a=i.surface,s=i.multiCurve;return Array.isArray(t)?n="Envelope":"MultiPolygon"===(n=t.getType())&&!0===o?n="MultiSurface":"Polygon"===n&&!0===a?n="Surface":"MultiLineString"===n&&!0===s&&(n="MultiCurve"),Object(u.c)("http://www.opengis.net/gml",n)},e.prototype.writeFeatureElement=function(t,e,r){var n=e.getId();n&&t.setAttribute("fid",n);var i=r[r.length-1],o=i.featureNS,a=e.getGeometryName();i.serializers||(i.serializers={},i.serializers[o]={});var l=e.getProperties(),h=[],f=[];for(var p in l){var d=l[p];null!==d&&(h.push(p),f.push(d),p==a||"function"==typeof d.getSimplifiedGeometry?p in i.serializers[o]||(i.serializers[o][p]=Object(u.l)(this.writeGeometryElement,this)):p in i.serializers[o]||(i.serializers[o][p]=Object(u.l)(s.n)))}var m=Object(c.a)({},i);m.node=t,Object(u.v)(m,i.serializers,Object(u.q)(void 0,o),f,r,h)},e.prototype.writeCurveOrLineString_=function(t,e,r){var n=r[r.length-1].srsName;if("LineStringSegment"!==t.nodeName&&n&&t.setAttribute("srsName",n),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName){var i=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(i),this.writeCoordinates_(i,e,r)}else if("Curve"===t.nodeName){var o=Object(u.c)(t.namespaceURI,"segments");t.appendChild(o),this.writeCurveSegments_(o,e,r)}},e.prototype.writeLineStringOrCurveMember_=function(t,e,r){var n=this.GEOMETRY_NODE_FACTORY_(e,r);n&&(t.appendChild(n),this.writeCurveOrLineString_(n,e,r))},e.prototype.writeMultiCurveOrLineString_=function(t,e,r){var n=r[r.length-1],i=n.hasZ,o=n.srsName,a=n.curve;o&&t.setAttribute("srsName",o);var s=e.getLineStrings();Object(u.v)({node:t,hasZ:i,srsName:o,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},e.prototype.writeGeometryElement=function(t,e,r){var n,i=r[r.length-1],a=Object(c.a)({},i);a.node=t,n=Array.isArray(e)?Object(o.b)(e,i):Object(o.c)(e,!0,i),Object(u.v)(a,this.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[n],r,void 0,this)},e.prototype.createCoordinatesNode_=function(t){var e=Object(u.c)(t,"coordinates");return e.setAttribute("decimal","."),e.setAttribute("cs",","),e.setAttribute("ts"," "),e},e.prototype.writeCoordinates_=function(t,e,r){for(var n=r[r.length-1],i=n.hasZ,o=n.srsName,a=e.getCoordinates(),c=a.length,l=new Array(c),u=0;u<c;++u){var h=a[u];l[u]=this.getCoords_(h,o,i)}Object(s.n)(t,l.join(" "))},e.prototype.writeCurveSegments_=function(t,e,r){var n=Object(u.c)(t.namespaceURI,"LineStringSegment");t.appendChild(n),this.writeCurveOrLineString_(n,e,r)},e.prototype.writeSurfaceOrPolygon_=function(t,e,r){var n=r[r.length-1],i=n.hasZ,o=n.srsName;if("PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){var a=e.getLinearRings();Object(u.v)({node:t,hasZ:i,srsName:o},this.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,a,r,void 0,this)}else if("Surface"===t.nodeName){var s=Object(u.c)(t.namespaceURI,"patches");t.appendChild(s),this.writeSurfacePatches_(s,e,r)}},e.prototype.RING_NODE_FACTORY_=function(t,e,r){var n=e[e.length-1],i=n.node,o=n.exteriorWritten;return void 0===o&&(n.exteriorWritten=!0),Object(u.c)(i.namespaceURI,void 0!==o?"innerBoundaryIs":"outerBoundaryIs")},e.prototype.writeSurfacePatches_=function(t,e,r){var n=Object(u.c)(t.namespaceURI,"PolygonPatch");t.appendChild(n),this.writeSurfaceOrPolygon_(n,e,r)},e.prototype.writeRing_=function(t,e,r){var n=Object(u.c)(t.namespaceURI,"LinearRing");t.appendChild(n),this.writeLinearRing_(n,e,r)},e.prototype.getCoords_=function(t,e,r){var n="enu";e&&(n=Object(l.j)(e).getAxisOrientation());var i="en"===n.substr(0,2)?t[0]+","+t[1]:t[1]+","+t[0];r&&(i+=","+(t[2]||0));return i},e.prototype.writePoint_=function(t,e,r){var n=r[r.length-1],i=n.hasZ,o=n.srsName;o&&t.setAttribute("srsName",o);var a=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(a);var c=e.getCoordinates(),l=this.getCoords_(c,o,i);Object(s.n)(a,l)},e.prototype.writeMultiPoint_=function(t,e,r){var n=r[r.length-1],i=n.hasZ,o=n.srsName;o&&t.setAttribute("srsName",o);var a=e.getPoints();Object(u.v)({node:t,hasZ:i,srsName:o},this.POINTMEMBER_SERIALIZERS_,Object(u.q)("pointMember"),a,r,void 0,this)},e.prototype.writePointMember_=function(t,e,r){var n=Object(u.c)(t.namespaceURI,"Point");t.appendChild(n),this.writePoint_(n,e,r)},e.prototype.writeLinearRing_=function(t,e,r){var n=r[r.length-1].srsName;n&&t.setAttribute("srsName",n);var i=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(i),this.writeCoordinates_(i,e,r)},e.prototype.writeMultiSurfaceOrPolygon_=function(t,e,r){var n=r[r.length-1],i=n.hasZ,o=n.srsName,a=n.surface;o&&t.setAttribute("srsName",o);var s=e.getPolygons();Object(u.v)({node:t,hasZ:i,srsName:o,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},e.prototype.writeSurfaceOrPolygonMember_=function(t,e,r){var n=this.GEOMETRY_NODE_FACTORY_(e,r);n&&(t.appendChild(n),this.writeSurfaceOrPolygon_(n,e,r))},e.prototype.writeEnvelope=function(t,e,r){var n=r[r.length-1].srsName;n&&t.setAttribute("srsName",n);var i=[e[0]+" "+e[1],e[2]+" "+e[3]];Object(u.v)({node:t},this.ENVELOPE_SERIALIZERS_,u.a,i,r,["lowerCorner","upperCorner"],this)},e.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,r){var n=e[e.length-1].node;return Object(u.c)("http://www.opengis.net/gml",p[n.nodeName])},e}(a.b);d.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:Object(u.o)(d.prototype.readFlatCoordinates_)}},d.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:d.prototype.innerBoundaryIsParser_,outerBoundaryIs:d.prototype.outerBoundaryIsParser_}},d.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:Object(u.j)(d.prototype.readFlatCoordinates_)}},d.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:Object(u.o)(a.b.prototype.readPoint),MultiPoint:Object(u.o)(a.b.prototype.readMultiPoint),LineString:Object(u.o)(a.b.prototype.readLineString),MultiLineString:Object(u.o)(a.b.prototype.readMultiLineString),LinearRing:Object(u.o)(a.b.prototype.readLinearRing),Polygon:Object(u.o)(a.b.prototype.readPolygon),MultiPolygon:Object(u.o)(a.b.prototype.readMultiPolygon),Box:Object(u.o)(d.prototype.readBox_)}},d.prototype.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:Object(u.l)(d.prototype.writeCurveOrLineString_),MultiCurve:Object(u.l)(d.prototype.writeMultiCurveOrLineString_),Point:Object(u.l)(d.prototype.writePoint_),MultiPoint:Object(u.l)(d.prototype.writeMultiPoint_),LineString:Object(u.l)(d.prototype.writeCurveOrLineString_),MultiLineString:Object(u.l)(d.prototype.writeMultiCurveOrLineString_),LinearRing:Object(u.l)(d.prototype.writeLinearRing_),Polygon:Object(u.l)(d.prototype.writeSurfaceOrPolygon_),MultiPolygon:Object(u.l)(d.prototype.writeMultiSurfaceOrPolygon_),Surface:Object(u.l)(d.prototype.writeSurfaceOrPolygon_),MultiSurface:Object(u.l)(d.prototype.writeMultiSurfaceOrPolygon_),Envelope:Object(u.l)(d.prototype.writeEnvelope)}},d.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:Object(u.l)(d.prototype.writeLineStringOrCurveMember_),curveMember:Object(u.l)(d.prototype.writeLineStringOrCurveMember_)}},d.prototype.RING_SERIALIZERS_={"http://www.opengis.net/gml":{outerBoundaryIs:Object(u.l)(d.prototype.writeRing_),innerBoundaryIs:Object(u.l)(d.prototype.writeRing_)}},d.prototype.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:Object(u.l)(d.prototype.writePointMember_)}},d.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:Object(u.l)(d.prototype.writeSurfaceOrPolygonMember_),polygonMember:Object(u.l)(d.prototype.writeSurfaceOrPolygonMember_)}},d.prototype.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:Object(u.l)(s.n),upperCorner:Object(u.l)(s.n)}},e.a=d},function(t,e,r){"use strict";var n=r(69),i=r(0);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,a=void 0,a=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===o(a)?a:String(a)),n)}var i,a}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(u,t);var e,r,o,l=c(u);function u(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=l.call(this,t,e)).styles_=[],r}return e=u,(r=[{key:"apply",value:function(t){this.layer_=t,Object(i.X)(t)||this.updateInternal_(t)}},{key:"add",value:function(t){var e=this,r=t,n=this.layer_;return this.unapplyInternal(this.layer_),Object(i.R)(r)||(r=[r]),(r=r.filter((function(t){return t.constructor!==e.constructor}))).forEach((function(t){e.styles_=e.styles_.filter((function(e){return e.constructor!==t.constructor}))})),this.styles_=this.styles_.concat(r),Object(i.X)(n)||this.updateInternal_(n),this}},{key:"remove",value:function(t){var e=t,r=this.layer_;Object(i.R)(e)||(e=[e]),Object(i.X)(this.layer_)||this.unapplyInternal(this.layer_),this.styles_=this.styles_.filter((function(t){return!e.includes(t)})),r.setStyle(this.oldStyle_,!0),r.setStyle(this)}},{key:"getStyles",value:function(){return this.styles_}},{key:"getOldStyle",value:function(){return this.oldStyle_}},{key:"clear",value:function(){this.remove(this.styles_)}},{key:"unapplyInternal",value:function(t){this.styles_.concat(this).sort((function(t,e){return Object(i.lb)(e,t)})).forEach((function(e){e instanceof u&&e.unapplySoft(t)}))}},{key:"unapplySoft",value:function(t){}},{key:"unapply",value:function(t){this.unapplyInternal(t),this.layer_=null}},{key:"updateInternal_",value:function(t){this.styles_.concat(this).sort((function(t,e){return Object(i.lb)(t,e)})).forEach((function(e){e instanceof u?e.applyInternal(t):e instanceof n.a&&e.apply(t,!0)}))}}])&&a(e.prototype,r),o&&a(e,o),Object.defineProperty(e,"prototype",{writable:!1}),u}(n.a);e.a=h},function(t,e,r){"use strict";var n=r(334),i=r(0),o=r(3),a=r(51),s=r(11),c=r(12),l=r(6);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===u(o)?o:String(o)),n)}var i,o}function p(t,e){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=y(t);if(e){var i=y(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}function m(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(m,t);var e,r,a,u=d(m);function m(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h(this,m);var f=s.Cb(t,c.WMTS),p=r;"string"!=typeof t&&(p.maxExtent=t.maxExtent),void 0!==t.minZoom&&(p.minZoom=t.minZoom),void 0!==t.maxZoom&&(p.maxZoom=t.maxZoom);var d=new n.a(p,a);return e=u.call(this,f,d),Object(i.ab)(n.a)&&Object(o.a)(Object(l.e)("exception").wmts_method),Object(i.X)(t)&&Object(o.a)(Object(l.e)("exception").no_param),e.matrixSet=f.matrixSet,e.legend=f.legend,e.options=p,e.useCapabilities=!1!==f.useCapabilities,Object(i.X)(a.capabilitiesMetadata)||(e.capabilitiesMetadata=a.capabilitiesMetadata),e}return e=m,(r=[{key:"matrixSet",get:function(){return this.getImpl().matrixSet},set:function(t){this.getImpl().matrixSet=t}},{key:"legend",get:function(){return this.getImpl().legend},set:function(t){Object(i.X)(t)?this.getImpl().legend=this.name:this.getImpl().legend=t}},{key:"options",get:function(){return this.getImpl().options},set:function(t){this.getImpl().options=t}},{key:"getCapabilities",value:function(){return Object(i.X)(this.getCapabilitiesPromise_)&&(this.getCapabilitiesPromise_=this.getImpl().getCapabilities()),this.getCapabilitiesPromise_}},{key:"getMaxExtent",value:function(){return this.getImpl().getMaxExtent()}},{key:"equals",value:function(t){var e=!1;return t instanceof m&&(e=this.url===t.url,e=e&&this.name===t.name,e=e&&this.matrixSet===t.matrixSet),e}},{key:"getFeatureInfoUrl",value:function(t,e,r){return this.getImpl().getFeatureInfoUrl(t,e,r)}},{key:"getTileColTileRow",value:function(t,e){return this.getImpl().getTileColTileRow(t,e)}},{key:"setFormat",value:function(t){this.options.format=t}}])&&f(e.prototype,r),a&&f(e,a),Object.defineProperty(e,"prototype",{writable:!1}),m}(a.a);e.a=g},function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return o})),r.d(e,"c",(function(){return a})),r.d(e,"d",(function(){return s}));var n=r(2);function i(t,e,r,i,a){return!Object(n.u)(a,(function(n){return!o(t,e,r,i,n[0],n[1])}))}function o(t,e,r,n,i,o){for(var a=0,s=t[r-n],c=t[r-n+1];e<r;e+=n){var l=t[e],u=t[e+1];c<=o?u>o&&(l-s)*(o-c)-(i-s)*(u-c)>0&&a++:u<=o&&(l-s)*(o-c)-(i-s)*(u-c)<0&&a--,s=l,c=u}return 0!==a}function a(t,e,r,n,i,a){if(0===r.length)return!1;if(!o(t,e,r[0],n,i,a))return!1;for(var s=1,c=r.length;s<c;++s)if(o(t,r[s-1],r[s],n,i,a))return!1;return!0}function s(t,e,r,n,i,o){if(0===r.length)return!1;for(var s=0,c=r.length;s<c;++s){var l=r[s];if(a(t,e,l,n,i,o))return!0;e=l[l.length-1]}return!1}},function(t,e,r){"use strict";var n=r(335),i=r(51),o=r(0),a=r(3),s=r(11),c=r(12),l=r(6);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===u(o)?o:String(o)),n)}var i,o}function p(t,e){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=y(t);if(e){var i=y(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}function m(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(m,t);var e,r,i,u=d(m);function m(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h(this,m),Object(o.ab)(n.a)&&Object(a.a)(Object(l.e)("exception").tms_method);var f=s.Cb(t,c.TMS),p=r;"string"!=typeof t&&(p.maxExtent=t.maxExtent),Object(o.X)(f.crossOrigin)||(p.crossOrigin=f.crossOrigin);var d=new n.a(f,p,i);return(e=u.call(this,f,d)).url=f.url,e.name=f.name,e.legend=f.legend,e.minZoom=f.minZoom,e.maxZoom=f.maxZoom,e.tileGridMaxZoom=f.tileGridMaxZoom,e.options=r,e}return e=m,(r=[{key:"equals",value:function(t){var e=!1;return t instanceof m&&(e=this.url===t.url,e=e&&this.name===t.name,e=e&&this.options===t.options),e}}])&&f(e.prototype,r),i&&f(e,i),Object.defineProperty(e,"prototype",{writable:!1}),m}(i.a);e.a=g},function(t,e,r){"use strict";function n(t,e,r,n){for(;e<r-n;){for(var i=0;i<n;++i){var o=t[e+i];t[e+i]=t[r-n+i],t[r-n+i]=o}e+=n,r-=n}}function i(t,e,r,n){for(var i=0,o=t[r-n],a=t[r-n+1];e<r;e+=n){var s=t[e],c=t[e+1];i+=(s-o)*(c+a),o=s,a=c}return i>0}function o(t,e,r,n,o){for(var a=void 0!==o&&o,s=0,c=r.length;s<c;++s){var l=r[s],u=i(t,e,l,n);if(0===s){if(a&&u||!a&&!u)return!1}else if(a&&!u||!a&&u)return!1;e=l}return!0}function a(t,e,r,n,i){for(var a=0,s=r.length;a<s;++a){var c=r[a];if(!o(t,e,c,n,i))return!1;c.length&&(e=c[c.length-1])}return!0}function s(t,e,r,o,a){for(var s=void 0!==a&&a,c=0,l=r.length;c<l;++c){var u=r[c],h=i(t,e,u,o);(0===c?s&&h||!s&&!h:s&&!h||!s&&h)&&n(t,e,u,o),e=u}return e}function c(t,e,r,n,i){for(var o=0,a=r.length;o<a;++o)e=s(t,e,r[o],n,i);return e}r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return o})),r.d(e,"c",(function(){return a})),r.d(e,"d",(function(){return s})),r.d(e,"e",(function(){return c}))},function(t,e,r){"use strict";e.a={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},function(t,e,r){"use strict";r.d(e,"a",(function(){return c})),r.d(e,"b",(function(){return l})),r.d(e,"c",(function(){return u})),r.d(e,"d",(function(){return h}));var n=r(10),i=r(35),o=r(8),a=r(45),s={Point:function(t,e,r,n){var o=r.getImage();if(o){if(o.getImageState()!=i.a.LOADED)return;var s=t.getBuilder(r.getZIndex(),a.a.IMAGE);s.setImageStyle(o,t.addDeclutter(!1)),s.drawPoint(e,n)}var c=r.getText();if(c){var l=t.getBuilder(r.getZIndex(),a.a.TEXT);l.setTextStyle(c,t.addDeclutter(!!o)),l.drawText(e,n)}},LineString:function(t,e,r,n){var i=r.getStroke();if(i){var o=t.getBuilder(r.getZIndex(),a.a.LINE_STRING);o.setFillStrokeStyle(null,i),o.drawLineString(e,n)}var s=r.getText();if(s){var c=t.getBuilder(r.getZIndex(),a.a.TEXT);c.setTextStyle(s,t.addDeclutter(!1)),c.drawText(e,n)}},Polygon:function(t,e,r,n){var i=r.getFill(),o=r.getStroke();if(i||o){var s=t.getBuilder(r.getZIndex(),a.a.POLYGON);s.setFillStrokeStyle(i,o),s.drawPolygon(e,n)}var c=r.getText();if(c){var l=t.getBuilder(r.getZIndex(),a.a.TEXT);l.setTextStyle(c,t.addDeclutter(!1)),l.drawText(e,n)}},MultiPoint:function(t,e,r,n){var o=r.getImage();if(o){if(o.getImageState()!=i.a.LOADED)return;var s=t.getBuilder(r.getZIndex(),a.a.IMAGE);s.setImageStyle(o,t.addDeclutter(!1)),s.drawMultiPoint(e,n)}var c=r.getText();if(c){var l=t.getBuilder(r.getZIndex(),a.a.TEXT);l.setTextStyle(c,t.addDeclutter(!!o)),l.drawText(e,n)}},MultiLineString:function(t,e,r,n){var i=r.getStroke();if(i){var o=t.getBuilder(r.getZIndex(),a.a.LINE_STRING);o.setFillStrokeStyle(null,i),o.drawMultiLineString(e,n)}var s=r.getText();if(s){var c=t.getBuilder(r.getZIndex(),a.a.TEXT);c.setTextStyle(s,t.addDeclutter(!1)),c.drawText(e,n)}},MultiPolygon:function(t,e,r,n){var i=r.getFill(),o=r.getStroke();if(o||i){var s=t.getBuilder(r.getZIndex(),a.a.POLYGON);s.setFillStrokeStyle(i,o),s.drawMultiPolygon(e,n)}var c=r.getText();if(c){var l=t.getBuilder(r.getZIndex(),a.a.TEXT);l.setTextStyle(c,t.addDeclutter(!1)),l.drawText(e,n)}},GeometryCollection:function(t,e,r,n){var i,o,a=e.getGeometriesArray();for(i=0,o=a.length;i<o;++i){(0,s[a[i].getType()])(t,a[i],r,n)}},Circle:function(t,e,r,n){var i=r.getFill(),o=r.getStroke();if(i||o){var s=t.getBuilder(r.getZIndex(),a.a.CIRCLE);s.setFillStrokeStyle(i,o),s.drawCircle(e,n)}var c=r.getText();if(c){var l=t.getBuilder(r.getZIndex(),a.a.TEXT);l.setTextStyle(c,t.addDeclutter(!1)),l.drawText(e,n)}}};function c(t,e){return parseInt(Object(n.c)(t),10)-parseInt(Object(n.c)(e),10)}function l(t,e){var r=u(t,e);return r*r}function u(t,e){return.5*t/e}function h(t,e,r,n,c,l){var u=!1,h=r.getImage();if(h){var f=h.getImageState();f==i.a.LOADED||f==i.a.ERROR?h.unlistenImageChange(c):(f==i.a.IDLE&&h.load(),f=h.getImageState(),h.listenImageChange(c),u=!0)}return function(t,e,r,n,i){var c=r.getGeometryFunction()(e);if(!c)return;var l=c.simplifyTransformed(n,i);if(r.getRenderer())!function t(e,r,n,i){if(r.getType()==o.a.GEOMETRY_COLLECTION){for(var s=r.getGeometries(),c=0,l=s.length;c<l;++c)t(e,s[c],n,i);return}e.getBuilder(n.getZIndex(),a.a.DEFAULT).drawCustom(r,i,n.getRenderer())}(t,l,r,e);else{(0,s[l.getType()])(t,l,r,e)}}(t,e,r,n,l),u}},function(t,e,r){"use strict";var n=r(250),i=r(428),o=r(430);function a(t){return t}function s(t,e){for(var r=0;r<t.length;++r)e[r]=255&t.charCodeAt(r);return e}function c(t){var r=65536,n=[],i=t.length,a=e.getTypeOf(t),s=0,c=!0;try{switch(a){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,o(0))}}catch(t){c=!1}if(!c){for(var l="",u=0;u<t.length;u++)l+=String.fromCharCode(t[u]);return l}for(;s<i&&r>1;)try{"array"===a||"nodebuffer"===a?n.push(String.fromCharCode.apply(null,t.slice(s,Math.min(s+r,i)))):n.push(String.fromCharCode.apply(null,t.subarray(s,Math.min(s+r,i)))),s+=r}catch(t){r=Math.floor(r/2)}return n.join("")}function l(t,e){for(var r=0;r<t.length;r++)e[r]=t[r];return e}e.string2binary=function(t){for(var e="",r=0;r<t.length;r++)e+=String.fromCharCode(255&t.charCodeAt(r));return e},e.arrayBuffer2Blob=function(t,r){e.checkSupport("blob"),r=r||"application/zip";try{return new Blob([t],{type:r})}catch(e){try{var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);return n.append(t),n.getBlob(r)}catch(t){throw new Error("Bug : can't construct the Blob.")}}},e.applyFromCharCode=c;var u={};u.string={string:a,array:function(t){return s(t,new Array(t.length))},arraybuffer:function(t){return u.string.uint8array(t).buffer},uint8array:function(t){return s(t,new Uint8Array(t.length))},nodebuffer:function(t){return s(t,o(t.length))}},u.array={string:c,array:a,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o(t)}},u.arraybuffer={string:function(t){return c(new Uint8Array(t))},array:function(t){return l(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:a,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o(new Uint8Array(t))}},u.uint8array={string:c,array:function(t){return l(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:a,nodebuffer:function(t){return o(t)}},u.nodebuffer={string:c,array:function(t){return l(t,new Array(t.length))},arraybuffer:function(t){return u.nodebuffer.uint8array(t).buffer},uint8array:function(t){return l(t,new Uint8Array(t.length))},nodebuffer:a},e.transformTo=function(t,r){if(r||(r=""),!t)return r;e.checkSupport(t);var n=e.getTypeOf(r);return u[n][t](r)},e.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":n.nodebuffer&&o.test(t)?"nodebuffer":n.uint8array&&t instanceof Uint8Array?"uint8array":n.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},e.checkSupport=function(t){if(!n[t.toLowerCase()])throw new Error(t+" is not supported by this browser")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(t){var e,r,n="";for(r=0;r<(t||"").length;r++)n+="\\x"+((e=t.charCodeAt(r))<16?"0":"")+e.toString(16).toUpperCase();return n},e.findCompression=function(t){for(var e in i)if(i.hasOwnProperty(e)&&i[e].magic===t)return i[e];return null},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},e.extend=function(){var t,e,r={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===r[e]&&(r[e]=arguments[t][e]);return r}},function(t,e,r){"use strict";var n,i=r(10),o=r(33),a=r(4),s=r(61),c=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),l=function(t){function e(e){var r=t.call(this)||this;return r.projection_=Object(a.j)(e.projection),r.attributions_=u(e.attributions),r.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,r.loading=!1,r.state_=void 0!==e.state?e.state:s.a.READY,r.wrapX_=void 0!==e.wrapX&&e.wrapX,r}return c(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return Object(i.b)()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=u(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(o.a);function u(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}e.a=l},function(t,e,r){"use strict";r.d(e,"a",(function(){return l}));var n,i=r(13),o=r(4),a=r(112),s=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),c=function(t){function e(e){var r=t.call(this,{extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes})||this;return r.matrixIds_=e.matrixIds,r}return s(e,t),e.prototype.getMatrixId=function(t){return this.matrixIds_[t]},e.prototype.getMatrixIds=function(){return this.matrixIds_},e}(a.a);function l(t,e,r){var n=[],a=[],s=[],l=[],u=[],h=void 0!==r?r:[],f=t.SupportedCRS,p=Object(o.j)(f.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Object(o.j)(f),d=p.getMetersPerUnit(),m="ne"==p.getAxisOrientation().substr(0,2);return t.TileMatrix.sort((function(t,e){return e.ScaleDenominator-t.ScaleDenominator})),t.TileMatrix.forEach((function(e){if(!(h.length>0)||Object(i.d)(h,(function(r){return e.Identifier==r.TileMatrix||-1===e.Identifier.indexOf(":")&&t.Identifier+":"+e.Identifier===r.TileMatrix}))){a.push(e.Identifier);var r=28e-5*e.ScaleDenominator/d,o=e.TileWidth,c=e.TileHeight;m?s.push([e.TopLeftCorner[1],e.TopLeftCorner[0]]):s.push(e.TopLeftCorner),n.push(r),l.push(o==c?o:[o,c]),u.push([e.MatrixWidth,e.MatrixHeight])}})),new c({extent:e,origins:s,resolutions:n,matrixIds:a,tileSizes:l,sizes:u})}e.b=c},function(t,e,r){"use strict";var n,i=r(216),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(t){function e(e){var r=e||{};return t.call(this,{points:1/0,fill:r.fill,radius:r.radius,stroke:r.stroke,displacement:void 0!==r.displacement?r.displacement:[0,0]})||this}return o(e,t),e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),displacement:this.getDisplacement().slice()});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(i.a);e.a=a},function(t,e,r){"use strict";r.d(e,"b",(function(){return E}));var n=r(340),i=r(179),o=r(68),a=r(77),s=r(0),c=r(3),l=r(12),u=r(11);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e,r){return(e=g(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g(n.key),n)}}function g(t){var e=function(t,e){if("object"!==h(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===h(e)?e:String(e)}function _(){return(_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=b(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function b(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=M(t)););return t}function v(t,e){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=M(t);if(e){var i=M(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return w(this,r)}}function w(t,e){if(e&&("object"===h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var E={RENDER:"render",FEATURE:"feature"},x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(f,t);var e,r,a,h=O(f);function f(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;m(this,f);var a=u.Cb(e,l.MVT),d=r;"string"!=typeof e&&(a=p(p({},a),e),d.maxExtent=e.maxExtent);var y=o||new n.a(a,d,i);return t=h.call(this,a,d,i,y),Object(s.ab)(n.a)&&Object(c.a)("La implementacin usada no puede crear capas Vector"),t.extract=void 0!==a.extract&&a.extract,t.mode=a.mode||E.RENDER,t}return e=f,(r=[{key:"extract",get:function(){return this.getImpl().extract},set:function(t){Object(s.X)(t)?this.getImpl().extract=!1:Object(s.Z)(t)?this.getImpl().extract="true"===Object(s.db)(t):this.getImpl().extract=t}},{key:"setStyle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.DEFAULT_OPTIONS_STYLE;_(M(f.prototype),"setStyle",this).call(this,t,e,r)}},{key:"getProjection",value:function(){return this.getImpl().getProjection()}},{key:"getGeometryType",value:function(){var t=null,e=this.getFeatures();if(!Object(s.X)(e)){var r=e[0];Object(s.X)(r)||(t=r.getType())}return t}},{key:"getFeatures",value:function(){var t=this;return this.getImpl().getFeatures().map((function(e){return t.mode===E.RENDER?i.a.olFeature2Facade(e):t.mode===E.FEATURE?o.a.olFeature2Facade(e,void 0,t.getProjection()):null}))}},{key:"setFilter",value:function(){}},{key:"addFeatures",value:function(){}},{key:"removeFeatures",value:function(){}},{key:"refresh",value:function(){}},{key:"redraw",value:function(){}},{key:"toGeoJSON",value:function(){}}])&&y(e.prototype,r),a&&y(e,a),Object.defineProperty(e,"prototype",{writable:!1}),f}(a.a);x.DEFAULT_PARAMS_STYLE={fill:{color:"#fff",opacity:.6},stroke:{color:"#827ec5",width:2}},x.DEFAULT_OPTIONS_STYLE={point:p(p({},x.DEFAULT_PARAMS_STYLE),{},{radius:5}),line:p({},x.DEFAULT_PARAMS_STYLE),polygon:p({},x.DEFAULT_PARAMS_STYLE)},e.a=x},function(t,e,r){"use strict";r.d(e,"b",(function(){return i})),r.d(e,"a",(function(){return o})),r.d(e,"c",(function(){return a}));r(15);var n={};function i(){n={}}function o(t,e,r){var i=t.getCode(),o=e.getCode();i in n||(n[i]={}),n[i][o]=r}function a(t,e){var r;return t in n&&e in n[t]&&(r=n[t][e]),r}},function(t,e,r){"use strict";var n=r(151),i=r(46);function o(t,e){return 55296==(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1)))}function a(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function s(t){return 1===t.length?"0"+t:t}function c(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}e.inherits=i,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var a=t.charCodeAt(i);a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=63&a|128):o(t,i)?(a=65536+((1023&a)<<10)+(1023&t.charCodeAt(++i)),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=63&a|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=63&a|128)}else for(i=0;i<t.length;i++)r[i]=0|t[i];return r},e.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=s(t[r].toString(16));return e},e.htonl=a,e.toHex32=function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=a(i)),r+=c(i.toString(16))}return r},e.zero2=s,e.zero8=c,e.join32=function(t,e,r,i){var o=r-e;n(o%4==0);for(var a=new Array(o/4),s=0,c=e;s<a.length;s++,c+=4){var l;l="big"===i?t[c]<<24|t[c+1]<<16|t[c+2]<<8|t[c+3]:t[c+3]<<24|t[c+2]<<16|t[c+1]<<8|t[c],a[s]=l>>>0}return a},e.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];"big"===e?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},e.rotr32=function(t,e){return t>>>e|t<<32-e},e.rotl32=function(t,e){return t<<e|t>>>32-e},e.sum32=function(t,e){return t+e>>>0},e.sum32_3=function(t,e,r){return t+e+r>>>0},e.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},e.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},e.sum64=function(t,e,r,n){var i=t[e],o=n+t[e+1]>>>0,a=(o<n?1:0)+r+i;t[e]=a>>>0,t[e+1]=o},e.sum64_hi=function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},e.sum64_lo=function(t,e,r,n){return e+n>>>0},e.sum64_4_hi=function(t,e,r,n,i,o,a,s){var c=0,l=e;return c+=(l=l+n>>>0)<e?1:0,c+=(l=l+o>>>0)<o?1:0,t+r+i+a+(c+=(l=l+s>>>0)<s?1:0)>>>0},e.sum64_4_lo=function(t,e,r,n,i,o,a,s){return e+n+o+s>>>0},e.sum64_5_hi=function(t,e,r,n,i,o,a,s,c,l){var u=0,h=e;return u+=(h=h+n>>>0)<e?1:0,u+=(h=h+o>>>0)<o?1:0,u+=(h=h+s>>>0)<s?1:0,t+r+i+a+c+(u+=(h=h+l>>>0)<l?1:0)>>>0},e.sum64_5_lo=function(t,e,r,n,i,o,a,s,c,l){return e+n+o+s+l>>>0},e.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},e.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},e.shr64_hi=function(t,e,r){return t>>>r},e.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0}},function(t,e,r){"use strict";r.d(e,"a",(function(){return m}));var n,i=r(10),o=r(272),a=r(20),s=r(50),c=r(4),l=r(56),u=r(166),h=r(63),f=r(87),p=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),d=function(t){function e(e){var r=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})||this;r.opaque_=void 0!==e.opaque&&e.opaque,r.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,r.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var n=[256,256],i=e.tileGrid;i&&Object(l.d)(i.getTileSize(i.getMinZoom()),n);var a="undefined"!=typeof screen,s=a?screen.availWidth||screen.width:1920,c=a?screen.availHeight||screen.height:1080,u=4*Math.ceil(s/n[0])*Math.ceil(c/n[1]);return r.tileCache=new o.a(Math.max(u,e.cacheSize||0)),r.tmpSize=[0,0],r.key_=e.key||"",r.tileOptions={transition:e.transition},r.zDirection=e.zDirection?e.zDirection:0,r}return p(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var r=this.getTileCacheForProjection(t);r&&r.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,r,n){var i=this.getTileCacheForProjection(t);if(!i)return!1;for(var o,s,c,l=!0,u=r.minX;u<=r.maxX;++u)for(var f=r.minY;f<=r.maxY;++f)s=Object(h.d)(e,u,f),c=!1,i.containsKey(s)&&(c=(o=i.get(s)).getState()===a.a.LOADED)&&(c=!1!==n(o)),c||(l=!1);return l},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,r,n,o){return Object(i.b)()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:Object(f.d)(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!Object(c.f)(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,r){var n=this.getTileGridForProjection(r),i=this.getTilePixelRatio(e),o=Object(l.d)(n.getTileSize(t),this.tmpSize);return 1==i?o:Object(l.c)(o,i,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var r=void 0!==e?e:this.getProjection(),n=this.getTileGridForProjection(r);return this.getWrapX()&&r.isGlobal()&&(t=Object(f.e)(n,t,r)),Object(h.f)(t,n)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.useTile=function(t,e,r,n){},e}(u.a),m=function(t){function e(e,r){var n=t.call(this,e)||this;return n.tile=r,n}return p(e,t),e}(s.a);e.b=d},function(t,e,r){"use strict";var n,i=r(13),o=r(82),a=r(47),s=r(34),c=r(16),l=r(113),u=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),h=function(t){function e(e){var r=this,n=e||{};(r=t.call(this,{element:document.createElement("div"),render:n.render||f,target:n.target})||this).ulElement_=document.createElement("ul"),r.collapsed_=void 0===n.collapsed||n.collapsed,r.overrideCollapsible_=void 0!==n.collapsible,r.collapsible_=void 0===n.collapsible||n.collapsible,r.collapsible_||(r.collapsed_=!1);var i=void 0!==n.className?n.className:"ol-attribution",o=void 0!==n.tipLabel?n.tipLabel:"Attributions",s=void 0!==n.collapseLabel?n.collapseLabel:"";"string"==typeof s?(r.collapseLabel_=document.createElement("span"),r.collapseLabel_.textContent=s):r.collapseLabel_=s;var l=void 0!==n.label?n.label:"i";"string"==typeof l?(r.label_=document.createElement("span"),r.label_.textContent=l):r.label_=l;var u=r.collapsible_&&!r.collapsed_?r.collapseLabel_:r.label_,h=document.createElement("button");h.setAttribute("type","button"),h.title=o,h.appendChild(u),h.addEventListener(c.a.CLICK,r.handleClick_.bind(r),!1);var p=i+" "+a.e+" "+a.b+(r.collapsed_&&r.collapsible_?" "+a.a:"")+(r.collapsible_?"":" ol-uncollapsible"),d=r.element;return d.className=p,d.appendChild(r.ulElement_),d.appendChild(h),r.renderedAttributions_=[],r.renderedVisible_=!0,r}return u(e,t),e.prototype.collectSourceAttributions_=function(t){for(var e={},r=[],n=t.layerStatesArray,i=0,o=n.length;i<o;++i){var a=n[i];if(Object(l.b)(a,t.viewState)){var s=a.layer.getSource();if(s){var c=s.getAttributions();if(c){var u=c(t);if(u)if(this.overrideCollapsible_||!1!==s.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(u))for(var h=0,f=u.length;h<f;++h)u[h]in e||(r.push(u[h]),e[u[h]]=!0);else u in e||(r.push(u),e[u]=!0)}}}}return r},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),r=e.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!Object(i.b)(e,this.renderedAttributions_)){Object(s.d)(this.ulElement_);for(var n=0,o=e.length;n<o;++n){var a=document.createElement("li");a.innerHTML=e[n],this.ulElement_.appendChild(a)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(a.a),this.collapsed_?Object(s.g)(this.collapseLabel_,this.label_):Object(s.g)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(o.a);function f(t){this.updateElement_(t.frameState)}e.a=h},function(t,e,r){"use strict";var n=function(){function t(t){this.tagName_=t}return t.prototype.getTagName=function(){return this.tagName_},t}();e.a=n},function(t,e,r){"use strict";var n,i=r(174),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(t){function e(e,r){var n=t.call(this,e)||this;return n.propertyName=r,n}return o(e,t),e}(i.a);e.a=a},function(t,e,r){"use strict";var n,i=r(13),o=r(118),a=r(2),s=r(98),c=r(8),l=r(109),u=r(279),h=r(24),f=r(27),p=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),d=function(t){function e(e,r,n,i){var o=t.call(this)||this;return o.tolerance=e,o.maxExtent=r,o.pixelRatio=i,o.maxLineWidth=0,o.resolution=n,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return p(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},e.prototype.appendFlatCoordinates=function(t,e,r,n,i,o){var c=this.coordinates.length,l=this.getBufferedMaxExtent();o&&(e+=n);var u,h,f,p=t[e],d=t[e+1],m=this.tmpCoordinate_,y=!0;for(u=e+n;u<r;u+=n)m[0]=t[u],m[1]=t[u+1],(f=Object(a.j)(l,m))!==h?(y&&(this.coordinates[c++]=p,this.coordinates[c++]=d),this.coordinates[c++]=m[0],this.coordinates[c++]=m[1],y=!1):f===s.a.INTERSECTING?(this.coordinates[c++]=m[0],this.coordinates[c++]=m[1],y=!1):y=!0,p=m[0],d=m[1],h=f;return(i&&y||u===e+n)&&(this.coordinates[c++]=p,this.coordinates[c++]=d),c},e.prototype.drawCustomCoordinates_=function(t,e,r,n,i){for(var o=0,a=r.length;o<a;++o){var s=r[o],c=this.appendFlatCoordinates(t,e,s,n,!1,!1);i.push(c),e=s}return e},e.prototype.drawCustom=function(t,e,r){this.beginGeometry(t,e);var n,i,o,a,s,u=t.getType(),h=t.getStride(),p=this.coordinates.length;if(u==c.a.MULTI_POLYGON){n=(t=t).getOrientedFlatCoordinates(),a=[];var d=t.getEndss();s=0;for(var m=0,y=d.length;m<y;++m){var g=[];s=this.drawCustomCoordinates_(n,s,d[m],h,g),a.push(g)}this.instructions.push([f.c.CUSTOM,p,a,t,r,l.c])}else u==c.a.POLYGON||u==c.a.MULTI_LINE_STRING?(o=[],n=u==c.a.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),s=this.drawCustomCoordinates_(n,0,t.getEnds(),h,o),this.instructions.push([f.c.CUSTOM,p,o,t,r,l.b])):u==c.a.LINE_STRING||u==c.a.MULTI_POINT?(n=t.getFlatCoordinates(),i=this.appendFlatCoordinates(n,0,n.length,h,!1,!1),this.instructions.push([f.c.CUSTOM,p,i,t,r,l.a])):u==c.a.POINT&&(n=t.getFlatCoordinates(),this.coordinates.push(n[0],n[1]),i=this.coordinates.length,this.instructions.push([f.c.CUSTOM,p,i,t,r]));this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){var r=t.getExtent();this.beginGeometryInstruction1_=[f.c.BEGIN_GEOMETRY,e,0,r],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[f.c.BEGIN_GEOMETRY,e,0,r],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var r,n,o=e.length,a=-1;for(t=0;t<o;++t)(n=(r=e[t])[0])==f.c.END_GEOMETRY?a=t:n==f.c.BEGIN_GEOMETRY&&(r[2]=t,Object(i.j)(this.hitDetectionInstructions,a,t),a=-1)},e.prototype.setFillStrokeStyle=function(t,e){var r=this.state;if(t){var n=t.getColor();r.fillStyle=Object(o.a)(n||h.c)}else r.fillStyle=void 0;if(e){var i=e.getColor();r.strokeStyle=Object(o.a)(i||h.l);var a=e.getLineCap();r.lineCap=void 0!==a?a:h.e;var s=e.getLineDash();r.lineDash=s?s.slice():h.f;var c=e.getLineDashOffset();r.lineDashOffset=c||h.g;var l=e.getLineJoin();r.lineJoin=void 0!==l?l:h.h;var u=e.getWidth();r.lineWidth=void 0!==u?u:h.i;var f=e.getMiterLimit();r.miterLimit=void 0!==f?f:h.j,r.lineWidth>this.maxLineWidth&&(this.maxLineWidth=r.lineWidth,this.bufferedMaxExtent_=null)}else r.strokeStyle=void 0,r.lineCap=void 0,r.lineDash=null,r.lineDashOffset=void 0,r.lineJoin=void 0,r.lineWidth=void 0,r.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,r=[f.c.SET_FILL_STYLE,e];return"string"!=typeof e&&r.push(!0),r},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[f.c.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var r=t.fillStyle;"string"==typeof r&&t.currentFillStyle==r||(void 0!==r&&this.instructions.push(e.call(this,t)),t.currentFillStyle=r)},e.prototype.updateStrokeStyle=function(t,e){var r=t.strokeStyle,n=t.lineCap,o=t.lineDash,a=t.lineDashOffset,s=t.lineJoin,c=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=r||t.currentLineCap!=n||o!=t.currentLineDash&&!Object(i.b)(t.currentLineDash,o)||t.currentLineDashOffset!=a||t.currentLineJoin!=s||t.currentLineWidth!=c||t.currentMiterLimit!=l)&&(void 0!==r&&e.call(this,t),t.currentStrokeStyle=r,t.currentLineCap=n,t.currentLineDash=o,t.currentLineDashOffset=a,t.currentLineJoin=s,t.currentLineWidth=c,t.currentMiterLimit=l)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[f.c.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Object(a.e)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Object(a.d)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(u.a);e.a=d},function(t,e,r){"use strict";var n,i=r(113),o=r(15),a=r(41),s=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),c="renderOrder",l=function(t){function e(e){var r=this,n=e||{},i=Object(o.a)({},n);return delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,(r=t.call(this,i)||this).declutter_=void 0!==n.declutter&&n.declutter,r.renderBuffer_=void 0!==n.renderBuffer?n.renderBuffer:100,r.style_=null,r.styleFunction_=void 0,r.setStyle(n.style),r.updateWhileAnimating_=void 0!==n.updateWhileAnimating&&n.updateWhileAnimating,r.updateWhileInteracting_=void 0!==n.updateWhileInteracting&&n.updateWhileInteracting,r}return s(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(c)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.setRenderOrder=function(t){this.set(c,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:a.a,this.styleFunction_=null===t?void 0:Object(a.d)(this.style_),this.changed()},e}(i.a);e.a=l},function(t,e,r){"use strict";var n=r(71);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(a)?a:String(a)),n)}var o,a}var s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t),this.options_=e,this.layer_=null,this.updateFacadeOptions(e)}var e,r,i;return e=t,i=[{key:"getCanvasSize",value:function(){return[100,100]}}],(r=[{key:"updateFacadeOptions",value:function(){}},{key:"applyToLayer",value:function(t){this.layer_=t,t.getFeatures().forEach(this.applyToFeature,this)}},{key:"applyToFeature",value:function(t){t.getImpl().getOLFeature().setStyle(this.olStyleFn_)}},{key:"updateCanvas",value:function(e){var r=t.getCanvasSize(),i=Object(n.d)(e.getContext("2d"),{size:r});i.setStyle(this.olStyleFn_()[0]),this.drawGeometryToCanvas(i)}},{key:"drawGeometryToCanvas",value:function(t){}},{key:"clone",value:function(){return new t(Object.assign({},this.options_))}}])&&a(e.prototype,r),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.a=s},function(t,e,r){"use strict";var n=r(411),i=r(0);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,a=void 0,a=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===o(a)?a:String(a)),n)}var i,a}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.olFeature_=null}var e,r,o;return e=t,o=[{key:"olFeature2Facade",value:function(t,e){var r=null;return Object(i.X)(t)||(r=new n.a).getImpl().setOLFeature(t),r}},{key:"facade2OLFeature",value:function(t){return t.getImpl().getOLFeature()}}],(r=[{key:"getOLFeature",value:function(){return this.olFeature_}},{key:"getType",value:function(){return this.getOLFeature().getType()}},{key:"setOLFeature",value:function(t){Object(i.X)(t)||(this.olFeature_=t)}},{key:"getAttributes",value:function(){return this.olFeature_.getProperties()}},{key:"getAttribute",value:function(t){return this.olFeature_.get(t)}},{key:"setFacadeObj",value:function(t){this.facadeFeature_=t}},{key:"getCentroid",value:function(){}}])&&a(e.prototype,r),o&&a(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.a=s},function(t,e,r){"use strict";var n=r(122),i=r(78),o=r(0),a=r(3),s=r(6);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==c(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===c(o)?o:String(o)),n)}var i,o}function h(t,e){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p(this,r)}}function p(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(p,t);var e,r,i,c=f(p);function p(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,p);var r=new n.a(e);return t=c.call(this,r),Object(o.ab)(n.a)&&Object(a.a)(Object(s.e)("exception").geojson_method),t}return e=p,(r=[{key:"write",value:function(t){var e=t;return Object(o.R)(e)||(e=[e]),this.getImpl().write(e)}},{key:"read",value:function(t,e){var r=t,n=[];if(!Object(o.X)(r)){Object(o.Z)(r)&&(r=JSON.parse(r));var i=[];"FeatureCollection"===r.type?i=r.features:"Feature"===r.type&&(i=[r]),n=this.getImpl().read(r,i,e)}return n}}])&&u(e.prototype,r),i&&u(e,i),Object.defineProperty(e,"prototype",{writable:!1}),p}(i.a);e.a=m},function(t,e,r){"use strict";var n=r(156),i=r(39),o=r(14);function a(t,e,r){return function(n,i,a,s){if(n){var c=e?0:a[0]*i,l=e?0:a[1]*i,u=t[0]+c/2,h=t[2]-c/2,f=t[1]+l/2,p=t[3]-l/2;u>h&&(h=u=(h+u)/2),f>p&&(p=f=(p+f)/2);var d=Object(o.a)(n[0],u,h),m=Object(o.a)(n[1],f,p),y=30*i;return s&&r&&(d+=-y*Math.log(1+Math.max(0,u-n[0])/y)+y*Math.log(1+Math.max(0,n[0]-h)/y),m+=-y*Math.log(1+Math.max(0,f-n[1])/y)+y*Math.log(1+Math.max(0,n[1]-p)/y)),[d,m]}}}function s(t){return t}var c=r(33),l=r(13),u=r(2);function h(t,e,r,n){var i=Object(u.G)(e)/r[0],o=Object(u.B)(e)/r[1];return n?Math.min(t,Math.max(i,o)):Math.min(t,Math.min(i,o))}function f(t,e,r){var n=Math.min(t,e);return n*=Math.log(1+50*Math.max(0,t/e-1))/50+1,r&&(n=Math.max(n,r),n/=Math.log(1+50*Math.max(0,r/t-1))/50+1),Object(o.a)(n,r/2,2*e)}function p(t,e,r,n,i){return function(a,s,c,l){if(void 0!==a){var u=n?h(t,n,c,i):t;return(void 0===r||r)&&l?f(a,u,e):Object(o.a)(a,e,u)}}}var d,m=r(188),y=r(57),g=r(140),_=r(19),b=r(29),v=r(65),O=r(8),w=r(26),M=r(15),E=r(4),x=r(55),S=(d=function(t,e){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}d(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),j=function(t){function e(e){var r=t.call(this)||this,n=Object(M.a)({},e);return r.hints_=[0,0],r.animations_=[],r.updateAnimationKey_,r.projection_=Object(E.e)(n.projection,"EPSG:3857"),r.viewportSize_=[100,100],r.targetCenter_=null,r.targetResolution_,r.targetRotation_,r.cancelAnchor_=void 0,n.center&&(n.center=Object(E.h)(n.center,r.projection_)),n.extent&&(n.extent=Object(E.i)(n.extent,r.projection_)),r.applyOptions_(n),r}return S(e,t),e.prototype.applyOptions_=function(t){var e=function(t){var e,r,i,a=void 0!==t.minZoom?t.minZoom:0,s=void 0!==t.maxZoom?t.maxZoom:28,c=void 0!==t.zoomFactor?t.zoomFactor:2,d=void 0!==t.multiWorld&&t.multiWorld,m=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,y=void 0!==t.showFullExtent&&t.showFullExtent,g=Object(E.e)(t.projection,"EPSG:3857"),_=g.getExtent(),b=t.constrainOnlyCenter,v=t.extent;d||v||!g.isGlobal()||(b=!1,v=_);if(void 0!==t.resolutions){var O=t.resolutions;r=O[a],i=void 0!==O[s]?O[s]:O[O.length-1],e=t.constrainResolution?function(t,e,r,n){return function(i,a,s,c){if(void 0!==i){var u=t[0],p=t[t.length-1],d=r?h(u,r,s,n):u;if(c)return void 0===e||e?f(i,d,p):Object(o.a)(i,p,d);var m=Math.min(d,i),y=Math.floor(Object(l.h)(t,m,a));return t[y]>d&&y<t.length-1?t[y+1]:t[y]}}}(O,m,!b&&v,y):p(r,i,m,!b&&v,y)}else{var w=(_?Math.max(Object(u.G)(_),Object(u.B)(_)):360*E.a[x.b.DEGREES]/g.getMetersPerUnit())/n.b/Math.pow(2,0),M=w/Math.pow(2,28);void 0!==(r=t.maxResolution)?a=0:r=w/Math.pow(c,a),void 0===(i=t.minResolution)&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?r/Math.pow(c,s):w/Math.pow(c,s):M),s=a+Math.floor(Math.log(r/i)/Math.log(c)),i=r/Math.pow(c,s-a),e=t.constrainResolution?function(t,e,r,n,i,a){return function(s,c,l,u){if(void 0!==s){var p=i?h(e,i,l,a):e,d=void 0!==r?r:0;if(u)return void 0===n||n?f(s,p,d):Object(o.a)(s,d,p);var m=Math.ceil(Math.log(e/p)/Math.log(t)-1e-9),y=-c*(.5-1e-9)+.5,g=Math.min(p,s),_=Math.floor(Math.log(e/g)/Math.log(t)+y),b=Math.max(m,_),v=e/Math.pow(t,b);return Object(o.a)(v,d,p)}}}(c,r,i,m,!b&&v,y):p(r,i,m,!b&&v,y)}return{constraint:e,maxResolution:r,minResolution:i,minZoom:a,zoomFactor:c}}(t);this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.zoomFactor_=e.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=e.minZoom;var r=function(t){if(void 0!==t.extent){var e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return a(t.extent,t.constrainOnlyCenter,e)}var r=Object(E.e)(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&r.isGlobal()){var n=r.getExtent().slice();return n[0]=-1/0,n[2]=1/0,a(n,!1,!1)}return s}(t),i=e.constraint,c=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?Object(m.b)():!1===e?m.d:"number"==typeof e?Object(m.a)(e):m.d}return m.c}(t);this.constraints_={center:r,resolution:i,rotation:c},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom),this.setProperties({}),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=Object(M.a)({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object(M.a)({},e,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),r=0;r<e.length;++r){var n=arguments[r];n.center&&((n=Object(M.a)({},n)).center=Object(E.h)(n.center,this.getProjection())),n.anchor&&((n=Object(M.a)({},n)).anchor=Object(E.h)(n.anchor,this.getProjection())),e[r]=n}this.animateInternal.apply(this,e)},e.prototype.animateInternal=function(t){var e,r=arguments.length;if(r>1&&"function"==typeof arguments[r-1]&&(e=arguments[r-1],--r),!this.isDef()){var n=arguments[r-1];return n.center&&this.setCenterInternal(n.center),void 0!==n.zoom&&this.setZoom(n.zoom),void 0!==n.rotation&&this.setRotation(n.rotation),void(e&&P(e,!0))}for(var i=Date.now(),a=this.targetCenter_.slice(),s=this.targetResolution_,c=this.targetRotation_,l=[],u=0;u<r;++u){var h=arguments[u],f={start:i,complete:!1,anchor:h.anchor,duration:void 0!==h.duration?h.duration:1e3,easing:h.easing||v.inAndOut,callback:e};if(h.center&&(f.sourceCenter=a,f.targetCenter=h.center.slice(),a=f.targetCenter),void 0!==h.zoom?(f.sourceResolution=s,f.targetResolution=this.getResolutionForZoom(h.zoom),s=f.targetResolution):h.resolution&&(f.sourceResolution=s,f.targetResolution=h.resolution,s=f.targetResolution),void 0!==h.rotation){f.sourceRotation=c;var p=Object(o.d)(h.rotation-c+Math.PI,2*Math.PI)-Math.PI;f.targetRotation=c+p,c=f.targetRotation}T(f)?f.complete=!0:i+=f.duration,l.push(f)}this.animations_.push(l),this.setHint(y.a.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[y.a.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[y.a.INTERACTING]>0},e.prototype.cancelAnimations=function(){var t;this.setHint(y.a.ANIMATING,-this.hints_[y.a.ANIMATING]);for(var e=0,r=this.animations_.length;e<r;++e){var n=this.animations_[e];if(n[0].callback&&P(n[0].callback,!1),!t)for(var i=0,o=n.length;i<o;++i){var a=n[i];if(!a.complete){t=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,r=this.animations_.length-1;r>=0;--r){for(var n=this.animations_[r],i=!0,a=0,s=n.length;a<s;++a){var c=n[a];if(!c.complete){var l=t-c.start,u=c.duration>0?l/c.duration:1;u>=1?(c.complete=!0,u=1):i=!1;var h=c.easing(u);if(c.sourceCenter){var f=c.sourceCenter[0],p=c.sourceCenter[1],d=f+h*(c.targetCenter[0]-f),m=p+h*(c.targetCenter[1]-p);this.targetCenter_=[d,m]}if(c.sourceResolution&&c.targetResolution){var g=1===h?c.targetResolution:c.sourceResolution+h*(c.targetResolution-c.sourceResolution);if(c.anchor){var _=this.getViewportSize_(this.getRotation()),b=this.constraints_.resolution(g,0,_,!0);this.targetCenter_=this.calculateCenterZoom(b,c.anchor)}this.targetResolution_=g,this.applyTargetState_(!0)}if(void 0!==c.sourceRotation&&void 0!==c.targetRotation){var v=1===h?Object(o.d)(c.targetRotation+Math.PI,2*Math.PI)-Math.PI:c.sourceRotation+h*(c.targetRotation-c.sourceRotation);if(c.anchor){var O=this.constraints_.rotation(v,!0);this.targetCenter_=this.calculateCenterRotate(O,c.anchor)}this.targetRotation_=v}if(this.applyTargetState_(!0),e=!0,!c.complete)break}}if(i){this.animations_[r]=null,this.setHint(y.a.ANIMATING,-1);var w=n[0].callback;w&&P(w,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,e){var r,n=this.getCenterInternal();return void 0!==n&&(r=[n[0]-e[0],n[1]-e[1]],Object(b.i)(r,t-this.getRotation()),Object(b.a)(r,e)),r},e.prototype.calculateCenterZoom=function(t,e){var r,n=this.getCenterInternal(),i=this.getResolution();void 0!==n&&void 0!==i&&(r=[e[0]-t*(e[0]-n[0])/i,e[1]-t*(e[1]-n[1])/i]);return r},e.prototype.getViewportSize_=function(t){var e=this.viewportSize_;if(t){var r=e[0],n=e[1];return[Math.abs(r*Math.cos(t))+Math.abs(n*Math.sin(t)),Math.abs(r*Math.sin(t))+Math.abs(n*Math.cos(t))]}return e},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.resolveConstraints(0)},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t?Object(E.q)(t,this.getProjection()):t},e.prototype.getCenterInternal=function(){return this.get(g.a.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.options_.constrainResolution},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=this.calculateExtentInternal(t);return Object(E.r)(e,this.getProjection())},e.prototype.calculateExtentInternal=function(t){var e=t||this.getViewportSize_(),r=this.getCenterInternal();Object(_.a)(r,1);var n=this.getResolution();Object(_.a)(void 0!==n,2);var i=this.getRotation();return Object(_.a)(void 0!==i,3),Object(u.A)(r,n,i,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(g.a.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal(Object(E.i)(t,this.getProjection()),e)},e.prototype.getResolutionForExtentInternal=function(t,e){var r=e||this.getViewportSize_(),n=Object(u.G)(t)/r[0],i=Object(u.B)(t)/r[1];return Math.max(n,i)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,r=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,i=Math.log(r/n)/Math.log(e);return function(t){return r/Math.pow(e,t*i)}},e.prototype.getRotation=function(){return this.get(g.a.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var e=Math.log(t||2),r=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,i=Math.log(r/n)/e;return function(t){return Math.log(r/t)/e/i}},e.prototype.getState=function(){var t=this.getCenterInternal(),e=this.getProjection(),r=this.getResolution(),n=this.getRotation();return{center:t.slice(0),projection:void 0!==e?e:null,resolution:r,rotation:n,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,r,n=this.minZoom_||0;if(this.resolutions_){var i=Object(l.h)(this.resolutions_,t,1);n=i,e=this.resolutions_[i],r=i==this.resolutions_.length-1?2:e/this.resolutions_[i+1]}else e=this.maxResolution_,r=this.zoomFactor_;return n+Math.log(e/t)/Math.log(r)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=Object(o.a)(Math.floor(t),0,this.resolutions_.length-2),r=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(r,Object(o.a)(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,e){var r,n=Object(M.a)({size:this.getViewportSize_()},e||{});if(Object(_.a)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)){Object(_.a)(!Object(u.J)(t),25);var i=Object(E.i)(t,this.getProjection());r=Object(w.d)(i)}else if(t.getType()===O.a.CIRCLE){i=Object(E.i)(t.getExtent(),this.getProjection());(r=Object(w.d)(i)).rotate(this.getRotation(),Object(u.y)(i))}else{var o=Object(E.n)();r=o?t.clone().transform(o,this.getProjection()):t}this.fitInternal(r,n)},e.prototype.fitInternal=function(t,e){var r=e||{},n=r.size;n||(n=this.getViewportSize_());var o,a=void 0!==r.padding?r.padding:[0,0,0,0],s=void 0!==r.nearest&&r.nearest;o=void 0!==r.minResolution?r.minResolution:void 0!==r.maxZoom?this.getResolutionForZoom(r.maxZoom):0;for(var c=t.getFlatCoordinates(),l=this.getRotation(),u=Math.cos(-l),h=Math.sin(-l),f=1/0,p=1/0,d=-1/0,m=-1/0,y=t.getStride(),g=0,_=c.length;g<_;g+=y){var b=c[g]*u-c[g+1]*h,v=c[g]*h+c[g+1]*u;f=Math.min(f,b),p=Math.min(p,v),d=Math.max(d,b),m=Math.max(m,v)}var O=this.getResolutionForExtentInternal([f,p,d,m],[n[0]-a[1]-a[3],n[1]-a[0]-a[2]]);O=isNaN(O)?o:Math.max(O,o),O=this.getConstrainedResolution(O,s?0:1),h=-h;var w=(f+d)/2,M=(p+m)/2,E=[(w+=(a[1]-a[3])/2*O)*u-(M+=(a[0]-a[2])/2*O)*h,M*u+w*h],x=r.callback?r.callback:i.c;void 0!==r.duration?this.animateInternal({resolution:O,center:this.getConstrainedCenter(E,O),duration:r.duration,easing:r.easing},x):(this.targetResolution_=O,this.targetCenter_=E,this.applyTargetState_(!1,!0),P(x,!0))},e.prototype.centerOn=function(t,e,r){this.centerOnInternal(Object(E.h)(t,this.getProjection()),e,r)},e.prototype.centerOnInternal=function(t,e,r){var n=this.getRotation(),i=Math.cos(-n),o=Math.sin(-n),a=t[0]*i-t[1]*o,s=t[1]*i+t[0]*o,c=this.getResolution(),l=(a+=(e[0]/2-r[0])*c)*i-(s+=(r[1]-e[1]/2)*c)*(o=-o),u=s*i+a*o;this.setCenterInternal([l,u])},e.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},e.prototype.adjustCenter=function(t){var e=Object(E.q)(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustResolution=function(t,e){var r=e&&Object(E.h)(e,this.getProjection());this.adjustResolutionInternal(t,r)},e.prototype.adjustResolutionInternal=function(t,e){var r=this.getAnimating()||this.getInteracting(),n=this.getViewportSize_(this.getRotation()),i=this.constraints_.resolution(this.targetResolution_*t,0,n,r);e&&(this.targetCenter_=this.calculateCenterZoom(i,e)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},e.prototype.adjustRotation=function(t,e){e&&(e=Object(E.h)(e,this.getProjection())),this.adjustRotationInternal(t,e)},e.prototype.adjustRotationInternal=function(t,e){var r=this.getAnimating()||this.getInteracting(),n=this.constraints_.rotation(this.targetRotation_+t,r);e&&(this.targetCenter_=this.calculateCenterRotate(n,e)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(Object(E.h)(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,e){var r=this.getAnimating()||this.getInteracting()||e,n=this.constraints_.rotation(this.targetRotation_,r),i=this.getViewportSize_(n),o=this.constraints_.resolution(this.targetResolution_,0,i,r),a=this.constraints_.center(this.targetCenter_,o,i,r);this.get(g.a.ROTATION)!==n&&this.set(g.a.ROTATION,n),this.get(g.a.RESOLUTION)!==o&&this.set(g.a.RESOLUTION,o),this.get(g.a.CENTER)&&Object(b.g)(this.get(g.a.CENTER),a)||this.set(g.a.CENTER,a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,e,r){var n=void 0!==t?t:200,i=e||0,o=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(o),s=this.constraints_.resolution(this.targetResolution_,i,a),c=this.constraints_.center(this.targetCenter_,s,a);if(0===n&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=o,this.targetCenter_=c,void this.applyTargetState_();var l=r||(0===n?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===o&&this.getCenterInternal()&&Object(b.g)(this.getCenterInternal(),c)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:c,resolution:s,duration:n,easing:v.easeOut,anchor:l}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(y.a.INTERACTING,1)},e.prototype.endInteraction=function(t,e,r){var n=r&&Object(E.h)(r,this.getProjection());this.endInteractionInternal(t,e,n)},e.prototype.endInteractionInternal=function(t,e,r){this.setHint(y.a.INTERACTING,-1),this.resolveConstraints(t,e,r)},e.prototype.getConstrainedCenter=function(t,e){var r=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),r)},e.prototype.getConstrainedZoom=function(t,e){var r=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(r,e))},e.prototype.getConstrainedResolution=function(t,e){var r=e||0,n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,r,n)},e}(c.a);function P(t,e){setTimeout((function(){t(e)}),0)}function T(t){return!(t.sourceCenter&&t.targetCenter&&!Object(b.g)(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}e.a=j},function(t,e,r){"use strict";var n,i=r(2),o=r(203),a=r(228),s=r(7),c=r(1),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),u=[null,"http://www.opengis.net/ows/1.1"],h=Object(c.r)(u,{ServiceIdentification:Object(c.n)((function(t,e){return Object(c.u)({},E,t,e)})),ServiceProvider:Object(c.n)((function(t,e){return Object(c.u)({},x,t,e)})),OperationsMetadata:Object(c.n)((function(t,e){return Object(c.u)({},v,t,e)}))}),f=function(t){function e(){return t.call(this)||this}return l(e,t),e.prototype.readFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null},e.prototype.readFromNode=function(t){var e=Object(c.u)({},h,t,[]);return e||null},e}(a.a),p=Object(c.r)(u,{DeliveryPoint:Object(c.n)(s.h),City:Object(c.n)(s.h),AdministrativeArea:Object(c.n)(s.h),PostalCode:Object(c.n)(s.h),Country:Object(c.n)(s.h),ElectronicMailAddress:Object(c.n)(s.h)}),d=Object(c.r)(u,{Value:Object(c.m)((function(t,e){return Object(s.h)(t)}))}),m=Object(c.r)(u,{AllowedValues:Object(c.n)((function(t,e){return Object(c.u)({},d,t,e)}))}),y=Object(c.r)(u,{Phone:Object(c.n)((function(t,e){return Object(c.u)({},O,t,e)})),Address:Object(c.n)((function(t,e){return Object(c.u)({},p,t,e)}))}),g=Object(c.r)(u,{HTTP:Object(c.n)((function(t,e){return Object(c.u)({},_,t,e)}))}),_=Object(c.r)(u,{Get:Object(c.m)((function(t,e){var r=Object(o.a)(t);if(!r)return;return Object(c.u)({href:r},w,t,e)})),Post:void 0}),b=Object(c.r)(u,{DCP:Object(c.n)((function(t,e){return Object(c.u)({},g,t,e)}))}),v=Object(c.r)(u,{Operation:function(t,e){var r=t.getAttribute("name"),n=Object(c.u)({},b,t,e);if(!n)return;e[e.length-1][r]=n}}),O=Object(c.r)(u,{Voice:Object(c.n)(s.h),Facsimile:Object(c.n)(s.h)}),w=Object(c.r)(u,{Constraint:Object(c.m)((function(t,e){var r=t.getAttribute("name");if(!r)return;return Object(c.u)({name:r},m,t,e)}))}),M=Object(c.r)(u,{IndividualName:Object(c.n)(s.h),PositionName:Object(c.n)(s.h),ContactInfo:Object(c.n)((function(t,e){return Object(c.u)({},y,t,e)}))}),E=Object(c.r)(u,{Abstract:Object(c.n)(s.h),AccessConstraints:Object(c.n)(s.h),Fees:Object(c.n)(s.h),Title:Object(c.n)(s.h),ServiceTypeVersion:Object(c.n)(s.h),ServiceType:Object(c.n)(s.h)}),x=Object(c.r)(u,{ProviderName:Object(c.n)(s.h),ProviderSite:Object(c.n)(o.a),ServiceContact:Object(c.n)((function(t,e){return Object(c.u)({},M,t,e)}))});var S=f,j=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),P=[null,"http://www.opengis.net/wmts/1.0"],T=[null,"http://www.opengis.net/ows/1.1"],I=Object(c.r)(P,{Contents:Object(c.n)((function(t,e){return Object(c.u)({},R,t,e)}))}),L=function(t){function e(){var e=t.call(this)||this;return e.owsParser_=new S,e}return j(e,t),e.prototype.readFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null},e.prototype.readFromNode=function(t){var e=t.getAttribute("version");e&&(e=e.trim());var r=this.owsParser_.readFromNode(t);return r?(r.version=e,(r=Object(c.u)(r,I,t,[]))||null):null},e}(a.a),R=Object(c.r)(P,{Layer:Object(c.m)((function(t,e){return Object(c.u)({},C,t,e)})),TileMatrixSet:Object(c.m)((function(t,e){return Object(c.u)({},U,t,e)}))}),C=Object(c.r)(P,{Style:Object(c.m)((function(t,e){var r=Object(c.u)({},A,t,e);if(!r)return;var n="true"===t.getAttribute("isDefault");return r.isDefault=n,r})),Format:Object(c.m)(s.h),TileMatrixSetLink:Object(c.m)((function(t,e){return Object(c.u)({},k,t,e)})),Dimension:Object(c.m)((function(t,e){return Object(c.u)({},F,t,e)})),ResourceURL:Object(c.m)((function(t,e){var r=t.getAttribute("format"),n=t.getAttribute("template"),i=t.getAttribute("resourceType"),o={};r&&(o.format=r);n&&(o.template=n);i&&(o.resourceType=i);return o}))},Object(c.r)(T,{Title:Object(c.n)(s.h),Abstract:Object(c.n)(s.h),WGS84BoundingBox:Object(c.n)((function(t,e){var r=Object(c.u)([],B,t,e);if(2!=r.length)return;return Object(i.c)(r)})),Identifier:Object(c.n)(s.h)})),A=Object(c.r)(P,{LegendURL:Object(c.m)((function(t,e){var r={};return r.format=t.getAttribute("format"),r.href=Object(o.a)(t),r}))},Object(c.r)(T,{Title:Object(c.n)(s.h),Identifier:Object(c.n)(s.h)})),k=Object(c.r)(P,{TileMatrixSet:Object(c.n)(s.h),TileMatrixSetLimits:Object(c.n)((function(t,e){return Object(c.u)([],N,t,e)}))}),N=Object(c.r)(P,{TileMatrixLimits:Object(c.j)((function(t,e){return Object(c.u)({},D,t,e)}))}),D=Object(c.r)(P,{TileMatrix:Object(c.n)(s.h),MinTileRow:Object(c.n)(s.f),MaxTileRow:Object(c.n)(s.f),MinTileCol:Object(c.n)(s.f),MaxTileCol:Object(c.n)(s.f)}),F=Object(c.r)(P,{Default:Object(c.n)(s.h),Value:Object(c.m)(s.h)},Object(c.r)(T,{Identifier:Object(c.n)(s.h)})),B=Object(c.r)(T,{LowerCorner:Object(c.j)(z),UpperCorner:Object(c.j)(z)}),U=Object(c.r)(P,{WellKnownScaleSet:Object(c.n)(s.h),TileMatrix:Object(c.m)((function(t,e){return Object(c.u)({},G,t,e)}))},Object(c.r)(T,{SupportedCRS:Object(c.n)(s.h),Identifier:Object(c.n)(s.h)})),G=Object(c.r)(P,{TopLeftCorner:Object(c.n)(z),ScaleDenominator:Object(c.n)(s.d),TileWidth:Object(c.n)(s.f),TileHeight:Object(c.n)(s.f),MatrixWidth:Object(c.n)(s.f),MatrixHeight:Object(c.n)(s.f)},Object(c.r)(T,{Identifier:Object(c.n)(s.h)}));function z(t,e){var r=Object(s.h)(t).split(/\s+/);if(r&&2==r.length){var n=+r[0],i=+r[1];if(!isNaN(n)&&!isNaN(i))return[n,i]}}e.a=L},function(t,e,r){"use strict";e.a={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},function(t,e,r){"use strict";r.d(e,"a",(function(){return s})),r.d(e,"b",(function(){return l}));var n=r(34),i=r(2),o=r(14),a=r(4);function s(t,e,r,n){var o=Object(a.s)(r,e,t),s=Object(a.k)(e,n,r),c=e.getMetersPerUnit();void 0!==c&&(s*=c);var l=t.getMetersPerUnit();void 0!==l&&(s/=l);var u=t.getExtent();if(!u||Object(i.g)(u,o)){var h=Object(a.k)(t,s,o)/s;isFinite(h)&&h>0&&(s/=h)}return s}function c(t,e,r,n){var i=r-t,o=n-e,a=Math.sqrt(i*i+o*o);return[Math.round(r+i/a),Math.round(n+o/a)]}function l(t,e,r,a,s,l,u,h,f,p,d){var m=Object(n.a)(Math.round(r*t),Math.round(r*e));if(0===f.length)return m.canvas;m.scale(r,r);var y=Object(i.k)();f.forEach((function(t,e,r){Object(i.r)(y,t.extent)}));var g=Object(i.G)(y),_=Object(i.B)(y),b=Object(n.a)(Math.round(r*g/a),Math.round(r*_/a)),v=r/a;f.forEach((function(t,e,r){var n=t.extent[0]-y[0],o=-(t.extent[3]-y[3]),a=Object(i.G)(t.extent),s=Object(i.B)(t.extent);b.drawImage(t.image,p,p,t.image.width-2*p,t.image.height-2*p,n*v,o*v,a*v,s*v)}));var O=Object(i.E)(u);return h.getTriangles().forEach((function(t,e,n){var i=t.source,s=t.target,u=i[0][0],h=i[0][1],f=i[1][0],p=i[1][1],d=i[2][0],g=i[2][1],_=(s[0][0]-O[0])/l,v=-(s[0][1]-O[1])/l,w=(s[1][0]-O[0])/l,M=-(s[1][1]-O[1])/l,E=(s[2][0]-O[0])/l,x=-(s[2][1]-O[1])/l,S=u,j=h;u=0,h=0;var P=[[f-=S,p-=j,0,0,w-_],[d-=S,g-=j,0,0,E-_],[0,0,f,p,M-v],[0,0,d,g,x-v]],T=Object(o.e)(P);if(T){m.save(),m.beginPath();var I=(_+w+E)/3,L=(v+M+x)/3,R=c(I,L,_,v),C=c(I,L,w,M),A=c(I,L,E,x);m.moveTo(C[0],C[1]),m.lineTo(R[0],R[1]),m.lineTo(A[0],A[1]),m.clip(),m.transform(T[0],T[2],T[1],T[3],_,v),m.translate(y[0]-S,y[3]-j),m.scale(a/r,-a/r),m.drawImage(b.canvas,0,0),m.restore()}})),d&&(m.save(),m.strokeStyle="black",m.lineWidth=1,h.getTriangles().forEach((function(t,e,r){var n=t.target,i=(n[0][0]-O[0])/l,o=-(n[0][1]-O[1])/l,a=(n[1][0]-O[0])/l,s=-(n[1][1]-O[1])/l,c=(n[2][0]-O[0])/l,u=-(n[2][1]-O[1])/l;m.beginPath(),m.moveTo(a,s),m.lineTo(i,o),m.lineTo(c,u),m.closePath(),m.stroke()})),m.restore()),m.canvas}},function(t,e,r){"use strict";r.d(e,"b",(function(){return D}));var n,i=r(19),o=r(157),a=r(37),s=r(38),c=r(93),l=r(145),u=r(7),h=r(15),f=r(4),p=r(1),d=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),m={"http://www.opengis.net/gml":{boundedBy:Object(p.n)(s.b.prototype.readGeometryElement,"bounds")}},y={"http://www.opengis.net/wfs":{totalInserted:Object(p.n)(u.f),totalUpdated:Object(p.n)(u.f),totalDeleted:Object(p.n)(u.f)}},g={"http://www.opengis.net/wfs":{TransactionSummary:Object(p.n)((function(t,e){return Object(p.u)({},y,t,e)}),"transactionSummary"),InsertResults:Object(p.n)((function(t,e){return Object(p.u)([],S,t,e)}),"insertIds")}},_={"http://www.opengis.net/wfs":{PropertyName:Object(p.l)(u.n)}},b={"http://www.opengis.net/wfs":{Insert:Object(p.l)((function(t,e,r){var n=r[r.length-1],i=n.featureType,s=n.featureNS,c=n.gmlVersion,l=Object(p.c)(s,i);t.appendChild(l),2===c?o.a.prototype.writeFeatureElement(l,e,r):a.a.prototype.writeFeatureElement(l,e,r)})),Update:Object(p.l)((function(t,e,r){var n=r[r.length-1];Object(i.a)(void 0!==e.getId(),27);var o=n.featureType,a=n.featurePrefix,s=n.featureNS,c=P(a,o),l=e.getGeometryName();t.setAttribute("typeName",c),t.setAttributeNS(v,"xmlns:"+a,s);var u=e.getId();if(void 0!==u){for(var h=e.getKeys(),f=[],d=0,m=h.length;d<m;d++){var y=e.get(h[d]);if(void 0!==y){var g=h[d];y&&"function"==typeof y.getSimplifiedGeometry&&(g=l),f.push({name:g,value:y})}}Object(p.v)({gmlVersion:n.gmlVersion,node:t,hasZ:n.hasZ,srsName:n.srsName},b,Object(p.q)("Property"),f,r),j(t,u,r)}})),Delete:Object(p.l)((function(t,e,r){var n=r[r.length-1];Object(i.a)(void 0!==e.getId(),26);var o=n.featureType,a=n.featurePrefix,s=n.featureNS,c=P(a,o);t.setAttribute("typeName",c),t.setAttributeNS(v,"xmlns:"+a,s);var l=e.getId();void 0!==l&&j(t,l,r)})),Property:Object(p.l)((function(t,e,r){var n=Object(p.c)(w,"Name"),i=r[r.length-1].gmlVersion;if(t.appendChild(n),Object(u.n)(n,e.name),void 0!==e.value&&null!==e.value){var s=Object(p.c)(w,"Value");t.appendChild(s),e.value&&"function"==typeof e.value.getSimplifiedGeometry?2===i?o.a.prototype.writeGeometryElement(s,e.value,r):a.a.prototype.writeGeometryElement(s,e.value,r):Object(u.n)(s,e.value)}})),Native:Object(p.l)((function(t,e,r){e.vendorId&&t.setAttribute("vendorId",e.vendorId);void 0!==e.safeToIgnore&&t.setAttribute("safeToIgnore",String(e.safeToIgnore));void 0!==e.value&&Object(u.n)(t,e.value)}))}},v="http://www.w3.org/2000/xmlns/",O="http://www.opengis.net/ogc",w="http://www.opengis.net/wfs",M={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},E=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.featureType_=n.featureType,r.featureNS_=n.featureNS,r.gmlFormat_=n.gmlFormat?n.gmlFormat:new a.a,r.schemaLocation_=n.schemaLocation?n.schemaLocation:M["1.1.0"],r}return d(e,t),e.prototype.getFeatureType=function(){return this.featureType_},e.prototype.setFeatureType=function(t){this.featureType_=t},e.prototype.readFeaturesFromNode=function(t,e){var r={node:t};Object(h.a)(r,{featureType:this.featureType_,featureNS:this.featureNS_}),Object(h.a)(r,this.getReadOptions(t,e||{}));var n=[r];this.gmlFormat_.FEATURE_COLLECTION_PARSERS[s.a].featureMember=Object(p.j)(s.b.prototype.readFeaturesInternal);var i=Object(p.u)([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,t,n,this.gmlFormat_);return i||(i=[]),i},e.prototype.readTransactionResponse=function(t){if(t){if("string"==typeof t){var e=Object(p.s)(t);return this.readTransactionResponseFromDocument(e)}return Object(p.h)(t)?this.readTransactionResponseFromDocument(t):this.readTransactionResponseFromNode(t)}},e.prototype.readFeatureCollectionMetadata=function(t){if(t){if("string"==typeof t){var e=Object(p.s)(t);return this.readFeatureCollectionMetadataFromDocument(e)}return Object(p.h)(t)?this.readFeatureCollectionMetadataFromDocument(t):this.readFeatureCollectionMetadataFromNode(t)}},e.prototype.readFeatureCollectionMetadataFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(e)},e.prototype.readFeatureCollectionMetadataFromNode=function(t){var e={},r=Object(u.g)(t.getAttribute("numberOfFeatures"));return e.numberOfFeatures=r,Object(p.u)(e,m,t,[],this.gmlFormat_)},e.prototype.readTransactionResponseFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(e)},e.prototype.readTransactionResponseFromNode=function(t){return Object(p.u)({},g,t,[])},e.prototype.writeGetFeature=function(t){var e,r=Object(p.c)(w,"GetFeature");if(r.setAttribute("service","WFS"),r.setAttribute("version","1.1.0"),t&&(t.handle&&r.setAttribute("handle",t.handle),t.outputFormat&&r.setAttribute("outputFormat",t.outputFormat),void 0!==t.maxFeatures&&r.setAttribute("maxFeatures",String(t.maxFeatures)),t.resultType&&r.setAttribute("resultType",t.resultType),void 0!==t.startIndex&&r.setAttribute("startIndex",String(t.startIndex)),void 0!==t.count&&r.setAttribute("count",String(t.count)),void 0!==t.viewParams&&r.setAttribute("viewParams",t.viewParams),e=t.filter,t.bbox)){Object(i.a)(t.geometryName,12);var n=Object(c.b)(t.geometryName,t.bbox,t.srsName);e=e?Object(c.a)(e,n):n}r.setAttributeNS(p.b,"xsi:schemaLocation",this.schemaLocation_);var o={node:r};return Object(h.a)(o,{srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.featureNS_,featurePrefix:t.featurePrefix,geometryName:t.geometryName,filter:e,propertyNames:t.propertyNames?t.propertyNames:[]}),Object(i.a)(Array.isArray(t.featureTypes),11),function(t,e,r){var n=r[r.length-1],i=Object(h.a)({},n);i.node=t,Object(p.v)(i,T,Object(p.q)("Query"),e,r)}(r,t.featureTypes,[o]),r},e.prototype.writeTransaction=function(t,e,r,n){var i,o,a=[],s=Object(p.c)(w,"Transaction"),c=n.version?n.version:"1.1.0",l="1.0.0"===c?2:3;s.setAttribute("service","WFS"),s.setAttribute("version",c),n&&(i=n.gmlOptions?n.gmlOptions:{},n.handle&&s.setAttribute("handle",n.handle));var u=M[c];s.setAttributeNS(p.b,"xsi:schemaLocation",u);var f=n.featurePrefix?n.featurePrefix:"feature";return t&&(o=Object(h.a)({node:s},{featureNS:n.featureNS,featureType:n.featureType,featurePrefix:f,gmlVersion:l,hasZ:n.hasZ,srsName:n.srsName}),Object(h.a)(o,i),Object(p.v)(o,b,Object(p.q)("Insert"),t,a)),e&&(o=Object(h.a)({node:s},{featureNS:n.featureNS,featureType:n.featureType,featurePrefix:f,gmlVersion:l,hasZ:n.hasZ,srsName:n.srsName}),Object(h.a)(o,i),Object(p.v)(o,b,Object(p.q)("Update"),e,a)),r&&Object(p.v)({node:s,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:f,gmlVersion:l,srsName:n.srsName},b,Object(p.q)("Delete"),r,a),n.nativeElements&&Object(p.v)({node:s,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:f,gmlVersion:l,srsName:n.srsName},b,Object(p.q)("Native"),n.nativeElements,a),s},e.prototype.readProjectionFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(e);return null},e.prototype.readProjectionFromNode=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild)for(var e=(t=t.firstElementChild.firstElementChild).firstElementChild;e;e=e.nextElementSibling)if(0!==e.childNodes.length&&(1!==e.childNodes.length||3!==e.firstChild.nodeType)){var r=[{}];return this.gmlFormat_.readGeometryElement(e,r),Object(f.j)(r.pop().srsName)}return null},e}(l.a);var x={"http://www.opengis.net/ogc":{FeatureId:Object(p.j)((function(t,e){return t.getAttribute("fid")}))}};var S={"http://www.opengis.net/wfs":{Feature:function(t,e){Object(p.t)(x,t,e)}}};function j(t,e,r){var n=Object(p.c)(O,"Filter"),i=Object(p.c)(O,"FeatureId");n.appendChild(i),i.setAttribute("fid",e),t.appendChild(n)}function P(t,e){var r=(t=t||"feature")+":";return 0===e.indexOf(r)?e:r+e}var T={"http://www.opengis.net/wfs":{Query:Object(p.l)((function(t,e,r){var n,i=r[r.length-1],o=i.featurePrefix,a=i.featureNS,s=i.propertyNames,c=i.srsName;n=o?P(o,e):e;t.setAttribute("typeName",n),c&&t.setAttribute("srsName",c);a&&t.setAttributeNS(v,"xmlns:"+o,a);var l=Object(h.a)({},i);l.node=t,Object(p.v)(l,_,Object(p.q)("PropertyName"),s,r);var u=i.filter;if(u){var f=Object(p.c)(O,"Filter");t.appendChild(f),I(f,u,r)}}))},"http://www.opengis.net/ogc":{During:Object(p.l)((function(t,e,r){var n=Object(p.c)("http://www.opengis.net/fes","ValueReference");Object(u.n)(n,e.propertyName),t.appendChild(n);var i=Object(p.c)(s.a,"TimePeriod");t.appendChild(i);var o=Object(p.c)(s.a,"begin");i.appendChild(o),N(o,e.begin);var a=Object(p.c)(s.a,"end");i.appendChild(a),N(a,e.end)})),And:Object(p.l)(L),Or:Object(p.l)(L),Not:Object(p.l)((function(t,e,r){var n={node:t},i=e.condition;Object(p.v)(n,T,Object(p.q)(i.getTagName()),[i],r)})),BBOX:Object(p.l)((function(t,e,r){r[r.length-1].srsName=e.srsName,A(t,e.geometryName),a.a.prototype.writeGeometryElement(t,e.extent,r)})),Contains:Object(p.l)((function(t,e,r){r[r.length-1].srsName=e.srsName,A(t,e.geometryName),a.a.prototype.writeGeometryElement(t,e.geometry,r)})),Intersects:Object(p.l)((function(t,e,r){r[r.length-1].srsName=e.srsName,A(t,e.geometryName),a.a.prototype.writeGeometryElement(t,e.geometry,r)})),Within:Object(p.l)((function(t,e,r){r[r.length-1].srsName=e.srsName,A(t,e.geometryName),a.a.prototype.writeGeometryElement(t,e.geometry,r)})),PropertyIsEqualTo:Object(p.l)(R),PropertyIsNotEqualTo:Object(p.l)(R),PropertyIsLessThan:Object(p.l)(R),PropertyIsLessThanOrEqualTo:Object(p.l)(R),PropertyIsGreaterThan:Object(p.l)(R),PropertyIsGreaterThanOrEqualTo:Object(p.l)(R),PropertyIsNull:Object(p.l)((function(t,e,r){A(t,e.propertyName)})),PropertyIsBetween:Object(p.l)((function(t,e,r){A(t,e.propertyName);var n=Object(p.c)(O,"LowerBoundary");t.appendChild(n),k(n,""+e.lowerBoundary);var i=Object(p.c)(O,"UpperBoundary");t.appendChild(i),k(i,""+e.upperBoundary)})),PropertyIsLike:Object(p.l)((function(t,e,r){t.setAttribute("wildCard",e.wildCard),t.setAttribute("singleChar",e.singleChar),t.setAttribute("escapeChar",e.escapeChar),void 0!==e.matchCase&&t.setAttribute("matchCase",e.matchCase.toString());A(t,e.propertyName),k(t,""+e.pattern)}))}};function I(t,e,r){var n={node:t};Object(p.v)(n,T,Object(p.q)(e.getTagName()),[e],r)}function L(t,e,r){for(var n={node:t},i=e.conditions,o=0,a=i.length;o<a;++o){var s=i[o];Object(p.v)(n,T,Object(p.q)(s.getTagName()),[s],r)}}function R(t,e,r){void 0!==e.matchCase&&t.setAttribute("matchCase",e.matchCase.toString()),A(t,e.propertyName),k(t,""+e.expression)}function C(t,e,r){var n=Object(p.c)(O,t);Object(u.n)(n,r),e.appendChild(n)}function A(t,e){C("PropertyName",t,e)}function k(t,e){C("Literal",t,e)}function N(t,e){var r=Object(p.c)(s.a,"TimeInstant");t.appendChild(r);var n=Object(p.c)(s.a,"timePosition");r.appendChild(n),Object(u.n)(n,e)}function D(t){var e=Object(p.c)(O,"Filter");return I(e,t,[]),e}e.a=E},function(t,e,r){"use strict";function n(t,e){return[[-1/0,-1/0,1/0,1/0]]}function i(t,e){return[t]}function o(t){return function(e,r){var n=t.getZForResolution(r),i=t.getTileRangeForExtentAndZ(e,n),o=[],a=[n,0,0];for(a[1]=i.minX;a[1]<=i.maxX;++a[1])for(a[2]=i.minY;a[2]<=i.maxY;++a[2])o.push(t.getTileCoordExtent(a));return o}}r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return o}))},function(t,e,r){"use strict";var n=r(37).a;n.prototype.writeFeatures,n.prototype.writeFeaturesNode,e.a=n},function(t,e,r){"use strict";r.d(e,"c",(function(){return i})),r.d(e,"d",(function(){return o})),r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return s}));var n=r(14);function i(t){return void 0!==t?0:void 0}function o(t){return void 0!==t?t:void 0}function a(t){var e=2*Math.PI/t;return function(t,r){return r?t:void 0!==t?t=Math.floor(t/e+.5)*e:void 0}}function s(t){var e=t||Object(n.i)(5);return function(t,r){return r?t:void 0!==t?Math.abs(t)<=e?0:t:void 0}}},function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var n="1.3.0"},function(t,e,r){"use strict";e.a={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}},function(t,e,r){"use strict";var n,i=r(280),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(t){function e(e,r,n,i,o){var a=t.call(this,e,r,n,i,o)||this;return a.pointerEvent=n,a}return o(e,t),e}(i.a);e.a=a},function(t,e,r){"use strict";e.a={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){(function(t){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var a;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(749).Buffer}catch(t){}function s(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function c(t,e,r){var n=s(t,r);return r-1>=e&&(n|=s(t,r-1)<<4),n}function l(t,e,r,n){for(var i=0,o=Math.min(t.length,r),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=c(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=c(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,s=Math.min(o,o-a)+r,c=0,u=r;u<s;u+=n)c=l(t,u,u+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var h=1;for(c=l(t,u,t.length,e),u=0;u<a;u++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function p(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,c=a/67108864|0;r.words[0]=s;for(var l=1;l<n;l++){for(var u=c>>>26,h=67108863&c,f=Math.min(l,e.length-1),p=Math.max(0,l-t.length+1);p<=f;p++){var d=l-p|0;u+=(a=(i=0|t.words[d])*(o=0|e.words[p])+h)/67108864|0,h=67108863&a}r.words[l]=0|h,c=0|u}return 0!==c?r.words[l]=0|c:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<i|o)).toString(16);r=0!==(o=s>>>24-i&16777215)||a!==this.length-1?u[6-c.length]+c+r:c+r,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=h[t],p=f[t];r="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modn(p).toString(t);r=(d=d.idivn(p)).isZero()?m+r:u[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==a),this.toArrayLike(a,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var a,s,c="le"===e,l=new t(o),u=this.clone();if(c){for(s=0;!u.isZero();s++)a=u.andln(255),u.iushrn(8),l[s]=a;for(;s<o;s++)l[s]=0}else{for(s=0;s<o-i;s++)l[s]=0;for(s=0;!u.isZero();s++)a=u.andln(255),u.iushrn(8),l[o-s-1]=a}return l},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,a=0;a<n.length;a++)o=(e=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var n,i,o,a=t.words,s=e.words,c=r.words,l=0,u=0|a[0],h=8191&u,f=u>>>13,p=0|a[1],d=8191&p,m=p>>>13,y=0|a[2],g=8191&y,_=y>>>13,b=0|a[3],v=8191&b,O=b>>>13,w=0|a[4],M=8191&w,E=w>>>13,x=0|a[5],S=8191&x,j=x>>>13,P=0|a[6],T=8191&P,I=P>>>13,L=0|a[7],R=8191&L,C=L>>>13,A=0|a[8],k=8191&A,N=A>>>13,D=0|a[9],F=8191&D,B=D>>>13,U=0|s[0],G=8191&U,z=U>>>13,W=0|s[1],X=8191&W,q=W>>>13,V=0|s[2],Y=8191&V,Z=V>>>13,K=0|s[3],H=8191&K,J=K>>>13,Q=0|s[4],$=8191&Q,tt=Q>>>13,et=0|s[5],rt=8191&et,nt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ct=8191&st,lt=st>>>13,ut=0|s[8],ht=8191&ut,ft=ut>>>13,pt=0|s[9],dt=8191&pt,mt=pt>>>13;r.negative=t.negative^e.negative,r.length=19;var yt=(l+(n=Math.imul(h,G))|0)+((8191&(i=(i=Math.imul(h,z))+Math.imul(f,G)|0))<<13)|0;l=((o=Math.imul(f,z))+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(d,G),i=(i=Math.imul(d,z))+Math.imul(m,G)|0,o=Math.imul(m,z);var gt=(l+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,q)|0)+Math.imul(f,X)|0))<<13)|0;l=((o=o+Math.imul(f,q)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(g,G),i=(i=Math.imul(g,z))+Math.imul(_,G)|0,o=Math.imul(_,z),n=n+Math.imul(d,X)|0,i=(i=i+Math.imul(d,q)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,q)|0;var _t=(l+(n=n+Math.imul(h,Y)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,Z)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(v,G),i=(i=Math.imul(v,z))+Math.imul(O,G)|0,o=Math.imul(O,z),n=n+Math.imul(g,X)|0,i=(i=i+Math.imul(g,q)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,q)|0,n=n+Math.imul(d,Y)|0,i=(i=i+Math.imul(d,Z)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,Z)|0;var bt=(l+(n=n+Math.imul(h,H)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(f,H)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(M,G),i=(i=Math.imul(M,z))+Math.imul(E,G)|0,o=Math.imul(E,z),n=n+Math.imul(v,X)|0,i=(i=i+Math.imul(v,q)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,q)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,Z)|0,n=n+Math.imul(d,H)|0,i=(i=i+Math.imul(d,J)|0)+Math.imul(m,H)|0,o=o+Math.imul(m,J)|0;var vt=(l+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,$)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(S,G),i=(i=Math.imul(S,z))+Math.imul(j,G)|0,o=Math.imul(j,z),n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,q)|0)+Math.imul(E,X)|0,o=o+Math.imul(E,q)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,Z)|0,n=n+Math.imul(g,H)|0,i=(i=i+Math.imul(g,J)|0)+Math.imul(_,H)|0,o=o+Math.imul(_,J)|0,n=n+Math.imul(d,$)|0,i=(i=i+Math.imul(d,tt)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,tt)|0;var Ot=(l+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(T,G),i=(i=Math.imul(T,z))+Math.imul(I,G)|0,o=Math.imul(I,z),n=n+Math.imul(S,X)|0,i=(i=i+Math.imul(S,q)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,q)|0,n=n+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,Z)|0,n=n+Math.imul(v,H)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(O,H)|0,o=o+Math.imul(O,J)|0,n=n+Math.imul(g,$)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(d,rt)|0,i=(i=i+Math.imul(d,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var wt=(l+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,at)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,at)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(R,G),i=(i=Math.imul(R,z))+Math.imul(C,G)|0,o=Math.imul(C,z),n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,q)|0)+Math.imul(I,X)|0,o=o+Math.imul(I,q)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(j,Y)|0,o=o+Math.imul(j,Z)|0,n=n+Math.imul(M,H)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(E,H)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(g,rt)|0,i=(i=i+Math.imul(g,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(d,ot)|0,i=(i=i+Math.imul(d,at)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0;var Mt=(l+(n=n+Math.imul(h,ct)|0)|0)+((8191&(i=(i=i+Math.imul(h,lt)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(k,G),i=(i=Math.imul(k,z))+Math.imul(N,G)|0,o=Math.imul(N,z),n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,q)|0)+Math.imul(C,X)|0,o=o+Math.imul(C,q)|0,n=n+Math.imul(T,Y)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(I,Y)|0,o=o+Math.imul(I,Z)|0,n=n+Math.imul(S,H)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(j,H)|0,o=o+Math.imul(j,J)|0,n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,at)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,at)|0,n=n+Math.imul(d,ct)|0,i=(i=i+Math.imul(d,lt)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,lt)|0;var Et=(l+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(f,ht)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(F,G),i=(i=Math.imul(F,z))+Math.imul(B,G)|0,o=Math.imul(B,z),n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,q)|0)+Math.imul(N,X)|0,o=o+Math.imul(N,q)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,Z)|0,n=n+Math.imul(T,H)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(I,H)|0,o=o+Math.imul(I,J)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(j,$)|0,o=o+Math.imul(j,tt)|0,n=n+Math.imul(M,rt)|0,i=(i=i+Math.imul(M,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,n=n+Math.imul(g,ct)|0,i=(i=i+Math.imul(g,lt)|0)+Math.imul(_,ct)|0,o=o+Math.imul(_,lt)|0,n=n+Math.imul(d,ht)|0,i=(i=i+Math.imul(d,ft)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,ft)|0;var xt=(l+(n=n+Math.imul(h,dt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(f,dt)|0))<<13)|0;l=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(F,X),i=(i=Math.imul(F,q))+Math.imul(B,X)|0,o=Math.imul(B,q),n=n+Math.imul(k,Y)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,Z)|0,n=n+Math.imul(R,H)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(C,H)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(j,rt)|0,o=o+Math.imul(j,nt)|0,n=n+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,at)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,at)|0,n=n+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(O,ct)|0,o=o+Math.imul(O,lt)|0,n=n+Math.imul(g,ht)|0,i=(i=i+Math.imul(g,ft)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,ft)|0;var St=(l+(n=n+Math.imul(d,dt)|0)|0)+((8191&(i=(i=i+Math.imul(d,mt)|0)+Math.imul(m,dt)|0))<<13)|0;l=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(F,Y),i=(i=Math.imul(F,Z))+Math.imul(B,Y)|0,o=Math.imul(B,Z),n=n+Math.imul(k,H)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(N,H)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(I,rt)|0,o=o+Math.imul(I,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,at)|0)+Math.imul(j,ot)|0,o=o+Math.imul(j,at)|0,n=n+Math.imul(M,ct)|0,i=(i=i+Math.imul(M,lt)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,lt)|0,n=n+Math.imul(v,ht)|0,i=(i=i+Math.imul(v,ft)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,ft)|0;var jt=(l+(n=n+Math.imul(g,dt)|0)|0)+((8191&(i=(i=i+Math.imul(g,mt)|0)+Math.imul(_,dt)|0))<<13)|0;l=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(jt>>>26)|0,jt&=67108863,n=Math.imul(F,H),i=(i=Math.imul(F,J))+Math.imul(B,H)|0,o=Math.imul(B,J),n=n+Math.imul(k,$)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(T,ot)|0,i=(i=i+Math.imul(T,at)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,at)|0,n=n+Math.imul(S,ct)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(j,ct)|0,o=o+Math.imul(j,lt)|0,n=n+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,ft)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,ft)|0;var Pt=(l+(n=n+Math.imul(v,dt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(O,dt)|0))<<13)|0;l=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(F,$),i=(i=Math.imul(F,tt))+Math.imul(B,$)|0,o=Math.imul(B,tt),n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,at)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,at)|0,n=n+Math.imul(T,ct)|0,i=(i=i+Math.imul(T,lt)|0)+Math.imul(I,ct)|0,o=o+Math.imul(I,lt)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(j,ht)|0,o=o+Math.imul(j,ft)|0;var Tt=(l+(n=n+Math.imul(M,dt)|0)|0)+((8191&(i=(i=i+Math.imul(M,mt)|0)+Math.imul(E,dt)|0))<<13)|0;l=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(F,rt),i=(i=Math.imul(F,nt))+Math.imul(B,rt)|0,o=Math.imul(B,nt),n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,at)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,at)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(C,ct)|0,o=o+Math.imul(C,lt)|0,n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,ft)|0)+Math.imul(I,ht)|0,o=o+Math.imul(I,ft)|0;var It=(l+(n=n+Math.imul(S,dt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(j,dt)|0))<<13)|0;l=((o=o+Math.imul(j,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(F,ot),i=(i=Math.imul(F,at))+Math.imul(B,ot)|0,o=Math.imul(B,at),n=n+Math.imul(k,ct)|0,i=(i=i+Math.imul(k,lt)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,lt)|0,n=n+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(C,ht)|0,o=o+Math.imul(C,ft)|0;var Lt=(l+(n=n+Math.imul(T,dt)|0)|0)+((8191&(i=(i=i+Math.imul(T,mt)|0)+Math.imul(I,dt)|0))<<13)|0;l=((o=o+Math.imul(I,mt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,n=Math.imul(F,ct),i=(i=Math.imul(F,lt))+Math.imul(B,ct)|0,o=Math.imul(B,lt),n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,ft)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,ft)|0;var Rt=(l+(n=n+Math.imul(R,dt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(C,dt)|0))<<13)|0;l=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(F,ht),i=(i=Math.imul(F,ft))+Math.imul(B,ht)|0,o=Math.imul(B,ft);var Ct=(l+(n=n+Math.imul(k,dt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(N,dt)|0))<<13)|0;l=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863;var At=(l+(n=Math.imul(F,dt))|0)+((8191&(i=(i=Math.imul(F,mt))+Math.imul(B,dt)|0))<<13)|0;return l=((o=Math.imul(B,mt))+(i>>>13)|0)+(At>>>26)|0,At&=67108863,c[0]=yt,c[1]=gt,c[2]=_t,c[3]=bt,c[4]=vt,c[5]=Ot,c[6]=wt,c[7]=Mt,c[8]=Et,c[9]=xt,c[10]=St,c[11]=jt,c[12]=Pt,c[13]=Tt,c[14]=It,c[15]=Lt,c[16]=Rt,c[17]=Ct,c[18]=At,0!==l&&(c[19]=l,r.length++),r};function m(t,e,r){return(new y).mulp(t,e,r)}function y(t,e){this.x=t,this.y=e}Math.imul||(d=p),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?d(this,t,e):r<63?p(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,c=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=c;l++){var u=o-l,h=(0|t.words[u])*(0|e.words[l]),f=67108863&h;s=67108863&(f=f+s|0),i+=(a=(a=a+(h/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):m(this,t,e)},y.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},y.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},y.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},y.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),u=0;u<i;u+=s)for(var h=c,f=l,p=0;p<a;p++){var d=r[u+p],m=n[u+p],y=r[u+p+a],g=n[u+p+a],_=h*y-f*g;g=h*g+f*y,y=_,r[u+p]=d+y,n[u+p]=m+g,r[u+p+a]=d-y,n[u+p+a]=m-g,p!==s&&(_=c*h-l*f,f=c*f+l*h,h=_)}},y.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},y.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},y.prototype.convert13b=function(t,e,r,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)r[a]=0;n(0===o),n(0==(-8192&o))},y.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},y.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),c=new Array(n),l=new Array(n),u=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,l,n),this.transform(a,o,s,c,n,i),this.transform(l,o,u,h,n,i);for(var p=0;p<n;p++){var d=s[p]*u[p]-c[p]*h[p];c[p]=s[p]*h[p]+c[p]*u[p],s[p]=d}return this.conjugate(s,c,n),this.transform(s,c,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),m(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,c=(0|this.words[e])-s<<r;this.words[e]=c|a,a=s>>>26-r}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,c=r;if(i-=a,i=Math.max(0,i),c){for(var l=0;l<a;l++)c.words[l]=this.words[l];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=i);l--){var h=0|this.words[l];this.words[l]=u<<26-o|h>>>o,u=h&s}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,a=t.length+r;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+s;var c=(0|t.words[i])*e;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this.strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var s,c=n.length-i.length;if("mod"!==e){(s=new o(null)).length=c+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var u=n.clone()._ishlnsubmul(i,1,c);0===u.negative&&(n=u,s&&(s.words[c]=1));for(var h=c-1;h>=0;h--){var f=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(f=Math.min(f/a|0,67108863),n._ishlnsubmul(i,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);s&&(s.words[h]=f)}return s&&s.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),c=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var u=r.clone(),h=e.clone();!e.isZero();){for(var f=0,p=1;0==(e.words[0]&p)&&f<26;++f,p<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(u),a.isub(h)),i.iushrn(1),a.iushrn(1);for(var d=0,m=1;0==(r.words[0]&m)&&d<26;++d,m<<=1);if(d>0)for(r.iushrn(d);d-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(u),c.isub(h)),s.iushrn(1),c.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(s),a.isub(c)):(r.isub(e),s.isub(i),c.isub(a))}return{a:s,b:c,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),c=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,u=1;0==(e.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(e.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var h=0,f=1;0==(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);e.cmp(r)>=0?(e.isub(r),a.isub(s)):(r.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new M(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function E(t){M.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(b,_),b.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(v,_),i(O,_),i(w,_),w.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new v;else if("p192"===t)e=new O;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new w}return g[t]=e,e},M.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},M.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},M.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},M.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},M.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},M.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},M.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},M.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},M.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},M.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},M.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},M.prototype.isqr=function(t){return this.imul(t,t.clone())},M.prototype.sqr=function(t){return this.mul(t,t)},M.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),c=s.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new o(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var h=this.pow(u,i),f=this.pow(t,i.addn(1).iushrn(1)),p=this.pow(t,i),d=a;0!==p.cmp(s);){for(var m=p,y=0;0!==m.cmp(s);y++)m=m.redSqr();n(y<d);var g=this.pow(h,new o(1).iushln(d-y-1));f=f.redMul(g),h=g.redSqr(),p=p.redMul(h),d=y}return f},M.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},M.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],a=0,s=0,c=e.bitLength()%26;for(0===c&&(c=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],u=c-1;u>=0;u--){var h=l>>u&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===n&&0===u)&&(i=this.mul(i,r[a]),s=0,a=0)):s=0}c=26}return i},M.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},M.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new E(t)},i(E,M),E.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},E.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},E.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},E.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},E.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,r(193)(t))},function(t,e,r){"use strict";var n,i=r(189),o=r(19),a=r(2),s=r(15),c=r(14),l=r(4),u=r(184),h=r(56),f=r(108),p=r(128),d=r(63),m=r(149),y=r(123),g=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),_=function(t){function e(e){var r=this,n=e||{},i=n.params||{},o=!("TRANSPARENT"in i)||i.TRANSPARENT;return(r=t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,opaque:!o,projection:n.projection,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileClass:n.tileClass,tileGrid:n.tileGrid,tileLoadFunction:n.tileLoadFunction,tileUrlFunction:b,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition})||this).gutter_=void 0!==n.gutter?n.gutter:0,r.params_=i,r.v13_=!0,r.serverType_=n.serverType,r.hidpi_=void 0===n.hidpi||n.hidpi,r.tmpExtent_=Object(a.k)(),r.updateV13_(),r.setKey(r.getKeyForParams_()),r}return g(e,t),e.prototype.getFeatureInfoUrl=function(t,e,r,n){var o=Object(l.j)(r),c=this.getProjection(),f=this.getTileGrid();f||(f=this.getTileGridForProjection(o));var p=f.getZForResolution(e,this.zDirection),d=f.getTileCoordForCoordAndZ(t,p);if(!(f.getResolutions().length<=d[0])){var m=f.getResolution(d[0]),y=f.getTileCoordExtent(d,this.tmpExtent_),g=Object(h.d)(f.getTileSize(d[0]),this.tmpSize),_=this.gutter_;0!==_&&(g=Object(h.a)(g,_,this.tmpSize),y=Object(a.d)(y,m*_,y)),c&&c!==o&&(m=Object(u.a)(c,o,t,m),y=Object(l.t)(y,o,c),t=Object(l.s)(t,o,c));var b={SERVICE:"WMS",VERSION:i.a,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(s.a)(b,this.params_,n);var v=Math.floor((t[0]-y[0])/m),O=Math.floor((y[3]-t[1])/m);return b[this.v13_?"I":"X"]=v,b[this.v13_?"J":"Y"]=O,this.getRequestUrl_(d,g,y,1,c||o,b)}},e.prototype.getLegendUrl=function(t,e){if(void 0!==this.urls[0]){var r={SERVICE:"WMS",VERSION:i.a,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===e||void 0===e.LAYER){var n=this.params_.LAYERS;if(!(!Array.isArray(n)||1===n.length))return;r.LAYER=n}if(void 0!==t){var o=this.getProjection()?this.getProjection().getMetersPerUnit():1;r.SCALE=t*o*39.37*(25.4/.28)}return Object(s.a)(r,e),Object(y.a)(this.urls[0],r)}},e.prototype.getGutter=function(){return this.gutter_},e.prototype.getParams=function(){return this.params_},e.prototype.getRequestUrl_=function(t,e,r,n,i,a){var s=this.urls;if(s){if(a.WIDTH=e[0],a.HEIGHT=e[1],a[this.v13_?"CRS":"SRS"]=i.getCode(),"STYLES"in this.params_||(a.STYLES=""),1!=n)switch(this.serverType_){case p.e.GEOSERVER:var l=90*n+.5|0;"FORMAT_OPTIONS"in a?a.FORMAT_OPTIONS+=";dpi:"+l:a.FORMAT_OPTIONS="dpi:"+l;break;case p.e.MAPSERVER:a.MAP_RESOLUTION=90*n;break;case p.e.CARMENTA_SERVER:case p.e.QGIS:a.DPI=90*n;break;default:Object(o.a)(!1,52)}var u,h=i.getAxisOrientation(),f=r;if(this.v13_&&"ne"==h.substr(0,2)){var m=void 0;m=r[0],f[0]=r[1],f[1]=m,m=r[2],f[2]=r[3],f[3]=m}if(a.BBOX=f.join(","),1==s.length)u=s[0];else u=s[Object(c.d)(Object(d.e)(t),s.length)];return Object(y.a)(u,a)}},e.prototype.getTilePixelRatio=function(t){return this.hidpi_&&void 0!==this.serverType_?t:1},e.prototype.getKeyForParams_=function(){var t=0,e=[];for(var r in this.params_)e[t++]=r+"-"+this.params_[r];return e.join("/")},e.prototype.updateParams=function(t){Object(s.a)(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())},e.prototype.updateV13_=function(){var t=this.params_.VERSION||i.a;this.v13_=Object(m.a)(t,"1.3")>=0},e}(f.a);function b(t,e,r){var n=this.getTileGrid();if(n||(n=this.getTileGridForProjection(r)),!(n.getResolutions().length<=t[0])){1==e||this.hidpi_&&void 0!==this.serverType_||(e=1);var o=n.getResolution(t[0]),c=n.getTileCoordExtent(t,this.tmpExtent_),l=Object(h.d)(n.getTileSize(t[0]),this.tmpSize),u=this.gutter_;0!==u&&(l=Object(h.a)(l,u,this.tmpSize),c=Object(a.d)(c,o*u,c)),1!=e&&(l=Object(h.c)(l,e,this.tmpSize));var f={SERVICE:"WMS",VERSION:i.a,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return Object(s.a)(f,this.params_),this.getRequestUrl_(t,l,c,e,r,f)}}e.a=_},function(t,e,r){"use strict";var n,i=r(189),o=r(143),a=r(19),s=r(16),c=r(2),l=r(15),u=r(4),h=r(184),f=r(96),p=r(128),d=r(149),m=r(123),y=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),g=[101,101],_=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this,{attributions:n.attributions,projection:n.projection,resolutions:n.resolutions})||this).crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null,r.url_=n.url,r.imageLoadFunction_=void 0!==n.imageLoadFunction?n.imageLoadFunction:f.b,r.params_=n.params||{},r.v13_=!0,r.updateV13_(),r.serverType_=n.serverType,r.hidpi_=void 0===n.hidpi||n.hidpi,r.image_=null,r.imageSize_=[0,0],r.renderedRevision_=0,r.ratio_=void 0!==n.ratio?n.ratio:1.5,r}return y(e,t),e.prototype.getFeatureInfoUrl=function(t,e,r,n){if(void 0!==this.url_){var o=Object(u.j)(r),a=this.getProjection();a&&a!==o&&(e=Object(h.a)(a,o,t,e),t=Object(u.s)(t,o,a));var s=Object(c.A)(t,e,0,g),f={SERVICE:"WMS",VERSION:i.a,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(l.a)(f,this.params_,n);var p=Math.floor((t[0]-s[0])/e),d=Math.floor((s[3]-t[1])/e);return f[this.v13_?"I":"X"]=p,f[this.v13_?"J":"Y"]=d,this.getRequestUrl_(s,g,1,a||o,f)}},e.prototype.getLegendUrl=function(t,e){if(void 0!==this.url_){var r={SERVICE:"WMS",VERSION:i.a,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===e||void 0===e.LAYER){var n=this.params_.LAYERS;if(!(!Array.isArray(n)||1===n.length))return;r.LAYER=n}if(void 0!==t){var o=this.getProjection()?this.getProjection().getMetersPerUnit():1;r.SCALE=t*o*39.37*(25.4/.28)}return Object(l.a)(r,e),Object(m.a)(this.url_,r)}},e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,r,n){if(void 0===this.url_)return null;e=this.findNearestResolution(e),1==r||this.hidpi_&&void 0!==this.serverType_||(r=1);var a=e/r,u=Object(c.y)(t),h=Math.ceil(Object(c.G)(t)/a),f=Math.ceil(Object(c.B)(t)/a),p=Object(c.A)(u,a,0,[h,f]),d=Math.ceil(this.ratio_*Object(c.G)(t)/a),m=Math.ceil(this.ratio_*Object(c.B)(t)/a),y=Object(c.A)(u,a,0,[d,m]),g=this.image_;if(g&&this.renderedRevision_==this.getRevision()&&g.getResolution()==e&&g.getPixelRatio()==r&&Object(c.h)(g.getExtent(),p))return g;var _={SERVICE:"WMS",VERSION:i.a,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};Object(l.a)(_,this.params_),this.imageSize_[0]=Math.round(Object(c.G)(y)/a),this.imageSize_[1]=Math.round(Object(c.B)(y)/a);var b=this.getRequestUrl_(y,this.imageSize_,r,n,_);return this.image_=new o.a(y,e,r,b,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(s.a.CHANGE,this.handleImageChange.bind(this)),this.image_},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.getRequestUrl_=function(t,e,r,n,i){if(Object(a.a)(void 0!==this.url_,9),i[this.v13_?"CRS":"SRS"]=n.getCode(),"STYLES"in this.params_||(i.STYLES=""),1!=r)switch(this.serverType_){case p.e.GEOSERVER:var o=90*r+.5|0;"FORMAT_OPTIONS"in i?i.FORMAT_OPTIONS+=";dpi:"+o:i.FORMAT_OPTIONS="dpi:"+o;break;case p.e.MAPSERVER:i.MAP_RESOLUTION=90*r;break;case p.e.CARMENTA_SERVER:case p.e.QGIS:i.DPI=90*r;break;default:Object(a.a)(!1,8)}i.WIDTH=e[0],i.HEIGHT=e[1];var s,c=n.getAxisOrientation();return s=this.v13_&&"ne"==c.substr(0,2)?[t[1],t[0],t[3],t[2]]:t,i.BBOX=s.join(","),Object(m.a)(this.url_,i)},e.prototype.getUrl=function(){return this.url_},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},e.prototype.updateParams=function(t){Object(l.a)(this.params_,t),this.updateV13_(),this.image_=null,this.changed()},e.prototype.updateV13_=function(){var t=this.params_.VERSION||i.a;this.v13_=Object(d.a)(t,"1.3")>=0},e}(f.a);e.a=_},function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r(53),i=function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var r=this.cache_[e];0!=(3&t++)||r.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},t.prototype.get=function(t,e,r){var n=o(t,e,r);return n in this.cache_?this.cache_[n]:null},t.prototype.set=function(t,e,r,n){var i=o(t,e,r);this.cache_[i]=n,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}();function o(t,e,r){return e+":"+t+":"+(r?Object(n.b)(r):"null")}var a=new i},function(t,e,r){"use strict";var n=r(43),i=r(60),o=r(53);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===a(o)?o:String(o)),n)}var i,o}function l(t,e){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h(this,r)}}function h(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(h,t);var e,r,n,a=u(h);function h(){var t,e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,h);var n=document.createElement("canvas"),c=Number(r.scale)>0?Number(r.scale):1,l=c*i.a||i.a,u=n.getContext("2d");if(r.image){r.image.load();var f=r.image.getImage();f.width?(n.width=Math.round(f.width*l),n.height=Math.round(f.height*l),u.globalAlpha="number"==typeof r.opacity?r.opacity:1,u.drawImage(f,0,0,f.width,f.height,0,0,n.width,n.height),e=u.createPattern(n,"repeat")):(e=[0,0,0,0],f.onload=function(){n.width=Math.round(f.width*l),n.height=Math.round(f.height*l),u.globalAlpha="number"==typeof r.opacity?r.opacity:1,u.drawImage(f,0,0,f.width,f.height,0,0,n.width,n.height),e=u.createPattern(n,"repeat"),this.color_=e,this.checksum_=void 0,r.layer&&r.layer.refresh()})}else{var p=h.getPattern(r);if(n.width=Math.round(p.width*l),n.height=Math.round(p.height*l),u.beginPath(),r.fill&&(u.fillStyle=Object(o.b)(r.fill.getColor()),u.fillRect(0,0,n.width,n.height)),u.scale(l,l),u.lineCap="round",u.lineWidth=p.stroke||1,u.fillStyle=Object(o.b)(r.color||"#000"),u.strokeStyle=Object(o.b)(r.color||"#000"),p.circles)for(var d=0;d<p.circles.length;d+=1){var m=p.circles[d];u.beginPath(),u.arc(m[0],m[1],m[2],0,2*Math.PI),p.fill&&u.fill(),p.stroke&&u.stroke()}if(p.repeat||(p.repeat=[[0,0]]),p.char&&(u.font=p.font||"".concat(p.width,"px Arial"),u.textAlign="center",u.textBaseline="middle",p.angle?(u.fillText(p.char,p.width/4,p.height/4),u.fillText(p.char,5*p.width/4,5*p.height/4),u.fillText(p.char,p.width/4,5*p.height/4),u.fillText(p.char,5*p.width/4,p.height/4),u.fillText(p.char,3*p.width/4,3*p.height/4),u.fillText(p.char,-p.width/4,-p.height/4),u.fillText(p.char,3*p.width/4,-p.height/4),u.fillText(p.char,-p.width/4,3*p.height/4)):u.fillText(p.char,p.width/2,p.height/2)),p.lines)for(var y=0;y<p.lines.length;y+=1)for(var g=0;g<p.repeat.length;g+=1){var _=p.lines[y];u.beginPath(),u.moveTo(_[0]+p.repeat[g][0],_[1]+p.repeat[g][1]);for(var b=2;b<_.length;b+=2)u.lineTo(_[b]+p.repeat[g][0],_[b+1]+p.repeat[g][1]);p.fill&&u.fill(),p.stroke&&u.stroke(),u.save(),u.strokeStyle="red",u.strokeWidth=.1,u.restore()}if(e=u.createPattern(n,"repeat"),r.offset){var v=r.offset;if("number"==typeof v&&(v=[v,v]),v instanceof Array){var O=Math.round(v[0]*l),w=Math.round(v[1]*l);u.scale(1/l,1/l),u.clearRect(0,0,n.width,n.height),u.translate(O,w),u.fillStyle=e,u.fillRect(-O,-w,n.width,n.height),e=u.createPattern(n,"repeat")}}}return(t=a.call(this,{color:e})).canvas_=n,t.options_=r,t}return e=h,n=[{key:"getPattern",value:function(t){var e=t,r=h.patterns[e.pattern]||h.patterns.dot,n=Math.round(e.spacing)||10;switch(e.pattern){case"dot":case"circle":var i=0===e.size?0:e.size/2||2;e.angle?(n=Math.round(1.4*n),r.width=n,r.height=n,r.circles=[[n/4,n/4,i],[3*n/4,3*n/4,i]],"circle"===e.pattern&&(r.circles=r.circles.concat([[n/4+n,n/4,i],[n/4,n/4+n,i],[3*n/4-n,3*n/4,i],[3*n/4,3*n/4-n,i],[n/4+n,n/4+n,i],[3*n/4-n,3*n/4-n,i]]))):(r.width=n,r.height=n,r.circles=[[n/2,n/2,i]],"circle"===e.pattern&&(r.circles=r.circles.concat([[n/2+n,n/2,i],[n/2-n,n/2,i],[n/2,n/2+n,i],[n/2,n/2-n,i],[n/2+n,n/2+n,i],[n/2+n,n/2-n,i],[n/2-n,n/2+n,i],[n/2-n,n/2-n,i]])));break;case"tile":case"square":i=0===e.size?0:e.size/2||2,e.angle?(r.width=n,r.height=n,r.lines=[[n/2-i,n/2,n/2,n/2-i,n/2+i,n/2,n/2,n/2+i,n/2-i,n/2]]):(r.width=n,r.height=n,r.lines=[[n/2-i,n/2-i,n/2+i,n/2-i,n/2+i,n/2+i,n/2-i,n/2+i,n/2-i,n/2-i]]),"square"===e.pattern&&(r.repeat=[[0,0],[0,n],[n,0],[0,-n],[-n,0],[-n,-n],[n,n],[-n,n],[n,-n]]);break;case"cross":case"hatch":"cross"===e.pattern&&e.angle&&(e.angle=45);var o=Math.round(((e.angle||0)-90)%360);o>180&&(o-=360),o*=Math.PI/180;var a=Math.cos(o),s=Math.sin(o);if(Math.abs(s)<1e-4)r.width=n,r.height=n,r.lines=[[0,.5,n,.5]],r.repeat=[[0,0],[0,n]];else if(Math.abs(a)<1e-4)r.height=n,r.width=n,r.lines=[[.5,0,.5,n]],r.repeat=[[0,0],[n,0]],"cross"===e.pattern&&(r.lines.push([0,.5,n,.5]),r.repeat.push([0,n]));else{r.width=Math.round(Math.abs(n/s))||1,r.height=Math.round(Math.abs(n/a))||1;var c=r.width,l=r.height;"cross"===e.pattern?(r.lines=[[-c,-l,2*c,2*l],[2*c,-l,-c,2*l]],r.repeat=[[0,0]]):a*s>0?(r.lines=[[-c,-l,2*c,2*l]],r.repeat=[[0,0],[c,0],[0,l]]):(r.lines=[[2*c,-l,-c,2*l]],r.repeat=[[0,0],[-c,0],[0,l]])}r.stroke=0===e.size?0:e.size||4}return r}},{key:"addPattern",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h.patterns[t||e.char]={width:e.width||e.size||10,height:e.height||e.size||10,font:e.font,char:e.char,circles:e.circles,lines:e.lines,repeat:e.repeat,stroke:e.stroke,angle:e.angle,fill:e.fill}}}],(r=[{key:"clone",value:function(){return new h(this.options_)}},{key:"getImage",value:function(){return this.canvas_}}])&&c(e.prototype,r),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),h}(n.a);p.patterns={hatch:{width:5,height:5,lines:[[0,2.5,5,2.5]],stroke:1},cross:{width:7,height:7,lines:[[0,3,10,3],[3,0,3,10]],stroke:1},dot:{width:8,height:8,circles:[[5,5,2]],stroke:!1,fill:!0},circle:{width:10,height:10,circles:[[5,5,2]],stroke:1,fill:!1},square:{width:10,height:10,lines:[[3,3,3,8,8,8,8,3,3,3]],stroke:1,fill:!1},tile:{width:10,height:10,lines:[[3,3,3,8,8,8,8,3,3,3]],fill:!0},woven:{width:12,height:12,lines:[[3,3,9,9],[0,12,3,9],[9,3,12,0],[-1,1,1,-1],[13,11,11,13]],stroke:1},crosses:{width:8,height:8,lines:[[2,2,6,6],[2,6,6,2]],stroke:1},caps:{width:8,height:8,lines:[[2,6,4,2,6,6]],stroke:1},nylon:{width:20,height:20,lines:[[1,6,1,1,6,1],[6,11,11,11,11,6],[11,16,11,21,16,21],[16,11,21,11,21,16]],repeat:[[0,0],[-20,0],[0,-20]],stroke:1},hexagon:{width:20,height:12,lines:[[0,10,4,4,10,4,14,10,10,16,4,16,0,10]],stroke:1,repeat:[[0,0],[10,6],[10,-6],[-10,-6]]},cemetry:{width:15,height:19,lines:[[0,3.5,7,3.5],[3.5,0,3.5,10]],stroke:1,repeat:[[0,0],[7,9]]},sand:{width:20,height:20,circles:[[1,2,1],[9,3,1],[2,16,1],[7,8,1],[6,14,1],[4,19,1],[14,2,1],[12,10,1],[14,18,1],[18,8,1],[18,14,1]],fill:1},conglomerate:{width:30,height:20,circles:[[2,4,1],[17,3,1],[26,18,1],[12,17,1],[5,17,2],[28,11,2]],lines:[[7,5,6,7,9,9,11,8,11,6,9,5,7,5],[16,10,15,13,16,14,19,15,21,13,22,9,20,8,19,8,16,10],[24,6,26,7,27,5,26,4,24,4,24,6]],stroke:1},gravel:{width:15,height:10,circles:[[4,2,1],[5,9,1],[1,7,1]],lines:[[7,5,6,6,7,7,8,7,9,7,10,5,9,4,7,5],[11,2,14,4,14,1,12,1,11,2]],stroke:1},brick:{width:18,height:16,lines:[[0,1,18,1],[0,10,18,10],[6,1,6,10],[12,10,12,18],[12,0,12,1]],stroke:1},dolomite:{width:20,height:16,lines:[[0,1,20,1],[0,9,20,9],[1,9,6,1],[11,9,14,16],[14,0,14.4,1]],stroke:1},coal:{width:20,height:16,lines:[[1,5,7,1,7,7],[11,10,12,5,18,9],[5,10,2,15,9,15],[15,16,15,13,20,16],[15,0,15,2,20,0]],fill:1},breccia:{width:20,height:16,lines:[[1,5,7,1,7,7,1,5],[11,10,12,5,18,9,11,10],[5,10,2,15,9,15,5,10],[15,16,15,13,22,18],[15,0,15,2,20,0]],stroke:1},clay:{width:20,height:20,lines:[[0,0,3,11,0,20],[11,0,10,3,13,13,11,20],[0,0,10,3,20,0],[0,12,3,11,13,13,20,12]],stroke:1},flooded:{width:15,height:10,lines:[[0,1,10,1],[0,6,5,6],[10,6,15,6]],stroke:1},chaos:{width:40,height:40,lines:[[40,2,40,0,38,0,40,2],[4,0,3,2,2,5,0,0,0,3,2,7,5,6,7,7,8,10,9,12,9,13,9,14,8,14,6,15,2,15,0,20,0,22,2,20,5,19,8,15,10,14,11,12.25,10,12,10,10,12,9,13,7,12,6,13,4,16,7,17,4,20,0,18,0,15,3,14,2,14,0,12,1,11,0,10,1,11,4,10,7,9,8,8,5,6,4,5,3,5,1,5,0,4,0],[7,1,7,3,8,3,8,2,7,1],[4,3,5,5,4,5,4,3],[34,5,33,7,38,10,38,8,36,5,34,5],[27,0,23,2,21,8,30,0,27,0],[25,8,26,12,26,16,22.71875,15.375,20,13,18,15,17,18,13,22,17,21,19,22,21,20,19,18,22,17,30,25,26,26,24,28,21.75,33.34375,20,36,18,40,20,40,24,37,25,32,27,31,26,38,27,37,30,32,32,35,36,37,38,40,38,39,40,40,37,36,34,32,37,31,36,29,33,27,34,24,39,21,40,21,40,16,37,20,31,22,32,25,27,20,29,15,30,20,32,20,34,18,33,12,31,11,29,14,26,9,25,8],[39,24,37,26,40,28,39,24],[13,15,9,19,14,18,13,15],[18,23,14,27,16,27,17,25,20,26,18,23],[6,24,2,26,1,28,2,30,5,28,12,30,16,32,18,30,15,30,12,28,9,25,7,27,6,24],[29,27,32,28,33,31,30,29,27,28,29,27],[5,35,1,33,3,36,13,38,15,35,10,36,5,35]],fill:1},grass:{width:27,height:22,lines:[[0,10.5,13,10.5],[2.5,10,1.5,7],[4.5,10,4.5,5,3.5,4],[7,10,7.5,6,8.5,3],[10,10,11,6]],repeat:[[0,0],[14,10]],stroke:1},swamp:{width:24,height:23,lines:[[0,10.5,9.5,10.5],[2.5,10,2.5,7],[4.5,10,4.5,4],[6.5,10,6.5,6],[3,12.5,7,12.5]],repeat:[[0,0],[14,10]],stroke:1},wave:{width:10,height:8,lines:[[0,0,5,4,10,0]],stroke:1},vine:{width:13,height:13,lines:[[3,0,3,6],[9,7,9,13]],stroke:1},forest:{width:55,height:30,circles:[[7,7,3.5],[20,20,1.5],[42,22,3.5],[35,5,1.5]],stroke:1},scrub:{width:26,height:20,lines:[[1,4,4,8,6,4]],circles:[[20,13,1.5]],stroke:1},tree:{width:30,height:30,lines:[[7.78,10.61,4.95,10.61,4.95,7.78,3.54,7.78,2.12,6.36,.71,6.36,0,4.24,.71,2.12,4.24,0,7.78,.71,9.19,3.54,7.78,4.95,7.07,7.07,4.95,7.78]],repeat:[[3,1],[18,16]],stroke:1},pine:{width:30,height:30,lines:[[5.66,11.31,2.83,11.31,2.83,8.49,0,8.49,2.83,0,5.66,8.49,2.83,8.49]],repeat:[[3,1],[18,16]],stroke:1},pines:{width:22,height:20,lines:[[1,4,3.5,1,6,4],[1,8,3.5,5,6,8],[3.5,1,3.5,11],[12,14.5,14.5,14,17,14.5],[12,18,17,18],[14.5,12,14.5,18]],repeat:[[2,1]],stroke:1},rock:{width:20,height:20,lines:[[1,0,1,9],[4,0,4,9],[7,0,7,9],[10,1,19,1],[10,4,19,4],[10,7,19,7],[0,11,9,11],[0,14,9,14],[0,17,9,17],[12,10,12,19],[15,10,15,19],[18,10,18,19]],repeat:[[.5,.5]],stroke:1},rocks:{width:20,height:20,lines:[[5,0,3,0,5,4,4,6,0,3,0,5,3,6,5,9,3.75,10,2.5,10,0,9,0,10,4,11,5,14,4,15,0,13,0,13,0,13,0,14,0,14,5,16,5,18,3,19,0,19,-.25,19.9375,5,20,10,19,10,20,11,20,12,19,14,20,15,20,17,19,20,20,20,19,19,16,20,15,20,11,20,10,19,8,20,5,20,0,19,0,20,2,19,4,17,4,16,3,15,0,14,0,15,4,11,5,10,4,11,0,10,0,9,4,6,5,5,0],[18,5,19,6,18,10,16,10,14,9,16,5,18,5],[5,6,9,5,10,6,10,9,6,10,5,6],[14,5,14,8,13,9,12,9,11,7,12,5,14,5],[5,11,8,10,9,11,10,14,6,15,6,15,5,11],[13,10,14,11,15,14,15,14,15,14,11,15,10,11,11,10,13,10],[15,12,16,11,19,11,19,15,16,14,16,14,15,12],[6,16,9,15,10,18,5,19,6,16],[10,16,14,16,14,18,13,19,11,18,10,16],[15,15,18,16,18,18,16,19,15,18,15,15]],stroke:1}},e.a=p},function(t,e,r){"use strict";var n=r(60),i=r(44),o=r(53),a=r(198);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===s(o)?o:String(o)),n)}var i,o}function u(){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=h(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function h(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}function f(t,e){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=y(t);if(e){var i=y(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return d(this,r)}}function d(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return m(t)}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(h,t);var e,r,i,s=p(h);function h(){var t,e,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(this,h),t=s.call(this,i);var a=document.createElement("canvas");t.canvas_=document.createElement("canvas");var l=Number(i.scale)>0?Number(i.scale):1,u=l*n.a||n.a,f=a.getContext("2d");if(i.image){i.image.load();var p=i.image.getImage();if(p.width)a.width=Math.round(p.width*u),a.height=Math.round(p.height*u),f.globalAlpha="number"==typeof i.opacity?i.opacity:1,f.drawImage(p,0,0,p.width,p.height,0,0,a.width,a.height),e=f.createPattern(a,"repeat");else{var d=m(t);e=[0,0,0,0],p.onload=function(){a.width=Math.round(p.width*u),a.height=Math.round(p.height*u),f.globalAlpha="number"==typeof i.opacity?i.opacity:1,f.drawImage(p,0,0,p.width,p.height,0,0,a.width,a.height),e=f.createPattern(a,"repeat"),d.setColor(e),i.layer&&i.layer.refresh()}}}else{var y=t.getPattern_(i);if(a.width=Math.round(y.width*u),a.height=Math.round(y.height*u),f.beginPath(),i.fill&&(f.fillStyle=Object(o.b)(i.fill.getColor()),f.fillRect(0,0,a.width,a.height)),f.scale(u,u),f.lineCap="round",f.lineWidth=y.stroke||1,f.fillStyle=Object(o.b)(i.color||"#000"),f.strokeStyle=Object(o.b)(i.color||"#000"),y.circles)for(r=0;r<y.circles.length;r+=1){var g=y.circles[r];f.beginPath(),f.arc(g[0],g[1],g[2],0,2*Math.PI),y.fill&&f.fill(),y.stroke&&f.stroke()}if(y.repeat||(y.repeat=[[0,0]]),y.char&&(f.font="".concat(y.font||y.width," px Arial"),f.textAlign="center",f.textBaseline="middle",y.angle?(f.fillText(y.char,y.width/4,y.height/4),f.fillText(y.char,5*y.width/4,5*y.height/4),f.fillText(y.char,y.width/4,5*y.height/4),f.fillText(y.char,5*y.width/4,y.height/4),f.fillText(y.char,3*y.width/4,3*y.height/4),f.fillText(y.char,-y.width/4,-y.height/4),f.fillText(y.char,3*y.width/4,-y.height/4),f.fillText(y.char,-y.width/4,3*y.height/4)):f.fillText(y.char,y.width/2,y.height/2)),y.lines)for(r=0;r<y.lines.length;r+=1)for(var _=0;_<y.repeat.length;_+=1){var b=y.lines[r];f.beginPath(),f.moveTo(b[0]+y.repeat[_][0],b[1]+y.repeat[_][1]);for(var v=2;v<b.length;v+=2)f.lineTo(b[v]+y.repeat[_][0],b[v+1]+y.repeat[_][1]);y.fill&&f.fill(),y.stroke&&f.stroke(),f.save(),f.strokeStyle="red",f.strokeWidth=.1,f.restore()}if(e=f.createPattern(a,"repeat"),i.offset){var O=i.offset;if("number"==typeof O&&(O=[O,O]),O instanceof Array){var w=Math.round(O[0]*u),M=Math.round(O[1]*u);f.scale(1/u,1/u),f.clearRect(0,0,a.width,a.height),f.translate(w,M),f.fillStyle=e,f.fillRect(-w,-M,a.width,a.height),e=f.createPattern(a,"repeat")}}}return t.setColor(e),t}return e=h,(r=[{key:"clone",value:function(){var t=u(y(h.prototype),"clone",this).call(this);return t.canvas_=this.canvas_,t}},{key:"getImage",value:function(){return this.canvas_}},{key:"getPattern_",value:function(t){var e,r=a.a.patterns[t.pattern]||a.a.patterns.dot,n=Math.round(t.spacing)||10;switch(t.pattern){case"dot":case"circle":e=0===t.size?0:t.size/2||2,t.angle?(n=Math.round(1.4*n),r.width=Math.round(1.4*n),r.height=Math.round(1.4*n),r.circles=[[n/4,n/4,e],[3*n/4,3*n/4,e]],"circle"===t.pattern&&(r.circles=r.circles.concat([[n/4+n,n/4,e],[n/4,n/4+n,e],[3*n/4-n,3*n/4,e],[3*n/4,3*n/4-n,e],[n/4+n,n/4+n,e],[3*n/4-n,3*n/4-n,e]]))):(r.width=n,r.height=n,r.circles=[[n/2,n/2,e]],"circle"===t.pattern&&(r.circles=r.circles.concat([[n/2+n,n/2,e],[n/2-n,n/2,e],[n/2,n/2+n,e],[n/2,n/2-n,e],[n/2+n,n/2+n,e],[n/2+n,n/2-n,e],[n/2-n,n/2+n,e],[n/2-n,n/2-n,e]])));break;case"tile":case"square":e=0===t.size?0:t.size/2||2,t.angle?(r.width=n,r.height=n,r.lines=[[n/2-e,n/2,n/2,n/2-e,n/2+e,n/2,n/2,n/2+e,n/2-e,n/2]]):(r.width=n,r.height=n,r.lines=[[n/2-e,n/2-e,n/2+e,n/2-e,n/2+e,n/2+e,n/2-e,n/2+e,n/2-e,n/2-e]]),"square"===t.pattern&&(r.repeat=[[0,0],[0,n],[n,0],[0,-n],[-n,0],[-n,-n],[n,n],[-n,n],[n,-n]]);break;case"cross":t.angle&&(t.angle=45);case"hatch":var i=Math.round(((t.angle||0)-90)%360);i>180&&(i-=360),i*=Math.PI/180;var o=Math.cos(i),s=Math.sin(i);if(Math.abs(s)<1e-4)r.width=n,r.height=n,r.lines=[[0,.5,n,.5]],r.repeat=[[0,0],[0,n]];else if(Math.abs(o)<1e-4)r.width=n,r.height=n,r.lines=[[.5,0,.5,n]],r.repeat=[[0,0],[n,0]],"cross"===t.pattern&&(r.lines.push([0,.5,n,.5]),r.repeat.push([0,n]));else{var c=Math.round(Math.abs(n/s))||1;r.width=Math.round(Math.abs(n/s))||1;var l=Math.round(Math.abs(n/o))||1;r.height=Math.round(Math.abs(n/o))||1,"cross"===t.pattern?(r.lines=[[-c,-l,2*c,2*l],[2*c,-l,-c,2*l]],r.repeat=[[0,0]]):o*s>0?(r.lines=[[-c,-l,2*c,2*l]],r.repeat=[[0,0],[c,0],[0,l]]):(r.lines=[[2*c,-l,-c,2*l]],r.repeat=[[0,0],[-c,0],[0,l]])}r.stroke=0===t.size?0:t.size||4}return r}}])&&l(e.prototype,r),i&&l(e,i),Object.defineProperty(e,"prototype",{writable:!1}),h}(i.a);e.a=g},function(t,e,r){"use strict";r.d(e,"b",(function(){return s}));var n=r(159),i=r(0),o=r(4),a=r(36),s=function(t,e,r){return function t(e,r,o,a){var s=[];if(Object(i.X)(e.Layer))if(Object(i.R)(e))e.forEach((function(e){s=s.concat(t(e,r,o,a))}));else{var c=e.TileMatrixSetLink,l=o;"EPSG:3857"===o&&(c.includes("EPSG:3857")||(l="GoogleMapsCompatible")),s.push(new n.a({url:r,name:e.Identifier,matrixSet:l,legend:Object(i.X)(e.Title)?"":e.Title},{},{capabilitiesMetadata:{abstract:Object(i.X)(e.Abstract)?"":e.Abstract,attribution:Object(i.X)(a.ServiceProvider)?"":a.ServiceProvider,style:Object(i.X)(e.Style)?"":e.Style}}))}else s=t(e.Layer);return s}(t.Contents.Layer,e,r,t)};e.a=function(t,e,r,n){return function t(e,r,n,s){var c=null;if(!Object(i.X)(e))if(Object(i.R)(e))for(var l=0;l<e.length&&null===c;l+=1)c=t(e[l],r,n,s);else if(Object(i.Y)(e)&&(Object(i.X)(r)||e.Identifier===r))if(c=e.WGS84BoundingBox){var u=Object(o.j)("EPSG:4326"),h=Object(o.j)(n);c=a.a.transformExtent(c,u,h)}else c=s;return c}(t.Layer,e,r,n)}},function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"c",(function(){return s})),r.d(e,"a",(function(){return l})),r.d(e,"d",(function(){return u}));var n=r(14),i=r(8);function o(t,e,r){var i=r||6371008.8,o=Object(n.i)(t[1]),a=Object(n.i)(e[1]),s=(a-o)/2,c=Object(n.i)(e[0]-t[0])/2,l=Math.sin(s)*Math.sin(s)+Math.sin(c)*Math.sin(c)*Math.cos(o)*Math.cos(a);return 2*i*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}function a(t,e){for(var r=0,n=0,i=t.length;n<i-1;++n)r+=o(t[n],t[n+1],e);return r}function s(t,e){var r=e||{},n=r.radius||6371008.8,o=r.projection||"EPSG:3857",c=t.getType();c!==i.a.GEOMETRY_COLLECTION&&(t=t.clone().transform(o,"EPSG:4326"));var l,u,h,f,p,d,m=0;switch(c){case i.a.POINT:case i.a.MULTI_POINT:break;case i.a.LINE_STRING:case i.a.LINEAR_RING:m=a(l=t.getCoordinates(),n);break;case i.a.MULTI_LINE_STRING:case i.a.POLYGON:for(h=0,f=(l=t.getCoordinates()).length;h<f;++h)m+=a(l[h],n);break;case i.a.MULTI_POLYGON:for(h=0,f=(l=t.getCoordinates()).length;h<f;++h)for(p=0,d=(u=l[h]).length;p<d;++p)m+=a(u[p],n);break;case i.a.GEOMETRY_COLLECTION:var y=t.getGeometries();for(h=0,f=y.length;h<f;++h)m+=s(y[h],e);break;default:throw new Error("Unsupported geometry type: "+c)}return m}function c(t,e){for(var r=0,i=t.length,o=t[i-1][0],a=t[i-1][1],s=0;s<i;s++){var c=t[s][0],l=t[s][1];r+=Object(n.i)(c-o)*(2+Math.sin(Object(n.i)(a))+Math.sin(Object(n.i)(l))),o=c,a=l}return r*e*e/2}function l(t,e){var r=e||{},n=r.radius||6371008.8,o=r.projection||"EPSG:3857",a=t.getType();a!==i.a.GEOMETRY_COLLECTION&&(t=t.clone().transform(o,"EPSG:4326"));var s,u,h,f,p,d,m=0;switch(a){case i.a.POINT:case i.a.MULTI_POINT:case i.a.LINE_STRING:case i.a.MULTI_LINE_STRING:case i.a.LINEAR_RING:break;case i.a.POLYGON:for(s=t.getCoordinates(),m=Math.abs(c(s[0],n)),h=1,f=s.length;h<f;++h)m-=Math.abs(c(s[h],n));break;case i.a.MULTI_POLYGON:for(h=0,f=(s=t.getCoordinates()).length;h<f;++h)for(u=s[h],m+=Math.abs(c(u[0],n)),p=1,d=u.length;p<d;++p)m-=Math.abs(c(u[p],n));break;case i.a.GEOMETRY_COLLECTION:var y=t.getGeometries();for(h=0,f=y.length;h<f;++h)m+=l(y[h],e);break;default:throw new Error("Unsupported geometry type: "+a)}return m}function u(t,e,r,i){var o=i||6371008.8,a=Object(n.i)(t[1]),s=Object(n.i)(t[0]),c=e/o,l=Math.asin(Math.sin(a)*Math.cos(c)+Math.cos(a)*Math.sin(c)*Math.cos(r)),u=s+Math.atan2(Math.sin(r)*Math.sin(c)*Math.cos(a),Math.cos(c)-Math.sin(a)*Math.sin(l));return[Object(n.h)(u),Object(n.h)(l)]}},function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return a})),r.d(e,"c",(function(){return s}));var n=r(13),i=r(14);function o(t,e,r,o,a,s){var c=NaN,l=NaN,u=(r-e)/o;if(1===u)c=t[e],l=t[e+1];else if(2==u)c=(1-a)*t[e]+a*t[e+o],l=(1-a)*t[e+1]+a*t[e+o+1];else if(0!==u){for(var h=t[e],f=t[e+1],p=0,d=[0],m=e+o;m<r;m+=o){var y=t[m],g=t[m+1];p+=Math.sqrt((y-h)*(y-h)+(g-f)*(g-f)),d.push(p),h=y,f=g}var _=a*p,b=Object(n.a)(d,_);if(b<0){var v=(_-d[-b-2])/(d[-b-1]-d[-b-2]),O=e+(-b-2)*o;c=Object(i.c)(t[O],t[O+o],v),l=Object(i.c)(t[O+1],t[O+o+1],v)}else c=t[e+b*o],l=t[e+b*o+1]}return s?(s[0]=c,s[1]=l,s):[c,l]}function a(t,e,r,n,o,a){if(r==e)return null;var s;if(o<t[e+n-1])return a?((s=t.slice(e,e+n))[n-1]=o,s):null;if(t[r-1]<o)return a?((s=t.slice(r-n,r))[n-1]=o,s):null;if(o==t[e+n-1])return t.slice(e,e+n);for(var c=e/n,l=r/n;c<l;){var u=c+l>>1;o<t[(u+1)*n-1]?l=u:c=u+1}var h=t[c*n-1];if(o==h)return t.slice((c-1)*n,(c-1)*n+n);var f=(o-h)/(t[(c+1)*n-1]-h);s=[];for(var p=0;p<n-1;++p)s.push(Object(i.c)(t[(c-1)*n+p],t[c*n+p],f));return s.push(o),s}function s(t,e,r,n,i,o,s){if(s)return a(t,e,r[r.length-1],n,i,o);var c;if(i<t[n-1])return o?((c=t.slice(0,n))[n-1]=i,c):null;if(t[t.length-1]<i)return o?((c=t.slice(t.length-n))[n-1]=i,c):null;for(var l=0,u=r.length;l<u;++l){var h=r[l];if(e!=h){if(i<t[e+n-1])return null;if(i<=t[h-1])return a(t,e,h,n,i,!1);e=h}}return null}},function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));function n(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")}},function(t,e,r){"use strict";var n=r(337),i=r(0),o=r(3),a=r(77),s=r(12),c=r(11),l=r(339),u=r(6);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e,r){return(e=g(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g(n.key),n)}}function g(t){var e=function(t,e){if("object"!==h(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===h(e)?e:String(e)}function _(){return(_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=b(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function b(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=M(t)););return t}function v(t,e){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=M(t);if(e){var i=M(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return w(this,r)}}function w(t,e){if(e&&("object"===h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(f,t);var e,r,a,h=O(f);function f(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0;m(this,f);var p=c.Cb(e,s.WFS),d=r;"string"!=typeof e&&(d.maxExtent=e.maxExtent);var y=l;return l||(y=new n.a(d,a)),t=h.call(this,p,d,void 0,y),Object(i.ab)(n.a)&&Object(o.a)(Object(u.e)("exception").wfslayer_method),Object(i.X)(e)&&Object(o.a)(Object(u.e)("exception").no_param),t.namespace=p.namespace,t.legend=p.legend,t.cql=p.cql,t.geometry=p.geometry,t.ids=p.ids,t.version=p.version,t.extract=void 0!==p.extract&&p.extract,t.options=r,t}return e=f,(r=[{key:"extract",get:function(){return this.getImpl().extract},set:function(t){Object(i.X)(t)?this.getImpl().extract=!1:Object(i.Z)(t)?this.getImpl().extract="true"===Object(i.db)(t):this.getImpl().extract=t}},{key:"namespace",get:function(){return this.getImpl().namespace},set:function(t){this.getImpl().namespace=t}},{key:"legend",get:function(){return this.getImpl().legend},set:function(t){Object(i.X)(t)?this.getImpl().legend=this.name:this.getImpl().legend=t}},{key:"cql",get:function(){return this.getImpl().cql},set:function(t){this.getImpl().cql=t}},{key:"geometry",get:function(){return this.getImpl().geometry},set:function(t){if(!Object(i.X)(t)){var e=Object(l.a)(t);Object(i.X)(e)&&Object(o.a)("El tipo de capa WFS <b>".concat(t,"</b> no se reconoce. Los tipos disponibles son: POINT, LINE, POLYGON, MPOINT, MLINE, MPOLYGON")),this.getImpl().geometry=e}}},{key:"ids",get:function(){return this.getImpl().ids},set:function(t){Object(i.X)(t)?this.getImpl().ids=this.ids:this.getImpl().ids=t}},{key:"version",get:function(){return this.getImpl().version},set:function(t){Object(i.X)(t)?this.getImpl().version="1.0.0":this.getImpl().version=t}},{key:"setCQL",value:function(t){var e=this,r=t;this.getImpl().getDescribeFeatureType().then((function(t){if(!Object(i.X)(r)){var n=t.geometryName;r=r.replace(/{{geometryName}}/g,n)}e.getImpl().cql!==r&&e.getImpl().setCQL(r)}))}},{key:"setStyle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.DEFAULT_OPTIONS_STYLE;_(M(f.prototype),"setStyle",this).call(this,t,e,r)}},{key:"equals",value:function(t){var e=!1;return t instanceof f&&(e=this.url===t.url,e=e&&this.namespace===t.namespace,e=e&&this.name===t.name,e=e&&this.ids===t.ids,e=e&&this.cql===t.cql,e=e&&this.version===t.version,e=e&&this.extract===t.extract,e=e&&this.predefinedStyles===t.predefinedStyles),e}}])&&y(e.prototype,r),a&&y(e,a),Object.defineProperty(e,"prototype",{writable:!1}),f}(a.a);E.DEFAULT_PARAMS={fill:{color:"rgba(103, 175, 19, 0.2)",opacity:.4},stroke:{color:"#67af13",width:1}},E.DEFAULT_OPTIONS_STYLE={point:p(p({},E.DEFAULT_PARAMS),{},{radius:5}),line:p({},E.DEFAULT_PARAMS),polygon:p({},E.DEFAULT_PARAMS)},e.a=E},function(t,e,r){"use strict";r.d(e,"a",(function(){return l}));var n=r(649),i=r.n(n),o=r(453),a=r(0);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===s(o)?o:String(o)),n)}var i,o}var l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAQAAAD2e2DtAAABu0lEQVR42u3SQREAAAzCsOHf9F6oIJXQS07TxQIABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAgAACwAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAAsAEAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAKg9kK0BATSHu+YAAAAASUVORK5CYII=",u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tiles_={},this.db_=null,this.init(e)}var e,r,n;return e=t,(r=[{key:"init",value:function(t){var e=this;this.initPromise_=new Promise((function(r,n){i()({locateFile:function(t){return"".concat(M.config.SQL_WASM_URL).concat(t)}}).then((function(n){Object(a.L)(t).then((function(t){e.db_=new n.Database(t),r(e.db_)}))})).catch((function(t){n(t)}))}))}},{key:"executeQuery",value:function(t){return this.initPromise_.then((function(e){return e.exec(t)[0]}))}},{key:"getTile",value:function(t){var e="select tile_data from tiles where zoom_level={z} and tile_column={x} and tile_row={y}".replace("{z}",t[0]).replace("{x}",t[1]).replace("{y}",t[2]),r=this.tiles_[t]||null,n=l;if(this.db_&&Object(a.X)(r)){var i=this.db_.exec(e)[0];if(!Object(a.X)(i)){var o=i.values[0][0];n=Object(a.f)(o),this.setTile(t,n)}}else n=r;return n}},{key:"getVectorTile",value:function(t){var e,r=this,n="select tile_data from tiles where zoom_level={z} and tile_column={x} and tile_row={y}".replace("{z}",t[0]).replace("{x}",t[1]).replace("{y}",t[2]),i=this.tiles_[t]||null;return i=i?new Promise((function(t){return t(i)})):this.executeQuery(n).then((function(n){return Object(a.X)(n)||(e=n.values[0][0],e=Object(o.inflate)(e)),r.setTile(t,e),e}))}},{key:"setTile",value:function(t,e){this.tiles_[t]=e}},{key:"getExtent",value:function(){var t=null;return this.executeQuery('select value from metadata where name="bounds"').then((function(e){if(e){var r=e.values[0][0];t=r.split(",").map(Number.parseFloat)}return t}))}},{key:"getFormat",value:function(){var t="png";return this.executeQuery('select value from metadata where name="format"').then((function(e){return e&&(t=e.values[0][0]),t}))}},{key:"getMaxZoomLevel",value:function(){var t=16;return this.executeQuery("select * from (select zoom_level from tiles group by zoom_level order by zoom_level DESC LIMIT 1)").then((function(e){return e&&(t=e.values[0][0]),t}))}}])&&c(e.prototype,r),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.b=u},function(t,e,r){"use strict";var n=r(283),i=r(281),o=r(385),a=r(26),s=r(30),c=r(28),l=r(185),u=r(157),h=r(37),f=r(181),p=r(4),d=r(25),m=r(36),y=r(68);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==g(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===g(o)?o:String(o)),n)}var i,o}var b=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,g;return e=t,g=[{key:"centerFeatures",value:function(t,e){if(1===t.length&&"Point"===t[0].getGeometry().type){var r=new f.a({center:t[0].getGeometry().coordinates,zoom:15});e.getMapImpl().setView(r)}else{var n=m.a.getFeaturesExtent(t);e.getMapImpl().getView().fit(n,{duration:500,minResolution:1})}}},{key:"loadGeoJSONLayer",value:function(t,e){var r=(new i.a).readFeatures(t,{featureProjection:e});return r=(r=this.featuresToFacade(r)).filter((function(t){return null!==t.getGeometry()}))}},{key:"loadAllInGeoJSONLayer",value:function(t,e){var r=this,n=[];return t.forEach((function(t){var i=r.loadGeoJSONLayer(t,e);null!=i&&i.length>0&&(n=n.concat(i))})),n}},{key:"loadGPXLayer",value:function(t,e){var r=[];return(new o.a).readFeatures(t,{featureProjection:e}).forEach((function(t){if("MultiLineString"===t.getGeometry().getType()&&1===t.getGeometry().getLineStrings().length){var e=t.getGeometry().getLineStrings()[0];t.setGeometry(e)}r.push(t)})),r=this.featuresToFacade(r)}},{key:"parseSurfacesGml",value:function(t){var e=[];return(new DOMParser).parseFromString(t,"text/xml").querySelectorAll("Surface").forEach((function(t){e.push({surface:t,id:"",sistema:""})})),e}},{key:"parseGeometriesGml",value:function(t){var e=[],r=(new DOMParser).parseFromString(t,"text/xml"),n=r.querySelectorAll("Point"),i=r.querySelectorAll("LineString"),o=r.querySelectorAll("Polygon");return n.forEach((function(t){e.push({surface:t,id:"",sistema:"",type:"Point"})})),i.forEach((function(t){e.push({surface:t,id:"",sistema:"",type:"LineString"})})),o.forEach((function(t){e.push({surface:t,id:"",sistema:"",type:"Polygon"})})),e}},{key:"getEPSGFromGML32",value:function(t){return t.map((function(t){var e=t,r=t.surface.getAttribute("srsName");if(r.indexOf("EPSG::326")>-1){var n=parseInt(r.substring(r.indexOf("::")+2,r.length),10)-6800;r="EPSG::".concat(n)}else if(-1===r.indexOf("::")){if(r.indexOf("opengis.net/def/crs")){var i=-1===r.indexOf("258")?r.indexOf("326"):r.indexOf("258");r="EPSG::".concat(r.substring(i,r.length))}}else r=r.substring(r.indexOf("EPSG"),r.length);return e.sistema=r.replace("::",":"),e})),t}},{key:"parseCoordinatesGML32",value:function(t,e,r){for(var n=[],i=0;i<t.length;i+=2){var o=[parseFloat(t[i+1]),parseFloat(t[i])];n.push(Object(p.s)(o,e,r))}return n}},{key:"getGML32PolygonCoordinates",value:function(t,e){var r=this,n=t.surface.querySelector("exterior"),i=t.surface.querySelectorAll("interior"),o=t.sistema,a=[],s=n.querySelector("posList").textContent.split(" ");return a.push(this.parseCoordinatesGML32(s,o,e)),i.forEach((function(t){var n=t.querySelector("posList").textContent.split(" ");a.push(r.parseCoordinatesGML32(n,o,e))})),a}},{key:"getGML32LineCoordinates",value:function(t,e){var r=t.sistema,n=t.surface.querySelector("posList").textContent.split(" ");return this.parseCoordinatesGML32(n,r,e)}},{key:"getGML32PointCoordinates",value:function(t,e){var r=t.sistema,n=t.surface.querySelector("pos").textContent.split(" ");return this.parseCoordinatesGML32(n,r,e)[0]}},{key:"getCoordinatesFromGML32",value:function(t,e){var r=this,n=[],i=1;return t.forEach((function(t){var o=[],a=""!==t.id?t.id:"ID_".concat(i),s=""!==t.id?t.id:"nombre_".concat(i);"Polygon"===t.type?o=r.getGML32PolygonCoordinates(t,e):"LineString"===t.type?o=r.getGML32LineCoordinates(t,e):"Point"===t.type&&(o=r.getGML32PointCoordinates(t,e)),i+=1,n.push({fichero:void 0,tipo:t.type,id:"".concat(a),coordenadas:o,nombre:"".concat(s),sistema:t.sistema})})),n}},{key:"gmlParser",value:function(t,e){var r=[],n=this.parseSurfacesGml(t);return 0===n.length&&(n=this.parseGeometriesGml(t)),n=this.getEPSGFromGML32(n),this.getCoordinatesFromGML32(n,e).forEach((function(t){var e;"Polygon"===t.tipo?e=new a.b(t.coordenadas):"LineString"===t.tipo?e=new s.a(t.coordenadas):"Point"===t.tipo&&(e=new c.a(t.coordenadas));var n=new d.a({geometry:e});n.setId("GML ".concat(r.length+1)),r.push(n)})),r}},{key:"loadGMLLayer",value:function(t,e){var r=t,n=e;if(r.indexOf('srsName="GCS_WGS_1984"')>-1&&(r=r.replace(/srsName="GCS_WGS_1984"/gi,'srsName="EPSG:4326"')),r.indexOf("cp:geometry")>-1&&(r=r.replace(/cp:geometry/gi,"ogr:geometryProperty")),r.indexOf("certificacion:the_geom")>-1&&(r=r.replace(/certificacion:the_geom/gi,"ogr:geometryProperty")),r.split('srsName="')[1].split('"')[0].indexOf("http")>-1)try{n="EPSG:".concat(r.split('srsName="')[1].split("#")[1].split('"')[0])}catch(t){n="EPSG:".concat(r.split('srsName="')[1].split("/EPSG/")[1].split("/")[1])}else n=r.split('srsName="')[1].indexOf("crs:EPSG::")>-1?"EPSG:".concat(r.split('srsName="')[1].split("::")[1].split('"')[0]):r.split('srsName="')[1].split('"')[0];r.indexOf("<member>")>-1?r=r.replace(/member/gi,"gml:featureMember"):r.indexOf("<wfs:member>")>-1?r=r.replace(/wfs:member/gi,"gml:featureMember"):r.indexOf("<ogr:featureMember>")>-1&&(r=r.replace(/ogr:featureMember/gi,"gml:featureMember"));var i=new l.a({gmlFormat:new u.a}).readFeatures(r,{dataProjection:n,featureProjection:e});return 0!==(i=i.map((function(t,e){var r=t;return t.getGeometry()||r.setGeometry(t.get("geometry")),r}))).length&&void 0!==i[0].getGeometry()||(i=(i=new l.a({gmlFormat:new h.a}).readFeatures(r,{dataProjection:n,featureProjection:e})).map((function(t,e){var r=t;return t.getGeometry()||r.setGeometry(t.get("geometry")),r}))),(0===i.length||void 0===i[0].getGeometry())&&r.indexOf("gml/3.2")>0&&(i=this.gmlParser(r,e)),i=this.featuresToFacade(i)}},{key:"loadKMLLayer",value:function(t,e,r){var i=new n.a({extractStyles:r}).readFeatures(t,{featureProjection:e});return i=this.featuresToFacade(i)}},{key:"featuresToFacade",value:function(t){return t.map((function(t){return y.a.olFeature2Facade(t)}))}}],(r=null)&&_(e.prototype,r),g&&_(e,g),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.a=b},function(t,e,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)i(r,n)&&(t[n]=r[n])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,r,n,i){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+n),i);else for(var o=0;o<n;o++)t[i+o]=e[r+o]},flattenChunks:function(t){var e,r,n,i,o,a;for(n=0,e=0,r=t.length;e<r;e++)n+=t[e].length;for(a=new Uint8Array(n),i=0,e=0,r=t.length;e<r;e++)o=t[e],a.set(o,i),i+=o.length;return a}},a={arraySet:function(t,e,r,n,i){for(var o=0;o<n;o++)t[i+o]=e[r+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(n)},function(t,e,r){var n=r(48).Buffer,i=r(709).Transform,o=r(251).StringDecoder;function a(t){i.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(46)(a,i),a.prototype.update=function(t,e,r){"string"==typeof t&&(t=n.from(t,e));var i=this._update(t);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){n=t}finally{r(n)}},a.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},a.prototype._finalOrDigest=function(t){var e=this.__final()||n.alloc(0);return t&&(e=this._toString(e,t,!0)),e},a.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new o(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n},t.exports=a},function(t,e,r){"use strict";var n,i=r(16),o=r(82),a=r(47),s=r(65),c=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),l=function(t){function e(e){var r=this,n=e||{};r=t.call(this,{element:document.createElement("div"),target:n.target})||this;var o=void 0!==n.className?n.className:"ol-zoom",s=void 0!==n.delta?n.delta:1,c=void 0!==n.zoomInLabel?n.zoomInLabel:"+",l=void 0!==n.zoomOutLabel?n.zoomOutLabel:"",u=void 0!==n.zoomInTipLabel?n.zoomInTipLabel:"Zoom in",h=void 0!==n.zoomOutTipLabel?n.zoomOutTipLabel:"Zoom out",f=document.createElement("button");f.className=o+"-in",f.setAttribute("type","button"),f.title=u,f.appendChild("string"==typeof c?document.createTextNode(c):c),f.addEventListener(i.a.CLICK,r.handleClick_.bind(r,s),!1);var p=document.createElement("button");p.className=o+"-out",p.setAttribute("type","button"),p.title=h,p.appendChild("string"==typeof l?document.createTextNode(l):l),p.addEventListener(i.a.CLICK,r.handleClick_.bind(r,-s),!1);var d=o+" "+a.e+" "+a.b,m=r.element;return m.className=d,m.appendChild(f),m.appendChild(p),r.duration_=void 0!==n.duration?n.duration:250,r}return c(e,t),e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var r=e.getZoom();if(void 0!==r){var n=e.getConstrainedZoom(r+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:n,duration:this.duration_,easing:s.easeOut})):e.setZoom(n)}}},e}(o.a);e.a=l},function(t,e,r){"use strict";var n,i=r(42),o=r(85),a=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=function(t){function e(e){var r=t.call(this,{handleEvent:c})||this,n=e||{};return r.delta_=n.delta?n.delta:1,r.duration_=void 0!==n.duration?n.duration:250,r}return a(e,t),e}(o.a);function c(t){var e=!1;if(t.type==i.a.DBLCLICK){var r=t.originalEvent,n=t.map,a=t.coordinate,s=r.shiftKey?-this.delta_:this.delta_,c=n.getView();Object(o.c)(c,s,a,this.duration_),t.preventDefault(),e=!0}return!e}e.a=s},function(t,e,r){"use strict";var n=function(){function t(){this.disposed_=!1}return t.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();e.a=n},function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return s})),r.d(e,"c",(function(){return c})),r.d(e,"d",(function(){return l}));var n=r(2),i=r(160),o=r(370);function a(t,e,r,i,a){var s=Object(n.t)(Object(n.k)(),t,e,r,i);return!!Object(n.H)(a,s)&&(!!Object(n.h)(a,s)||(s[0]>=a[0]&&s[2]<=a[2]||(s[1]>=a[1]&&s[3]<=a[3]||Object(o.a)(t,e,r,i,(function(t,e){return Object(n.I)(a,t,e)})))))}function s(t,e,r,n,i){for(var o=0,s=r.length;o<s;++o){if(a(t,e,r[o],n,i))return!0;e=r[o]}return!1}function c(t,e,r,n,o){if(!function(t,e,r,n,o){return!!a(t,e,r,n,o)||(!!Object(i.b)(t,e,r,n,o[0],o[1])||(!!Object(i.b)(t,e,r,n,o[0],o[3])||(!!Object(i.b)(t,e,r,n,o[2],o[1])||!!Object(i.b)(t,e,r,n,o[2],o[3]))))}(t,e,r[0],n,o))return!1;if(1===r.length)return!0;for(var s=1,c=r.length;s<c;++s)if(Object(i.a)(t,r[s-1],r[s],n,o)&&!a(t,r[s-1],r[s],n,o))return!1;return!0}function l(t,e,r,n,i){for(var o=0,a=r.length;o<a;++o){var s=r[o];if(c(t,e,s,n,i))return!0;e=s[s.length-1]}return!1}},function(t,e,r){"use strict";var n=r(0),i=r(133),o=r(4),a=r(36);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===s(o)?o:String(o)),n)}var i,o}var l=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.capabilities_=e,this.projection_=n,this.serviceUrl_=r}var e,r,s;return e=t,(r=[{key:"capabilities",get:function(){return this.capabilities_}},{key:"projection",get:function(){return this.projection_}},{key:"serviceUrl",get:function(){return this.serviceUrl_}},{key:"getLayerExtent",value:function(t){var e=this.capabilities_.Capability.Layer,r=this.getExtentRecursive_(e,t);return this.transformExtent(r)}},{key:"getExtentRecursive_",value:function(t,e){var r,i=this,s=null;if(!Object(n.X)(t))if(Object(n.R)(t))for(r=0;r<t.length&&null===s;r+=1)s=this.getExtentRecursive_(t[r],e);else if(Object(n.Y)(t))if(Object(n.X)(e)||t.Name===e)if(Object(n.X)(t.BoundingBox)){if(!Object(n.X)(t.LatLonBoundingBox)){var c=t.LatLonBoundingBox[0];this.capabilitiesProj="EPSG:4326";var l=Object(o.j)("EPSG:4326"),u=Object(o.j)(this.projection_.code);s=a.a.transformExtent(c.extent,l,u)}}else{var h=t.BoundingBox.find((function(t){return t.crs===i.projection_.code}));if(Object(n.X)(h)){var f=t.BoundingBox[0];this.capabilitiesProj=f.crs;var p=Object(o.j)(f.crs),d=Object(o.j)(this.projection_.code);s=a.a.transformExtent(f.extent,p,d)}else this.capabilitiesProj=h.crs,s=h.extent}else Object(n.ab)(t.Layer)||(s=this.getExtentRecursive_(t.Layer,e));return s}},{key:"getLayers",value:function(){var t=this.capabilities_.Capability.Layer;return this.getLayersRecursive_(t)}},{key:"getLayersRecursive_",value:function(t){var e=this,r=[];if(Object(n.X)(t.Layer))if(Object(n.R)(t))t.forEach((function(t){r=r.concat(e.getLayersRecursive_(t))}));else{var o="image/png";try{var a=this.capabilities_.Capability.Request.GetMap.Format;1===a.length&&(o=a[0])}catch(t){}r.push(new i.a({url:this.serviceUrl_,name:t.Name,legend:Object(n.X)(t.Title)?"":t.Title},{format:o},{capabilitiesMetadata:{abstract:Object(n.X)(t.Abstract)?"":t.Abstract,attribution:Object(n.X)(t.Attribution)?"":t.Attribution,metadataURL:Object(n.X)(t.MetadataURL)?"":t.MetadataURL,style:Object(n.X)(t.Style)?"":t.Style}}))}else r=this.getLayersRecursive_(t.Layer);return r}},{key:"transformExtent",value:function(t){var e=t;if("1.3.0"===this.capabilities_.version&&Object(n.Z)(this.capabilitiesProj)){var r=Object(o.j)(this.capabilitiesProj).getAxisOrientation();Array.isArray(e)&&"ne"===r.substr(0,2)&&(e=[t[1],t[0],t[3],t[2]])}return e}}])&&c(e.prototype,r),s&&c(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.a=l},function(t,e,r){"use strict";var n=r(0),i=r(372);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,a=void 0,a=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===o(a)?a:String(a)),n)}var i,a}function c(t,e){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h(t);if(e){var i=h(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return u(this,r)}}function u(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=["SRS","BoundingBox","ScaleHint","LatLonBoundingBox"],p=function(t,e){null!==t&&f.forEach((function(r){var n,i;(n=e,i=r,Array.prototype.filter.call(n.children,(function(t){return t.tagName===i})).length>0)||Array.prototype.filter.call(t.children,(function(t){return t.tagName===r})).forEach((function(t){var r=t.cloneNode(!0);e.appendChild(r)}))}))},d=[function t(e,r){var i=e,o=r[i.Name];if(Object(n.X)(o))Object(n.R)(i.Layer)&&i.Layer.forEach((function(e){return t(e,r)}));else{var a=o.querySelector("SRS");if(null!==a){var s=a.innerHTML;i.SRS=[s]}}},function t(e,r){var i=r[e.Name];if(Object(n.X)(i))Object(n.R)(e.Layer)&&e.Layer.forEach((function(e){return t(e,r)}));else if(Object(n.R)(e.BoundingBox)){var o=Array.prototype.map.call(i.children,(function(t){return t}));o=o.filter((function(t){return["BoundingBox"].includes(t.tagName)})),e.BoundingBox.forEach((function(t,e){var r=t;if(null===r.crs){var i=o[e];if(!Object(n.X)(i)){var a=i.getAttribute("SRS");Object(n.X)(a)||(r.crs=a)}}}))}},function t(e,r){var i=e,o=r[e.Name];if(Object(n.X)(o))Object(n.R)(e.Layer)&&e.Layer.forEach((function(e){return t(e,r)}));else{i.ScaleHint=[];var a=Array.prototype.map.call(o.children,(function(t){return t}));(a=a.filter((function(t){return"ScaleHint"===t.tagName}))).forEach((function(t){var e={minScale:parseFloat(t.getAttribute("min")),maxScale:parseFloat(t.getAttribute("max"))};i.ScaleHint.push(e)}))}},function t(e,r){var i=e,o=r[e.Name];if(Object(n.X)(o))Object(n.R)(i.Layer)&&i.Layer.forEach((function(e){return t(e,r)}));else{i.LatLonBoundingBox=[];var a=Array.prototype.map.call(o.children,(function(t){return t}));(a=a.filter((function(t){return"LatLonBoundingBox"===t.tagName}))).forEach((function(t){var e={crs:"EPSG:4326",extent:[parseFloat(t.getAttribute("minx")),parseFloat(t.getAttribute("miny")),parseFloat(t.getAttribute("maxx")),parseFloat(t.getAttribute("maxy"))]};i.LatLonBoundingBox.push(e)}))}},function(t,e){var r=t;Object(n.X)(r.BoundingBox)&&!Object(n.X)(r.LatLonBoundingBox)&&(r.BoundingBox=r.LatLonBoundingBox)},function(t,e){var r=t;Object(n.X)(r.MaxScaleDenominator)&&!Object(n.X)(r.ScaleHint)&&(r.MaxScaleDenominator=r.ScaleHint[0].maxScale)},function(t,e){var r=t;Object(n.X)(r.MinScaleDenominator)&&!Object(n.X)(r.ScaleHint)&&(r.MinScaleDenominator=r.ScaleHint[0].minScale)}],m=function t(e,r){Object(n.R)(e)?e.forEach((function(e){t(e,r)})):Object(n.Y)(e)&&(!function(t,e){d.forEach((function(r){r(t,e)}))}(e,r),t(e.Layer,r))},y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(u,t);var e,r,i,o=l(u);function u(){return a(this,u),o.apply(this,arguments)}return e=u,(r=[{key:"customRead",value:function(t){var e=this.read(t),r=function t(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=n,a=e;if(!0===r&&null!==e&&(a=e.querySelector("Layer")),null!==a){p(i,a);var s=a.querySelector("Name").innerHTML,c=a.children;Array.prototype.forEach.call(c,(function(e){"Layer"===e.tagName&&(o=t(e,!1,o,a))})),o[s]=a}return o}(t),i=e.Capability;return Object(n.X)(i)||Object(n.X)(i.Layer)||m(i.Layer,r),e}}])&&s(e.prototype,r),i&&s(e,i),Object.defineProperty(e,"prototype",{writable:!1}),u}(i.a);e.a=y},function(t,e,r){"use strict";var n=r(10),i=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.displacement_=t.displacement}return t.prototype.clone=function(){return new t({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getAnchor=function(){return Object(n.b)()},t.prototype.getImage=function(t){return Object(n.b)()},t.prototype.getHitDetectionImage=function(t){return Object(n.b)()},t.prototype.getImageState=function(){return Object(n.b)()},t.prototype.getImageSize=function(){return Object(n.b)()},t.prototype.getHitDetectionImageSize=function(){return Object(n.b)()},t.prototype.getOrigin=function(){return Object(n.b)()},t.prototype.getSize=function(){return Object(n.b)()},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t},t.prototype.listenImageChange=function(t){Object(n.b)()},t.prototype.load=function(){Object(n.b)()},t.prototype.unlistenImageChange=function(t){Object(n.b)()},t}();e.a=i},function(t,e,r){"use strict";var n,i=r(53),o=r(118),a=r(34),s=r(35),c=r(24),l=r(215),u=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),h=function(t){function e(e){var r=this,n=void 0!==e.rotateWithView&&e.rotateWithView;return(r=t.call(this,{opacity:1,rotateWithView:n,rotation:void 0!==e.rotation?e.rotation:0,scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0]})||this).canvas_=null,r.hitDetectionCanvas_=null,r.fill_=void 0!==e.fill?e.fill:null,r.origin_=[0,0],r.points_=e.points,r.radius_=void 0!==e.radius?e.radius:e.radius1,r.radius2_=e.radius2,r.angle_=void 0!==e.angle?e.angle:0,r.stroke_=void 0!==e.stroke?e.stroke:null,r.anchor_=null,r.size_=null,r.imageSize_=null,r.hitDetectionImageSize_=null,r.render(),r}return u(e,t),e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},e.prototype.getImage=function(t){return this.canvas_},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return s.a.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.render=function(){var t,e=c.e,r=c.h,n=0,i=null,s=0,l=0;this.stroke_&&(null===(t=this.stroke_.getColor())&&(t=c.l),t=Object(o.a)(t),void 0===(l=this.stroke_.getWidth())&&(l=c.i),i=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset(),void 0===(r=this.stroke_.getLineJoin())&&(r=c.h),void 0===(e=this.stroke_.getLineCap())&&(e=c.e),void 0===(n=this.stroke_.getMiterLimit())&&(n=c.j));var u=2*(this.radius_+l)+1,h={strokeStyle:t,strokeWidth:l,size:u,lineCap:e,lineDash:i,lineDashOffset:s,lineJoin:r,miterLimit:n},f=Object(a.a)(u,u);this.canvas_=f.canvas;var p=u=this.canvas_.width,d=this.getDisplacement();this.draw_(h,f,0,0),this.createHitDetectionCanvas_(h),this.anchor_=[u/2-d[0],u/2+d[1]],this.size_=[u,u],this.imageSize_=[p,p]},e.prototype.draw_=function(t,e,r,n){var i,a,s;e.setTransform(1,0,0,1,0,0),e.translate(r,n),e.beginPath();var l=this.points_;if(l===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var u=void 0!==this.radius2_?this.radius2_:this.radius_;for(u!==this.radius_&&(l*=2),i=0;i<=l;i++)a=2*i*Math.PI/l-Math.PI/2+this.angle_,s=i%2==0?this.radius_:u,e.lineTo(t.size/2+s*Math.cos(a),t.size/2+s*Math.sin(a))}if(this.fill_){var h=this.fill_.getColor();null===h&&(h=c.c),e.fillStyle=Object(o.a)(h),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.hitDetectionCanvas_=this.canvas_,this.fill_){var e=this.fill_.getColor(),r=0;if("string"==typeof e&&(e=Object(i.a)(e)),null===e?r=1:Array.isArray(e)&&(r=4===e.length?e[3]:1),0===r){var n=Object(a.a)(t.size,t.size);this.hitDetectionCanvas_=n.canvas,this.drawHitDetectionCanvas_(t,n,0,0)}}},e.prototype.drawHitDetectionCanvas_=function(t,e,r,n){e.setTransform(1,0,0,1,0,0),e.translate(r,n),e.beginPath();var i=this.points_;if(i===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var o=void 0!==this.radius2_?this.radius2_:this.radius_;o!==this.radius_&&(i*=2);var a=void 0,s=void 0,l=void 0;for(a=0;a<=i;a++)l=2*a*Math.PI/i-Math.PI/2+this.angle_,s=a%2==0?this.radius_:o,e.lineTo(t.size/2+s*Math.cos(l),t.size/2+s*Math.sin(l))}e.fillStyle=c.c,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e}(l.a);e.a=h},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===n(a)?a:String(a)),i)}var o,a}function a(t,e){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=l(t);if(e){var i=l(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return c(this,r)}}function c(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(l,t);var e,r,n,c=s(l);function l(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(this,l),(t=c.call(this,e)).textOverflow_=void 0!==e.textOverflow?e.textOverflow:"",t.minWidth_=e.minWidth||0,t}return e=l,(r=[{key:"getTextOverflow",value:function(){return this.textOverflow_}},{key:"getMinWidth",value:function(){return this.minWidth_}}])&&o(e.prototype,r),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(r(90).a);e.a=u},function(t,e,r){"use strict";var n=r(0);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(a)?a:String(a)),n)}var o,a}function a(t,e){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=l(t);if(e){var i=l(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return c(this,r)}}function c(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(l,t);var e,r,i,c=s(l);function l(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(r=c.call(this,t,e)).feature_=null,r}return e=l,(r=[{key:"applyToFeature",value:function(t){var e=this;this.feature_=t;var r=t.getStyle().getOptions();r.point&&(r=r.point),r.icon&&r.icon.src&&"string"==typeof r.icon.src&&r.icon.src.endsWith(".svg")&&(r.icon.fill||r.icon.stroke)?Object(n.cb)(r.icon.src,r).then((function(t){r.icon.src=t,e.applyToFeature(e.feature_)})):this.getImpl().applyToFeature(t)}}])&&o(e.prototype,r),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),l}(r(69).a);e.a=u},function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n,i=r(146),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',s=function(t){function e(e){var r,n=e||{};r=void 0!==n.attributions?n.attributions:[a];var i=void 0!==n.crossOrigin?n.crossOrigin:"anonymous",o=void 0!==n.url?n.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return t.call(this,{attributions:r,cacheSize:n.cacheSize,crossOrigin:i,opaque:void 0===n.opaque||n.opaque,maxZoom:void 0!==n.maxZoom?n.maxZoom:19,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileLoadFunction:n.tileLoadFunction,url:o,wrapX:n.wrapX,attributionsCollapsible:!1})||this}return o(e,t),e}(i.a);e.b=s},function(t,e,r){"use strict";var n=r(524),i=r.n(n),o=r(525),a=r.n(o),s=r(321),c=r(74),l=r(0),u=r(3),h=r(31),f=r(6);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==p(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===p(o)?o:String(o)),n)}var i,o}function y(t,e){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=b(t);if(e){var i=b(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _(this,r)}}function _(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(c,t);var e,r,n,o=g(c);function c(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(this,c);var r=new s.a(e);return t=o.call(this,r,c.NAME),Object(l.ab)(s.a)&&Object(u.a)(Object(f.e)("exception").panzoombar_method),t}return e=c,(r=[{key:"createView",value:function(t){return Object(h.c)(i.a)}},{key:"getHelp",value:function(){var t=Object(f.e)("panzoombar").textHelp;return{title:c.NAME,content:new Promise((function(e){e(Object(h.c)(a.a,{vars:{urlImages:"".concat(M.config.MAPEA_URL,"assets/images"),translations:{help1:t.text1}}}))}))}}},{key:"equals",value:function(t){var e=t instanceof c;return e}}])&&m(e.prototype,r),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(c.a);v.NAME="panzoombar",e.a=v},function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"c",(function(){return s})),r.d(e,"b",(function(){return c}));var n=r(39),i=r(137),o=!1;function a(t,e,r,n){return function(a,s,c){var l=new XMLHttpRequest;l.open("GET","function"==typeof t?t(a,s,c):t,!0),e.getType()==i.a.ARRAY_BUFFER&&(l.responseType="arraybuffer"),l.withCredentials=o,l.onload=function(t){if(!l.status||l.status>=200&&l.status<300){var o=e.getType(),s=void 0;o==i.a.JSON||o==i.a.TEXT?s=l.responseText:o==i.a.XML?(s=l.responseXML)||(s=(new DOMParser).parseFromString(l.responseText,"application/xml")):o==i.a.ARRAY_BUFFER&&(s=l.response),s?r.call(this,e.readFeatures(s,{extent:a,featureProjection:c}),e.readProjection(s)):n.call(this)}else n.call(this)}.bind(this),l.onerror=function(){n.call(this)}.bind(this),l.send()}}function s(t,e){return a(t,e,(function(t,e){"function"==typeof this.addFeatures&&this.addFeatures(t)}),n.c)}function c(t){o=t}},function(t,e,r){"use strict";var n=r(336),i=r(77),o=r(0),a=r(3),s=r(12),c=r(11),l=r(6);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===u(o)?o:String(o)),n)}var i,o}function p(t,e){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=y(t);if(e){var i=y(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}function m(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(m,t);var e,r,i,u=d(m);function m(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h(this,m);var f=c.Cb(e,s.KML),p=r;p.label=f.label,p.visibility=f.visibility,p.layers=e.layers||void 0,p.removeFolderChildren=!!Object(o.ab)(e.removeFolderChildren)||e.removeFolderChildren,"string"!=typeof e&&(p.maxExtent=e.maxExtent);var d=new n.a(p,i);return t=u.call(this,f,r,void 0,d),Object(o.ab)(n.a)&&Object(a.a)(Object(l.e)("exception").kmllayer_method),Object(o.X)(e)&&Object(a.a)(Object(l.e)("exception").no_param),t.extract=void 0!==f.extract&&f.extract,t.options=r,t.label=f.label,t.layers=p.layers,t.removeFolderChildren=p.removeFolderChildren,t}return e=m,(r=[{key:"extract",get:function(){return this.getImpl().extract},set:function(t){Object(o.X)(t)?this.getImpl().extract=!1:Object(o.Z)(t)?this.getImpl().extract="true"===Object(o.db)(t):this.getImpl().extract=t}},{key:"options",get:function(){return this.getImpl().options},set:function(t){this.getImpl().options=t}},{key:"legend",get:function(){return this.getImpl().legend},set:function(t){Object(o.X)(t)?this.getImpl().legend=this.name:this.getImpl().legend=t}},{key:"equals",value:function(t){var e=!1;return t instanceof m&&(e=this.url===t.url,e=e&&this.name===t.name,e=e&&this.extract===t.extract,e=e&&this.predefinedStyles===t.predefinedStyles),e}}])&&f(e.prototype,r),i&&f(e,i),Object.defineProperty(e,"prototype",{writable:!1}),m}(i.a);e.a=g},function(t,e,r){"use strict";var n=r(0);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(a)?a:String(a)),n)}var o,a}function a(t,e){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=l(t);if(e){var i=l(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return c(this,r)}}function c(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(l,t);var e,r,i,c=s(l);function l(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(e=c.call(this,t)).userZoom_=null,e}return e=l,(r=[{key:"setUserZoom",value:function(t){this.userZoom_=t,Object(n.X)(t)||this.setZoom(t)}},{key:"getUserZoom",value:function(){return this.userZoom_}},{key:"setProjection",value:function(t){this.projection_=t}},{key:"getResolutions",value:function(){return this.get("resolutions")}},{key:"setResolutions",value:function(t){this.set("resolutions",t),this.maxResolution_=t[0],this.minResolution_=t[t.length-1],this.applyOptions_({minZoom:this.minZoom_,resolutions:t,zoomFactor:this.zoomFactor_,minResolution:this.minResolution_,maxResolution:this.maxResolution_,projection:this.projection_,center:this.getCenter()}),Object(n.X)(this.userZoom_)||this.setZoom(this.userZoom_)}}])&&o(e.prototype,r),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),l}(r(181).a);e.a=u},function(t,e,r){"use strict";var n=r(644),i=r.n(n),o=r(645),a=r.n(o),s=(r(694),r(131)),c=r(133),l=r(159),u=r(161),h=r(127),f=r(74),p=r(31),d=r(9),m=r(6);function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==y(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===y(o)?o:String(o)),n)}var i,o}function _(t,e){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=O(t);if(e){var i=O(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return v(this,r)}}function v(t,e){if(e&&("object"===y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}(f,t);var e,r,n,o=b(f);function f(t,e,r){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f);var i=new s.a;return n=o.call(this,i,f.NAME),t.getBaseLayers().forEach((function(e){e.on(d.A,t.removeLayers(e))})),n.layers=M.config.backgroundlayers.slice(0,5).map((function(t){return{id:t.id,title:t.title,layers:t.layers.map((function(t){var e=t;return"string"==typeof t&&(/QUICK.*/.test(t)&&(e=Object(h.c)(t.replace("QUICK*",""))),"string"==typeof e&&(e=/WMTS.*/.test(e)?new l.a(e):/TMS.*/.test(e)?new u.a(e):new c.a(e))),e}))}})),n.flattedLayers=n.layers.reduce((function(t,e){return t.concat(e.layers)}),[]),n.activeLayer=-1,n.idLayer=null==e?0:e,n.visible=null==r||r,n}return e=f,(r=[{key:"createView",value:function(t){var e=this;return this.map=t,new Promise((function(t,r){var n=Object(p.c)(i.a,{vars:{layers:e.layers}});e.html=n,e.listen(n),e.uniqueButton=e.html.querySelector("#m-baselayerselector-unique-btn"),e.uniqueButton.innerHTML=e.layers[0].title,e.on(d.i,(function(){var t=e.visible;e.idLayer>-1&&(window.innerWidth>M.config.MOBILE_WIDTH&&(e.activeLayer=e.idLayer),e.showBaseLayer({target:{parentElement:n}},e.layers[e.activeLayer],e.activeLayer)),!1===t&&e.map_.removeLayers(e.map_.getBaseLayers())})),t(n)}))}},{key:"equals",value:function(t){return t instanceof f}},{key:"showBaseLayer",value:function(t,e,r){var n=this.handlerClickDesktop.bind(this);window.innerWidth<=M.config.MOBILE_WIDTH&&(n=this.handlerClickMobile.bind(this)),n(t,e,r)}},{key:"changeStyleResponsive",value:function(t){M.config.MOBILE_WIDTH=t?"2000":"768",document.querySelectorAll(".m-plugin-baselayer .m-panel-controls #div-contenedor button").forEach((function(e){e.classList.contains("m-background-unique-btn")?e.style.display=t?"block":"none":e.style.display=t?"none":"block"}))}},{key:"handlerClickDesktop",value:function(t,e,r){this.removeLayers(),this.visible=!1;var n=e.layers,i=e.title,o=t.target.parentElement.querySelector("#m-baselayerselector-".concat(e.id)).classList.contains("activeBaseLayerButton");n.forEach((function(t,e,r){return t.setZIndex(e-r.length)})),t.target.parentElement.querySelectorAll('button[id^="m-baselayerselector-"]').forEach((function(t){t.classList.contains("activeBaseLayerButton")&&t.classList.remove("activeBaseLayerButton")})),o||(this.visible=!0,this.activeLayer=r,t.target.parentElement.querySelector("#m-baselayerselector-unique-btn").innerText=i,t.target.parentElement.querySelector("#m-baselayerselector-".concat(e.id)).classList.add("activeBaseLayerButton"),this.map.addLayers(n))}},{key:"handlerClickMobile",value:function(t){this.removeLayers(),this.activeLayer+=1,this.activeLayer=this.activeLayer%this.layers.length;var e=this.layers[this.activeLayer],r=e.layers,n=e.id,i=e.title;r.forEach((function(t,e,r){return t.setZIndex(e-r.length)})),t.target.parentElement.querySelectorAll('button[id^="m-baselayerselector-"]').forEach((function(t){t.classList.contains("activeBaseLayerButton")&&t.classList.remove("activeBaseLayerButton")})),t.target.innerHTML=i,t.target.parentElement.querySelector("#m-baselayerselector-".concat(n)).classList.add("activeBaseLayerButton"),this.map.addLayers(r)}},{key:"removeLayers",value:function(){this.map.removeLayers(this.flattedLayers),this.map.removeLayers(this.map.getBaseLayers())}},{key:"listen",value:function(t){var e=this;t.querySelectorAll("button.m-background-group-btn").forEach((function(t,r){return t.addEventListener("click",(function(t){return e.showBaseLayer(t,e.layers[r],r)}))})),t.querySelector("#m-baselayerselector-unique-btn").addEventListener("click",(function(t){return e.showBaseLayer(t)}))}},{key:"getHelp",value:function(){var t=Object(m.e)("backgroundlayers").textHelp;return{title:f.NAME,content:new Promise((function(e){e(Object(p.c)(a.a,{vars:{urlImages:"".concat(M.config.MAPEA_URL,"assets/images"),translations:{help1:t.text1}}}))}))}}}])&&g(e.prototype,r),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),f}(f.a);w.NAME="backgroundlayers",e.a=w},function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return o}));var n=.0254000508001016,i=72,o={inches:1,in:1,Inch:1,ft:12,mi:63360,m:39.3701,dd:4374754,yd:36,d:4374754,degrees:4374754,nmi:72913.4252,Meter:1/n,Foot:12,IFoot:11.999976,ClarkeFoot:11.999868327581488,SearsFoot:11.999955194477684,GoldCoastFoot:11.999964589846002,IInch:.0254/n,MicroInch:999998e-9,Mil:9.99998e-7,Centimeter:.3937,Kilometer:39370,Yard:36,SearsYard:35.99986558343306,IndianYard:35.99987015540864,IndianYd37:.91439523/n,IndianYd62:.9143988/n,IndianYd75:35.999868945,IndianFoot:11.9999567087,IndianFt37:11.9999134017,IndianFt62:.3047996/n,IndianFt75:11.999956315,Mile:63360,IYard:35.999928,IMile:63359.87328,NautM:1852/n,"Lat-66":4367838.370169282,"Lat-83":4367954.152606599,Decimeter:.1/n,Millimeter:.03937,Dekameter:393.7,Decameter:393.7,Hectometer:3937,GermanMeter:1.0000135965/n,CaGrid:.999738/n,ClarkeChain:791.991309620512,GunterChain:792.0000000000001,BenoitChain:791.9977268035781,SearsChain:791.9970428354235,ClarkeLink:7.91991309620512,GunterLink:7.920000000000001,BenoitLink:7.919977268035781,SearsLink:7.919970428354236,Rod:198.00000000000014,IntnlChain:791.998416,IntnlLink:7.91998416,Perch:198.00000000000014,Pole:198.00000000000014,Furlong:7919.999999999997,Rood:3.778266898/n,CapeFoot:.3047972615/n,Brealey:375/n,ModAmFt:12.000458400000001,Fathom:71.999856,"NautM-UK":72959.85408,"50kilometers":1968500,"150kilometers":5905500,mm:1/n/1e3,cm:.3937,dm:1/n*100,km:39370,kmi:72913.4252,fath:71.999856,ch:791.998416,link:7.91998416,"us-in":1,"us-ft":12,"us-yd":36,"us-ch":792.0000000000001,"us-mi":63360,"ind-yd":.91439523/n,"ind-ft":11.9999134017,"ind-ch":791.9942845122}},function(t,e,r){"use strict";r.d(e,"e",(function(){return Tr})),r.d(e,"a",(function(){return Lr})),r.d(e,"b",(function(){return Rr})),r.d(e,"d",(function(){return Cr})),r.d(e,"c",(function(){return Ar}));var n=function(t,e){return t.interfaces_&&t.interfaces_.indexOf(e)>-1};class i{constructor(t,e){this.low=e||0,this.high=t||0}static toBinaryString(t){let e,r="";for(e=2147483648;e>0;e>>>=1)r+=(t.high&e)===e?"1":"0";for(e=2147483648;e>0;e>>>=1)r+=(t.low&e)===e?"1":"0";return r}}function o(){}function a(){}o.NaN=NaN,o.isNaN=t=>Number.isNaN(t),o.isInfinite=t=>!Number.isFinite(t),o.MAX_VALUE=Number.MAX_VALUE,o.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,o.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,"function"==typeof Float64Array&&"function"==typeof Int32Array?function(){const t=new Float64Array(1),e=new Int32Array(t.buffer);o.doubleToLongBits=function(r){t[0]=r;let n=0|e[0],o=0|e[1];return 2146435072==(2146435072&o)&&0!=(1048575&o)&&0!==n&&(n=0,o=2146959360),new i(o,n)},o.longBitsToDouble=function(r){return e[0]=r.low,e[1]=r.high,t[0]}}():function(){const t=Math.log2,e=Math.floor,r=Math.pow,n=function(){for(let n=53;n>0;n--){const i=r(2,n)-1;if(e(t(i))+1===n)return i}return 0}();o.doubleToLongBits=function(o){let a,s,c,l,u,h,f,p,d;if(o<0||1/o===Number.NEGATIVE_INFINITY?(h=1<<31,o=-o):h=0,0===o)return d=0,p=h,new i(p,d);if(o===1/0)return d=0,p=2146435072|h,new i(p,d);if(o!=o)return d=0,p=2146959360,new i(p,d);if(l=0,d=0,a=e(o),a>1)if(a<=n)l=e(t(a)),l<=20?(d=0,p=a<<20-l&1048575):(c=l-20,s=r(2,c),d=a%s<<32-c,p=a/s&1048575);else for(c=a,d=0;s=c/2,c=e(s),0!==c;)l++,d>>>=1,d|=(1&p)<<31,p>>>=1,s!==c&&(p|=524288);if(f=l+1023,u=0===a,a=o-a,l<52&&0!==a)for(c=0;;){if(s=2*a,s>=1?(a=s-1,u?(f--,u=!1):(c<<=1,c|=1,l++)):(a=s,u?0==--f&&(l++,u=!1):(c<<=1,l++)),20===l)p|=c,c=0;else if(52===l){d|=c;break}if(1===s){l<20?p|=c<<20-l:l<52&&(d|=c<<52-l);break}}return p|=f<<20,p|=h,new i(p,d)},o.longBitsToDouble=function(t){let e,n,i,o;const a=t.high,s=t.low,c=a&1<<31?-1:1;for(i=((2146435072&a)>>20)-1023,o=0,n=1<<19,e=1;e<=20;e++)a&n&&(o+=r(2,-e)),n>>>=1;for(n=1<<31,e=21;e<=52;e++)s&n&&(o+=r(2,-e)),n>>>=1;if(-1023===i){if(0===o)return 0*c;i=-1022}else{if(1024===i)return 0===o?c/0:NaN;o+=1}return c*o*r(2,i)}}();class s{getM(t){if(this.hasM()){const e=this.getDimension()-this.getMeasures();return this.getOrdinate(t,e)}return o.NaN}setOrdinate(t,e,r){}getZ(t){return this.hasZ()?this.getOrdinate(t,2):o.NaN}size(){}getOrdinate(t,e){}getCoordinate(){if(1===arguments.length){}else if(2===arguments.length){}}getCoordinateCopy(t){}createCoordinate(){}getDimension(){}hasM(){return this.getMeasures()>0}getX(t){}hasZ(){return this.getDimension()-this.getMeasures()>2}getMeasures(){return 0}expandEnvelope(t){}copy(){}getY(t){}toCoordinateArray(){}get interfaces_(){return[a]}}s.X=0,s.Y=1,s.Z=2,s.M=3;class c{create(){if(1===arguments.length){if(arguments[0]instanceof Array){}else if(n(arguments[0],s)){}}else if(2===arguments.length){}else if(3===arguments.length){const t=arguments[0],e=arguments[1];return this.create(t,e)}}}class l extends Error{constructor(t){super(t),this.name=Object.keys({Exception:l})[0]}toString(){return this.message}}class u extends l{constructor(t){super(t),this.name=Object.keys({IllegalArgumentException:u})[0]}}class h{filter(t){}}function f(){}function p(){}class d{static equalsWithTolerance(t,e,r){return Math.abs(t-e)<=r}}function m(){}class y extends l{constructor(t){super(t),this.name=Object.keys({RuntimeException:y})[0]}}class g extends y{constructor(){super(),g.constructor_.apply(this,arguments)}static constructor_(){if(0===arguments.length)y.constructor_.call(this);else if(1===arguments.length){const t=arguments[0];y.constructor_.call(this,t)}}}class _{static shouldNeverReachHere(){if(0===arguments.length)_.shouldNeverReachHere(null);else if(1===arguments.length){const t=arguments[0];throw new g("Should never reach here"+(null!==t?": "+t:""))}}static isTrue(){if(1===arguments.length){const t=arguments[0];_.isTrue(t,null)}else if(2===arguments.length){const t=arguments[1];if(!arguments[0])throw null===t?new g:new g(t)}}static equals(){if(2===arguments.length){const t=arguments[0],e=arguments[1];_.equals(t,e,null)}else if(3===arguments.length){const t=arguments[0],e=arguments[1],r=arguments[2];if(!e.equals(t))throw new g("Expected "+t+" but encountered "+e+(null!==r?": "+r:""))}}}const b=new ArrayBuffer(8),v=new Float64Array(b),O=new Int32Array(b);class w{constructor(){w.constructor_.apply(this,arguments)}static constructor_(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)w.constructor_.call(this,0,0);else if(1===arguments.length){const t=arguments[0];w.constructor_.call(this,t.x,t.y,t.getZ())}else if(2===arguments.length){const t=arguments[0],e=arguments[1];w.constructor_.call(this,t,e,w.NULL_ORDINATE)}else if(3===arguments.length){const t=arguments[0],e=arguments[1],r=arguments[2];this.x=t,this.y=e,this.z=r}}static hashCode(t){return v[0]=t,O[0]^O[1]}getM(){return o.NaN}setOrdinate(t,e){switch(t){case w.X:this.x=e;break;case w.Y:this.y=e;break;case w.Z:this.setZ(e);break;default:throw new u("Invalid ordinate index: "+t)}}equals2D(){if(1===arguments.length){const t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){const t=arguments[0],e=arguments[1];return!!d.equalsWithTolerance(this.x,t.x,e)&&!!d.equalsWithTolerance(this.y,t.y,e)}}setM(t){throw new u("Invalid ordinate index: "+w.M)}getZ(){return this.z}getOrdinate(t){switch(t){case w.X:return this.x;case w.Y:return this.y;case w.Z:return this.getZ()}throw new u("Invalid ordinate index: "+t)}equals3D(t){return this.x===t.x&&this.y===t.y&&(this.getZ()===t.getZ()||o.isNaN(this.getZ())&&o.isNaN(t.getZ()))}equals(t){return t instanceof w&&this.equals2D(t)}equalInZ(t,e){return d.equalsWithTolerance(this.getZ(),t.getZ(),e)}setX(t){this.x=t}compareTo(t){const e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0}getX(){return this.x}setZ(t){this.z=t}clone(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return _.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw t}}copy(){return new w(this)}toString(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}distance3D(t){const e=this.x-t.x,r=this.y-t.y,n=this.getZ()-t.getZ();return Math.sqrt(e*e+r*r+n*n)}getY(){return this.y}setY(t){this.y=t}distance(t){const e=this.x-t.x,r=this.y-t.y;return Math.sqrt(e*e+r*r)}hashCode(){let t=17;return t=37*t+w.hashCode(this.x),t=37*t+w.hashCode(this.y),t}setCoordinate(t){this.x=t.x,this.y=t.y,this.z=t.getZ()}get interfaces_(){return[f,a,p]}}class M{constructor(){M.constructor_.apply(this,arguments)}static constructor_(){if(this._dimensionsToTest=2,0===arguments.length)M.constructor_.call(this,2);else if(1===arguments.length){const t=arguments[0];if(2!==t&&3!==t)throw new u("only 2 or 3 dimensions may be specified");this._dimensionsToTest=t}}static compare(t,e){return t<e?-1:t>e?1:o.isNaN(t)?o.isNaN(e)?0:-1:o.isNaN(e)?1:0}compare(t,e){const r=M.compare(t.x,e.x);if(0!==r)return r;const n=M.compare(t.y,e.y);if(0!==n)return n;if(this._dimensionsToTest<=2)return 0;return M.compare(t.getZ(),e.getZ())}get interfaces_(){return[m]}}w.DimensionalComparator=M,w.NULL_ORDINATE=o.NaN,w.X=0,w.Y=1,w.Z=2,w.M=3;class E{constructor(){E.constructor_.apply(this,arguments)}static constructor_(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof w){const t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof E){const t=arguments[0];this.init(t)}}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this.init(t.x,e.x,t.y,e.y)}else if(4===arguments.length){const t=arguments[0],e=arguments[1],r=arguments[2],n=arguments[3];this.init(t,e,r,n)}}static intersects(){if(3===arguments.length){const t=arguments[0],e=arguments[1],r=arguments[2];return r.x>=(t.x<e.x?t.x:e.x)&&r.x<=(t.x>e.x?t.x:e.x)&&r.y>=(t.y<e.y?t.y:e.y)&&r.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){const t=arguments[0],e=arguments[1],r=arguments[2],n=arguments[3];let i=Math.min(r.x,n.x),o=Math.max(r.x,n.x),a=Math.min(t.x,e.x),s=Math.max(t.x,e.x);return!(a>o)&&(!(s<i)&&(i=Math.min(r.y,n.y),o=Math.max(r.y,n.y),a=Math.min(t.y,e.y),s=Math.max(t.y,e.y),!(a>o)&&!(s<i)))}}getArea(){return this.getWidth()*this.getHeight()}equals(t){if(!(t instanceof E))return!1;const e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()}intersection(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new E;const e=this._minx>t._minx?this._minx:t._minx,r=this._miny>t._miny?this._miny:t._miny,n=this._maxx<t._maxx?this._maxx:t._maxx,i=this._maxy<t._maxy?this._maxy:t._maxy;return new E(e,n,r,i)}isNull(){return this._maxx<this._minx}getMaxX(){return this._maxx}covers(){if(1===arguments.length){if(arguments[0]instanceof w){const t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof E){const t=arguments[0];return!this.isNull()&&!t.isNull()&&(t.getMinX()>=this._minx&&t.getMaxX()<=this._maxx&&t.getMinY()>=this._miny&&t.getMaxY()<=this._maxy)}}else if(2===arguments.length){const t=arguments[0],e=arguments[1];return!this.isNull()&&(t>=this._minx&&t<=this._maxx&&e>=this._miny&&e<=this._maxy)}}intersects(){if(1===arguments.length){if(arguments[0]instanceof E){const t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof w){const t=arguments[0];return this.intersects(t.x,t.y)}}else if(2===arguments.length){if(arguments[0]instanceof w&&arguments[1]instanceof w){const t=arguments[0],e=arguments[1];if(this.isNull())return!1;if((t.x<e.x?t.x:e.x)>this._maxx)return!1;if((t.x>e.x?t.x:e.x)<this._minx)return!1;if((t.y<e.y?t.y:e.y)>this._maxy)return!1;return!((t.y>e.y?t.y:e.y)<this._miny)}if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){const t=arguments[0],e=arguments[1];return!this.isNull()&&!(t>this._maxx||t<this._minx||e>this._maxy||e<this._miny)}}}getMinY(){return this._miny}getDiameter(){if(this.isNull())return 0;const t=this.getWidth(),e=this.getHeight();return Math.sqrt(t*t+e*e)}getMinX(){return this._minx}expandToInclude(){if(1===arguments.length){if(arguments[0]instanceof w){const t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof E){const t=arguments[0];if(t.isNull())return null;this.isNull()?(this._minx=t.getMinX(),this._maxx=t.getMaxX(),this._miny=t.getMinY(),this._maxy=t.getMaxY()):(t._minx<this._minx&&(this._minx=t._minx),t._maxx>this._maxx&&(this._maxx=t._maxx),t._miny<this._miny&&(this._miny=t._miny),t._maxy>this._maxy&&(this._maxy=t._maxy))}}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this.isNull()?(this._minx=t,this._maxx=t,this._miny=e,this._maxy=e):(t<this._minx&&(this._minx=t),t>this._maxx&&(this._maxx=t),e<this._miny&&(this._miny=e),e>this._maxy&&(this._maxy=e))}}minExtent(){if(this.isNull())return 0;const t=this.getWidth(),e=this.getHeight();return t<e?t:e}getWidth(){return this.isNull()?0:this._maxx-this._minx}compareTo(t){const e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0}translate(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)}copy(){return new E(this)}toString(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}setToNull(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}disjoint(t){return!(!this.isNull()&&!t.isNull())||(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}getHeight(){return this.isNull()?0:this._maxy-this._miny}maxExtent(){if(this.isNull())return 0;const t=this.getWidth(),e=this.getHeight();return t>e?t:e}expandBy(){if(1===arguments.length){const t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){const t=arguments[0],e=arguments[1];if(this.isNull())return null;this._minx-=t,this._maxx+=t,this._miny-=e,this._maxy+=e,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}contains(){if(1===arguments.length){if(arguments[0]instanceof E){const t=arguments[0];return this.covers(t)}if(arguments[0]instanceof w){const t=arguments[0];return this.covers(t)}}else if(2===arguments.length){const t=arguments[0],e=arguments[1];return this.covers(t,e)}}centre(){return this.isNull()?null:new w((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}init(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof w){const t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof E){const t=arguments[0];this._minx=t._minx,this._maxx=t._maxx,this._miny=t._miny,this._maxy=t._maxy}}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this.init(t.x,e.x,t.y,e.y)}else if(4===arguments.length){const t=arguments[0],e=arguments[1],r=arguments[2],n=arguments[3];t<e?(this._minx=t,this._maxx=e):(this._minx=e,this._maxx=t),r<n?(this._miny=r,this._maxy=n):(this._miny=n,this._maxy=r)}}getMaxY(){return this._maxy}distance(t){if(this.intersects(t))return 0;let e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);let r=0;return this._maxy<t._miny?r=t._miny-this._maxy:this._miny>t._maxy&&(r=this._miny-t._maxy),0===e?r:0===r?e:Math.sqrt(e*e+r*r)}hashCode(){let t=17;return t=37*t+w.hashCode(this._minx),t=37*t+w.hashCode(this._maxx),t=37*t+w.hashCode(this._miny),t=37*t+w.hashCode(this._maxy),t}get interfaces_(){return[f,p]}}class x{constructor(){x.constructor_.apply(this,arguments)}isGeometryCollection(){return this.getTypeCode()===x.TYPECODE_GEOMETRYCOLLECTION}getFactory(){return this._factory}getGeometryN(t){return this}getArea(){return 0}isRectangle(){return!1}equalsExact(t){return this===t||this.equalsExact(t,0)}geometryChanged(){this.apply(x.geometryChangedFilter)}geometryChangedAction(){this._envelope=null}equalsNorm(t){return null!==t&&this.norm().equalsExact(t.norm())}getLength(){return 0}getNumGeometries(){return 1}compareTo(){let t;if(1===arguments.length){const e=arguments[0];return t=e,this.getTypeCode()!==t.getTypeCode()?this.getTypeCode()-t.getTypeCode():this.isEmpty()&&t.isEmpty()?0:this.isEmpty()?-1:t.isEmpty()?1:this.compareToSameClass(e)}if(2===arguments.length){const e=arguments[0],r=arguments[1];return t=e,this.getTypeCode()!==t.getTypeCode()?this.getTypeCode()-t.getTypeCode():this.isEmpty()&&t.isEmpty()?0:this.isEmpty()?-1:t.isEmpty()?1:this.compareToSameClass(e,r)}}getUserData(){return this._userData}getSRID(){return this._SRID}getEnvelope(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}static checkNotGeometryCollection(t){if(t.getTypeCode()===x.TYPECODE_GEOMETRYCOLLECTION)throw new u("This method does not support GeometryCollection arguments")}equal(t,e,r){return 0===r?t.equals(e):t.distance(e)<=r}norm(){const t=this.copy();return t.normalize(),t}reverse(){const t=this.reverseInternal();return null!=this.envelope&&(t.envelope=this.envelope.copy()),t.setSRID(this.getSRID()),t}copy(){const t=this.copyInternal();return t.envelope=null==this._envelope?null:this._envelope.copy(),t._SRID=this._SRID,t._userData=this._userData,t}getPrecisionModel(){return this._factory.getPrecisionModel()}getEnvelopeInternal(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new E(this._envelope)}setSRID(t){this._SRID=t}setUserData(t){this._userData=t}compare(t,e){const r=t.iterator(),n=e.iterator();for(;r.hasNext()&&n.hasNext();){const t=r.next(),e=n.next(),i=t.compareTo(e);if(0!==i)return i}return r.hasNext()?1:n.hasNext()?-1:0}hashCode(){return this.getEnvelopeInternal().hashCode()}isEquivalentClass(t){return this.getTypeCode()==t.getTypeCode()}get interfaces_(){return[a,f,p]}getClass(){return x}static hasNonEmptyElements(t){for(let e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1}static hasNullElements(t){for(let e=0;e<t.length;e++)if(null===t[e])return!0;return!1}}x.constructor_=function(t){t&&(this._envelope=null,this._userData=null,this._factory=t,this._SRID=t.getSRID())},x.TYPECODE_POINT=0,x.TYPECODE_MULTIPOINT=1,x.TYPECODE_LINESTRING=2,x.TYPECODE_LINEARRING=3,x.TYPECODE_MULTILINESTRING=4,x.TYPECODE_POLYGON=5,x.TYPECODE_MULTIPOLYGON=6,x.TYPECODE_GEOMETRYCOLLECTION=7,x.TYPENAME_POINT="Point",x.TYPENAME_MULTIPOINT="MultiPoint",x.TYPENAME_LINESTRING="LineString",x.TYPENAME_LINEARRING="LinearRing",x.TYPENAME_MULTILINESTRING="MultiLineString",x.TYPENAME_POLYGON="Polygon",x.TYPENAME_MULTIPOLYGON="MultiPolygon",x.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",x.geometryChangedFilter={get interfaces_(){return[h]},filter(t){t.geometryChangedAction()}};class S{filter(t){}}class j{}class P{static copyCoord(t,e,r,n){const i=Math.min(t.getDimension(),r.getDimension());for(let o=0;o<i;o++)r.setOrdinate(n,o,t.getOrdinate(e,o))}static isRing(t){const e=t.size();return 0===e||!(e<=3)&&(t.getOrdinate(0,s.X)===t.getOrdinate(e-1,s.X)&&t.getOrdinate(0,s.Y)===t.getOrdinate(e-1,s.Y))}static scroll(){if(2===arguments.length){if(n(arguments[0],s)&&Number.isInteger(arguments[1])){const t=arguments[0],e=arguments[1];P.scroll(t,e,P.isRing(t))}else if(n(arguments[0],s)&&arguments[1]instanceof w){const t=arguments[0],e=arguments[1],r=P.indexOf(e,t);if(r<=0)return null;P.scroll(t,r)}}else if(3===arguments.length){const t=arguments[0],e=arguments[1],r=arguments[2];if(e<=0)return null;const n=t.copy(),i=r?t.size()-1:t.size();for(let r=0;r<i;r++)for(let o=0;o<t.getDimension();o++)t.setOrdinate(r,o,n.getOrdinate((e+r)%i,o));if(r)for(let e=0;e<t.getDimension();e++)t.setOrdinate(i,e,t.getOrdinate(0,e))}}static isEqual(t,e){const r=t.size();if(r!==e.size())return!1;const n=Math.min(t.getDimension(),e.getDimension());for(let i=0;i<r;i++)for(let r=0;r<n;r++){const n=t.getOrdinate(i,r),a=e.getOrdinate(i,r);if(t.getOrdinate(i,r)!==e.getOrdinate(i,r)&&(!o.isNaN(n)||!o.isNaN(a)))return!1}return!0}static minCoordinateIndex(){if(1===arguments.length){const t=arguments[0];return P.minCoordinateIndex(t,0,t.size()-1)}if(3===arguments.length){const t=arguments[0],e=arguments[2];let r=-1,n=null;for(let i=arguments[1];i<=e;i++){const e=t.getCoordinate(i);(null===n||n.compareTo(e)>0)&&(n=e,r=i)}return r}}static extend(t,e,r){const n=t.create(r,e.getDimension()),i=e.size();if(P.copy(e,0,n,0,i),i>0)for(let t=i;t<r;t++)P.copy(e,i-1,n,t,1);return n}static reverse(t){const e=t.size()-1,r=Math.trunc(e/2);for(let n=0;n<=r;n++)P.swap(t,n,e-n)}static swap(t,e,r){if(e===r)return null;for(let n=0;n<t.getDimension();n++){const i=t.getOrdinate(e,n);t.setOrdinate(e,n,t.getOrdinate(r,n)),t.setOrdinate(r,n,i)}}static copy(t,e,r,n,i){for(let o=0;o<i;o++)P.copyCoord(t,e+o,r,n+o)}static ensureValidRing(t,e){const r=e.size();if(0===r)return e;if(r<=3)return P.createClosedRing(t,e,4);return e.getOrdinate(0,s.X)===e.getOrdinate(r-1,s.X)&&e.getOrdinate(0,s.Y)===e.getOrdinate(r-1,s.Y)?e:P.createClosedRing(t,e,r+1)}static indexOf(t,e){for(let r=0;r<e.size();r++)if(t.x===e.getOrdinate(r,s.X)&&t.y===e.getOrdinate(r,s.Y))return r;return-1}static createClosedRing(t,e,r){const n=t.create(r,e.getDimension()),i=e.size();P.copy(e,0,n,0,i);for(let t=i;t<r;t++)P.copy(e,0,n,t,1);return n}static minCoordinate(t){let e=null;for(let r=0;r<t.size();r++){const n=t.getCoordinate(r);(null===e||e.compareTo(n)>0)&&(e=n)}return e}}class T extends l{constructor(t){super(t),this.name=Object.keys({UnsupportedOperationException:T})[0]}}class I{static isWhitespace(t){return t<=32&&t>=0||127===t}static toUpperCase(t){return t.toUpperCase()}}class L{static toDimensionSymbol(t){switch(t){case L.FALSE:return L.SYM_FALSE;case L.TRUE:return L.SYM_TRUE;case L.DONTCARE:return L.SYM_DONTCARE;case L.P:return L.SYM_P;case L.L:return L.SYM_L;case L.A:return L.SYM_A}throw new u("Unknown dimension value: "+t)}static toDimensionValue(t){switch(I.toUpperCase(t)){case L.SYM_FALSE:return L.FALSE;case L.SYM_TRUE:return L.TRUE;case L.SYM_DONTCARE:return L.DONTCARE;case L.SYM_P:return L.P;case L.SYM_L:return L.L;case L.SYM_A:return L.A}throw new u("Unknown dimension symbol: "+t)}}L.P=0,L.L=1,L.A=2,L.FALSE=-1,L.TRUE=-2,L.DONTCARE=-3,L.SYM_FALSE="F",L.SYM_TRUE="T",L.SYM_DONTCARE="*",L.SYM_P="0",L.SYM_L="1",L.SYM_A="2";class R{filter(t){}}class C{filter(t,e){}isDone(){}isGeometryChanged(){}}class A extends x{constructor(){super(),A.constructor_.apply(this,arguments)}static constructor_(){if(this._points=null,0===arguments.length);else if(2===arguments.length){const t=arguments[0],e=arguments[1];x.constructor_.call(this,e),this.init(t)}}computeEnvelopeInternal(){return this.isEmpty()?new E:this._points.expandEnvelope(new E)}isRing(){return this.isClosed()&&this.isSimple()}getCoordinates(){return this._points.toCoordinateArray()}copyInternal(){return new A(this._points.copy(),this._factory)}equalsExact(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof x){const t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;const r=t;if(this._points.size()!==r._points.size())return!1;for(let t=0;t<this._points.size();t++)if(!this.equal(this._points.getCoordinate(t),r._points.getCoordinate(t),e))return!1;return!0}return super.equalsExact.apply(this,arguments)}normalize(){for(let t=0;t<Math.trunc(this._points.size()/2);t++){const e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e))){if(this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0){const t=this._points.copy();P.reverse(t),this._points=t}return null}}}getCoordinate(){return this.isEmpty()?null:this._points.getCoordinate(0)}getBoundaryDimension(){return this.isClosed()?L.FALSE:0}isClosed(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}reverseInternal(){const t=this._points.copy();return P.reverse(t),this.getFactory().createLineString(t)}getEndPoint(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}getTypeCode(){return x.TYPECODE_LINESTRING}getDimension(){return 1}getLength(){return class{static ofLine(t){const e=t.size();if(e<=1)return 0;let r=0;const n=new w;t.getCoordinate(0,n);let i=n.x,o=n.y;for(let a=1;a<e;a++){t.getCoordinate(a,n);const e=n.x,s=n.y,c=e-i,l=s-o;r+=Math.sqrt(c*c+l*l),i=e,o=s}return r}}.ofLine(this._points)}getNumPoints(){return this._points.size()}compareToSameClass(){if(1===arguments.length){const t=arguments[0];let e=0,r=0;for(;e<this._points.size()&&r<t._points.size();){const n=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(r));if(0!==n)return n;e++,r++}return e<this._points.size()?1:r<t._points.size()?-1:0}if(2===arguments.length){const t=arguments[0];return arguments[1].compare(this._points,t._points)}}apply(){if(n(arguments[0],S)){const t=arguments[0];for(let e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e))}else if(n(arguments[0],C)){const t=arguments[0];if(0===this._points.size())return null;for(let e=0;e<this._points.size()&&(t.filter(this._points,e),!t.isDone());e++);t.isGeometryChanged()&&this.geometryChanged()}else if(n(arguments[0],R)){arguments[0].filter(this)}else if(n(arguments[0],h)){arguments[0].filter(this)}}getBoundary(){throw new T}isEquivalentClass(t){return t instanceof A}getCoordinateN(t){return this._points.getCoordinate(t)}getGeometryType(){return x.TYPENAME_LINESTRING}getCoordinateSequence(){return this._points}isEmpty(){return 0===this._points.size()}init(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new u("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t}isCoordinate(t){for(let e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1}getStartPoint(){return this.isEmpty()?null:this.getPointN(0)}getPointN(t){return this.getFactory().createPoint(this._points.getCoordinate(t))}get interfaces_(){return[j]}}class k{}class N extends l{constructor(t){super(t),this.name=Object.keys({IllegalStateException:N})[0]}}class D extends x{constructor(){super(),D.constructor_.apply(this,arguments)}static constructor_(){this._coordinates=null;const t=arguments[0],e=arguments[1];x.constructor_.call(this,e),this.init(t)}computeEnvelopeInternal(){if(this.isEmpty())return new E;const t=new E;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t}getCoordinates(){return this.isEmpty()?[]:[this.getCoordinate()]}copyInternal(){return new D(this._coordinates.copy(),this._factory)}equalsExact(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof x){const t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&(!(!this.isEmpty()||!t.isEmpty())||this.isEmpty()===t.isEmpty()&&this.equal(t.getCoordinate(),this.getCoordinate(),e))}return super.equalsExact.apply(this,arguments)}normalize(){}getCoordinate(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null}getBoundaryDimension(){return L.FALSE}reverseInternal(){return this.getFactory().createPoint(this._coordinates.copy())}getTypeCode(){return x.TYPECODE_POINT}getDimension(){return 0}getNumPoints(){return this.isEmpty()?0:1}getX(){if(null===this.getCoordinate())throw new N("getX called on empty Point");return this.getCoordinate().x}compareToSameClass(){if(1===arguments.length){const t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){const t=arguments[0];return arguments[1].compare(this._coordinates,t._coordinates)}}apply(){if(n(arguments[0],S)){const t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(n(arguments[0],C)){const t=arguments[0];if(this.isEmpty())return null;t.filter(this._coordinates,0),t.isGeometryChanged()&&this.geometryChanged()}else if(n(arguments[0],R)){arguments[0].filter(this)}else if(n(arguments[0],h)){arguments[0].filter(this)}}getBoundary(){return this.getFactory().createGeometryCollection()}getGeometryType(){return x.TYPENAME_POINT}getCoordinateSequence(){return this._coordinates}getY(){if(null===this.getCoordinate())throw new N("getY called on empty Point");return this.getCoordinate().y}isEmpty(){return 0===this._coordinates.size()}init(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),_.isTrue(t.size()<=1),this._coordinates=t}isSimple(){return!0}get interfaces_(){return[k]}}class F{static ofRing(){if(arguments[0]instanceof Array){const t=arguments[0];return Math.abs(F.ofRingSigned(t))}if(n(arguments[0],s)){const t=arguments[0];return Math.abs(F.ofRingSigned(t))}}static ofRingSigned(){if(arguments[0]instanceof Array){const t=arguments[0];if(t.length<3)return 0;let e=0;const r=t[0].x;for(let n=1;n<t.length-1;n++){const i=t[n].x-r,o=t[n+1].y;e+=i*(t[n-1].y-o)}return e/2}if(n(arguments[0],s)){const t=arguments[0],e=t.size();if(e<3)return 0;const r=new w,n=new w,i=new w;t.getCoordinate(0,n),t.getCoordinate(1,i);const o=n.x;i.x-=o;let a=0;for(let s=1;s<e-1;s++)r.y=n.y,n.x=i.x,n.y=i.y,t.getCoordinate(s+1,i),i.x-=o,a+=n.x*(r.y-i.y);return a/2}}}class B{add(){}addAll(){}isEmpty(){}iterator(){}size(){}toArray(){}remove(){}}class U extends l{constructor(t){super(t),this.name=Object.keys({IndexOutOfBoundsException:U})[0]}}class G extends B{get(){}set(){}isEmpty(){}}class z extends l{constructor(t){super(t),this.name=Object.keys({NoSuchElementException:z})[0]}}class W extends G{constructor(t){super(),this.array=[],t instanceof B&&this.addAll(t)}get interfaces_(){return[G,B]}ensureCapacity(){}add(t){return 1===arguments.length?this.array.push(t):this.array.splice(arguments[0],0,arguments[1]),!0}clear(){this.array=[]}addAll(t){for(const e of t)this.array.push(e)}set(t,e){const r=this.array[t];return this.array[t]=e,r}iterator(){return new X(this)}get(t){if(t<0||t>=this.size())throw new U;return this.array[t]}isEmpty(){return 0===this.array.length}sort(t){t?this.array.sort((e,r)=>t.compare(e,r)):this.array.sort()}size(){return this.array.length}toArray(){return this.array.slice()}remove(t){for(let e=0,r=this.array.length;e<r;e++)if(this.array[e]===t)return!!this.array.splice(e,1);return!1}[Symbol.iterator](){return this.array.values()}}class X{constructor(t){this.arrayList=t,this.position=0}next(){if(this.position===this.arrayList.size())throw new z;return this.arrayList.get(this.position++)}hasNext(){return this.position<this.arrayList.size()}set(t){return this.arrayList.set(this.position-1,t)}remove(){this.arrayList.remove(this.arrayList.get(this.position))}}class q{static sort(){const t=arguments[0];if(1===arguments.length)t.sort((t,e)=>t.compareTo(e));else if(2===arguments.length)t.sort((t,e)=>arguments[1].compare(t,e));else if(3===arguments.length){const e=t.slice(arguments[1],arguments[2]);e.sort();const r=t.slice(0,arguments[1]).concat(e,t.slice(arguments[2],t.length));t.splice(0,t.length);for(const e of r)t.push(e)}else if(4===arguments.length){const e=t.slice(arguments[1],arguments[2]);e.sort((t,e)=>arguments[3].compare(t,e));const r=t.slice(0,arguments[1]).concat(e,t.slice(arguments[2],t.length));t.splice(0,t.length);for(const e of r)t.push(e)}}static asList(t){const e=new W;for(const r of t)e.add(r);return e}static copyOf(t,e){return t.slice(0,e)}}class V{constructor(t){this.str=t}append(t){this.str+=t}setCharAt(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)}toString(){return this.str}}class Y{constructor(t){this.value=t}intValue(){return this.value}compareTo(t){return this.value<t?-1:this.value>t?1:0}static compare(t,e){return t<e?-1:t>e?1:0}static isNan(t){return Number.isNaN(t)}static valueOf(t){return new Y(t)}}class Z{constructor(){Z.constructor_.apply(this,arguments)}static constructor_(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){const t=arguments[0];this.init(t)}else if(arguments[0]instanceof Z){const t=arguments[0];this.init(t)}else if("string"==typeof arguments[0]){const t=arguments[0];Z.constructor_.call(this,Z.parse(t))}}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this.init(t,e)}}static determinant(){if("number"==typeof arguments[3]&&"number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){const t=arguments[0],e=arguments[1],r=arguments[2],n=arguments[3];return Z.determinant(Z.valueOf(t),Z.valueOf(e),Z.valueOf(r),Z.valueOf(n))}if(arguments[3]instanceof Z&&arguments[2]instanceof Z&&arguments[0]instanceof Z&&arguments[1]instanceof Z){const t=arguments[1],e=arguments[2],r=arguments[3];return arguments[0].multiply(r).selfSubtract(t.multiply(e))}}static sqr(t){return Z.valueOf(t).selfMultiply(t)}static valueOf(){if("string"==typeof arguments[0]){const t=arguments[0];return Z.parse(t)}if("number"==typeof arguments[0]){return new Z(arguments[0])}}static sqrt(t){return Z.valueOf(t).sqrt()}static parse(t){let e=0;const r=t.length;for(;I.isWhitespace(t.charAt(e));)e++;let n=!1;if(e<r){const r=t.charAt(e);"-"!==r&&"+"!==r||(e++,"-"===r&&(n=!0))}const i=new Z;let o=0,a=0,s=0,c=!1;for(;!(e>=r);){const r=t.charAt(e);if(e++,I.isDigit(r)){const t=r-"0";i.selfMultiply(Z.TEN),i.selfAdd(t),o++}else{if("."!==r){if("e"===r||"E"===r){const r=t.substring(e);try{s=Y.parseInt(r)}catch(e){throw e instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+r+" in string "+t):e}break}throw new NumberFormatException("Unexpected character '"+r+"' at position "+e+" in string "+t)}a=o,c=!0}}let l=i;c||(a=o);const u=o-a-s;if(0===u)l=i;else if(u>0){const t=Z.TEN.pow(u);l=i.divide(t)}else if(u<0){const t=Z.TEN.pow(-u);l=i.multiply(t)}return n?l.negate():l}static createNaN(){return new Z(o.NaN,o.NaN)}static copy(t){return new Z(t)}static magnitude(t){const e=Math.abs(t),r=Math.log(e)/Math.log(10);let n=Math.trunc(Math.floor(r));return 10*Math.pow(10,n)<=e&&(n+=1),n}static stringOfChar(t,e){const r=new V;for(let n=0;n<e;n++)r.append(t);return r.toString()}le(t){return this._hi<t._hi||this._hi===t._hi&&this._lo<=t._lo}extractSignificantDigits(t,e){let r=this.abs(),n=Z.magnitude(r._hi);const i=Z.TEN.pow(n);r=r.divide(i),r.gt(Z.TEN)?(r=r.divide(Z.TEN),n+=1):r.lt(Z.ONE)&&(r=r.multiply(Z.TEN),n-=1);const o=n+1,a=new V,s=Z.MAX_PRINT_DIGITS-1;for(let e=0;e<=s;e++){t&&e===o&&a.append(".");const n=Math.trunc(r._hi);if(n<0)break;let i=!1,c=0;n>9?(i=!0,c="9"):c="0"+n,a.append(c),r=r.subtract(Z.valueOf(n)).multiply(Z.TEN),i&&r.selfAdd(Z.TEN);let l=!0;const u=Z.magnitude(r._hi);if(u<0&&Math.abs(u)>=s-e&&(l=!1),!l)break}return e[0]=n,a.toString()}sqr(){return this.multiply(this)}doubleValue(){return this._hi+this._lo}subtract(){if(arguments[0]instanceof Z){const t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){const t=arguments[0];return this.add(-t)}}equals(){if(1===arguments.length&&arguments[0]instanceof Z){const t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}}isZero(){return 0===this._hi&&0===this._lo}selfSubtract(){if(arguments[0]instanceof Z){const t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){const t=arguments[0];return this.isNaN()?this:this.selfAdd(-t,0)}}getSpecialNumberString(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}min(t){return this.le(t)?this:t}selfDivide(){if(1===arguments.length){if(arguments[0]instanceof Z){const t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){const t=arguments[0];return this.selfDivide(t,0)}}else if(2===arguments.length){const t=arguments[0],e=arguments[1];let r=null,n=null,i=null,o=null,a=null,s=null,c=null,l=null;return a=this._hi/t,s=Z.SPLIT*a,r=s-a,l=Z.SPLIT*t,r=s-r,n=a-r,i=l-t,c=a*t,i=l-i,o=t-i,l=r*i-c+r*o+n*i+n*o,s=(this._hi-c-l+this._lo-a*e)/t,l=a+s,this._hi=l,this._lo=a-l+s,this}}dump(){return"DD<"+this._hi+", "+this._lo+">"}divide(){if(arguments[0]instanceof Z){const t=arguments[0];let e=null,r=null,n=null,i=null,o=null,a=null,s=null,c=null;o=this._hi/t._hi,a=Z.SPLIT*o,e=a-o,c=Z.SPLIT*t._hi,e=a-e,r=o-e,n=c-t._hi,s=o*t._hi,n=c-n,i=t._hi-n,c=e*n-s+e*i+r*n+r*i,a=(this._hi-s-c+this._lo-o*t._lo)/t._hi,c=o+a;return new Z(c,o-c+a)}if("number"==typeof arguments[0]){const t=arguments[0];return o.isNaN(t)?Z.createNaN():Z.copy(this).selfDivide(t,0)}}ge(t){return this._hi>t._hi||this._hi===t._hi&&this._lo>=t._lo}pow(t){if(0===t)return Z.valueOf(1);let e=new Z(this),r=Z.valueOf(1),n=Math.abs(t);if(n>1)for(;n>0;)n%2==1&&r.selfMultiply(e),n/=2,n>0&&(e=e.sqr());else r=e;return t<0?r.reciprocal():r}ceil(){if(this.isNaN())return Z.NaN;const t=Math.ceil(this._hi);let e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new Z(t,e)}compareTo(t){const e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0}rint(){if(this.isNaN())return this;return this.add(.5).floor()}setValue(){if(arguments[0]instanceof Z){const t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){const t=arguments[0];return this.init(t),this}}max(t){return this.ge(t)?this:t}sqrt(){if(this.isZero())return Z.valueOf(0);if(this.isNegative())return Z.NaN;const t=1/Math.sqrt(this._hi),e=this._hi*t,r=Z.valueOf(e),n=this.subtract(r.sqr())._hi*(.5*t);return r.add(n)}selfAdd(){if(1===arguments.length){if(arguments[0]instanceof Z){const t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){const t=arguments[0];let e=null,r=null,n=null,i=null,o=null,a=null;return n=this._hi+t,o=n-this._hi,i=n-o,i=t-o+(this._hi-i),a=i+this._lo,e=n+a,r=a+(n-e),this._hi=e+r,this._lo=r+(e-this._hi),this}}else if(2===arguments.length){const t=arguments[0],e=arguments[1];let r=null,n=null,i=null,o=null,a=null,s=null,c=null,l=null;a=this._hi+t,i=this._lo+e,c=a-this._hi,l=i-this._lo,s=a-c,o=i-l,s=t-c+(this._hi-s),o=e-l+(this._lo-o),c=s+i,r=a+c,n=c+(a-r),c=o+n;const u=r+c,h=c+(r-u);return this._hi=u,this._lo=h,this}}selfMultiply(){if(1===arguments.length){if(arguments[0]instanceof Z){const t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){const t=arguments[0];return this.selfMultiply(t,0)}}else if(2===arguments.length){const t=arguments[0],e=arguments[1];let r=null,n=null,i=null,o=null,a=null,s=null;a=Z.SPLIT*this._hi,r=a-this._hi,s=Z.SPLIT*t,r=a-r,n=this._hi-r,i=s-t,a=this._hi*t,i=s-i,o=t-i,s=r*i-a+r*o+n*i+n*o+(this._hi*e+this._lo*t);const c=a+s;r=a-c;const l=s+r;return this._hi=c,this._lo=l,this}}selfSqr(){return this.selfMultiply(this)}floor(){if(this.isNaN())return Z.NaN;const t=Math.floor(this._hi);let e=0;return t===this._hi&&(e=Math.floor(this._lo)),new Z(t,e)}negate(){return this.isNaN()?this:new Z(-this._hi,-this._lo)}clone(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return null;throw t}}multiply(){if(arguments[0]instanceof Z){const t=arguments[0];return t.isNaN()?Z.createNaN():Z.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){const t=arguments[0];return o.isNaN(t)?Z.createNaN():Z.copy(this).selfMultiply(t,0)}}isNaN(){return o.isNaN(this._hi)}intValue(){return Math.trunc(this._hi)}toString(){const t=Z.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()}toStandardNotation(){const t=this.getSpecialNumberString();if(null!==t)return t;const e=new Array(1).fill(null),r=this.extractSignificantDigits(!0,e),n=e[0]+1;let i=r;if("."===r.charAt(0))i="0"+r;else if(n<0)i="0."+Z.stringOfChar("0",-n)+r;else if(-1===r.indexOf(".")){const t=n-r.length;i=r+Z.stringOfChar("0",t)+".0"}return this.isNegative()?"-"+i:i}reciprocal(){let t=null,e=null,r=null,n=null,i=null,o=null,a=null,s=null;i=1/this._hi,o=Z.SPLIT*i,t=o-i,s=Z.SPLIT*this._hi,t=o-t,e=i-t,r=s-this._hi,a=i*this._hi,r=s-r,n=this._hi-r,s=t*r-a+t*n+e*r+e*n,o=(1-a-s-i*this._lo)/this._hi;const c=i+o;return new Z(c,i-c+o)}toSciNotation(){if(this.isZero())return Z.SCI_NOT_ZERO;const t=this.getSpecialNumberString();if(null!==t)return t;const e=new Array(1).fill(null),r=this.extractSignificantDigits(!1,e),n=Z.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===r.charAt(0))throw new N("Found leading zero: "+r);let i="";r.length>1&&(i=r.substring(1));const o=r.charAt(0)+"."+i;return this.isNegative()?"-"+o+n:o+n}abs(){return this.isNaN()?Z.NaN:this.isNegative()?this.negate():new Z(this)}isPositive(){return this._hi>0||0===this._hi&&this._lo>0}lt(t){return this._hi<t._hi||this._hi===t._hi&&this._lo<t._lo}add(){if(arguments[0]instanceof Z){const t=arguments[0];return Z.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){const t=arguments[0];return Z.copy(this).selfAdd(t)}}init(){if(1===arguments.length){if("number"==typeof arguments[0]){const t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof Z){const t=arguments[0];this._hi=t._hi,this._lo=t._lo}}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this._hi=t,this._lo=e}}gt(t){return this._hi>t._hi||this._hi===t._hi&&this._lo>t._lo}isNegative(){return this._hi<0||0===this._hi&&this._lo<0}trunc(){return this.isNaN()?Z.NaN:this.isPositive()?this.floor():this.ceil()}signum(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}get interfaces_(){return[p,f,a]}}Z.PI=new Z(3.141592653589793,12246467991473532e-32),Z.TWO_PI=new Z(6.283185307179586,24492935982947064e-32),Z.PI_2=new Z(1.5707963267948966,6123233995736766e-32),Z.E=new Z(2.718281828459045,14456468917292502e-32),Z.NaN=new Z(o.NaN,o.NaN),Z.EPS=123259516440783e-46,Z.SPLIT=134217729,Z.MAX_PRINT_DIGITS=32,Z.TEN=Z.valueOf(10),Z.ONE=Z.valueOf(1),Z.SCI_NOT_EXPONENT_CHAR="E",Z.SCI_NOT_ZERO="0.0E0";class K{static orientationIndex(t,e,r){const n=K.orientationIndexFilter(t,e,r);if(n<=1)return n;const i=Z.valueOf(e.x).selfAdd(-t.x),o=Z.valueOf(e.y).selfAdd(-t.y),a=Z.valueOf(r.x).selfAdd(-e.x),s=Z.valueOf(r.y).selfAdd(-e.y);return i.selfMultiply(s).selfSubtract(o.selfMultiply(a)).signum()}static signOfDet2x2(){if(arguments[3]instanceof Z&&arguments[2]instanceof Z&&arguments[0]instanceof Z&&arguments[1]instanceof Z){const t=arguments[1],e=arguments[2],r=arguments[3];return arguments[0].multiply(r).selfSubtract(t.multiply(e)).signum()}if("number"==typeof arguments[3]&&"number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){const t=arguments[0],e=arguments[1],r=arguments[2],n=arguments[3],i=Z.valueOf(t),o=Z.valueOf(e),a=Z.valueOf(r),s=Z.valueOf(n);return i.multiply(s).selfSubtract(o.multiply(a)).signum()}}static intersection(t,e,r,n){const i=new Z(t.y).selfSubtract(e.y),a=new Z(e.x).selfSubtract(t.x),s=new Z(t.x).selfMultiply(e.y).selfSubtract(new Z(e.x).selfMultiply(t.y)),c=new Z(r.y).selfSubtract(n.y),l=new Z(n.x).selfSubtract(r.x),u=new Z(r.x).selfMultiply(n.y).selfSubtract(new Z(n.x).selfMultiply(r.y)),h=a.multiply(u).selfSubtract(l.multiply(s)),f=c.multiply(s).selfSubtract(i.multiply(u)),p=i.multiply(l).selfSubtract(c.multiply(a)),d=h.selfDivide(p).doubleValue(),m=f.selfDivide(p).doubleValue();return o.isNaN(d)||o.isInfinite(d)||o.isNaN(m)||o.isInfinite(m)?null:new w(d,m)}static orientationIndexFilter(t,e,r){let n=null;const i=(t.x-r.x)*(e.y-r.y),o=(t.y-r.y)*(e.x-r.x),a=i-o;if(i>0){if(o<=0)return K.signum(a);n=i+o}else{if(!(i<0))return K.signum(a);if(o>=0)return K.signum(a);n=-i-o}const s=K.DP_SAFE_EPSILON*n;return a>=s||-a>=s?K.signum(a):2}static signum(t){return t>0?1:t<0?-1:0}}K.DP_SAFE_EPSILON=1e-15;class H{static index(t,e,r){return K.orientationIndex(t,e,r)}static isCCW(){if(arguments[0]instanceof Array){const t=arguments[0],e=t.length-1;if(e<3)throw new u("Ring has fewer than 4 points, so orientation cannot be determined");let r=t[0],n=0;for(let i=1;i<=e;i++){const e=t[i];e.y>r.y&&(r=e,n=i)}let i=n;do{i-=1,i<0&&(i=e)}while(t[i].equals2D(r)&&i!==n);let o=n;do{o=(o+1)%e}while(t[o].equals2D(r)&&o!==n);const a=t[i],s=t[o];if(a.equals2D(r)||s.equals2D(r)||a.equals2D(s))return!1;const c=H.index(a,r,s);let l=null;return l=0===c?a.x>s.x:c>0,l}if(n(arguments[0],s)){const t=arguments[0],e=t.size()-1;if(e<3)throw new u("Ring has fewer than 4 points, so orientation cannot be determined");let r=t.getCoordinate(0),n=0;for(let i=1;i<=e;i++){const e=t.getCoordinate(i);e.y>r.y&&(r=e,n=i)}let i=null,o=n;do{o-=1,o<0&&(o=e),i=t.getCoordinate(o)}while(i.equals2D(r)&&o!==n);let a=null,s=n;do{s=(s+1)%e,a=t.getCoordinate(s)}while(a.equals2D(r)&&s!==n);if(i.equals2D(r)||a.equals2D(r)||i.equals2D(a))return!1;const c=H.index(i,r,a);let l=null;return l=0===c?i.x>a.x:c>0,l}}}H.CLOCKWISE=-1,H.RIGHT=H.CLOCKWISE,H.COUNTERCLOCKWISE=1,H.LEFT=H.COUNTERCLOCKWISE,H.COLLINEAR=0,H.STRAIGHT=H.COLLINEAR;class J{}class Q extends x{constructor(){super(),Q.constructor_.apply(this,arguments)}static constructor_(){this._shell=null,this._holes=null;let t=arguments[0],e=arguments[1],r=arguments[2];if(x.constructor_.call(this,r),null===t&&(t=this.getFactory().createLinearRing()),null===e&&(e=[]),x.hasNullElements(e))throw new u("holes must not contain null elements");if(t.isEmpty()&&x.hasNonEmptyElements(e))throw new u("shell is empty but holes are not");this._shell=t,this._holes=e}computeEnvelopeInternal(){return this._shell.getEnvelopeInternal()}getCoordinates(){if(this.isEmpty())return[];const t=new Array(this.getNumPoints()).fill(null);let e=-1;const r=this._shell.getCoordinates();for(let n=0;n<r.length;n++)e++,t[e]=r[n];for(let r=0;r<this._holes.length;r++){const n=this._holes[r].getCoordinates();for(let r=0;r<n.length;r++)e++,t[e]=n[r]}return t}getArea(){let t=0;t+=F.ofRing(this._shell.getCoordinateSequence());for(let e=0;e<this._holes.length;e++)t-=F.ofRing(this._holes[e].getCoordinateSequence());return t}copyInternal(){const t=this._shell.copy(),e=new Array(this._holes.length).fill(null);for(let t=0;t<this._holes.length;t++)e[t]=this._holes[t].copy();return new Q(t,e,this._factory)}isRectangle(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;const t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal();for(let r=0;r<5;r++){const n=t.getX(r);if(n!==e.getMinX()&&n!==e.getMaxX())return!1;const i=t.getY(r);if(i!==e.getMinY()&&i!==e.getMaxY())return!1}let r=t.getX(0),n=t.getY(0);for(let e=1;e<=4;e++){const i=t.getX(e),o=t.getY(e);if(i!==r===(o!==n))return!1;r=i,n=o}return!0}equalsExact(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof x){const t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;const r=t,n=this._shell,i=r._shell;if(!n.equalsExact(i,e))return!1;if(this._holes.length!==r._holes.length)return!1;for(let t=0;t<this._holes.length;t++)if(!this._holes[t].equalsExact(r._holes[t],e))return!1;return!0}return super.equalsExact.apply(this,arguments)}normalize(){if(0===arguments.length){this._shell=this.normalized(this._shell,!0);for(let t=0;t<this._holes.length;t++)this._holes[t]=this.normalized(this._holes[t],!1);q.sort(this._holes)}else if(2===arguments.length){const t=arguments[0],e=arguments[1];if(t.isEmpty())return null;const r=t.getCoordinateSequence(),n=P.minCoordinateIndex(r,0,r.size()-2);P.scroll(r,n,!0),H.isCCW(r)===e&&P.reverse(r)}}getCoordinate(){return this._shell.getCoordinate()}getNumInteriorRing(){return this._holes.length}getBoundaryDimension(){return 1}reverseInternal(){const t=this.getExteriorRing().reverse(),e=new Array(this.getNumInteriorRing()).fill(null);for(let t=0;t<e.length;t++)e[t]=this.getInteriorRingN(t).reverse();return this.getFactory().createPolygon(t,e)}getTypeCode(){return x.TYPECODE_POLYGON}getDimension(){return 2}getLength(){let t=0;t+=this._shell.getLength();for(let e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t}getNumPoints(){let t=this._shell.getNumPoints();for(let e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t}convexHull(){return this.getExteriorRing().convexHull()}normalized(t,e){const r=t.copy();return this.normalize(r,e),r}compareToSameClass(){if(1===arguments.length){const t=arguments[0],e=this._shell,r=t._shell;return e.compareToSameClass(r)}if(2===arguments.length){const t=arguments[1],e=arguments[0],r=this._shell,n=e._shell,i=r.compareToSameClass(n,t);if(0!==i)return i;const o=this.getNumInteriorRing(),a=e.getNumInteriorRing();let s=0;for(;s<o&&s<a;){const r=this.getInteriorRingN(s),n=e.getInteriorRingN(s),i=r.compareToSameClass(n,t);if(0!==i)return i;s++}return s<o?1:s<a?-1:0}}apply(){if(n(arguments[0],S)){const t=arguments[0];this._shell.apply(t);for(let e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(n(arguments[0],C)){const t=arguments[0];if(this._shell.apply(t),!t.isDone())for(let e=0;e<this._holes.length&&(this._holes[e].apply(t),!t.isDone());e++);t.isGeometryChanged()&&this.geometryChanged()}else if(n(arguments[0],R)){arguments[0].filter(this)}else if(n(arguments[0],h)){const t=arguments[0];t.filter(this),this._shell.apply(t);for(let e=0;e<this._holes.length;e++)this._holes[e].apply(t)}}getBoundary(){if(this.isEmpty())return this.getFactory().createMultiLineString();const t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(let e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)}getGeometryType(){return x.TYPENAME_POLYGON}getExteriorRing(){return this._shell}isEmpty(){return this._shell.isEmpty()}getInteriorRingN(t){return this._holes[t]}get interfaces_(){return[J]}}class $ extends B{contains(){}}class tt extends ${}class et extends tt{constructor(t){super(),this.array=[],t instanceof B&&this.addAll(t)}contains(t){for(const e of this.array)if(0===e.compareTo(t))return!0;return!1}add(t){if(this.contains(t))return!1;for(let e=0,r=this.array.length;e<r;e++){if(1===this.array[e].compareTo(t))return!!this.array.splice(e,0,t)}return this.array.push(t),!0}addAll(t){for(const e of t)this.add(e);return!0}remove(){throw new T}size(){return this.array.length}isEmpty(){return 0===this.array.length}toArray(){return this.array.slice()}iterator(){return new rt(this.array)}}class rt{constructor(t){this.array=t,this.position=0}next(){if(this.position===this.array.length)throw new z;return this.array[this.position++]}hasNext(){return this.position<this.array.length}remove(){throw new T}}class nt extends x{constructor(){super(),nt.constructor_.apply(this,arguments)}static constructor_(){if(this._geometries=null,0===arguments.length);else if(2===arguments.length){let t=arguments[0],e=arguments[1];if(x.constructor_.call(this,e),null===t&&(t=[]),x.hasNullElements(t))throw new u("geometries must not contain null elements");this._geometries=t}}computeEnvelopeInternal(){const t=new E;for(let e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t}getGeometryN(t){return this._geometries[t]}getCoordinates(){const t=new Array(this.getNumPoints()).fill(null);let e=-1;for(let r=0;r<this._geometries.length;r++){const n=this._geometries[r].getCoordinates();for(let r=0;r<n.length;r++)e++,t[e]=n[r]}return t}getArea(){let t=0;for(let e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t}copyInternal(){const t=new Array(this._geometries.length).fill(null);for(let e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new nt(t,this._factory)}equalsExact(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof x){const t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;const r=t;if(this._geometries.length!==r._geometries.length)return!1;for(let t=0;t<this._geometries.length;t++)if(!this._geometries[t].equalsExact(r._geometries[t],e))return!1;return!0}return super.equalsExact.apply(this,arguments)}normalize(){for(let t=0;t<this._geometries.length;t++)this._geometries[t].normalize();q.sort(this._geometries)}getCoordinate(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}getBoundaryDimension(){let t=L.FALSE;for(let e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t}reverseInternal(){const t=this._geometries.length,e=new W(t);for(let r=0;r<t;r++)e.add(this._geometries[r].reverse());return this.getFactory().buildGeometry(e)}getTypeCode(){return x.TYPECODE_GEOMETRYCOLLECTION}getDimension(){let t=L.FALSE;for(let e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t}getLength(){let t=0;for(let e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t}getNumPoints(){let t=0;for(let e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t}getNumGeometries(){return this._geometries.length}compareToSameClass(){if(1===arguments.length){const t=arguments[0],e=new et(q.asList(this._geometries)),r=new et(q.asList(t._geometries));return this.compare(e,r)}if(2===arguments.length){const t=arguments[1],e=arguments[0],r=this.getNumGeometries(),n=e.getNumGeometries();let i=0;for(;i<r&&i<n;){const r=this.getGeometryN(i),n=e.getGeometryN(i),o=r.compareToSameClass(n,t);if(0!==o)return o;i++}return i<r?1:i<n?-1:0}}apply(){if(n(arguments[0],S)){const t=arguments[0];for(let e=0;e<this._geometries.length;e++)this._geometries[e].apply(t)}else if(n(arguments[0],C)){const t=arguments[0];if(0===this._geometries.length)return null;for(let e=0;e<this._geometries.length&&(this._geometries[e].apply(t),!t.isDone());e++);t.isGeometryChanged()&&this.geometryChanged()}else if(n(arguments[0],R)){const t=arguments[0];t.filter(this);for(let e=0;e<this._geometries.length;e++)this._geometries[e].apply(t)}else if(n(arguments[0],h)){const t=arguments[0];t.filter(this);for(let e=0;e<this._geometries.length;e++)this._geometries[e].apply(t)}}getBoundary(){return x.checkNotGeometryCollection(this),_.shouldNeverReachHere(),null}getGeometryType(){return x.TYPENAME_GEOMETRYCOLLECTION}isEmpty(){for(let t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0}}class it extends nt{constructor(){super(),it.constructor_.apply(this,arguments)}static constructor_(){const t=arguments[0],e=arguments[1];nt.constructor_.call(this,t,e)}copyInternal(){const t=new Array(this._geometries.length).fill(null);for(let e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new it(t,this._factory)}isValid(){return!0}equalsExact(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof x){const t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&super.equalsExact.call(this,t,e)}return super.equalsExact.apply(this,arguments)}getCoordinate(){if(1===arguments.length&&Number.isInteger(arguments[0])){const t=arguments[0];return this._geometries[t].getCoordinate()}return super.getCoordinate.apply(this,arguments)}getBoundaryDimension(){return L.FALSE}getTypeCode(){return x.TYPECODE_MULTIPOINT}getDimension(){return 0}getBoundary(){return this.getFactory().createGeometryCollection()}getGeometryType(){return x.TYPENAME_MULTIPOINT}get interfaces_(){return[k]}}class ot extends A{constructor(){super(),ot.constructor_.apply(this,arguments)}static constructor_(){const t=arguments[0],e=arguments[1];A.constructor_.call(this,t,e),this.validateConstruction()}copyInternal(){return new ot(this._points.copy(),this._factory)}getBoundaryDimension(){return L.FALSE}isClosed(){return!!this.isEmpty()||super.isClosed.call(this)}reverseInternal(){const t=this._points.copy();return P.reverse(t),this.getFactory().createLinearRing(t)}getTypeCode(){return x.TYPECODE_LINEARRING}validateConstruction(){if(!this.isEmpty()&&!super.isClosed.call(this))throw new u("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<ot.MINIMUM_VALID_SIZE)throw new u("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}getGeometryType(){return x.TYPENAME_LINEARRING}}ot.MINIMUM_VALID_SIZE=4;class at extends w{constructor(){super(),at.constructor_.apply(this,arguments)}static constructor_(){if(0===arguments.length)w.constructor_.call(this);else if(1===arguments.length){if(arguments[0]instanceof at){const t=arguments[0];w.constructor_.call(this,t.x,t.y)}else if(arguments[0]instanceof w){const t=arguments[0];w.constructor_.call(this,t.x,t.y)}}else if(2===arguments.length){const t=arguments[0],e=arguments[1];w.constructor_.call(this,t,e,w.NULL_ORDINATE)}}setOrdinate(t,e){switch(t){case at.X:this.x=e;break;case at.Y:this.y=e;break;default:throw new u("Invalid ordinate index: "+t)}}getZ(){return w.NULL_ORDINATE}getOrdinate(t){switch(t){case at.X:return this.x;case at.Y:return this.y}throw new u("Invalid ordinate index: "+t)}setZ(t){throw new u("CoordinateXY dimension 2 does not support z-ordinate")}copy(){return new at(this)}toString(){return"("+this.x+", "+this.y+")"}setCoordinate(t){this.x=t.x,this.y=t.y,this.z=t.getZ()}}at.X=0,at.Y=1,at.Z=-1,at.M=-1;class st extends w{constructor(){super(),st.constructor_.apply(this,arguments)}static constructor_(){if(this._m=null,0===arguments.length)w.constructor_.call(this),this._m=0;else if(1===arguments.length){if(arguments[0]instanceof st){const t=arguments[0];w.constructor_.call(this,t.x,t.y),this._m=t._m}else if(arguments[0]instanceof w){const t=arguments[0];w.constructor_.call(this,t.x,t.y),this._m=this.getM()}}else if(3===arguments.length){const t=arguments[0],e=arguments[1],r=arguments[2];w.constructor_.call(this,t,e,w.NULL_ORDINATE),this._m=r}}getM(){return this._m}setOrdinate(t,e){switch(t){case st.X:this.x=e;break;case st.Y:this.y=e;break;case st.M:this._m=e;break;default:throw new u("Invalid ordinate index: "+t)}}setM(t){this._m=t}getZ(){return w.NULL_ORDINATE}getOrdinate(t){switch(t){case st.X:return this.x;case st.Y:return this.y;case st.M:return this._m}throw new u("Invalid ordinate index: "+t)}setZ(t){throw new u("CoordinateXY dimension 2 does not support z-ordinate")}copy(){return new st(this)}toString(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}setCoordinate(t){this.x=t.x,this.y=t.y,this.z=t.getZ(),this._m=t.getM()}}st.X=0,st.Y=1,st.Z=-1,st.M=2;class ct extends w{constructor(){super(),ct.constructor_.apply(this,arguments)}static constructor_(){if(this._m=null,0===arguments.length)w.constructor_.call(this),this._m=0;else if(1===arguments.length){if(arguments[0]instanceof ct){const t=arguments[0];w.constructor_.call(this,t),this._m=t._m}else if(arguments[0]instanceof w){const t=arguments[0];w.constructor_.call(this,t),this._m=this.getM()}}else if(4===arguments.length){const t=arguments[0],e=arguments[1],r=arguments[2],n=arguments[3];w.constructor_.call(this,t,e,r),this._m=n}}getM(){return this._m}setOrdinate(t,e){switch(t){case w.X:this.x=e;break;case w.Y:this.y=e;break;case w.Z:this.z=e;break;case w.M:this._m=e;break;default:throw new u("Invalid ordinate index: "+t)}}setM(t){this._m=t}getOrdinate(t){switch(t){case w.X:return this.x;case w.Y:return this.y;case w.Z:return this.getZ();case w.M:return this.getM()}throw new u("Invalid ordinate index: "+t)}copy(){return new ct(this)}toString(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}setCoordinate(t){this.x=t.x,this.y=t.y,this.z=t.getZ(),this._m=t.getM()}}class lt{static measures(t){return t instanceof at?0:t instanceof st||t instanceof ct?1:0}static dimension(t){return t instanceof at?2:t instanceof st?3:t instanceof ct?4:3}static create(){if(1===arguments.length){const t=arguments[0];return lt.create(t,0)}if(2===arguments.length){const t=arguments[0],e=arguments[1];return 2===t?new at:3===t&&0===e?new w:3===t&&1===e?new st:4===t&&1===e?new ct:new w}}}class ut extends W{constructor(){super(),ut.constructor_.apply(this,arguments)}static constructor_(){if(0===arguments.length);else if(1===arguments.length){const t=arguments[0];this.ensureCapacity(t.length),this.add(t,!0)}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this.ensureCapacity(t.length),this.add(t,e)}}getCoordinate(t){return this.get(t)}addAll(){if(2===arguments.length&&"boolean"==typeof arguments[1]&&n(arguments[0],B)){const t=arguments[1];let e=!1;for(let r=arguments[0].iterator();r.hasNext();)this.add(r.next(),t),e=!0;return e}return super.addAll.apply(this,arguments)}clone(){const t=super.clone.call(this);for(let e=0;e<this.size();e++)t.add(e,this.get(e).clone());return t}toCoordinateArray(){if(0===arguments.length)return this.toArray(ut.coordArrayType);if(1===arguments.length){if(arguments[0])return this.toArray(ut.coordArrayType);const t=this.size(),e=new Array(t).fill(null);for(let r=0;r<t;r++)e[r]=this.get(t-r-1);return e}}add(){if(1===arguments.length){const t=arguments[0];return super.add.call(this,t)}if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){const t=arguments[0],e=arguments[1];return this.add(t,e,!0),!0}if(arguments[0]instanceof w&&"boolean"==typeof arguments[1]){const t=arguments[0];if(!arguments[1]&&this.size()>=1){if(this.get(this.size()-1).equals2D(t))return null}super.add.call(this,t)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){const t=arguments[0],e=arguments[1];return this.add(t,e),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){const t=arguments[0],e=arguments[1];if(arguments[2])for(let r=0;r<t.length;r++)this.add(t[r],e);else for(let r=t.length-1;r>=0;r--)this.add(t[r],e);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof w){const t=arguments[0],e=arguments[1];if(!arguments[2]){const r=this.size();if(r>0){if(t>0){if(this.get(t-1).equals2D(e))return null}if(t<r){if(this.get(t).equals2D(e))return null}}}super.add.call(this,t,e)}}else if(4===arguments.length){const t=arguments[0],e=arguments[1],r=arguments[2],n=arguments[3];let i=1;r>n&&(i=-1);for(let o=r;o!==n;o+=i)this.add(t[o],e);return!0}}closeRing(){if(this.size()>0){const t=this.get(0).copy();this.add(t,!1)}}}ut.coordArrayType=new Array(0).fill(null);class ht{static log10(t){const e=Math.log(t);return o.isInfinite(e)||o.isNaN(e)?e:e/ht.LOG_10}static min(t,e,r,n){let i=t;return e<i&&(i=e),r<i&&(i=r),n<i&&(i=n),i}static clamp(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){const t=arguments[0],e=arguments[1],r=arguments[2];return t<e?e:t>r?r:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){const t=arguments[0],e=arguments[1],r=arguments[2];return t<e?e:t>r?r:t}}static wrap(t,e){return t<0?e- -t%e:t%e}static max(){if(3===arguments.length){const t=arguments[1],e=arguments[2];let r=arguments[0];return t>r&&(r=t),e>r&&(r=e),r}if(4===arguments.length){const t=arguments[1],e=arguments[2],r=arguments[3];let n=arguments[0];return t>n&&(n=t),e>n&&(n=e),r>n&&(n=r),n}}static average(t,e){return(t+e)/2}}ht.LOG_10=Math.log(10);class ft{static arraycopy(t,e,r,n,i){let o=0;for(let a=e;a<e+i;a++)r[n+o]=t[a],o++}static getProperty(t){return{"line.separator":"\n"}[t]}}class pt{static isRing(t){return!(t.length<4)&&!!t[0].equals2D(t[t.length-1])}static ptNotInList(t,e){for(let r=0;r<t.length;r++){const n=t[r];if(pt.indexOf(n,e)<0)return n}return null}static scroll(t,e){const r=pt.indexOf(e,t);if(r<0)return null;const n=new Array(t.length).fill(null);ft.arraycopy(t,r,n,0,t.length-r),ft.arraycopy(t,0,n,t.length-r,r),ft.arraycopy(n,0,t,0,t.length)}static equals(){if(2===arguments.length){const t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].equals(e[r]))return!1;return!0}if(3===arguments.length){const t=arguments[0],e=arguments[1],r=arguments[2];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(0!==r.compare(t[n],e[n]))return!1;return!0}}static intersection(t,e){const r=new ut;for(let n=0;n<t.length;n++)e.intersects(t[n])&&r.add(t[n],!0);return r.toCoordinateArray()}static measures(t){if(null===t||0===t.length)return 0;let e=0;for(const r of t)e=Math.max(e,lt.measures(r));return e}static hasRepeatedPoints(t){for(let e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1}static removeRepeatedPoints(t){if(!pt.hasRepeatedPoints(t))return t;return new ut(t,!1).toCoordinateArray()}static reverse(t){const e=t.length-1,r=Math.trunc(e/2);for(let n=0;n<=r;n++){const r=t[n];t[n]=t[e-n],t[e-n]=r}}static removeNull(t){let e=0;for(let r=0;r<t.length;r++)null!==t[r]&&e++;const r=new Array(e).fill(null);if(0===e)return r;let n=0;for(let e=0;e<t.length;e++)null!==t[e]&&(r[n++]=t[e]);return r}static copyDeep(){if(1===arguments.length){const t=arguments[0],e=new Array(t.length).fill(null);for(let r=0;r<t.length;r++)e[r]=t[r].copy();return e}if(5===arguments.length){const t=arguments[0],e=arguments[1],r=arguments[2],n=arguments[3],i=arguments[4];for(let o=0;o<i;o++)r[n+o]=t[e+o].copy()}}static isEqualReversed(t,e){for(let r=0;r<t.length;r++){const n=t[r],i=e[t.length-r-1];if(0!==n.compareTo(i))return!1}return!0}static envelope(t){const e=new E;for(let r=0;r<t.length;r++)e.expandToInclude(t[r]);return e}static toCoordinateArray(t){return t.toArray(pt.coordArrayType)}static dimension(t){if(null===t||0===t.length)return 3;let e=0;for(const r of t)e=Math.max(e,lt.dimension(r));return e}static atLeastNCoordinatesOrNothing(t,e){return e.length>=t?e:[]}static indexOf(t,e){for(let r=0;r<e.length;r++)if(t.equals(e[r]))return r;return-1}static increasingDirection(t){for(let e=0;e<Math.trunc(t.length/2);e++){const r=t.length-1-e,n=t[e].compareTo(t[r]);if(0!==n)return n}return 1}static compare(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t[r].compareTo(e[r]);if(0!==n)return n;r++}return r<e.length?-1:r<t.length?1:0}static minCoordinate(t){let e=null;for(let r=0;r<t.length;r++)(null===e||e.compareTo(t[r])>0)&&(e=t[r]);return e}static extract(t,e,r){e=ht.clamp(e,0,t.length);let n=(r=ht.clamp(r,-1,t.length))-e+1;r<0&&(n=0),e>=t.length&&(n=0),r<e&&(n=0);const i=new Array(n).fill(null);if(0===n)return i;let o=0;for(let n=e;n<=r;n++)i[o++]=t[n];return i}}pt.ForwardComparator=class{compare(t,e){const r=t,n=e;return pt.compare(r,n)}get interfaces_(){return[m]}},pt.BidirectionalComparator=class{compare(t,e){const r=t,n=e;if(r.length<n.length)return-1;if(r.length>n.length)return 1;if(0===r.length)return 0;const i=pt.compare(r,n);return pt.isEqualReversed(r,n)?0:i}OLDcompare(t,e){const r=t,n=e;if(r.length<n.length)return-1;if(r.length>n.length)return 1;if(0===r.length)return 0;const i=pt.increasingDirection(r),o=pt.increasingDirection(n);let a=i>0?0:r.length-1,s=o>0?0:r.length-1;for(let t=0;t<r.length;t++){const t=r[a].compareTo(n[s]);if(0!==t)return t;a+=i,s+=o}return 0}get interfaces_(){return[m]}},pt.coordArrayType=new Array(0).fill(null);class dt{constructor(t){this.str=t}append(t){this.str+=t}setCharAt(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)}toString(){return this.str}}class mt{constructor(){mt.constructor_.apply(this,arguments)}static constructor_(){if(this._dimension=3,this._measures=0,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array){const t=arguments[0];mt.constructor_.call(this,t,pt.dimension(t),pt.measures(t))}else if(Number.isInteger(arguments[0])){const t=arguments[0];this._coordinates=new Array(t).fill(null);for(let e=0;e<t;e++)this._coordinates[e]=new w}else if(n(arguments[0],s)){const t=arguments[0];if(null===t)return this._coordinates=new Array(0).fill(null),null;this._dimension=t.getDimension(),this._measures=t.getMeasures(),this._coordinates=new Array(t.size()).fill(null);for(let e=0;e<this._coordinates.length;e++)this._coordinates[e]=t.getCoordinateCopy(e)}}else if(2===arguments.length){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){const t=arguments[0],e=arguments[1];mt.constructor_.call(this,t,e,pt.measures(t))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){const t=arguments[0],e=arguments[1];this._coordinates=new Array(t).fill(null),this._dimension=e;for(let r=0;r<t;r++)this._coordinates[r]=lt.create(e)}}else if(3===arguments.length)if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){const t=arguments[0],e=arguments[1],r=arguments[2];this._dimension=e,this._measures=r,this._coordinates=null===t?new Array(0).fill(null):t}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){const t=arguments[0],e=arguments[1],r=arguments[2];this._coordinates=new Array(t).fill(null),this._dimension=e,this._measures=r;for(let e=0;e<t;e++)this._coordinates[e]=this.createCoordinate()}}getM(t){return this.hasM()?this._coordinates[t].getM():o.NaN}setOrdinate(t,e,r){switch(e){case s.X:this._coordinates[t].x=r;break;case s.Y:this._coordinates[t].y=r;break;default:this._coordinates[t].setOrdinate(e,r)}}getZ(t){return this.hasZ()?this._coordinates[t].getZ():o.NaN}size(){return this._coordinates.length}getOrdinate(t,e){switch(e){case s.X:return this._coordinates[t].x;case s.Y:return this._coordinates[t].y;default:return this._coordinates[t].getOrdinate(e)}}getCoordinate(){if(1===arguments.length){const t=arguments[0];return this._coordinates[t]}if(2===arguments.length){const t=arguments[0];arguments[1].setCoordinate(this._coordinates[t])}}getCoordinateCopy(t){const e=this.createCoordinate();return e.setCoordinate(this._coordinates[t]),e}createCoordinate(){return lt.create(this.getDimension(),this.getMeasures())}getDimension(){return this._dimension}getX(t){return this._coordinates[t].x}getMeasures(){return this._measures}expandEnvelope(t){for(let e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t}copy(){const t=new Array(this.size()).fill(null);for(let e=0;e<this._coordinates.length;e++){const r=this.createCoordinate();r.setCoordinate(this._coordinates[e]),t[e]=r}return new mt(t,this._dimension,this._measures)}toString(){if(this._coordinates.length>0){const t=new dt(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(let e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"}getY(t){return this._coordinates[t].y}toCoordinateArray(){return this._coordinates}get interfaces_(){return[s,p]}}class yt{static instance(){return yt.instanceObject}readResolve(){return yt.instance()}create(){if(1===arguments.length){if(arguments[0]instanceof Array){return new mt(arguments[0])}if(n(arguments[0],s)){return new mt(arguments[0])}}else{if(2===arguments.length){let t=arguments[1];return t>3&&(t=3),t<2&&(t=2),new mt(arguments[0],t)}if(3===arguments.length){let t=arguments[2],e=arguments[1]-t;return t>1&&(t=1),e>3&&(e=3),e<2&&(e=2),new mt(arguments[0],e+t,t)}}}get interfaces_(){return[c,p]}}yt.instanceObject=new yt;class gt extends nt{constructor(){super(),gt.constructor_.apply(this,arguments)}static constructor_(){const t=arguments[0],e=arguments[1];nt.constructor_.call(this,t,e)}copyInternal(){const t=new Array(this._geometries.length).fill(null);for(let e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new gt(t,this._factory)}equalsExact(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof x){const t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&super.equalsExact.call(this,t,e)}return super.equalsExact.apply(this,arguments)}getBoundaryDimension(){return 1}getTypeCode(){return x.TYPECODE_MULTIPOLYGON}getDimension(){return 2}getBoundary(){if(this.isEmpty())return this.getFactory().createMultiLineString();const t=new W;for(let e=0;e<this._geometries.length;e++){const r=this._geometries[e].getBoundary();for(let e=0;e<r.getNumGeometries();e++)t.add(r.getGeometryN(e))}const e=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(e))}getGeometryType(){return x.TYPENAME_MULTIPOLYGON}get interfaces_(){return[J]}}class _t{get(){}put(){}size(){}values(){}entrySet(){}}class bt extends ${constructor(t){super(),this.map=new Map,t instanceof B&&this.addAll(t)}contains(t){const e=t.hashCode?t.hashCode():t;return!!this.map.has(e)}add(t){const e=t.hashCode?t.hashCode():t;return!this.map.has(e)&&!!this.map.set(e,t)}addAll(t){for(const e of t)this.add(e);return!0}remove(){throw new T}size(){return this.map.size}isEmpty(){return 0===this.map.size}toArray(){return Array.from(this.map.values())}iterator(){return new vt(this.map)}[Symbol.iterator](){return this.map}}class vt{constructor(t){this.iterator=t.values();const{done:e,value:r}=this.iterator.next();this.done=e,this.value=r}next(){if(this.done)throw new z;const t=this.value,{done:e,value:r}=this.iterator.next();return this.done=e,this.value=r,t}hasNext(){return!this.done}remove(){throw new T}}class Ot extends _t{constructor(){super(),this.map=new Map}get(t){return this.map.get(t)||null}put(t,e){return this.map.set(t,e),e}values(){const t=new W,e=this.map.values();let r=e.next();for(;!r.done;)t.add(r.value),r=e.next();return t}entrySet(){const t=new bt;return this.map.entries().forEach(e=>t.add(e)),t}size(){return this.map.size()}}class wt{constructor(){wt.constructor_.apply(this,arguments)}static constructor_(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=wt.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof Mt){const t=arguments[0];this._modelType=t,t===wt.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){const t=arguments[0];this._modelType=wt.FIXED,this.setScale(t)}else if(arguments[0]instanceof wt){const t=arguments[0];this._modelType=t._modelType,this._scale=t._scale}}static mostPrecise(t,e){return t.compareTo(e)>=0?t:e}equals(t){if(!(t instanceof wt))return!1;const e=t;return this._modelType===e._modelType&&this._scale===e._scale}compareTo(t){const e=t,r=this.getMaximumSignificantDigits(),n=e.getMaximumSignificantDigits();return Y.compare(r,n)}getScale(){return this._scale}isFloating(){return this._modelType===wt.FLOATING||this._modelType===wt.FLOATING_SINGLE}getType(){return this._modelType}toString(){let t="UNKNOWN";return this._modelType===wt.FLOATING?t="Floating":this._modelType===wt.FLOATING_SINGLE?t="Floating-Single":this._modelType===wt.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t}makePrecise(){if("number"==typeof arguments[0]){const t=arguments[0];if(o.isNaN(t))return t;if(this._modelType===wt.FLOATING_SINGLE){return t}return this._modelType===wt.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof w){const t=arguments[0];if(this._modelType===wt.FLOATING)return null;t.x=this.makePrecise(t.x),t.y=this.makePrecise(t.y)}}getMaximumSignificantDigits(){let t=16;return this._modelType===wt.FLOATING?t=16:this._modelType===wt.FLOATING_SINGLE?t=6:this._modelType===wt.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t}setScale(t){this._scale=Math.abs(t)}get interfaces_(){return[p,f]}}class Mt{constructor(){Mt.constructor_.apply(this,arguments)}static constructor_(){this._name=null;const t=arguments[0];this._name=t,Mt.nameToTypeMap.put(t,this)}readResolve(){return Mt.nameToTypeMap.get(this._name)}toString(){return this._name}get interfaces_(){return[p]}}Mt.nameToTypeMap=new Ot,wt.Type=Mt,wt.FIXED=new Mt("FIXED"),wt.FLOATING=new Mt("FLOATING"),wt.FLOATING_SINGLE=new Mt("FLOATING SINGLE"),wt.maximumPreciseValue=9007199254740992;class Et extends nt{constructor(){super(),Et.constructor_.apply(this,arguments)}static constructor_(){const t=arguments[0],e=arguments[1];nt.constructor_.call(this,t,e)}copyInternal(){const t=new Array(this._geometries.length).fill(null);for(let e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new Et(t,this._factory)}equalsExact(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof x){const t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&super.equalsExact.call(this,t,e)}return super.equalsExact.apply(this,arguments)}getBoundaryDimension(){return this.isClosed()?L.FALSE:0}isClosed(){if(this.isEmpty())return!1;for(let t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0}getTypeCode(){return x.TYPECODE_MULTILINESTRING}getDimension(){return 1}getBoundary(){throw new T}getGeometryType(){return x.TYPENAME_MULTILINESTRING}get interfaces_(){return[j]}}class xt{constructor(){xt.constructor_.apply(this,arguments)}static constructor_(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,0===arguments.length)xt.constructor_.call(this,new wt,0);else if(1===arguments.length){if(n(arguments[0],c)){const t=arguments[0];xt.constructor_.call(this,new wt,0,t)}else if(arguments[0]instanceof wt){const t=arguments[0];xt.constructor_.call(this,t,0,xt.getDefaultCoordinateSequenceFactory())}}else if(2===arguments.length){const t=arguments[0],e=arguments[1];xt.constructor_.call(this,t,e,xt.getDefaultCoordinateSequenceFactory())}else if(3===arguments.length){const t=arguments[0],e=arguments[1],r=arguments[2];this._precisionModel=t,this._coordinateSequenceFactory=r,this._SRID=e}}static toMultiPolygonArray(t){const e=new Array(t.size()).fill(null);return t.toArray(e)}static toGeometryArray(t){if(null===t)return null;const e=new Array(t.size()).fill(null);return t.toArray(e)}static getDefaultCoordinateSequenceFactory(){return yt.instance()}static toMultiLineStringArray(t){const e=new Array(t.size()).fill(null);return t.toArray(e)}static toLineStringArray(t){const e=new Array(t.size()).fill(null);return t.toArray(e)}static toMultiPointArray(t){const e=new Array(t.size()).fill(null);return t.toArray(e)}static toLinearRingArray(t){const e=new Array(t.size()).fill(null);return t.toArray(e)}static toPointArray(t){const e=new Array(t.size()).fill(null);return t.toArray(e)}static toPolygonArray(t){const e=new Array(t.size()).fill(null);return t.toArray(e)}static createPointFromInternalCoord(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)}createEmpty(t){switch(t){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new u("Invalid dimension: "+t)}}toGeometry(t){return t.isNull()?this.createPoint():t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new w(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new w(t.getMinX(),t.getMinY()),new w(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new w(t.getMinX(),t.getMinY()),new w(t.getMinX(),t.getMaxY()),new w(t.getMaxX(),t.getMaxY()),new w(t.getMaxX(),t.getMinY()),new w(t.getMinX(),t.getMinY())]),null)}createLineString(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){const t=arguments[0];return this.createLineString(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(n(arguments[0],s)){return new A(arguments[0],this)}}}createMultiLineString(){if(0===arguments.length)return new Et(null,this);if(1===arguments.length){return new Et(arguments[0],this)}}buildGeometry(t){let e=null,r=!1,n=!1;for(let i=t.iterator();i.hasNext();){const t=i.next(),o=t.getTypeCode();null===e&&(e=o),o!==e&&(r=!0),t instanceof nt&&(n=!0)}if(null===e)return this.createGeometryCollection();if(r||n)return this.createGeometryCollection(xt.toGeometryArray(t));const i=t.iterator().next();if(t.size()>1){if(i instanceof Q)return this.createMultiPolygon(xt.toPolygonArray(t));if(i instanceof A)return this.createMultiLineString(xt.toLineStringArray(t));if(i instanceof D)return this.createMultiPoint(xt.toPointArray(t));_.shouldNeverReachHere("Unhandled geometry type: "+i.getGeometryType())}return i}createMultiPointFromCoords(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)}createPoint(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof w){const t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(n(arguments[0],s)){return new D(arguments[0],this)}}}getCoordinateSequenceFactory(){return this._coordinateSequenceFactory}createPolygon(){if(0===arguments.length)return this.createPolygon(null,null);if(1===arguments.length){if(n(arguments[0],s)){const t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){const t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof ot){const t=arguments[0];return this.createPolygon(t,null)}}else if(2===arguments.length){return new Q(arguments[0],arguments[1],this)}}getSRID(){return this._SRID}createGeometryCollection(){if(0===arguments.length)return new nt(null,this);if(1===arguments.length){return new nt(arguments[0],this)}}getPrecisionModel(){return this._precisionModel}createLinearRing(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){const t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(n(arguments[0],s)){return new ot(arguments[0],this)}}}createMultiPolygon(){if(0===arguments.length)return new gt(null,this);if(1===arguments.length){return new gt(arguments[0],this)}}createMultiPoint(){if(0===arguments.length)return new it(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){return new it(arguments[0],this)}if(n(arguments[0],s)){const t=arguments[0];if(null===t)return this.createMultiPoint(new Array(0).fill(null));const e=new Array(t.size()).fill(null);for(let r=0;r<t.size();r++){const n=this.getCoordinateSequenceFactory().create(1,t.getDimension(),t.getMeasures());P.copy(t,r,n,0,1),e[r]=this.createPoint(n)}return this.createMultiPoint(e)}}}get interfaces_(){return[p]}}const St=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"];class jt{constructor(t){this.geometryFactory=t||new xt}read(t){let e;e="string"==typeof t?JSON.parse(t):t;const r=e.type;if(!Pt[r])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==St.indexOf(r)?Pt[r].call(this,e.coordinates):"GeometryCollection"===r?Pt[r].call(this,e.geometries):Pt[r].call(this,e)}write(t){const e=t.getGeometryType();if(!Tt[e])throw new Error("Geometry is not supported");return Tt[e].call(this,t)}}const Pt={Feature:function(t){const e={};for(const r in t)e[r]=t[r];if(t.geometry){const r=t.geometry.type;if(!Pt[r])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=Pt.bbox.call(this,t.bbox)),e},FeatureCollection:function(t){const e={};if(t.features){e.features=[];for(let r=0;r<t.features.length;++r)e.features.push(this.read(t.features[r]))}return t.bbox&&(e.bbox=this.parse.bbox.call(this,t.bbox)),e},coordinates:function(t){const e=[];for(let r=0;r<t.length;++r){const n=t[r];e.push(new w(...n))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new w(t[0],t[1]),new w(t[2],t[1]),new w(t[2],t[3]),new w(t[0],t[3]),new w(t[0],t[1])])},Point:function(t){const e=new w(...t);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){const e=[];for(let r=0;r<t.length;++r)e.push(Pt.Point.call(this,t[r]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){const e=Pt.coordinates.call(this,t);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){const e=[];for(let r=0;r<t.length;++r)e.push(Pt.LineString.call(this,t[r]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){const e=Pt.coordinates.call(this,t[0]),r=this.geometryFactory.createLinearRing(e),n=[];for(let e=1;e<t.length;++e){const r=t[e],i=Pt.coordinates.call(this,r),o=this.geometryFactory.createLinearRing(i);n.push(o)}return this.geometryFactory.createPolygon(r,n)},MultiPolygon:function(t){const e=[];for(let r=0;r<t.length;++r){const n=t[r];e.push(Pt.Polygon.call(this,n))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){const e=[];for(let r=0;r<t.length;++r){const n=t[r];e.push(this.read(n))}return this.geometryFactory.createGeometryCollection(e)}},Tt={coordinate:function(t){const e=[t.x,t.y];return t.z&&e.push(t.z),t.m&&e.push(t.m),e},Point:function(t){return{type:"Point",coordinates:Tt.coordinate.call(this,t.getCoordinate())}},MultiPoint:function(t){const e=[];for(let r=0;r<t._geometries.length;++r){const n=t._geometries[r],i=Tt.Point.call(this,n);e.push(i.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){const e=[],r=t.getCoordinates();for(let t=0;t<r.length;++t){const n=r[t];e.push(Tt.coordinate.call(this,n))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){const e=[];for(let r=0;r<t._geometries.length;++r){const n=t._geometries[r],i=Tt.LineString.call(this,n);e.push(i.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){const e=[],r=Tt.LineString.call(this,t._shell);e.push(r.coordinates);for(let r=0;r<t._holes.length;++r){const n=t._holes[r],i=Tt.LineString.call(this,n);e.push(i.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){const e=[];for(let r=0;r<t._geometries.length;++r){const n=t._geometries[r],i=Tt.Polygon.call(this,n);e.push(i.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){const e=[];for(let r=0;r<t._geometries.length;++r){const n=t._geometries[r],i=n.getGeometryType();e.push(Tt[i].call(this,n))}return{type:"GeometryCollection",geometries:e}}};class It{constructor(t){this.parser=new jt(t||new xt)}read(t){return this.parser.read(t)}}const Lt="XY",Rt="XYZ",Ct="XYM",At="XYZM",kt={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},Nt=1,Dt=2,Ft=3,Bt=4,Ut=5,Gt=6,zt={};for(const t in kt)zt[t]=kt[t].toUpperCase();class Wt{constructor(t){this.wkt=t,this.index_=-1}isAlpha_(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"}isNumeric_(t,e){return t>="0"&&t<="9"||"."==t&&!(void 0!==e&&e)}isWhiteSpace_(t){return" "==t||"\t"==t||"\r"==t||"\n"==t}nextChar_(){return this.wkt.charAt(++this.index_)}nextToken(){const t=this.nextChar_(),e=this.index_;let r,n=t;if("("==t)r=Dt;else if(","==t)r=Ut;else if(")"==t)r=Ft;else if(this.isNumeric_(t)||"-"==t)r=Bt,n=this.readNumber_();else if(this.isAlpha_(t))r=Nt,n=this.readText_();else{if(this.isWhiteSpace_(t))return this.nextToken();if(""!==t)throw new Error("Unexpected character: "+t);r=Gt}return{position:e,value:n,type:r}}readNumber_(){let t;const e=this.index_;let r=!1,n=!1;do{"."==t?r=!0:"e"!=t&&"E"!=t||(n=!0),t=this.nextChar_()}while(this.isNumeric_(t,r)||!n&&("e"==t||"E"==t)||n&&("-"==t||"+"==t));return parseFloat(this.wkt.substring(e,this.index_--))}readText_(){let t;const e=this.index_;do{t=this.nextChar_()}while(this.isAlpha_(t));return this.wkt.substring(e,this.index_--).toUpperCase()}}class Xt{constructor(t,e){this.lexer_=t,this.token_,this.layout_=Lt,this.factory=e}consume_(){this.token_=this.lexer_.nextToken()}isTokenType(t){return this.token_.type==t}match(t){const e=this.isTokenType(t);return e&&this.consume_(),e}parse(){this.consume_();return this.parseGeometry_()}parseGeometryLayout_(){let t=Lt;const e=this.token_;if(this.isTokenType(Nt)){const r=e.value;"Z"===r?t=Rt:"M"===r?t=Ct:"ZM"===r&&(t=At),t!==Lt&&this.consume_()}return t}parseGeometryCollectionText_(){if(this.match(Dt)){const t=[];do{t.push(this.parseGeometry_())}while(this.match(Ut));if(this.match(Ft))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}parsePointText_(){if(this.match(Dt)){const t=this.parsePoint_();if(this.match(Ft))return t}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}parseLineStringText_(){if(this.match(Dt)){const t=this.parsePointList_();if(this.match(Ft))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}parsePolygonText_(){if(this.match(Dt)){const t=this.parseLineStringTextList_();if(this.match(Ft))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}parseMultiPointText_(){if(this.match(Dt)){let t;if(t=this.token_.type==Dt?this.parsePointTextList_():this.parsePointList_(),this.match(Ft))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}parseMultiLineStringText_(){if(this.match(Dt)){const t=this.parseLineStringTextList_();if(this.match(Ft))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}parseMultiPolygonText_(){if(this.match(Dt)){const t=this.parsePolygonTextList_();if(this.match(Ft))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}parsePoint_(){const t=[],e=this.layout_.length;for(let r=0;r<e;++r){const e=this.token_;if(!this.match(Bt))break;t.push(e.value)}if(t.length==e)return t;throw new Error(this.formatErrorMessage_())}parsePointList_(){const t=[this.parsePoint_()];for(;this.match(Ut);)t.push(this.parsePoint_());return t}parsePointTextList_(){const t=[this.parsePointText_()];for(;this.match(Ut);)t.push(this.parsePointText_());return t}parseLineStringTextList_(){const t=[this.parseLineStringText_()];for(;this.match(Ut);)t.push(this.parseLineStringText_());return t}parsePolygonTextList_(){const t=[this.parsePolygonText_()];for(;this.match(Ut);)t.push(this.parsePolygonText_());return t}isEmptyGeometry_(){const t=this.isTokenType(Nt)&&"EMPTY"==this.token_.value;return t&&this.consume_(),t}formatErrorMessage_(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}parseGeometry_(){const t=this.factory,e=t=>new w(...t),r=r=>{const n=r.map(r=>t.createLinearRing(r.map(e)));return n.length>1?t.createPolygon(n[0],n.slice(1)):t.createPolygon(n[0])},n=this.token_;if(this.match(Nt)){const i=n.value;if(this.layout_=this.parseGeometryLayout_(),"GEOMETRYCOLLECTION"==i){const e=this.parseGeometryCollectionText_();return t.createGeometryCollection(e)}switch(i){case"POINT":{const e=this.parsePointText_();return e?t.createPoint(new w(...e)):t.createPoint()}case"LINESTRING":{const r=this.parseLineStringText_().map(e);return t.createLineString(r)}case"LINEARRING":{const r=this.parseLineStringText_().map(e);return t.createLinearRing(r)}case"POLYGON":{const e=this.parsePolygonText_();return e&&0!==e.length?r(e):t.createPolygon()}case"MULTIPOINT":{const r=this.parseMultiPointText_();if(!r||0===r.length)return t.createMultiPoint();const n=r.map(e).map(e=>t.createPoint(e));return t.createMultiPoint(n)}case"MULTILINESTRING":{const r=this.parseMultiLineStringText_().map(r=>t.createLineString(r.map(e)));return t.createMultiLineString(r)}case"MULTIPOLYGON":{const e=this.parseMultiPolygonText_();if(!e||0===e.length)return t.createMultiPolygon();const n=e.map(r);return t.createMultiPolygon(n)}default:throw new Error("Invalid geometry type: "+i)}}throw new Error(this.formatErrorMessage_())}}function qt(t){if(t.isEmpty())return"";const e=t.getCoordinate(),r=[e.x,e.y];return void 0===e.z||Number.isNaN(e.z)||r.push(e.z),void 0===e.m||Number.isNaN(e.m)||r.push(e.m),r.join(" ")}function Vt(t){const e=t.getCoordinates().map(t=>{const e=[t.x,t.y];return void 0===t.z||Number.isNaN(t.z)||e.push(t.z),void 0===t.m||Number.isNaN(t.m)||e.push(t.m),e}),r=[];for(let t=0,n=e.length;t<n;++t)r.push(e[t].join(" "));return r.join(", ")}function Yt(t){const e=[];e.push("("+Vt(t.getExteriorRing())+")");for(let r=0,n=t.getNumInteriorRing();r<n;++r)e.push("("+Vt(t.getInteriorRingN(r))+")");return e.join(", ")}const Zt={Point:qt,LineString:Vt,LinearRing:Vt,Polygon:Yt,MultiPoint:function(t){const e=[];for(let r=0,n=t.getNumGeometries();r<n;++r)e.push("("+qt(t.getGeometryN(r))+")");return e.join(", ")},MultiLineString:function(t){const e=[];for(let r=0,n=t.getNumGeometries();r<n;++r)e.push("("+Vt(t.getGeometryN(r))+")");return e.join(", ")},MultiPolygon:function(t){const e=[];for(let r=0,n=t.getNumGeometries();r<n;++r)e.push("("+Yt(t.getGeometryN(r))+")");return e.join(", ")},GeometryCollection:function(t){const e=[];for(let r=0,n=t.getNumGeometries();r<n;++r)e.push(Kt(t.getGeometryN(r)));return e.join(", ")}};function Kt(t){let e=t.getGeometryType();const r=Zt[e];e=e.toUpperCase();const n=function(t){let e="";if(t.isEmpty())return e;const r=t.getCoordinate();return void 0===r.z||Number.isNaN(r.z)||(e+="Z"),void 0===r.m||Number.isNaN(r.m)||(e+="M"),e}(t);if(n.length>0&&(e+=" "+n),t.isEmpty())return e+" EMPTY";return e+" ("+r(t)+")"}class Ht{constructor(t){this.geometryFactory=t||new xt,this.precisionModel=this.geometryFactory.getPrecisionModel()}read(t){const e=new Wt(t);return new Xt(e,this.geometryFactory).parse()}write(t){return Kt(t)}}class Jt{constructor(t){this.parser=new Ht(t)}write(t){return this.parser.write(t)}static toLineString(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"}}class Qt{static toLocationSymbol(t){switch(t){case Qt.EXTERIOR:return"e";case Qt.BOUNDARY:return"b";case Qt.INTERIOR:return"i";case Qt.NONE:return"-"}throw new u("Unknown location value: "+t)}}Qt.INTERIOR=0,Qt.BOUNDARY=1,Qt.EXTERIOR=2,Qt.NONE=-1;class $t{static intersection(t,e,r,n){const i=t.x<e.x?t.x:e.x,a=t.y<e.y?t.y:e.y,s=t.x>e.x?t.x:e.x,c=t.y>e.y?t.y:e.y,l=r.x<n.x?r.x:n.x,u=r.y<n.y?r.y:n.y,h=r.x>n.x?r.x:n.x,f=r.y>n.y?r.y:n.y,p=((i>l?i:l)+(s<h?s:h))/2,d=((a>u?a:u)+(c<f?c:f))/2,m=t.x-p,y=t.y-d,g=e.x-p,_=e.y-d,b=r.x-p,v=r.y-d,O=n.x-p,M=n.y-d,E=y-_,x=g-m,S=m*_-g*y,j=v-M,P=O-b,T=b*M-O*v,I=E*P-j*x,L=(x*T-P*S)/I,R=(j*S-E*T)/I;return o.isNaN(L)||o.isInfinite(L)||o.isNaN(R)||o.isInfinite(R)?null:new w(L+p,R+d)}}class te{static segmentToSegment(t,e,r,n){if(t.equals(e))return te.pointToSegment(t,r,n);if(r.equals(n))return te.pointToSegment(n,t,e);let i=!1;if(E.intersects(t,e,r,n)){const o=(e.x-t.x)*(n.y-r.y)-(e.y-t.y)*(n.x-r.x);if(0===o)i=!0;else{const a=(t.y-r.y)*(n.x-r.x)-(t.x-r.x)*(n.y-r.y),s=((t.y-r.y)*(e.x-t.x)-(t.x-r.x)*(e.y-t.y))/o,c=a/o;(c<0||c>1||s<0||s>1)&&(i=!0)}}else i=!0;return i?ht.min(te.pointToSegment(t,r,n),te.pointToSegment(e,r,n),te.pointToSegment(r,t,e),te.pointToSegment(n,t,e)):0}static pointToSegment(t,e,r){if(e.x===r.x&&e.y===r.y)return t.distance(e);const n=(r.x-e.x)*(r.x-e.x)+(r.y-e.y)*(r.y-e.y),i=((t.x-e.x)*(r.x-e.x)+(t.y-e.y)*(r.y-e.y))/n;if(i<=0)return t.distance(e);if(i>=1)return t.distance(r);const o=((e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y))/n;return Math.abs(o)*Math.sqrt(n)}static pointToLinePerpendicular(t,e,r){const n=(r.x-e.x)*(r.x-e.x)+(r.y-e.y)*(r.y-e.y),i=((e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y))/n;return Math.abs(i)*Math.sqrt(n)}static pointToSegmentString(t,e){if(0===e.length)throw new u("Line array must contain at least one vertex");let r=t.distance(e[0]);for(let n=0;n<e.length-1;n++){const i=te.pointToSegment(t,e[n],e[n+1]);i<r&&(r=i)}return r}}class ee{constructor(){ee.constructor_.apply(this,arguments)}static constructor_(){this._result=null,this._inputLines=Array(2).fill().map(()=>Array(2)),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new w,this._intPt[1]=new w,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}static computeEdgeDistance(t,e,r){const n=Math.abs(r.x-e.x),i=Math.abs(r.y-e.y);let o=-1;if(t.equals(e))o=0;else if(t.equals(r))o=n>i?n:i;else{const r=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);o=n>i?r:a,0!==o||t.equals(e)||(o=Math.max(r,a))}return _.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o}static nonRobustComputeEdgeDistance(t,e,r){const n=t.x-e.x,i=t.y-e.y,o=Math.sqrt(n*n+i*i);return _.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o}getIndexAlongSegment(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]}getTopologySummary(){const t=new dt;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()}computeIntersection(t,e,r,n){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=r,this._inputLines[1][1]=n,this._result=this.computeIntersect(t,e,r,n)}getIntersectionNum(){return this._result}computeIntLineIndex(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(()=>Array(2)),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){const t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}}isProper(){return this.hasIntersection()&&this._isProper}setPrecisionModel(t){this._precisionModel=t}isInteriorIntersection(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){const t=arguments[0];for(let e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}}getIntersection(t){return this._intPt[t]}isEndPoint(){return this.hasIntersection()&&!this._isProper}hasIntersection(){return this._result!==ee.NO_INTERSECTION}getEdgeDistance(t,e){return ee.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])}isCollinear(){return this._result===ee.COLLINEAR_INTERSECTION}toString(){return Jt.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Jt.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}getEndpoint(t,e){return this._inputLines[t][e]}isIntersection(t){for(let e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1}getIntersectionAlongSegment(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]}}ee.DONT_INTERSECT=0,ee.DO_INTERSECT=1,ee.COLLINEAR=2,ee.NO_INTERSECTION=0,ee.POINT_INTERSECTION=1,ee.COLLINEAR_INTERSECTION=2;class re extends ee{constructor(){super()}static nearestEndpoint(t,e,r,n){let i=t,o=te.pointToSegment(t,r,n),a=te.pointToSegment(e,r,n);return a<o&&(o=a,i=e),a=te.pointToSegment(r,t,e),a<o&&(o=a,i=r),a=te.pointToSegment(n,t,e),a<o&&(o=a,i=n),i}isInSegmentEnvelopes(t){const e=new E(this._inputLines[0][0],this._inputLines[0][1]),r=new E(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&r.contains(t)}computeIntersection(){if(3!==arguments.length)return super.computeIntersection.apply(this,arguments);{const t=arguments[0],e=arguments[1],r=arguments[2];if(this._isProper=!1,E.intersects(e,r,t)&&0===H.index(e,r,t)&&0===H.index(r,e,t))return this._isProper=!0,(t.equals(e)||t.equals(r))&&(this._isProper=!1),this._result=ee.POINT_INTERSECTION,null;this._result=ee.NO_INTERSECTION}}intersection(t,e,r,n){let i=this.intersectionSafe(t,e,r,n);return this.isInSegmentEnvelopes(i)||(i=new w(re.nearestEndpoint(t,e,r,n))),null!==this._precisionModel&&this._precisionModel.makePrecise(i),i}checkDD(t,e,r,n,i){const o=K.intersection(t,e,r,n),a=this.isInSegmentEnvelopes(o);ft.out.println("DD in env = "+a+"  --------------------- "+o),i.distance(o)>1e-4&&ft.out.println("Distance = "+i.distance(o))}intersectionSafe(t,e,r,n){let i=$t.intersection(t,e,r,n);return null===i&&(i=re.nearestEndpoint(t,e,r,n)),i}computeCollinearIntersection(t,e,r,n){const i=E.intersects(t,e,r),o=E.intersects(t,e,n),a=E.intersects(r,n,t),s=E.intersects(r,n,e);return i&&o?(this._intPt[0]=r,this._intPt[1]=n,ee.COLLINEAR_INTERSECTION):a&&s?(this._intPt[0]=t,this._intPt[1]=e,ee.COLLINEAR_INTERSECTION):i&&a?(this._intPt[0]=r,this._intPt[1]=t,!r.equals(t)||o||s?ee.COLLINEAR_INTERSECTION:ee.POINT_INTERSECTION):i&&s?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||o||a?ee.COLLINEAR_INTERSECTION:ee.POINT_INTERSECTION):o&&a?(this._intPt[0]=n,this._intPt[1]=t,!n.equals(t)||i||s?ee.COLLINEAR_INTERSECTION:ee.POINT_INTERSECTION):o&&s?(this._intPt[0]=n,this._intPt[1]=e,!n.equals(e)||i||a?ee.COLLINEAR_INTERSECTION:ee.POINT_INTERSECTION):ee.NO_INTERSECTION}computeIntersect(t,e,r,n){if(this._isProper=!1,!E.intersects(t,e,r,n))return ee.NO_INTERSECTION;const i=H.index(t,e,r),o=H.index(t,e,n);if(i>0&&o>0||i<0&&o<0)return ee.NO_INTERSECTION;const a=H.index(r,n,t),s=H.index(r,n,e);if(a>0&&s>0||a<0&&s<0)return ee.NO_INTERSECTION;return 0===i&&0===o&&0===a&&0===s?this.computeCollinearIntersection(t,e,r,n):(0===i||0===o||0===a||0===s?(this._isProper=!1,t.equals2D(r)||t.equals2D(n)?this._intPt[0]=t:e.equals2D(r)||e.equals2D(n)?this._intPt[0]=e:0===i?this._intPt[0]=new w(r):0===o?this._intPt[0]=new w(n):0===a?this._intPt[0]=new w(t):0===s&&(this._intPt[0]=new w(e))):(this._isProper=!0,this._intPt[0]=this.intersection(t,e,r,n)),ee.POINT_INTERSECTION)}}class ne{constructor(){ne.constructor_.apply(this,arguments)}static constructor_(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;const t=arguments[0];this._p=t}static locatePointInRing(){if(arguments[0]instanceof w&&n(arguments[1],s)){const t=arguments[1],e=new ne(arguments[0]),r=new w,n=new w;for(let i=1;i<t.size();i++)if(t.getCoordinate(i,r),t.getCoordinate(i-1,n),e.countSegment(r,n),e.isOnSegment())return e.getLocation();return e.getLocation()}if(arguments[0]instanceof w&&arguments[1]instanceof Array){const t=arguments[1],e=new ne(arguments[0]);for(let r=1;r<t.length;r++){const n=t[r],i=t[r-1];if(e.countSegment(n,i),e.isOnSegment())return e.getLocation()}return e.getLocation()}}countSegment(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){let r=t.x,n=e.x;return r>n&&(r=e.x,n=t.x),this._p.x>=r&&this._p.x<=n&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){let r=H.index(t,e,this._p);if(r===H.COLLINEAR)return this._isPointOnSegment=!0,null;e.y<t.y&&(r=-r),r===H.LEFT&&this._crossingCount++}}isPointInPolygon(){return this.getLocation()!==Qt.EXTERIOR}getLocation(){return this._isPointOnSegment?Qt.BOUNDARY:this._crossingCount%2==1?Qt.INTERIOR:Qt.EXTERIOR}isOnSegment(){return this._isPointOnSegment}}class ie{static isOnLine(){if(arguments[0]instanceof w&&n(arguments[1],s)){const t=arguments[0],e=arguments[1],r=new re,n=new w,i=new w,o=e.size();for(let a=1;a<o;a++)if(e.getCoordinate(a-1,n),e.getCoordinate(a,i),r.computeIntersection(t,n,i),r.hasIntersection())return!0;return!1}if(arguments[0]instanceof w&&arguments[1]instanceof Array){const t=arguments[0],e=arguments[1],r=new re;for(let n=1;n<e.length;n++){const i=e[n-1],o=e[n];if(r.computeIntersection(t,i,o),r.hasIntersection())return!0}return!1}}static locateInRing(t,e){return ne.locatePointInRing(t,e)}static isInRing(t,e){return ie.locateInRing(t,e)!==Qt.EXTERIOR}}class oe{isInBoundary(t){}}class ae{isInBoundary(t){return t%2==1}get interfaces_(){return[oe]}}class se{isInBoundary(t){return t>0}get interfaces_(){return[oe]}}class ce{isInBoundary(t){return t>1}get interfaces_(){return[oe]}}class le{isInBoundary(t){return 1===t}get interfaces_(){return[oe]}}oe.Mod2BoundaryNodeRule=ae,oe.EndPointBoundaryNodeRule=se,oe.MultiValentEndPointBoundaryNodeRule=ce,oe.MonoValentEndPointBoundaryNodeRule=le,oe.MOD2_BOUNDARY_RULE=new ae,oe.ENDPOINT_BOUNDARY_RULE=new se,oe.MULTIVALENT_ENDPOINT_BOUNDARY_RULE=new ce,oe.MONOVALENT_ENDPOINT_BOUNDARY_RULE=new le,oe.OGC_SFS_BOUNDARY_RULE=oe.MOD2_BOUNDARY_RULE;class ue{hasNext(){}next(){}remove(){}}class he{constructor(){he.constructor_.apply(this,arguments)}static constructor_(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;const t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()}static isAtomic(t){return!(t instanceof nt)}next(){if(this._atStart)return this._atStart=!1,he.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new z;const t=this._parent.getGeometryN(this._index++);return t instanceof nt?(this._subcollectionIterator=new he(t),this._subcollectionIterator.next()):t}remove(){throw new T(this.getClass().getName())}hasNext(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}get interfaces_(){return[ue]}}class fe{constructor(){fe.constructor_.apply(this,arguments)}static constructor_(){if(this._boundaryRule=oe.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){const t=arguments[0];if(null===t)throw new u("Rule must be non-null");this._boundaryRule=t}}locateInPolygonRing(t,e){return e.getEnvelopeInternal().intersects(t)?ie.locateInRing(t,e.getCoordinates()):Qt.EXTERIOR}intersects(t,e){return this.locate(t,e)!==Qt.EXTERIOR}updateLocationInfo(t){t===Qt.INTERIOR&&(this._isIn=!0),t===Qt.BOUNDARY&&this._numBoundaries++}computeLocation(t,e){if(e instanceof D&&this.updateLocationInfo(this.locateOnPoint(t,e)),e instanceof A)this.updateLocationInfo(this.locateOnLineString(t,e));else if(e instanceof Q)this.updateLocationInfo(this.locateInPolygon(t,e));else if(e instanceof Et){const r=e;for(let e=0;e<r.getNumGeometries();e++){const n=r.getGeometryN(e);this.updateLocationInfo(this.locateOnLineString(t,n))}}else if(e instanceof gt){const r=e;for(let e=0;e<r.getNumGeometries();e++){const n=r.getGeometryN(e);this.updateLocationInfo(this.locateInPolygon(t,n))}}else if(e instanceof nt){const r=new he(e);for(;r.hasNext();){const n=r.next();n!==e&&this.computeLocation(t,n)}}}locateOnPoint(t,e){return e.getCoordinate().equals2D(t)?Qt.INTERIOR:Qt.EXTERIOR}locateOnLineString(t,e){if(!e.getEnvelopeInternal().intersects(t))return Qt.EXTERIOR;const r=e.getCoordinateSequence();return e.isClosed()||!t.equals(r.getCoordinate(0))&&!t.equals(r.getCoordinate(r.size()-1))?ie.isOnLine(t,r)?Qt.INTERIOR:Qt.EXTERIOR:Qt.BOUNDARY}locateInPolygon(t,e){if(e.isEmpty())return Qt.EXTERIOR;const r=e.getExteriorRing(),n=this.locateInPolygonRing(t,r);if(n===Qt.EXTERIOR)return Qt.EXTERIOR;if(n===Qt.BOUNDARY)return Qt.BOUNDARY;for(let r=0;r<e.getNumInteriorRing();r++){const n=e.getInteriorRingN(r),i=this.locateInPolygonRing(t,n);if(i===Qt.INTERIOR)return Qt.EXTERIOR;if(i===Qt.BOUNDARY)return Qt.BOUNDARY}return Qt.INTERIOR}locate(t,e){return e.isEmpty()?Qt.EXTERIOR:e instanceof A?this.locateOnLineString(t,e):e instanceof Q?this.locateInPolygon(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?Qt.BOUNDARY:this._numBoundaries>0||this._isIn?Qt.INTERIOR:Qt.EXTERIOR)}}class pe{constructor(){pe.constructor_.apply(this,arguments)}static constructor_(){if(this._matrix=null,0===arguments.length)this._matrix=Array(3).fill().map(()=>Array(3)),this.setAll(L.FALSE);else if(1===arguments.length)if("string"==typeof arguments[0]){const t=arguments[0];pe.constructor_.call(this),this.set(t)}else if(arguments[0]instanceof pe){const t=arguments[0];pe.constructor_.call(this),this._matrix[Qt.INTERIOR][Qt.INTERIOR]=t._matrix[Qt.INTERIOR][Qt.INTERIOR],this._matrix[Qt.INTERIOR][Qt.BOUNDARY]=t._matrix[Qt.INTERIOR][Qt.BOUNDARY],this._matrix[Qt.INTERIOR][Qt.EXTERIOR]=t._matrix[Qt.INTERIOR][Qt.EXTERIOR],this._matrix[Qt.BOUNDARY][Qt.INTERIOR]=t._matrix[Qt.BOUNDARY][Qt.INTERIOR],this._matrix[Qt.BOUNDARY][Qt.BOUNDARY]=t._matrix[Qt.BOUNDARY][Qt.BOUNDARY],this._matrix[Qt.BOUNDARY][Qt.EXTERIOR]=t._matrix[Qt.BOUNDARY][Qt.EXTERIOR],this._matrix[Qt.EXTERIOR][Qt.INTERIOR]=t._matrix[Qt.EXTERIOR][Qt.INTERIOR],this._matrix[Qt.EXTERIOR][Qt.BOUNDARY]=t._matrix[Qt.EXTERIOR][Qt.BOUNDARY],this._matrix[Qt.EXTERIOR][Qt.EXTERIOR]=t._matrix[Qt.EXTERIOR][Qt.EXTERIOR]}}static matches(){if(Number.isInteger(arguments[0])&&"string"==typeof arguments[1]){const t=arguments[0],e=arguments[1];return e===L.SYM_DONTCARE||(e===L.SYM_TRUE&&(t>=0||t===L.TRUE)||(e===L.SYM_FALSE&&t===L.FALSE||(e===L.SYM_P&&t===L.P||(e===L.SYM_L&&t===L.L||e===L.SYM_A&&t===L.A))))}if("string"==typeof arguments[0]&&"string"==typeof arguments[1]){const t=arguments[1];return new pe(arguments[0]).matches(t)}}static isTrue(t){return t>=0||t===L.TRUE}isIntersects(){return!this.isDisjoint()}isCovers(){return(pe.isTrue(this._matrix[Qt.INTERIOR][Qt.INTERIOR])||pe.isTrue(this._matrix[Qt.INTERIOR][Qt.BOUNDARY])||pe.isTrue(this._matrix[Qt.BOUNDARY][Qt.INTERIOR])||pe.isTrue(this._matrix[Qt.BOUNDARY][Qt.BOUNDARY]))&&this._matrix[Qt.EXTERIOR][Qt.INTERIOR]===L.FALSE&&this._matrix[Qt.EXTERIOR][Qt.BOUNDARY]===L.FALSE}isCoveredBy(){return(pe.isTrue(this._matrix[Qt.INTERIOR][Qt.INTERIOR])||pe.isTrue(this._matrix[Qt.INTERIOR][Qt.BOUNDARY])||pe.isTrue(this._matrix[Qt.BOUNDARY][Qt.INTERIOR])||pe.isTrue(this._matrix[Qt.BOUNDARY][Qt.BOUNDARY]))&&this._matrix[Qt.INTERIOR][Qt.EXTERIOR]===L.FALSE&&this._matrix[Qt.BOUNDARY][Qt.EXTERIOR]===L.FALSE}set(){if(1===arguments.length){const t=arguments[0];for(let e=0;e<t.length;e++){const r=Math.trunc(e/3),n=e%3;this._matrix[r][n]=L.toDimensionValue(t.charAt(e))}}else if(3===arguments.length){const t=arguments[0],e=arguments[1],r=arguments[2];this._matrix[t][e]=r}}isContains(){return pe.isTrue(this._matrix[Qt.INTERIOR][Qt.INTERIOR])&&this._matrix[Qt.EXTERIOR][Qt.INTERIOR]===L.FALSE&&this._matrix[Qt.EXTERIOR][Qt.BOUNDARY]===L.FALSE}setAtLeast(){if(1===arguments.length){const t=arguments[0];for(let e=0;e<t.length;e++){const r=Math.trunc(e/3),n=e%3;this.setAtLeast(r,n,L.toDimensionValue(t.charAt(e)))}}else if(3===arguments.length){const t=arguments[0],e=arguments[1],r=arguments[2];this._matrix[t][e]<r&&(this._matrix[t][e]=r)}}setAtLeastIfValid(t,e,r){t>=0&&e>=0&&this.setAtLeast(t,e,r)}isWithin(){return pe.isTrue(this._matrix[Qt.INTERIOR][Qt.INTERIOR])&&this._matrix[Qt.INTERIOR][Qt.EXTERIOR]===L.FALSE&&this._matrix[Qt.BOUNDARY][Qt.EXTERIOR]===L.FALSE}isTouches(t,e){return t>e?this.isTouches(e,t):(t===L.A&&e===L.A||t===L.L&&e===L.L||t===L.L&&e===L.A||t===L.P&&e===L.A||t===L.P&&e===L.L)&&(this._matrix[Qt.INTERIOR][Qt.INTERIOR]===L.FALSE&&(pe.isTrue(this._matrix[Qt.INTERIOR][Qt.BOUNDARY])||pe.isTrue(this._matrix[Qt.BOUNDARY][Qt.INTERIOR])||pe.isTrue(this._matrix[Qt.BOUNDARY][Qt.BOUNDARY])))}isOverlaps(t,e){return t===L.P&&e===L.P||t===L.A&&e===L.A?pe.isTrue(this._matrix[Qt.INTERIOR][Qt.INTERIOR])&&pe.isTrue(this._matrix[Qt.INTERIOR][Qt.EXTERIOR])&&pe.isTrue(this._matrix[Qt.EXTERIOR][Qt.INTERIOR]):t===L.L&&e===L.L&&(1===this._matrix[Qt.INTERIOR][Qt.INTERIOR]&&pe.isTrue(this._matrix[Qt.INTERIOR][Qt.EXTERIOR])&&pe.isTrue(this._matrix[Qt.EXTERIOR][Qt.INTERIOR]))}isEquals(t,e){return t===e&&(pe.isTrue(this._matrix[Qt.INTERIOR][Qt.INTERIOR])&&this._matrix[Qt.INTERIOR][Qt.EXTERIOR]===L.FALSE&&this._matrix[Qt.BOUNDARY][Qt.EXTERIOR]===L.FALSE&&this._matrix[Qt.EXTERIOR][Qt.INTERIOR]===L.FALSE&&this._matrix[Qt.EXTERIOR][Qt.BOUNDARY]===L.FALSE)}toString(){const t=new dt("123456789");for(let e=0;e<3;e++)for(let r=0;r<3;r++)t.setCharAt(3*e+r,L.toDimensionSymbol(this._matrix[e][r]));return t.toString()}setAll(t){for(let e=0;e<3;e++)for(let r=0;r<3;r++)this._matrix[e][r]=t}get(t,e){return this._matrix[t][e]}transpose(){let t=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=t,t=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=t,t=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=t,this}matches(t){if(9!==t.length)throw new u("Should be length 9: "+t);for(let e=0;e<3;e++)for(let r=0;r<3;r++)if(!pe.matches(this._matrix[e][r],t.charAt(3*e+r)))return!1;return!0}add(t){for(let e=0;e<3;e++)for(let r=0;r<3;r++)this.setAtLeast(e,r,t.get(e,r))}isDisjoint(){return this._matrix[Qt.INTERIOR][Qt.INTERIOR]===L.FALSE&&this._matrix[Qt.INTERIOR][Qt.BOUNDARY]===L.FALSE&&this._matrix[Qt.BOUNDARY][Qt.INTERIOR]===L.FALSE&&this._matrix[Qt.BOUNDARY][Qt.BOUNDARY]===L.FALSE}isCrosses(t,e){return t===L.P&&e===L.L||t===L.P&&e===L.A||t===L.L&&e===L.A?pe.isTrue(this._matrix[Qt.INTERIOR][Qt.INTERIOR])&&pe.isTrue(this._matrix[Qt.INTERIOR][Qt.EXTERIOR]):t===L.L&&e===L.P||t===L.A&&e===L.P||t===L.A&&e===L.L?pe.isTrue(this._matrix[Qt.INTERIOR][Qt.INTERIOR])&&pe.isTrue(this._matrix[Qt.EXTERIOR][Qt.INTERIOR]):t===L.L&&e===L.L&&0===this._matrix[Qt.INTERIOR][Qt.INTERIOR]}get interfaces_(){return[a]}}class de{static isNorthern(t){return t===de.NE||t===de.NW}static isOpposite(t,e){if(t===e)return!1;return 2===(t-e+4)%4}static commonHalfPlane(t,e){if(t===e)return t;if(2===(t-e+4)%4)return-1;const r=t<e?t:e;return 0===r&&3===(t>e?t:e)?3:r}static isInHalfPlane(t,e){return e===de.SE?t===de.SE||t===de.SW:t===e||t===e+1}static quadrant(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){const t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new u("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?de.NE:de.SE:e>=0?de.NW:de.SW}if(arguments[0]instanceof w&&arguments[1]instanceof w){const t=arguments[0],e=arguments[1];if(e.x===t.x&&e.y===t.y)throw new u("Cannot compute the quadrant for two identical points "+t);return e.x>=t.x?e.y>=t.y?de.NE:de.SE:e.y>=t.y?de.NW:de.SW}}}de.NE=0,de.NW=1,de.SW=2,de.SE=3;class me{constructor(){me.constructor_.apply(this,arguments)}static constructor_(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){const t=arguments[0];this._edge=t}else if(3===arguments.length){const t=arguments[0],e=arguments[1],r=arguments[2];me.constructor_.call(this,t,e,r,null)}else if(4===arguments.length){const t=arguments[0],e=arguments[1],r=arguments[2],n=arguments[3];me.constructor_.call(this,t),this.init(e,r),this._label=n}}compareDirection(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:H.index(t._p0,t._p1,this._p1)}getDy(){return this._dy}getCoordinate(){return this._p0}setNode(t){this._node=t}print(t){const e=Math.atan2(this._dy,this._dx),r=this.getClass().getName(),n=r.lastIndexOf("."),i=r.substring(n+1);t.print("  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)}compareTo(t){const e=t;return this.compareDirection(e)}getDirectedCoordinate(){return this._p1}getDx(){return this._dx}getLabel(){return this._label}getEdge(){return this._edge}getQuadrant(){return this._quadrant}getNode(){return this._node}toString(){const t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),r=e.lastIndexOf(".");return"  "+e.substring(r+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label}computeLabel(t){}init(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=de.quadrant(this._dx,this._dy),_.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")}get interfaces_(){return[f]}}class ye{static opposite(t){return t===ye.LEFT?ye.RIGHT:t===ye.RIGHT?ye.LEFT:t}}ye.ON=0,ye.LEFT=1,ye.RIGHT=2;class ge{constructor(){ge.constructor_.apply(this,arguments)}static constructor_(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){const t=arguments[0];this.init(t.length)}else if(Number.isInteger(arguments[0])){const t=arguments[0];this.init(1),this.location[ye.ON]=t}else if(arguments[0]instanceof ge){const t=arguments[0];if(this.init(t.location.length),null!==t)for(let e=0;e<this.location.length;e++)this.location[e]=t.location[e]}}else if(3===arguments.length){const t=arguments[0],e=arguments[1],r=arguments[2];this.init(3),this.location[ye.ON]=t,this.location[ye.LEFT]=e,this.location[ye.RIGHT]=r}}setAllLocations(t){for(let e=0;e<this.location.length;e++)this.location[e]=t}isNull(){for(let t=0;t<this.location.length;t++)if(this.location[t]!==Qt.NONE)return!1;return!0}setAllLocationsIfNull(t){for(let e=0;e<this.location.length;e++)this.location[e]===Qt.NONE&&(this.location[e]=t)}isLine(){return 1===this.location.length}merge(t){if(t.location.length>this.location.length){const t=new Array(3).fill(null);t[ye.ON]=this.location[ye.ON],t[ye.LEFT]=Qt.NONE,t[ye.RIGHT]=Qt.NONE,this.location=t}for(let e=0;e<this.location.length;e++)this.location[e]===Qt.NONE&&e<t.location.length&&(this.location[e]=t.location[e])}getLocations(){return this.location}flip(){if(this.location.length<=1)return null;const t=this.location[ye.LEFT];this.location[ye.LEFT]=this.location[ye.RIGHT],this.location[ye.RIGHT]=t}toString(){const t=new V;return this.location.length>1&&t.append(Qt.toLocationSymbol(this.location[ye.LEFT])),t.append(Qt.toLocationSymbol(this.location[ye.ON])),this.location.length>1&&t.append(Qt.toLocationSymbol(this.location[ye.RIGHT])),t.toString()}setLocations(t,e,r){this.location[ye.ON]=t,this.location[ye.LEFT]=e,this.location[ye.RIGHT]=r}get(t){return t<this.location.length?this.location[t]:Qt.NONE}isArea(){return this.location.length>1}isAnyNull(){for(let t=0;t<this.location.length;t++)if(this.location[t]===Qt.NONE)return!0;return!1}setLocation(){if(1===arguments.length){const t=arguments[0];this.setLocation(ye.ON,t)}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this.location[t]=e}}init(t){this.location=new Array(t).fill(null),this.setAllLocations(Qt.NONE)}isEqualOnSide(t,e){return this.location[e]===t.location[e]}allPositionsEqual(t){for(let e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0}}class _e{constructor(){_e.constructor_.apply(this,arguments)}static constructor_(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){const t=arguments[0];this.elt[0]=new ge(t),this.elt[1]=new ge(t)}else if(arguments[0]instanceof _e){const t=arguments[0];this.elt[0]=new ge(t.elt[0]),this.elt[1]=new ge(t.elt[1])}}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this.elt[0]=new ge(Qt.NONE),this.elt[1]=new ge(Qt.NONE),this.elt[t].setLocation(e)}else if(3===arguments.length){const t=arguments[0],e=arguments[1],r=arguments[2];this.elt[0]=new ge(t,e,r),this.elt[1]=new ge(t,e,r)}else if(4===arguments.length){const t=arguments[0],e=arguments[1],r=arguments[2],n=arguments[3];this.elt[0]=new ge(Qt.NONE,Qt.NONE,Qt.NONE),this.elt[1]=new ge(Qt.NONE,Qt.NONE,Qt.NONE),this.elt[t].setLocations(e,r,n)}}static toLineLabel(t){const e=new _e(Qt.NONE);for(let r=0;r<2;r++)e.setLocation(r,t.getLocation(r));return e}getGeometryCount(){let t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t}setAllLocations(t,e){this.elt[t].setAllLocations(e)}isNull(t){return this.elt[t].isNull()}setAllLocationsIfNull(){if(1===arguments.length){const t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this.elt[t].setAllLocationsIfNull(e)}}isLine(t){return this.elt[t].isLine()}merge(t){for(let e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new ge(t.elt[e]):this.elt[e].merge(t.elt[e])}flip(){this.elt[0].flip(),this.elt[1].flip()}getLocation(){if(1===arguments.length){const t=arguments[0];return this.elt[t].get(ye.ON)}if(2===arguments.length){const t=arguments[0],e=arguments[1];return this.elt[t].get(e)}}toString(){const t=new V;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()}isArea(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){const t=arguments[0];return this.elt[t].isArea()}}isAnyNull(t){return this.elt[t].isAnyNull()}setLocation(){if(2===arguments.length){const t=arguments[0],e=arguments[1];this.elt[t].setLocation(ye.ON,e)}else if(3===arguments.length){const t=arguments[0],e=arguments[1],r=arguments[2];this.elt[t].setLocation(e,r)}}isEqualOnSide(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)}allPositionsEqual(t,e){return this.elt[t].allPositionsEqual(e)}toLine(t){this.elt[t].isArea()&&(this.elt[t]=new ge(this.elt[t].location[0]))}}class be{createEdgeEndForNext(t,e,r,n){const i=r.segmentIndex+1;if(i>=t.getNumPoints()&&null===n)return null;let o=t.getCoordinate(i);null!==n&&n.segmentIndex===r.segmentIndex&&(o=n.coord);const a=new me(t,r.coord,o,new _e(t.getLabel()));e.add(a)}createEdgeEndForPrev(t,e,r,n){let i=r.segmentIndex;if(0===r.dist){if(0===i)return null;i--}let o=t.getCoordinate(i);null!==n&&n.segmentIndex>=i&&(o=n.coord);const a=new _e(t.getLabel());a.flip();const s=new me(t,r.coord,o,a);e.add(s)}computeEdgeEnds(){if(1===arguments.length){const t=arguments[0],e=new W;for(let r=t;r.hasNext();){const t=r.next();this.computeEdgeEnds(t,e)}return e}if(2===arguments.length){const t=arguments[0],e=arguments[1],r=t.getEdgeIntersectionList();r.addEndpoints();const n=r.iterator();let i=null,o=null;if(!n.hasNext())return null;let a=n.next();do{i=o,o=a,a=null,n.hasNext()&&(a=n.next()),null!==o&&(this.createEdgeEndForPrev(t,e,o,i),this.createEdgeEndForNext(t,e,o,a))}while(null!==o)}}}class ve{constructor(){ve.constructor_.apply(this,arguments)}static constructor_(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){const t=arguments[0];this._label=t}}setVisited(t){this._isVisited=t}setInResult(t){this._isInResult=t}isCovered(){return this._isCovered}isCoveredSet(){return this._isCoveredSet}setLabel(t){this._label=t}getLabel(){return this._label}setCovered(t){this._isCovered=t,this._isCoveredSet=!0}updateIM(t){_.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)}isInResult(){return this._isInResult}isVisited(){return this._isVisited}}class Oe extends ve{constructor(){super(),Oe.constructor_.apply(this,arguments)}static constructor_(){this._coord=null,this._edges=null;const t=arguments[0],e=arguments[1];this._coord=t,this._edges=e,this._label=new _e(0,Qt.NONE)}isIncidentEdgeInResult(){for(let t=this.getEdges().getEdges().iterator();t.hasNext();){if(t.next().getEdge().isInResult())return!0}return!1}isIsolated(){return 1===this._label.getGeometryCount()}getCoordinate(){return this._coord}print(t){t.println("node "+this._coord+" lbl: "+this._label)}computeIM(t){}computeMergedLocation(t,e){let r=Qt.NONE;if(r=this._label.getLocation(e),!t.isNull(e)){const n=t.getLocation(e);r!==Qt.BOUNDARY&&(r=n)}return r}setLabel(){if(2!==arguments.length||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return super.setLabel.apply(this,arguments);{const t=arguments[0],e=arguments[1];null===this._label?this._label=new _e(t,e):this._label.setLocation(t,e)}}getEdges(){return this._edges}mergeLabel(){if(arguments[0]instanceof Oe){const t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof _e){const t=arguments[0];for(let e=0;e<2;e++){const r=this.computeMergedLocation(t,e);this._label.getLocation(e)===Qt.NONE&&this._label.setLocation(e,r)}}}add(t){this._edges.insert(t),t.setNode(this)}setLabelBoundary(t){if(null===this._label)return null;let e=Qt.NONE;null!==this._label&&(e=this._label.getLocation(t));let r=null;switch(e){case Qt.BOUNDARY:r=Qt.INTERIOR;break;case Qt.INTERIOR:default:r=Qt.BOUNDARY}this._label.setLocation(t,r)}}class we extends _t{}function Me(t){return null==t?0:t.color}function Ee(t){return null==t?null:t.parent}function xe(t,e){null!==t&&(t.color=e)}function Se(t){return null==t?null:t.left}function je(t){return null==t?null:t.right}class Pe extends we{constructor(){super(),this.root_=null,this.size_=0}get(t){let e=this.root_;for(;null!==e;){const r=t.compareTo(e.key);if(r<0)e=e.left;else{if(!(r>0))return e.value;e=e.right}}return null}put(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:0,getValue(){return this.value},getKey(){return this.key}},this.size_=1,null;let r,n,i=this.root_;do{if(r=i,n=t.compareTo(i.key),n<0)i=i.left;else{if(!(n>0)){const t=i.value;return i.value=e,t}i=i.right}}while(null!==i);const o={key:t,left:null,right:null,value:e,parent:r,color:0,getValue(){return this.value},getKey(){return this.key}};return n<0?r.left=o:r.right=o,this.fixAfterInsertion(o),this.size_++,null}fixAfterInsertion(t){let e;for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)Ee(t)===Se(Ee(Ee(t)))?(e=je(Ee(Ee(t))),1===Me(e)?(xe(Ee(t),0),xe(e,0),xe(Ee(Ee(t)),1),t=Ee(Ee(t))):(t===je(Ee(t))&&(t=Ee(t),this.rotateLeft(t)),xe(Ee(t),0),xe(Ee(Ee(t)),1),this.rotateRight(Ee(Ee(t))))):(e=Se(Ee(Ee(t))),1===Me(e)?(xe(Ee(t),0),xe(e,0),xe(Ee(Ee(t)),1),t=Ee(Ee(t))):(t===Se(Ee(t))&&(t=Ee(t),this.rotateRight(t)),xe(Ee(t),0),xe(Ee(Ee(t)),1),this.rotateLeft(Ee(Ee(t)))));this.root_.color=0}values(){const t=new W;let e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=Pe.successor(e));)t.add(e.value);return t}entrySet(){const t=new bt;let e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=Pe.successor(e));)t.add(e);return t}rotateLeft(t){if(null!=t){const e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}}rotateRight(t){if(null!=t){const e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}}getFirstEntry(){let t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t}static successor(t){let e;if(null===t)return null;if(null!==t.right){for(e=t.right;null!==e.left;)e=e.left;return e}{e=t.parent;let r=t;for(;null!==e&&r===e.right;)r=e,e=e.parent;return e}}size(){return this.size_}containsKey(t){let e=this.root_;for(;null!==e;){const r=t.compareTo(e.key);if(r<0)e=e.left;else{if(!(r>0))return!0;e=e.right}}return!1}}class Te{constructor(){Te.constructor_.apply(this,arguments)}static constructor_(){this.nodeMap=new Pe,this.nodeFact=null;const t=arguments[0];this.nodeFact=t}find(t){return this.nodeMap.get(t)}addNode(){if(arguments[0]instanceof w){const t=arguments[0];let e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof Oe){const t=arguments[0],e=this.nodeMap.get(t.getCoordinate());return null===e?(this.nodeMap.put(t.getCoordinate(),t),t):(e.mergeLabel(t),e)}}print(t){for(let e=this.iterator();e.hasNext();){e.next().print(t)}}iterator(){return this.nodeMap.values().iterator()}values(){return this.nodeMap.values()}getBoundaryNodes(t){const e=new W;for(let r=this.iterator();r.hasNext();){const n=r.next();n.getLabel().getLocation(t)===Qt.BOUNDARY&&e.add(n)}return e}add(t){const e=t.getCoordinate();this.addNode(e).add(t)}}class Ie extends y{constructor(t,e){super(e?t+" [ "+e+" ]":t),this.pt=e?new w(e):void 0,this.name=Object.keys({TopologyException:Ie})[0]}getCoordinate(){return this.pt}}class Le{locate(t){}}class Re{constructor(){Re.constructor_.apply(this,arguments)}static constructor_(){this._geom=null;const t=arguments[0];this._geom=t}static locatePointInPolygon(t,e){if(e.isEmpty())return Qt.EXTERIOR;const r=e.getExteriorRing(),n=Re.locatePointInRing(t,r);if(n!==Qt.INTERIOR)return n;for(let r=0;r<e.getNumInteriorRing();r++){const n=e.getInteriorRingN(r),i=Re.locatePointInRing(t,n);if(i===Qt.BOUNDARY)return Qt.BOUNDARY;if(i===Qt.INTERIOR)return Qt.EXTERIOR}return Qt.INTERIOR}static locatePointInRing(t,e){return e.getEnvelopeInternal().intersects(t)?ie.locateInRing(t,e.getCoordinates()):Qt.EXTERIOR}static containsPointInPolygon(t,e){return Qt.EXTERIOR!==Re.locatePointInPolygon(t,e)}static locateInGeometry(t,e){if(e instanceof Q)return Re.locatePointInPolygon(t,e);if(e instanceof nt){const r=new he(e);for(;r.hasNext();){const n=r.next();if(n!==e){const e=Re.locateInGeometry(t,n);if(e!==Qt.EXTERIOR)return e}}}return Qt.EXTERIOR}static isContained(t,e){return Qt.EXTERIOR!==Re.locate(t,e)}static locate(t,e){return e.isEmpty()?Qt.EXTERIOR:e.getEnvelopeInternal().intersects(t)?Re.locateInGeometry(t,e):Qt.EXTERIOR}locate(t){return Re.locate(t,this._geom)}get interfaces_(){return[Le]}}class Ce{constructor(){Ce.constructor_.apply(this,arguments)}static constructor_(){this._edgeMap=new Pe,this._edgeList=null,this._ptInAreaLocation=[Qt.NONE,Qt.NONE]}getNextCW(t){this.getEdges();const e=this._edgeList.indexOf(t);let r=e-1;return 0===e&&(r=this._edgeList.size()-1),this._edgeList.get(r)}propagateSideLabels(t){let e=Qt.NONE;for(let r=this.iterator();r.hasNext();){const n=r.next().getLabel();n.isArea(t)&&n.getLocation(t,ye.LEFT)!==Qt.NONE&&(e=n.getLocation(t,ye.LEFT))}if(e===Qt.NONE)return null;let r=e;for(let e=this.iterator();e.hasNext();){const n=e.next(),i=n.getLabel();if(i.getLocation(t,ye.ON)===Qt.NONE&&i.setLocation(t,ye.ON,r),i.isArea(t)){const e=i.getLocation(t,ye.LEFT),o=i.getLocation(t,ye.RIGHT);if(o!==Qt.NONE){if(o!==r)throw new Ie("side location conflict",n.getCoordinate());e===Qt.NONE&&_.shouldNeverReachHere("found single null side (at "+n.getCoordinate()+")"),r=e}else _.isTrue(i.getLocation(t,ye.LEFT)===Qt.NONE,"found single null side"),i.setLocation(t,ye.RIGHT,r),i.setLocation(t,ye.LEFT,r)}}}getCoordinate(){const t=this.iterator();if(!t.hasNext())return null;return t.next().getCoordinate()}print(t){ft.out.println("EdgeEndStar:   "+this.getCoordinate());for(let e=this.iterator();e.hasNext();){e.next().print(t)}}isAreaLabelsConsistent(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}checkAreaLabelsConsistent(t){const e=this.getEdges();if(e.size()<=0)return!0;const r=e.size()-1,n=e.get(r).getLabel().getLocation(t,ye.LEFT);_.isTrue(n!==Qt.NONE,"Found unlabelled area edge");let i=n;for(let e=this.iterator();e.hasNext();){const r=e.next().getLabel();_.isTrue(r.isArea(t),"Found non-area edge");const n=r.getLocation(t,ye.LEFT),o=r.getLocation(t,ye.RIGHT);if(n===o)return!1;if(o!==i)return!1;i=n}return!0}findIndex(t){this.iterator();for(let e=0;e<this._edgeList.size();e++){if(this._edgeList.get(e)===t)return e}return-1}iterator(){return this.getEdges().iterator()}getEdges(){return null===this._edgeList&&(this._edgeList=new W(this._edgeMap.values())),this._edgeList}getLocation(t,e,r){return this._ptInAreaLocation[t]===Qt.NONE&&(this._ptInAreaLocation[t]=Re.locate(e,r[t].getGeometry())),this._ptInAreaLocation[t]}toString(){const t=new V;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(let e=this.iterator();e.hasNext();){const r=e.next();t.append(r),t.append("\n")}return t.toString()}computeEdgeEndLabels(t){for(let e=this.iterator();e.hasNext();){e.next().computeLabel(t)}}computeLabelling(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);const e=[!1,!1];for(let t=this.iterator();t.hasNext();){const r=t.next().getLabel();for(let t=0;t<2;t++)r.isLine(t)&&r.getLocation(t)===Qt.BOUNDARY&&(e[t]=!0)}for(let r=this.iterator();r.hasNext();){const n=r.next(),i=n.getLabel();for(let r=0;r<2;r++)if(i.isAnyNull(r)){let o=Qt.NONE;if(e[r])o=Qt.EXTERIOR;else{const e=n.getCoordinate();o=this.getLocation(r,e,t)}i.setAllLocationsIfNull(r,o)}}}getDegree(){return this._edgeMap.size()}insertEdgeEnd(t,e){this._edgeMap.put(t,e),this._edgeList=null}}class Ae{constructor(){Ae.constructor_.apply(this,arguments)}static constructor_(){this.mce=null,this.chainIndex=null;const t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e}computeIntersections(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)}}class ke{constructor(){ke.constructor_.apply(this,arguments)}static constructor_(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){const t=arguments[0],e=arguments[1];this._eventType=ke.DELETE,this._xValue=t,this._insertEvent=e}else if(3===arguments.length){const t=arguments[0],e=arguments[1],r=arguments[2];this._eventType=ke.INSERT,this._label=t,this._xValue=e,this._obj=r}}isDelete(){return this._eventType===ke.DELETE}setDeleteEventIndex(t){this._deleteEventIndex=t}getObject(){return this._obj}compareTo(t){const e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0}getInsertEvent(){return this._insertEvent}isInsert(){return this._eventType===ke.INSERT}isSameLabel(t){return null!==this._label&&this._label===t._label}getDeleteEventIndex(){return this._deleteEventIndex}get interfaces_(){return[f]}}ke.INSERT=1,ke.DELETE=2;const Ne={reverseOrder:function(){return{compare:(t,e)=>e.compareTo(t)}},min:function(t){return Ne.sort(t),t.get(0)},sort:function(t,e){const r=t.toArray();e?q.sort(r,e):q.sort(r);const n=t.iterator();for(let t=0,e=r.length;t<e;t++)n.next(),n.set(r[t])},singletonList:function(t){const e=new W;return e.add(t),e}};var De=Ne;class Fe{constructor(){Fe.constructor_.apply(this,arguments)}static constructor_(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;const t=arguments[0],e=arguments[1],r=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=r}static isAdjacentSegments(t,e){return 1===Math.abs(t-e)}isTrivialIntersection(t,e,r,n){if(t===r&&1===this._li.getIntersectionNum()){if(Fe.isAdjacentSegments(e,n))return!0;if(t.isClosed()){const r=t.getNumPoints()-1;if(0===e&&n===r||0===n&&e===r)return!0}}return!1}getProperIntersectionPoint(){return this._properIntersectionPoint}setIsDoneIfProperInt(t){this._isDoneWhenProperInt=t}hasProperInteriorIntersection(){return this._hasProperInterior}isBoundaryPointInternal(t,e){for(let r=e.iterator();r.hasNext();){const e=r.next().getCoordinate();if(t.isIntersection(e))return!0}return!1}hasProperIntersection(){return this._hasProper}hasIntersection(){return this._hasIntersection}isDone(){return this._isDone}isBoundaryPoint(t,e){return null!==e&&(!!this.isBoundaryPointInternal(t,e[0])||!!this.isBoundaryPointInternal(t,e[1]))}setBoundaryNodes(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e}addIntersections(t,e,r,n){if(t===r&&e===n)return null;this.numTests++;const i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=r.getCoordinates()[n],s=r.getCoordinates()[n+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),r.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,r,n)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),r.addIntersections(this._li,n,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))}}class Be extends class{}{constructor(){super(),Be.constructor_.apply(this,arguments)}static constructor_(){this.events=new W,this.nOverlaps=null}prepareEvents(){De.sort(this.events);for(let t=0;t<this.events.size();t++){const e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}}computeIntersections(){if(1===arguments.length){const t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(let e=0;e<this.events.size();e++){const r=this.events.get(e);if(r.isInsert()&&this.processOverlaps(e,r.getDeleteEventIndex(),r,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof Fe&&n(arguments[0],G)&&n(arguments[1],G)){const t=arguments[0],e=arguments[1],r=arguments[2];this.addEdges(t,t),this.addEdges(e,e),this.computeIntersections(r)}else if("boolean"==typeof arguments[2]&&n(arguments[0],G)&&arguments[1]instanceof Fe){const t=arguments[0],e=arguments[1];arguments[2]?this.addEdges(t,null):this.addEdges(t),this.computeIntersections(e)}}addEdge(t,e){const r=t.getMonotoneChainEdge(),n=r.getStartIndexes();for(let t=0;t<n.length-1;t++){const n=new Ae(r,t),i=new ke(e,r.getMinX(t),n);this.events.add(i),this.events.add(new ke(r.getMaxX(t),i))}}processOverlaps(t,e,r,n){const i=r.getObject();for(let o=t;o<e;o++){const t=this.events.get(o);if(t.isInsert()){const e=t.getObject();r.isSameLabel(t)||(i.computeIntersections(e,n),this.nOverlaps++)}}}addEdges(){if(1===arguments.length){for(let t=arguments[0].iterator();t.hasNext();){const e=t.next();this.addEdge(e,e)}}else if(2===arguments.length){const t=arguments[1];for(let e=arguments[0].iterator();e.hasNext();){const r=e.next();this.addEdge(r,t)}}}}class Ue{visitItem(t){}}class Ge{constructor(){Ge.constructor_.apply(this,arguments)}static constructor_(){this._min=o.POSITIVE_INFINITY,this._max=o.NEGATIVE_INFINITY}getMin(){return this._min}intersects(t,e){return!(this._min>e||this._max<t)}getMax(){return this._max}toString(){return Jt.toLineString(new w(this._min,0),new w(this._max,0))}}Ge.NodeComparator=class{compare(t,e){const r=t,n=e,i=(r._min+r._max)/2,o=(n._min+n._max)/2;return i<o?-1:i>o?1:0}get interfaces_(){return[m]}};class ze extends Ge{constructor(){super(),ze.constructor_.apply(this,arguments)}static constructor_(){this._item=null;const t=arguments[0],e=arguments[1],r=arguments[2];this._min=t,this._max=e,this._item=r}query(t,e,r){if(!this.intersects(t,e))return null;r.visitItem(this._item)}}class We extends Ge{constructor(){super(),We.constructor_.apply(this,arguments)}static constructor_(){this._node1=null,this._node2=null;const t=arguments[0],e=arguments[1];this._node1=t,this._node2=e,this.buildExtent(this._node1,this._node2)}buildExtent(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)}query(t,e,r){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,r),null!==this._node2&&this._node2.query(t,e,r)}}class Xe{constructor(){Xe.constructor_.apply(this,arguments)}static constructor_(){this._leaves=new W,this._root=null,this._level=0}buildTree(){De.sort(this._leaves,new Ge.NodeComparator);let t=this._leaves,e=null,r=new W;for(;;){if(this.buildLevel(t,r),1===r.size())return r.get(0);e=t,t=r,r=e}}insert(t,e,r){if(null!==this._root)throw new N("Index cannot be added to once it has been queried");this._leaves.add(new ze(t,e,r))}query(t,e,r){if(this.init(),null===this._root)return null;this._root.query(t,e,r)}buildRoot(){if(null!==this._root)return null;this._root=this.buildTree()}printNode(t){ft.out.println(Jt.toLineString(new w(t._min,this._level),new w(t._max,this._level)))}init(){return null!==this._root||0===this._leaves.size()?null:void this.buildRoot()}buildLevel(t,e){this._level++,e.clear();for(let r=0;r<t.size();r+=2){const n=t.get(r);if(null===(r+1<t.size()?t.get(r):null))e.add(n);else{const n=new We(t.get(r),t.get(r+1));e.add(n)}}}}class qe{constructor(){qe.constructor_.apply(this,arguments)}static constructor_(){if(this.p0=null,this.p1=null,0===arguments.length)qe.constructor_.call(this,new w,new w);else if(1===arguments.length){const t=arguments[0];qe.constructor_.call(this,t.p0,t.p1)}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this.p0=t,this.p1=e}else if(4===arguments.length){const t=arguments[0],e=arguments[1],r=arguments[2],n=arguments[3];qe.constructor_.call(this,new w(t,e),new w(r,n))}}static midPoint(t,e){return new w((t.x+e.x)/2,(t.y+e.y)/2)}minX(){return Math.min(this.p0.x,this.p1.x)}orientationIndex(){if(arguments[0]instanceof qe){const t=arguments[0],e=H.index(this.p0,this.p1,t.p0),r=H.index(this.p0,this.p1,t.p1);return e>=0&&r>=0||e<=0&&r<=0?Math.max(e,r):0}if(arguments[0]instanceof w){const t=arguments[0];return H.index(this.p0,this.p1,t)}}toGeometry(t){return t.createLineString([this.p0,this.p1])}isVertical(){return this.p0.x===this.p1.x}equals(t){if(!(t instanceof qe))return!1;const e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)}intersection(t){const e=new re;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null}project(){if(arguments[0]instanceof w){const t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new w(t);const e=this.projectionFactor(t),r=new w;return r.x=this.p0.x+e*(this.p1.x-this.p0.x),r.y=this.p0.y+e*(this.p1.y-this.p0.y),r}if(arguments[0]instanceof qe){const t=arguments[0],e=this.projectionFactor(t.p0),r=this.projectionFactor(t.p1);if(e>=1&&r>=1)return null;if(e<=0&&r<=0)return null;let n=this.project(t.p0);e<0&&(n=this.p0),e>1&&(n=this.p1);let i=this.project(t.p1);return r<0&&(i=this.p0),r>1&&(i=this.p1),new qe(n,i)}}normalize(){this.p1.compareTo(this.p0)<0&&this.reverse()}angle(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}getCoordinate(t){return 0===t?this.p0:this.p1}distancePerpendicular(t){return te.pointToLinePerpendicular(t,this.p0,this.p1)}minY(){return Math.min(this.p0.y,this.p1.y)}midPoint(){return qe.midPoint(this.p0,this.p1)}projectionFactor(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;const e=this.p1.x-this.p0.x,r=this.p1.y-this.p0.y,n=e*e+r*r;if(n<=0)return o.NaN;return((t.x-this.p0.x)*e+(t.y-this.p0.y)*r)/n}closestPoints(t){const e=this.intersection(t);if(null!==e)return[e,e];const r=new Array(2).fill(null);let n=o.MAX_VALUE,i=null;const a=this.closestPoint(t.p0);n=a.distance(t.p0),r[0]=a,r[1]=t.p0;const s=this.closestPoint(t.p1);i=s.distance(t.p1),i<n&&(n=i,r[0]=s,r[1]=t.p1);const c=t.closestPoint(this.p0);i=c.distance(this.p0),i<n&&(n=i,r[0]=this.p0,r[1]=c);const l=t.closestPoint(this.p1);return i=l.distance(this.p1),i<n&&(n=i,r[0]=this.p1,r[1]=l),r}closestPoint(t){const e=this.projectionFactor(t);if(e>0&&e<1)return this.project(t);return this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1}maxX(){return Math.max(this.p0.x,this.p1.x)}getLength(){return this.p0.distance(this.p1)}compareTo(t){const e=t,r=this.p0.compareTo(e.p0);return 0!==r?r:this.p1.compareTo(e.p1)}reverse(){const t=this.p0;this.p0=this.p1,this.p1=t}equalsTopo(t){return this.p0.equals(t.p0)&&this.p1.equals(t.p1)||this.p0.equals(t.p1)&&this.p1.equals(t.p0)}lineIntersection(t){return $t.intersection(this.p0,this.p1,t.p0,t.p1)}maxY(){return Math.max(this.p0.y,this.p1.y)}pointAlongOffset(t,e){const r=this.p0.x+t*(this.p1.x-this.p0.x),n=this.p0.y+t*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,a=Math.sqrt(i*i+o*o);let s=0,c=0;if(0!==e){if(a<=0)throw new N("Cannot compute offset from zero-length line segment");s=e*i/a,c=e*o/a}return new w(r-c,n+s)}setCoordinates(){if(1===arguments.length){const t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this.p0.x=t.x,this.p0.y=t.y,this.p1.x=e.x,this.p1.y=e.y}}segmentFraction(t){let e=this.projectionFactor(t);return e<0?e=0:(e>1||o.isNaN(e))&&(e=1),e}toString(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}isHorizontal(){return this.p0.y===this.p1.y}reflect(t){const e=this.p1.getY()-this.p0.getY(),r=this.p0.getX()-this.p1.getX(),n=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),i=e*e+r*r,o=e*e-r*r,a=t.getX(),s=t.getY();return new w((-o*a-2*e*r*s-2*e*n)/i,(o*s-2*e*r*a-2*r*n)/i)}distance(){if(arguments[0]instanceof qe){const t=arguments[0];return te.segmentToSegment(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof w){const t=arguments[0];return te.pointToSegment(t,this.p0,this.p1)}}pointAlong(t){const e=new w;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e}hashCode(){let t=o.doubleToLongBits(this.p0.x);t^=31*o.doubleToLongBits(this.p0.y);const e=Math.trunc(t)^Math.trunc(t>>32);let r=o.doubleToLongBits(this.p1.x);r^=31*o.doubleToLongBits(this.p1.y);return e^(Math.trunc(r)^Math.trunc(r>>32))}get interfaces_(){return[f,p]}}class Ve{constructor(){Ve.constructor_.apply(this,arguments)}static constructor_(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){const t=arguments[0];this._lines=t}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this._lines=t,this._isForcedToLineString=e}}static getGeometry(){if(1===arguments.length){const t=arguments[0];return t.getFactory().buildGeometry(Ve.getLines(t))}if(2===arguments.length){const t=arguments[0],e=arguments[1];return t.getFactory().buildGeometry(Ve.getLines(t,e))}}static getLines(){if(1===arguments.length){const t=arguments[0];return Ve.getLines(t,!1)}if(2===arguments.length){if(n(arguments[0],B)&&n(arguments[1],B)){const t=arguments[1];for(let e=arguments[0].iterator();e.hasNext();){const r=e.next();Ve.getLines(r,t)}return t}if(arguments[0]instanceof x&&"boolean"==typeof arguments[1]){const t=arguments[0],e=arguments[1],r=new W;return t.apply(new Ve(r,e)),r}if(arguments[0]instanceof x&&n(arguments[1],B)){const t=arguments[0],e=arguments[1];return t instanceof A?e.add(t):t.apply(new Ve(e)),e}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&n(arguments[0],B)&&n(arguments[1],B)){const t=arguments[1],e=arguments[2];for(let r=arguments[0].iterator();r.hasNext();){const n=r.next();Ve.getLines(n,t,e)}return t}if("boolean"==typeof arguments[2]&&arguments[0]instanceof x&&n(arguments[1],B)){const t=arguments[1],e=arguments[2];return arguments[0].apply(new Ve(t,e)),t}}}filter(t){if(this._isForcedToLineString&&t instanceof ot){const e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof A&&this._lines.add(t)}setForceToLineString(t){this._isForcedToLineString=t}get interfaces_(){return[h]}}class Ye{constructor(){Ye.constructor_.apply(this,arguments)}static constructor_(){this._items=new W}visitItem(t){this._items.add(t)}getItems(){return this._items}get interfaces_(){return[Ue]}}class Ze{constructor(){Ze.constructor_.apply(this,arguments)}static constructor_(){this._geom=null,this._index=null;const t=arguments[0];if(!(n(t,J)||t instanceof ot))throw new u("Argument must be Polygonal or LinearRing");this._geom=t}locate(t){null===this._index&&(this._index=new He(this._geom),this._geom=null);const e=new ne(t),r=new Ke(e);return this._index.query(t.y,t.y,r),e.getLocation()}get interfaces_(){return[Le]}}class Ke{constructor(){Ke.constructor_.apply(this,arguments)}static constructor_(){this._counter=null;const t=arguments[0];this._counter=t}visitItem(t){const e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))}get interfaces_(){return[Ue]}}class He{constructor(){He.constructor_.apply(this,arguments)}static constructor_(){this._isEmpty=!1,this._index=new Xe;const t=arguments[0];t.isEmpty()?this._isEmpty=!0:this.init(t)}init(t){for(let e=Ve.getLines(t).iterator();e.hasNext();){const t=e.next().getCoordinates();this.addLine(t)}}addLine(t){for(let e=1;e<t.length;e++){const r=new qe(t[e-1],t[e]),n=Math.min(r.p0.y,r.p1.y),i=Math.max(r.p0.y,r.p1.y);this._index.insert(n,i,r)}}query(){if(2===arguments.length){const t=arguments[0],e=arguments[1];if(this._isEmpty)return new W;const r=new Ye;return this._index.query(t,e,r),r.getItems()}if(3===arguments.length){const t=arguments[0],e=arguments[1],r=arguments[2];if(this._isEmpty)return null;this._index.query(t,e,r)}}}Ze.SegmentVisitor=Ke,Ze.IntervalIndexedGeometry=He;class Je{constructor(){Je.constructor_.apply(this,arguments)}static constructor_(){this.coord=null,this.segmentIndex=null,this.dist=null;const t=arguments[0],e=arguments[1],r=arguments[2];this.coord=new w(t),this.segmentIndex=e,this.dist=r}getSegmentIndex(){return this.segmentIndex}getCoordinate(){return this.coord}print(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)}compareTo(t){const e=t;return this.compare(e.segmentIndex,e.dist)}isEndPoint(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t}toString(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}getDistance(){return this.dist}compare(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0}get interfaces_(){return[f]}}class Qe{constructor(){Qe.constructor_.apply(this,arguments)}static constructor_(){this._nodeMap=new Pe,this.edge=null;const t=arguments[0];this.edge=t}print(t){t.println("Intersections:");for(let e=this.iterator();e.hasNext();){e.next().print(t)}}iterator(){return this._nodeMap.values().iterator()}addSplitEdges(t){this.addEndpoints();const e=this.iterator();let r=e.next();for(;e.hasNext();){const n=e.next(),i=this.createSplitEdge(r,n);t.add(i),r=n}}addEndpoints(){const t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)}createSplitEdge(t,e){let r=e.segmentIndex-t.segmentIndex+2;const n=this.edge.pts[e.segmentIndex],i=e.dist>0||!e.coord.equals2D(n);i||r--;const o=new Array(r).fill(null);let a=0;o[a++]=new w(t.coord);for(let r=t.segmentIndex+1;r<=e.segmentIndex;r++)o[a++]=this.edge.pts[r];return i&&(o[a]=e.coord),new nr(o,new _e(this.edge._label))}add(t,e,r){const n=new Je(t,e,r),i=this._nodeMap.get(n);return null!==i?i:(this._nodeMap.put(n,n),n)}isIntersection(t){for(let e=this.iterator();e.hasNext();){if(e.next().coord.equals(t))return!0}return!1}}class $e{constructor(){$e.constructor_.apply(this,arguments)}static constructor_(){if(this._data=null,this._size=0,0===arguments.length)$e.constructor_.call(this,10);else if(1===arguments.length){const t=arguments[0];this._data=new Array(t).fill(null)}}size(){return this._size}addAll(t){return null===t||0===t.length?null:(this.ensureCapacity(this._size+t.length),ft.arraycopy(t,0,this._data,this._size,t.length),void(this._size+=t.length))}ensureCapacity(t){if(t<=this._data.length)return null;const e=Math.max(t,2*this._data.length);this._data=q.copyOf(this._data,e)}toArray(){const t=new Array(this._size).fill(null);return ft.arraycopy(this._data,0,t,0,this._size),t}add(t){this.ensureCapacity(this._size+1),this._data[this._size]=t,++this._size}}class tr{static toIntArray(t){const e=new Array(t.size()).fill(null);for(let r=0;r<e.length;r++)e[r]=t.get(r).intValue();return e}getChainStartIndices(t){let e=0;const r=new $e(Math.trunc(t.length/2));r.add(e);do{const n=this.findChainEnd(t,e);r.add(n),e=n}while(e<t.length-1);return r.toArray()}findChainEnd(t,e){const r=de.quadrant(t[e],t[e+1]);let n=e+1;for(;n<t.length;){if(de.quadrant(t[n-1],t[n])!==r)break;n++}return n-1}OLDgetChainStartIndices(t){let e=0;const r=new W;r.add(e);do{const n=this.findChainEnd(t,e);r.add(n),e=n}while(e<t.length-1);return tr.toIntArray(r)}}class er{constructor(){er.constructor_.apply(this,arguments)}static constructor_(){this.e=null,this.pts=null,this.startIndex=null;const t=arguments[0];this.e=t,this.pts=t.getCoordinates();const e=new tr;this.startIndex=e.getChainStartIndices(this.pts)}getCoordinates(){return this.pts}getMaxX(t){const e=this.pts[this.startIndex[t]].x,r=this.pts[this.startIndex[t+1]].x;return e>r?e:r}getMinX(t){const e=this.pts[this.startIndex[t]].x,r=this.pts[this.startIndex[t+1]].x;return e<r?e:r}computeIntersectsForChain(){if(4===arguments.length){const t=arguments[0],e=arguments[1],r=arguments[2],n=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[r],e.startIndex[r+1],n)}else if(6===arguments.length){const t=arguments[0],e=arguments[1],r=arguments[2],n=arguments[3],i=arguments[4],o=arguments[5];if(e-t==1&&i-n==1)return o.addIntersections(this.e,t,r.e,n),null;if(!this.overlaps(t,e,r,n,i))return null;const a=Math.trunc((t+e)/2),s=Math.trunc((n+i)/2);t<a&&(n<s&&this.computeIntersectsForChain(t,a,r,n,s,o),s<i&&this.computeIntersectsForChain(t,a,r,s,i,o)),a<e&&(n<s&&this.computeIntersectsForChain(a,e,r,n,s,o),s<i&&this.computeIntersectsForChain(a,e,r,s,i,o))}}overlaps(t,e,r,n,i){return E.intersects(this.pts[t],this.pts[e],r.pts[n],r.pts[i])}getStartIndexes(){return this.startIndex}computeIntersects(t,e){for(let r=0;r<this.startIndex.length-1;r++)for(let n=0;n<t.startIndex.length-1;n++)this.computeIntersectsForChain(r,t,n,e)}}class rr{constructor(){rr.constructor_.apply(this,arguments)}static constructor_(){this._depth=Array(2).fill().map(()=>Array(3));for(let t=0;t<2;t++)for(let e=0;e<3;e++)this._depth[t][e]=rr.NULL_VALUE}static depthAtLocation(t){return t===Qt.EXTERIOR?0:t===Qt.INTERIOR?1:rr.NULL_VALUE}getDepth(t,e){return this._depth[t][e]}setDepth(t,e,r){this._depth[t][e]=r}isNull(){if(0===arguments.length){for(let t=0;t<2;t++)for(let e=0;e<3;e++)if(this._depth[t][e]!==rr.NULL_VALUE)return!1;return!0}if(1===arguments.length){const t=arguments[0];return this._depth[t][1]===rr.NULL_VALUE}if(2===arguments.length){const t=arguments[0],e=arguments[1];return this._depth[t][e]===rr.NULL_VALUE}}normalize(){for(let t=0;t<2;t++)if(!this.isNull(t)){let e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(let r=1;r<3;r++){let n=0;this._depth[t][r]>e&&(n=1),this._depth[t][r]=n}}}getDelta(t){return this._depth[t][ye.RIGHT]-this._depth[t][ye.LEFT]}getLocation(t,e){return this._depth[t][e]<=0?Qt.EXTERIOR:Qt.INTERIOR}toString(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}add(){if(1===arguments.length){const t=arguments[0];for(let e=0;e<2;e++)for(let r=1;r<3;r++){const n=t.getLocation(e,r);n!==Qt.EXTERIOR&&n!==Qt.INTERIOR||(this.isNull(e,r)?this._depth[e][r]=rr.depthAtLocation(n):this._depth[e][r]+=rr.depthAtLocation(n))}}else if(3===arguments.length){const t=arguments[0],e=arguments[1];arguments[2]===Qt.INTERIOR&&this._depth[t][e]++}}}rr.NULL_VALUE=-1;class nr extends ve{constructor(){super(),nr.constructor_.apply(this,arguments)}static constructor_(){if(this.pts=null,this._env=null,this.eiList=new Qe(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new rr,this._depthDelta=0,1===arguments.length){const t=arguments[0];nr.constructor_.call(this,t,null)}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this.pts=t,this._label=e}}static updateIM(){if(!(2===arguments.length&&arguments[1]instanceof pe&&arguments[0]instanceof _e))return super.updateIM.apply(this,arguments);{const t=arguments[0],e=arguments[1];e.setAtLeastIfValid(t.getLocation(0,ye.ON),t.getLocation(1,ye.ON),1),t.isArea()&&(e.setAtLeastIfValid(t.getLocation(0,ye.LEFT),t.getLocation(1,ye.LEFT),2),e.setAtLeastIfValid(t.getLocation(0,ye.RIGHT),t.getLocation(1,ye.RIGHT),2))}}getDepth(){return this._depth}getCollapsedEdge(){const t=new Array(2).fill(null);t[0]=this.pts[0],t[1]=this.pts[1];return new nr(t,_e.toLineLabel(this._label))}isIsolated(){return this._isIsolated}getCoordinates(){return this.pts}setIsolated(t){this._isIsolated=t}setName(t){this._name=t}equals(t){if(!(t instanceof nr))return!1;const e=t;if(this.pts.length!==e.pts.length)return!1;let r=!0,n=!0,i=this.pts.length;for(let t=0;t<this.pts.length;t++)if(this.pts[t].equals2D(e.pts[t])||(r=!1),this.pts[t].equals2D(e.pts[--i])||(n=!1),!r&&!n)return!1;return!0}getCoordinate(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){const t=arguments[0];return this.pts[t]}}print(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(let e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)}computeIM(t){nr.updateIM(this._label,t)}isCollapsed(){return!!this._label.isArea()&&(3===this.pts.length&&!!this.pts[0].equals(this.pts[2]))}isClosed(){return this.pts[0].equals(this.pts[this.pts.length-1])}getMaximumSegmentIndex(){return this.pts.length-1}getDepthDelta(){return this._depthDelta}getNumPoints(){return this.pts.length}printReverse(t){t.print("edge "+this._name+": ");for(let e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")}getMonotoneChainEdge(){return null===this._mce&&(this._mce=new er(this)),this._mce}getEnvelope(){if(null===this._env){this._env=new E;for(let t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env}addIntersection(t,e,r,n){const i=new w(t.getIntersection(n));let o=e,a=t.getEdgeDistance(r,n);const s=o+1;if(s<this.pts.length){const t=this.pts[s];i.equals2D(t)&&(o=s,a=0)}this.eiList.add(i,o,a)}toString(){const t=new dt;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(let e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()}isPointwiseEqual(t){if(this.pts.length!==t.pts.length)return!1;for(let e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0}setDepthDelta(t){this._depthDelta=t}getEdgeIntersectionList(){return this.eiList}addIntersections(t,e,r){for(let n=0;n<t.getIntersectionNum();n++)this.addIntersection(t,e,r,n)}}class ir extends me{constructor(){super(),ir.constructor_.apply(this,arguments)}static constructor_(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];const t=arguments[0],e=arguments[1];if(me.constructor_.call(this,t),this._isForward=e,e)this.init(t.getCoordinate(0),t.getCoordinate(1));else{const e=t.getNumPoints()-1;this.init(t.getCoordinate(e),t.getCoordinate(e-1))}this.computeDirectedLabel()}static depthFactor(t,e){return t===Qt.EXTERIOR&&e===Qt.INTERIOR?1:t===Qt.INTERIOR&&e===Qt.EXTERIOR?-1:0}getNextMin(){return this._nextMin}getDepth(t){return this._depth[t]}setVisited(t){this._isVisited=t}computeDirectedLabel(){this._label=new _e(this._edge.getLabel()),this._isForward||this._label.flip()}getNext(){return this._next}setDepth(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new Ie("assigned depths do not match",this.getCoordinate());this._depth[t]=e}isInteriorAreaEdge(){let t=!0;for(let e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,ye.LEFT)===Qt.INTERIOR&&this._label.getLocation(e,ye.RIGHT)===Qt.INTERIOR||(t=!1);return t}setNextMin(t){this._nextMin=t}print(t){super.print.call(this,t),t.print(" "+this._depth[ye.LEFT]+"/"+this._depth[ye.RIGHT]),t.print(" ("+this.getDepthDelta()+")"),this._isInResult&&t.print(" inResult")}setMinEdgeRing(t){this._minEdgeRing=t}isLineEdge(){const t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,Qt.EXTERIOR),r=!this._label.isArea(1)||this._label.allPositionsEqual(1,Qt.EXTERIOR);return t&&e&&r}setEdgeRing(t){this._edgeRing=t}getMinEdgeRing(){return this._minEdgeRing}getDepthDelta(){let t=this._edge.getDepthDelta();return this._isForward||(t=-t),t}setInResult(t){this._isInResult=t}getSym(){return this._sym}isForward(){return this._isForward}getEdge(){return this._edge}printEdge(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)}setSym(t){this._sym=t}setVisitedEdge(t){this.setVisited(t),this._sym.setVisited(t)}setEdgeDepths(t,e){let r=this.getEdge().getDepthDelta();this._isForward||(r=-r);let n=1;t===ye.LEFT&&(n=-1);const i=ye.opposite(t),o=e+r*n;this.setDepth(t,e),this.setDepth(i,o)}getEdgeRing(){return this._edgeRing}isInResult(){return this._isInResult}setNext(t){this._next=t}isVisited(){return this._isVisited}}class or{createNode(t){return new Oe(t,null)}}class ar{constructor(){ar.constructor_.apply(this,arguments)}static constructor_(){if(this._edges=new W,this._nodes=null,this._edgeEndList=new W,0===arguments.length)this._nodes=new Te(new or);else if(1===arguments.length){const t=arguments[0];this._nodes=new Te(t)}}static linkResultDirectedEdges(t){for(let e=t.iterator();e.hasNext();){e.next().getEdges().linkResultDirectedEdges()}}printEdges(t){t.println("Edges:");for(let e=0;e<this._edges.size();e++){t.println("edge "+e+":");const r=this._edges.get(e);r.print(t),r.eiList.print(t)}}find(t){return this._nodes.find(t)}addNode(){if(arguments[0]instanceof Oe){const t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof w){const t=arguments[0];return this._nodes.addNode(t)}}getNodeIterator(){return this._nodes.iterator()}linkResultDirectedEdges(){for(let t=this._nodes.iterator();t.hasNext();){t.next().getEdges().linkResultDirectedEdges()}}debugPrintln(t){ft.out.println(t)}isBoundaryNode(t,e){const r=this._nodes.find(e);if(null===r)return!1;const n=r.getLabel();return null!==n&&n.getLocation(t)===Qt.BOUNDARY}linkAllDirectedEdges(){for(let t=this._nodes.iterator();t.hasNext();){t.next().getEdges().linkAllDirectedEdges()}}matchInSameDirection(t,e,r,n){return!!t.equals(r)&&(H.index(t,e,n)===H.COLLINEAR&&de.quadrant(t,e)===de.quadrant(r,n))}getEdgeEnds(){return this._edgeEndList}debugPrint(t){ft.out.print(t)}getEdgeIterator(){return this._edges.iterator()}findEdgeInSameDirection(t,e){for(let r=0;r<this._edges.size();r++){const n=this._edges.get(r),i=n.getCoordinates();if(this.matchInSameDirection(t,e,i[0],i[1]))return n;if(this.matchInSameDirection(t,e,i[i.length-1],i[i.length-2]))return n}return null}insertEdge(t){this._edges.add(t)}findEdgeEnd(t){for(let e=this.getEdgeEnds().iterator();e.hasNext();){const r=e.next();if(r.getEdge()===t)return r}return null}addEdges(t){for(let e=t.iterator();e.hasNext();){const t=e.next();this._edges.add(t);const r=new ir(t,!0),n=new ir(t,!1);r.setSym(n),n.setSym(r),this.add(r),this.add(n)}}add(t){this._nodes.add(t),this._edgeEndList.add(t)}getNodes(){return this._nodes.values()}findEdge(t,e){for(let r=0;r<this._edges.size();r++){const n=this._edges.get(r),i=n.getCoordinates();if(t.equals(i[0])&&e.equals(i[1]))return n}return null}}class sr extends ar{constructor(){super(),sr.constructor_.apply(this,arguments)}static constructor_(){if(this._parentGeom=null,this._lineEdgeMap=new Ot,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new fe,2===arguments.length){const t=arguments[0],e=arguments[1];sr.constructor_.call(this,t,e,oe.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){const t=arguments[0],e=arguments[1],r=arguments[2];this._argIndex=t,this._parentGeom=e,this._boundaryNodeRule=r,null!==e&&this.add(e)}}static determineBoundary(t,e){return t.isInBoundary(e)?Qt.BOUNDARY:Qt.INTERIOR}insertBoundaryPoint(t,e){const r=this._nodes.addNode(e).getLabel();let n=1,i=Qt.NONE;i=r.getLocation(t,ye.ON),i===Qt.BOUNDARY&&n++;const o=sr.determineBoundary(this._boundaryNodeRule,n);r.setLocation(t,o)}computeSelfNodes(){if(2===arguments.length){const t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){const t=arguments[1],e=arguments[2],r=new Fe(arguments[0],!0,!1);r.setIsDoneIfProperInt(e);const n=this.createEdgeSetIntersector(),i=this._parentGeom instanceof ot||this._parentGeom instanceof Q||this._parentGeom instanceof gt,o=t||!i;return n.computeIntersections(this._edges,r,o),this.addSelfIntersectionNodes(this._argIndex),r}}computeSplitEdges(t){for(let e=this._edges.iterator();e.hasNext();){e.next().eiList.addSplitEdges(t)}}computeEdgeIntersections(t,e,r){const n=new Fe(e,r,!0);n.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes());return this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,n),n}getGeometry(){return this._parentGeom}getBoundaryNodeRule(){return this._boundaryNodeRule}hasTooFewPoints(){return this._hasTooFewPoints}addPoint(){if(arguments[0]instanceof D){const t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,Qt.INTERIOR)}else if(arguments[0]instanceof w){const t=arguments[0];this.insertPoint(this._argIndex,t,Qt.INTERIOR)}}addPolygon(t){this.addPolygonRing(t.getExteriorRing(),Qt.EXTERIOR,Qt.INTERIOR);for(let e=0;e<t.getNumInteriorRing();e++){const r=t.getInteriorRingN(e);this.addPolygonRing(r,Qt.INTERIOR,Qt.EXTERIOR)}}addEdge(t){this.insertEdge(t);const e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],Qt.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],Qt.BOUNDARY)}addLineString(t){const e=pt.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;const r=new nr(e,new _e(this._argIndex,Qt.INTERIOR));this._lineEdgeMap.put(t,r),this.insertEdge(r),_.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])}getInvalidPoint(){return this._invalidPoint}getBoundaryPoints(){const t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null);let r=0;for(let n=t.iterator();n.hasNext();){const t=n.next();e[r++]=t.getCoordinate().copy()}return e}getBoundaryNodes(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes}addSelfIntersectionNode(t,e,r){if(this.isBoundaryNode(t,e))return null;r===Qt.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,r)}addPolygonRing(t,e,r){if(t.isEmpty())return null;const n=pt.removeRepeatedPoints(t.getCoordinates());if(n.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=n[0],null;let i=e,o=r;H.isCCW(n)&&(i=r,o=e);const a=new nr(n,new _e(this._argIndex,Qt.BOUNDARY,i,o));this._lineEdgeMap.put(t,a),this.insertEdge(a),this.insertPoint(this._argIndex,n[0],Qt.BOUNDARY)}insertPoint(t,e,r){const n=this._nodes.addNode(e),i=n.getLabel();null===i?n._label=new _e(t,r):i.setLocation(t,r)}createEdgeSetIntersector(){return new Be}addSelfIntersectionNodes(t){for(let e=this._edges.iterator();e.hasNext();){const r=e.next(),n=r.getLabel().getLocation(t);for(let e=r.eiList.iterator();e.hasNext();){const r=e.next();this.addSelfIntersectionNode(t,r.coord,n)}}}add(){if(!(1===arguments.length&&arguments[0]instanceof x))return super.add.apply(this,arguments);{const t=arguments[0];if(t.isEmpty())return null;if(t instanceof gt&&(this._useBoundaryDeterminationRule=!1),t instanceof Q)this.addPolygon(t);else if(t instanceof A)this.addLineString(t);else if(t instanceof D)this.addPoint(t);else if(t instanceof it)this.addCollection(t);else if(t instanceof Et)this.addCollection(t);else if(t instanceof gt)this.addCollection(t);else{if(!(t instanceof nt))throw new T(t.getGeometryType());this.addCollection(t)}}}addCollection(t){for(let e=0;e<t.getNumGeometries();e++){const r=t.getGeometryN(e);this.add(r)}}locate(t){return n(this._parentGeom,J)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new Ze(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)}findEdge(){if(1===arguments.length&&arguments[0]instanceof A){const t=arguments[0];return this._lineEdgeMap.get(t)}return super.findEdge.apply(this,arguments)}}class cr extends me{constructor(){super(),cr.constructor_.apply(this,arguments)}static constructor_(){if(this._edgeEnds=new W,1===arguments.length){const t=arguments[0];cr.constructor_.call(this,null,t)}else if(2===arguments.length){const t=arguments[1];me.constructor_.call(this,t.getEdge(),t.getCoordinate(),t.getDirectedCoordinate(),new _e(t.getLabel())),this.insert(t)}}insert(t){this._edgeEnds.add(t)}print(t){t.println("EdgeEndBundle--\x3e Label: "+this._label);for(let e=this.iterator();e.hasNext();){e.next().print(t),t.println()}}iterator(){return this._edgeEnds.iterator()}getEdgeEnds(){return this._edgeEnds}computeLabelOn(t,e){let r=0,n=!1;for(let e=this.iterator();e.hasNext();){const i=e.next().getLabel().getLocation(t);i===Qt.BOUNDARY&&r++,i===Qt.INTERIOR&&(n=!0)}let i=Qt.NONE;n&&(i=Qt.INTERIOR),r>0&&(i=sr.determineBoundary(e,r)),this._label.setLocation(t,i)}computeLabelSide(t,e){for(let r=this.iterator();r.hasNext();){const n=r.next();if(n.getLabel().isArea()){const r=n.getLabel().getLocation(t,e);if(r===Qt.INTERIOR)return this._label.setLocation(t,e,Qt.INTERIOR),null;r===Qt.EXTERIOR&&this._label.setLocation(t,e,Qt.EXTERIOR)}}}getLabel(){return this._label}computeLabelSides(t){this.computeLabelSide(t,ye.LEFT),this.computeLabelSide(t,ye.RIGHT)}updateIM(t){nr.updateIM(this._label,t)}computeLabel(t){let e=!1;for(let t=this.iterator();t.hasNext();){t.next().getLabel().isArea()&&(e=!0)}this._label=e?new _e(Qt.NONE,Qt.NONE,Qt.NONE):new _e(Qt.NONE);for(let r=0;r<2;r++)this.computeLabelOn(r,t),e&&this.computeLabelSides(r)}}class lr extends Ce{constructor(){super()}updateIM(t){for(let e=this.iterator();e.hasNext();){e.next().updateIM(t)}}insert(t){let e=this._edgeMap.get(t);null===e?(e=new cr(t),this.insertEdgeEnd(t,e)):e.insert(t)}}class ur extends Oe{constructor(){super(),ur.constructor_.apply(this,arguments)}static constructor_(){const t=arguments[0],e=arguments[1];Oe.constructor_.call(this,t,e)}updateIMFromEdges(t){this._edges.updateIM(t)}computeIM(t){t.setAtLeastIfValid(this._label.getLocation(0),this._label.getLocation(1),0)}}class hr extends or{constructor(){super()}createNode(t){return new ur(t,new lr)}}class fr{constructor(){fr.constructor_.apply(this,arguments)}static constructor_(){this._li=new re,this._ptLocator=new fe,this._arg=null,this._nodes=new Te(new hr),this._im=null,this._isolatedEdges=new W,this._invalidPoint=null;const t=arguments[0];this._arg=t}insertEdgeEnds(t){for(let e=t.iterator();e.hasNext();){const t=e.next();this._nodes.add(t)}}computeProperIntersectionIM(t,e){const r=this._arg[0].getGeometry().getDimension(),n=this._arg[1].getGeometry().getDimension(),i=t.hasProperIntersection(),o=t.hasProperInteriorIntersection();2===r&&2===n?i&&e.setAtLeast("212101212"):2===r&&1===n?(i&&e.setAtLeast("FFF0FFFF2"),o&&e.setAtLeast("1FFFFF1FF")):1===r&&2===n?(i&&e.setAtLeast("F0FFFFFF2"),o&&e.setAtLeast("1F1FFFFFF")):1===r&&1===n&&o&&e.setAtLeast("0FFFFFFFF")}labelIsolatedEdges(t,e){for(let r=this._arg[t].getEdgeIterator();r.hasNext();){const t=r.next();t.isIsolated()&&(this.labelIsolatedEdge(t,e,this._arg[e].getGeometry()),this._isolatedEdges.add(t))}}labelIsolatedEdge(t,e,r){if(r.getDimension()>0){const n=this._ptLocator.locate(t.getCoordinate(),r);t.getLabel().setAllLocations(e,n)}else t.getLabel().setAllLocations(e,Qt.EXTERIOR)}computeIM(){const t=new pe;if(t.set(Qt.EXTERIOR,Qt.EXTERIOR,2),!this._arg[0].getGeometry().getEnvelopeInternal().intersects(this._arg[1].getGeometry().getEnvelopeInternal()))return this.computeDisjointIM(t),t;this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1);const e=this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!1);this.computeIntersectionNodes(0),this.computeIntersectionNodes(1),this.copyNodesAndLabels(0),this.copyNodesAndLabels(1),this.labelIsolatedNodes(),this.computeProperIntersectionIM(e,t);const r=new be,n=r.computeEdgeEnds(this._arg[0].getEdgeIterator());this.insertEdgeEnds(n);const i=r.computeEdgeEnds(this._arg[1].getEdgeIterator());return this.insertEdgeEnds(i),this.labelNodeEdges(),this.labelIsolatedEdges(0,1),this.labelIsolatedEdges(1,0),this.updateIM(t),t}labelNodeEdges(){for(let t=this._nodes.iterator();t.hasNext();){t.next().getEdges().computeLabelling(this._arg)}}copyNodesAndLabels(t){for(let e=this._arg[t].getNodeIterator();e.hasNext();){const r=e.next();this._nodes.addNode(r.getCoordinate()).setLabel(t,r.getLabel().getLocation(t))}}labelIntersectionNodes(t){for(let e=this._arg[t].getEdgeIterator();e.hasNext();){const r=e.next(),n=r.getLabel().getLocation(t);for(let e=r.getEdgeIntersectionList().iterator();e.hasNext();){const r=e.next(),i=this._nodes.find(r.coord);i.getLabel().isNull(t)&&(n===Qt.BOUNDARY?i.setLabelBoundary(t):i.setLabel(t,Qt.INTERIOR))}}}labelIsolatedNode(t,e){const r=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setAllLocations(e,r)}computeIntersectionNodes(t){for(let e=this._arg[t].getEdgeIterator();e.hasNext();){const r=e.next(),n=r.getLabel().getLocation(t);for(let e=r.getEdgeIntersectionList().iterator();e.hasNext();){const r=e.next(),i=this._nodes.addNode(r.coord);n===Qt.BOUNDARY?i.setLabelBoundary(t):i.getLabel().isNull(t)&&i.setLabel(t,Qt.INTERIOR)}}}labelIsolatedNodes(){for(let t=this._nodes.iterator();t.hasNext();){const e=t.next(),r=e.getLabel();_.isTrue(r.getGeometryCount()>0,"node with empty label found"),e.isIsolated()&&(r.isNull(0)?this.labelIsolatedNode(e,0):this.labelIsolatedNode(e,1))}}updateIM(t){for(let e=this._isolatedEdges.iterator();e.hasNext();){e.next().updateIM(t)}for(let e=this._nodes.iterator();e.hasNext();){const r=e.next();r.updateIM(t),r.updateIMFromEdges(t)}}computeDisjointIM(t){const e=this._arg[0].getGeometry();e.isEmpty()||(t.set(Qt.INTERIOR,Qt.EXTERIOR,e.getDimension()),t.set(Qt.BOUNDARY,Qt.EXTERIOR,e.getBoundaryDimension()));const r=this._arg[1].getGeometry();r.isEmpty()||(t.set(Qt.EXTERIOR,Qt.INTERIOR,r.getDimension()),t.set(Qt.EXTERIOR,Qt.BOUNDARY,r.getBoundaryDimension()))}}class pr{constructor(){pr.constructor_.apply(this,arguments)}static constructor_(){if(this._li=new re,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){const t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new sr(0,t)}else if(2===arguments.length){const t=arguments[0],e=arguments[1];pr.constructor_.call(this,t,e,oe.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){const t=arguments[0],e=arguments[1],r=arguments[2];t.getPrecisionModel().compareTo(e.getPrecisionModel())>=0?this.setComputationPrecision(t.getPrecisionModel()):this.setComputationPrecision(e.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new sr(0,t,r),this._arg[1]=new sr(1,e,r)}}getArgGeometry(t){return this._arg[t].getGeometry()}setComputationPrecision(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)}}class dr{constructor(){dr.constructor_.apply(this,arguments)}static constructor_(){this._rectEnv=null;const t=arguments[0];this._rectEnv=t.getEnvelopeInternal()}static contains(t,e){return new dr(t).contains(e)}isContainedInBoundary(t){if(t instanceof Q)return!1;if(t instanceof D)return this.isPointContainedInBoundary(t);if(t instanceof A)return this.isLineStringContainedInBoundary(t);for(let e=0;e<t.getNumGeometries();e++){const r=t.getGeometryN(e);if(!this.isContainedInBoundary(r))return!1}return!0}isLineSegmentContainedInBoundary(t,e){if(t.equals(e))return this.isPointContainedInBoundary(t);if(t.x===e.x){if(t.x===this._rectEnv.getMinX()||t.x===this._rectEnv.getMaxX())return!0}else if(t.y===e.y&&(t.y===this._rectEnv.getMinY()||t.y===this._rectEnv.getMaxY()))return!0;return!1}isLineStringContainedInBoundary(t){const e=t.getCoordinateSequence(),r=new w,n=new w;for(let t=0;t<e.size()-1;t++)if(e.getCoordinate(t,r),e.getCoordinate(t+1,n),!this.isLineSegmentContainedInBoundary(r,n))return!1;return!0}isPointContainedInBoundary(){if(arguments[0]instanceof D){const t=arguments[0];return this.isPointContainedInBoundary(t.getCoordinate())}if(arguments[0]instanceof w){const t=arguments[0];return t.x===this._rectEnv.getMinX()||t.x===this._rectEnv.getMaxX()||t.y===this._rectEnv.getMinY()||t.y===this._rectEnv.getMaxY()}}contains(t){return!!this._rectEnv.contains(t.getEnvelopeInternal())&&!this.isContainedInBoundary(t)}}class mr{constructor(){mr.constructor_.apply(this,arguments)}static constructor_(){this._li=new re,this._rectEnv=null,this._diagUp0=null,this._diagUp1=null,this._diagDown0=null,this._diagDown1=null;const t=arguments[0];this._rectEnv=t,this._diagUp0=new w(t.getMinX(),t.getMinY()),this._diagUp1=new w(t.getMaxX(),t.getMaxY()),this._diagDown0=new w(t.getMinX(),t.getMaxY()),this._diagDown1=new w(t.getMaxX(),t.getMinY())}intersects(t,e){const r=new E(t,e);if(!this._rectEnv.intersects(r))return!1;if(this._rectEnv.intersects(t))return!0;if(this._rectEnv.intersects(e))return!0;if(t.compareTo(e)>0){const r=t;t=e,e=r}let n=!1;return e.y>t.y&&(n=!0),n?this._li.computeIntersection(t,e,this._diagDown0,this._diagDown1):this._li.computeIntersection(t,e,this._diagUp0,this._diagUp1),!!this._li.hasIntersection()}}class yr{constructor(){yr.constructor_.apply(this,arguments)}static constructor_(){this._isDone=!1}applyTo(t){for(let e=0;e<t.getNumGeometries()&&!this._isDone;e++){const r=t.getGeometryN(e);if(r instanceof nt)this.applyTo(r);else if(this.visit(r),this.isDone())return this._isDone=!0,null}}}class gr{constructor(){gr.constructor_.apply(this,arguments)}static constructor_(){this._rectangle=null,this._rectEnv=null;const t=arguments[0];this._rectangle=t,this._rectEnv=t.getEnvelopeInternal()}static intersects(t,e){return new gr(t).intersects(e)}intersects(t){if(!this._rectEnv.intersects(t.getEnvelopeInternal()))return!1;const e=new _r(this._rectEnv);if(e.applyTo(t),e.intersects())return!0;const r=new br(this._rectangle);if(r.applyTo(t),r.containsPoint())return!0;const n=new vr(this._rectangle);return n.applyTo(t),!!n.intersects()}}class _r extends yr{constructor(){super(),_r.constructor_.apply(this,arguments)}static constructor_(){this._rectEnv=null,this._intersects=!1;const t=arguments[0];this._rectEnv=t}isDone(){return!0===this._intersects}visit(t){const e=t.getEnvelopeInternal();return this._rectEnv.intersects(e)?this._rectEnv.contains(e)||e.getMinX()>=this._rectEnv.getMinX()&&e.getMaxX()<=this._rectEnv.getMaxX()||e.getMinY()>=this._rectEnv.getMinY()&&e.getMaxY()<=this._rectEnv.getMaxY()?(this._intersects=!0,null):void 0:null}intersects(){return this._intersects}}class br extends yr{constructor(){super(),br.constructor_.apply(this,arguments)}static constructor_(){this._rectSeq=null,this._rectEnv=null,this._containsPoint=!1;const t=arguments[0];this._rectSeq=t.getExteriorRing().getCoordinateSequence(),this._rectEnv=t.getEnvelopeInternal()}isDone(){return!0===this._containsPoint}visit(t){if(!(t instanceof Q))return null;const e=t.getEnvelopeInternal();if(!this._rectEnv.intersects(e))return null;const r=new w;for(let n=0;n<4;n++)if(this._rectSeq.getCoordinate(n,r),e.contains(r)&&Re.containsPointInPolygon(r,t))return this._containsPoint=!0,null}containsPoint(){return this._containsPoint}}class vr extends yr{constructor(){super(),vr.constructor_.apply(this,arguments)}static constructor_(){this._rectEnv=null,this._rectIntersector=null,this._hasIntersection=!1,this._p0=new w,this._p1=new w;const t=arguments[0];this._rectEnv=t.getEnvelopeInternal(),this._rectIntersector=new mr(this._rectEnv)}intersects(){return this._hasIntersection}isDone(){return!0===this._hasIntersection}visit(t){const e=t.getEnvelopeInternal();if(!this._rectEnv.intersects(e))return null;const r=Ve.getLines(t);this.checkIntersectionWithLineStrings(r)}checkIntersectionWithLineStrings(t){for(let e=t.iterator();e.hasNext();){const t=e.next();if(this.checkIntersectionWithSegments(t),this._hasIntersection)return null}}checkIntersectionWithSegments(t){const e=t.getCoordinateSequence();for(let t=1;t<e.size();t++)if(e.getCoordinate(t-1,this._p0),e.getCoordinate(t,this._p1),this._rectIntersector.intersects(this._p0,this._p1))return this._hasIntersection=!0,null}}class Or extends pr{constructor(){super(),Or.constructor_.apply(this,arguments)}static constructor_(){if(this._relate=null,2===arguments.length){const t=arguments[0],e=arguments[1];pr.constructor_.call(this,t,e),this._relate=new fr(this._arg)}else if(3===arguments.length){const t=arguments[0],e=arguments[1],r=arguments[2];pr.constructor_.call(this,t,e,r),this._relate=new fr(this._arg)}}static covers(t,e){return!(2===e.getDimension()&&t.getDimension()<2)&&(!(1===e.getDimension()&&t.getDimension()<1&&e.getLength()>0)&&(!!t.getEnvelopeInternal().covers(e.getEnvelopeInternal())&&(!!t.isRectangle()||new Or(t,e).getIntersectionMatrix().isCovers())))}static intersects(t,e){if(!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal()))return!1;if(t.isRectangle())return gr.intersects(t,e);if(e.isRectangle())return gr.intersects(e,t);if(t.isGeometryCollection()||e.isGeometryCollection()){for(let r=0;r<t.getNumGeometries();r++)for(let n=0;n<e.getNumGeometries();n++)if(t.getGeometryN(r).intersects(e.getGeometryN(n)))return!0;return!1}return new Or(t,e).getIntersectionMatrix().isIntersects()}static touches(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&new Or(t,e).getIntersectionMatrix().isTouches(t.getDimension(),e.getDimension())}static equalsTopo(t,e){return!!t.getEnvelopeInternal().equals(e.getEnvelopeInternal())&&Or.relate(t,e).isEquals(t.getDimension(),e.getDimension())}static relate(){if(2===arguments.length){return new Or(arguments[0],arguments[1]).getIntersectionMatrix()}if(3===arguments.length){return new Or(arguments[0],arguments[1],arguments[2]).getIntersectionMatrix()}}static overlaps(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&new Or(t,e).getIntersectionMatrix().isOverlaps(t.getDimension(),e.getDimension())}static crosses(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&new Or(t,e).getIntersectionMatrix().isCrosses(t.getDimension(),e.getDimension())}static contains(t,e){return!(2===e.getDimension()&&t.getDimension()<2)&&(!(1===e.getDimension()&&t.getDimension()<1&&e.getLength()>0)&&(!!t.getEnvelopeInternal().contains(e.getEnvelopeInternal())&&(t.isRectangle()?dr.contains(t,e):new Or(t,e).getIntersectionMatrix().isContains())))}getIntersectionMatrix(){return this._relate.computeIM()}}var wr=r(248),Mr=r(422),Er=r(0),xr=r(77),Sr=r(91);function jr(t){return function(t){if(Array.isArray(t))return Pr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Pr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pr(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Tr=function(t){var e=t,r=[];return e instanceof xr.a?r=jr(e.getFeatures().map((function(t){return t.getGeometry()}))):(Object(Er.R)(e)||(e=[e]),r=e.map((function(t){var e;return t instanceof Sr.a?e=t.getGeometry():Object(Er.Y)(t)&&(e=t),e}))),r},Ir=function(t,e){var r="",n=new Mr.a;return e.forEach((function(e,i){0!==i&&(r+=" OR ");var o=e;"point"===o.type.toLowerCase()&&(o.coordinates.length=2);var a=n.writeFeature(o);r+="".concat(t,"({{geometryName}}, ").concat(a,")")})),r},Lr=function(t){var e=Tr(t);return new wr.a((function(t,r){var n=new It,i=n.read(t);return e.some((function(t){var e=n.read(t);return Or.contains(e,i)}))}),{cqlFilter:Ir("CONTAINS",e)})},Rr=function(t){var e=Tr(t);return new wr.a((function(t,r){var n=new It,i=n.read(t);return e.some((function(t){var e=n.read(t);return!Or.intersects(i,e)}))}),{cqlFilter:Ir("DISJOINT",e)})},Cr=function(t){var e=Tr(t);return new wr.a((function(t,r){var n=new It,i=n.read(t);return e.some((function(t){var e=n.read(t);return Or.contains(e,i)}))}),{cqlFilter:Ir("WITHIN",e)})},Ar=function(t){var e=Tr(t);return new wr.a((function(t,r){var n=new It,i=n.read(t);return e.some((function(t){var e=n.read(t);return Or.intersects(i,e)}))}),{cqlFilter:Ir("INTERSECTS",e)})}},function(t,e,r){"use strict";var n=r(352),i=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=h;var o=Object.create(r(310));o.inherits=r(46);var a=r(487),s=r(437);o.inherits(h,a);for(var c=i(s.prototype),l=0;l<c.length;l++){var u=c[l];h.prototype[u]||(h.prototype[u]=s.prototype[u])}function h(t){if(!(this instanceof h))return new h(t);a.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||n.nextTick(p,this)}function p(t){t.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),h.prototype._destroy=function(t,e){this.push(null),this.end(),n.nextTick(e,t)}},function(t,e,r){"use strict";var n=r(1),i=function(){function t(){}return t.prototype.read=function(t){if(t){if("string"==typeof t){var e=Object(n.s)(t);return this.readFromDocument(e)}return Object(n.h)(t)?this.readFromDocument(t):this.readFromNode(t)}return null},t.prototype.readFromDocument=function(t){},t.prototype.readFromNode=function(t){},t}();e.a=i},function(t,e,r){"use strict";r.d(e,"b",(function(){return u}));var n=r(113),i=r(37),o=r(7),a=r(13),s=r(4),c=r(167),l=r(139);n.visibleAtResolution=function(t,e){return t.visible&&e>=t.minResolution&&e<=t.maxResolution},i.a.prototype.writePos_=function(t,e,r){var n=e.getCoordinates(),i="".concat(n[0]," ").concat(n[1]);Object(o.n)(t,i)},i.a.prototype.getCoords_=function(t,e){return"".concat(t[0]," ").concat(t[1])};var u=function(t,e){var r=t.Contents.Layer,n=Object(a.d)(r,(function(t,r,n){return t.Identifier==e.layer}));if(null===n)return null;var i,o=t.Contents.TileMatrixSet;(i=n.TileMatrixSetLink.length>1?"projection"in e?Object(a.e)(n.TileMatrixSetLink,(function(t,r,n){var i=Object(a.d)(o,(function(e){return e.Identifier==t.TileMatrixSet})).SupportedCRS,c=Object(s.j)(i.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Object(s.j)(i),l=Object(s.j)(e.projection);return c&&l?equivalent(c,l):i==e.projection})):Object(a.e)(n.TileMatrixSetLink,(function(t,r,n){return t.TileMatrixSet==e.matrixSet})):0)<0&&(i=0);var u=n.TileMatrixSetLink[i].TileMatrixSet,h=n.TileMatrixSetLink[i].TileMatrixSetLimits,f=n.Format[0];"format"in e&&(f=e.format),(i=Object(a.e)(n.Style,(function(t,r,n){return"style"in e?t.Title==e.style:t.isDefault})))<0&&(i=0);var p=n.Style[i].Identifier,d={};"Dimension"in n&&n.Dimension.forEach((function(t,e,r){var n=t.Identifier,i=t.Default;void 0===i&&(i=t.Value[0]),d[n]=i}));var m,y=t.Contents.TileMatrixSet,g=Object(a.d)(y,(function(t,e,r){return t.Identifier==u})),_=g.SupportedCRS;if(_&&(m=Object(s.j)(_.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Object(s.j)(_)),"projection"in e){var b=Object(s.j)(e.projection);b&&(m&&!equivalent(b,m)||(m=b))}var v,O,w=n.WGS84BoundingBox;if(e.extent)v=e.extent;else if(void 0!==w){var M=Object(s.j)("EPSG:4326").getExtent();O=w[0]==M[0]&&w[2]==M[2],v=transformExtent(w,"EPSG:4326",m);var E=m.getExtent();E&&(containsExtent(E,v)||(v=void 0))}var x=Object(c.a)(g,v,h),S=[],j=e.requestEncoding;if(j=void 0!==j?j:"","OperationsMetadata"in t&&"GetTile"in t.OperationsMetadata)for(var P=t.OperationsMetadata.GetTile.DCP.HTTP.Get,T=0,I=P.length;T<I;++T)if(P[T].Constraint){var L=Object(a.d)(P[T].Constraint,(function(t){return"GetEncoding"==t.name})).AllowedValues.Value;if(""===j&&(j=L[0]),j!==l.a.KVP)break;Object(a.f)(L,l.a.KVP)&&S.push(P[T].href)}else P[T].href&&(j=l.a.KVP,S.push(P[T].href));return 0===S.length&&(j=l.a.REST,n.ResourceURL.forEach((function(t){"tile"===t.resourceType&&(f=t.format,S.push(t.template))}))),{urls:S,layer:e.layer,matrixSet:u,format:f,projection:m,requestEncoding:j,tileGrid:x,style:p,dimensions:d,wrapX:O,crossOrigin:e.crossOrigin}};e.a={}},function(t,e,r){"use strict";var n,i=r(10),o=r(40),a=r(137),s=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),c=function(t){function e(){return t.call(this)||this}return s(e,t),e.prototype.getType=function(){return a.a.JSON},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(l(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(l(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){return Object(i.b)()},e.prototype.readFeaturesFromObject=function(t,e){return Object(i.b)()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(l(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){return Object(i.b)()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(l(t))},e.prototype.readProjectionFromObject=function(t){return Object(i.b)()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){return Object(i.b)()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){return Object(i.b)()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){return Object(i.b)()},e}(o.a);function l(t){if("string"==typeof t){var e=JSON.parse(t);return e||null}return null!==t?t:null}e.a=c},function(t,e,r){"use strict";var n,i=r(10),o=r(72),a=r(13),s=r(50),c=r(32),l=r(39),u=r(8),h=r(85),f=r(15),p=r(41),d=r(67),m=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),y="select",g=function(t){function e(e,r,n,i){var o=t.call(this,e)||this;return o.selected=r,o.deselected=n,o.mapBrowserEvent=i,o}return m(e,t),e}(s.a),_={},b=function(t){function e(e){var r,n,i=t.call(this,{handleEvent:v})||this,o=e||{};if(i.boundAddFeature_=i.addFeature_.bind(i),i.boundRemoveFeature_=i.removeFeature_.bind(i),i.condition_=o.condition?o.condition:c.p,i.addCondition_=o.addCondition?o.addCondition:c.i,i.removeCondition_=o.removeCondition?o.removeCondition:c.i,i.toggleCondition_=o.toggleCondition?o.toggleCondition:c.o,i.multi_=!!o.multi&&o.multi,i.filter_=o.filter?o.filter:l.b,i.hitTolerance_=o.hitTolerance?o.hitTolerance:0,i.style_=void 0!==o.style?o.style:(r=Object(p.b)(),Object(a.c)(r[u.a.POLYGON],r[u.a.LINE_STRING]),Object(a.c)(r[u.a.GEOMETRY_COLLECTION],r[u.a.LINE_STRING]),function(t){return t.getGeometry()?r[t.getGeometry().getType()]:null}),i.features_=o.features||new d.a,o.layers)if("function"==typeof o.layers)n=o.layers;else{var s=o.layers;n=function(t){return Object(a.f)(s,t)}}else n=l.b;return i.layerFilter_=n,i.featureLayerAssociation_={},i}return m(e,t),e.prototype.addFeatureLayerAssociation_=function(t,e){this.featureLayerAssociation_[Object(i.c)(t)]=e},e.prototype.getFeatures=function(){return this.features_},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.getLayer=function(t){return this.featureLayerAssociation_[Object(i.c)(t)]},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),t.prototype.setMap.call(this,e),e?(this.features_.addEventListener(o.a.ADD,this.boundAddFeature_),this.features_.addEventListener(o.a.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(o.a.ADD,this.boundAddFeature_),this.features_.removeEventListener(o.a.REMOVE,this.boundRemoveFeature_))},e.prototype.addFeature_=function(t){var e=t.element;this.style_&&this.applySelectedStyle_(e)},e.prototype.removeFeature_=function(t){var e=t.element;this.style_&&this.restorePreviousStyle_(e)},e.prototype.getStyle=function(){return this.style_},e.prototype.applySelectedStyle_=function(t){var e=Object(i.c)(t);e in _||(_[e]=t.getStyle()),t.setStyle(this.style_)},e.prototype.restorePreviousStyle_=function(t){var r=Object(i.c)(t),n=this.getMap().getInteractions().getArray().filter((function(r){return r instanceof e&&r.getStyle()&&-1!==r.getFeatures().getArray().indexOf(t)}));n.length>0?t.setStyle(n[n.length-1].getStyle()):(t.setStyle(_[r]),delete _[r])},e.prototype.removeFeatureLayerAssociation_=function(t){delete this.featureLayerAssociation_[Object(i.c)(t)]},e}(h.a);function v(t){if(!this.condition_(t))return!0;var e=this.addCondition_(t),r=this.removeCondition_(t),n=this.toggleCondition_(t),i=!e&&!r&&!n,o=t.map,s=this.getFeatures(),c=[],l=[];if(i){Object(f.b)(this.featureLayerAssociation_),o.forEachFeatureAtPixel(t.pixel,function(t,e){if(this.filter_(t,e))return l.push(t),this.addFeatureLayerAssociation_(t,e),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var u=s.getLength()-1;u>=0;--u){var h=s.item(u),p=l.indexOf(h);p>-1?l.splice(p,1):(s.remove(h),c.push(h))}0!==l.length&&s.extend(l)}else{o.forEachFeatureAtPixel(t.pixel,function(t,i){if(this.filter_(t,i))return!e&&!n||Object(a.f)(s.getArray(),t)?(r||n)&&Object(a.f)(s.getArray(),t)&&(c.push(t),this.removeFeatureLayerAssociation_(t)):(l.push(t),this.addFeatureLayerAssociation_(t,i)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var d=c.length-1;d>=0;--d)s.remove(c[d]);s.extend(l)}return(l.length>0||c.length>0)&&this.dispatchEvent(new g(y,l,c,t)),!0}e.a=b},function(t,e,r){"use strict";var n,i=r(10),o=r(40),a=r(137),s=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),c=function(t){function e(){return t.call(this)||this}return s(e,t),e.prototype.getType=function(){return a.a.TEXT},e.prototype.readFeature=function(t,e){return this.readFeatureFromText(l(t),this.adaptOptions(e))},e.prototype.readFeatureFromText=function(t,e){return Object(i.b)()},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromText(l(t),this.adaptOptions(e))},e.prototype.readFeaturesFromText=function(t,e){return Object(i.b)()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromText(l(t),this.adaptOptions(e))},e.prototype.readGeometryFromText=function(t,e){return Object(i.b)()},e.prototype.readProjection=function(t){return this.readProjectionFromText(l(t))},e.prototype.readProjectionFromText=function(t){return this.dataProjection},e.prototype.writeFeature=function(t,e){return this.writeFeatureText(t,this.adaptOptions(e))},e.prototype.writeFeatureText=function(t,e){return Object(i.b)()},e.prototype.writeFeatures=function(t,e){return this.writeFeaturesText(t,this.adaptOptions(e))},e.prototype.writeFeaturesText=function(t,e){return Object(i.b)()},e.prototype.writeGeometry=function(t,e){return this.writeGeometryText(t,this.adaptOptions(e))},e.prototype.writeGeometryText=function(t,e){return Object(i.b)()},e}(o.a);function l(t){return"string"==typeof t?t:""}e.a=c},function(t,e,r){"use strict";r.d(e,"b",(function(){return F})),r.d(e,"a",(function(){return B}));var n,i=r(16),o=r(25),a=r(42),s=r(191),c=r(33),l=r(29),u=r(50),h=r(32),f=r(2),p=r(39),d=r(135),m=r(8),y=r(30),g=r(54),_=r(62),b=r(59),v=r(28),O=r(26),w=r(70),M=r(235),E=r(86),x=r(58),S=r(41),j=r(4),P=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),T="Point",I="LineString",L="Polygon",R="Circle",C="drawstart",A="drawend",k="drawabort",N=function(t){function e(e,r){var n=t.call(this,e)||this;return n.feature=r,n}return P(e,t),e}(u.a),D=function(t){function e(e){var r=this,n=e;n.stopDown||(n.stopDown=p.a),(r=t.call(this,n)||this).shouldHandle_=!1,r.downPx_=null,r.downTimeout_,r.lastDragTime_,r.freehand_=!1,r.source_=e.source?e.source:null,r.features_=e.features?e.features:null,r.snapTolerance_=e.snapTolerance?e.snapTolerance:12,r.type_=e.type,r.mode_=function(t){var e;t===m.a.POINT||t===m.a.MULTI_POINT?e=T:t===m.a.LINE_STRING||t===m.a.MULTI_LINE_STRING?e=I:t===m.a.POLYGON||t===m.a.MULTI_POLYGON?e=L:t===m.a.CIRCLE&&(e=R);return e}(r.type_),r.stopClick_=!!e.stopClick,r.minPoints_=e.minPoints?e.minPoints:r.mode_===L?3:2,r.maxPoints_=e.maxPoints?e.maxPoints:1/0,r.finishCondition_=e.finishCondition?e.finishCondition:p.b;var i,o=e.geometryFunction;if(!o)if(r.type_===m.a.CIRCLE)o=function(t,e,r){var n=e||new d.a([NaN,NaN]),i=Object(j.h)(t[0],r),o=Object(l.k)(i,Object(j.h)(t[1],r));n.setCenterAndRadius(i,Math.sqrt(o));var a=Object(j.n)();return a&&n.transform(r,a),n};else{var a,s=r.mode_;s===T?a=v.a:s===I?a=y.a:s===L&&(a=O.b),o=function(t,e,r){var n=e;return n?s===L?t[0].length?n.setCoordinates([t[0].concat([t[0][0]])]):n.setCoordinates([]):n.setCoordinates(t):n=new a(t),n}}return r.geometryFunction_=o,r.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,r.finishCoordinate_=null,r.sketchFeature_=null,r.sketchPoint_=null,r.sketchCoords_=null,r.sketchLine_=null,r.sketchLineCoords_=null,r.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,r.overlay_=new E.a({source:new x.a({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:(i=Object(S.b)(),function(t,e){return i[t.getGeometry().getType()]}),updateWhileInteracting:!0}),r.geometryName_=e.geometryName,r.condition_=e.condition?e.condition:h.j,r.freehandCondition_,e.freehand?r.freehandCondition_=h.c:r.freehandCondition_=e.freehandCondition?e.freehandCondition:h.o,r.addEventListener(Object(c.b)(M.a.ACTIVE),r.updateState_),r}return P(e,t),e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleEvent=function(e){e.originalEvent.type===i.a.CONTEXTMENU&&e.preventDefault(),this.freehand_=this.mode_!==T&&this.freehandCondition_(e);var r=e.type===a.a.POINTERMOVE,n=!0;!this.freehand_&&this.lastDragTime_&&e.type===a.a.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,r=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));return this.freehand_&&e.type===a.a.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e.coordinate),n=!1):this.freehand_&&e.type===a.a.POINTERDOWN?n=!1:r?(n=e.type===a.a.POINTERMOVE)&&this.freehand_?n=this.handlePointerMove_(e):("mouse"==e.pointerEvent.pointerType||e.type===a.a.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e):e.type===a.a.DBLCLICK&&(n=!1),t.prototype.handleEvent.call(this,e)&&n},e.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new s.a(a.a.POINTERMOVE,t.map,t.pointerEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)},e.prototype.handleUpEvent=function(t){var e=!0;this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t);var r=this.mode_===R;return this.shouldHandle_?(this.finishCoordinate_?this.freehand_||r?this.finishDrawing():this.atFinish_(t)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate):(this.startDrawing_(t),this.mode_===T&&this.finishDrawing()),e=!1):this.freehand_&&this.abortDrawing(),!e&&this.stopClick_&&t.stopPropagation(),e},e.prototype.handlePointerMove_=function(t){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,r=t.pixel,n=e[0]-r[0],i=e[1]-r[1],o=n*n+i*i;if(this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_,!this.shouldHandle_)return!0}return this.finishCoordinate_?this.modifyDrawing_(t):this.createOrUpdateSketchPoint_(t),!0},e.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var r=!1,n=[this.finishCoordinate_];if(this.mode_===I)r=this.sketchCoords_.length>this.minPoints_;else if(this.mode_===L){var i=this.sketchCoords_;r=i[0].length>this.minPoints_,n=[i[0][0],i[0][i[0].length-2]]}if(r)for(var o=t.map,a=0,s=n.length;a<s;a++){var c=n[a],l=o.getPixelFromCoordinate(c),u=t.pixel,h=u[0]-l[0],f=u[1]-l[1],p=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(h*h+f*f)<=p){this.finishCoordinate_=c;break}}}return e},e.prototype.createOrUpdateSketchPoint_=function(t){var e=t.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new o.a(new v.a(e)),this.updateSketchFeatures_())},e.prototype.startDrawing_=function(t){var e=t.coordinate,r=t.map.getView().getProjection();this.finishCoordinate_=e,this.mode_===T?this.sketchCoords_=e.slice():this.mode_===L?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new o.a(new y.a(this.sketchLineCoords_)));var n=this.geometryFunction_(this.sketchCoords_,void 0,r);this.sketchFeature_=new o.a,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(n),this.updateSketchFeatures_(),this.dispatchEvent(new N(C,this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){var e,r,n,i=t.coordinate,a=this.sketchFeature_.getGeometry(),s=t.map.getView().getProjection();(this.mode_===T?r=this.sketchCoords_:this.mode_===L?(r=(e=this.sketchCoords_[0])[e.length-1],this.atFinish_(t)&&(i=this.finishCoordinate_.slice())):r=(e=this.sketchCoords_)[e.length-1],r[0]=i[0],r[1]=i[1],this.geometryFunction_(this.sketchCoords_,a,s),this.sketchPoint_)&&this.sketchPoint_.getGeometry().setCoordinates(i);if(a.getType()==m.a.POLYGON&&this.mode_!==L){this.sketchLine_||(this.sketchLine_=new o.a);var c=a.getLinearRing(0);(n=this.sketchLine_.getGeometry())?(n.setFlatCoordinates(c.getLayout(),c.getFlatCoordinates()),n.changed()):(n=new y.a(c.getFlatCoordinates(),c.getLayout()),this.sketchLine_.setGeometry(n))}else this.sketchLineCoords_&&(n=this.sketchLine_.getGeometry()).setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var e,r,n=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection();this.mode_===I?(this.finishCoordinate_=t.slice(),(r=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?r.pop():e=!0),r.push(t.slice()),this.geometryFunction_(r,n,i)):this.mode_===L&&((r=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?r.pop():e=!0),r.push(t.slice()),e&&(this.finishCoordinate_=r[0]),this.geometryFunction_(this.sketchCoords_,n,i)),this.updateSketchFeatures_(),e&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(this.sketchFeature_){var t,e=this.sketchFeature_.getGeometry(),r=this.getMap().getView().getProjection();this.mode_===I?((t=this.sketchCoords_).splice(-2,1),this.geometryFunction_(t,e,r),t.length>=2&&(this.finishCoordinate_=t[t.length-2].slice())):this.mode_===L&&((t=this.sketchCoords_[0]).splice(-2,1),this.sketchLine_.getGeometry().setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e,r)),0===t.length&&this.abortDrawing(),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(t){var e=this.sketchCoords_,r=t.getGeometry(),n=this.getMap().getView().getProjection();this.mode_===I?(e.pop(),this.geometryFunction_(e,r,n)):this.mode_===L&&(e[0].pop(),this.geometryFunction_(e,r,n),e=r.getCoordinates()),this.type_===m.a.MULTI_POINT?t.setGeometry(new _.a([e])):this.type_===m.a.MULTI_LINE_STRING?t.setGeometry(new g.a([e])):this.type_===m.a.MULTI_POLYGON&&t.setGeometry(new b.a([e])),this.dispatchEvent(new N(A,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),t},e.prototype.abortDrawing=function(){var t=this.abortDrawing_();t&&this.dispatchEvent(new N(k,t))},e.prototype.appendCoordinates=function(t){var e=this.mode_,r=[];e===I?r=this.sketchCoords_:e===L&&(r=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]);for(var n=r.pop(),i=0;i<t.length;i++)this.addToDrawing_(t[i]);this.addToDrawing_(n)},e.prototype.extend=function(t){var e=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=e.getCoordinates();var r=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=r.slice(),this.sketchCoords_.push(r.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new N(C,this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},e.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing(),this.overlay_.setMap(e?t:null)},e}(w.b);function F(t,e){return function(r,n,i){var o=Object(j.h)(r[0],i),a=Object(j.h)(r[1],i),s=Math.sqrt(Object(l.k)(o,a)),c=n||Object(O.c)(new d.a(o),t),u=e;if(!e){var h=a[0]-o[0],f=a[1]-o[1];u=Math.atan(f/h)-(h<0?Math.PI:0)}Object(O.e)(c,o,s,u);var p=Object(j.n)();return p&&c.transform(i,p),c}}function B(){return function(t,e,r){var n=Object(f.c)(t.map((function(t){return Object(j.h)(t,r)}))),i=[[Object(f.w)(n),Object(f.x)(n),Object(f.F)(n),Object(f.E)(n),Object(f.w)(n)]],o=e;o?o.setCoordinates(i):o=new O.b(i);var a=Object(j.n)();return a&&o.transform(r,a),o}}e.c=D},function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return a}));var n=r(13),i=r(160);function o(t,e,r,o,a,s,c){for(var l,u,h,f,p,d,m,y=a[s+1],g=[],_=0,b=r.length;_<b;++_){var v=r[_];for(f=t[v-o],d=t[v-o+1],l=e;l<v;l+=o)p=t[l],m=t[l+1],(y<=d&&m<=y||d<=y&&y<=m)&&(h=(y-d)/(m-d)*(p-f)+f,g.push(h)),f=p,d=m}var O=NaN,w=-1/0;for(g.sort(n.i),f=g[0],l=1,u=g.length;l<u;++l){p=g[l];var M=Math.abs(p-f);M>w&&(h=(f+p)/2,Object(i.c)(t,e,r,o,h,y)&&(O=h,w=M)),f=p}return isNaN(O)&&(O=a[s]),c?(c.push(O,y,w),c):[O,y,w]}function a(t,e,r,n,i){for(var a=[],s=0,c=r.length;s<c;++s){var l=r[s];a=o(t,e,l,n,i,2*s,a),e=l[l.length-1]}return a}},function(t,e,r){"use strict";e.a={ACTIVE:"active"}},function(t,e,r){"use strict";var n,i=r(50),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.map=r,i.frameState=void 0!==n?n:null,i}return o(e,t),e}(i.a);e.a=a},function(t,e,r){"use strict";var n=r(10),i=r(405),o=r.n(i),a=r(2),s=r(15),c=function(){function t(t){this.rbush_=new o.a(t),this.items_={}}return t.prototype.insert=function(t,e){var r={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(r),this.items_[Object(n.c)(e)]=r},t.prototype.load=function(t,e){for(var r=new Array(e.length),i=0,o=e.length;i<o;i++){var a=t[i],s=e[i],c={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};r[i]=c,this.items_[Object(n.c)(s)]=c}this.rbush_.load(r)},t.prototype.remove=function(t){var e=Object(n.c)(t),r=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(r)},t.prototype.update=function(t,e){var r=this.items_[Object(n.c)(e)],i=[r.minX,r.minY,r.maxX,r.maxY];Object(a.q)(i,t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){return this.rbush_.all().map((function(t){return t.value}))},t.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var r,n=0,i=t.length;n<i;n++)if(r=e(t[n]))return r;return r},t.prototype.isEmpty=function(){return Object(s.d)(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Object(a.l)(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}();e.a=c},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===n(a)?a:String(a)),i)}var o,a}function a(t,e){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=l(t);if(e){var i=l(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return c(this,r)}}function c(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(l,t);var e,r,n,c=s(l);function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(this,l),c.call(this,{anchor:t.anchor?t.anchor.slice():void 0,anchorOrigin:t.anchorOrigin,anchorXUnits:t.anchorXUnits,anchorYUnits:t.anchorYUnits,crossOrigin:t.crossOrigin||null,color:t.color&&t.color.slice?t.color.slice():t.color||void 0,src:t.src,offset:t.offset?t.offset.slice():void 0,offsetOrigin:t.offsetOrigin,size:t.size?t.size.slice():void 0,imgSize:t.imgSize,opacity:t.opacity,scale:t.scale,snapToPixel:t.snapToPixel,rotation:t.rotation,rotateWithView:t.rotateWithView})}return e=l,(r=[{key:"clone",value:function(){return new l({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),snapToPixel:this.getSnapToPixel(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})}},{key:"size",set:function(t){this.size_=Array.isArray(t)?t:null}},{key:"anchor",set:function(t){this.anchor_=Array.isArray(t)?t:null}},{key:"origin",set:function(t){this.origin_=Array.isArray(t)?t:null}}])&&o(e.prototype,r),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(r(66).a);e.a=u},function(t,e,r){"use strict";var n=r(0),i=r(86),o=r(58),a=r(28),s=r(65),c=r(2),l=r(71);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===u(o)?o:String(o)),n)}var i,o}function p(){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=d(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function d(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}function m(t,e){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=b(t);if(e){var i=b(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return g(this,r)}}function g(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _(t)}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}(d,t);var e,r,i,u=y(d);function d(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,d),(t=u.call(this,e)).styleCluster_=e.style,t.oldCluster_=new o.a,t.clusters_=[],t.animation_={start:!1},t.set("animationDuration","number"==typeof e.animationDuration?e.animationDuration:700),t.set("animationMethod",e.animationMethod||s.easeOut),t.getSource().on("change",t.saveCluster_.bind(_(t))),t.on("prerender",t.animate.bind(_(t))),t.on("postrender",t.postanimate.bind(_(t))),t.setStyle(e.style),t}return e=d,i=[{key:"getClusterForFeature",value:function(t,e){return e.find((function(e){var r,i=e.get("features");return Object(n.X)(i)||(r=i.find((function(e){return e===t}))),r}))}}],(r=[{key:"saveCluster_",value:function(){if(this.oldCluster_.clear(),this.get("animationDuration")){var t=this.getSource().getFeatures();t.length&&t[0].get("features")&&(this.oldCluster_.addFeatures(this.clusters_),this.clusters_=t.slice(0),this.sourceChanged=!0)}}},{key:"animate",value:function(t){var e=this,r=t,i=this.get("animationDuration");if(i){if(this.animation_.resolution!==r.frameState.viewState.resolution&&this.sourceChanged){var o=r.frameState.viewState.resolution,s=r.frameState.extent;this.animation_.reverse=this.animation_.resolution>=o,this.prepareAnimation_(s,r.frameState.viewState.resolution),r.frameState.time=this.animation_.start}var c=this.animation_.clustersFrom.length;if(c>0&&c<=1e3&&this.animation_.start){var u=Object(l.b)(r),h=(r.frameState.time-this.animation_.start)/i;h>1&&(this.animation_.start=!1,h=1),h=this.get("animationMethod")(h),r.context.save(),r.context.globalAlpha=this.getOpacity(),this.animation_.clustersFrom.forEach((function(t,i){var o=t.getGeometry().getCoordinates(),s=e.animation_.clustersTo[i].getGeometry().getCoordinates();e.animation_.reverse?(o[0]=s[0]+h*(o[0]-s[0]),o[1]=s[1]+h*(o[1]-s[1])):(o[0]+=h*(s[0]-o[0]),o[1]+=h*(s[1]-o[1]));var c=e.getStyle()(t,r.frameState.viewState.resolution),l=new a.a(o);Object(n.X)(c)||c.forEach((function(t){var e=t.getImage();Object(n.X)(e)||(null==e.getOrigin()&&(e.origin_=[]),null==e.getAnchor()&&(e.normalizedAnchor_=[]),null==e.getSize()&&(e.size_=[])),u.setStyle(t),u.drawGeometry(l)}))})),r.context.restore(),r.frameState.animate=!0,r.context.save(),r.context.beginPath(),r.context.rect(0,0,0,0),r.context.clip(),this.clip_=!0}else this.animation_.clustersFrom.length=0,this.animation_.clustersTo.length=0,this.animation_.start=!1}}},{key:"prepareAnimation_",value:function(t,e){var r=this;this.animation_.clustersFrom=[],this.animation_.clustersTo=[];var i=Object(c.d)(t,100*e),o=this.oldCluster_.getFeaturesInExtent(i),a=this.getSource().getFeaturesInExtent(i),s=this.animation_.reverse?a:o,l=this.animation_.reverse?o:a;s.forEach((function(t){var e=t.get("features");if(!Object(n.X)(e)){var i=d.getClusterForFeature(e[0],l);Object(n.X)(i)||!1===i||(r.animation_.clustersFrom.push(t),r.animation_.clustersTo.push(i))}})),this.animation_.resolution=e,this.sourceChanged=!1,this.animation_.start=(new Date).getTime()}},{key:"postanimate",value:function(t){this.clip_&&(t.context.restore(),this.clip_=!1)}},{key:"setStyle",value:function(t){p(b(d.prototype),"setStyle",this).call(this,this.styleCluster_)}}])&&f(e.prototype,r),i&&f(e,i),Object.defineProperty(e,"prototype",{writable:!1}),d}(i.a);e.a=v},function(t,e,r){"use strict";r.d(e,"b",(function(){return m}));var n=r(0),i=r(36),o=r(131);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===a(o)?o:String(o)),n)}var i,o}function l(){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=u(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function u(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}function h(t,e){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p(this,r)}}function p(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(u,t);var e,r,o,a=f(u);function u(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s(this,u),(t=a.call(this)).facadeMap_=null,t.exactScale=e.exactScale||!1,t}return e=u,(r=[{key:"addTo",value:function(t,e){this.facadeMap_=t,this.scaleContainer_=e.querySelector("#".concat("m-scale-span")),this.element=e,this.render=this.renderCB,this.target_=null,t.getMapImpl().addControl(this)}},{key:"renderCB",value:function(t){var e=t.frameState;Object(n.X)(e)||function(t,e,r,o){var a,s=e;r.getWMTS().length>0||r.getWMTS().length<=0&&!0===o?a=i.a.getWMTSScale(r,o):r.getWMTS().length<=0&&1==!o&&(a=r.getScale()),Object(n.X)(a)||(s.innerHTML=m(a));var c=document.querySelector("#m-level-number");null!==c&&(c.innerHTML=Math.round(r.getZoom(),2))}(e.viewState,this.scaleContainer_,this.facadeMap_,this.exactScale)}},{key:"destroy",value:function(){l(d(u.prototype),"destroy",this).call(this),this.scaleContainer_=null}}])&&c(e.prototype,r),o&&c(e,o),Object.defineProperty(e,"prototype",{writable:!1}),u}(o.a);e.a=y},function(t,e,r){"use strict";var n=r(0),i=r(100),o=r(4),a=r(146),s=r(12),c=r(107),l=r(23);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===u(o)?o:String(o)),n)}var i,o}function p(t,e){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=y(t);if(e){var i=y(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}function m(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(m,t);var e,r,c,u=d(m);function m(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return h(this,m),(e=u.call(this,r,n)).url=t.url,e.tileSize_="number"==typeof t.tileSize?t.tileSize:256,e.opacity_="number"==typeof r.opacity?r.opacity:1,e.zIndex_=l.a.Z_INDEX[s.XYZ],e.visibility=!1!==t.visibility||t.visibility,e.minZoom=r.minZoom||Number.NEGATIVE_INFINITY,e.maxZoom=r.maxZoom||Number.POSITIVE_INFINITY,e.tileGridMaxZoom=t.tileGridMaxZoom,e.displayInLayerSwitcher=!1!==t.displayInLayerSwitcher,e.crossOrigin=null===r.crossOrigin||!1===r.crossOrigin?void 0:"anonymous",e}return e=m,(r=[{key:"setVisible",value:function(t){if(this.visibility=t,!0===t&&!0!==this.transparent){Object(n.X)(this.ol3Layer)||this.ol3Layer.setVisible(t);var e=this.map.getZoom();this.map.getImpl().updateResolutionsFromBaseLayer(),Object(n.X)(e)||this.map.setZoom(e)}else Object(n.X)(this.ol3Layer)||this.ol3Layer.setVisible(t)}},{key:"addTo",value:function(t){this.map=t;var e=Object(o.j)("EPSG:3857").getExtent();this.ol3Layer=new i.a(Object(n.t)({visible:this.visibility,opacity:this.opacity_,zIndex:this.zIndex_,extent:this.userMaxExtent||e},this.vendorOptions_,!0)),this.map.getMapImpl().addLayer(this.ol3Layer);var r=new a.a({projection:this.map.getProjection().code,url:this.url,tileSize:this.getTileSize(),crossOrigin:this.crossOrigin});this.ol3Layer.setSource(r),void 0!==this.tileGridMaxZoom&&this.tileGridMaxZoom>0?this.ol3Layer.getSource().tileGrid.maxZoom=this.tileGridMaxZoom:(this.ol3Layer.setMaxZoom(this.maxZoom),this.ol3Layer.setMinZoom(this.minZoom))}},{key:"setTileUrlFunction",value:function(t){this.ol3Layer.getSource().setTileUrlFunction(t)}},{key:"getTileUrlFunction",value:function(){this.ol3Layer.getSource().getTileUrlFunction()}},{key:"getTileSize",value:function(){return this.tileSize_}},{key:"destroy",value:function(){var t=this.map.getMapImpl();Object(n.X)(this.ol3Layer)||(t.removeLayer(this.ol3Layer),this.ol3Layer=null),this.map=null}},{key:"equals",value:function(t){var e=!1;return t instanceof m&&(e=this.name===t.name),e}}])&&f(e.prototype,r),c&&f(e,c),Object.defineProperty(e,"prototype",{writable:!1}),m}(c.a);e.a=g},function(t,e,r){"use strict";var n,i=r(19),o=r(647),a=r.n(o),s=r(40),c=r(137),l=r(21),u=r(8),h=r(30),f=r(54),p=r(62),d=r(59),m=r(28),y=r(26),g=r(162),_=r(116),b=r(55),v=r(76),O=r(4),w=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),M=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.dataProjection=new _.a({code:"",units:b.b.TILE_PIXELS}),r.featureClass_=n.featureClass?n.featureClass:v.a,r.geometryName_=n.geometryName,r.layerName_=n.layerName?n.layerName:"layer",r.layers_=n.layers?n.layers:null,r.idProperty_=n.idProperty,r}return w(e,t),e.prototype.readRawGeometry_=function(t,e,r,n){t.pos=e.geometry;for(var o=t.readVarint()+t.pos,a=1,s=0,c=0,l=0,u=0,h=0;t.pos<o;){if(!s){var f=t.readVarint();a=7&f,s=f>>3}s--,1===a||2===a?(c+=t.readSVarint(),l+=t.readSVarint(),1===a&&u>h&&(n.push(u),h=u),r.push(c,l),u+=2):7===a?u>h&&(r.push(r[h],r[h+1]),u+=2):Object(i.a)(!1,59)}u>h&&(n.push(u),h=u)},e.prototype.createFeature_=function(t,e,r){var n,i=e.type;if(0===i)return null;var o,a=e.properties;this.idProperty_?(o=a[this.idProperty_],delete a[this.idProperty_]):o=e.id,a[this.layerName_]=e.layer.name;var c=[],_=[];this.readRawGeometry_(t,e,c,_);var b=function(t,e){var r;1===t?r=1===e?u.a.POINT:u.a.MULTI_POINT:2===t?r=1===e?u.a.LINE_STRING:u.a.MULTI_LINE_STRING:3===t&&(r=u.a.POLYGON);return r}(i,_.length);if(this.featureClass_===v.a)(n=new this.featureClass_(b,c,_,a,o)).transform(r.dataProjection,r.featureProjection);else{var O=void 0;if(b==u.a.POLYGON){for(var w=[],M=0,E=0,x=0,S=_.length;x<S;++x){var j=_[x];Object(g.a)(c,M,j,2)||(w.push(_.slice(E,x)),E=x),M=j}O=w.length>1?new d.a(c,l.a.XY,w):new y.b(c,l.a.XY,_)}else O=b===u.a.POINT?new m.a(c,l.a.XY):b===u.a.LINE_STRING?new h.a(c,l.a.XY):b===u.a.POLYGON?new y.b(c,l.a.XY,_):b===u.a.MULTI_POINT?new p.a(c,l.a.XY):b===u.a.MULTI_LINE_STRING?new f.a(c,l.a.XY,_):null;n=new(0,this.featureClass_),this.geometryName_&&n.setGeometryName(this.geometryName_);var P=Object(s.c)(O,!1,r);n.setGeometry(P),n.setId(o),n.setProperties(a,!0)}return n},e.prototype.getType=function(){return c.a.ARRAY_BUFFER},e.prototype.readFeatures=function(t,e){var r=this.layers_,n=this.adaptOptions(e),i=Object(O.j)(n.dataProjection);i.setWorldExtent(n.extent),n.dataProjection=i;var o=new a.a(t),s=o.readFields(E,{}),c=[];for(var l in s)if(!r||-1!=r.indexOf(l)){var u=s[l],h=u?[0,0,u.extent,u.extent]:null;i.setExtent(h);for(var f=0,p=u.length;f<p;++f){var d=j(o,u,f);c.push(this.createFeature_(o,d,n))}}return c},e.prototype.readProjection=function(t){return this.dataProjection},e.prototype.setLayers=function(t){this.layers_=t},e}(s.a);function E(t,e,r){if(3===t){var n={keys:[],values:[],features:[]},i=r.readVarint()+r.pos;r.readFields(x,n,i),n.length=n.features.length,n.length&&(e[n.name]=n)}}function x(t,e,r){if(15===t)e.version=r.readVarint();else if(1===t)e.name=r.readString();else if(5===t)e.extent=r.readVarint();else if(2===t)e.features.push(r.pos);else if(3===t)e.keys.push(r.readString());else if(4===t){for(var n=null,i=r.readVarint()+r.pos;r.pos<i;)n=1===(t=r.readVarint()>>3)?r.readString():2===t?r.readFloat():3===t?r.readDouble():4===t?r.readVarint64():5===t?r.readVarint():6===t?r.readSVarint():7===t?r.readBoolean():null;e.values.push(n)}}function S(t,e,r){if(1==t)e.id=r.readVarint();else if(2==t)for(var n=r.readVarint()+r.pos;r.pos<n;){var i=e.layer.keys[r.readVarint()],o=e.layer.values[r.readVarint()];e.properties[i]=o}else 3==t?e.type=r.readVarint():4==t&&(e.geometry=r.pos)}function j(t,e,r){t.pos=e.features[r];var n=t.readVarint()+t.pos,i={layer:e,type:0,properties:{}};return t.readFields(S,i,n),i}e.a=M},function(t,e,r){"use strict";var n=r(344),i=r(77),o=r(12),a=r(0),s=r(3),c=r(6);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){f(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function f(t,e,r){return(e=m(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m(n.key),n)}}function m(t){var e=function(t,e){if("object"!==l(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===l(e)?e:String(e)}function y(){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=g(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function g(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}function _(t,e){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=O(t);if(e){var i=O(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return v(this,r)}}function v(t,e){if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}(u,t);var e,r,i,l=b(u);function u(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;p(this,u);var h=r;"string"!=typeof e&&(h.maxExtent=e.maxExtent);var f=new n.a(e,h,i),d=e;return d.type=o.GeoJSON,t=l.call(this,d,h,void 0,f),Object(a.ab)(n.a)&&Object(s.a)(Object(c.e)("exception").geojsonlayer_method),Object(a.X)(e)&&Object(s.a)(Object(c.e)("exception").no_param),Object(a.Z)(e)?t.url=e:Object(a.R)(e)?t.source=e:(t.url=e.url,t.name=e.name,t.source=e.source,Object(a.Z)(t.source)&&(t.source=t.deserialize(t.source)),t.extract=void 0!==e.extract&&e.extract,Object(a.X)(e.crs)||(Object(a.X)(t.source)&&(t.source={type:"FeatureCollection",features:[]}),t.source.crs={type:"EPSG",properties:{code:e.crs}})),t.options=r,t}return e=u,(r=[{key:"source",get:function(){return this.getImpl().source},set:function(t){this.getImpl().source=t}},{key:"extract",get:function(){return this.getImpl().extract},set:function(t){Object(a.X)(t)?this.getImpl().extract=!1:Object(a.Z)(t)?this.getImpl().extract="true"===Object(a.db)(t):this.getImpl().extract=t}},{key:"equals",value:function(t){var e=!1;return t instanceof u&&(e=this.name===t.name,e=e&&this.extract===t.extract),e}},{key:"setSource",value:function(t){this.source=t,this.getImpl().refresh(t)}},{key:"setStyle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.DEFAULT_OPTIONS_STYLE;y(O(u.prototype),"setStyle",this).call(this,t,e,r)}},{key:"serialize",value:function(){return window.btoa(unescape(encodeURIComponent(JSON.stringify(this.source))))}},{key:"deserialize",value:function(t){return JSON.parse(decodeURIComponent(escape(window.atob(t.replace(" ","+")))))}}])&&d(e.prototype,r),i&&d(e,i),Object.defineProperty(e,"prototype",{writable:!1}),u}(i.a);w.DEFAULT_PARAMS={fill:{color:"rgba(255, 255, 255, 0.4)",opacity:.4},stroke:{color:"#3399CC",width:1.5}},w.DEFAULT_OPTIONS_STYLE={point:h(h({},w.DEFAULT_PARAMS),{},{radius:5}),line:h({},w.DEFAULT_PARAMS),polygon:h({},w.DEFAULT_PARAMS)},e.a=w},function(t,e,r){"use strict";r.d(e,"b",(function(){return E}));var n=r(346),i=r(179),o=r(77),a=r(12),s=r(0),c=r(3),l=r(6),u=r(11);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e,r){return(e=g(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g(n.key),n)}}function g(t){var e=function(t,e){if("object"!==h(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===h(e)?e:String(e)}function _(){return(_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=b(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function b(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=M(t)););return t}function v(t,e){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=M(t);if(e){var i=M(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return w(this,r)}}function w(t,e){if(e&&("object"===h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var E={RENDER:"render",FEATURE:"feature"},x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(f,t);var e,r,o,h=O(f);function f(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};m(this,f);var o=u.Cb(e,a.MBTilesVector),p=r;"string"!=typeof e&&(p.maxExtent=e.maxExtent);var d=new n.a(o,p,i);return t=h.call(this,o,r,i,d),Object(s.ab)(n.a)&&Object(c.a)(Object(l.e)("exception").mbtilesvector_method),t.extract=void 0!==o.extract&&o.extract,t}return e=f,(r=[{key:"setStyle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.DEFAULT_OPTIONS_STYLE;_(M(f.prototype),"setStyle",this).call(this,t,e,r)}},{key:"getProjection",value:function(){return this.getImpl().getProjection()}},{key:"getGeometryType",value:function(){var t=null,e=this.getFeatures();if(!Object(s.X)(e)){var r=e[0];Object(s.X)(r)||(t=r.getType())}return t}},{key:"getFeatures",value:function(){return this.getImpl().getFeatures().map((function(t){return i.a.olFeature2Facade(t)}))}},{key:"extract",get:function(){return this.getImpl().extract},set:function(t){Object(s.X)(t)?this.getImpl().extract=!1:Object(s.Z)(t)?this.getImpl().extract="true"===Object(s.db)(t):this.getImpl().extract=t}},{key:"equals",value:function(t){var e=!1;return t instanceof f&&(e=this.url===t.url,e=e&&this.source===t.source,e=e&&this.legend===t.legend,e=e&&this.name===t.name,e=e&&this.options===t.options,e=e&&this.extract===t.extract,e=e&&this.predefinedStyles===t.predefinedStyles),e}},{key:"setFilter",value:function(){}},{key:"addFeatures",value:function(){}},{key:"removeFeatures",value:function(){}},{key:"refresh",value:function(){}},{key:"redraw",value:function(){}},{key:"toGeoJSON",value:function(){}}])&&y(e.prototype,r),o&&y(e,o),Object.defineProperty(e,"prototype",{writable:!1}),f}(o.a);x.DEFAULT_PARAMS={fill:{color:"#fff",opacity:.6},stroke:{color:"#827ec5",width:2},radius:5},x.DEFAULT_OPTIONS_STYLE={point:p({},x.DEFAULT_PARAMS),line:p({},x.DEFAULT_PARAMS),polygon:p({},x.DEFAULT_PARAMS)},e.a=x},function(t,e,r){"use strict";e.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=function(){function t(t,e,r,n){this.minX=t,this.maxX=e,this.minY=r,this.maxY=n}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function i(t,e,r,i,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=r,o.maxY=i,o):new n(t,e,r,i)}e.b=n},function(t,e,r){"use strict";var n=r(341),i=r(0),o=r(3),a=r(77),s=r(12),c=r(11),l=r(6);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return(e=y(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y(n.key),n)}}function y(t){var e=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===u(e)?e:String(e)}function g(){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=_(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function _(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}function b(t,e){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=w(t);if(e){var i=w(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return O(this,r)}}function O(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var M=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(h,t);var e,r,a,u=v(h);function h(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d(this,h);var f=c.Cb(t,s.OGCAPIFeatures),p=r;"string"!=typeof t&&(p.maxExtent=t.maxExtent);var m=new n.a(p,a);return e=u.call(this,f,p,void 0,m),Object(i.ab)(n.a)&&Object(o.a)(Object(l.e)("exception").OGCAPIFeatureslayer_method),Object(i.X)(t)&&Object(o.a)(Object(l.e)("exception").no_param),e.legend=f.legend,e.url=f.url,e.name=f.name,e.limit=f.limit,e.bbox=f.bbox,e.format=f.format,e.offset=f.offset,e.id=f.id,e.extract=void 0!==f.extract&&f.extract,e.cql=a.cql,e.conditional=f.conditional,e.crs=f.crs,e.geometry=f.geometry,e.opt=r,e}return e=h,(r=[{key:"legend",get:function(){return this.getImpl().legend},set:function(t){Object(i.X)(t)?this.getImpl().legend=this.name:this.getImpl().legend=t}},{key:"name",get:function(){return this.getImpl().name},set:function(t){Object(i.X)(t)?this.getImpl().name=this.name:this.getImpl().name=t}},{key:"limit",get:function(){return this.getImpl().limit},set:function(t){Object(i.X)(t)?this.getImpl().limit=this.limit:this.getImpl().limit=t}},{key:"bbox",get:function(){return this.getImpl().bbox},set:function(t){Object(i.X)(t)?this.getImpl().bbox=this.bbox:this.getImpl().bbox=t}},{key:"format",get:function(){return this.getImpl().format},set:function(t){Object(i.X)(t)&&(this.getImpl().format=this.format),this.getImpl().format=t}},{key:"offset",get:function(){return this.getImpl().offset},set:function(t){Object(i.X)(t)?this.getImpl().offset=this.offset:this.getImpl().offset=t}},{key:"id",get:function(){return this.getImpl().id},set:function(t){Object(i.X)(t)?this.getImpl().id=this.id:this.getImpl().id=t}},{key:"conditional",get:function(){return this.getImpl().conditional},set:function(t){Object(i.X)(t)?this.getImpl().conditional=this.conditional:this.getImpl().conditional=t}},{key:"setStyle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.DEFAULT_OPTS_STYLE;g(w(h.prototype),"setStyle",this).call(this,t,e,r)}},{key:"extract",get:function(){return this.getImpl().extract},set:function(t){Object(i.X)(t)?this.getImpl().extract=!1:Object(i.Z)(t)?this.getImpl().extract="true"===Object(i.db)(t):this.getImpl().extract=t}},{key:"equals",value:function(t){var e=!1;return t instanceof h&&(e=this.url===t.url,e=e&&this.name===t.name,e=e&&this.legend===t.legend,e=e&&this.limit===t.limit,e=e&&this.format===t.format,e=e&&this.offset===t.offset,e=e&&this.bbox===t.bbox,e=e&&this.id===t.id,e=e&&this.extract===t.extract,e=e&&this.predefinedStyles===t.predefinedStyles),e}}])&&m(e.prototype,r),a&&m(e,a),Object.defineProperty(e,"prototype",{writable:!1}),h}(a.a);M.DEFAULT_PARAMS={fill:{color:"rgba(103, 175, 19, 0.2)",opacity:.4},stroke:{color:"#67af13",width:1}},M.DEFAULT_OPTS_STYLE={point:f(f({},M.DEFAULT_PARAMS),{},{radius:5}),line:f({},M.DEFAULT_PARAMS),polygon:f({},M.DEFAULT_PARAMS)},e.a=M},function(t,e,r){"use strict";var n=r(138),i=r(0);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,a=void 0,a=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===o(a)?a:String(a)),n)}var i,a}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(l,t);var e,r,n,o=c(l);function l(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);return o.call(this,(function(e,r){var n=null;return Object(i.X)(e)||(n=e.getGeometry()),t(n,r)}),e)}return e=l,r&&a(e.prototype,r),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(n.a);e.a=h},function(t,e,r){"use strict";r.d(e,"a",(function(){return d}));var n=r(10),i=r(118),o=r(2);function a(t,e,r,n,i){var o,a,s,c,l,u,h,f,p,d=r,m=r,y=0,g=0,_=r;for(o=r;o<n;o+=i){var b=e[o],v=e[o+1];void 0!==c&&(f=b-c,p=v-l,s=Math.sqrt(f*f+p*p),void 0!==u&&(g+=a,Math.acos((u*f+h*p)/(a*s))>t&&(g>y&&(y=g,d=_,m=o),g=0,_=o-i)),a=s,u=f,h=p),c=b,l=v}return(g+=s)>y?[_,o]:[d,m]}var s,c=r(8),l=r(24),u=r(27),h=r(176),f=r(403),p=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),d={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},m=function(t){function e(e,r,n,i){var o=t.call(this,e,r,n,i)||this;return o.declutterGroups_,o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",o}return p(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var r=this.textFillState_,n=this.textStrokeState_,i=this.textState_;if(""!==this.text_&&i&&(r||n)){var s,h,p=this.coordinates.length,d=t.getType(),m=null,y=2,g=2;if(i.placement===f.a.LINE){if(!Object(o.H)(this.getBufferedMaxExtent(),t.getExtent()))return;var _=void 0;if(m=t.getFlatCoordinates(),g=t.getStride(),d==c.a.LINE_STRING)_=[m.length];else if(d==c.a.MULTI_LINE_STRING)_=t.getEnds();else if(d==c.a.POLYGON)_=t.getEnds().slice(0,1);else if(d==c.a.MULTI_POLYGON){var b=t.getEndss();for(_=[],s=0,h=b.length;s<h;++s)_.push(b[s][0])}this.beginGeometry(t,e);for(var v=i.textAlign,O=0,w=void 0,M=0,E=_.length;M<E;++M){if(null==v){var x=a(i.maxAngle,m,O,_[M],g);O=x[0],w=x[1]}else w=_[M];for(s=O;s<w;s+=g)this.coordinates.push(m[s],m[s+1]);y=this.coordinates.length,O=_[M];var S=this.declutterGroups_?0===M?this.declutterGroups_[0]:[].concat(this.declutterGroups_[0]):null;this.drawChars_(p,y,S),p=y}this.endGeometry(e)}else{var j=null;switch(i.overflow||(j=[]),d){case c.a.POINT:case c.a.MULTI_POINT:y=(m=t.getFlatCoordinates()).length;break;case c.a.LINE_STRING:m=t.getFlatMidpoint();break;case c.a.CIRCLE:m=t.getCenter();break;case c.a.MULTI_LINE_STRING:y=(m=t.getFlatMidpoints()).length;break;case c.a.POLYGON:m=t.getFlatInteriorPoint(),i.overflow||j.push(m[2]/this.resolution),g=3;break;case c.a.MULTI_POLYGON:var P=t.getFlatInteriorPoints();for(m=[],s=0,h=P.length;s<h;s+=3)i.overflow||j.push(P[s+2]/this.resolution),m.push(P[s],P[s+1]);if(0==(y=m.length))return}y=this.appendFlatCoordinates(m,0,y,g,!1,!1),this.saveTextStates_(),(i.backgroundFill||i.backgroundStroke)&&(this.setFillStrokeStyle(i.backgroundFill,i.backgroundStroke),i.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),i.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var T=this.pixelRatio;this.instructions.push([u.c.DRAW_IMAGE,p,y,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1,NaN,i.padding==l.k?l.k:i.padding.map((function(t){return t*T})),!!i.backgroundFill,!!i.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,j]),this.hitDetectionInstructions.push([u.c.DRAW_IMAGE,p,y,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1/this.pixelRatio,NaN,i.padding,!!i.backgroundFill,!!i.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,j]),this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,r=this.textFillState_,n=this.strokeKey_;t&&(n in this.strokeStates||(this.strokeStates[n]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var i=this.textKey_;i in this.textStates||(this.textStates[i]={font:e.font,textAlign:e.textAlign||l.m,textBaseline:e.textBaseline||l.n,scale:e.scale});var o=this.fillKey_;r&&(o in this.fillStates||(this.fillStates[o]={fillStyle:r.fillStyle}))},e.prototype.drawChars_=function(t,e,r){var n=this.textStrokeState_,i=this.textState_,o=this.strokeKey_,a=this.textKey_,s=this.fillKey_;this.saveTextStates_();var c=this.pixelRatio,l=d[i.textBaseline],h=this.textOffsetY_*c,f=this.text_,p=i.scale,m=n?n.lineWidth*p/2:0;this.instructions.push([u.c.DRAW_CHARS,t,e,l,r,i.overflow,s,i.maxAngle,c,h,o,m*c,f,a,1]),this.hitDetectionInstructions.push([u.c.DRAW_CHARS,t,e,l,r,i.overflow,s,i.maxAngle,1,h,o,m,f,a,1/c])},e.prototype.setTextStyle=function(t,e){var r,o,a;if(t){this.declutterGroups_=e;var s=t.getFill();s?((o=this.textFillState_)||(o={},this.textFillState_=o),o.fillStyle=Object(i.a)(s.getColor()||l.c)):(o=null,this.textFillState_=o);var c=t.getStroke();if(c){(a=this.textStrokeState_)||(a={},this.textStrokeState_=a);var u=c.getLineDash(),h=c.getLineDashOffset(),f=c.getWidth(),p=c.getMiterLimit();a.lineCap=c.getLineCap()||l.e,a.lineDash=u?u.slice():l.f,a.lineDashOffset=void 0===h?l.g:h,a.lineJoin=c.getLineJoin()||l.h,a.lineWidth=void 0===f?l.i:f,a.miterLimit=void 0===p?l.j:p,a.strokeStyle=Object(i.a)(c.getColor()||l.l)}else a=null,this.textStrokeState_=a;r=this.textState_;var d=t.getFont()||l.d;Object(l.t)(d);var m=t.getScale();r.overflow=t.getOverflow(),r.font=d,r.maxAngle=t.getMaxAngle(),r.placement=t.getPlacement(),r.textAlign=t.getTextAlign(),r.textBaseline=t.getTextBaseline()||l.n,r.backgroundFill=t.getBackgroundFill(),r.backgroundStroke=t.getBackgroundStroke(),r.padding=t.getPadding()||l.k,r.scale=void 0===m?1:m;var y=t.getOffsetX(),g=t.getOffsetY(),_=t.getRotateWithView(),b=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===y?0:y,this.textOffsetY_=void 0===g?0:g,this.textRotateWithView_=void 0!==_&&_,this.textRotation_=void 0===b?0:b,this.strokeKey_=a?("string"==typeof a.strokeStyle?a.strokeStyle:Object(n.c)(a.strokeStyle))+a.lineCap+a.lineDashOffset+"|"+a.lineWidth+a.lineJoin+a.miterLimit+"["+a.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?")+(r.textBaseline||"?"),this.fillKey_=o?"string"==typeof o.fillStyle?o.fillStyle:"|"+Object(n.c)(o.fillStyle):""}else this.text_=""},e}(h.a);e.b=m},function(t,e,r){"use strict";(function(t){if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,e.nodebuffer=void 0!==t,e.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)e.blob=!1;else{var r=new ArrayBuffer(0);try{e.blob=0===new Blob([r],{type:"application/zip"}).size}catch(t){try{var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);n.append(r),e.blob=0===n.getBlob("application/zip").size}catch(t){e.blob=!1}}}}).call(this,r(94).Buffer)},function(t,e,r){"use strict";var n=r(48).Buffer,i=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=l,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=u,this.end=h,e=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function l(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function u(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},o.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=a(e[n]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=a(e[n]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=a(e[n]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,r){"use strict";(function(e,n){var i=r(48).Buffer,o=e.crypto||e.msCrypto;o&&o.getRandomValues?t.exports=function(t,e){if(t>4294967295)throw new RangeError("requested too many random bytes");var r=i.allocUnsafe(t);if(t>0)if(t>65536)for(var a=0;a<t;a+=65536)o.getRandomValues(r.slice(a,a+65536));else o.getRandomValues(r);if("function"==typeof e)return n.nextTick((function(){e(null,r)}));return r}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,r(120),r(121))},function(t,e,r){"use strict";var n={};function i(t,e,r){r||(r=Error);var i=function(t){var r,n;function i(r,n,i){return t.call(this,function(t,r,n){return"string"==typeof e?e:e(t,r,n)}(r,n,i))||this}return n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);i.prototype.name=r.name,i.prototype.code=t,n[t]=i}function o(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(t){return String(t)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}i("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(t,e,r){var n,i,a,s;if("string"==typeof e&&(i="not ",e.substr(!a||a<0?0:+a,i.length)===i)?(n="must not be",e=e.replace(/^not /,"")):n="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}(t," argument"))s="The ".concat(t," ").concat(n," ").concat(o(e,"type"));else{var c=function(t,e,r){return"number"!=typeof r&&(r=0),!(r+e.length>t.length)&&-1!==t.indexOf(e,r)}(t,".")?"property":"argument";s='The "'.concat(t,'" ').concat(c," ").concat(n," ").concat(o(e,"type"))}return s+=". Received type ".concat(typeof r)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=n},function(t,e,r){"use strict";(function(e){var n=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=l;var i=r(478),o=r(482);r(46)(l,i);for(var a=n(o.prototype),s=0;s<a.length;s++){var c=a[s];l.prototype[c]||(l.prototype[c]=o.prototype[c])}function l(t){if(!(this instanceof l))return new l(t);i.call(this,t),o.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||e.nextTick(h,this)}function h(t){t.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}).call(this,r(121))},function(t,e,r){var n=r(48).Buffer;function i(t,e){this._block=n.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}i.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=n.from(t,e));for(var r=this._block,i=this._blockSize,o=t.length,a=this._len,s=0;s<o;){for(var c=a%i,l=Math.min(o-s,i-c),u=0;u<l;u++)r[c+u]=t[s+u];s+=l,(a+=l)%i==0&&this._update(r)}return this._len+=o,this},i.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=i},function(t,e,r){"use strict";r(425);var n,i=r(82),o=r(47),a=r(65),s=r(17),c=r(50),l=r(16),u=r(14),h=r(163),f=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),p=0,d=1,m=function(t){function e(e){var r=this,n=e||{};(r=t.call(this,{element:document.createElement("div"),render:n.render||y})||this).dragListenerKeys_=[],r.currentResolution_=void 0,r.direction_=p,r.dragging_,r.heightLimit_=0,r.widthLimit_=0,r.startX_,r.startY_,r.thumbSize_=null,r.sliderInitialized_=!1,r.duration_=void 0!==n.duration?n.duration:200;var i=void 0!==n.className?n.className:"ol-zoomslider",a=document.createElement("button");a.setAttribute("type","button"),a.className=i+"-thumb "+o.e;var s=r.element;return s.className=i+" "+o.e+" "+o.b,s.appendChild(a),s.addEventListener(h.a.POINTERDOWN,r.handleDraggerStart_.bind(r),!1),s.addEventListener(h.a.POINTERMOVE,r.handleDraggerDrag_.bind(r),!1),s.addEventListener(h.a.POINTERUP,r.handleDraggerEnd_.bind(r),!1),s.addEventListener(l.a.CLICK,r.handleContainerClick_.bind(r),!1),a.addEventListener(l.a.CLICK,c.b,!1),r}return f(e,t),e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),e&&e.render()},e.prototype.initSlider_=function(){var t=this.element,e=t.offsetWidth,r=t.offsetHeight,n=t.firstElementChild,i=getComputedStyle(n),o=n.offsetWidth+parseFloat(i.marginRight)+parseFloat(i.marginLeft),a=n.offsetHeight+parseFloat(i.marginTop)+parseFloat(i.marginBottom);this.thumbSize_=[o,a],e>r?(this.direction_=d,this.widthLimit_=e-o):(this.direction_=p,this.heightLimit_=r-a),this.sliderInitialized_=!0},e.prototype.handleContainerClick_=function(t){var e=this.getMap().getView(),r=this.getRelativePosition_(t.offsetX-this.thumbSize_[0]/2,t.offsetY-this.thumbSize_[1]/2),n=this.getResolutionForPosition_(r),i=e.getConstrainedZoom(e.getZoomForResolution(n));e.animateInternal({zoom:i,duration:this.duration_,easing:a.easeOut})},e.prototype.handleDraggerStart_=function(t){if(!this.dragging_&&t.target===this.element.firstElementChild){var e=this.element.firstElementChild;if(this.getMap().getView().beginInteraction(),this.startX_=t.clientX-parseFloat(e.style.left),this.startY_=t.clientY-parseFloat(e.style.top),this.dragging_=!0,0===this.dragListenerKeys_.length){var r=this.handleDraggerDrag_,n=this.handleDraggerEnd_;this.dragListenerKeys_.push(Object(s.a)(document,h.a.POINTERMOVE,r,this),Object(s.a)(document,h.a.POINTERUP,n,this))}}},e.prototype.handleDraggerDrag_=function(t){if(this.dragging_){var e=t.clientX-this.startX_,r=t.clientY-this.startY_,n=this.getRelativePosition_(e,r);this.currentResolution_=this.getResolutionForPosition_(n),this.getMap().getView().setResolution(this.currentResolution_)}},e.prototype.handleDraggerEnd_=function(t){this.dragging_&&(this.getMap().getView().endInteraction(),this.dragging_=!1,this.startX_=void 0,this.startY_=void 0,this.dragListenerKeys_.forEach(s.c),this.dragListenerKeys_.length=0)},e.prototype.setThumbPosition_=function(t){var e=this.getPositionForResolution_(t),r=this.element.firstElementChild;this.direction_==d?r.style.left=this.widthLimit_*e+"px":r.style.top=this.heightLimit_*e+"px"},e.prototype.getRelativePosition_=function(t,e){var r;return r=this.direction_===d?t/this.widthLimit_:e/this.heightLimit_,Object(u.a)(r,0,1)},e.prototype.getResolutionForPosition_=function(t){return this.getMap().getView().getResolutionForValueFunction()(1-t)},e.prototype.getPositionForResolution_=function(t){var e=this.getMap().getView().getValueForResolutionFunction();return Object(u.a)(1-e(t),0,1)},e}(i.a);function y(t){if(t.frameState){this.sliderInitialized_||this.initSlider_();var e=t.frameState.viewState.resolution;this.currentResolution_=e,this.setThumbPosition_(e)}}e.a=m},function(t,e,r){"use strict";var n,i=r(82),o=r(47),a=r(65),s=r(16),c=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),l=function(t){function e(e){var r=this,n=e||{};r=t.call(this,{element:document.createElement("div"),render:n.render||u,target:n.target})||this;var i=void 0!==n.className?n.className:"ol-rotate",a=void 0!==n.label?n.label:"";r.label_=null,"string"==typeof a?(r.label_=document.createElement("span"),r.label_.className="ol-compass",r.label_.textContent=a):(r.label_=a,r.label_.classList.add("ol-compass"));var c=n.tipLabel?n.tipLabel:"Reset rotation",l=document.createElement("button");l.className=i+"-reset",l.setAttribute("type","button"),l.title=c,l.appendChild(r.label_),l.addEventListener(s.a.CLICK,r.handleClick_.bind(r),!1);var h=i+" "+o.e+" "+o.b,f=r.element;return f.className=h,f.appendChild(l),r.callResetNorth_=n.resetNorth?n.resetNorth:void 0,r.duration_=void 0!==n.duration?n.duration:250,r.autoHide_=void 0===n.autoHide||n.autoHide,r.rotation_=void 0,r.autoHide_&&r.element.classList.add(o.c),r}return c(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();if(t){var e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:a.easeOut}):t.setRotation(0))}},e}(i.a);function u(t){var e=t.frameState;if(e){var r=e.viewState.rotation;if(r!=this.rotation_){var n="rotate("+r+"rad)";if(this.autoHide_){var i=this.element.classList.contains(o.c);i||0!==r?i&&0!==r&&this.element.classList.remove(o.c):this.element.classList.add(o.c)}this.label_.style.transform=n}this.rotation_=r}}e.a=l},function(t,e,r){"use strict";var n,i=r(188),o=r(32),a=r(39),s=r(70),c=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),l=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this,{stopDown:a.a})||this).condition_=n.condition?n.condition:o.b,r.lastAngle_=void 0,r.duration_=void 0!==n.duration?n.duration:250,r}return c(e,t),e.prototype.handleDragEvent=function(t){if(Object(o.h)(t)){var e=t.map,r=e.getView();if(r.getConstraints().rotation!==i.c){var n=e.getSize(),a=t.pixel,s=Math.atan2(n[1]/2-a[1],a[0]-n[0]/2);if(void 0!==this.lastAngle_){var c=s-this.lastAngle_;r.adjustRotationInternal(-c)}this.lastAngle_=s}}},e.prototype.handleUpEvent=function(t){return!Object(o.h)(t)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){return!!Object(o.h)(t)&&(!(!Object(o.g)(t)||!this.condition_(t))&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))},e}(s.b);e.a=l},function(t,e,r){"use strict";var n,i=r(29),o=r(65),a=r(32),s=r(39),c=r(70),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),u=function(t){function e(e){var r=t.call(this,{stopDown:s.a})||this,n=e||{};return r.kinetic_=n.kinetic,r.lastCentroid=null,r.lastPointersCount_,r.panning_=!1,r.condition_=n.condition?n.condition:h,r.noKinetic_=!1,r}return l(e,t),e.prototype.conditionInternal_=function(t){var e=!0;return t.map.getTargetElement().hasAttribute("tabindex")&&(e=Object(a.f)(t)),e&&this.condition_(t)},e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e=this.targetPointers,r=Object(c.a)(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){var n=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],o=t.map.getView();Object(i.j)(n,o.getResolution()),Object(i.i)(n,o.getRotation()),o.adjustCenterInternal(n)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=e.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var e=t.map,r=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var n=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),a=r.getCenterInternal(),s=e.getPixelFromCoordinateInternal(a),c=e.getCoordinateFromPixelInternal([s[0]-n*Math.cos(i),s[1]-n*Math.sin(i)]);r.animateInternal({center:r.getConstrainedCenter(c),duration:500,easing:o.easeOut})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.conditionInternal_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(c.b);function h(t){return Object(a.j)(t)&&Object(a.n)(t)}e.a=u},function(t,e,r){"use strict";var n,i=r(39),o=r(70),a=r(188),s=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),c=function(t){function e(e){var r=this,n=e||{},o=n;return o.stopDown||(o.stopDown=i.a),(r=t.call(this,o)||this).anchor_=null,r.lastAngle_=void 0,r.rotating_=!1,r.rotationDelta_=0,r.threshold_=void 0!==n.threshold?n.threshold:.3,r.duration_=void 0!==n.duration?n.duration:250,r}return s(e,t),e.prototype.handleDragEvent=function(t){var e=0,r=this.targetPointers[0],n=this.targetPointers[1],i=Math.atan2(n.clientY-r.clientY,n.clientX-r.clientX);if(void 0!==this.lastAngle_){var s=i-this.lastAngle_;this.rotationDelta_+=s,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=s}this.lastAngle_=i;var c=t.map,l=c.getView();if(l.getConstraints().rotation!==a.c){var u=c.getViewport().getBoundingClientRect(),h=Object(o.a)(this.targetPointers);h[0]-=u.left,h[1]-=u.top,this.anchor_=c.getCoordinateFromPixelInternal(h),this.rotating_&&(c.render(),l.adjustRotationInternal(e,this.anchor_))}},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(o.b);e.a=c},function(t,e,r){"use strict";var n,i=r(39),o=r(70),a=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=function(t){function e(e){var r=this,n=e||{},o=n;return o.stopDown||(o.stopDown=i.a),(r=t.call(this,o)||this).anchor_=null,r.duration_=void 0!==n.duration?n.duration:400,r.lastDistance_=void 0,r.lastScaleDelta_=1,r}return a(e,t),e.prototype.handleDragEvent=function(t){var e=1,r=this.targetPointers[0],n=this.targetPointers[1],i=r.clientX-n.clientX,a=r.clientY-n.clientY,s=Math.sqrt(i*i+a*a);void 0!==this.lastDistance_&&(e=this.lastDistance_/s),this.lastDistance_=s;var c=t.map,l=c.getView();1!=e&&(this.lastScaleDelta_=e);var u=c.getViewport().getBoundingClientRect(),h=Object(o.a)(this.targetPointers);h[0]-=u.left,h[1]-=u.top,this.anchor_=c.getCoordinateFromPixelInternal(h),c.render(),l.adjustResolutionInternal(e,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView(),r=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,r),!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(o.b);e.a=s},function(t,e,r){"use strict";var n,i=r(16),o=r(32),a=r(85),s=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),c=function(t){function e(e){var r=t.call(this,{handleEvent:l})||this,n=e||{};return r.condition_=n.condition?n.condition:o.q,r.delta_=n.delta?n.delta:1,r.duration_=void 0!==n.duration?n.duration:100,r}return s(e,t),e}(a.a);function l(t){var e=!1;if(t.type==i.a.KEYDOWN||t.type==i.a.KEYPRESS){var r=t.originalEvent.charCode;if(this.condition_(t)&&(r=="+".charCodeAt(0)||r=="-".charCodeAt(0))){var n=t.map,o=r=="+".charCodeAt(0)?this.delta_:-this.delta_,s=n.getView();Object(a.c)(s,o,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}e.a=c},function(t,e,r){"use strict";var n,i=r(32),o=r(16),a=r(60),s=r(85),c=r(14),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),u="trackpad",h="wheel",f=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this,n)||this).totalDelta_=0,r.lastDelta_=0,r.maxDelta_=void 0!==n.maxDelta?n.maxDelta:1,r.duration_=void 0!==n.duration?n.duration:250,r.timeout_=void 0!==n.timeout?n.timeout:80,r.useAnchor_=void 0===n.useAnchor||n.useAnchor,r.condition_=n.condition?n.condition:i.c,r.lastAnchor_=null,r.startTime_=void 0,r.timeoutId_,r.mode_=void 0,r.trackpadEventGap_=400,r.trackpadTimeoutId_,r.deltaPerZoom_=300,r}return l(e,t),e.prototype.conditionInternal_=function(t){var e=!0;return t.map.getTargetElement().hasAttribute("tabindex")&&(e=Object(i.f)(t)),e&&this.condition_(t)},e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.conditionInternal_(t))return!0;if(t.type!==o.a.WHEEL)return!0;t.preventDefault();var e,r=t.map,n=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==o.a.WHEEL&&(e=n.deltaY,a.b&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=a.a),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)),0===e)return!1;this.lastDelta_=e;var i=Date.now();void 0===this.startTime_&&(this.startTime_=i),(!this.mode_||i-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(e)<4?u:h);var s=r.getView();if(this.mode_===u&&!s.getConstrainResolution())return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(s.getAnimating()&&s.cancelAnimations(),s.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),s.adjustZoom(-e/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=i,!1;this.totalDelta_+=e;var c=Math.max(this.timeout_-(i-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),c),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var r=-Object(c.a)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;e.getConstrainResolution()&&(r=r?r>0?1:-1:0),Object(s.c)(e,r,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(s.a);e.a=f},function(t,e,r){"use strict";var n,i=r(65),o=r(32),a=r(2),s=r(267),c=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),l=function(t){function e(e){var r=this,n=e||{},i=n.condition?n.condition:o.o;return(r=t.call(this,{condition:i,className:n.className||"ol-dragzoom",minArea:n.minArea,onBoxEnd:u})||this).duration_=void 0!==n.duration?n.duration:200,r.out_=void 0!==n.out&&n.out,r}return c(e,t),e}(s.a);function u(){var t=this.getMap(),e=t.getView(),r=t.getSize(),n=this.getGeometry().getExtent();if(this.out_){var o=e.calculateExtentInternal(r),s=Object(a.o)([t.getPixelFromCoordinateInternal(Object(a.w)(n)),t.getPixelFromCoordinateInternal(Object(a.F)(n))]),c=e.getResolutionForExtentInternal(s,r);Object(a.L)(o,1/c),n=o}var l=e.getConstrainedResolution(e.getResolutionForExtentInternal(n,r)),u=e.getConstrainedCenter(Object(a.y)(n),l);e.animateInternal({resolution:l,center:u,duration:this.duration_,easing:i.easeOut})}e.a=l},function(t,e,r){"use strict";var n,i=r(33),o=r(19),a=r(82),s=r(47),c=r(4),l=r(55),u=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),h="degrees",f="imperial",p="nautical",d="metric",m="us",y=[1,2,5],g=function(t){function e(e){var r=this,n=e||{},o=void 0!==n.className?n.className:n.bar?"ol-scale-bar":"ol-scale-line";return(r=t.call(this,{element:document.createElement("div"),render:n.render||_,target:n.target})||this).innerElement_=document.createElement("div"),r.innerElement_.className=o+"-inner",r.element.className=o+" "+s.e,r.element.appendChild(r.innerElement_),r.viewState_=null,r.minWidth_=void 0!==n.minWidth?n.minWidth:64,r.renderedVisible_=!1,r.renderedWidth_=void 0,r.renderedHTML_="",r.addEventListener(Object(i.b)("units"),r.handleUnitsChanged_),r.setUnits(n.units||d),r.scaleBar_=n.bar||!1,r.scaleBarSteps_=n.steps||4,r.scaleBarText_=n.text||!1,r}return u(e,t),e.prototype.getUnits=function(){return this.get("units")},e.prototype.handleUnitsChanged_=function(){this.updateElement_()},e.prototype.setUnits=function(t){this.set("units",t)},e.prototype.updateElement_=function(){var t=this.viewState_;if(t){var e=t.center,r=t.projection,n=this.getUnits(),i=n==h?l.b.DEGREES:l.b.METERS,a=Object(c.k)(r,t.resolution,e,i),s=this.minWidth_*a,u="";if(n==h){var g=c.a[l.b.DEGREES];(s*=g)<g/60?(u="",a*=3600):s<g?(u="",a*=60):u=""}else n==f?s<.9144?(u="in",a/=.0254):s<1609.344?(u="ft",a/=.3048):(u="mi",a/=1609.344):n==p?(a/=1852,u="nm"):n==d?s<.001?(u="m",a*=1e6):s<1?(u="mm",a*=1e3):s<1e3?u="m":(u="km",a/=1e3):n==m?s<.9144?(u="in",a*=39.37):s<1609.344?(u="ft",a/=.30480061):(u="mi",a/=1609.3472):Object(o.a)(!1,33);for(var _,b,v,O,w=3*Math.floor(Math.log(this.minWidth_*a)/Math.log(10));;){v=Math.floor(w/3);var M=Math.pow(10,v);if(_=y[(w%3+3)%3]*M,b=Math.round(_/a),isNaN(b))return this.element.style.display="none",void(this.renderedVisible_=!1);if(b>=this.minWidth_)break;++w}O=this.scaleBar_?this.createScaleBar(b,_,u):_.toFixed(v<0?-v:0)+" "+u,this.renderedHTML_!=O&&(this.innerElement_.innerHTML=O,this.renderedHTML_=O),this.renderedWidth_!=b&&(this.innerElement_.style.width=b+"px",this.renderedWidth_=b),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.createScaleBar=function(t,e,r){for(var n="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),i=[],o=t/this.scaleBarSteps_,a="#ffffff",s=0;s<this.scaleBarSteps_;s++)0===s&&i.push(this.createMarker("absolute",s)),i.push('<div><div class="ol-scale-singlebar" style="width: '+o+"px;background-color: "+a+';"></div>'+this.createMarker("relative",s)+(s%2==0||2===this.scaleBarSteps_?this.createStepText(s,t,!1,e,r):"")+"</div>"),s===this.scaleBarSteps_-1&&i.push(this.createStepText(s+1,t,!0,e,r)),a="#ffffff"===a?"#000000":"#ffffff";return'<div style="display: flex;">'+(this.scaleBarText_?'<div class="ol-scale-text" style="width: '+t+'px;">'+n+"</div>":"")+i.join("")+"</div>"},e.prototype.createMarker=function(t,e){return'<div class="ol-scale-step-marker" style="position: '+t+";top: "+("absolute"===t?3:-10)+'px;"></div>'},e.prototype.createStepText=function(t,e,r,n,i){var o=(0===t?0:Math.round(n/this.scaleBarSteps_*t*100)/100)+(0===t?"":" "+i);return'<div class="ol-scale-step-text" style="margin-left: '+(0===t?-3:e/this.scaleBarSteps_*-1)+"px;text-align: "+(0===t?"left":"center")+"; min-width: "+(0===t?0:e/this.scaleBarSteps_*2)+"px;left: "+(r?e+"px":"unset")+';">'+o+"</div>"},e.prototype.getScaleForResolution=function(){var t=this.getMap().getView().getResolution(),e=this.viewState_.projection.getMetersPerUnit();return parseFloat(t.toString())*e*39.37*(25.4/.28)},e}(a.a);function _(t){var e=t.frameState;this.viewState_=e?e.viewState:null,this.updateElement_()}e.a=g},function(t,e,r){"use strict";var n,i=r(29),o=r(16),a=37,s=38,c=39,l=40,u=r(32),h=r(85),f=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),p=function(t){function e(e){var r=t.call(this,{handleEvent:d})||this,n=e||{};return r.defaultCondition_=function(t){return Object(u.j)(t)&&Object(u.q)(t)},r.condition_=void 0!==n.condition?n.condition:r.defaultCondition_,r.duration_=void 0!==n.duration?n.duration:100,r.pixelDelta_=void 0!==n.pixelDelta?n.pixelDelta:128,r}return f(e,t),e}(h.a);function d(t){var e=!1;if(t.type==o.a.KEYDOWN){var r=t.originalEvent.keyCode;if(this.condition_(t)&&(r==l||r==a||r==c||r==s)){var n=t.map.getView(),u=n.getResolution()*this.pixelDelta_,f=0,p=0;r==l?p=-u:r==a?f=-u:r==c?f=u:p=u;var d=[f,p];Object(i.i)(d,n.getRotation()),Object(h.b)(n,d,this.duration_),t.preventDefault(),e=!0}}return!e}e.a=p},function(t,e,r){"use strict";var n,i=r(50),o=r(32),a=r(39),s=r(70),c=r(211),l=r(26),u=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),h=function(t){function e(e){var r=t.call(this)||this;return r.geometry_=null,r.element_=document.createElement("div"),r.element_.style.position="absolute",r.element_.className="ol-box "+e,r.map_=null,r.startPixel_=null,r.endPixel_=null,r}return u(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,r=this.element_.style;r.left=Math.min(t[0],e[0])+"px",r.top=Math.min(t[1],e[1])+"px",r.width=Math.abs(e[0]-t[0])+"px",r.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,r=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new l.b([r])},e.prototype.getGeometry=function(){return this.geometry_},e}(c.a),f=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),p="boxstart",d="boxdrag",m="boxend",y=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.coordinate=r,i.mapBrowserEvent=n,i}return f(e,t),e}(i.a),g=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.box_=new h(n.className||"ol-dragbox"),r.minArea_=void 0!==n.minArea?n.minArea:64,r.onBoxEnd_=n.onBoxEnd?n.onBoxEnd:a.c,r.startPixel_=null,r.condition_=n.condition?n.condition:o.g,r.boxEndCondition_=n.boxEndCondition?n.boxEndCondition:r.defaultBoxEndCondition,r}return f(e,t),e.prototype.defaultBoxEndCondition=function(t,e,r){var n=r[0]-e[0],i=r[1]-e[1];return n*n+i*i>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new y(d,t.coordinate,t))},e.prototype.handleUpEvent=function(t){return this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new y(m,t.coordinate,t))),!1},e.prototype.handleDownEvent=function(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new y(p,t.coordinate,t)),!0)},e}(s.b);e.a=g},function(t,e,r){"use strict";var n=r(91),i=r(0);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,a=void 0,a=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===o(a)?a:String(a)),n)}var i,a}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(l,t);var e,r,n,o=c(l);function l(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(r=o.call(this,Object(i.z)("_mapea_cluster_"))).setAttributes(e),r.setAttribute("features",t),r}return e=l,r&&a(e.prototype,r),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(n.a);e.a=h},function(t,e,r){"use strict";var n,i=r(10),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(t){function e(e){var r=this,n="Assertion failed. See https://openlayers.org/en/"+("latest"===i.a?i.a:"v"+i.a.split("-")[0])+"/doc/errors/#"+e+" for details.";return(r=t.call(this,n)||this).code=e,r.name="AssertionError",r.message=n,r}return o(e,t),e}(Error);e.a=a},function(t,e,r){"use strict";function n(t,e,r,n){for(var i=0,o=t[r-n],a=t[r-n+1];e<r;e+=n){var s=t[e],c=t[e+1];i+=a*s-o*c,o=s,a=c}return i/2}function i(t,e,r,i){for(var o=0,a=0,s=r.length;a<s;++a){var c=r[a];o+=n(t,e,c,i),e=c}return o}function o(t,e,r,n){for(var o=0,a=0,s=r.length;a<s;++a){var c=r[a];o+=i(t,e,c,n),e=c[c.length-1]}return o}r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return o}))},function(t,e,r){"use strict";var n,i=r(10),o=r(142),a=r(16),s=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),c=function(t){function e(e,r,n,i){var o=t.call(this)||this;return o.extent=e,o.pixelRatio_=n,o.resolution=r,o.state=i,o}return s(e,t),e.prototype.changed=function(){this.dispatchEvent(a.a.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Object(i.b)()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Object(i.b)()},e}(o.a);e.a=c},function(t,e,r){"use strict";var n,i=r(452),o=r(63),a=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.expireCache=function(t){for(;this.canExpireCache();){if(this.peekLast().getKey()in t)break;this.pop().release()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey(),e=Object(o.b)(t)[0];this.forEach(function(t){t.tileCoord[0]!==e&&(this.remove(Object(o.c)(t.tileCoord)),t.release())}.bind(this))}},e}(i.a);e.a=s},function(t,e,r){"use strict";var n,i=r(10),o=r(4),a=r(246),s=r(20),c=r(2),l=r(274),u=r(18),h=r(13),f=r(24),p=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),d=function(t){function e(e){var r=t.call(this,e)||this;return r.extentChanged=!0,r.renderedExtent_=null,r.renderedPixelRatio,r.renderedProjection=null,r.renderedRevision,r.renderedTiles=[],r.newTiles_=!1,r.tmpExtent=Object(c.k)(),r.tmpTileRange_=new a.b(0,0,0,0),r}return p(e,t),e.prototype.isDrawableTile=function(t){var e=this.getLayer(),r=t.getState(),n=e.getUseInterimTilesOnError();return r==s.a.LOADED||r==s.a.EMPTY||r==s.a.ERROR&&!n},e.prototype.getTile=function(t,e,r,n){var i=n.pixelRatio,o=n.viewState.projection,a=this.getLayer(),c=a.getSource().getTile(t,e,r,i,o);return c.getState()==s.a.ERROR&&(a.getUseInterimTilesOnError()?a.getPreload()>0&&(this.newTiles_=!0):c.setState(s.a.LOADED)),this.isDrawableTile(c)||(c=c.getInterimTile()),c},e.prototype.loadedTileCallback=function(e,r,n){return!!this.isDrawableTile(n)&&t.prototype.loadedTileCallback.call(this,e,r,n)},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,e){var r=t.layerStatesArray[t.layerIndex],n=t.viewState,a=n.projection,l=n.resolution,p=n.center,d=n.rotation,m=t.pixelRatio,y=this.getLayer(),g=y.getSource(),_=g.getRevision(),b=g.getTileGridForProjection(a),v=b.getZForResolution(l,g.zDirection),O=b.getResolution(v),w=t.extent,M=r.extent&&Object(o.i)(r.extent,a);M&&(w=Object(c.C)(w,Object(o.i)(r.extent,a)));var E=g.getTilePixelRatio(m),x=Math.round(t.size[0]*E),S=Math.round(t.size[1]*E);if(d){var j=Math.round(Math.sqrt(x*x+S*S));x=j,S=j}var P=O*x/2/E,T=O*S/2/E,I=[p[0]-P,p[1]-T,p[0]+P,p[1]+T],L=b.getTileRangeForExtentAndZ(w,v),R={};R[v]={};var C=this.createLoadedTileFinder(g,a,R),A=this.tmpExtent,k=this.tmpTileRange_;this.newTiles_=!1;for(var N=L.minX;N<=L.maxX;++N)for(var D=L.minY;D<=L.maxY;++D){var F=this.getTile(v,N,D,t);if(this.isDrawableTile(F)){var B=Object(i.c)(this);if(F.getState()==s.a.LOADED){R[v][F.tileCoord.toString()]=F;var U=F.inTransition(B);this.newTiles_||!U&&-1!==this.renderedTiles.indexOf(F)||(this.newTiles_=!0)}if(1===F.getAlpha(B,t.time))continue}var G=b.getTileCoordChildTileRange(F.tileCoord,k,A),z=!1;G&&(z=C(v+1,G)),z||b.forEachTileCoordParentTileRange(F.tileCoord,C,k,A)}var W=O/l;Object(u.b)(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/E,1/E,d,-x/2,-S/2);var X=Object(f.b)(this.pixelTransform);this.useContainer(e,X,r.opacity);var q=this.context,V=q.canvas;Object(u.e)(this.inversePixelTransform,this.pixelTransform),Object(u.b)(this.tempTransform_,x/2,S/2,W,W,0,-x/2,-S/2),V.width!=x||V.height!=S?(V.width=x,V.height=S):this.containerReused||q.clearRect(0,0,x,S),M&&this.clipUnrotated(q,t,M),this.preRender(q,t),this.renderedTiles.length=0;var Y,Z,K,H=Object.keys(R).map(Number);H.sort(h.i),1!==r.opacity||this.containerReused&&!g.getOpaque(t.viewState.projection)?(Y=[],Z=[]):H=H.reverse();for(var J=H.length-1;J>=0;--J){var Q=H[J],$=g.getTilePixelSize(Q,m,a),tt=b.getResolution(Q)/O,et=$[0]*tt*W,rt=$[1]*tt*W,nt=b.getTileCoordForCoordAndZ(Object(c.E)(I),Q),it=b.getTileCoordExtent(nt),ot=Object(u.a)(this.tempTransform_,[E*(it[0]-I[0])/O,E*(I[3]-it[3])/O]),at=E*g.getGutterForProjection(a),st=R[Q];for(var ct in st){var lt=(F=st[ct]).tileCoord,ut=ot[0]-(nt[1]-lt[1])*et,ht=Math.round(ut+et),ft=ot[1]-(nt[2]-lt[2])*rt,pt=Math.round(ft+rt),dt=ht-(N=Math.round(ut)),mt=pt-(D=Math.round(ft)),yt=v===Q;if(!(U=yt&&1!==F.getAlpha(Object(i.c)(this),t.time)))if(Y){q.save(),K=[N,D,N+dt,D,N+dt,D+mt,N,D+mt];for(var gt=0,_t=Y.length;gt<_t;++gt)if(v!==Q&&Q<Z[gt]){var bt=Y[gt];q.beginPath(),q.moveTo(K[0],K[1]),q.lineTo(K[2],K[3]),q.lineTo(K[4],K[5]),q.lineTo(K[6],K[7]),q.moveTo(bt[6],bt[7]),q.lineTo(bt[4],bt[5]),q.lineTo(bt[2],bt[3]),q.lineTo(bt[0],bt[1]),q.clip()}Y.push(K),Z.push(Q)}else q.clearRect(N,D,dt,mt);this.drawTileImage(F,t,N,D,dt,mt,at,yt,r.opacity),Y&&!U&&q.restore(),this.renderedTiles.push(F),this.updateUsedTiles(t.usedTiles,g,F)}}return this.renderedRevision=_,this.renderedResolution=O,this.extentChanged=!this.renderedExtent_||!Object(c.q)(this.renderedExtent_,I),this.renderedExtent_=I,this.renderedPixelRatio=m,this.renderedProjection=a,this.manageTilePyramid(t,g,b,m,a,w,v,y.getPreload()),this.scheduleExpireCache(t,g),this.postRender(q,t),r.extent&&q.restore(),X!==V.style.transform&&(V.style.transform=X),this.container},e.prototype.drawTileImage=function(t,e,r,n,o,a,s,c,l){var u=this.getTileImage(t);if(u){var h=Object(i.c)(this),f=c?t.getAlpha(h,e.time):1,p=l*f,d=p!==this.context.globalAlpha;d&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(u,s,s,u.width-2*s,u.height-2*s,r,n,o,a),d&&this.context.restore(),1!==f?e.animate=!0:c&&t.endTransition(h)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var r=function(t,e,r){var n=Object(i.c)(t);n in r.usedTiles&&t.expireCache(r.viewState.projection,r.usedTiles[n])}.bind(null,e);t.postRenderFunctions.push(r)}},e.prototype.updateUsedTiles=function(t,e,r){var n=Object(i.c)(e);n in t||(t[n]={}),t[n][r.getKey()]=!0},e.prototype.manageTilePyramid=function(t,e,r,n,o,a,c,l,u){var h=Object(i.c)(e);h in t.wantedTiles||(t.wantedTiles[h]={});var f,p,d,m,y,g,_=t.wantedTiles[h],b=t.tileQueue;for(g=r.getMinZoom();g<=c;++g)for(p=r.getTileRangeForExtentAndZ(a,g,p),d=r.getResolution(g),m=p.minX;m<=p.maxX;++m)for(y=p.minY;y<=p.maxY;++y)c-g<=l?((f=e.getTile(g,m,y,n,o)).getState()==s.a.IDLE&&(_[f.getKey()]=!0,b.isKeyQueued(f.getKey())||b.enqueue([f,h,r.getTileCoordCenter(f.tileCoord),d])),void 0!==u&&u(f)):e.useTile(g,m,y,o)},e}(l.a);d.prototype.getLayer,e.a=d},function(t,e,r){"use strict";var n,i=r(2),o=r(34),a=r(320),s=r(147),c=r(24),l=r(376),u=r(18),h=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),f=function(t){function e(e){var r=t.call(this,e)||this;return r.container=null,r.renderedResolution,r.tempTransform_=Object(u.d)(),r.pixelTransform=Object(u.d)(),r.inversePixelTransform=Object(u.d)(),r.context=null,r.containerReused=!1,r}return h(e,t),e.prototype.useContainer=function(t,e,r){var n,i,a=this.getLayer().getClassName();t&&""===t.style.opacity&&t.className===a&&((c=t.firstElementChild)instanceof HTMLCanvasElement&&(i=c.getContext("2d")));if(i&&i.canvas.style.transform===e?(this.container=t,this.context=i,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(n=document.createElement("div")).className=a;var s=n.style;s.position="absolute",s.width="100%",s.height="100%";var c=(i=Object(o.a)()).canvas;n.appendChild(c),(s=c.style).position="absolute",s.left="0",s.transformOrigin="top left",this.container=n,this.context=i}},e.prototype.clip=function(t,e,r){var n=e.pixelRatio,o=e.size[0]*n/2,a=e.size[1]*n/2,s=e.viewState.rotation,l=Object(i.E)(r),h=Object(i.F)(r),f=Object(i.x)(r),p=Object(i.w)(r);Object(u.a)(e.coordinateToPixelTransform,l),Object(u.a)(e.coordinateToPixelTransform,h),Object(u.a)(e.coordinateToPixelTransform,f),Object(u.a)(e.coordinateToPixelTransform,p),t.save(),Object(c.u)(t,-s,o,a),t.beginPath(),t.moveTo(l[0]*n,l[1]*n),t.lineTo(h[0]*n,h[1]*n),t.lineTo(f[0]*n,f[1]*n),t.lineTo(p[0]*n,p[1]*n),t.clip(),Object(c.u)(t,s,o,a)},e.prototype.clipUnrotated=function(t,e,r){var n=Object(i.E)(r),o=Object(i.F)(r),a=Object(i.x)(r),s=Object(i.w)(r);Object(u.a)(e.coordinateToPixelTransform,n),Object(u.a)(e.coordinateToPixelTransform,o),Object(u.a)(e.coordinateToPixelTransform,a),Object(u.a)(e.coordinateToPixelTransform,s);var c=this.inversePixelTransform;Object(u.a)(c,n),Object(u.a)(c,o),Object(u.a)(c,a),Object(u.a)(c,s),t.save(),t.beginPath(),t.moveTo(Math.round(n[0]),Math.round(n[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,r){var n=this.getLayer();if(n.hasListener(t)){var i=new a.a(t,this.inversePixelTransform,r,e);n.dispatchEvent(i)}},e.prototype.preRender=function(t,e){this.dispatchRenderEvent_(s.a.PRERENDER,t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_(s.a.POSTRENDER,t,e)},e.prototype.getRenderTransform=function(t,e,r,n,i,o,a){var s=i/2,c=o/2,l=n/e,h=-l,f=-t[0]+a,p=-t[1];return Object(u.b)(this.tempTransform_,s,c,l,h,-r,f,p)},e.prototype.getDataAtPixel=function(t,e,r){var n,i=Object(u.a)(this.inversePixelTransform,t.slice()),o=this.context;try{n=o.getImageData(Math.round(i[0]),Math.round(i[1]),1,1).data}catch(t){return"SecurityError"===t.name?new Uint8Array:n}return 0===n[3]?null:n},e}(l.a);e.a=f},function(t,e,r){"use strict";var n,i=r(10),o=r(33),a=r(73),s=r(14),c=r(15),l=r(19),u=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),h=function(t){function e(e){var r=t.call(this)||this,n=Object(c.a)({},e);return n[a.a.OPACITY]=void 0!==e.opacity?e.opacity:1,Object(l.a)("number"==typeof n[a.a.OPACITY],64),n[a.a.VISIBLE]=void 0===e.visible||e.visible,n[a.a.Z_INDEX]=e.zIndex,n[a.a.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,n[a.a.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,n[a.a.MIN_ZOOM]=void 0!==e.minZoom?e.minZoom:-1/0,n[a.a.MAX_ZOOM]=void 0!==e.maxZoom?e.maxZoom:1/0,r.className_=void 0!==n.className?e.className:"ol-layer",delete n.className,r.setProperties(n),r.state_=null,r}return u(e,t),e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t},r=this.getZIndex();return e.opacity=Object(s.a)(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==r?r:!1===e.managed?1/0:0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},e.prototype.getLayersArray=function(t){return Object(i.b)()},e.prototype.getLayerStatesArray=function(t){return Object(i.b)()},e.prototype.getExtent=function(){return this.get(a.a.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(a.a.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(a.a.MIN_RESOLUTION)},e.prototype.getMinZoom=function(){return this.get(a.a.MIN_ZOOM)},e.prototype.getMaxZoom=function(){return this.get(a.a.MAX_ZOOM)},e.prototype.getOpacity=function(){return this.get(a.a.OPACITY)},e.prototype.getSourceState=function(){return Object(i.b)()},e.prototype.getVisible=function(){return this.get(a.a.VISIBLE)},e.prototype.getZIndex=function(){return this.get(a.a.Z_INDEX)},e.prototype.setExtent=function(t){this.set(a.a.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(a.a.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(a.a.MIN_RESOLUTION,t)},e.prototype.setMaxZoom=function(t){this.set(a.a.MAX_ZOOM,t)},e.prototype.setMinZoom=function(t){this.set(a.a.MIN_ZOOM,t)},e.prototype.setOpacity=function(t){Object(l.a)("number"==typeof t,64),this.set(a.a.OPACITY,t)},e.prototype.setVisible=function(t){this.set(a.a.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(a.a.Z_INDEX,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},e}(o.a);e.a=h},function(t,e,r){"use strict";var n,i=r(378),o=r(277),a=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.createRenderer=function(){return new o.a(this)},e}(i.a);e.a=s},function(t,e,r){"use strict";var n,i=r(110),o=r(57),a=r(2),s=r(4),c=r(274),l=r(18),u=r(24),h=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),f=function(t){function e(e){var r=t.call(this,e)||this;return r.image_=null,r}return h(e,t),e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.prepareFrame=function(t){var e=t.layerStatesArray[t.layerIndex],r=t.pixelRatio,n=t.viewState,c=n.resolution,l=this.getLayer().getSource(),u=t.viewHints,h=t.extent;if(void 0!==e.extent&&(h=Object(a.C)(h,Object(s.i)(e.extent,n.projection))),!u[o.a.ANIMATING]&&!u[o.a.INTERACTING]&&!Object(a.J)(h))if(l){var f=n.projection;if(!i.a){var p=l.getProjection();p&&(f=p)}var d=l.getImage(h,c,r,f);d&&this.loadImage(d)&&(this.image_=d)}else this.image_=null;return!!this.image_},e.prototype.renderFrame=function(t,e){var r=this.image_,n=r.getExtent(),i=r.getResolution(),o=r.getPixelRatio(),c=t.layerStatesArray[t.layerIndex],h=t.pixelRatio,f=t.viewState,p=f.center,d=f.resolution,m=t.size,y=h*i/(d*o),g=Math.round(m[0]*h),_=Math.round(m[1]*h),b=f.rotation;if(b){var v=Math.round(Math.sqrt(g*g+_*_));g=v,_=v}Object(l.b)(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/h,1/h,b,-g/2,-_/2),Object(l.e)(this.inversePixelTransform,this.pixelTransform);var O=Object(u.b)(this.pixelTransform);this.useContainer(e,O,c.opacity);var w=this.context,M=w.canvas;M.width!=g||M.height!=_?(M.width=g,M.height=_):this.containerReused||w.clearRect(0,0,g,_);var E=!1;if(c.extent){var x=Object(s.i)(c.extent,f.projection);(E=!Object(a.h)(x,t.extent)&&Object(a.H)(x,t.extent))&&this.clipUnrotated(w,t,x)}var S=r.getImage(),j=Object(l.b)(this.tempTransform_,g/2,_/2,y,y,0,o*(n[0]-p[0])/i,o*(p[1]-n[3])/i);this.renderedResolution=i*h/o;var P=j[4],T=j[5],I=S.width*j[0],L=S.height*j[3];if(this.preRender(w,t),I>=.5&&L>=.5){var R=c.opacity,C=void 0;1!==R&&(C=this.context.globalAlpha,this.context.globalAlpha=R),this.context.drawImage(S,0,0,+S.width,+S.height,Math.round(P),Math.round(T),Math.round(I),Math.round(L)),1!==R&&(this.context.globalAlpha=C)}return this.postRender(w,t),E&&w.restore(),O!==M.style.transform&&(M.style.transform=O),this.container},e}(c.a);e.a=f},function(t,e,r){"use strict";var n,i=r(13),o=r(118),a=r(2),s=r(8),c=r(89),l=r(97),u=r(279),h=r(24),f=r(18),p=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),d=function(t){function e(e,r,n,i,o,a,s){var c=t.call(this)||this;return c.context_=e,c.pixelRatio_=r,c.extent_=n,c.transform_=i,c.viewRotation_=o,c.squaredTolerance_=a,c.userTransform_=s,c.contextFillState_=null,c.contextStrokeState_=null,c.contextTextState_=null,c.fillState_=null,c.strokeState_=null,c.image_=null,c.imageAnchorX_=0,c.imageAnchorY_=0,c.imageHeight_=0,c.imageOpacity_=0,c.imageOriginX_=0,c.imageOriginY_=0,c.imageRotateWithView_=!1,c.imageRotation_=0,c.imageScale_=0,c.imageWidth_=0,c.text_="",c.textOffsetX_=0,c.textOffsetY_=0,c.textRotateWithView_=!1,c.textRotation_=0,c.textScale_=0,c.textFillState_=null,c.textStrokeState_=null,c.textState_=null,c.pixelCoordinates_=[],c.tmpLocalTransform_=Object(f.d)(),c}return p(e,t),e.prototype.drawImages_=function(t,e,r,n){if(this.image_){var i=Object(l.c)(t,e,r,2,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,s=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=s*this.imageOpacity_);var c=this.imageRotation_;this.imageRotateWithView_&&(c+=this.viewRotation_);for(var u=0,h=i.length;u<h;u+=2){var p=i[u]-this.imageAnchorX_,d=i[u+1]-this.imageAnchorY_;if(0!==c||1!=this.imageScale_){var m=p+this.imageAnchorX_,y=d+this.imageAnchorY_;Object(f.b)(a,m,y,this.imageScale_,this.imageScale_,c,-m,-y),o.setTransform.apply(o,a)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,d,this.imageWidth_,this.imageHeight_)}0===c&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=s)}},e.prototype.drawText_=function(t,e,r,n){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var i=Object(l.c)(t,e,r,n,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<r;e+=n){var s=i[e]+this.textOffsetX_,c=i[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_){var u=Object(f.b)(this.tmpLocalTransform_,s,c,this.textScale_,this.textScale_,a,-s,-c);o.setTransform.apply(o,u)}this.textStrokeState_&&o.strokeText(this.text_,s,c),this.textFillState_&&o.fillText(this.text_,s,c)}0===a&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,r,n,i){var o=this.context_,a=Object(l.c)(t,e,r,n,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;i&&(s-=2);for(var c=2;c<s;c+=2)o.lineTo(a[c],a[c+1]);return i&&o.closePath(),r},e.prototype.drawRings_=function(t,e,r,n){for(var i=0,o=r.length;i<o;++i)e=this.moveToLineTo_(t,e,r[i],n,!0);return e},e.prototype.drawCircle=function(t){if(Object(a.H)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=Object(c.c)(t,this.transform_,this.pixelCoordinates_),r=e[2]-e[0],n=e[3]-e[1],i=Math.sqrt(r*r+n*n),o=this.context_;o.beginPath(),o.arc(e[0],e[1],i,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case s.a.POINT:this.drawPoint(t);break;case s.a.LINE_STRING:this.drawLineString(t);break;case s.a.POLYGON:this.drawPolygon(t);break;case s.a.MULTI_POINT:this.drawMultiPoint(t);break;case s.a.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case s.a.MULTI_POLYGON:this.drawMultiPolygon(t);break;case s.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case s.a.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var r=e.getGeometryFunction()(t);r&&Object(a.H)(this.extent_,r.getExtent())&&(this.setStyle(e),this.drawGeometry(r))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),r=0,n=e.length;r<n;++r)this.drawGeometry(e[r])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),r=t.getStride();this.image_&&this.drawImages_(e,0,e.length,r),""!==this.text_&&this.drawText_(e,0,e.length,r)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),r=t.getStride();this.image_&&this.drawImages_(e,0,e.length,r),""!==this.text_&&this.drawText_(e,0,e.length,r)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(a.H)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,r=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(r,0,r.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var n=t.getFlatMidpoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(Object(a.H)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var r=this.context_,n=t.getFlatCoordinates(),i=0,o=t.getEnds(),s=t.getStride();r.beginPath();for(var c=0,l=o.length;c<l;++c)i=this.moveToLineTo_(n,i,o[c],s,!1);r.stroke()}if(""!==this.text_){var u=t.getFlatMidpoints();this.drawText_(u,0,u.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(a.H)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var r=t.getFlatInteriorPoint();this.drawText_(r,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(a.H)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,r=t.getOrientedFlatCoordinates(),n=0,i=t.getEndss(),o=t.getStride();e.beginPath();for(var s=0,c=i.length;s<c;++s){var l=i[s];n=this.drawRings_(r,n,l,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var u=t.getFlatInteriorPoints();this.drawText_(u,0,u.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,r=this.contextFillState_;r?r.fillStyle!=t.fillStyle&&(r.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,r=this.contextStrokeState_;r?(r.lineCap!=t.lineCap&&(r.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(Object(i.b)(r.lineDash,t.lineDash)||e.setLineDash(r.lineDash=t.lineDash),r.lineDashOffset!=t.lineDashOffset&&(r.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),r.lineJoin!=t.lineJoin&&(r.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),r.lineWidth!=t.lineWidth&&(r.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),r.miterLimit!=t.miterLimit&&(r.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),r.strokeStyle!=t.strokeStyle&&(r.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,r=this.contextTextState_,n=t.textAlign?t.textAlign:h.m;r?(r.font!=t.font&&(r.font=t.font,e.font=t.font),r.textAlign!=n&&(r.textAlign=n,e.textAlign=n),r.textBaseline!=t.textBaseline&&(r.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=n,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:n,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var r=t.getColor();this.fillState_={fillStyle:Object(o.a)(r||h.c)}}else this.fillState_=null;if(e){var n=e.getColor(),i=e.getLineCap(),a=e.getLineDash(),s=e.getLineDashOffset(),c=e.getLineJoin(),l=e.getWidth(),u=e.getMiterLimit();this.strokeState_={lineCap:void 0!==i?i:h.e,lineDash:a||h.f,lineDashOffset:s||h.g,lineJoin:void 0!==c?c:h.h,lineWidth:this.pixelRatio_*(void 0!==l?l:h.i),miterLimit:void 0!==u?u:h.j,strokeStyle:Object(o.a)(n||h.l)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),r=t.getImage(1),n=t.getOrigin(),i=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=i[1],this.image_=r,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=n[0],this.imageOriginY_=n[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=i[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var r=e.getColor();this.textFillState_={fillStyle:Object(o.a)(r||h.c)}}else this.textFillState_=null;var n=t.getStroke();if(n){var i=n.getColor(),a=n.getLineCap(),s=n.getLineDash(),c=n.getLineDashOffset(),l=n.getLineJoin(),u=n.getWidth(),f=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==a?a:h.e,lineDash:s||h.f,lineDashOffset:c||h.g,lineJoin:void 0!==l?l:h.h,lineWidth:void 0!==u?u:h.i,miterLimit:void 0!==f?f:h.j,strokeStyle:Object(o.a)(i||h.l)}}else this.textStrokeState_=null;var p=t.getFont(),d=t.getOffsetX(),m=t.getOffsetY(),y=t.getRotateWithView(),g=t.getRotation(),_=t.getScale(),b=t.getText(),v=t.getTextAlign(),O=t.getTextBaseline();this.textState_={font:void 0!==p?p:h.d,textAlign:void 0!==v?v:h.m,textBaseline:void 0!==O?O:h.n},this.text_=void 0!==b?b:"",this.textOffsetX_=void 0!==d?this.pixelRatio_*d:0,this.textOffsetY_=void 0!==m?this.pixelRatio_*m:0,this.textRotateWithView_=void 0!==y&&y,this.textRotation_=void 0!==g?g:0,this.textScale_=this.pixelRatio_*(void 0!==_?_:1)}else this.text_=""},e}(u.a);e.a=d},function(t,e,r){"use strict";var n=function(){function t(){}return t.prototype.drawCustom=function(t,e,r){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}();e.a=n},function(t,e,r){"use strict";var n,i=r(236),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(t){function e(e,r,n,i,o){var a=t.call(this,e,r,o)||this;return a.originalEvent=n,a.pixel_=null,a.coordinate_=null,a.dragging=void 0!==i&&i,a}return o(e,t),Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!0,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(i.a);e.a=a},function(t,e,r){"use strict";var n,i=r(19),o=r(25),a=r(40),s=r(230),c=r(101),l=r(30),u=r(54),h=r(62),f=r(59),p=r(28),d=r(26),m=r(15),y=r(4),g=r(8),_=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),b=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this)||this).dataProjection=Object(y.j)(n.dataProjection?n.dataProjection:"EPSG:4326"),n.featureProjection&&(r.defaultFeatureProjection=Object(y.j)(n.featureProjection)),r.geometryName_=n.geometryName,r.extractGeometryName_=n.extractGeometryName,r}return _(e,t),e.prototype.readFeatureFromObject=function(t,e){var r=null,n=v((r="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null}).geometry,e),i=new o.a;return this.geometryName_?i.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in r!==void 0&&i.setGeometryName(r.geometry_name),i.setGeometry(n),"id"in r&&i.setId(r.id),r.properties&&i.setProperties(r.properties,!0),i},e.prototype.readFeaturesFromObject=function(t,e){var r=null;if("FeatureCollection"===t.type){r=[];for(var n=t.features,i=0,o=n.length;i<o;++i)r.push(this.readFeatureFromObject(n[i],e))}else r=[this.readFeatureFromObject(t,e)];return r},e.prototype.readGeometryFromObject=function(t,e){return v(t,e)},e.prototype.readProjectionFromObject=function(t){var e,r=t.crs;return r?"name"==r.type?e=Object(y.j)(r.properties.name):"EPSG"===r.type?e=Object(y.j)("EPSG:"+r.properties.code):Object(i.a)(!1,36):e=this.dataProjection,e},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var r={type:"Feature",geometry:null,properties:null},n=t.getId();void 0!==n&&(r.id=n);var i=t.getGeometry();i&&(r.geometry=O(i,e));var o=t.getProperties();return delete o[t.getGeometryName()],Object(m.d)(o)||(r.properties=o),r},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var r=[],n=0,i=t.length;n<i;++n)r.push(this.writeFeatureObject(t[n],e));return{type:"FeatureCollection",features:r}},e.prototype.writeGeometryObject=function(t,e){return O(t,this.adaptOptions(e))},e}(s.a);function v(t,e){if(!t)return null;var r;switch(t.type){case g.a.POINT:r=function(t){return new p.a(t.coordinates)}(t);break;case g.a.LINE_STRING:r=function(t){return new l.a(t.coordinates)}(t);break;case g.a.POLYGON:r=function(t){return new d.b(t.coordinates)}(t);break;case g.a.MULTI_POINT:r=function(t){return new h.a(t.coordinates)}(t);break;case g.a.MULTI_LINE_STRING:r=function(t){return new u.a(t.coordinates)}(t);break;case g.a.MULTI_POLYGON:r=function(t){return new f.a(t.coordinates)}(t);break;case g.a.GEOMETRY_COLLECTION:r=function(t,e){var r=t.geometries.map((function(t){return v(t,e)}));return new c.a(r)}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return Object(a.c)(r,!1,e)}function O(t,e){var r,n=(t=Object(a.c)(t,!0,e)).getType();switch(n){case g.a.POINT:r=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case g.a.LINE_STRING:r=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case g.a.POLYGON:r=function(t,e){var r;e&&(r=e.rightHanded);return{type:"Polygon",coordinates:t.getCoordinates(r)}}(t,e);break;case g.a.MULTI_POINT:r=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case g.a.MULTI_LINE_STRING:r=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case g.a.MULTI_POLYGON:r=function(t,e){var r;e&&(r=e.rightHanded);return{type:"MultiPolygon",coordinates:t.getCoordinates(r)}}(t,e);break;case g.a.GEOMETRY_COLLECTION:r=function(t,e){return{type:"GeometryCollection",geometries:t.getGeometriesArray().map((function(t){var r=Object(m.a)({},e);return delete r.featureProjection,O(t,r)}))}}(t,e);break;case g.a.CIRCLE:r={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+n)}return r}e.a=b},function(t,e,r){"use strict";var n,i=r(174),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(t){function e(e,r,n,i){var o=t.call(this,e)||this;return o.geometryName=r||"the_geom",o.geometry=n,o.srsName=i,o}return o(e,t),e}(i.a);e.a=a},function(t,e,r){"use strict";var n=r(25),i=r(13),o=r(19),a=r(53),s=r(40),c=r(145),l=r(7),u=r(101),h=r(21),f=r(8),p=r(30),d=r(54),m=r(62),y=r(59),g=r(28),_=r(26),b=r(14),v=r(4),O=r(43),w=r(66),M=r(79),E=r(80),x=r(44),S=r(41),j=r(90),P=r(1);function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var I,L,R,C,A,k,N,D,F=(I=function(t,e){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}I(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),B=["http://www.google.com/kml/ext/2.2"],U=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],G={fraction:M.c.FRACTION,pixels:M.c.PIXELS,insetPixels:M.c.PIXELS},z=Object(P.r)(U,{ExtendedData:kt,Region:Nt,MultiGeometry:Object(P.n)(St,"geometry"),LineString:Object(P.n)(Mt,"geometry"),LinearRing:Object(P.n)(Et,"geometry"),Point:Object(P.n)(jt,"geometry"),Polygon:Object(P.n)(Tt,"geometry"),Style:Object(P.n)(Lt),StyleMap:function(t,e){var r=lt.call(this,t,e);if(!r)return;var n=e[e.length-1];Array.isArray(r)?n.Style=r:"string"==typeof r?n.styleUrl=r:Object(o.a)(!1,38)},address:Object(P.n)(l.h),description:Object(P.n)(l.h),name:Object(P.n)(l.h),open:Object(P.n)(l.a),phoneNumber:Object(P.n)(l.h),styleUrl:Object(P.n)(at),visibility:Object(P.n)(l.a)},Object(P.r)(B,{MultiTrack:Object(P.n)((function(t,e){var r=Object(P.u)([],yt,t,e);if(!r)return;return new d.a(r)}),"geometry"),Track:Object(P.n)(_t,"geometry")})),W=Object(P.r)(U,{ExtendedData:kt,Region:Nt,Link:function(t,e){Object(P.t)(X,t,e)},address:Object(P.n)(l.h),description:Object(P.n)(l.h),name:Object(P.n)(l.h),open:Object(P.n)(l.a),phoneNumber:Object(P.n)(l.h),visibility:Object(P.n)(l.a)}),X=Object(P.r)(U,{href:Object(P.n)(at)}),q=Object(P.r)(U,{LatLonAltBox:function(t,e){var r=Object(P.u)({},Bt,t,e);if(!r)return;var n=e[e.length-1],i=[parseFloat(r.west),parseFloat(r.south),parseFloat(r.east),parseFloat(r.north)];n.extent=i,n.altitudeMode=r.altitudeMode,n.minAltitude=parseFloat(r.minAltitude),n.maxAltitude=parseFloat(r.maxAltitude)},Lod:function(t,e){var r=Object(P.u)({},Ut,t,e);if(!r)return;var n=e[e.length-1];n.minLodPixels=parseFloat(r.minLodPixels),n.maxLodPixels=parseFloat(r.maxLodPixels),n.minFadeExtent=parseFloat(r.minFadeExtent),n.maxFadeExtent=parseFloat(r.maxFadeExtent)}}),V=Object(P.r)(U,["Document","Placemark"]),Y=Object(P.r)(U,{Document:Object(P.l)((function(t,e,r){var n={node:t};Object(P.v)(n,qt,Vt,e,r,void 0,this)})),Placemark:Object(P.l)(ye)}),Z=null;var K,H=null;var J,Q=null;var $=null;var tt=null;var et,rt=null;var nt=function(t){function e(e){var r=t.call(this)||this,n=e||{};return rt||(L=[255,255,255,1],Z=new O.a({color:L}),R=[20,2],C=M.c.PIXELS,A=M.c.PIXELS,k=[64,64],N="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",D=.5,H=new w.a({anchor:R,anchorOrigin:E.e.BOTTOM_LEFT,anchorXUnits:C,anchorYUnits:A,crossOrigin:"anonymous",rotation:0,scale:D,size:k,src:N}),K="NO_IMAGE",Q=new x.a({color:L,width:1}),J=new x.a({color:[51,51,51,1],width:2}),$=new j.a({font:"bold 16px Helvetica",fill:Z,stroke:J,scale:.8}),tt=new S.c({fill:Z,image:H,text:$,stroke:Q,zIndex:0}),rt=[tt]),r.dataProjection=Object(v.j)("EPSG:4326"),r.defaultStyle_=n.defaultStyle?n.defaultStyle:rt,r.extractStyles_=void 0===n.extractStyles||n.extractStyles,r.writeStyles_=void 0===n.writeStyles||n.writeStyles,r.sharedStyles_={},r.showPointNames_=void 0===n.showPointNames||n.showPointNames,r.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:"anonymous",r}return F(e,t),e.prototype.readDocumentOrFolder_=function(t,e){var r=Object(P.r)(U,{Document:Object(P.i)(this.readDocumentOrFolder_,this),Folder:Object(P.i)(this.readDocumentOrFolder_,this),Placemark:Object(P.j)(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),n=Object(P.u)([],r,t,e,this);return n||void 0},e.prototype.readPlacemark_=function(t,e){var r=Object(P.u)({geometry:null},z,t,e,this);if(r){var i=new n.a,o=t.getAttribute("id");null!==o&&i.setId(o);var a=e[0],c=r.geometry;if(c&&Object(s.c)(c,!1,a),i.setGeometry(c),delete r.geometry,this.extractStyles_){var l=function(t,e,r,n,i){return function(o,a){var s=i,c="",l=[];if(s){var h=o.getGeometry();if(h){var p=h.getType();s=p===f.a.GEOMETRY_COLLECTION?(l=h.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e===f.a.POINT||e===f.a.MULTI_POINT}))).length>0:p===f.a.POINT||p===f.a.MULTI_POINT}}s&&(c=o.get("name"),(s=s&&!!c)&&c.search(/&[^&]+;/)>-1&&(et||(et=document.createElement("textarea")),et.innerHTML=c,c=et.value));var d=r;if(t?d=t:e&&(d=function t(e,r,n){return Array.isArray(e)?e:"string"==typeof e?(!(e in n)&&"#"+e in n&&(e="#"+e),t(n[e],r,n)):r}(e,r,n)),s){var m=function(t,e){var r=[0,0],n="start",i=t.getImage();if(i){var o=i.getImageSize();if(null===o&&(o=k),2==o.length){var a=i.getScale();r[0]=a*o[0]/2,r[1]=-a*o[1]/2,n="left"}}var s=t.getText();s?((s=s.clone()).setFont(s.getFont()||$.getFont()),s.setScale(s.getScale()||$.getScale()),s.setFill(s.getFill()||$.getFill()),s.setStroke(s.getStroke()||J)):s=$.clone();return s.setText(e),s.setOffsetX(r[0]),s.setOffsetY(r[1]),s.setTextAlign(n),new S.c({image:i,text:s})}(d[0],c);return l.length>0?(m.setGeometry(new u.a(l)),[m,new S.c({geometry:d[0].getGeometry(),image:null,fill:d[0].getFill(),stroke:d[0].getStroke(),text:null})].concat(d.slice(1))):m}return d}}(r.Style,r.styleUrl,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);i.setStyle(l)}return delete r.Style,i.setProperties(r,!0),i}},e.prototype.readSharedStyle_=function(t,e){var r=t.getAttribute("id");if(null!==r){var n=Lt.call(this,t,e);if(n){var i=void 0,o=t.baseURI;if(o&&"about:blank"!=o||(o=window.location.href),o)i=new URL("#"+r,o).href;else i="#"+r;this.sharedStyles_[i]=n}}},e.prototype.readSharedStyleMap_=function(t,e){var r=t.getAttribute("id");if(null!==r){var n=lt.call(this,t,e);if(n){var i,o=t.baseURI;if(o&&"about:blank"!=o||(o=window.location.href),o)i=new URL("#"+r,o).href;else i="#"+r;this.sharedStyles_[i]=n}}},e.prototype.readFeatureFromNode=function(t,e){if(!Object(i.f)(U,t.namespaceURI))return null;var r=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return r||null},e.prototype.readFeaturesFromNode=function(t,e){if(!Object(i.f)(U,t.namespaceURI))return[];var r,n=t.localName;if("Document"==n||"Folder"==n)return(r=this.readDocumentOrFolder_(t,[this.getReadOptions(t,e)]))||[];if("Placemark"==n){var o=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return o?[o]:[]}if("kml"==n){r=[];for(var a=t.firstElementChild;a;a=a.nextElementSibling){var s=this.readFeaturesFromNode(a,e);s&&Object(i.c)(r,s)}return r}return[]},e.prototype.readName=function(t){if(t){if("string"==typeof t){var e=Object(P.s)(t);return this.readNameFromDocument(e)}return Object(P.h)(t)?this.readNameFromDocument(t):this.readNameFromNode(t)}},e.prototype.readNameFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE){var r=this.readNameFromNode(e);if(r)return r}},e.prototype.readNameFromNode=function(t){for(var e=t.firstElementChild;e;e=e.nextElementSibling)if(Object(i.f)(U,e.namespaceURI)&&"name"==e.localName)return Object(l.h)(e);for(e=t.firstElementChild;e;e=e.nextElementSibling){var r=e.localName;if(Object(i.f)(U,e.namespaceURI)&&("Document"==r||"Folder"==r||"Placemark"==r||"kml"==r)){var n=this.readNameFromNode(e);if(n)return n}}},e.prototype.readNetworkLinks=function(t){var e=[];if("string"==typeof t){var r=Object(P.s)(t);Object(i.c)(e,this.readNetworkLinksFromDocument(r))}else Object(P.h)(t)?Object(i.c)(e,this.readNetworkLinksFromDocument(t)):Object(i.c)(e,this.readNetworkLinksFromNode(t));return e},e.prototype.readNetworkLinksFromDocument=function(t){for(var e=[],r=t.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&Object(i.c)(e,this.readNetworkLinksFromNode(r));return e},e.prototype.readNetworkLinksFromNode=function(t){for(var e=[],r=t.firstElementChild;r;r=r.nextElementSibling)if(Object(i.f)(U,r.namespaceURI)&&"NetworkLink"==r.localName){var n=Object(P.u)({},W,r,[]);e.push(n)}for(r=t.firstElementChild;r;r=r.nextElementSibling){var o=r.localName;!Object(i.f)(U,r.namespaceURI)||"Document"!=o&&"Folder"!=o&&"kml"!=o||Object(i.c)(e,this.readNetworkLinksFromNode(r))}return e},e.prototype.readRegion=function(t){var e=[];if("string"==typeof t){var r=Object(P.s)(t);Object(i.c)(e,this.readRegionFromDocument(r))}else Object(P.h)(t)?Object(i.c)(e,this.readRegionFromDocument(t)):Object(i.c)(e,this.readRegionFromNode(t));return e},e.prototype.readRegionFromDocument=function(t){for(var e=[],r=t.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&Object(i.c)(e,this.readRegionFromNode(r));return e},e.prototype.readRegionFromNode=function(t){for(var e=[],r=t.firstElementChild;r;r=r.nextElementSibling)if(Object(i.f)(U,r.namespaceURI)&&"Region"==r.localName){var n=Object(P.u)({},q,r,[]);e.push(n)}for(r=t.firstElementChild;r;r=r.nextElementSibling){var o=r.localName;!Object(i.f)(U,r.namespaceURI)||"Document"!=o&&"Folder"!=o&&"kml"!=o||Object(i.c)(e,this.readRegionFromNode(r))}return e},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var r=Object(P.c)(U[4],"kml"),n="http://www.w3.org/2000/xmlns/";r.setAttributeNS(n,"xmlns:gx",B[0]),r.setAttributeNS(n,"xmlns:xsi",P.b),r.setAttributeNS(P.b,"xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var i={node:r},o={};t.length>1?o.Document=t:1==t.length&&(o.Placemark=t[0]);var a=V[r.namespaceURI],s=Object(P.p)(o,a);return Object(P.v)(i,Y,P.a,s,[e],a,this),r},e}(c.a);function it(t){var e=Object(P.d)(t,!1),r=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(e);if(r){var n=r[1];return[parseInt(n.substr(6,2),16),parseInt(n.substr(4,2),16),parseInt(n.substr(2,2),16),parseInt(n.substr(0,2),16)/255]}}function ot(t){for(var e,r=Object(P.d)(t,!1),n=[],i=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;e=i.exec(r);){var o=parseFloat(e[1]),a=parseFloat(e[2]),s=e[3]?parseFloat(e[3]):0;n.push(o,a,s),r=r.substr(e[0].length)}if(""===r)return n}function at(t){var e=Object(P.d)(t,!1).trim(),r=t.baseURI;return r&&"about:blank"!=r||(r=window.location.href),r?new URL(e,r).href:e}function st(t){return Object(l.d)(t)}var ct=Object(P.r)(U,{Pair:function(t,e){var r=Object(P.u)({},Dt,t,e,this);if(!r)return;var n=r.key;if(n&&"normal"==n){var i=r.styleUrl;i&&(e[e.length-1]=i);var o=r.Style;o&&(e[e.length-1]=o)}}});function lt(t,e){return Object(P.u)(void 0,ct,t,e,this)}var ut=Object(P.r)(U,{Icon:Object(P.n)((function(t,e){var r=Object(P.u)({},bt,t,e);return r||null})),color:Object(P.n)(it),heading:Object(P.n)(l.d),hotSpot:Object(P.n)((function(t){var e,r=t.getAttribute("xunits"),n=t.getAttribute("yunits");return e="insetPixels"!==r?"insetPixels"!==n?E.e.BOTTOM_LEFT:E.e.TOP_LEFT:"insetPixels"!==n?E.e.BOTTOM_RIGHT:E.e.TOP_RIGHT,{x:parseFloat(t.getAttribute("x")),xunits:G[r],y:parseFloat(t.getAttribute("y")),yunits:G[n],origin:e}})),scale:Object(P.n)(st)});var ht=Object(P.r)(U,{color:Object(P.n)(it),scale:Object(P.n)(st)});var ft=Object(P.r)(U,{color:Object(P.n)(it),width:Object(P.n)(l.d)});var pt=Object(P.r)(U,{color:Object(P.n)(it),fill:Object(P.n)(l.a),outline:Object(P.n)(l.a)});var dt=Object(P.r)(U,{coordinates:Object(P.o)(ot)});function mt(t,e){return Object(P.u)(null,dt,t,e)}var yt=Object(P.r)(B,{Track:Object(P.j)(_t)});var gt=Object(P.r)(U,{when:function(t,e){var r=e[e.length-1].whens,n=Object(P.d)(t,!1),i=Date.parse(n);r.push(isNaN(i)?0:i)}},Object(P.r)(B,{coord:function(t,e){var r=e[e.length-1].flatCoordinates,n=Object(P.d)(t,!1),i=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(n);if(i){var o=parseFloat(i[1]),a=parseFloat(i[2]),s=parseFloat(i[3]);r.push(o,a,s,0)}else r.push(0,0,0,0)}}));function _t(t,e){var r=Object(P.u)({flatCoordinates:[],whens:[]},gt,t,e);if(r){for(var n=r.flatCoordinates,i=r.whens,o=0,a=Math.min(n.length,i.length);o<a;++o)n[4*o+3]=i[o];return new p.a(n,h.a.XYZM)}}var bt=Object(P.r)(U,{href:Object(P.n)(at)},Object(P.r)(B,{x:Object(P.n)(l.d),y:Object(P.n)(l.d),w:Object(P.n)(l.d),h:Object(P.n)(l.d)}));var vt=Object(P.r)(U,{coordinates:Object(P.o)(ot)});function Ot(t,e){return Object(P.u)(null,vt,t,e)}var wt=Object(P.r)(U,{extrude:Object(P.n)(l.a),tessellate:Object(P.n)(l.a),altitudeMode:Object(P.n)(l.h)});function Mt(t,e){var r=Object(P.u)({},wt,t,e),n=Ot(t,e);if(n){var i=new p.a(n,h.a.XYZ);return i.setProperties(r,!0),i}}function Et(t,e){var r=Object(P.u)({},wt,t,e),n=Ot(t,e);if(n){var i=new _.b(n,h.a.XYZ,[n.length]);return i.setProperties(r,!0),i}}var xt=Object(P.r)(U,{LineString:Object(P.j)(Mt),LinearRing:Object(P.j)(Et),MultiGeometry:Object(P.j)(St),Point:Object(P.j)(jt),Polygon:Object(P.j)(Tt)});function St(t,e){var r,n=Object(P.u)([],xt,t,e);if(!n)return null;if(0===n.length)return new u.a(n);for(var a,s=!0,c=n[0].getType(),l=1,h=n.length;l<h;++l)if((a=n[l]).getType()!=c){s=!1;break}if(s){var p=void 0,g=void 0;if(c==f.a.POINT){var _=n[0];p=_.getLayout(),g=_.getFlatCoordinates();for(l=1,h=n.length;l<h;++l)a=n[l],Object(i.c)(g,a.getFlatCoordinates());Rt(r=new m.a(g,p),n)}else c==f.a.LINE_STRING?Rt(r=new d.a(n),n):c==f.a.POLYGON?Rt(r=new y.a(n),n):c==f.a.GEOMETRY_COLLECTION?r=new u.a(n):Object(o.a)(!1,37)}else r=new u.a(n);return r}function jt(t,e){var r=Object(P.u)({},wt,t,e),n=Ot(t,e);if(n){var i=new g.a(n,h.a.XYZ);return i.setProperties(r,!0),i}}var Pt=Object(P.r)(U,{innerBoundaryIs:function(t,e){var r=Object(P.u)(void 0,Gt,t,e);if(r){e[e.length-1].push(r)}},outerBoundaryIs:function(t,e){var r=Object(P.u)(void 0,zt,t,e);if(r){e[e.length-1][0]=r}}});function Tt(t,e){var r=Object(P.u)({},wt,t,e),n=Object(P.u)([null],Pt,t,e);if(n&&n[0]){for(var o=n[0],a=[o.length],s=1,c=n.length;s<c;++s)Object(i.c)(o,n[s]),a.push(o.length);var l=new _.b(o,h.a.XYZ,a);return l.setProperties(r,!0),l}}var It=Object(P.r)(U,{IconStyle:function(t,e){var r=Object(P.u)({},ut,t,e);if(r){var n,i,o,a,s=e[e.length-1],c="Icon"in r?r.Icon:{},l=!("Icon"in r)||Object.keys(c).length>0,u=c.href;u?n=u:l&&(n=N);var h,f=E.e.BOTTOM_LEFT,p=r.hotSpot;p?(i=[p.x,p.y],o=p.xunits,a=p.yunits,f=p.origin):n===N?(i=R,o=C,a=A):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(n)&&(i=[.5,0],o=M.c.FRACTION,a=M.c.FRACTION);var d,m=c.x,y=c.y;void 0!==m&&void 0!==y&&(h=[m,y]);var g,_=c.w,v=c.h;void 0!==_&&void 0!==v&&(d=[_,v]);var O=r.heading;void 0!==O&&(g=Object(b.i)(O));var x=r.scale,S=r.color;if(l){n==N&&(d=k,void 0===x&&(x=D));var j=new w.a({anchor:i,anchorOrigin:f,anchorXUnits:o,anchorYUnits:a,crossOrigin:this.crossOrigin_,offset:h,offsetOrigin:E.e.BOTTOM_LEFT,rotation:g,scale:x,size:d,src:n,color:S});s.imageStyle=j}else s.imageStyle=K}},LabelStyle:function(t,e){var r=Object(P.u)({},ht,t,e);if(r){var n=e[e.length-1],i=new j.a({fill:new O.a({color:"color"in r?r.color:L}),scale:r.scale});n.textStyle=i}},LineStyle:function(t,e){var r=Object(P.u)({},ft,t,e);if(r){var n=e[e.length-1],i=new x.a({color:"color"in r?r.color:L,width:"width"in r?r.width:1});n.strokeStyle=i}},PolyStyle:function(t,e){var r=Object(P.u)({},pt,t,e);if(r){var n=e[e.length-1],i=new O.a({color:"color"in r?r.color:L});n.fillStyle=i;var o=r.fill;void 0!==o&&(n.fill=o);var a=r.outline;void 0!==a&&(n.outline=a)}}});function Lt(t,e){var r=Object(P.u)({},It,t,e,this);if(!r)return null;var n,i="fillStyle"in r?r.fillStyle:Z,o=r.fill;void 0===o||o||(i=null),"imageStyle"in r?r.imageStyle!=K&&(n=r.imageStyle):n=H;var a="textStyle"in r?r.textStyle:$,s="strokeStyle"in r?r.strokeStyle:Q,c=r.outline;return void 0===c||c?[new S.c({fill:i,image:n,stroke:s,text:a,zIndex:void 0})]:[new S.c({geometry:function(t){var e=t.getGeometry(),r=e.getType();return r===f.a.GEOMETRY_COLLECTION?new u.a(e.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e!==f.a.POLYGON&&e!==f.a.MULTI_POLYGON}))):r!==f.a.POLYGON&&r!==f.a.MULTI_POLYGON?e:void 0},fill:i,image:n,stroke:s,text:a,zIndex:void 0}),new S.c({geometry:function(t){var e=t.getGeometry(),r=e.getType();return r===f.a.GEOMETRY_COLLECTION?new u.a(e.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e===f.a.POLYGON||e===f.a.MULTI_POLYGON}))):r===f.a.POLYGON||r===f.a.MULTI_POLYGON?e:void 0},fill:i,stroke:null,zIndex:void 0})]}function Rt(t,e){var r,n,i,o=e.length,a=new Array(e.length),s=new Array(e.length),c=new Array(e.length);r=!1,n=!1,i=!1;for(var l=0;l<o;++l){var u=e[l];a[l]=u.get("extrude"),s[l]=u.get("tessellate"),c[l]=u.get("altitudeMode"),r=r||void 0!==a[l],n=n||void 0!==s[l],i=i||c[l]}r&&t.set("extrude",a),n&&t.set("tessellate",s),i&&t.set("altitudeMode",c)}var Ct=Object(P.r)(U,{displayName:Object(P.n)(l.h),value:Object(P.n)(l.h)});var At=Object(P.r)(U,{Data:function(t,e){var r=t.getAttribute("name");Object(P.t)(Ct,t,e);var n=e[e.length-1];r&&n.displayName?n[r]={value:n.value,displayName:n.displayName,toString:function(){return n.value}}:null!==r?n[r]=n.value:null!==n.displayName&&(n[n.displayName]=n.value),delete n.value},SchemaData:function(t,e){Object(P.t)(Ft,t,e)}});function kt(t,e){Object(P.t)(At,t,e)}function Nt(t,e){Object(P.t)(q,t,e)}var Dt=Object(P.r)(U,{Style:Object(P.n)(Lt),key:Object(P.n)(l.h),styleUrl:Object(P.n)(at)});var Ft=Object(P.r)(U,{SimpleData:function(t,e){var r=t.getAttribute("name");if(null!==r){var n=Object(l.h)(t);e[e.length-1][r]=n}}});var Bt=Object(P.r)(U,{altitudeMode:Object(P.n)(l.h),minAltitude:Object(P.n)(l.d),maxAltitude:Object(P.n)(l.d),north:Object(P.n)(l.d),south:Object(P.n)(l.d),east:Object(P.n)(l.d),west:Object(P.n)(l.d)});var Ut=Object(P.r)(U,{minLodPixels:Object(P.n)(l.d),maxLodPixels:Object(P.n)(l.d),minFadeExtent:Object(P.n)(l.d),maxFadeExtent:Object(P.n)(l.d)});var Gt=Object(P.r)(U,{LinearRing:Object(P.o)(mt)});var zt=Object(P.r)(U,{LinearRing:Object(P.o)(mt)});function Wt(t,e){for(var r=Object(a.a)(e),n=[255*(4==r.length?r[3]:1),r[2],r[1],r[0]],i=0;i<4;++i){var o=Math.floor(n[i]).toString(16);n[i]=1==o.length?"0"+o:o}Object(l.n)(t,n.join(""))}var Xt=Object(P.r)(U,{Data:Object(P.l)((function(t,e,r){t.setAttribute("name",e.name);var n={node:t},i=e.value;"object"==T(i)?(null!==i&&i.displayName&&Object(P.v)(n,Xt,P.a,[i.displayName],r,["displayName"]),null!==i&&i.value&&Object(P.v)(n,Xt,P.a,[i.value],r,["value"])):Object(P.v)(n,Xt,P.a,[i],r,["value"])})),value:Object(P.l)((function(t,e){Object(l.n)(t,e)})),displayName:Object(P.l)((function(t,e){Object(l.j)(t,e)}))});var qt=Object(P.r)(U,{Placemark:Object(P.l)(ye)}),Vt=function(t,e,r){var n=e[e.length-1].node;return Object(P.c)(n.namespaceURI,"Placemark")};var Yt=Object(P.q)("Data");var Zt=Object(P.r)(U,["href"],Object(P.r)(B,["x","y","w","h"])),Kt=Object(P.r)(U,{href:Object(P.l)(l.n)},Object(P.r)(B,{x:Object(P.l)(l.l),y:Object(P.l)(l.l),w:Object(P.l)(l.l),h:Object(P.l)(l.l)})),Ht=function(t,e,r){return Object(P.c)(B[0],"gx:"+r)};var Jt=Object(P.r)(U,["scale","heading","Icon","color","hotSpot"]),Qt=Object(P.r)(U,{Icon:Object(P.l)((function(t,e,r){var n={node:t},i=r[r.length-1].node,o=Zt[i.namespaceURI],a=Object(P.p)(e,o);Object(P.v)(n,Kt,P.a,a,r,o),o=Zt[B[0]],a=Object(P.p)(e,o),Object(P.v)(n,Kt,Ht,a,r,o)})),color:Object(P.l)(Wt),heading:Object(P.l)(l.l),hotSpot:Object(P.l)((function(t,e){t.setAttribute("x",String(e.x)),t.setAttribute("y",String(e.y)),t.setAttribute("xunits",e.xunits),t.setAttribute("yunits",e.yunits)})),scale:Object(P.l)(Se)});var $t=Object(P.r)(U,["color","scale"]),te=Object(P.r)(U,{color:Object(P.l)(Wt),scale:Object(P.l)(Se)});var ee=Object(P.r)(U,["color","width"]),re=Object(P.r)(U,{color:Object(P.l)(Wt),width:Object(P.l)(l.l)});var ne={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},ie=function(t,e,r){if(t){var n=e[e.length-1].node;return Object(P.c)(n.namespaceURI,ne[t.getType()])}},oe=Object(P.q)("Point"),ae=Object(P.q)("LineString"),se=Object(P.q)("LinearRing"),ce=Object(P.q)("Polygon"),le=Object(P.r)(U,{LineString:Object(P.l)(be),Point:Object(P.l)(be),Polygon:Object(P.l)(Ee),GeometryCollection:Object(P.l)(ue)});function ue(t,e,r){var n,i={node:t},a=e.getType(),s=[];a===f.a.GEOMETRY_COLLECTION?(e.getGeometriesArrayRecursive().forEach((function(t){var e=t.getType();e===f.a.MULTI_POINT?s=s.concat(t.getPoints()):e===f.a.MULTI_LINE_STRING?s=s.concat(t.getLineStrings()):e===f.a.MULTI_POLYGON?s=s.concat(t.getPolygons()):e===f.a.POINT||e===f.a.LINE_STRING||e===f.a.POLYGON?s.push(t):Object(o.a)(!1,39)})),n=ie):a===f.a.MULTI_POINT?(s=e.getPoints(),n=oe):a===f.a.MULTI_LINE_STRING?(s=e.getLineStrings(),n=ae):a===f.a.MULTI_POLYGON?(s=e.getPolygons(),n=ce):Object(o.a)(!1,39),Object(P.v)(i,le,n,s,r)}var he=Object(P.r)(U,{LinearRing:Object(P.l)(be)});function fe(t,e,r){var n={node:t};Object(P.v)(n,he,se,[e],r)}var pe=Object(P.r)(U,{ExtendedData:Object(P.l)((function(t,e,r){for(var n={node:t},i=e.names,o=e.values,a=i.length,s=0;s<a;s++)Object(P.v)(n,Xt,Yt,[{name:i[s],value:o[s]}],r)})),MultiGeometry:Object(P.l)(ue),LineString:Object(P.l)(be),LinearRing:Object(P.l)(be),Point:Object(P.l)(be),Polygon:Object(P.l)(Ee),Style:Object(P.l)((function(t,e,r){var n={node:t},i={};if(e.pointStyles.length){var o=e.pointStyles[0].getText();o&&(i.LabelStyle=o);var a=e.pointStyles[0].getImage();a&&"function"==typeof a.getSrc&&(i.IconStyle=a)}if(e.lineStyles.length){(s=e.lineStyles[0].getStroke())&&(i.LineStyle=s)}if(e.polyStyles.length){var s;(s=e.polyStyles[0].getStroke())&&!i.LineStyle&&(i.LineStyle=s),i.PolyStyle=e.polyStyles[0]}var c=r[r.length-1].node,l=je[c.namespaceURI],u=Object(P.p)(i,l);Object(P.v)(n,Pe,P.a,u,r,l)})),address:Object(P.l)(l.n),description:Object(P.l)(l.n),name:Object(P.l)(l.n),open:Object(P.l)(l.i),phoneNumber:Object(P.l)(l.n),styleUrl:Object(P.l)(l.n),visibility:Object(P.l)(l.i)}),de=Object(P.r)(U,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),me=Object(P.q)("ExtendedData");function ye(t,e,r){var n={node:t};e.getId()&&t.setAttribute("id",e.getId());var i=e.getProperties(),o={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};o[e.getGeometryName()]=1;var a=Object.keys(i||{}).sort().filter((function(t){return!o[t]})),c=e.getStyleFunction();if(c){var l=c(e,0);if(l){var u=Array.isArray(l)?l:[l],h=u;if(e.getGeometry()&&(h=u.filter((function(t){var r=t.getGeometryFunction()(e);if(r){var n=r.getType();return n===f.a.GEOMETRY_COLLECTION?r.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e===f.a.POINT||e===f.a.MULTI_POINT})).length:n===f.a.POINT||n===f.a.MULTI_POINT}}))),this.writeStyles_){var p=u,d=u;e.getGeometry()&&(p=u.filter((function(t){var r=t.getGeometryFunction()(e);if(r){var n=r.getType();return n===f.a.GEOMETRY_COLLECTION?r.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e===f.a.LINE_STRING||e===f.a.MULTI_LINE_STRING})).length:n===f.a.LINE_STRING||n===f.a.MULTI_LINE_STRING}})),d=u.filter((function(t){var r=t.getGeometryFunction()(e);if(r){var n=r.getType();return n===f.a.GEOMETRY_COLLECTION?r.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e===f.a.POLYGON||e===f.a.MULTI_POLYGON})).length:n===f.a.POLYGON||n===f.a.MULTI_POLYGON}}))),i.Style={pointStyles:h,lineStyles:p,polyStyles:d}}if(h.length&&void 0===i.name){var m=h[0].getText();m&&(i.name=m.getText())}}}var y=r[r.length-1].node,g=de[y.namespaceURI],_=Object(P.p)(i,g);if(Object(P.v)(n,pe,P.a,_,r,g),a.length>0){var b={names:a,values:Object(P.p)(i,a)};Object(P.v)(n,pe,me,[b],r)}var v=r[0],O=e.getGeometry();O&&(O=Object(s.c)(O,!0,v)),Object(P.v)(n,pe,ie,[O],r)}var ge=Object(P.r)(U,["extrude","tessellate","altitudeMode","coordinates"]),_e=Object(P.r)(U,{extrude:Object(P.l)(l.i),tessellate:Object(P.l)(l.i),altitudeMode:Object(P.l)(l.n),coordinates:Object(P.l)((function(t,e,r){var n,i=r[r.length-1],a=i.layout,s=i.stride;a==h.a.XY||a==h.a.XYM?n=2:a==h.a.XYZ||a==h.a.XYZM?n=3:Object(o.a)(!1,34);var c=e.length,u="";if(c>0){u+=e[0];for(var f=1;f<n;++f)u+=","+e[f];for(var p=s;p<c;p+=s){u+=" "+e[p];for(f=1;f<n;++f)u+=","+e[p+f]}}Object(l.n)(t,u)}))});function be(t,e,r){var n=e.getFlatCoordinates(),i={node:t};i.layout=e.getLayout(),i.stride=e.getStride();var o=e.getProperties();o.coordinates=n;var a=r[r.length-1].node,s=ge[a.namespaceURI],c=Object(P.p)(o,s);Object(P.v)(i,_e,P.a,c,r,s)}var ve=Object(P.r)(U,["color","fill","outline"]),Oe=Object(P.r)(U,{outerBoundaryIs:Object(P.l)(fe),innerBoundaryIs:Object(P.l)(fe)}),we=Object(P.q)("innerBoundaryIs"),Me=Object(P.q)("outerBoundaryIs");function Ee(t,e,r){var n=e.getLinearRings(),i=n.shift(),o={node:t};Object(P.v)(o,Oe,we,n,r),Object(P.v)(o,Oe,Me,[i],r)}var xe=Object(P.r)(U,{color:Object(P.l)(Wt),fill:Object(P.l)(l.i),outline:Object(P.l)(l.i)});function Se(t,e){Object(l.l)(t,Math.round(1e6*e)/1e6)}var je=Object(P.r)(U,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),Pe=Object(P.r)(U,{IconStyle:Object(P.l)((function(t,e,r){var n={node:t},i={},o=e.getSrc(),a=e.getSize(),s=e.getImageSize(),c={href:o};if(a){c.w=a[0],c.h=a[1];var l=e.getAnchor(),u=e.getOrigin();if(u&&s&&0!==u[0]&&u[1]!==a[1]&&(c.x=u[0],c.y=s[1]-(u[1]+a[1])),l&&(l[0]!==a[0]/2||l[1]!==a[1]/2)){var h={x:l[0],xunits:M.c.PIXELS,y:a[1]-l[1],yunits:M.c.PIXELS};i.hotSpot=h}}i.Icon=c;var f=e.getScale();1!==f&&(i.scale=f);var p=e.getRotation();0!==p&&(i.heading=p);var d=e.getColor();d&&(i.color=d);var m=r[r.length-1].node,y=Jt[m.namespaceURI],g=Object(P.p)(i,y);Object(P.v)(n,Qt,P.a,g,r,y)})),LabelStyle:Object(P.l)((function(t,e,r){var n={node:t},i={},o=e.getFill();o&&(i.color=o.getColor());var a=e.getScale();a&&1!==a&&(i.scale=a);var s=r[r.length-1].node,c=$t[s.namespaceURI],l=Object(P.p)(i,c);Object(P.v)(n,te,P.a,l,r,c)})),LineStyle:Object(P.l)((function(t,e,r){var n={node:t},i={color:e.getColor(),width:Number(e.getWidth())||1},o=r[r.length-1].node,a=ee[o.namespaceURI],s=Object(P.p)(i,a);Object(P.v)(n,re,P.a,s,r,a)})),PolyStyle:Object(P.l)((function(t,e,r){var n={node:t},i=e.getFill(),o=e.getStroke(),a={color:i?i.getColor():void 0,fill:!!i&&void 0,outline:!!o&&void 0},s=r[r.length-1].node,c=ve[s.namespaceURI],l=Object(P.p)(a,c);Object(P.v)(n,xe,P.a,l,r,c)}))});e.a=nt},function(t,e,r){"use strict";var n=r(183),i=r(33),o=r(119),a=r(47),s=r(34),c=r(17),l=r(2);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var h,f=(h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),p="element",d="map",m="offset",y="position",g="positioning",_=function(t){function e(e){var r=t.call(this)||this;r.options=e,r.id=e.id,r.insertFirst=void 0===e.insertFirst||e.insertFirst,r.stopEvent=void 0===e.stopEvent||e.stopEvent,r.element=document.createElement("div"),r.element.className=void 0!==e.className?e.className:"ol-overlay-container "+a.d,r.element.style.position="absolute";var n=e.autoPan;return n&&"object"!==u(n)&&(n={animation:e.autoPanAnimation,margin:e.autoPanMargin}),r.autoPan=n||!1,r.rendered={transform_:"",visible:!0},r.mapPostrenderListenerKey=null,r.addEventListener(Object(i.b)(p),r.handleElementChanged),r.addEventListener(Object(i.b)(d),r.handleMapChanged),r.addEventListener(Object(i.b)(m),r.handleOffsetChanged),r.addEventListener(Object(i.b)(y),r.handlePositionChanged),r.addEventListener(Object(i.b)(g),r.handlePositioningChanged),void 0!==e.element&&r.setElement(e.element),r.setOffset(void 0!==e.offset?e.offset:[0,0]),r.setPositioning(void 0!==e.positioning?e.positioning:o.a.TOP_LEFT),void 0!==e.position&&r.setPosition(e.position),r}return f(e,t),e.prototype.getElement=function(){return this.get(p)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(d)},e.prototype.getOffset=function(){return this.get(m)},e.prototype.getPosition=function(){return this.get(y)},e.prototype.getPositioning=function(){return this.get(g)},e.prototype.handleElementChanged=function(){Object(s.d)(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Object(s.e)(this.element),Object(c.c)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=Object(c.a)(t,n.a.POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(p,t)},e.prototype.setMap=function(t){this.set(d,t)},e.prototype.setOffset=function(t){this.set(m,t)},e.prototype.setPosition=function(t){this.set(y,t)},e.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},e.prototype.panIntoView=function(t){var e=this.getMap();if(e&&e.getTargetElement()&&this.get(y)){var r=this.getRect(e.getTargetElement(),e.getSize()),n=this.getElement(),i=this.getRect(n,[Object(s.c)(n),Object(s.b)(n)]),o=void 0===t.margin?20:t.margin;if(!Object(l.h)(r,i)){var a=i[0]-r[0],c=r[2]-i[2],u=i[1]-r[1],h=r[3]-i[3],f=[0,0];if(a<0?f[0]=a-o:c<0&&(f[0]=Math.abs(c)+o),u<0?f[1]=u-o:h<0&&(f[1]=Math.abs(h)+o),0!==f[0]||0!==f[1]){var p=e.getView().getCenterInternal(),d=e.getPixelFromCoordinateInternal(p),m=[d[0]+f[0],d[1]+f[1]],g=t.animation||{};e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(m),duration:g.duration,easing:g.easing})}}}},e.prototype.getRect=function(t,e){var r=t.getBoundingClientRect(),n=r.left+window.pageXOffset,i=r.top+window.pageYOffset;return[n,i,n+e[0],i+e[1]]},e.prototype.setPositioning=function(t){this.set(g,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var r=t.getPixelFromCoordinate(e),n=t.getSize();this.updateRenderedPosition(r,n)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var r=this.element.style,n=this.getOffset(),i=this.getPositioning();this.setVisible(!0);var a=Math.round(t[0]+n[0])+"px",s=Math.round(t[1]+n[1])+"px",c="0%",l="0%";i==o.a.BOTTOM_RIGHT||i==o.a.CENTER_RIGHT||i==o.a.TOP_RIGHT?c="-100%":i!=o.a.BOTTOM_CENTER&&i!=o.a.CENTER_CENTER&&i!=o.a.TOP_CENTER||(c="-50%"),i==o.a.BOTTOM_LEFT||i==o.a.BOTTOM_CENTER||i==o.a.BOTTOM_RIGHT?l="-100%":i!=o.a.CENTER_LEFT&&i!=o.a.CENTER_CENTER&&i!=o.a.CENTER_RIGHT||(l="-50%");var u="translate("+c+", "+l+") translate("+a+", "+s+")";this.rendered.transform_!=u&&(this.rendered.transform_=u,r.transform=u,r.msTransform=u)},e.prototype.getOptions=function(){return this.options},e}(i.a);e.a=_},function(t,e,r){"use strict";var n,i=r(10),o=r(57),a=r(2),s=r(29),c=r(4),l=r(424),u=r(307),h=r(274),f=r(164),p=r(18),d=r(297),m=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),y=function(t){function e(e){var r=t.call(this,e)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.animatingOrInteracting_,r.dirty_=!1,r.hitDetectionImageData_=null,r.renderedFeatures_=null,r.renderedRevision_=-1,r.renderedResolution_=NaN,r.renderedExtent_=Object(a.k)(),r.renderedRotation_,r.renderedCenter_=null,r.renderedProjection_=null,r.renderedRenderOrder_=null,r.replayGroup_=null,r.replayGroupChanged=!0,r}return m(e,t),e.prototype.useContainer=function(e,r,n){n<1&&(e=null),t.prototype.useContainer.call(this,e,r,n)},e.prototype.renderFrame=function(t,e){var r=t.pixelRatio,n=t.layerStatesArray[t.layerIndex];Object(p.f)(this.pixelTransform,1/r,1/r),Object(p.e)(this.inversePixelTransform,this.pixelTransform);var i=Object(p.l)(this.pixelTransform);this.useContainer(e,i,n.opacity);var s=this.context,l=s.canvas,h=this.replayGroup_;if(!h||h.isEmpty())return!this.containerReused&&l.width>0&&(l.width=0),this.container;var f=Math.round(t.size[0]*r),d=Math.round(t.size[1]*r);l.width!=f||l.height!=d?(l.width=f,l.height=d,l.style.transform!==i&&(l.style.transform=i)):this.containerReused||s.clearRect(0,0,f,d),this.preRender(s,t);var m=t.extent,y=t.viewState,g=y.center,_=y.resolution,b=y.projection,v=y.rotation,O=b.getExtent(),w=this.getLayer().getSource(),M=!1;if(n.extent){var E=Object(c.i)(n.extent,b);(M=!Object(a.h)(E,t.extent)&&Object(a.H)(E,t.extent))&&this.clip(s,t,E)}var x=t.viewHints,S=!(x[o.a.ANIMATING]||x[o.a.INTERACTING]),j=this.getRenderTransform(g,_,v,r,f,d,0),P=this.getLayer().getDeclutter()?{}:null;if(h.execute(s,j,v,S,void 0,P),w.getWrapX()&&b.canWrapX()&&!Object(a.h)(O,m)){for(var T=m[0],I=Object(a.G)(O),L=0,R=void 0;T<O[0];){R=I*--L;var C=this.getRenderTransform(g,_,v,r,f,d,R);h.execute(s,C,v,S,void 0,P),T+=I}for(L=0,T=m[2];T>O[2];){R=I*++L;var A=this.getRenderTransform(g,_,v,r,f,d,R);h.execute(s,A,v,S,void 0,P),T-=I}}if(P){var k=t.viewHints,N=!(k[o.a.ANIMATING]||k[o.a.INTERACTING]);Object(u.b)(P,s,v,1,N,t.declutterItems)}M&&s.restore(),this.postRender(s,t);var D=n.opacity,F=this.container;return D!==parseFloat(F.style.opacity)&&(F.style.opacity=1===D?"":D),this.container},e.prototype.getFeatures=function(t){return new Promise(function(e,r){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var n=[this.context.canvas.width,this.context.canvas.height];Object(p.a)(this.pixelTransform,n);var i=this.renderedCenter_,o=this.renderedResolution_,s=this.renderedRotation_,c=this.renderedProjection_,l=this.renderedExtent_,u=this.getLayer(),h=[],f=n[0]/2,m=n[1]/2;h.push(this.getRenderTransform(i,o,s,.5,f,m,0).slice());var y=u.getSource(),g=c.getExtent();if(y.getWrapX()&&c.canWrapX()&&!Object(a.h)(g,l)){for(var _=l[0],b=Object(a.G)(g),v=0,O=void 0;_<g[0];)O=b*--v,h.push(this.getRenderTransform(i,o,s,.5,f,m,O).slice()),_+=b;for(v=0,_=l[2];_>g[2];)O=b*++v,h.push(this.getRenderTransform(i,o,s,.5,f,m,O).slice()),_-=b}this.hitDetectionImageData_=Object(d.a)(n,h,this.renderedFeatures_,u.getStyleFunction(),l,o,s)}e(Object(d.b)(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,e,r,n,o){if(this.replayGroup_){var a=e.viewState.resolution,s=e.viewState.rotation,c=this.getLayer(),l={};return this.replayGroup_.forEachFeatureAtCoordinate(t,a,s,r,(function(t){var e=Object(i.c)(t);if(!(e in l))return l[e]=!0,n(t,c)}),c.getDeclutter()?o:null)}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),r=e.getSource();if(!r)return!1;var n=t.viewHints[o.a.ANIMATING],i=t.viewHints[o.a.INTERACTING],h=e.getUpdateWhileAnimating(),p=e.getUpdateWhileInteracting();if(!this.dirty_&&!h&&n||!p&&i)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var d=t.extent,m=t.viewState,y=m.projection,g=m.resolution,_=t.pixelRatio,b=e.getRevision(),v=e.getRenderBuffer(),O=e.getRenderOrder();void 0===O&&(O=f.a);var w=m.center.slice(),M=Object(a.d)(d,v*g),E=[M.slice()],x=y.getExtent();if(r.getWrapX()&&y.canWrapX()&&!Object(a.h)(x,t.extent)){var S=Object(a.G)(x),j=Math.max(Object(a.G)(M)/2,S);M[0]=x[0]-j,M[2]=x[2]+j,Object(s.o)(w,y);var P=Object(a.M)(E[0],y);P[0]<x[0]&&P[2]<x[2]?E.push([P[0]+S,P[1],P[2]+S,P[3]]):P[0]>x[0]&&P[2]>x[2]&&E.push([P[0]-S,P[1],P[2]-S,P[3]])}if(!this.dirty_&&this.renderedResolution_==g&&this.renderedRevision_==b&&this.renderedRenderOrder_==O&&Object(a.h)(this.renderedExtent_,M))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var T,I=new l.a(Object(f.c)(g,_),M,g,_,e.getDeclutter()),L=Object(c.n)();if(L){for(var R=0,C=E.length;R<C;++R)r.loadFeatures(Object(c.r)(E[R],y),g,L);T=Object(c.m)(L,y)}else for(R=0,C=E.length;R<C;++R)r.loadFeatures(E[R],g,y);var A=Object(f.b)(g,_),k=function(t){var r,n=t.getStyleFunction()||e.getStyleFunction();if(n&&(r=n(t,g)),r){var i=this.renderFeature(t,A,r,I,T);this.dirty_=this.dirty_||i}}.bind(this),N=Object(c.r)(M,y),D=r.getFeaturesInExtent(N);O&&D.sort(O);for(R=0,C=D.length;R<C;++R)k(D[R]);this.renderedFeatures_=D;var F=I.finish(),B=new u.a(M,g,_,r.getOverlaps(),F,e.getRenderBuffer());return this.renderedResolution_=g,this.renderedRevision_=b,this.renderedRenderOrder_=O,this.renderedExtent_=M,this.renderedRotation_=m.rotation,this.renderedCenter_=w,this.renderedProjection_=y,this.replayGroup_=B,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,r,n,i){if(!r)return!1;var o=!1;if(Array.isArray(r))for(var a=0,s=r.length;a<s;++a)o=Object(f.d)(n,t,r[a],e,this.boundHandleStyleImageChange_,i)||o;else o=Object(f.d)(n,t,r,e,this.boundHandleStyleImageChange_,i);return o},e}(h.a);e.a=y},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===n(a)?a:String(a)),i)}var o,a}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n;return e=t,(r=[{key:"getFunctionFilter",value:function(){}},{key:"execute",value:function(t){}},{key:"toCQL",value:function(){}}])&&i(e.prototype,r),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.a=o},function(t,e,r){"use strict";r.d(e,"b",(function(){return m}));var n=r(268),i=r(115),o=r(0),a=r(76),s=r(25),c=r(2),l=r(239),u=r(179),h=r(68);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==f(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===f(o)?o:String(o)),n)}var i,o}var m=function(t,e){var r,n=t.getId();return Object(o.X)(n)||(r=e.getFeatureById(n)),Object(o.X)(r)&&t instanceof a.a?r=u.a.olFeature2Facade(t):Object(o.X)(r)&&t instanceof s.a&&(r=h.a.olFeature2Facade(t)),r},y=function(){function t(){p(this,t),this.map_=null,this.defaultCursor_=void 0}var e,r,a;return e=t,(r=[{key:"addTo",value:function(t){this.map_=t}},{key:"getFeaturesByLayer",value:function(t,e){var r=this,a=[],s=e.getImpl().getOL3Layer(),c=e.userMaxExtent;return Object(o.X)(e)||!e.isVisible()||Object(o.X)(s)||this.map_.getMapImpl().forEachFeatureAtPixel(t.pixel,(function(s,u){if(!c||r.handleFeatureInExtent(c,t.pixel))if(u instanceof l.a&&!Object(o.X)(s.get("features"))){var h=s.get("features").map((function(t){return m(t,e)}));if(1===h.length)a.push(h[0]);else{var f=e.getStyle();f instanceof i.a||(f=f.getStyles().find((function(t){return t instanceof i.a}))),a.push(new n.a(h,{ranges:f.getRanges(),hoverInteraction:f.getOptions().hoverInteraction,maxFeaturesToSelect:f.getOptions().maxFeaturesToSelect,distance:f.getOptions().distance}))}}else Object.prototype.hasOwnProperty.call(s.getProperties(),"selectclusterlink")||a.push(m(s,e))}),{layerFilter:function(t){var r=!1;return e.getStyle()instanceof i.a&&e.getStyle().getOptions().selectInteraction&&(r=t===e.getStyle().getImpl().selectClusterInteraction.getLayer()),r=r||t===s}}),a}},{key:"handleFeatureInExtent",value:function(t,e){var r=this.map_.getMapImpl().getCoordinateFromPixel(e);return Object(c.i)(t,r[0],r[1])}},{key:"addCursorPointer",value:function(t){var e=t.pixel,r=this.map_.getMapImpl().getViewport();"pointer"!==r.style.cursor&&(this.defaultCursor_=r.style.cursor),r.style.cursor="pointer",this.map_.getMapImpl().getFeaturesAtPixel(e).length>0&&(this.map_.getMapImpl().getTargetElement().style.cursor="pointer")}},{key:"removeCursorPointer",value:function(t){var e=t.pixel;this.map_.getMapImpl().getViewport().style.cursor=this.defaultCursor_,0===this.map_.getMapImpl().getFeaturesAtPixel(e).length&&(this.map_.getMapImpl().getTargetElement().style.cursor=this.defaultCursor_)}},{key:"destroy",value:function(){this.map_.un("click",this.onMapClick_,this),this.map_=null}}])&&d(e.prototype,r),a&&d(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.a=y},function(t,e,r){"use strict";var n=r(187),i=r(157),o=r(338),a=r(0),s=r(4),c=r(68);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==l(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===l(o)?o:String(o)),n)}var i,o}var h=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.projection=e,this.olFormatVersionGML_=this.returnFormatOl_(r)}var e,r,l;return e=t,(r=[{key:"read",value:function(t,e){var r=this,n=e.code;return Object(a.X)(n)&&(n=Object(a.X)(e.featureProjection)?Object(s.j)(e.getCode()):Object(s.j)(e.featureProjection.getCode())),this.olFormatVersionGML_.readFeatures(t).map((function(t){var e=t.getId(),i=c.a.olFeature2Facade(t);if(i.setId(e),null!==i.getGeometry()){var o=i.getImpl().getOLFeature().getGeometry().transform(r.projection.code,n);i.getImpl().getOLFeature().setGeometry(o)}return i}))}},{key:"returnFormatOl_",value:function(t){var e=t.replaceAll('"',"");return"text/xml; subtype=gml/3.1.1"===e?new n.a:"text/xml; subtype=gml/2.1.2"===e?new i.a:"text/xml; subtype=gml/3.2.1"===e?new o.a:"gml3"===e?new n.a:"gml32"===e?new o.a:"GML2"===e?new i.a:new n.a}}])&&u(e.prototype,r),l&&u(e,l),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.a=h},function(t,e,r){"use strict";var n=r(105),i=r(64),o=r(0),a=r(3),s=r(52),c=r(6);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==l(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===l(o)?o:String(o)),n)}var i,o}function h(t,e){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p(this,r)}}function p(t,e){if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(p,t);var e,r,n,l=f(p);function p(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),(n=l.call(this)).map_=t,n.service_=e,n.format_=r,n}return e=p,(r=[{key:"getLoaderFn",value:function(t){var e=this;return function(r,n,i){var o=e.getRequestUrl_(r,i);e.loadInternal_(o,i).then(t.bind(e))}}},{key:"loadInternal_",value:function(t,e){var r=this;return new Promise((function(n,l){Object(i.b)(t).then((function(t){if(!Object(o.X)(t.text)&&t.text.indexOf("ServiceExceptionReport")<0){var i=r.format_.read(t.text,e);n(i)}else 401===t.code?s.error(Object(c.e)("dialog").unauthorized_user):t.text.indexOf("featureId and cql_filter")>=0?s.error(Object(c.e)("dialog").only_one_filter):Object(a.a)(Object(c.e)("exception").no_getfeature_response)}))}))}},{key:"getRequestUrl_",value:function(t,e){return this.service_.getFeatureUrl(null,e)}}])&&u(e.prototype,r),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),p}(n.a);e.a=m},function(t,e,r){"use strict";var n,i=r(19),o=r(190),a=r(177),s=r(192),c=r(416),l=r(15),u=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),h=function(t){function e(e){var r=this,n=e||{},o=Object(l.a)({},n);delete o.preload,delete o.useInterimTilesOnError,r=t.call(this,o)||this;var a=n.renderMode||s.a.HYBRID;return Object(i.a)(null==a||a==s.a.IMAGE||a==s.a.HYBRID||a==s.a.VECTOR,28),r.renderMode_=a,r.setPreload(n.preload?n.preload:0),r.setUseInterimTilesOnError(void 0===n.useInterimTilesOnError||n.useInterimTilesOnError),r}return u(e,t),e.prototype.createRenderer=function(){return new c.a(this)},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderMode=function(){return this.renderMode_},e.prototype.getPreload=function(){return this.get(o.a.PRELOAD)},e.prototype.getUseInterimTilesOnError=function(){return this.get(o.a.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setPreload=function(t){this.set(o.a.PRELOAD,t)},e.prototype.setUseInterimTilesOnError=function(t){this.set(o.a.USE_INTERIM_TILES_ON_ERROR,t)},e}(a.a);e.a=h},function(t,e,r){"use strict";var n=r(347),i=r(51),o=r(0),a=r(3),s=r(12),c=r(11),l=r(6);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return(e=y(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y(n.key),n)}}function y(t){var e=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===u(e)?e:String(e)}function g(t,e){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=v(t);if(e){var i=v(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return b(this,r)}}function b(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(h,t);var e,r,i,u=_(h);function h(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d(this,h);var p=t;Object(o.ab)(n.a)&&Object(a.a)(Object(l.e)("exception").osm_method),Object(o.X)(p)&&(p="OSM");var m=c.Cb(p,s.OSM),y=f({},m),g=new n.a(m,y,i);return Object(o.X)(m.name)&&(m.name="osm"),(e=u.call(this,m,g)).name=m.name,e.legend=m.legend,Object(o.X)(m.legend)&&(e.legend="OpenStreetMap"),e.transparent=m.transparent,e.options=r,e}return e=h,(r=[{key:"type",get:function(){return s.OSM},set:function(t){Object(o.ab)(t)||Object(o.X)(t)||t===s.OSM||Object(a.a)("El tipo de capa debe ser '".concat(s.OSM).concat("' pero se ha especificado '").concat(t).concat("'"))}},{key:"equals",value:function(t){var e=!1;return t instanceof h&&(e=this.url===t.url,e=e&&this.name===t.name,e=e&&this.options===t.options),e}}])&&m(e.prototype,r),i&&m(e,i),Object.defineProperty(e,"prototype",{writable:!1}),h}(i.a);e.a=O},function(t,e,r){"use strict";var n,i=r(47),o=r(113),a=r(320),s=r(147),c=r(10),l=r(211),u=r(2),h=r(39),f=r(197),p=r(18),d=r(71),m=r(29),y=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});function g(t,e){f.a.expire()}var _=function(t){function e(e){var r=t.call(this)||this;return r.map_=e,r.declutterTree_=null,r}return y(e,t),e.prototype.dispatchRenderEvent=function(t,e){Object(c.b)()},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,r=t.coordinateToPixelTransform,n=t.pixelToCoordinateTransform;Object(p.b)(r,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Object(p.e)(n,r)},e.prototype.forEachFeatureAtCoordinate=function(t,e,r,n,i,a,s,c){var l,h=e.viewState;function f(t,e,r){return i.call(a,e,t?r:null)}var p=h.projection,d=Object(m.o)(t.slice(),p),y=[[0,0]];if(p.canWrapX()&&n){var g=p.getExtent(),_=Object(u.G)(g);y.push([-_,0],[_,0])}var b,v=e.layerStatesArray,O=v.length;this.declutterTree_&&(b=this.declutterTree_.all().map((function(t){return t.value})));for(var w=[],M=0;M<y.length;M++)for(var E=O-1;E>=0;--E){var x=v[E],S=x.layer;if(S.hasRenderer()&&Object(o.b)(x,h)&&s.call(c,S)){var j=S.getRenderer(),P=S.getSource();if(j&&P){var T=P.getWrapX()?d:t,I=f.bind(null,x.managed);w[0]=T[0]+y[M][0],w[1]=T[1]+y[M][1],l=j.forEachFeatureAtCoordinate(w,e,r,I,b)}if(l)return l}}},e.prototype.forEachLayerAtPixel=function(t,e,r,n,i){return Object(c.b)()},e.prototype.hasFeatureAtCoordinate=function(t,e,r,n,i,o){return void 0!==this.forEachFeatureAtCoordinate(t,e,r,n,h.b,this,i,o)},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){this.declutterTree_=Object(d.c)(t,this.declutterTree_)},e.prototype.scheduleExpireIconCache=function(t){f.a.canExpireCache()&&t.postRenderFunctions.push(g)},e}(l.a),b=r(61),v=r(34),O=r(17),w=r(24),M=r(132),E=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),x=function(t){function e(e){var r=t.call(this,e)||this;r.fontChangeListenerKey_=Object(O.a)(w.a,M.a.PROPERTYCHANGE,e.redrawText.bind(e)),r.element_=document.createElement("div");var n=r.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",r.element_.className=i.e+" ol-layers";var o=e.getViewport();return o.insertBefore(r.element_,o.firstChild||null),r.children_=[],r.renderedVisible_=!0,r}return E(e,t),e.prototype.dispatchRenderEvent=function(t,e){var r=this.getMap();if(r.hasListener(t)){var n=new a.a(t,void 0,e);r.dispatchEvent(n)}},e.prototype.disposeInternal=function(){Object(O.c)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent(s.a.PRECOMPOSE,e);var r=e.layerStatesArray.sort((function(t,e){return t.zIndex-e.zIndex})),n=e.viewState;this.children_.length=0;for(var i=null,a=0,c=r.length;a<c;++a){var l=r[a];if(e.layerIndex=a,Object(o.b)(l,n)&&(l.sourceState==b.a.READY||l.sourceState==b.a.UNDEFINED)){var u=l.layer.render(e,i);u&&u!==i&&(this.children_.push(u),i=u)}}t.prototype.renderFrame.call(this,e),Object(v.f)(this.element_,this.children_),this.dispatchRenderEvent(s.a.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,r,n,i){for(var a=e.viewState,s=e.layerStatesArray,c=s.length-1;c>=0;--c){var l=s[c],u=l.layer;if(u.hasRenderer()&&Object(o.b)(l,a)&&i(u)){var h=u.getRenderer().getDataAtPixel(t,e,r);if(h){var f=n(u,h);if(f)return f}}}},e}(_);e.a=x},function(t,e,r){"use strict";var n,i=r(67),o=r(72),a=r(280),s=(r(425),r(60)),c=r(42),l=r(191),u=r(17),h=r(142),f=r(163),p=r(16),d=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),m=function(t){function e(e,r){var n=t.call(this,e)||this;n.map_=e,n.clickTimeoutId_,n.dragging_=!1,n.dragListenerKeys_=[],n.moveTolerance_=r?r*s.a:s.a,n.down_=null;var i=n.map_.getViewport();return n.activePointers_=0,n.trackedTouches_={},n.element_=i,n.pointerdownListenerKey_=Object(u.a)(i,f.a.POINTERDOWN,n.handlePointerDown_,n),n.originalPointerMoveEvent_,n.relayedListenerKey_=Object(u.a)(i,f.a.POINTERMOVE,n.relayEvent_,n),n.boundHandleTouchMove_=n.handleTouchMove_.bind(n),n.element_.addEventListener(p.a.TOUCHMOVE,n.boundHandleTouchMove_,!!s.e&&{passive:!1}),n}return d(e,t),e.prototype.emulateClick_=function(t){var e=new l.a(c.a.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new l.a(c.a.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new l.a(c.a.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==c.a.POINTERUP||e.type==c.a.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==c.a.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new l.a(c.a.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(u.c),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new l.a(c.a.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&this.dragListenerKeys_.push(Object(u.a)(document,c.a.POINTERMOVE,this.handlePointerMove_,this),Object(u.a)(document,c.a.POINTERUP,this.handlePointerUp_,this),Object(u.a)(this.element_,c.a.POINTERCANCEL,this.handlePointerUp_,this))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new l.a(c.a.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},e.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new l.a(t.type,this.map_,t,e))},e.prototype.handleTouchMove_=function(t){this.originalPointerMoveEvent_&&!this.originalPointerMoveEvent_.defaultPrevented||t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Object(u.c)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(p.a.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Object(u.c)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(u.c),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}(h.a),y=r(236),g=r(183),_=r(111),b=r(147),v=r(33),O=r(132),w=r(351),M=r(181),E=r(57),x=r(19),S=r(34),j=r(2),P=r(39),T=r(383),I=r(56),L=r(18),R=r(4),C=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),A=function(t){function e(e){var r=t.call(this)||this,n=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var r,n,o,a={},s=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new T.a({layers:t.layers});a[_.a.LAYERGROUP]=s,a[_.a.TARGET]=t.target,a[_.a.VIEW]=void 0!==t.view?t.view:new M.a,void 0!==t.controls&&(Array.isArray(t.controls)?r=new i.a(t.controls.slice()):(Object(x.a)("function"==typeof t.controls.getArray,47),r=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?n=new i.a(t.interactions.slice()):(Object(x.a)("function"==typeof t.interactions.getArray,48),n=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?o=new i.a(t.overlays.slice()):(Object(x.a)("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new i.a;return{controls:r,interactions:n,keyboardEventTarget:e,overlays:o,values:a}}(e);r.boundHandleBrowserEvent_=r.handleBrowserEvent.bind(r),r.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,r.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:s.a,r.postRenderTimeoutHandle_,r.animationDelayKey_,r.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(r),r.coordinateToPixelTransform_=Object(L.d)(),r.pixelToCoordinateTransform_=Object(L.d)(),r.frameIndex_=0,r.frameState_=null,r.previousExtent_=null,r.viewPropertyListenerKey_=null,r.viewChangeListenerKey_=null,r.layerGroupPropertyListenerKeys_=null,r.viewport_=document.createElement("div"),r.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),r.viewport_.style.position="relative",r.viewport_.style.overflow="hidden",r.viewport_.style.width="100%",r.viewport_.style.height="100%",r.overlayContainer_=document.createElement("div"),r.overlayContainer_.style.position="absolute",r.overlayContainer_.style.zIndex="0",r.overlayContainer_.style.width="100%",r.overlayContainer_.style.height="100%",r.overlayContainer_.className="ol-overlaycontainer",r.viewport_.appendChild(r.overlayContainer_),r.overlayContainerStopEvent_=document.createElement("div"),r.overlayContainerStopEvent_.style.position="absolute",r.overlayContainerStopEvent_.style.zIndex="0",r.overlayContainerStopEvent_.style.width="100%",r.overlayContainerStopEvent_.style.height="100%",r.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",r.viewport_.appendChild(r.overlayContainerStopEvent_),r.mapBrowserEventHandler_=new m(r,e.moveTolerance);var a=r.handleMapBrowserEvent.bind(r);for(var l in c.a)r.mapBrowserEventHandler_.addEventListener(c.a[l],a);r.keyboardEventTarget_=n.keyboardEventTarget,r.keyHandlerKeys_=null;var u=r.handleBrowserEvent.bind(r);return r.viewport_.addEventListener(p.a.CONTEXTMENU,u,!1),r.viewport_.addEventListener(p.a.WHEEL,u,!!s.e&&{passive:!1}),r.controls=n.controls||new i.a,r.interactions=n.interactions||new i.a,r.overlays_=n.overlays,r.overlayIdIndex_={},r.renderer_=null,r.handleResize_,r.postRenderFunctions_=[],r.tileQueue_=new w.a(r.getTilePriority.bind(r),r.handleTileChange_.bind(r)),r.addEventListener(Object(v.b)(_.a.LAYERGROUP),r.handleLayerGroupChanged_),r.addEventListener(Object(v.b)(_.a.VIEW),r.handleViewChanged_),r.addEventListener(Object(v.b)(_.a.SIZE),r.handleSizeChanged_),r.addEventListener(Object(v.b)(_.a.TARGET),r.handleTargetChanged_),r.setProperties(n.values),r.controls.forEach(function(t){t.setMap(this)}.bind(r)),r.controls.addEventListener(o.a.ADD,function(t){t.element.setMap(this)}.bind(r)),r.controls.addEventListener(o.a.REMOVE,function(t){t.element.setMap(null)}.bind(r)),r.interactions.forEach(function(t){t.setMap(this)}.bind(r)),r.interactions.addEventListener(o.a.ADD,function(t){t.element.setMap(this)}.bind(r)),r.interactions.addEventListener(o.a.REMOVE,function(t){t.element.setMap(null)}.bind(r)),r.overlays_.forEach(r.addOverlayInternal_.bind(r)),r.overlays_.addEventListener(o.a.ADD,function(t){this.addOverlayInternal_(t.element)}.bind(r)),r.overlays_.addEventListener(o.a.REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}.bind(r)),r}return C(e,t),e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),this.viewport_.removeEventListener(p.a.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(p.a.WHEEL,this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener(p.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,r){if(this.frameState_){var n=this.getCoordinateFromPixelInternal(t),i=void 0!==(r=void 0!==r?r:{}).hitTolerance?r.hitTolerance*this.frameState_.pixelRatio:0,o=void 0!==r.layerFilter?r.layerFilter:P.b,a=!1!==r.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(n,this.frameState_,i,a,e,null,o,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var r=[];return this.forEachFeatureAtPixel(t,(function(t){r.push(t)}),e),r},e.prototype.forEachLayerAtPixel=function(t,e,r){if(this.frameState_){var n=r||{},i=void 0!==n.hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,o=n.layerFilter||P.b;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,i,e,o)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var r=this.getCoordinateFromPixelInternal(t),n=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:P.b,i=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0,o=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,i,o,n,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),r="changedTouches"in t?t.changedTouches[0]:t;return[r.clientX-e.left,r.clientY-e.top]},e.prototype.getTarget=function(){return this.get(_.a.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return Object(R.q)(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?Object(L.a)(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(_.a.LAYERGROUP)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,r=t.length;e<r;++e){var n=t[e].layer.getSource();if(n&&n.loading)return!0}return!1},e.prototype.getPixelFromCoordinate=function(t){var e=Object(R.h)(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},e.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?Object(L.a)(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(_.a.SIZE)},e.prototype.getView=function(){return this.get(_.a.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,r,n){return Object(w.b)(this.frameState_,t,e,r,n)},e.prototype.handleBrowserEvent=function(t,e){var r=e||t.type,n=new a.a(r,this,t);this.handleMapBrowserEvent(n)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){var e=t.originalEvent.target;if(t.dragging||!this.overlayContainerStopEvent_.contains(e)&&(document.body.contains(e)||this.viewport_.getRootNode&&this.viewport_.getRootNode().contains(e))){t.frameState=this.frameState_;var r=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var n=r.length-1;n>=0;n--){var i=r[n];if(i.getActive())if(!i.handleEvent(t))break}}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var r=this.maxTilesLoading_,n=r;if(t){var i=t.viewHints;if(i[E.a.ANIMATING]||i[E.a.INTERACTING]){var o=!s.c&&Date.now()-t.time>8;r=o?0:8,n=o?0:2}}e.getTilesLoading()<r&&(e.reprioritize(),e.loadMoreTiles(r,n))}!t||!this.hasListener(b.a.RENDERCOMPLETE)||t.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(b.a.RENDERCOMPLETE,t);for(var a=this.postRenderFunctions_,c=0,l=a.length;c<l;++c)a[c](this,t);a.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,r=this.keyHandlerKeys_.length;e<r;++e)Object(u.c)(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer());var n=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[Object(u.a)(n,p.a.KEYDOWN,this.handleBrowserEvent,this),Object(u.a)(n,p.a.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(p.a.RESIZE,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),Object(S.e)(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(p.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Object(u.c)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(u.c)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Object(u.a)(t,O.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(u.a)(t,p.a.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(u.c),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[Object(u.a)(t,O.a.PROPERTYCHANGE,this.render,this),Object(u.a)(t,p.a.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,r=t.length;e<r;++e){var n=t[e].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e=this.getSize(),r=this.getView(),n=this.frameState_,i=null;if(void 0!==e&&Object(I.b)(e)&&r&&r.isDef()){var o=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=r.getState();i={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterItems:n?n.declutterItems:[],extent:Object(j.A)(a.center,a.resolution,a.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{}}}if(this.frameState_=i,this.renderer_.renderFrame(i),i){if(i.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,i.postRenderFunctions),n)(!this.previousExtent_||!Object(j.J)(this.previousExtent_)&&!Object(j.q)(i.extent,this.previousExtent_))&&(this.dispatchEvent(new y.a(g.a.MOVESTART,this,n)),this.previousExtent_=Object(j.m)(this.previousExtent_));this.previousExtent_&&!i.viewHints[E.a.ANIMATING]&&!i.viewHints[E.a.INTERACTING]&&!Object(j.q)(i.extent,this.previousExtent_)&&(this.dispatchEvent(new y.a(g.a.MOVEEND,this,i)),Object(j.e)(i.extent,this.previousExtent_))}this.dispatchEvent(new y.a(g.a.POSTRENDER,this,i)),this.postRenderTimeoutHandle_=setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(_.a.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(_.a.SIZE,t)},e.prototype.setTarget=function(t){this.set(_.a.TARGET,t)},e.prototype.setView=function(t){this.set(_.a.VIEW,t)},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0);this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var e=void 0,r=getComputedStyle(this.viewport_);r.width&&r.height&&(e=[parseInt(r.width,10),parseInt(r.height,10)]),t.setViewportSize(e)}},e}(v.a);e.a=A},function(t,e,r){"use strict";var n=r(0);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(a)?a:String(a)),n)}var o,a}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(l,t);var e,r,n,i=c(l);function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a(this,l),i.call(this,t)}return e=l,r&&o(e.prototype,r),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(r(187).a);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==f(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===f(o)?o:String(o)),n)}var i,o}var d=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.typeName_=e,this.outputFormat_=r,this.projection_=n,this.gmlFormatter_=new h({outputFormat:r,featureType:e,srsName:this.projection_.code})}var e,r,i;return e=t,(r=[{key:"read",value:function(t){var e,r=this,i={};if(/json/gi.test(this.outputFormat_))try{e=JSON.parse(t.text)}catch(t){throw t}return e||(e=this.gmlFormatter_.read(t.text)),i.featureNS=e.targetNamespace,i.featurePrefix=e.targetPrefix,e.featureTypes.some((function(t){return t.typeName===r.typeName_&&(i.properties=t.properties,i.properties.some((function(t){return Object(n.V)(t.localType)&&(i.geometryName=t.name),Object(n.V)(t.localType)}))),t.typeName===r.typeName_})),i}}])&&p(e.prototype,r),i&&p(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.a=d},function(t,e,r){"use strict";var n,i=r(20),o=r(10),a=r(144),s=r(34),c=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),l=[],u=function(t){function e(e,r,n,i){var o=t.call(this,e,r,{transition:0})||this;return o.context_={},o.executorGroups={},o.loadingSourceTiles=0,o.errorSourceTileKeys={},o.hitDetectionImageData={},o.replayState_={},o.sourceTiles=null,o.wantedResolution,o.getSourceTiles=i.bind(void 0,o),o.sourceZ=-1,o.hifi=!1,o.wrappedTileCoord=n,o}return c(e,t),e.prototype.getContext=function(t){var e=Object(o.c)(t);return e in this.context_||(this.context_[e]=Object(s.a)(1,1,l)),this.context_[e]},e.prototype.hasContext=function(t){return Object(o.c)(t)in this.context_},e.prototype.getImage=function(t){return this.hasContext(t)?this.getContext(t).canvas:null},e.prototype.getReplayState=function(t){var e=Object(o.c)(t);return e in this.replayState_||(this.replayState_[e]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedZ:-1,renderedTileZ:-1}),this.replayState_[e]},e.prototype.load=function(){this.getSourceTiles()},e.prototype.release=function(){for(var e in this.context_)l.push(this.context_[e].canvas);t.prototype.release.call(this)},e}(a.a),h=r(454),f=r(56),p=r(319),d=r(63),m=r(87),y=r(2),g=r(16),_=r(221),b=r(13),v=r(272),O=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),w=function(t){function e(e){var r=this,n=e.projection||"EPSG:3857",i=e.extent||Object(m.c)(n),o=e.tileGrid||Object(m.b)({extent:i,maxResolution:e.maxResolution,maxZoom:void 0!==e.maxZoom?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512});return(r=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,opaque:!1,projection:n,state:e.state,tileGrid:o,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:M,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:void 0===e.zDirection?1:e.zDirection})||this).format_=e.format?e.format:null,r.loadingTiles_={},r.sourceTileCache=new v.a(r.tileCache.highWaterMark),r.overlaps_=null==e.overlaps||e.overlaps,r.tileClass=e.tileClass?e.tileClass:h.a,r.tileGrids_={},r}return O(e,t),e.prototype.getFeaturesInExtent=function(t){var e=[],r=this.tileCache;if(0===r.getCount())return e;var n=Object(d.b)(r.peekFirstKey())[0],o=this.tileGrid;return r.forEach((function(r){if(r.tileCoord[0]===n&&r.getState()===i.a.LOADED)for(var a=r.getSourceTiles(),s=0,c=a.length;s<c;++s){var l=a[s],u=l.tileCoord;if(Object(y.H)(t,o.getTileCoordExtent(u))){var h=l.getFeatures();if(h)for(var f=0,p=h.length;f<p;++f){var d=h[f],m=d.getGeometry();Object(y.H)(t,m.getExtent())&&e.push(d)}}}})),e},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.clear=function(){this.tileCache.clear(),this.sourceTileCache.clear()},e.prototype.expireCache=function(e,r){t.prototype.expireCache.call(this,e,r),this.sourceTileCache.expireCache({})},e.prototype.getSourceTiles=function(t,e,r){var n=r.wrappedTileCoord,o=this.getTileGridForProjection(e),a=o.getTileCoordExtent(n),s=n[0],c=o.getResolution(s);Object(y.d)(a,-c,a);var l=this.tileGrid,u=l.getExtent();u&&Object(y.C)(a,u,a);var h,f,p,d=l.getZForResolution(c,1),m=l.getMinZoom(),_=r.sourceTiles;if(_&&_.length>0&&_[0].tileCoord[0]===d)h=_,f=!0,p=d;else{h=[],p=d+1;do{--p,f=!0,l.forEachTileCoord(a,p,function(n){var o,a=this.tileUrlFunction(n,t,e);if(void 0!==a)if(this.sourceTileCache.containsKey(a)){var s=(o=this.sourceTileCache.get(a)).getState();if(s===i.a.LOADED||s===i.a.ERROR||s===i.a.EMPTY)return void h.push(o)}else p===d&&((o=new this.tileClass(n,i.a.IDLE,a,this.format_,this.tileLoadFunction)).extent=l.getTileCoordExtent(n),o.projection=e,o.resolution=l.getResolution(n[0]),this.sourceTileCache.set(a,o),o.addEventListener(g.a.CHANGE,this.handleTileChange.bind(this)),o.load());f=f&&o&&o.getState()===i.a.LOADED,o&&o.getState()!==i.a.EMPTY&&r.getState()===i.a.IDLE&&(r.loadingSourceTiles++,o.addEventListener(g.a.CHANGE,(function t(){var e=o.getState(),n=o.getKey();if(e===i.a.LOADED||e===i.a.ERROR){e===i.a.LOADED?(o.removeEventListener(g.a.CHANGE,t),r.loadingSourceTiles--,delete r.errorSourceTileKeys[n]):e===i.a.ERROR&&(r.errorSourceTileKeys[n]=!0);var a=Object.keys(r.errorSourceTileKeys).length;r.loadingSourceTiles-a==0&&(r.hifi=0===a,r.sourceZ=d,r.setState(i.a.LOADED))}})))}.bind(this)),f||(h.length=0)}while(!f&&p>m)}return r.getState()===i.a.IDLE&&r.setState(i.a.LOADING),f&&(r.hifi=d===p,r.sourceZ=p,r.getState()<i.a.LOADED?r.setState(i.a.LOADED):_&&Object(b.b)(h,_)||(r.sourceTiles=h)),h},e.prototype.getTile=function(t,e,r,n,o){var a,s=Object(d.d)(t,e,r),c=this.getKey();if(this.tileCache.containsKey(s)&&(a=this.tileCache.get(s)).key===c)return a;var l=[t,e,r],h=this.getTileCoordForTileUrlFunction(l,o),f=this.getTileGrid().getExtent(),p=this.getTileGridForProjection(o);if(h&&f){var m=p.getTileCoordExtent(h);Object(y.d)(m,-p.getResolution(t),m),Object(y.H)(f,m)||(h=null)}var g=!0;if(null!==h){var _=this.tileGrid,b=p.getResolution(t),v=_.getZForResolution(b,1),O=p.getTileCoordExtent(h);Object(y.d)(O,-b,O),_.forEachTileCoord(O,v,function(t){g=g&&!this.tileUrlFunction(t,n,o)}.bind(this))}var w=new u(l,g?i.a.EMPTY:i.a.IDLE,h,this.getSourceTiles.bind(this,n,o));return w.key=c,a?(w.interimTile=a,w.refreshInterimChain(),this.tileCache.replace(s,w)):this.tileCache.set(s,w),w},e.prototype.getTileGridForProjection=function(t){var e=t.getCode(),r=this.tileGrids_[e];if(!r){var n=this.tileGrid;r=Object(m.a)(t,void 0,n?n.getTileSize(n.getMinZoom()):void 0),this.tileGrids_[e]=r}return r},e.prototype.getTilePixelRatio=function(t){return t},e.prototype.getTilePixelSize=function(t,e,r){var n=this.getTileGridForProjection(r),i=Object(f.d)(n.getTileSize(t),this.tmpSize);return[Math.round(i[0]*e),Math.round(i[1]*e)]},e}(p.a);e.a=w;function M(t,e){var r=Object(_.a)(e,t.getFormat(),t.onLoad.bind(t),t.onError.bind(t));t.setLoader(r)}},function(t,e,r){"use strict";e.a={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"}},function(t,e,r){"use strict";r.d(e,"a",(function(){return u})),r.d(e,"b",(function(){return h}));var n=r(278),i=r(34),o=r(66),a=r(79),s=r(8),c=r(2),l=r(13);function u(t,e,r,u,h,f,p){var d=t[0]/2,m=t[1]/2,y=Object(i.a)(d,m);y.imageSmoothingEnabled=!1;for(var g=y.canvas,_=new n.a(y,.5,h,null,p),b=r.length,v=Math.floor(16777215/b),O={},w=1;w<=b;++w){var M=r[w-1],E=M.getStyleFunction()||u;if(u){var x=E(M,f);if(x){Array.isArray(x)||(x=[x]);for(var S="#"+("000000"+(w*v).toString(16)).slice(-6),j=0,P=x.length;j<P;++j){var T=x[j],I=T.clone(),L=I.getFill();L&&L.setColor(S);var R=I.getStroke();R&&R.setColor(S),I.setText(void 0);var C=T.getImage();if(C){var A=C.getImageSize();if(!A)continue;var k=document.createElement("canvas");k.width=A[0],k.height=A[1];var N=k.getContext("2d",{alpha:!1});N.fillStyle=S;var D=N.canvas;N.fillRect(0,0,D.width,D.height);var F=A?A[0]:D.width,B=A?A[1]:D.height;Object(i.a)(F,B).drawImage(D,0,0),I.setImage(new o.a({img:D,imgSize:A,anchor:C.getAnchor(),anchorXUnits:a.c.PIXELS,anchorYUnits:a.c.PIXELS,offset:C.getOrigin(),size:C.getSize(),opacity:C.getOpacity(),scale:C.getScale(),rotation:C.getRotation(),rotateWithView:C.getRotateWithView()}))}var U=Number(I.getZIndex());(X=O[U])||(X={},O[U]=X,X[s.a.POLYGON]=[],X[s.a.CIRCLE]=[],X[s.a.LINE_STRING]=[],X[s.a.POINT]=[]);var G=I.getGeometryFunction()(M);G&&Object(c.H)(h,G.getExtent())&&X[G.getType().replace("Multi","")].push(G,I)}}}}for(var z=Object.keys(O).map(Number).sort(l.i),W=(w=0,z.length);w<W;++w){var X=O[z[w]];for(var q in X){var V=X[q];for(j=0,P=V.length;j<P;j+=2){_.setStyle(V[j+1]);for(var Y=0,Z=e.length;Y<Z;++Y)_.setTransform(e[Y]),_.drawGeometry(V[j])}}}return document.body.appendChild(y.canvas),y.getImageData(0,0,g.width,g.height)}function h(t,e,r){var n=[];if(r){var i=4*(Math.round(t[0]/2)+Math.round(t[1]/2)*r.width),o=r.data[i],a=r.data[i+1],s=r.data[i+2]+256*(a+256*o),c=Math.floor(16777215/e.length);s&&s%c==0&&n.push(e[s/c-1])}return n}},function(t,e,r){"use strict";var n,i=r(10),o=r(19),a=r(25),s=r(8),c=r(29),l=r(16),u=r(2),h=r(28),f=r(58),p=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),d=function(t){function e(e){var r=t.call(this,{attributions:e.attributions,wrapX:e.wrapX})||this;return r.resolution=void 0,r.distance=void 0!==e.distance?e.distance:20,r.features=[],r.geometryFunction=e.geometryFunction||function(t){var e=t.getGeometry();return Object(o.a)(e.getType()==s.a.POINT,10),e},r.boundRefresh_=r.refresh.bind(r),r.setSource(e.source||null),r}return p(e,t),e.prototype.clear=function(e){this.features.length=0,t.prototype.clear.call(this,e)},e.prototype.getDistance=function(){return this.distance},e.prototype.getSource=function(){return this.source},e.prototype.loadFeatures=function(t,e,r){this.source.loadFeatures(t,e,r),e!==this.resolution&&(this.clear(),this.resolution=e,this.cluster(),this.addFeatures(this.features))},e.prototype.setDistance=function(t){this.distance=t,this.refresh()},e.prototype.setSource=function(t){this.source&&this.source.removeEventListener(l.a.CHANGE,this.boundRefresh_),this.source=t,t&&t.addEventListener(l.a.CHANGE,this.boundRefresh_),this.refresh()},e.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features)},e.prototype.cluster=function(){if(void 0!==this.resolution&&this.source)for(var t=Object(u.k)(),e=this.distance*this.resolution,r=this.source.getFeatures(),n={},o=0,a=r.length;o<a;o++){var s=r[o];if(!(Object(i.c)(s)in n)){var c=this.geometryFunction(s);if(c){var l=c.getCoordinates();Object(u.n)(l,t),Object(u.d)(t,e,t);var h=this.source.getFeaturesInExtent(t);h=h.filter((function(t){var e=Object(i.c)(t);return!(e in n)&&(n[e]=!0,!0)})),this.features.push(this.createCluster(h))}}}},e.prototype.createCluster=function(t){for(var e=[0,0],r=t.length-1;r>=0;--r){var n=this.geometryFunction(t[r]);n?Object(c.a)(e,n.getCoordinates()):t.splice(r,1)}Object(c.j)(e,1/t.length);var i=new a.a(new h.a(e));return i.set("features",t),i},e}(f.a);e.a=d},function(t,e,r){"use strict";var n=r(329),i=r(634),o=r.n(i),a=r(635),s=r.n(a),c=(r(692),r(6)),l=r(74),u=r(0),h=r(3),f=r(31);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==p(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===p(o)?o:String(o)),n)}var i,o}function y(t,e){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=b(t);if(e){var i=b(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _(this,r)}}function _(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(l,t);var e,r,i,a=g(l);function l(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d(this,l),Object(u.ab)(n.a)&&Object(h.a)(Object(c.e)("exception").location_method);var i=new n.a(t,e,6e4,r);return a.call(this,i,l.NAME)}return e=l,(r=[{key:"createView",value:function(t){return Object(f.c)(o.a,{vars:{title:Object(c.e)("location").title}})}},{key:"getActivationButton",value:function(t){return t.querySelector("button#m-location-button")}},{key:"getHelp",value:function(){var t=Object(c.e)("location").textHelp;return{title:l.NAME,content:new Promise((function(e){e(Object(f.c)(s.a,{vars:{urlImages:"".concat(M.config.MAPEA_URL,"assets/images"),translations:{help1:t.text1,help2:t.text2,help3:t.text2}}}))}))}}},{key:"equals",value:function(t){var e=t instanceof l;return e}},{key:"setTracking",value:function(t){this.getImpl().tracking=t}}])&&m(e.prototype,r),i&&m(e,i),Object.defineProperty(e,"prototype",{writable:!1}),l}(l.a);v.NAME="location",e.a=v},function(t,e,r){"use strict";r(693);var n=r(331),i=r(638),o=r.n(i),a=r(639),s=r.n(a),c=r(74),l=r(31),u=r(0),h=r(3),f=r(6);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==p(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===p(o)?o:String(o)),n)}var i,o}function m(t,e){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=_(t);if(e){var i=_(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return g(this,r)}}function g(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}(c,t);var e,r,i,a=y(c);function c(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),Object(u.ab)(n.a)&&Object(h.a)("La implementacin usada no puede crear controles Scale");var t=new n.a;return a.call(this,t,c.NAME)}return e=c,(r=[{key:"createView",value:function(t){return Object(l.c)(o.a,{vars:{title:Object(f.e)("rotate").title}})}},{key:"getHelp",value:function(){var t=Object(f.e)("rotate").textHelp;return{title:c.NAME,content:new Promise((function(e){e(Object(l.c)(s.a,{vars:{urlImages:"".concat(M.config.MAPEA_URL,"assets/images"),translations:{help1:t.text1,help2:t.text2}}}))}))}}},{key:"equals",value:function(t){var e=t instanceof c;return e}}])&&d(e.prototype,r),i&&d(e,i),Object.defineProperty(e,"prototype",{writable:!1}),c}(c.a);b.NAME="rotate",e.a=b},function(t,e,r){"use strict";r(474);var n=r(332),i=r(640),o=r.n(i),a=r(641),s=r.n(a),c=r(74),l=r(0),u=r(3),h=r(31),f=r(6);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==p(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===p(o)?o:String(o)),n)}var i,o}function y(t,e){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=b(t);if(e){var i=b(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _(this,r)}}function _(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(c,t);var e,r,i,a=g(c);function c(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(this,c);var r=new n.a(e);return t=a.call(this,r,c.NAME),Object(l.ab)(n.a)&&Object(u.a)(Object(f.e)("exception").scaleline_method),t}return e=c,(r=[{key:"createView",value:function(t){return Object(h.c)(o.a)}},{key:"getHelp",value:function(){var t=Object(f.e)("scaleline").textHelp;return{title:c.NAME,content:new Promise((function(e){e(Object(h.c)(s.a,{vars:{urlImages:"".concat(M.config.MAPEA_URL,"assets/images"),translations:{help1:t.text1,help2:t.text2,help3:t.text3}}}))}))}}},{key:"equals",value:function(t){var e=t instanceof c;return e}}])&&m(e.prototype,r),i&&m(e,i),Object.defineProperty(e,"prototype",{writable:!1}),c}(c.a);v.NAME="scaleline",e.a=v},function(t,e,r){"use strict";var n=r(642),i=r.n(n),o=r(643),a=r.n(o),s=r(333),c=r(74),l=r(0),u=r(3),h=r(31),f=r(6);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==p(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===p(o)?o:String(o)),n)}var i,o}function y(t,e){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=b(t);if(e){var i=b(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _(this,r)}}function _(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(c,t);var e,r,n,o=g(c);function c(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(this,c);var r=new s.a(e);return t=o.call(this,r,c.NAME),Object(l.ab)(s.a)&&Object(u.a)(Object(f.e)("exception").panzoom_method),t}return e=c,(r=[{key:"createView",value:function(t){return Object(h.c)(i.a)}},{key:"equals",value:function(t){var e=t instanceof c;return e}},{key:"getHelp",value:function(){var t=Object(f.e)("panzoom").textHelp;return{title:c.NAME,content:new Promise((function(e){e(Object(h.c)(a.a,{vars:{urlImages:"".concat(M.config.MAPEA_URL,"assets/images"),translations:{help1:t.text1}}}))}))}}}])&&m(e.prototype,r),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(c.a);v.NAME="panzoom",e.a=v},function(t,e,r){"use strict";var n=r(0),i=r(83),o=r.n(i),a=r(215),s=r(25),c=r(148),l=r(126),u=r(43),h=r(28),f=r(62),p=r(44),d=r(135),m=r(90),y=r(66),g=r(71),_=r(76),b=r(125),v=r(5),O=r(36),w=r(117),E=r(325),x=r(238),S=r(407);function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==j(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===j(o)?o:String(o)),n)}var i,o}function I(t,e){return(I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function L(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=C(t);if(e){var i=C(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return R(this,r)}}function R(t,e){if(e&&("object"===j(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I(t,e)}(R,t);var e,r,i,j=L(R);function R(){return P(this,R),j.apply(this,arguments)}return e=R,(r=[{key:"toImage",value:function(t){var e=null,r={fill:this.options_.fill,stroke:this.options_.stroke,icon:this.options_.icon};if(!0===Object(n.T)(r))e=Object(n.o)(t);else{if(Object(n.X)(this.olStyleFn_))return null;var i=this.olStyleFn_()[1];if(i.getImage&&null!=i.getImage()&&i.getImage()instanceof a.a){if(i.getImage()instanceof E.a){var o=i.getImage().getImage();null!=o&&o&&(e=o.toDataURL())}else if(i.getImage()instanceof x.a){var s=i.getImage();if(!Object(n.X)(s)&&!(e=s.getSrc()).startsWith(window.location.origin)){var c=Object(n.g)([M.config.PROXY_URL,"/image"]);e=Object(n.b)(c,{url:e})}}}else{null!=(i=this.olStyleFn_()[0]).getImage()&&null!=i.getImage().getStroke()&&(i.getImage().getStroke().getWidth()>R.DEFAULT_WIDTH_POINT&&i.getImage().getStroke().setWidth(R.DEFAULT_WIDTH_POINT),i.getImage().render());var l=i.getImage().getImage();null!=l&&(e=l.toDataURL())}}return e}},{key:"updateFacadeOptions",value:function(t){var e=this;this.olStyleFn_=function(r){var i=r;i instanceof s.a||r instanceof _.a||(i=e);var a,d,y=new w.a({zIndex:v.a.getValue(t.zindex,i,e.layer_),geometry:function(t){var e=O.a.getCentroid(t.getGeometry()),r=new h.a(e);if("MultiPoint"===t.getGeometry().getType()||"Point"===t.getGeometry().getType()&&t instanceof _.a)if(t instanceof _.a){for(var n=t.getFlatCoordinates(),i=[],o=0;o<n.length;o+=2)i.push(n.slice(o,o+2));r=new f.a(i)}else r=new f.a(t.getGeometry().getCoordinates());return r}}),g=new w.a({zIndex:v.a.getValue(t.zindex,i,e.layer_),geometry:function(t){var e=O.a.getCentroid(t.getGeometry()),r=new h.a(e);if("MultiPoint"===t.getGeometry().getType()||"Point"===t.getGeometry().getType()&&t instanceof _.a)if(t instanceof _.a){for(var n=t.getFlatCoordinates(),i=[],o=0;o<n.length;o+=2)i.push(n.slice(o,o+2));r=new f.a(i)}else r=new f.a(t.getGeometry().getCoordinates());return r}});if(!Object(n.X)(t.fill)){var b=v.a.getValue(t.fill.color,i,e.layer_),M=v.a.getValue(t.fill.opacity,i,e.layer_);M||0===M||(M=1),Object(n.X)(b)||(a=new u.a({color:o()(b).alpha(M).css()}))}if(!Object(n.X)(t.stroke)){var j=v.a.getValue(t.stroke.color,i,e.layer_),P=v.a.getValue(t.stroke.opacity,i,e.layer_);if(P||0===P||(P=1),!Object(n.X)(j)){var T=t.stroke.linedashoffset;d=new p.a({color:o()(j).alpha(P).css(),width:v.a.getValue(t.stroke.width,i,e.layer_),lineDash:v.a.getValue(t.stroke.linedash,i,e.layer_),lineDashOffset:v.a.getValue(T,i,e.layer_),lineCap:v.a.getValue(t.stroke.linecap,i,e.layer_),lineJoin:v.a.getValue(t.stroke.linejoin,i,e.layer_),miterLimit:v.a.getValue(t.stroke.miterlimit,i,e.layer_)})}}if(!Object(n.X)(t.label)){var I=v.a.getValue(t.label.text,i,e.layer_),L=v.a.getValue(t.label.align,i,e.layer_),R=v.a.getValue(t.label.baseline,i,e.layer_),C=new m.a({font:v.a.getValue(t.label.font,i,e.layer_),rotateWithView:v.a.getValue(t.label.rotate,i,e.layer_),scale:v.a.getValue(t.label.scale,i,e.layer_),offsetX:v.a.getValue(t.label.offset?t.label.offset[0]:void 0,i,e.layer_),offsetY:v.a.getValue(t.label.offset?t.label.offset[1]:void 0,i,e.layer_),fill:new u.a({color:v.a.getValue(t.label.color||"#000000",i,e.layer_)}),textAlign:Object.values(c).includes(L)?L:"center",textBaseline:Object.values(l).includes(R)?R:"top",text:void 0===I?void 0:String(I),rotation:v.a.getValue(t.label.rotation,i,e.layer_)});if(!Object(n.X)(t.label.stroke)){var A=t.label.stroke,k=A.miterlimit,N=A.linedashoffset;C.setStroke(new p.a({color:v.a.getValue(t.label.stroke.color,i,e.layer_),width:v.a.getValue(t.label.stroke.width,i,e.layer_),lineCap:v.a.getValue(t.label.stroke.linecap,i,e.layer_),lineJoin:v.a.getValue(t.label.stroke.linejoin,i,e.layer_),lineDash:v.a.getValue(t.label.stroke.linedash,i,e.layer_),lineDashOffset:v.a.getValue(N,i,e.layer_),miterLimit:v.a.getValue(k,i,e.layer_)}))}y.setText(C)}var D=v.a.getValue(t.radius,i,e.layer_);return Object(n.R)(t.radius)&&(D=v.a.getValue((function(e,r){var i=t.radius.find((function(t){return t.zoom===r.getZoom()}));return Object(n.ab)(i)&&(i=t.radius.find((function(t){return"default"===t.zoom}))),i?i.value:5}),i,e.layer_)),y.setImage(new S.a({fill:a,stroke:d,radius:D,snapToPixel:v.a.getValue(t.snapToPixel,i,e.layer_)})),Object(n.X)(t.icon)||(Object(n.X)(t.icon.src)?Object(n.X)(t.icon.form)||g.setImage(new E.a({form:Object(n.X)(v.a.getValue(t.icon.form,i,e.layer_))?"":v.a.getValue(t.icon.form,i,e.layer_).toLowerCase(),gradient:v.a.getValue(t.icon.gradient,i,e.layer_),glyph:v.a.getValue(t.icon.class,i,e.layer_),fontSize:v.a.getValue(t.icon.fontsize,i,e.layer_),radius:v.a.getValue(t.icon.radius,i,e.layer_),rotation:v.a.getValue(t.icon.rotation,i,e.layer_),rotateWithView:v.a.getValue(t.icon.rotate,i,e.layer_),offsetX:v.a.getValue(t.icon.offset?t.icon.offset[0]:void 0,i,e.layer_),offsetY:v.a.getValue(t.icon.offset?t.icon.offset[1]:void 0,i,e.layer_),fill:new u.a({color:v.a.getValue(void 0!==t.icon.fill?t.icon.fill:"#FFFFFF",i,e.layer_)}),stroke:t.icon.color?new p.a({color:v.a.getValue(t.icon.color,i,e.layer_),width:1}):void 0,anchor:v.a.getValue(t.icon.anchor,i,e.layer_),anchorXUnits:v.a.getValue(t.icon.anchorxunits,i,e.layer_),anchorYUnits:v.a.getValue(t.icon.anchoryunits,i,e.layer_),src:v.a.getValue(t.icon.src,i,e.layer_),opacity:v.a.getValue(t.icon.opacity,i,e.layer_),scale:v.a.getValue(t.icon.scale,i,e.layer_),snapToPixel:v.a.getValue(t.icon.snaptopixel,i,e.layer_),offsetOrigin:v.a.getValue(t.icon.offsetorigin,i,e.layer_),offset:v.a.getValue(t.icon.offset,i,e.layer_),crossOrigin:v.a.getValue(t.icon.crossorigin,i,e.layer_),anchorOrigin:v.a.getValue(t.icon.anchororigin,i,e.layer_),size:v.a.getValue(t.icon.size,i,e.layer_)})):g.setImage(new x.a({anchor:v.a.getValue(t.icon.anchor,i,e.layer_),anchorXUnits:v.a.getValue(t.icon.anchorxunits,i,e.layer_),anchorYUnits:v.a.getValue(t.icon.anchoryunits,i,e.layer_),src:v.a.getValue(t.icon.src,i,e.layer_),opacity:v.a.getValue(t.icon.opacity,i,e.layer_),scale:v.a.getValue(t.icon.scale,i,e.layer_),rotation:v.a.getValue(t.icon.rotation,i,e.layer_),rotateWithView:v.a.getValue(t.icon.rotate,i,e.layer_),snapToPixel:v.a.getValue(t.icon.snaptopixel,i,e.layer_),offsetOrigin:v.a.getValue(t.icon.offsetorigin,i,e.layer_),offset:v.a.getValue(t.icon.offset,i,e.layer_),crossOrigin:v.a.getValue(t.icon.crossorigin,i,e.layer_),anchorOrigin:v.a.getValue(t.icon.anchororigin,i,e.layer_),size:v.a.getValue(t.icon.size,i,e.layer_)}))),[y,g]}}},{key:"drawGeometryToCanvas",value:function(t){this.olStyleFn_()[1].getImage()instanceof b.a?t.drawGeometry(new h.a([10,10])):t.drawCircle(new d.a([this.getCanvasSize()[0]/2,this.getCanvasSize()[1]/2],this.getRadius_()))}},{key:"updateCanvas",value:function(t){var e=this,r=this.options_;if(r.point&&(r=r.point),r.icon&&r.icon.src&&"string"==typeof r.icon.src&&r.icon.src.endsWith(".svg")&&(r.icon.fill||r.icon.stroke))Object(n.cb)(r.icon.src,r).then((function(){e.updateCanvas(t)}));else if(this.updateFacadeOptions(r),!Object(n.T)(r)){var i=this.getCanvasSize(),o=Object(g.d)(t.getContext("2d"),{size:i}),a=this.olStyleFn_()[0];Object(n.X)(a.getText())||a.setText(null),!Object(n.X)(this.olStyleFn_()[1])&&this.olStyleFn_()[1].getImage()instanceof b.a&&(a=this.olStyleFn_()[1]);var s=a.getImage().getStroke();Object(n.X)(s)||Object(n.X)(s.getWidth())||s.setWidth(3),o.setStyle(a),this.drawGeometryToCanvas(o)}}},{key:"getCanvasSize",value:function(){var t,e=this.olStyleFn_()[1].getImage();if(e instanceof b.a)t=[90,90];else{var r=this.getRadius_(e);t=[2*r+4,2*r+4]}return t}},{key:"getRadius_",value:function(t){return t instanceof y.a?25:t instanceof b.a?t.getRadius():this.olStyleFn_()[0].getImage().getRadius()}}])&&T(e.prototype,r),i&&T(e,i),Object.defineProperty(e,"prototype",{writable:!1}),R}(v.a);A.DEFAULT_WIDTH_POINT=3,A.getFonts=function(){var t=[],e=b.a.defs.fonts;return Object.keys(e).forEach((function(e){t.push(e)})),t},A.getFontsIcons=function(t){var e=[],r=b.a.defs.glyphs;return Object.entries(r).forEach((function(r){r[1].font===t&&e.push(r[0])})),e},e.a=A},function(t,e,r){"use strict";var n=r(345),i=r(51),o=r(12),a=r(0),s=r(3),c=r(6),l=r(11);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===u(o)?o:String(o)),n)}var i,o}function p(t,e){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=y(t);if(e){var i=y(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}function m(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(m,t);var e,r,i,u=d(m);function m(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h(this,m),Object(a.ab)(n.a)&&Object(s.a)(Object(c.e)("exception").mbtiles_method);var f=l.Cb(t,o.MBTiles),p=new n.a(f,r,i);return(e=u.call(this,f,p)).name=f.name,e.legend=f.legend,e.source=f.source,e.url=f.url,e.options=r,e}return e=m,(r=[{key:"legend",get:function(){return this.getImpl().legend},set:function(t){Object(a.X)(t)?this.getImpl().legend=this.name:this.getImpl().legend=t}},{key:"getMaxExtent",value:function(){return this.getImpl().getMaxExtent()}},{key:"equals",value:function(t){var e=!1;return t instanceof m&&(e=this.url===t.url,e=e&&this.source===t.source,e=e&&this.legend===t.legend,e=e&&this.name===t.name,e=e&&this.options===t.options),e}}])&&f(e.prototype,r),i&&f(e,i),Object.defineProperty(e,"prototype",{writable:!1}),m}(i.a);e.a=g},function(t,e,r){"use strict";var n=r(241),i=r(51),o=r(0),a=r(3),s=r(11),c=r(12),l=r(6);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===u(o)?o:String(o)),n)}var i,o}function p(t,e){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=y(t);if(e){var i=y(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}function m(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(m,t);var e,r,i,u=d(m);function m(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h(this,m),Object(o.ab)(n.a)&&Object(a.a)(Object(l.e)("exception").xyz_method);var f=s.Cb(t,c.XYZ),p=r;"string"!=typeof t&&(p.maxExtent=t.maxExtent);var d=new n.a(t,p,i);return(e=u.call(this,f,d)).url=f.url,e.name=f.name,e.legend=f.legend,e.minZoom=f.minZoom,e.maxZoom=f.maxZoom,e.tileGridMaxZoom=f.tileGridMaxZoom,e.options=r,e}return e=m,(r=[{key:"equals",value:function(t){var e=!1;return t instanceof m&&(e=this.url===t.url,e=e&&this.name===t.name,e=e&&this.options===t.options),e}}])&&f(e.prototype,r),i&&f(e,i),Object.defineProperty(e,"prototype",{writable:!1}),m}(i.a);e.a=g},function(t,e,r){"use strict";r(786);var n=r(650),i=r.n(n),o=r(651),a=r.n(o),s=r(421),c=r(74),l=r(31),u=r(6),h=r(226),f=r(0),p=r(91),d=r(243),m=r(222);function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==y(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===y(o)?o:String(o)),n)}var i,o}function b(t,e){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=w(t);if(e){var i=w(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return O(this,r)}}function O(t,e){if(e&&("object"===y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(c,t);var e,r,n,o=v(c);function c(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g(this,c);var r=new s.a;return(t=o.call(this,r,c.NAME)).position=e.position,t.closePanel=e.closePanel,t.urlAttribute=e.urlAttribute||"Gobierno de Espaa",t.options=e,t.url_=e.url||"https://componentes.cnig.es/api-core/files/attributions/WMTS_PNOA_20170220/atribucionPNOA_Url.kml",t.type_=e.type||"kml",t.layerName_=e.layerName||"attributions",t.layer_=e.layer,t.scale_=Number.parseInt(e.scale,10)||1e4,t.attributionParam_=e.attributionParam||"atribucion",t.urlParam_=e.urlParam||"url",t.defaultAttribution_=e.defaultAttribution||"Instituto Geogr&aacute;fico Nacional",t.defaultURL_=e.defaultURL||"https://www.ign.es/",t.tooltip_=e.tooltip||Object(u.e)("attributionsControl").tooltip,t.collectionsAttributions_=e.collectionsAttributions||[],t.collectionsAttributions_=t.collectionsAttributions_.map((function(e){return"string"==typeof e?t.transformString(e):e})),t.order=e.order,t}return e=c,(r=[{key:"transformString",value:function(t){return{attribuccion:t,id:window.crypto.randomUUID?window.crypto.randomUUID():(new Date).getTime()}}},{key:"createView",value:function(t){var e=this;return this.map_=t,new Promise((function(t,r){var n=Object(l.c)(i.a,{vars:{collapsible:window.innerWidth<769,order:e.order}});n.querySelector("#close-button").addEventListener("click",(function(){return e.closePanel()})),e.html_=n,e.initMode(),e.onMoveEnd((function(){e.changeAttributions()})),e.accessibilityTab(n),e.map_.getLayers().forEach((function(t){var r=t.attribution;r&&("string"==typeof r?e.addHTMLContent(r):e.addAttributions(r))})),t(n)}))}},{key:"initMode",value:function(){var t=this;this.collectionsAttributions_.forEach((function(e){var r=e.id,n=e.contentAttributions,i=e.contentType;n&&t.createVectorLayer(r,n,i)}))}},{key:"createVectorLayer",value:function(t,e,r){var n=this.layer_;if(!(n instanceof d.a)){var i={name:"".concat(t,"_attributions"),url:e,legend:"".concat(t,"_attributions")};"geojson"===r?n=new d.a(i,{displayInLayerSwitcher:!1}):"kml"===r?n=new m.a(i,{displayInLayerSwitcher:!1}):this.type}this.map_.getLayers({name:n}).length<1&&(this.map_.addLayers(n),n.displayInLayerSwitcher=!1,n.setVisible(!1))}},{key:"changeAttributions",value:function(){var t=this;this.clearContent(),this.collectionsAttributions_.forEach((function(e){if("string"==typeof e&&(e=t.transformString(e)),/<[a-z][\s\S]*>/i.test(e.attribuccion))t.addHTMLContent(e.attribuccion);else{var r=!1,n=t.map_.getZoom(),i=[],o=!1;if(t.checkDefaultAttribution(e)&&Object(f.X)(e.name)&&(o=t.defaultAttribution(e,n,i)),i=o||[e],t.map_.getScale()<=t.scale_){t.setVisible(!0);var a=t.map_.getLayers().filter((function(t){return!(!t.name&&!t.legend)&&(t.name?t.name.includes("".concat(e.id,"_attributions")):t.legend.includes("".concat(e.id,"_attributions")))}));if(a.length>0){var s=a[0].getFeatures();r=t.getMapAttributions(s)}}r&&(i=i.concat(r)),t.addContent(i)}}))}},{key:"defaultAttribution",value:function(t,e){var r=this.map_.getLayers().filter((function(t){return"WMTS"===t.type&&!t.displayInLayerSwitcher&&"OI.OrthoimageCoverage"===t.name})).length>0;return void 0!==t&&"OI.OrthoimageCoverage"===t.name||r?e<14?[{name:"Copernicus Sentinel 2019",url:"https://sentinel.esa.int/web/sentinel/home"}]:[{name:"Sistema Cartogrfico Nacional",url:"http://www.scne.es/"}]:void 0===t||"IGNBaseTodo"!==t.name&&"EL.GridCoverageDSM"!==t.name?void 0!==t&&"LC.LandCoverSurfaces"===t.name&&(e<14?[{name:"CORINE-Land Cover. Instituto Geogrfico Nacional",url:this.defaultURL_}]:[{name:"Sistema Cartogrfico Nacional",url:"http://www.scne.es/"}]):[{name:"Sistema Cartogrfico Nacional",url:"http://www.scne.es/"}]}},{key:"checkDefaultAttribution",value:function(t){return["OI.OrthoimageCoverage","EL.GridCoverageDSM","IGNBaseTodo","LC.LandCoverSurfaces"].includes(t.name)}},{key:"addContent",value:function(t){var e=this,r=this.html_,n=t[0].name||"",i=t.map((function(t){var r=t.url?"a":"p",n=document.createElement(r);"a"===r&&(n.target="_blank",n.href=t.url||"",n.setAttribute("rol","link")),n.setAttribute("tabindex",e.order);var i=t.description?t.description:"".concat(t.name,", ").concat(e.urlAttribute);return n.innerHTML=i||"",n})),o=document.createElement("div");o.classList.add("attributionElements"),i[0].innerHTML="<span>".concat(n,"</span> ").concat(i[0].innerHTML),i.forEach((function(t){o.append(t)})),r.append(o)}},{key:"addHTMLContent",value:function(t){this.html_.innerHTML+='<section class="attributionElements">'.concat(t,"</section>")}},{key:"clearContent",value:function(){if(!Object(f.X)(this.html_)){var t=this.html_;t.querySelectorAll(".attributionElements").forEach((function(e){return t.removeChild(e)}))}}},{key:"setVisible",value:function(t){this.html_.style.display=!1===t?"none":""}},{key:"getMapAttributions",value:function(t){var e=this;return this.updateBBoxFeature(),Object(h.c)(this.bboxFeature_).execute(t).map((function(t){return{name:t.getAttribute(e.attributionParam_)||"",url:t.getAttribute(e.urlParam_)||e.defaultURL_}})).filter((function(t,e,r){return r.map((function(t){return t.attribution})).indexOf(t.attribution)===e}))}},{key:"addAttributions",value:function(t){var e=this;if(!this.collectionsAttributions_.some((function(e){var r=e.id;return t===r})))if(/<[a-z][\s\S]*>/i.test(t.attribuccion))this.addHTMLContent(t.attribuccion),this.collectionsAttributions_.push(t);else if(t.collectionsAttributions)t.collectionsAttributions.forEach((function(r){e.collectionsAttributions_.push(t),e.addHTMLContent(r)}));else{this.collectionsAttributions_.push(t),this.addContent([t]);var r=t.id,n=t.contentType,i=t.contentAttributions;this.createVectorLayer(r,i,n)}}},{key:"closePanel",value:function(){this.getPanel().collapse()}},{key:"updateBBoxFeature",value:function(){var t=this.map_.getBbox(),e=t.x,r=t.y;this.bboxFeature_=new p.a("bbox_feature",{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[[e.min,r.min],[e.min,r.max],[e.max,r.max],[e.max,r.min],[e.min,r.min]]]}})}},{key:"setCollapsiblePanel",value:function(t){this.getPanel()&&this.getPanel().getTemplatePanel()&&(t.target.innerWidth<769?(this.getPanel().getTemplatePanel().classList.remove("no-collapsible"),this.closePanel()):(this.getPanel().getTemplatePanel().classList.add("no-collapsible"),this.getPanel().getTemplatePanel().classList.remove("collapsed")))}},{key:"getAttributionsFromMap",value:function(t){return t.map((function(t){return t.getAttributions()})).filter(Boolean)}},{key:"onMoveEnd",value:function(t){this.impl_.registerEvent("moveend",this.map_,(function(e){return t(e)}))}},{key:"getHelp",value:function(){var t=Object(u.e)("attributionsControl").textHelp;return{title:c.NAME,content:new Promise((function(e){e(Object(l.c)(a.a,{vars:{urlImages:"".concat(M.config.MAPEA_URL,"assets/images"),translations:{help1:t.text1,help2:t.text2}}}))}))}}},{key:"equals",value:function(t){var e=t instanceof c;return e}},{key:"getAttributions",value:function(){return this.collectionsAttributions_}},{key:"setAttributions",value:function(t){this.collectionsAttributions_=t,this.changeAttributions()}},{key:"destroy",value:function(){this.getImpl().destroy()}},{key:"accessibilityTab",value:function(t){var e=this;t.querySelectorAll('[tabindex="0"]').forEach((function(t){return t.setAttribute("tabindex",e.order)}))}}])&&_(e.prototype,r),n&&_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(c.a);E.NAME="attributions",e.a=E},function(t,e,r){"use strict";r.d(e,"b",(function(){return I}));var n=r(13),i=r(34),o=r(2),a=r(97),s=r(15),c=r(45),l=r(18),u=r(371),h=r(14);function f(t,e,r,n,i,o,a,s,c,l,u){for(var f,p,d=[],m=t[e]>t[r-n],y=i.length,g=t[e],_=t[e+1],b=t[e+=n],v=t[e+1],O=0,w=Math.sqrt(Math.pow(b-g,2)+Math.pow(v-_,2)),M=!1,E=0;E<y;++E){for(var x=i[f=m?y-E-1:E],S=s*c(l,x,u),j=o+S/2;e<r-n&&O+w<j;)g=b,_=v,b=t[e+=n],v=t[e+1],O+=w,w=Math.sqrt(Math.pow(b-g,2)+Math.pow(v-_,2));var P=j-O,T=Math.atan2(v-_,b-g);if(m&&(T+=T>0?-Math.PI:Math.PI),void 0!==p){var I=T-p;if(M=M||0!==I,I+=I>Math.PI?-2*Math.PI:I<-Math.PI?2*Math.PI:0,Math.abs(I)>a)return null}p=T;var L=P/w,R=Object(h.c)(g,b,L),C=Object(h.c)(_,v,L);d[f]=[R,C,S/2,T,x],o+=S}return M?d:[[d[0][0],d[0][1],d[0][2],d[0][3],i]]}var p=r(24),d=r(27),m=r(249),y=r(405),g=r.n(y),_=r(60),b=Object(o.k)(),v=Object(l.d)(),O=[],w=[],M=[],E=[],x=function(){function t(t,e,r,n){this.overlaps=r,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.declutterItems=[],this.instructions=n.instructions,this.coordinates=n.coordinates,this.coordinateCache_={},this.renderedTransform_=Object(l.d)(),this.hitDetectionInstructions=n.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=n.fillStates||{},this.strokeStates=n.strokeStates||{},this.textStates=n.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(t,e,r,n){var i=t+e+r+n;if(this.labels_[i])return this.labels_[i];var o=n?this.strokeStates[n]:null,a=r?this.fillStates[r]:null,s=this.textStates[e],c=this.pixelRatio,l=s.scale*c,u=m.a[s.textAlign||p.m],h=n&&o.lineWidth?o.lineWidth:0,f=t.split("\n"),d=f.length,y=[],g=Object(p.s)(s.font,f,y),b=Object(p.r)(s.font),v=b*d,O=g+h,w=[],M={width:Math.ceil((O+2)*l),height:Math.ceil((v+h)*l),contextInstructions:w};(1!=l&&w.push("scale",[l,l]),w.push("font",s.font),n)&&(w.push("strokeStyle",o.strokeStyle),w.push("lineWidth",h),w.push("lineCap",o.lineCap),w.push("lineJoin",o.lineJoin),w.push("miterLimit",o.miterLimit),(_.g?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(w.push("setLineDash",[o.lineDash]),w.push("lineDashOffset",o.lineDashOffset)));r&&w.push("fillStyle",a.fillStyle),w.push("textBaseline","middle"),w.push("textAlign","center");var E,x=.5-u,S=u*O+x*h;if(n)for(E=0;E<d;++E)w.push("strokeText",[f[E],S+x*y[E],.5*(h+b)+E*b]);if(r)for(E=0;E<d;++E)w.push("fillText",[f[E],S+x*y[E],.5*(h+b)+E*b]);return this.labels_[i]=M,M},t.prototype.replayTextBackground_=function(t,e,r,n,i,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,r),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},t.prototype.replayImageOrLabel_=function(t,e,r,n,i,a,s,c,u,h,f,d,m,y,g,_,x,S){var j=x||S;e-=i*=m,r-=a*=m;var P=g+h>n.width?n.width-h:g,T=c+f>n.height?n.height-f:c,I=_[3]+P*m+_[1],L=_[0]+T*m+_[2],R=e-_[3],C=r-_[0];(j||0!==d)&&(O[0]=R,E[0]=R,O[1]=C,w[1]=C,w[0]=R+I,M[0]=w[0],M[1]=C+L,E[1]=M[1]);var A=null;if(0!==d){var k=e+i,N=r+a;A=Object(l.b)(v,k,N,1,1,d,-k,-N),Object(l.a)(v,O),Object(l.a)(v,w),Object(l.a)(v,M),Object(l.a)(v,E),Object(o.l)(Math.min(O[0],w[0],M[0],E[0]),Math.min(O[1],w[1],M[1],E[1]),Math.max(O[0],w[0],M[0],E[0]),Math.max(O[1],w[1],M[1],E[1]),b)}else Object(o.l)(R,C,R+I,C+L,b);var D=t.canvas,F=S?S[2]*m/2:0,B=b[0]-F<=D.width&&b[2]+F>=0&&b[1]-F<=D.height&&b[3]+F>=0;if(y&&(e=Math.round(e),r=Math.round(r)),s){if(!B&&1==s[4])return;Object(o.r)(s,b);var U=B?[t,A?A.slice(0):null,u,n,h,f,P,T,e,r,m]:null;U&&(j&&U.push(x,S,O.slice(0),w.slice(0),M.slice(0),E.slice(0)),s.push(U))}else B&&(j&&this.replayTextBackground_(t,O,w,M,E,x,S),Object(p.o)(t,A,u,n,h,f,P,T,e,r,m))},t.prototype.fill_=function(t){if(this.alignFill_){var e=Object(l.a)(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;t.save(),t.translate(e[0]%r,e[1]%r),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},t.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},t.prototype.renderDeclutter=function(t,e,r,n){if(t&&t.length>5){var i=t[4];if(1==i||i==t.length-5){var a={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(n||(n=new g.a(9)),!n.collides(a)){n.insert(a);for(var s=5,c=t.length;s<c;++s){var l=t[s],u=l[0],h=u.globalAlpha;h!==r&&(u.globalAlpha=r),l.length>11&&this.replayTextBackground_(l[0],l[13],l[14],l[15],l[16],l[11],l[12]),p.o.apply(void 0,l),h!==r&&(u.globalAlpha=h)}}t.length=5,Object(o.m)(t)}}return n},t.prototype.drawLabelWithPointPlacement_=function(t,e,r,n){var i=this.textStates[e],o=this.createLabel(t,e,n,r),a=this.strokeStates[r],s=this.pixelRatio,c=m.a[i.textAlign||p.m],l=m.a[i.textBaseline||p.n],u=a&&a.lineWidth?a.lineWidth:0;return{label:o,anchorX:c*(o.width/s-2*i.scale)+2*(.5-c)*u,anchorY:l*o.height/s+2*(.5-l)*u}},t.prototype.execute_=function(t,e,r,i,s,c){var h;this.declutterItems.length=0,this.pixelCoordinates_&&Object(n.b)(e,this.renderedTransform_)?h=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),h=Object(a.c)(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),Object(l.k)(this.renderedTransform_,e));for(var y,g,_,b,v,O,w,M,E,x,S,j,P,T,I,L,R,C=0,A=r.length,k=0,N=0,D=0,F=null,B=null,U=this.coordinateCache_,G=this.viewRotation_,z=Math.round(1e12*Math.atan2(-e[1],e[0]))/1e12,W={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:G},X=this.instructions!=r||this.overlaps?0:200;C<A;){var q=r[C];switch(q[0]){case d.c.BEGIN_GEOMETRY:(I=q[1]).getGeometry()?void 0===c||Object(o.H)(c,q[3])?++C:C=q[2]+1:C=q[2];break;case d.c.BEGIN_PATH:N>X&&(this.fill_(t),N=0),D>X&&(t.stroke(),D=0),N||D||(t.beginPath(),b=NaN,v=NaN),++C;break;case d.c.CIRCLE:var V=h[k=q[1]],Y=h[k+1],Z=h[k+2]-V,K=h[k+3]-Y,H=Math.sqrt(Z*Z+K*K);t.moveTo(V+H,Y),t.arc(V,Y,H,0,2*Math.PI,!0),++C;break;case d.c.CLOSE_PATH:t.closePath(),++C;break;case d.c.CUSTOM:k=q[1],y=q[2];var J=q[3],Q=q[4],$=6==q.length?q[5]:void 0;W.geometry=J,W.feature=I,C in U||(U[C]=[]);var tt=U[C];$?$(h,k,y,2,tt):(tt[0]=h[k],tt[1]=h[k+1],tt.length=2),Q(tt,W),++C;break;case d.c.DRAW_IMAGE:k=q[1],y=q[2],x=q[3],g=q[4],_=q[5],E=s?null:q[6];var et=q[7],rt=q[8],nt=q[9],it=q[10],ot=q[11],at=q[12],st=q[13],ct=q[14];if(!x&&q.length>=19){S=q[18],j=q[19],P=q[20],T=q[21];var lt=this.drawLabelWithPointPlacement_(S,j,P,T);x=lt.label,q[3]=x;var ut=q[22];g=(lt.anchorX-ut)*this.pixelRatio,q[4]=g;var ht=q[23];_=(lt.anchorY-ht)*this.pixelRatio,q[5]=_,et=x.height,q[7]=et,ct=x.width,q[14]=ct}var ft=void 0;q.length>24&&(ft=q[24]);var pt=void 0,dt=void 0,mt=void 0;q.length>16?(pt=q[15],dt=q[16],mt=q[17]):(pt=p.k,dt=!1,mt=!1),ot&&z?at+=G:ot||z||(at-=G);for(var yt=0,gt=0;k<y;k+=2)if(!(ft&&ft[yt++]<ct/this.pixelRatio)){if(E){var _t=Math.floor(gt);E.length<_t+1&&((M=Object(o.k)()).push(E[0][4]),E.push(M)),M=E[_t]}this.replayImageOrLabel_(t,h[k],h[k+1],x,g,_,M,et,rt,nt,it,at,st,i,ct,pt,dt?F:null,mt?B:null),M&&(gt===Math.floor(gt)&&this.declutterItems.push(this,M,I),gt+=1/M[4])}++C;break;case d.c.DRAW_CHARS:var bt=q[1],vt=q[2],Ot=q[3];M=s?null:q[4];var wt=q[5];T=q[6];var Mt=q[7],Et=q[8],xt=q[9];P=q[10];var St=q[11];S=q[12],j=q[13];var jt=q[14],Pt=this.textStates[j],Tt=Pt.font,It=Pt.scale*Et,Lt=void 0;Tt in this.widths_?Lt=this.widths_[Tt]:(Lt={},this.widths_[Tt]=Lt);var Rt=Object(u.a)(h,bt,vt,2),Ct=It*Object(p.q)(Tt,S,Lt);if(wt||Ct<=Rt){var At=this.textStates[j].textAlign,kt=f(h,bt,vt,2,S,(Rt-Ct)*m.a[At],Mt,It,p.q,Tt,Lt);if(kt){var Nt=void 0,Dt=void 0,Ft=void 0,Bt=void 0,Ut=void 0;if(P)for(Nt=0,Dt=kt.length;Nt<Dt;++Nt)Ft=(Ut=kt[Nt])[4],Bt=this.createLabel(Ft,j,"",P),g=Ut[2]+St,_=Ot*Bt.height+2*(.5-Ot)*St-xt,this.replayImageOrLabel_(t,Ut[0],Ut[1],Bt,g,_,M,Bt.height,1,0,0,Ut[3],jt,!1,Bt.width,p.k,null,null);if(T)for(Nt=0,Dt=kt.length;Nt<Dt;++Nt)Ft=(Ut=kt[Nt])[4],Bt=this.createLabel(Ft,j,T,""),g=Ut[2],_=Ot*Bt.height-xt,this.replayImageOrLabel_(t,Ut[0],Ut[1],Bt,g,_,M,Bt.height,1,0,0,Ut[3],jt,!1,Bt.width,p.k,null,null)}}this.declutterItems.push(this,M,I),++C;break;case d.c.END_GEOMETRY:if(void 0!==s){var Gt=s(I=q[1]);if(Gt)return Gt}++C;break;case d.c.FILL:X?N++:this.fill_(t),++C;break;case d.c.MOVE_TO_LINE_TO:for(k=q[1],y=q[2],L=h[k],w=(R=h[k+1])+.5|0,(O=L+.5|0)===b&&w===v||(t.moveTo(L,R),b=O,v=w),k+=2;k<y;k+=2)O=(L=h[k])+.5|0,w=(R=h[k+1])+.5|0,k!=y-2&&O===b&&w===v||(t.lineTo(L,R),b=O,v=w);++C;break;case d.c.SET_FILL_STYLE:F=q,this.alignFill_=q[2],N&&(this.fill_(t),N=0,D&&(t.stroke(),D=0)),t.fillStyle=q[1],++C;break;case d.c.SET_STROKE_STYLE:B=q,D&&(t.stroke(),D=0),this.setStrokeStyle_(t,q),++C;break;case d.c.STROKE:X?D++:t.stroke(),++C;break;default:++C}}N&&this.fill_(t),D&&t.stroke()},t.prototype.execute=function(t,e,r,n){this.viewRotation_=r,this.execute_(t,e,this.instructions,n,void 0,void 0)},t.prototype.executeHitDetection=function(t,e,r,n,i){return this.viewRotation_=r,this.execute_(t,e,this.hitDetectionInstructions,!0,n,i)},t}(),S=[c.a.POLYGON,c.a.CIRCLE,c.a.LINE_STRING,c.a.IMAGE,c.a.TEXT,c.a.DEFAULT],j=function(){function t(t,e,r,n,i,o){this.maxExtent_=t,this.overlaps_=n,this.pixelRatio_=r,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Object(l.d)(),this.createExecutors_(i)}return t.prototype.clip=function(t,e){var r=this.getClipCoords(e);t.beginPath(),t.moveTo(r[0],r[1]),t.lineTo(r[2],r[3]),t.lineTo(r[4],r[5]),t.lineTo(r[6],r[7]),t.clip()},t.prototype.createExecutors_=function(t){for(var e in t){var r=this.executorsByZIndex_[e];void 0===r&&(r={},this.executorsByZIndex_[e]=r);var n=t[e];for(var i in n){var o=n[i];r[i]=new x(this.resolution_,this.pixelRatio_,this.overlaps_,o)}}},t.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var r=this.executorsByZIndex_[e],n=0,i=t.length;n<i;++n)if(t[n]in r)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(t,e,r,a,s,u){var h=2*(a=Math.round(a))+1,f=Object(l.b)(this.hitDetectionTransform_,a+.5,a+.5,1/e,-1/e,-r,-t[0],-t[1]);this.hitDetectionContext_||(this.hitDetectionContext_=Object(i.a)(h,h));var p,d=this.hitDetectionContext_;d.canvas.width!==h||d.canvas.height!==h?(d.canvas.width=h,d.canvas.height=h):d.clearRect(0,0,h,h),void 0!==this.renderBuffer_&&(p=Object(o.k)(),Object(o.s)(p,t),Object(o.d)(p,e*(this.renderBuffer_+a),p));var m,y=function(t){if(void 0!==P[t])return P[t];for(var e=2*t+1,r=new Array(e),n=0;n<e;n++)r[n]=new Array(e);var i=t,o=0,a=0;for(;i>=o;)T(r,t+i,t+o),T(r,t+o,t+i),T(r,t-o,t+i),T(r,t-i,t+o),T(r,t-i,t-o),T(r,t-o,t-i),T(r,t+o,t-i),T(r,t+i,t-o),o++,2*((a+=1+2*o)-i)+1>0&&(a+=1-2*(i-=1));return P[t]=r,r}(a);function g(t){for(var e=d.getImageData(0,0,h,h).data,r=0;r<h;r++)for(var n=0;n<h;n++)if(y[r][n]&&e[4*(n*h+r)+3]>0){var i=void 0;return(!u||m!=c.a.IMAGE&&m!=c.a.TEXT||-1!==u.indexOf(t))&&(i=s(t)),i||void d.clearRect(0,0,h,h)}}var _,b,v,O,w,M=Object.keys(this.executorsByZIndex_).map(Number);for(M.sort(n.i),_=M.length-1;_>=0;--_){var E=M[_].toString();for(v=this.executorsByZIndex_[E],b=S.length-1;b>=0;--b)if(void 0!==(O=v[m=S[b]])&&(w=O.executeHitDetection(d,f,r,g,p)))return w}},t.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var r=e[0],n=e[1],i=e[2],o=e[3],s=[r,n,r,o,i,o,i,n];return Object(a.c)(s,0,8,2,t,s),s},t.prototype.isEmpty=function(){return Object(s.d)(this.executorsByZIndex_)},t.prototype.execute=function(t,e,r,i,o,a){var s=Object.keys(this.executorsByZIndex_).map(Number);s.sort(n.i),this.maxExtent_&&(t.save(),this.clip(t,e));var l,u,h,f,p,d,m=o||S;for(l=0,u=s.length;l<u;++l){var y=s[l].toString();for(p=this.executorsByZIndex_[y],h=0,f=m.length;h<f;++h){var g=m[h];if(void 0!==(d=p[g]))if(!a||g!=c.a.IMAGE&&g!=c.a.TEXT)d.execute(t,e,r,i);else{var _=a[y];_?_.push(d,e.slice(0)):a[y]=[d,e.slice(0)]}}}this.maxExtent_&&t.restore()},t}(),P={0:[[!0]]};function T(t,e,r){var n,i=Math.floor(t.length/2);if(e>=i)for(n=i;n<e;n++)t[n][r]=!0;else if(e<i)for(n=e+1;n<i;n++)t[n][r]=!0}function I(t,e,r,i,o,a){for(var s=Object.keys(t).map(Number).sort(n.i),c=0,l=s.length;c<l;++c)for(var u=t[s[c].toString()],h=void 0,f=0,p=u.length;f<p;){var d=u[f++];d!==h&&(h=d,a.push({items:d.declutterItems,opacity:i}));var m=u[f++];d.execute(e,m,r,o)}}e.a=j},function(t,e,r){"use strict";var n=r(46),i=r(431),o=r(433),a=r(434),s=r(208);function c(t){s.call(this,"digest"),this._hash=t}n(c,s),c.prototype._update=function(t){this._hash.update(t)},c.prototype._final=function(){return this._hash.digest()},t.exports=function(t){return"md5"===(t=t.toLowerCase())?new i:"rmd160"===t||"ripemd160"===t?new o:new c(a(t))}},function(t,e,r){"use strict";var n,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise((function(r,n){function i(r){t.removeListener(e,o),n(r)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}g(t,e,o,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&g(t,"error",e,r)}(t,i,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function l(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function h(t,e,r,n){var i,o,a,s;if(l(r),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),a=o[e]),void 0===a)a=o[e]=r,++t._eventsCount;else if("function"==typeof a?a=o[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=u(t))>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=a.length,s=c,console&&console.warn&&console.warn(s)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=f.bind(n);return i.listener=r,n.wrapFn=i,i}function d(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):y(i,i.length)}function m(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function y(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function g(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){n.once&&t.removeEventListener(e,i),r(o)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=i[t];if(void 0===c)return!1;if("function"==typeof c)o(c,this,e);else{var l=c.length,u=y(c,l);for(r=0;r<l;++r)o(u[r],this,e)}return!0},s.prototype.addListener=function(t,e){return h(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return h(this,t,e,!0)},s.prototype.once=function(t,e){return l(e),this.on(t,p(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return l(e),this.prependListener(t,p(this,t,e)),this},s.prototype.removeListener=function(t,e){var r,n,i,o,a;if(l(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},s.prototype.listeners=function(t){return d(this,t,!0)},s.prototype.rawListeners=function(t){return d(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):m.call(t,e)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(t,e,r){(function(t){function r(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===r(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===r(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===r(t)},e.isError=function(t){return"[object Error]"===r(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,r(94).Buffer)},function(t,e,r){(function(e){t.exports=function(t,r){for(var n=Math.min(t.length,r.length),i=new e(n),o=0;o<n;++o)i[o]=t[o]^r[o];return i}}).call(this,r(94).Buffer)},function(t,e,r){"use strict";var n=r(171),i=r(151);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=o,o.prototype.update=function(t,e){if(t=n.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=n.join32(t,0,t.length-r,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},o.prototype.digest=function(t){return this.update(this._pad()),i(null===this.pending),this._digest(t)},o.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n}},function(t,e,r){"use strict";const n=r(46),i=r(449).Reporter,o=r(447).Buffer;function a(t,e){i.call(this,e),o.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error("Input not Buffer")}function s(t,e){if(Array.isArray(t))this.length=0,this.value=t.map((function(t){return s.isEncoderBuffer(t)||(t=new s(t,e)),this.length+=t.length,t}),this);else if("number"==typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"==typeof t)this.value=t,this.length=o.byteLength(t);else{if(!o.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}n(a,i),e.DecoderBuffer=a,a.isDecoderBuffer=function(t){if(t instanceof a)return!0;return"object"==typeof t&&o.isBuffer(t.base)&&"DecoderBuffer"===t.constructor.name&&"number"==typeof t.offset&&"number"==typeof t.length&&"function"==typeof t.save&&"function"==typeof t.restore&&"function"==typeof t.isEmpty&&"function"==typeof t.readUInt8&&"function"==typeof t.skip&&"function"==typeof t.raw},a.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},a.prototype.restore=function(t){const e=new a(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,i.prototype.restore.call(this,t.reporter),e},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},a.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||"DecoderBuffer overrun");const r=new a(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r},a.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.EncoderBuffer=s,s.isEncoderBuffer=function(t){if(t instanceof s)return!0;return"object"==typeof t&&"EncoderBuffer"===t.constructor.name&&"number"==typeof t.length&&"function"==typeof t.join},s.prototype.join=function(t,e){return t||(t=o.alloc(this.length)),e||(e=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(r){r.join(t,e),e+=r.length})):("number"==typeof this.value?t[e]=this.value:"string"==typeof this.value?t.write(this.value,e):o.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length)),t}},function(t,e,r){"use strict";var n,i=r(10),o=r(67),a=r(72),s=r(25),c=r(42),l=r(13),u=r(29),h=r(50),f=r(16),p=r(32),d=r(2),m=r(8),y=r(28),g=r(26),_=r(70),b=r(86),v=r(58),O=r(104),w=r(237),M=r(41),E=r(4),x=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),S=[0,0,0,0],j=[],P="modifystart",T="modifyend",I=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.features=r,i.mapBrowserEvent=n,i}return x(e,t),e}(h.a),L=function(t){function e(e){var r,n,i=t.call(this,e)||this;if(i.boundHandleFeatureChange_=i.handleFeatureChange_.bind(i),i.condition_=e.condition?e.condition:p.n,i.defaultDeleteCondition_=function(t){return Object(p.a)(t)&&Object(p.p)(t)},i.deleteCondition_=e.deleteCondition?e.deleteCondition:i.defaultDeleteCondition_,i.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:p.c,i.vertexFeature_=null,i.vertexSegments_=null,i.lastPixel_=[0,0],i.ignoreNextSingleClick_=!1,i.modified_=!1,i.rBush_=new w.a,i.pixelTolerance_=void 0!==e.pixelTolerance?e.pixelTolerance:10,i.snappedToVertex_=!1,i.changingFeature_=!1,i.dragSegments_=[],i.overlay_=new b.a({source:new v.a({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:(r=Object(M.b)(),function(t,e){return r[m.a.POINT]}),updateWhileAnimating:!0,updateWhileInteracting:!0}),i.SEGMENT_WRITERS_={Point:i.writePointGeometry_.bind(i),LineString:i.writeLineStringGeometry_.bind(i),LinearRing:i.writeLineStringGeometry_.bind(i),Polygon:i.writePolygonGeometry_.bind(i),MultiPoint:i.writeMultiPointGeometry_.bind(i),MultiLineString:i.writeMultiLineStringGeometry_.bind(i),MultiPolygon:i.writeMultiPolygonGeometry_.bind(i),Circle:i.writeCircleGeometry_.bind(i),GeometryCollection:i.writeGeometryCollectionGeometry_.bind(i)},i.source_=null,e.source?(i.source_=e.source,n=new o.a(i.source_.getFeatures()),i.source_.addEventListener(O.a.ADDFEATURE,i.handleSourceAdd_.bind(i)),i.source_.addEventListener(O.a.REMOVEFEATURE,i.handleSourceRemove_.bind(i))):n=e.features,!n)throw new Error("The modify interaction requires features or a source");return i.features_=n,i.features_.forEach(i.addFeature_.bind(i)),i.features_.addEventListener(a.a.ADD,i.handleFeatureAdd_.bind(i)),i.features_.addEventListener(a.a.REMOVE,i.handleFeatureRemove_.bind(i)),i.lastPointerEvent_=null,i}return x(e,t),e.prototype.addFeature_=function(t){var e=t.getGeometry();if(e){var r=this.SEGMENT_WRITERS_[e.getType()];r&&r(t,e)}var n=this.getMap();n&&n.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,n),t.addEventListener(f.a.CHANGE,this.boundHandleFeatureChange_)},e.prototype.willModifyFeatures_=function(t){this.modified_||(this.modified_=!0,this.dispatchEvent(new I(P,this.features_,t)))},e.prototype.removeFeature_=function(t){this.removeFeatureSegmentData_(t),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.removeEventListener(f.a.CHANGE,this.boundHandleFeatureChange_)},e.prototype.removeFeatureSegmentData_=function(t){var e=this.rBush_,r=[];e.forEach((function(e){t===e.feature&&r.push(e)}));for(var n=r.length-1;n>=0;--n){for(var i=r[n],o=this.dragSegments_.length-1;o>=0;--o)this.dragSegments_[o][0]===i&&this.dragSegments_.splice(o,1);e.remove(i)}},e.prototype.setActive=function(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.prototype.setActive.call(this,e)},e.prototype.setMap=function(e){this.overlay_.setMap(e),t.prototype.setMap.call(this,e)},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleSourceAdd_=function(t){t.feature&&this.features_.push(t.feature)},e.prototype.handleSourceRemove_=function(t){t.feature&&this.features_.remove(t.feature)},e.prototype.handleFeatureAdd_=function(t){this.addFeature_(t.element)},e.prototype.handleFeatureChange_=function(t){if(!this.changingFeature_){var e=t.target;this.removeFeature_(e),this.addFeature_(e)}},e.prototype.handleFeatureRemove_=function(t){var e=t.element;this.removeFeature_(e)},e.prototype.writePointGeometry_=function(t,e){var r=e.getCoordinates(),n={feature:t,geometry:e,segment:[r,r]};this.rBush_.insert(e.getExtent(),n)},e.prototype.writeMultiPointGeometry_=function(t,e){for(var r=e.getCoordinates(),n=0,i=r.length;n<i;++n){var o=r[n],a={feature:t,geometry:e,depth:[n],index:n,segment:[o,o]};this.rBush_.insert(e.getExtent(),a)}},e.prototype.writeLineStringGeometry_=function(t,e){for(var r=e.getCoordinates(),n=0,i=r.length-1;n<i;++n){var o=r.slice(n,n+2),a={feature:t,geometry:e,index:n,segment:o};this.rBush_.insert(Object(d.c)(o),a)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var r=e.getCoordinates(),n=0,i=r.length;n<i;++n)for(var o=r[n],a=0,s=o.length-1;a<s;++a){var c=o.slice(a,a+2),l={feature:t,geometry:e,depth:[n],index:a,segment:c};this.rBush_.insert(Object(d.c)(c),l)}},e.prototype.writePolygonGeometry_=function(t,e){for(var r=e.getCoordinates(),n=0,i=r.length;n<i;++n)for(var o=r[n],a=0,s=o.length-1;a<s;++a){var c=o.slice(a,a+2),l={feature:t,geometry:e,depth:[n],index:a,segment:c};this.rBush_.insert(Object(d.c)(c),l)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var r=e.getCoordinates(),n=0,i=r.length;n<i;++n)for(var o=r[n],a=0,s=o.length;a<s;++a)for(var c=o[a],l=0,u=c.length-1;l<u;++l){var h=c.slice(l,l+2),f={feature:t,geometry:e,depth:[a,n],index:l,segment:h};this.rBush_.insert(Object(d.c)(h),f)}},e.prototype.writeCircleGeometry_=function(t,e){var r=e.getCenter(),n={feature:t,geometry:e,index:0,segment:[r,r]},i={feature:t,geometry:e,index:1,segment:[r,r]},o=[n,i];n.featureSegments=o,i.featureSegments=o,this.rBush_.insert(Object(d.n)(r),n);var a=e,s=Object(E.n)();if(s&&this.getMap()){var c=this.getMap().getView().getProjection();a=a.clone().transform(s,c),a=Object(g.c)(a).transform(c,s)}this.rBush_.insert(a.getExtent(),i)},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var r=e.getGeometriesArray(),n=0;n<r.length;++n){var i=r[n];(0,this.SEGMENT_WRITERS_[i.getType()])(t,i)}},e.prototype.createOrUpdateVertexFeature_=function(t){var e=this.vertexFeature_;e?e.getGeometry().setCoordinates(t):(e=new s.a(new y.a(t)),this.vertexFeature_=e,this.overlay_.getSource().addFeature(e));return e},e.prototype.handleEvent=function(e){return!e.pointerEvent||(this.lastPointerEvent_=e,e.map.getView().getInteracting()||e.type!=c.a.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(r=!(e.type!=c.a.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),e.type==c.a.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),t.prototype.handleEvent.call(this,e)&&!r);var r},e.prototype.handleDragEvent=function(t){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(t);for(var e=t.coordinate,r=0,n=this.dragSegments_.length;r<n;++r){for(var i=this.dragSegments_[r],o=i[0],a=o.depth,s=o.geometry,c=void 0,l=o.segment,h=i[1];e.length<s.getStride();)e.push(l[h][e.length]);switch(s.getType()){case m.a.POINT:c=e,l[0]=e,l[1]=e;break;case m.a.MULTI_POINT:(c=s.getCoordinates())[o.index]=e,l[0]=e,l[1]=e;break;case m.a.LINE_STRING:(c=s.getCoordinates())[o.index+h]=e,l[h]=e;break;case m.a.MULTI_LINE_STRING:case m.a.POLYGON:(c=s.getCoordinates())[a[0]][o.index+h]=e,l[h]=e;break;case m.a.MULTI_POLYGON:(c=s.getCoordinates())[a[1]][a[0]][o.index+h]=e,l[h]=e;break;case m.a.CIRCLE:if(l[0]=e,l[1]=e,0===o.index)this.changingFeature_=!0,s.setCenter(e),this.changingFeature_=!1;else{this.changingFeature_=!0;var f=t.map.getView().getProjection(),p=Object(u.f)(Object(E.h)(s.getCenter(),f),Object(E.h)(e,f)),d=Object(E.n)();if(d){var y=s.clone().transform(d,f);y.setRadius(p),p=y.transform(f,d).getRadius()}s.setRadius(p),this.changingFeature_=!1}}c&&this.setGeometryCoordinates_(s,c)}this.createOrUpdateVertexFeature_(e)},e.prototype.handleDownEvent=function(t){if(!this.condition_(t))return!1;var e=t.coordinate;this.handlePointerAtPixel_(t.pixel,t.map,e),this.dragSegments_.length=0,this.modified_=!1;var r=this.vertexFeature_;if(r){var n=t.map.getView().getProjection(),o=[],a=r.getGeometry().getCoordinates(),s=Object(d.c)([a]),c=this.rBush_.getInExtent(s),l={};c.sort(R);for(var h=0,f=c.length;h<f;++h){var p=c[h],y=p.segment,g=Object(i.c)(p.feature),_=p.depth;if(_&&(g+="-"+_.join("-")),l[g]||(l[g]=new Array(2)),p.geometry.getType()!==m.a.CIRCLE||1!==p.index)if(!Object(u.g)(y[0],a)||l[g][0])if(!Object(u.g)(y[1],a)||l[g][1])Object(i.c)(y)in this.vertexSegments_&&!l[g][0]&&!l[g][1]&&this.insertVertexCondition_(t)&&o.push([p,a]);else{if((p.geometry.getType()===m.a.LINE_STRING||p.geometry.getType()===m.a.MULTI_LINE_STRING)&&l[g][0]&&0===l[g][0].index)continue;this.dragSegments_.push([p,1]),l[g][1]=p}else this.dragSegments_.push([p,0]),l[g][0]=p;else{var b=A(e,p,n);Object(u.g)(b,a)&&!l[g][0]&&(this.dragSegments_.push([p,0]),l[g][0]=p)}}o.length&&this.willModifyFeatures_(t);for(var v=o.length-1;v>=0;--v)this.insertVertex_.apply(this,o[v])}return!!this.vertexFeature_},e.prototype.handleUpEvent=function(t){for(var e=this.dragSegments_.length-1;e>=0;--e){var r=this.dragSegments_[e][0],n=r.geometry;if(n.getType()===m.a.CIRCLE){var i=n.getCenter(),o=r.featureSegments[0],a=r.featureSegments[1];o.segment[0]=i,o.segment[1]=i,a.segment[0]=i,a.segment[1]=i,this.rBush_.update(Object(d.n)(i),o);var s=n,c=Object(E.n)();if(c){var l=t.map.getView().getProjection();s=s.clone().transform(c,l),s=Object(g.c)(s).transform(l,c)}this.rBush_.update(s.getExtent(),a)}else this.rBush_.update(Object(d.c)(r.segment),r)}return this.modified_&&(this.dispatchEvent(new I(T,this.features_,t)),this.modified_=!1),!1},e.prototype.handlePointerMove_=function(t){this.lastPixel_=t.pixel,this.handlePointerAtPixel_(t.pixel,t.map,t.coordinate)},e.prototype.handlePointerAtPixel_=function(t,e,r){var n=r||e.getCoordinateFromPixel(t),o=e.getView().getProjection(),a=Object(E.i)(Object(d.n)(n,S),o),s=e.getView().getResolution()*this.pixelTolerance_,c=Object(E.r)(Object(d.d)(a,s,S),o),l=this.rBush_.getInExtent(c);if(l.length>0){l.sort((function(t,e){return C(n,t,o)-C(n,e,o)}));var h=l[0],f=h.segment,p=A(n,h,o),y=e.getPixelFromCoordinate(p),g=Object(u.f)(t,y);if(g<=this.pixelTolerance_){var _={};if(h.geometry.getType()===m.a.CIRCLE&&1===h.index)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(p);else{var b=e.getPixelFromCoordinate(f[0]),v=e.getPixelFromCoordinate(f[1]),O=Object(u.k)(y,b),w=Object(u.k)(y,v);g=Math.sqrt(Math.min(O,w)),this.snappedToVertex_=g<=this.pixelTolerance_,this.snappedToVertex_&&(p=O>w?f[1]:f[0]),this.createOrUpdateVertexFeature_(p);for(var M=1,x=l.length;M<x;++M){var j=l[M].segment;if(!(Object(u.g)(f[0],j[0])&&Object(u.g)(f[1],j[1])||Object(u.g)(f[0],j[1])&&Object(u.g)(f[1],j[0])))break;_[Object(i.c)(j)]=!0}}return _[Object(i.c)(f)]=!0,void(this.vertexSegments_=_)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},e.prototype.insertVertex_=function(t,e){for(var r,n=t.segment,i=t.feature,o=t.geometry,a=t.depth,s=t.index;e.length<o.getStride();)e.push(0);switch(o.getType()){case m.a.MULTI_LINE_STRING:case m.a.POLYGON:(r=o.getCoordinates())[a[0]].splice(s+1,0,e);break;case m.a.MULTI_POLYGON:(r=o.getCoordinates())[a[1]][a[0]].splice(s+1,0,e);break;case m.a.LINE_STRING:(r=o.getCoordinates()).splice(s+1,0,e);break;default:return}this.setGeometryCoordinates_(o,r);var c=this.rBush_;c.remove(t),this.updateSegmentIndices_(o,s,a,1);var l={segment:[n[0],e],feature:i,geometry:o,depth:a,index:s};c.insert(Object(d.c)(l.segment),l),this.dragSegments_.push([l,1]);var u={segment:[e,n[1]],feature:i,geometry:o,depth:a,index:s+1};c.insert(Object(d.c)(u.segment),u),this.dragSegments_.push([u,0]),this.ignoreNextSingleClick_=!0},e.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=c.a.POINTERDRAG){var t=this.lastPointerEvent_;this.willModifyFeatures_(t);var e=this.removeVertex_();return this.dispatchEvent(new I(T,this.features_,t)),this.modified_=!1,e}return!1},e.prototype.removeVertex_=function(){var t,e,r,n,o,a,s,c,l,u,h,f=this.dragSegments_,p={},y=!1;for(o=f.length-1;o>=0;--o)u=(r=f[o])[0],h=Object(i.c)(u.feature),u.depth&&(h+="-"+u.depth.join("-")),h in p||(p[h]={}),0===r[1]?(p[h].right=u,p[h].index=u.index):1==r[1]&&(p[h].left=u,p[h].index=u.index+1);for(h in p){switch(l=p[h].right,s=p[h].left,(c=(a=p[h].index)-1)<0&&(c=0),t=e=(n=(u=void 0!==s?s:l).geometry).getCoordinates(),y=!1,n.getType()){case m.a.MULTI_LINE_STRING:e[u.depth[0]].length>2&&(e[u.depth[0]].splice(a,1),y=!0);break;case m.a.LINE_STRING:e.length>2&&(e.splice(a,1),y=!0);break;case m.a.MULTI_POLYGON:t=t[u.depth[1]];case m.a.POLYGON:(t=t[u.depth[0]]).length>4&&(a==t.length-1&&(a=0),t.splice(a,1),y=!0,0===a&&(t.pop(),t.push(t[0]),c=t.length-1))}if(y){this.setGeometryCoordinates_(n,e);var g=[];if(void 0!==s&&(this.rBush_.remove(s),g.push(s.segment[0])),void 0!==l&&(this.rBush_.remove(l),g.push(l.segment[1])),void 0!==s&&void 0!==l){var _={depth:u.depth,feature:u.feature,geometry:u.geometry,index:c,segment:g};this.rBush_.insert(Object(d.c)(_.segment),_)}this.updateSegmentIndices_(n,a,u.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),f.length=0}}return y},e.prototype.setGeometryCoordinates_=function(t,e){this.changingFeature_=!0,t.setCoordinates(e),this.changingFeature_=!1},e.prototype.updateSegmentIndices_=function(t,e,r,n){this.rBush_.forEachInExtent(t.getExtent(),(function(i){i.geometry===t&&(void 0===r||void 0===i.depth||Object(l.b)(i.depth,r))&&i.index>e&&(i.index+=n)}))},e}(_.b);function R(t,e){return t.index-e.index}function C(t,e,r){var n=e.geometry;if(n.getType()===m.a.CIRCLE){var i=n;if(1===e.index){var o=Object(E.n)();o&&(i=i.clone().transform(o,r));var a=Object(u.k)(i.getCenter(),Object(E.h)(t,r)),s=Math.sqrt(a)-i.getRadius();return s*s}}var c=Object(E.h)(t,r);return j[0]=Object(E.h)(e.segment[0],r),j[1]=Object(E.h)(e.segment[1],r),Object(u.l)(c,j)}function A(t,e,r){var n=e.geometry;if(n.getType()===m.a.CIRCLE&&1===e.index){var i=n,o=Object(E.n)();return o&&(i=i.clone().transform(o,r)),Object(E.q)(i.getClosestPoint(Object(E.h)(t,r)),r)}var a=Object(E.h)(t,r);return j[0]=Object(E.h)(e.segment[0],r),j[1]=Object(E.h)(e.segment[1],r),Object(E.q)(Object(u.c)(a,j),r)}e.a=L},function(t,e,r){"use strict";var n,i=r(67),o=r(33),a=r(50),s=r(39),c=r(13),l=r(70),u=r(235),h=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),f="translatestart",p="translating",d="translateend",m=function(t){function e(e,r,n,i,o){var a=t.call(this,e)||this;return a.features=r,a.coordinate=n,a.startCoordinate=i,a.mapBrowserEvent=o,a}return h(e,t),e}(a.a),y=function(t){function e(e){var r,n=this,i=e||{};if((n=t.call(this,i)||this).lastCoordinate_=null,n.startCoordinate_=null,n.features_=void 0!==i.features?i.features:null,i.layers)if("function"==typeof i.layers)r=i.layers;else{var a=i.layers;r=function(t){return Object(c.f)(a,t)}}else r=s.b;return n.layerFilter_=r,n.filter_=i.filter?i.filter:s.b,n.hitTolerance_=i.hitTolerance?i.hitTolerance:0,n.lastFeature_=null,n.addEventListener(Object(o.b)(u.a.ACTIVE),n.handleActiveChanged_),n}return h(e,t),e.prototype.handleDownEvent=function(t){if(this.lastFeature_=this.featuresAtPixel_(t.pixel,t.map),!this.lastCoordinate_&&this.lastFeature_){this.startCoordinate_=t.coordinate,this.lastCoordinate_=t.coordinate,this.handleMoveEvent(t);var e=this.features_||new i.a([this.lastFeature_]);return this.dispatchEvent(new m(f,e,t.coordinate,this.startCoordinate_,t)),!0}return!1},e.prototype.handleUpEvent=function(t){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(t);var e=this.features_||new i.a([this.lastFeature_]);return this.dispatchEvent(new m(d,e,t.coordinate,this.startCoordinate_,t)),this.startCoordinate_=null,!0}return!1},e.prototype.handleDragEvent=function(t){if(this.lastCoordinate_){var e=t.coordinate,r=e[0]-this.lastCoordinate_[0],n=e[1]-this.lastCoordinate_[1],o=this.features_||new i.a([this.lastFeature_]);o.forEach((function(t){var e=t.getGeometry();e.translate(r,n),t.setGeometry(e)})),this.lastCoordinate_=e,this.dispatchEvent(new m(p,o,e,this.startCoordinate_,t))}},e.prototype.handleMoveEvent=function(t){var e=t.map.getViewport();this.featuresAtPixel_(t.pixel,t.map)?(e.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),e.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):e.classList.remove("ol-grab","ol-grabbing")},e.prototype.featuresAtPixel_=function(t,e){return e.forEachFeatureAtPixel(t,function(t,e){if(this.filter_(t,e)&&(!this.features_||Object(c.f)(this.features_.getArray(),t)))return t}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){var r=this.getMap();t.prototype.setMap.call(this,e),this.updateState_(r)},e.prototype.handleActiveChanged_=function(){this.updateState_(null)},e.prototype.updateState_=function(t){var e=this.getMap(),r=this.getActive();e&&r||(e=e||t)&&e.getViewport().classList.remove("ol-grab","ol-grabbing")},e}(l.b);e.a=y},function(t,e,r){"use strict";var n=r(317),i=r.n(n),o=r(116),a=r(365),s=r(4),c=[{def:"+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs",extent:[-20037508.342789244,-20037508.342789244,20037508.342789244,20037508.342789244],codes:["EPSG:3857","EPSG:102100","EPSG:102113","EPSG:900913","urn:ogc:def:crs:EPSG:6.18:3:3857","urn:ogc:def:crs:EPSG::3857","http://www.opengis.net/gml/srs/epsg.xml#3857"],units:"m",metersPerUnit:1,datum:"WGS 84",proj:"Pseudo-Mercator",global:!0,coordRefSys:"http://www.opengis.net/def/crs/EPSG/0/3857"},{def:"+proj=longlat +datum=WGS84 +no_defs",extent:[-180,-90,180,90],codes:["EPSG:4326","urn:ogc:def:crs:EPSG::4326","urn:ogc:def:crs:OGC:1.3:CRS84","http://www.opengis.net/def/crs/OGC/1.3/CRS84"],units:"d",metersPerUnit:111319.49079327358,axisOrientation:"neu",datum:"WGS 84",proj:"longitud, latitud",coordRefSys:"http://www.opengis.net/def/crs/EPSG/0/4326"},{def:"+proj=utm +zone=27 +ellps=WGS84 +datum=WGS84 +units=m +no_defs",extent:[166021.4431,0,833978.5569,9329005.1825],codes:["EPSG:32627","urn:ogc:def:crs:EPSG::32627","http://www.opengis.net/gml/srs/epsg.xml#32627"],units:"m",datum:"WGS 84",proj:"UTM 27 N",coordRefSys:"http://www.opengis.net/def/crs/EPSG/0/32627"},{def:"+proj=utm +zone=28 +ellps=WGS84 +datum=WGS84 +units=m +no_defs",extent:[166021.44317933178,0,833978.5568206678,9329005.18301614],codes:["EPSG:32628","urn:ogc:def:crs:EPSG::32628","http://www.opengis.net/gml/srs/epsg.xml#32628"],units:"m",datum:"WGS 84",proj:"UTM 28 N",coordRefSys:"http://www.opengis.net/def/crs/EPSG/0/32628"},{def:"+proj=utm +zone=29 +ellps=WGS84 +datum=WGS84 +units=m +no_defs",extent:[166021.4431,0,833978.5569,9329005.1825],codes:["EPSG:32629","urn:ogc:def:crs:EPSG::32629","http://www.opengis.net/gml/srs/epsg.xml#32629"],units:"m",datum:"WGS 84",proj:"UTM 29 N",coordRefSys:"http://www.opengis.net/def/crs/EPSG/0/32629"},{def:"+proj=utm +zone=30 +ellps=WGS84 +datum=WGS84 +units=m +no_defs",extent:[166021.4431,0,833978.5569,9329005.1825],codes:["EPSG:32630","urn:ogc:def:crs:EPSG::32630","http://www.opengis.net/gml/srs/epsg.xml#32630"],units:"m",datum:"WGS 84",proj:"UTM 30 N",coordRefSys:"http://www.opengis.net/def/crs/EPSG/0/32630"},{def:"+proj=utm +zone=31 +ellps=WGS84 +datum=WGS84 +units=m +no_defs",extent:[166021.4431,0,833978.5569,9329005.1825],codes:["EPSG:32631","urn:ogc:def:crs:EPSG::32631","http://www.opengis.net/gml/srs/epsg.xml#32631"],units:"m",datum:"WGS 84",proj:"UTM 31 N",coordRefSys:"http://www.opengis.net/def/crs/EPSG/0/32631"},{def:"+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs",extent:[-16.1,32.88,39.65,84.17],codes:["EPSG:4258","urn:ogc:def:crs:EPSG::4258","http://www.opengis.net/gml/srs/epsg.xml#4258"],units:"d",metersPerUnit:111319.49079327358,datum:"GRS80 (ETRS89)",proj:"long, lat",coordRefSys:"http://www.opengis.net/def/crs/EPSG/0/4258"},{def:"+proj=utm +zone=29 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs",extent:[-164850.78,3660417.01,988728.57,9567111.85],codes:["EPSG:25829","urn:ogc:def:crs:EPSG::25829","http://www.opengis.net/gml/srs/epsg.xml#25829"],units:"m",datum:"GRS80 (ETRS89)",proj:"UTM 29 N",coordRefSys:"http://www.opengis.net/def/crs/EPSG/0/25829"},{def:"+proj=utm +zone=28 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs",extent:[397101.09,3638520.14,1034670.43,9625438.82],codes:["EPSG:25828","urn:ogc:def:crs:EPSG::25828","http://www.opengis.net/gml/srs/epsg.xml#25828"],units:"m",datum:"GRS80 (ETRS89)",proj:"UTM 28 N",coordRefSys:"http://www.opengis.net/def/crs/EPSG/0/25828"},{def:"+proj=utm +zone=30 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs",extent:[-729785.83,3715125.82,940929.67,9518470.69],codes:["EPSG:25830","urn:ogc:def:crs:EPSG::25830","http://www.opengis.net/gml/srs/epsg.xml#23030"],units:"m",datum:"GRS80 (ETRS89)",proj:"UTM 30 N",coordRefSys:"http://www.opengis.net/def/crs/EPSG/0/25830"},{def:"+proj=utm +zone=31 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs",extent:[-1300111.74,3804640.43,893164.13,9478718.31],codes:["EPSG:25831","urn:ogc:def:crs:EPSG::25831","http://www.opengis.net/gml/srs/epsg.xml#25831"],units:"m",datum:"GRS80 (ETRS89)",proj:"UTM 31 N",coordRefSys:"http://www.opengis.net/def/crs/EPSG/0/25831"},{def:"+proj=longlat +ellps=intl +no_defs",extent:[-16.09882145355955,25.711114310330917,48.60999527749605,84.16977336415472],codes:["EPSG:4230","urn:ogc:def:crs:EPSG::4230","http://www.opengis.net/gml/srs/epsg.xml#4230"],units:"d",metersPerUnit:111319.49079327358,datum:"ED50",proj:"long, lat",coordRefSys:"http://www.opengis.net/def/crs/EPSG/0/4230"},{def:"+proj=utm +zone=28 +ellps=intl +towgs84=-87,-98,-121,0,0,0,0 +units=m +no_defs",extent:[997517.95,3873475.61,2024693.05,8529441.99],codes:["EPSG:23028","urn:ogc:def:crs:EPSG::23028","http://www.opengis.net/gml/srs/epsg.xml#23028"],units:"m",datum:"ED50",proj:"UTM 28 N",coordRefSys:"http://www.opengis.net/def/crs/EPSG/0/23028"},{def:"+proj=utm +zone=29 +ellps=intl +towgs84=-87,-98,-121,0,0,0,0 +units=m +no_defs",extent:[448933.91,3860083.93,1860436.11,8381369.16],codes:["EPSG:23029","urn:ogc:def:crs:EPSG::23029","http://www.opengis.net/gml/srs/epsg.xml#23029"],units:"m",datum:"ED50",proj:"UTM 29 N",coordRefSys:"http://www.opengis.net/def/crs/EPSG/0/23029"},{def:"+proj=utm +zone=30 +ellps=intl +towgs84=-87,-98,-121,0,0,0,0 +units=m +no_defs",extent:[-99844.71,3879626.63,1682737.72,8251830.8],codes:["EPSG:23030","urn:ogc:def:crs:EPSG::23030","http://www.opengis.net/gml/srs/epsg.xml#23030"],units:"m",datum:"ED50",proj:"UTM 30 N",coordRefSys:"http://www.opengis.net/def/crs/EPSG/0/23030"},{def:"+proj=utm +zone=31 +ellps=intl +towgs84=-87,-98,-121,0,0,0,0 +units=m +no_defs",extent:[-650883.16,3932764.97,1493695.91,8141744.84],codes:["EPSG:23031","urn:ogc:def:crs:EPSG::23031","http://www.opengis.net/gml/srs/epsg.xml#23031"],units:"m",datum:"ED50",proj:"UTM 31 N",coordRefSys:"http://www.opengis.net/def/crs/EPSG/0/23031"},{def:"+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs",extent:[-21.93,24.6,-11.75,32.76],codes:["EPSG:4081","urn:ogc:def:crs:EPSG::4081","http://www.opengis.net/gml/srs/epsg.xml#4081"],units:"d",metersPerUnit:111319.49079327358,datum:"REGCAN95",proj:"long, lat",coordRefSys:"http://www.opengis.net/def/crs/EPSG/0/4081"},{def:"+proj=utm +zone=27 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs",extent:[405849.71,2720975.6,1367994.77,3662797.15],codes:["EPSG:4082","urn:ogc:def:crs:EPSG::4082","http://www.opengis.net/gml/srs/epsg.xml#4082"],units:"m",datum:"REGCAN95",proj:"UTM 27 N",coordRefSys:"http://www.opengis.net/def/crs/EPSG/0/4082"},{def:"+proj=utm +zone=28 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",extent:[-202677.94,2738405.48,804488.92,3629357.1],codes:["EPSG:4083","urn:ogc:def:crs:EPSG::4083","http://www.opengis.net/gml/srs/epsg.xml#4083"],units:"m",datum:"REGCAN95",proj:"UTM 28 N",coordRefSys:"http://www.opengis.net/def/crs/EPSG/0/4083"},{def:"+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs +type=crs",extent:[-20037508.34,-15496570.74,20037508.34,18764656.23],codes:["EPSG:3395","urn:ogc:def:crs:EPSG::3395","http://www.opengis.net/gml/srs/epsg.xml#3395"],units:"m",datum:"WGS 84",proj:"World Mercator",coordRefSys:"http://www.opengis.net/def/crs/EPSG/0/3395"},{def:"+proj=geocent +datum=WGS84 +units=m +no_defs +type=crs",extent:[-1/0,-1/0,1/0,1/0],codes:["EPSG:4328","urn:ogc:def:crs:EPSG::4328","https://www.opengis.net/def/crs/EPSG/0/4328"],units:"m",datum:"WGS 84",proj:"XYZ (geocntricas)",coordRefSys:"http://www.opengis.net/def/crs/EPSG/0/4328"},{def:"+proj=geocent +ellps=GRS80 +units=m +no_defs +type=crs",extent:[-1/0,-1/0,1/0,1/0],codes:["EPSG:4346","urn:ogc:def:crs:EPSG::4346","https://www.opengis.net/def/crs/EPSG/0/4346"],units:"m",datum:"GRS80 (ETRS89)",proj:"XYZ (geocntricas)",coordRefSys:"http://www.opengis.net/def/crs/EPSG/0/4346"}],l=function(t){t.forEach((function(t){t.codes.forEach((function(e){i.a.defs(e,t.def)}));var e=t.codes.map((function(e){return new o.a({code:e,extent:t.extent,units:t.units,metersPerUnit:t.metersPerUnit,axisOrientation:t.axisOrientation,global:t.global})}));Object(s.c)(e)}))};l(c),Object(a.a)(i.a),e.a={addProjections:l,getSupportedProjs:function(){return c}}},function(t,e,r){t.exports=function(){"use strict";function t(t,e){if(t[e])return t[e];for(var r,n=Object.keys(t),i=e.toLowerCase().replace(ct,""),o=-1;++o<n.length;)if((r=n[o]).toLowerCase().replace(ct,"")===i)return t[r]}function e(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=ut}function r(t){return new e(t).output()}function n(t,e,r){Array.isArray(e)&&(r.unshift(e),e=null);var n=e?{}:t,o=r.reduce((function(t,e){return i(e,t),t}),n);e&&(t[e]=o)}function i(t,e){if(Array.isArray(t)){var r=t.shift();if("PARAMETER"===r&&(r=t.shift()),1===t.length)return Array.isArray(t[0])?(e[r]={},void i(t[0],e[r])):void(e[r]=t[0]);if(t.length)if("TOWGS84"!==r){if("AXIS"===r)return r in e||(e[r]=[]),void e[r].push(t);var o;switch(Array.isArray(r)||(e[r]={}),r){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[r]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&i(t[2],e[r]));case"SPHEROID":case"ELLIPSOID":return e[r]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&i(t[3],e[r]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void n(e,r,t);default:for(o=-1;++o<t.length;)if(!Array.isArray(t[o]))return i(t,e[r]);return n(e,r,t)}}else e[r]=t;else e[r]=!0}else e[t]=!0}function o(t){return t*yt}function a(t){function e(e){return e*(t.to_meter||1)}if("GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var r="",n=0,i=t.AXIS.length;n<i;++n){var a=[t.AXIS[n][0].toLowerCase(),t.AXIS[n][1].toLowerCase()];-1!==a[0].indexOf("north")||("y"===a[0]||"lat"===a[0])&&"north"===a[1]?r+="n":-1!==a[0].indexOf("south")||("y"===a[0]||"lat"===a[0])&&"south"===a[1]?r+="s":-1!==a[0].indexOf("east")||("x"===a[0]||"lon"===a[0])&&"east"===a[1]?r+="e":-1===a[0].indexOf("west")&&("x"!==a[0]&&"lon"!==a[0]||"west"!==a[1])||(r+="w")}2===r.length&&(r+="u"),3===r.length&&(t.axis=r)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var s=t.GEOGCS;"GEOGCS"===t.type&&(s=t),s&&(s.DATUM?t.datumCode=s.DATUM.name.toLowerCase():t.datumCode=s.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"!==t.datumCode&&"world_geodetic_system_1984"!==t.datumCode||("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(t.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=s.DATUM.SPHEROID.a,t.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(t.datum_params=s.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",o],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",o],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",o],["lat0","latitude_of_origin",o],["lat0","standard_parallel_1",o],["lat1","standard_parallel_1",o],["lat2","standard_parallel_2",o],["azimuth","Azimuth"],["alpha","azimuth",o],["srsCode","name"]].forEach((function(e){return function(t,e){var r=e[0],n=e[1];!(r in t)&&n in t&&(t[r]=t[n],3===e.length&&(t[r]=e[2](t[r])))}(t,e)})),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=o(t.lat1>0?90:-90),t.lat_ts=t.lat1)}function s(t){var e=this;if(2===arguments.length){var r=arguments[1];"string"==typeof r?"+"===r.charAt(0)?s[t]=lt(arguments[1]):s[t]=gt(arguments[1]):s[t]=r}else if(1===arguments.length){if(Array.isArray(t))return t.map((function(t){Array.isArray(t)?s.apply(e,t):s(t)}));if("string"==typeof t){if(t in s)return s[t]}else"EPSG"in t?s["EPSG:"+t.EPSG]=t:"ESRI"in t?s["ESRI:"+t.ESRI]=t:"IAU2000"in t?s["IAU2000:"+t.IAU2000]=t:console.log(t);return}}function c(e){var r=t(e,"authority");if(r){var n=t(r,"epsg");return n&&bt.indexOf(n)>-1}}function l(e){var r=t(e,"extension");if(r)return t(r,"proj4")}function u(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in s}(t))return s[t];if(function(t){return _t.some((function(e){return t.indexOf(e)>-1}))}(t)){var e=gt(t);if(c(e))return s["EPSG:3857"];var r=l(e);return r?lt(r):e}return function(t){return"+"===t[0]}(t)?lt(t):void 0}function h(t){return t}function f(t,e){var r=Pt.length;return t.names?(Pt[r]=t,t.names.forEach((function(t){jt[t.toLowerCase()]=r})),this):(console.log(e),!0)}function p(t){if(0===t.length)return null;var e="@"===t[0];return e&&(t=t.slice(1)),"null"===t?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:Ct[t]||null,isNull:!1}}function d(t){return t/3600*Math.PI/180}function m(t,e,r){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,r)))}function y(t,e,r){for(var n=[],i=0;i<e.nSubgrids;i++){var o=_(t,176,r),a=b(t,176,o,r),s=Math.round(1+(o.upperLongitude-o.lowerLongitude)/o.longitudeInterval),c=Math.round(1+(o.upperLatitude-o.lowerLatitude)/o.latitudeInterval);n.push({ll:[d(o.lowerLongitude),d(o.lowerLatitude)],del:[d(o.longitudeInterval),d(o.latitudeInterval)],lim:[s,c],count:o.gridNodeCount,cvs:g(a)})}return n}function g(t){return t.map((function(t){return[d(t.longitudeShift),d(t.latitudeShift)]}))}function _(t,e,r){return{name:m(t,e+8,e+16).trim(),parent:m(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,r),upperLatitude:t.getFloat64(e+88,r),lowerLongitude:t.getFloat64(e+104,r),upperLongitude:t.getFloat64(e+120,r),latitudeInterval:t.getFloat64(e+136,r),longitudeInterval:t.getFloat64(e+152,r),gridNodeCount:t.getInt32(e+168,r)}}function b(t,e,r,n){for(var i=e+176,o=[],a=0;a<r.gridNodeCount;a++){var s={latitudeShift:t.getFloat32(i+16*a,n),longitudeShift:t.getFloat32(i+16*a+4,n),latitudeAccuracy:t.getFloat32(i+16*a+8,n),longitudeAccuracy:t.getFloat32(i+16*a+12,n)};o.push(s)}return o}function v(e,r){if(!(this instanceof v))return new v(e);r=r||function(t){if(t)throw t};var n=u(e);if("object"==typeof n){var i=v.projections.get(n.projName);if(i){if(n.datumCode&&"none"!==n.datumCode){var o=t(Rt,n.datumCode);o&&(n.datum_params=n.datum_params||(o.towgs84?o.towgs84.split(","):null),n.ellps=o.ellipse,n.datumName=o.datumName?o.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var a=function(e,r,n,i,o){if(!e){var a=t(It,i);a||(a=Lt),e=a.a,r=a.b,n=a.rf}return n&&!r&&(r=(1-1/n)*e),(0===n||Math.abs(e-r)<tt)&&(o=!0,r=e),{a:e,b:r,rf:n,sphere:o}}(n.a,n.b,n.rf,n.ellps,n.sphere),s=function(t,e,r,n){var i=t*t,o=e*e,a=(i-o)/i,s=0;return n?(i=(t*=1-a*(J+a*(Q+a*$)))*t,a=0):s=Math.sqrt(a),{es:a,e:s,ep2:(i-o)/o}}(a.a,a.b,a.rf,n.R_A),c=function(t){return void 0===t?null:t.split(",").map(p)}(n.nadgrids),l=n.datum||function(t,e,r,n,i,o,a){var s={};return s.datum_type=void 0===t||"none"===t?Z:Y,e&&(s.datum_params=e.map(parseFloat),0===s.datum_params[0]&&0===s.datum_params[1]&&0===s.datum_params[2]||(s.datum_type=X),s.datum_params.length>3&&(0===s.datum_params[3]&&0===s.datum_params[4]&&0===s.datum_params[5]&&0===s.datum_params[6]||(s.datum_type=q,s.datum_params[3]*=K,s.datum_params[4]*=K,s.datum_params[5]*=K,s.datum_params[6]=s.datum_params[6]/1e6+1))),a&&(s.datum_type=V,s.grids=a),s.a=r,s.b=n,s.es=i,s.ep2=o,s}(n.datumCode,n.datum_params,a.a,a.b,s.es,s.ep2,c);vt(this,n),vt(this,i),this.a=a.a,this.b=a.b,this.rf=a.rf,this.sphere=a.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=l,this.init(),r(null,this)}else r(e)}else r(e)}function O(t,e,r){var n,i,o,a,s=t.x,c=t.y,l=t.z?t.z:0;if(c<-H&&c>-1.001*H)c=-H;else if(c>H&&c<1.001*H)c=H;else{if(c<-H)return{x:-1/0,y:-1/0,z:t.z};if(c>H)return{x:1/0,y:1/0,z:t.z}}return s>Math.PI&&(s-=2*Math.PI),i=Math.sin(c),a=Math.cos(c),o=i*i,{x:((n=r/Math.sqrt(1-e*o))+l)*a*Math.cos(s),y:(n+l)*a*Math.sin(s),z:(n*(1-e)+l)*i}}function w(t,e,r,n){var i,o,a,s,c,l,u,h,f,p,d,m,y,g,_,b=t.x,v=t.y,O=t.z?t.z:0;if(i=Math.sqrt(b*b+v*v),o=Math.sqrt(b*b+v*v+O*O),i/r<1e-12){if(g=0,o/r<1e-12)return _=-n,{x:t.x,y:t.y,z:t.z}}else g=Math.atan2(v,b);a=O/o,h=(s=i/o)*(1-e)*(c=1/Math.sqrt(1-e*(2-e)*s*s)),f=a*c,y=0;do{y++,l=e*(u=r/Math.sqrt(1-e*f*f))/(u+(_=i*h+O*f-u*(1-e*f*f))),m=(d=a*(c=1/Math.sqrt(1-l*(2-l)*s*s)))*h-(p=s*(1-l)*c)*f,h=p,f=d}while(m*m>1e-24&&y<30);return{x:g,y:Math.atan(d/Math.abs(p)),z:_}}function M(t){return t===X||t===q}function E(t,e,r){if(null===t.grids||0===t.grids.length)return console.log("Grid shift grids not found"),-1;for(var n={x:-r.x,y:r.y},i={x:Number.NaN,y:Number.NaN},o=[],a=0;a<t.grids.length;a++){var s=t.grids[a];if(o.push(s.name),s.isNull){i=n;break}if(null!==s.grid){var c=s.grid.subgrids[0],l=(Math.abs(c.del[1])+Math.abs(c.del[0]))/1e4,u=c.ll[0]-l,h=c.ll[1]-l,f=c.ll[0]+(c.lim[0]-1)*c.del[0]+l,p=c.ll[1]+(c.lim[1]-1)*c.del[1]+l;if(!(h>n.y||u>n.x||p<n.y||f<n.x||(i=x(n,e,c),isNaN(i.x))))break}else if(s.mandatory)return console.log("Unable to find mandatory grid '"+s.name+"'"),-1}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-n.x*rt+" "+n.y*rt+" tried: '"+o+"'"),-1):(r.x=-i.x,r.y=i.y,0)}function x(t,e,r){var n={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return n;var i={x:t.x,y:t.y};i.x-=r.ll[0],i.y-=r.ll[1],i.x=Mt(i.x-Math.PI)+Math.PI;var o=S(i,r);if(e){if(isNaN(o.x))return n;o.x=i.x-o.x,o.y=i.y-o.y;var a,s,c=9;do{if(s=S(o,r),isNaN(s.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}a={x:i.x-(s.x+o.x),y:i.y-(s.y+o.y)},o.x+=a.x,o.y+=a.y}while(c--&&Math.abs(a.x)>1e-12&&Math.abs(a.y)>1e-12);if(c<0)return console.log("Inverse grid shift iterator failed to converge."),n;n.x=Mt(o.x+r.ll[0]),n.y=o.y+r.ll[1]}else isNaN(o.x)||(n.x=t.x+o.x,n.y=t.y+o.y);return n}function S(t,e){var r,n={x:t.x/e.del[0],y:t.y/e.del[1]},i=Math.floor(n.x),o=Math.floor(n.y),a=n.x-1*i,s=n.y-1*o,c={x:Number.NaN,y:Number.NaN};if(i<0||i>=e.lim[0])return c;if(o<0||o>=e.lim[1])return c;r=o*e.lim[0]+i;var l=e.cvs[r][0],u=e.cvs[r][1];r++;var h=e.cvs[r][0],f=e.cvs[r][1];r+=e.lim[0];var p=e.cvs[r][0],d=e.cvs[r][1];r--;var m=e.cvs[r][0],y=e.cvs[r][1],g=a*s,_=a*(1-s),b=(1-a)*(1-s),v=(1-a)*s;return c.x=b*l+_*h+v*m+g*p,c.y=b*u+_*f+v*y+g*d,c}function j(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function P(t,e,r,n){var i,o=void 0!==(r=Array.isArray(r)?Nt(r):{x:r.x,y:r.y,z:r.z,m:r.m}).z;if(Dt(r),t.datum&&e.datum&&function(t,e){return(t.datum.datum_type===X||t.datum.datum_type===q||t.datum.datum_type===V)&&"WGS84"!==e.datumCode||(e.datum.datum_type===X||e.datum.datum_type===q||e.datum.datum_type===V)&&"WGS84"!==t.datumCode}(t,e)&&(r=P(t,i=new v("WGS84"),r,n),t=i),n&&"enu"!==t.axis&&(r=kt(t,!1,r)),"longlat"===t.projName)r={x:r.x*et,y:r.y*et,z:r.z||0};else if(t.to_meter&&(r={x:r.x*t.to_meter,y:r.y*t.to_meter,z:r.z||0}),!(r=t.inverse(r)))return;if(t.from_greenwich&&(r.x+=t.from_greenwich),r=At(t.datum,e.datum,r))return e.from_greenwich&&(r={x:r.x-e.from_greenwich,y:r.y,z:r.z||0}),"longlat"===e.projName?r={x:r.x*rt,y:r.y*rt,z:r.z||0}:(r=e.forward(r),e.to_meter&&(r={x:r.x/e.to_meter,y:r.y/e.to_meter,z:r.z||0})),n&&"enu"!==e.axis?kt(e,!0,r):(o||delete r.z,r)}function T(t,e,r,n){var i,o,a;return Array.isArray(r)?(i=P(t,e,r,n)||{x:NaN,y:NaN},r.length>2?void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name?"number"==typeof i.z?[i.x,i.y,i.z].concat(r.splice(3)):[i.x,i.y,r[2]].concat(r.splice(3)):[i.x,i.y].concat(r.splice(2)):[i.x,i.y]):(o=P(t,e,r,n),2===(a=Object.keys(r)).length||a.forEach((function(n){if(void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name){if("x"===n||"y"===n||"z"===n)return}else if("x"===n||"y"===n)return;o[n]=r[n]})),o)}function I(t){return t instanceof v?t:t.oProj?t.oProj:v(t)}function L(t,e,r){t=I(t);var n,i=!1;return void 0===e?(e=t,t=Ft,i=!0):(void 0!==e.x||Array.isArray(e))&&(r=e,e=t,t=Ft,i=!0),e=I(e),r?T(t,e,r):(n={forward:function(r,n){return T(t,e,r,n)},inverse:function(r,n){return T(e,t,r,n)}},i&&(n.oProj=e),n)}function R(t,e){return e=e||5,function(t,e){var r="00000"+t.easting,n="00000"+t.northing;return t.zoneNumber+t.zoneLetter+function(t,e,r){var n=F(r);return function(t,e,r){var n=r-1,i=Ut.charCodeAt(n),o=Gt.charCodeAt(n),a=i+t-1,s=o+e,c=!1;return a>Vt&&(a=a-Vt+zt-1,c=!0),(a===Wt||i<Wt&&a>Wt||(a>Wt||i<Wt)&&c)&&a++,(a===Xt||i<Xt&&a>Xt||(a>Xt||i<Xt)&&c)&&++a===Wt&&a++,a>Vt&&(a=a-Vt+zt-1),s>qt?(s=s-qt+zt-1,c=!0):c=!1,(s===Wt||o<Wt&&s>Wt||(s>Wt||o<Wt)&&c)&&s++,(s===Xt||o<Xt&&s>Xt||(s>Xt||o<Xt)&&c)&&++s===Wt&&s++,s>qt&&(s=s-qt+zt-1),String.fromCharCode(a)+String.fromCharCode(s)}(Math.floor(t/1e5),Math.floor(e/1e5)%20,n)}(t.easting,t.northing,t.zoneNumber)+r.substr(r.length-5,e)+n.substr(n.length-5,e)}(function(t){var e,r,n,i,o,a,s=t.lat,c=t.lon,l=6378137,u=A(s),h=A(c);a=Math.floor((c+180)/6)+1,180===c&&(a=60),s>=56&&s<64&&c>=3&&c<12&&(a=32),s>=72&&s<84&&(c>=0&&c<9?a=31:c>=9&&c<21?a=33:c>=21&&c<33?a=35:c>=33&&c<42&&(a=37)),o=A(6*(a-1)-180+3),e=l/Math.sqrt(1-.00669438*Math.sin(u)*Math.sin(u)),r=Math.tan(u)*Math.tan(u),n=.006739496752268451*Math.cos(u)*Math.cos(u);var f=.9996*e*((i=Math.cos(u)*(h-o))+(1-r+n)*i*i*i/6+(5-18*r+r*r+72*n-.39089081163157013)*i*i*i*i*i/120)+5e5,p=.9996*(l*(.9983242984503243*u-.002514607064228144*Math.sin(2*u)+2639046602129982e-21*Math.sin(4*u)-3.418046101696858e-9*Math.sin(6*u))+e*Math.tan(u)*(i*i/2+(5-r+9*n+4*n*n)*i*i*i*i/24+(61-58*r+r*r+600*n-2.2240339282485886)*i*i*i*i*i*i/720));return s<0&&(p+=1e7),{northing:Math.round(p),easting:Math.round(f),zoneNumber:a,zoneLetter:D(s)}}({lat:t[1],lon:t[0]}),e)}function C(t){var e=N(B(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function A(t){return t*(Math.PI/180)}function k(t){return t/Math.PI*180}function N(t){var e=t.northing,r=t.easting,n=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var o,a,s,c,l,u,h,f,p=6378137,d=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),m=r-5e5,y=e;n<"N"&&(y-=1e7),u=6*(i-1)-180+3,f=(h=y/.9996/6367449.145945056)+(3*d/2-27*d*d*d/32)*Math.sin(2*h)+(21*d*d/16-55*d*d*d*d/32)*Math.sin(4*h)+151*d*d*d/96*Math.sin(6*h),o=p/Math.sqrt(1-.00669438*Math.sin(f)*Math.sin(f)),a=Math.tan(f)*Math.tan(f),s=.006739496752268451*Math.cos(f)*Math.cos(f),c=.99330562*p/Math.pow(1-.00669438*Math.sin(f)*Math.sin(f),1.5),l=m/(.9996*o);var g=f-o*Math.tan(f)/c*(l*l/2-(5+3*a+10*s-4*s*s-.06065547077041606)*l*l*l*l/24+(61+90*a+298*s+45*a*a-1.6983531815716497-3*s*s)*l*l*l*l*l*l/720);g=k(g);var _,b=(l-(1+2*a+s)*l*l*l/6+(5-2*s+28*a-3*s*s+.05391597401814761+24*a*a)*l*l*l*l*l/120)/Math.cos(f);if(b=u+k(b),t.accuracy){var v=N({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});_={top:v.lat,right:v.lon,bottom:g,left:b}}else _={lat:g,lon:b};return _}function D(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function F(t){var e=t%Bt;return 0===e&&(e=Bt),e}function B(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,r=t.length,n=null,i="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;i+=e,o++}var a=parseInt(i,10);if(0===o||o+3>r)throw"MGRSPoint bad conversion from: "+t;var s=t.charAt(o++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+t;n=t.substring(o,o+=2);for(var c=F(a),l=function(t,e){for(var r=Ut.charCodeAt(e-1),n=1e5,i=!1;r!==t.charCodeAt(0);){if(++r===Wt&&r++,r===Xt&&r++,r>Vt){if(i)throw"Bad character: "+t;r=zt,i=!0}n+=1e5}return n}(n.charAt(0),c),u=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var r=Gt.charCodeAt(e-1),n=0,i=!1;r!==t.charCodeAt(0);){if(++r===Wt&&r++,r===Xt&&r++,r>qt){if(i)throw"Bad character: "+t;r=zt,i=!0}n+=1e5}return n}(n.charAt(1),c);u<U(s);)u+=2e6;var h=r-o;if(h%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var f,p,d,m=h/2,y=0,g=0;return m>0&&(f=1e5/Math.pow(10,m),p=t.substring(o,o+m),y=parseFloat(p)*f,d=t.substring(o+m),g=parseFloat(d)*f),{easting:y+l,northing:g+u,zoneLetter:s,zoneNumber:a,accuracy:f}}function U(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function G(t,e,r){if(!(this instanceof G))return new G(t,e,r);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var n=t.split(",");this.x=parseFloat(n[0],10),this.y=parseFloat(n[1],10),this.z=parseFloat(n[2],10)||0}else this.x=t,this.y=e,this.z=r||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}function z(t,e,r,n){var i;return t<tt?(n.value=$e.AREA_0,i=0):(i=Math.atan2(e,r),Math.abs(i)<=nt?n.value=$e.AREA_0:i>nt&&i<=H+nt?(n.value=$e.AREA_1,i-=H):i>H+nt||i<=-(H+nt)?(n.value=$e.AREA_2,i=i>=0?i-ot:i+ot):(n.value=$e.AREA_3,i+=H)),i}function W(t,e){var r=t+e;return r<-ot?r+=it:r>+ot&&(r-=it),r}var X=1,q=2,V=3,Y=4,Z=5,K=484813681109536e-20,H=Math.PI/2,J=.16666666666666666,Q=.04722222222222222,$=.022156084656084655,tt=1e-10,et=.017453292519943295,rt=57.29577951308232,nt=Math.PI/4,it=2*Math.PI,ot=3.14159265359,at={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},st={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},ct=/[\s_\-\/\(\)]/g,lt=function(e){var r,n,i,o={},a=e.split("+").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,e){var r=e.split("=");return r.push(!0),t[r[0].toLowerCase()]=r[1],t}),{}),s={proj:"projName",datum:"datumCode",rf:function(t){o.rf=parseFloat(t)},lat_0:function(t){o.lat0=t*et},lat_1:function(t){o.lat1=t*et},lat_2:function(t){o.lat2=t*et},lat_ts:function(t){o.lat_ts=t*et},lon_0:function(t){o.long0=t*et},lon_1:function(t){o.long1=t*et},lon_2:function(t){o.long2=t*et},alpha:function(t){o.alpha=parseFloat(t)*et},gamma:function(t){o.rectified_grid_angle=parseFloat(t)},lonc:function(t){o.longc=t*et},x_0:function(t){o.x0=parseFloat(t)},y_0:function(t){o.y0=parseFloat(t)},k_0:function(t){o.k0=parseFloat(t)},k:function(t){o.k0=parseFloat(t)},a:function(t){o.a=parseFloat(t)},b:function(t){o.b=parseFloat(t)},r_a:function(){o.R_A=!0},zone:function(t){o.zone=parseInt(t,10)},south:function(){o.utmSouth=!0},towgs84:function(t){o.datum_params=t.split(",").map((function(t){return parseFloat(t)}))},to_meter:function(t){o.to_meter=parseFloat(t)},units:function(e){o.units=e;var r=t(st,e);r&&(o.to_meter=r.to_meter)},from_greenwich:function(t){o.from_greenwich=t*et},pm:function(e){var r=t(at,e);o.from_greenwich=(r||parseFloat(e))*et},nadgrids:function(t){"@null"===t?o.datumCode="none":o.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(o.axis=t)},approx:function(){o.approx=!0}};for(r in a)n=a[r],r in s?"function"==typeof(i=s[r])?i(n):o[i]=n:o[r]=n;return"string"==typeof o.datumCode&&"WGS84"!==o.datumCode&&(o.datumCode=o.datumCode.toLowerCase()),o},ut=1,ht=/\s/,ft=/[A-Za-z]/,pt=/[A-Za-z84_]/,dt=/[,\]]/,mt=/[\d\.E\-\+]/;e.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;ht.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case ut:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},e.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(dt.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},e.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=ut)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=ut,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},e.prototype.number=function(t){if(!mt.test(t)){if(dt.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},e.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},e.prototype.keyword=function(t){if(pt.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=ut)}if(!dt.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},e.prototype.neutral=function(t){if(ft.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(mt.test(t))return this.word=t,void(this.state=3);if(!dt.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},e.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var yt=.017453292519943295,gt=function(t){var e=r(t),n=e.shift(),o=e.shift();e.unshift(["name",o]),e.unshift(["type",n]);var s={};return i(e,s),a(s),s};!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(s);var _t=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],bt=["3857","900913","3785","102113"],vt=function(t,e){var r,n;if(t=t||{},!e)return t;for(n in e)void 0!==(r=e[n])&&(t[n]=r);return t},Ot=function(t,e,r){var n=t*e;return r/Math.sqrt(1-n*n)},wt=function(t){return t<0?-1:1},Mt=function(t){return Math.abs(t)<=ot?t:t-wt(t)*it},Et=function(t,e,r){var n=t*r,i=.5*t;return n=Math.pow((1-n)/(1+n),i),Math.tan(.5*(H-e))/n},xt=function(t,e){for(var r,n,i=.5*t,o=H-2*Math.atan(e),a=0;a<=15;a++)if(r=t*Math.sin(o),o+=n=H-2*Math.atan(e*Math.pow((1-r)/(1+r),i))-o,Math.abs(n)<=1e-10)return o;return-9999},St=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Ot(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,r,n=t.x,i=t.y;if(i*rt>90&&i*rt<-90&&n*rt>180&&n*rt<-180)return null;if(Math.abs(Math.abs(i)-H)<=tt)return null;if(this.sphere)e=this.x0+this.a*this.k0*Mt(n-this.long0),r=this.y0+this.a*this.k0*Math.log(Math.tan(nt+.5*i));else{var o=Math.sin(i),a=Et(this.e,i,o);e=this.x0+this.a*this.k0*Mt(n-this.long0),r=this.y0-this.a*this.k0*Math.log(a)}return t.x=e,t.y=r,t},inverse:function(t){var e,r,n=t.x-this.x0,i=t.y-this.y0;if(this.sphere)r=H-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var o=Math.exp(-i/(this.a*this.k0));if(-9999===(r=xt(this.e,o)))return null}return e=Mt(this.long0+n/(this.a*this.k0)),t.x=e,t.y=r,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:h,inverse:h,names:["longlat","identity"]}],jt={},Pt=[],Tt={start:function(){St.forEach(f)},add:f,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==jt[e]&&Pt[jt[e]]?Pt[jt[e]]:void 0}},It={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:6378249.2,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},Lt=It.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};It.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var Rt={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},Ct={};v.projections=Tt,v.projections.start();var At=function(t,e,r){if(function(t,e){return t.datum_type===e.datum_type&&!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(t.datum_type===X?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type!==q||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])}(t,e))return r;if(t.datum_type===Z||e.datum_type===Z)return r;var n=t.a,i=t.es;if(t.datum_type===V){if(0!==E(t,!1,r))return;n=6378137,i=.0066943799901413165}var o=e.a,a=e.b,s=e.es;return e.datum_type===V&&(o=6378137,a=6356752.314,s=.0066943799901413165),i!==s||n!==o||M(t.datum_type)||M(e.datum_type)?(r=O(r,i,n),M(t.datum_type)&&(r=function(t,e,r){if(e===X)return{x:t.x+r[0],y:t.y+r[1],z:t.z+r[2]};if(e===q){var n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],c=r[5],l=r[6];return{x:l*(t.x-c*t.y+s*t.z)+n,y:l*(c*t.x+t.y-a*t.z)+i,z:l*(-s*t.x+a*t.y+t.z)+o}}}(r,t.datum_type,t.datum_params)),M(e.datum_type)&&(r=function(t,e,r){if(e===X)return{x:t.x-r[0],y:t.y-r[1],z:t.z-r[2]};if(e===q){var n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],c=r[5],l=r[6],u=(t.x-n)/l,h=(t.y-i)/l,f=(t.z-o)/l;return{x:u+c*h-s*f,y:-c*u+h+a*f,z:s*u-a*h+f}}}(r,e.datum_type,e.datum_params)),r=w(r,s,o,a),e.datum_type!==V||0===E(e,!0,r)?r:void 0):r},kt=function(t,e,r){var n,i,o,a=r.x,s=r.y,c=r.z||0,l={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==r.z)switch(0===o?(n=a,i=-1!=="ew".indexOf(t.axis[o])?"x":"y"):1===o?(n=s,i=-1!=="ns".indexOf(t.axis[o])?"y":"x"):(n=c,i="z"),t.axis[o]){case"e":l[i]=n;break;case"w":l[i]=-n;break;case"n":l[i]=n;break;case"s":l[i]=-n;break;case"u":void 0!==r[i]&&(l.z=n);break;case"d":void 0!==r[i]&&(l.z=-n);break;default:return null}return l},Nt=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e},Dt=function(t){j(t.x),j(t.y)},Ft=v("WGS84"),Bt=6,Ut="AJSAJS",Gt="AFAFAF",zt=65,Wt=73,Xt=79,qt=86,Vt=90,Yt={forward:R,inverse:function(t){var e=N(B(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},toPoint:C};G.fromMGRS=function(t){return new G(C(t))},G.prototype.toMGRS=function(t){return R([this.x,this.y],t)};var Zt,Kt=.01068115234375,Ht=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*Kt))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*Kt)));var r=t*t;return e[2]=r*(.46875-t*(.013020833333333334+.007120768229166667*t)),r*=t,e[3]=r*(.3645833333333333-.005696614583333333*t),e[4]=r*t*.3076171875,e},Jt=function(t,e,r,n){return r*=e,e*=e,n[0]*t-r*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))},Qt=function(t,e,r){for(var n=1/(1-e),i=t,o=20;o;--o){var a=Math.sin(i),s=1-e*a*a;if(i-=s=(Jt(i,a,Math.cos(i),r)-t)*(s*Math.sqrt(s))*n,Math.abs(s)<tt)return i}return i},$t={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Ht(this.es),this.ml0=Jt(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,r,n,i=t.x,o=t.y,a=Mt(i-this.long0),s=Math.sin(o),c=Math.cos(o);if(this.es){var l=c*a,u=Math.pow(l,2),h=this.ep2*Math.pow(c,2),f=Math.pow(h,2),p=Math.abs(c)>tt?Math.tan(o):0,d=Math.pow(p,2),m=Math.pow(d,2);e=1-this.es*Math.pow(s,2),l/=Math.sqrt(e);var y=Jt(o,s,c,this.en);r=this.a*(this.k0*l*(1+u/6*(1-d+h+u/20*(5-18*d+m+14*h-58*d*h+u/42*(61+179*m-m*d-479*d)))))+this.x0,n=this.a*(this.k0*(y-this.ml0+s*a*l/2*(1+u/12*(5-d+9*h+4*f+u/30*(61+m-58*d+270*h-330*d*h+u/56*(1385+543*m-m*d-3111*d))))))+this.y0}else{var g=c*Math.sin(a);if(Math.abs(Math.abs(g)-1)<tt)return 93;if(r=.5*this.a*this.k0*Math.log((1+g)/(1-g))+this.x0,n=c*Math.cos(a)/Math.sqrt(1-Math.pow(g,2)),(g=Math.abs(n))>=1){if(g-1>tt)return 93;n=0}else n=Math.acos(n);o<0&&(n=-n),n=this.a*this.k0*(n-this.lat0)+this.y0}return t.x=r,t.y=n,t},inverse:function(t){var e,r,n,i,o=(t.x-this.x0)*(1/this.a),a=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+a/this.k0,r=Qt(e,this.es,this.en),Math.abs(r)<H){var s=Math.sin(r),c=Math.cos(r),l=Math.abs(c)>tt?Math.tan(r):0,u=this.ep2*Math.pow(c,2),h=Math.pow(u,2),f=Math.pow(l,2),p=Math.pow(f,2);e=1-this.es*Math.pow(s,2);var d=o*Math.sqrt(e)/this.k0,m=Math.pow(d,2);n=r-(e*=l)*m/(1-this.es)*.5*(1-m/12*(5+3*f-9*u*f+u-4*h-m/30*(61+90*f-252*u*f+45*p+46*u-m/56*(1385+3633*f+4095*p+1574*p*f)))),i=Mt(this.long0+d*(1-m/6*(1+2*f+u-m/20*(5+28*f+24*p+8*u*f+6*u-m/42*(61+662*f+1320*p+720*p*f))))/c)}else n=H*wt(a),i=0;else{var y=Math.exp(o/this.k0),g=.5*(y-1/y),_=this.lat0+a/this.k0,b=Math.cos(_);e=Math.sqrt((1-Math.pow(b,2))/(1+Math.pow(g,2))),n=Math.asin(e),a<0&&(n=-n),i=0===g&&0===b?0:Mt(Math.atan2(g,b)+this.long0)}return t.x=i,t.y=n,t},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]},te=function(t){var e=Math.exp(t);return(e-1/e)/2},ee=function(t,e){t=Math.abs(t),e=Math.abs(e);var r=Math.max(t,e),n=Math.min(t,e)/(r||1);return r*Math.sqrt(1+Math.pow(n,2))},re=function(t){var e=Math.abs(t);return e=function(t){var e=1+t,r=e-1;return 0===r?t:t*Math.log(e)/r}(e*(1+e/(ee(1,e)+1))),t<0?-e:e},ne=function(t,e){for(var r,n=2*Math.cos(2*e),i=t.length-1,o=t[i],a=0;--i>=0;)r=n*o-a+t[i],a=o,o=r;return e+r*Math.sin(2*e)},ie=function(t,e,r){for(var n,i,o=Math.sin(e),a=Math.cos(e),s=te(r),c=function(t){var e=Math.exp(t);return(e+1/e)/2}(r),l=2*a*c,u=-2*o*s,h=t.length-1,f=t[h],p=0,d=0,m=0;--h>=0;)n=d,i=p,f=l*(d=f)-n-u*(p=m)+t[h],m=u*d-i+l*p;return[(l=o*c)*f-(u=a*s)*m,l*m+u*f]},oe={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&($t.init.apply(this),this.forward=$t.forward,this.inverse=$t.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),r=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),r*=e,this.cgb[1]=r*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=r*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),r*=e,this.cgb[2]=r*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=r*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),r*=e,this.cgb[3]=r*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=r*(1237/630+e*(e*(-24832/14175)-2.4)),r*=e,this.cgb[4]=r*(4174/315+e*(-144838/6237)),this.cbg[4]=r*(-734/315+e*(109598/31185)),r*=e,this.cgb[5]=r*(601676/22275),this.cbg[5]=r*(444337/155925),r=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+r*(.25+r*(1/64+r/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=r*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=r*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),r*=e,this.utg[2]=r*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=r*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),r*=e,this.utg[3]=r*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=r*(49561/161280+e*(-179/168+e*(6601661/7257600))),r*=e,this.utg[4]=r*(-4583/161280+e*(108847/3991680)),this.gtu[4]=r*(34729/80640+e*(-3418889/1995840)),r*=e,this.utg[5]=-.03233083094085698*r,this.gtu[5]=.6650675310896665*r;var n=ne(this.cbg,this.lat0);this.Zb=-this.Qn*(n+function(t,e){for(var r,n=2*Math.cos(e),i=t.length-1,o=t[i],a=0;--i>=0;)r=n*o-a+t[i],a=o,o=r;return Math.sin(e)*r}(this.gtu,2*n))},forward:function(t){var e=Mt(t.x-this.long0),r=t.y;r=ne(this.cbg,r);var n=Math.sin(r),i=Math.cos(r),o=Math.sin(e),a=Math.cos(e);r=Math.atan2(n,a*i),e=Math.atan2(o*i,ee(n,i*a)),e=re(Math.tan(e));var s,c,l=ie(this.gtu,2*r,2*e);return r+=l[0],e+=l[1],Math.abs(e)<=2.623395162778?(s=this.a*(this.Qn*e)+this.x0,c=this.a*(this.Qn*r+this.Zb)+this.y0):(s=1/0,c=1/0),t.x=s,t.y=c,t},inverse:function(t){var e,r,n=(t.x-this.x0)*(1/this.a),i=(t.y-this.y0)*(1/this.a);if(i=(i-this.Zb)/this.Qn,n/=this.Qn,Math.abs(n)<=2.623395162778){var o=ie(this.utg,2*i,2*n);i+=o[0],n+=o[1],n=Math.atan(te(n));var a=Math.sin(i),s=Math.cos(i),c=Math.sin(n),l=Math.cos(n);i=Math.atan2(a*l,ee(c,l*s)),n=Math.atan2(c,l*s),e=Mt(n+this.long0),r=ne(this.cgb,i)}else e=1/0,r=1/0;return t.x=e,t.y=r,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"]},ae={init:function(){var t=function(t,e){if(void 0===t){if((t=Math.floor(30*(Mt(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*et,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,oe.init.apply(this),this.forward=oe.forward,this.inverse=oe.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},se=function(t,e){return Math.pow((1-t)/(1+t),e)},ce={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+nt)/(Math.pow(Math.tan(.5*this.lat0+nt),this.C)*se(this.e*t,this.ratexp))},forward:function(t){var e=t.x,r=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*r+nt),this.C)*se(this.e*Math.sin(r),this.ratexp))-H,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,r=t.y,n=Math.pow(Math.tan(.5*r+nt)/this.K,1/this.C),i=20;i>0&&(r=2*Math.atan(n*se(this.e*Math.sin(t.y),-.5*this.e))-H,!(Math.abs(r-t.y)<1e-14));--i)t.y=r;return i?(t.x=e,t.y=r,t):null},names:["gauss"]},le={init:function(){ce.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,r,n,i;return t.x=Mt(t.x-this.long0),ce.forward.apply(this,[t]),e=Math.sin(t.y),r=Math.cos(t.y),n=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*r*n),t.x=i*r*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*r*n),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,r,n,i,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=Math.sqrt(t.x*t.x+t.y*t.y)){var a=2*Math.atan2(o,this.R2);e=Math.sin(a),r=Math.cos(a),i=Math.asin(r*this.sinc0+t.y*e*this.cosc0/o),n=Math.atan2(t.x*e,o*this.cosc0*r-t.y*this.sinc0*e)}else i=this.phic0,n=0;return t.x=n,t.y=i,ce.inverse.apply(this,[t]),t.x=Mt(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]},ue={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=tt&&(this.k0=.5*(1+wt(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=tt&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=tt&&(this.k0=.5*this.cons*Ot(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Et(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Ot(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-H,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,r,n,i,o,a,s=t.x,c=t.y,l=Math.sin(c),u=Math.cos(c),h=Mt(s-this.long0);return Math.abs(Math.abs(s-this.long0)-Math.PI)<=tt&&Math.abs(c+this.lat0)<=tt?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*l+this.coslat0*u*Math.cos(h)),t.x=this.a*e*u*Math.sin(h)+this.x0,t.y=this.a*e*(this.coslat0*l-this.sinlat0*u*Math.cos(h))+this.y0,t):(r=2*Math.atan(this.ssfn_(c,l,this.e))-H,i=Math.cos(r),n=Math.sin(r),Math.abs(this.coslat0)<=tt?(o=Et(this.e,c*this.con,this.con*l),a=2*this.a*this.k0*o/this.cons,t.x=this.x0+a*Math.sin(s-this.long0),t.y=this.y0-this.con*a*Math.cos(s-this.long0),t):(Math.abs(this.sinlat0)<tt?(e=2*this.a*this.k0/(1+i*Math.cos(h)),t.y=e*n):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*n+this.cosX0*i*Math.cos(h))),t.y=e*(this.cosX0*n-this.sinX0*i*Math.cos(h))+this.y0),t.x=e*i*Math.sin(h)+this.x0,t))},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,r,n,i,o,a=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var s=2*Math.atan(a/(2*this.a*this.k0));return e=this.long0,r=this.lat0,a<=tt?(t.x=e,t.y=r,t):(r=Math.asin(Math.cos(s)*this.sinlat0+t.y*Math.sin(s)*this.coslat0/a),e=Mt(Math.abs(this.coslat0)<tt?this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y):this.long0+Math.atan2(t.x*Math.sin(s),a*this.coslat0*Math.cos(s)-t.y*this.sinlat0*Math.sin(s))),t.x=e,t.y=r,t)}if(Math.abs(this.coslat0)<=tt){if(a<=tt)return r=this.lat0,e=this.long0,t.x=e,t.y=r,t;t.x*=this.con,t.y*=this.con,n=a*this.cons/(2*this.a*this.k0),r=this.con*xt(this.e,n),e=this.con*Mt(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else i=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,a<=tt?o=this.X0:(o=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/a),e=Mt(this.long0+Math.atan2(t.x*Math.sin(i),a*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)))),r=-1*xt(this.e,Math.tan(.5*(H+o)));return t.x=e,t.y=r,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,r){return e*=r,Math.tan(.5*(H+t))*Math.pow((1-e)/(1+e),.5*r)}},he={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),r=this.a,n=1/this.rf,i=2*n-Math.pow(n,2),o=this.e=Math.sqrt(i);this.R=this.k0*r*Math.sqrt(1-i)/(1-i*Math.pow(e,2)),this.alpha=Math.sqrt(1+i/(1-i)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),s=Math.log(Math.tan(Math.PI/4+t/2)),c=Math.log((1+o*e)/(1-o*e));this.K=a-this.alpha*s+this.alpha*o/2*c},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),r=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=-this.alpha*(e+r)+this.K,i=2*(Math.atan(Math.exp(n))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),a=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(o))),s=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,t.x=this.R*a+this.x0,t},inverse:function(t){for(var e=t.x-this.x0,r=t.y-this.y0,n=e/this.R,i=2*(Math.atan(Math.exp(r/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(n)),a=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(i))),s=this.lambda0+a/this.alpha,c=0,l=o,u=-1e3,h=0;Math.abs(l-u)>1e-7;){if(++h>20)return;c=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(l))/2)),u=l,l=2*Math.atan(Math.exp(c))-Math.PI/2}return t.x=s,t.y=l,t},names:["somerc"]},fe=1e-7,pe={init:function(){var t,e,r,n,i,o,a,s,c,l,u,h=0,f=0,p=0,d=0,m=0,y=0,g=0;this.no_off=function(t){var e="object"==typeof t.PROJECTION?Object.keys(t.PROJECTION)[0]:t.PROJECTION;return"no_uoff"in t||"no_off"in t||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(e)}(this),this.no_rot="no_rot"in this;var _=!1;"alpha"in this&&(_=!0);var b=!1;if("rectified_grid_angle"in this&&(b=!0),_&&(g=this.alpha),b&&(h=this.rectified_grid_angle*et),_||b)f=this.longc;else if(p=this.long1,m=this.lat1,d=this.long2,y=this.lat2,Math.abs(m-y)<=fe||(t=Math.abs(m))<=fe||Math.abs(t-H)<=fe||Math.abs(Math.abs(this.lat0)-H)<=fe||Math.abs(Math.abs(y)-H)<=fe)throw new Error;var v=1-this.es;e=Math.sqrt(v),Math.abs(this.lat0)>tt?(s=Math.sin(this.lat0),r=Math.cos(this.lat0),t=1-this.es*s*s,this.B=r*r,this.B=Math.sqrt(1+this.es*this.B*this.B/v),this.A=this.B*this.k0*e/t,(i=(n=this.B*e/(r*Math.sqrt(t)))*n-1)<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=n,this.E*=Math.pow(Et(this.e,this.lat0,s),this.B)):(this.B=1/e,this.A=this.k0,this.E=n=i=1),_||b?(_?(u=Math.asin(Math.sin(g)/n),b||(h=g)):(u=h,g=Math.asin(n*Math.sin(u))),this.lam0=f-Math.asin(.5*(i-1/i)*Math.tan(u))/this.B):(o=Math.pow(Et(this.e,m,Math.sin(m)),this.B),a=Math.pow(Et(this.e,y,Math.sin(y)),this.B),i=this.E/o,c=(a-o)/(a+o),l=((l=this.E*this.E)-a*o)/(l+a*o),(t=p-d)<-Math.pi?d-=it:t>Math.pi&&(d+=it),this.lam0=Mt(.5*(p+d)-Math.atan(l*Math.tan(.5*this.B*(p-d))/c)/this.B),u=Math.atan(2*Math.sin(this.B*Mt(p-this.lam0))/(i-1/i)),h=g=Math.asin(n*Math.sin(u))),this.singam=Math.sin(u),this.cosgam=Math.cos(u),this.sinrot=Math.sin(h),this.cosrot=Math.cos(h),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(n*n-1)/Math.cos(g))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*u,this.v_pole_n=this.ArB*Math.log(Math.tan(nt-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(nt+i))},forward:function(t){var e,r,n,i,o,a,s,c,l={};if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-H)>tt){if(e=.5*((o=this.E/Math.pow(Et(this.e,t.y,Math.sin(t.y)),this.B))-(a=1/o)),r=.5*(o+a),i=Math.sin(this.B*t.x),n=(e*this.singam-i*this.cosgam)/r,Math.abs(Math.abs(n)-1)<tt)throw new Error;c=.5*this.ArB*Math.log((1-n)/(1+n)),a=Math.cos(this.B*t.x),s=Math.abs(a)<fe?this.A*t.x:this.ArB*Math.atan2(e*this.cosgam+i*this.singam,a)}else c=t.y>0?this.v_pole_n:this.v_pole_s,s=this.ArB*t.y;return this.no_rot?(l.x=s,l.y=c):(s-=this.u_0,l.x=c*this.cosrot+s*this.sinrot,l.y=s*this.cosrot-c*this.sinrot),l.x=this.a*l.x+this.x0,l.y=this.a*l.y+this.y0,l},inverse:function(t){var e,r,n,i,o,a,s,c={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(r=t.y,e=t.x):(r=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),i=.5*((n=Math.exp(-this.BrA*r))-1/n),o=.5*(n+1/n),s=((a=Math.sin(this.BrA*e))*this.cosgam+i*this.singam)/o,Math.abs(Math.abs(s)-1)<tt)c.x=0,c.y=s<0?-H:H;else{if(c.y=this.E/Math.sqrt((1+s)/(1-s)),c.y=xt(this.e,Math.pow(c.y,1/this.B)),c.y===1/0)throw new Error;c.x=-this.rB*Math.atan2(i*this.cosgam-a*this.singam,Math.cos(this.BrA*e))}return c.x+=this.lam0,c},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]},de={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<tt)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),r=Math.cos(this.lat1),n=Ot(this.e,e,r),i=Et(this.e,this.lat1,e),o=Math.sin(this.lat2),a=Math.cos(this.lat2),s=Ot(this.e,o,a),c=Et(this.e,this.lat2,o),l=Et(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>tt?this.ns=Math.log(n/s)/Math.log(i/c):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=n/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(l,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,r=t.y;Math.abs(2*Math.abs(r)-Math.PI)<=tt&&(r=wt(r)*(H-2*tt));var n,i,o=Math.abs(Math.abs(r)-H);if(o>tt)n=Et(this.e,r,Math.sin(r)),i=this.a*this.f0*Math.pow(n,this.ns);else{if((o=r*this.ns)<=0)return null;i=0}var a=this.ns*Mt(e-this.long0);return t.x=this.k0*(i*Math.sin(a))+this.x0,t.y=this.k0*(this.rh-i*Math.cos(a))+this.y0,t},inverse:function(t){var e,r,n,i,o,a=(t.x-this.x0)/this.k0,s=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+s*s),r=1):(e=-Math.sqrt(a*a+s*s),r=-1);var c=0;if(0!==e&&(c=Math.atan2(r*a,r*s)),0!==e||this.ns>0){if(r=1/this.ns,n=Math.pow(e/(this.a*this.f0),r),-9999===(i=xt(this.e,n)))return null}else i=-H;return o=Mt(c/this.ns+this.long0),t.x=o,t.y=i,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"]},me={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,r,n,i,o,a,s,c=t.x,l=t.y,u=Mt(c-this.long0);return e=Math.pow((1+this.e*Math.sin(l))/(1-this.e*Math.sin(l)),this.alfa*this.e/2),r=2*(Math.atan(this.k*Math.pow(Math.tan(l/2+this.s45),this.alfa)/e)-this.s45),n=-u*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(r)+Math.sin(this.ad)*Math.cos(r)*Math.cos(n)),o=Math.asin(Math.cos(r)*Math.sin(n)/Math.cos(i)),a=this.n*o,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=s*Math.cos(a)/1,t.x=s*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,r,n,i,o,a,s,c=t.x;t.x=t.y,t.y=c,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),i=Math.atan2(t.y,t.x)/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),r=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(e)),t.x=this.long0-r/this.alfa,a=e,s=0;var l=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(s=1),a=t.y,l+=1}while(0===s&&l<15);return l>=15?null:t},names:["Krovak","krovak"]},ye=function(t,e,r,n,i){return t*i-e*Math.sin(2*i)+r*Math.sin(4*i)-n*Math.sin(6*i)},ge=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))},_e=function(t){return.375*t*(1+.25*t*(1+.46875*t))},be=function(t){return.05859375*t*t*(1+.75*t)},ve=function(t){return t*t*t*(35/3072)},Oe=function(t,e,r){var n=e*r;return t/Math.sqrt(1-n*n)},we=function(t){return Math.abs(t)<H?t:t-wt(t)*Math.PI},Me=function(t,e,r,n,i){var o,a;o=t/e;for(var s=0;s<15;s++)if(o+=a=(t-(e*o-r*Math.sin(2*o)+n*Math.sin(4*o)-i*Math.sin(6*o)))/(e-2*r*Math.cos(2*o)+4*n*Math.cos(4*o)-6*i*Math.cos(6*o)),Math.abs(a)<=1e-10)return o;return NaN},Ee={init:function(){this.sphere||(this.e0=ge(this.es),this.e1=_e(this.es),this.e2=be(this.es),this.e3=ve(this.es),this.ml0=this.a*ye(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,r,n=t.x,i=t.y;if(n=Mt(n-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(n)),r=this.a*(Math.atan2(Math.tan(i),Math.cos(n))-this.lat0);else{var o=Math.sin(i),a=Math.cos(i),s=Oe(this.a,this.e,o),c=Math.tan(i)*Math.tan(i),l=n*Math.cos(i),u=l*l,h=this.es*a*a/(1-this.es);e=s*l*(1-u*c*(1/6-(8-c+8*h)*u/120)),r=this.a*ye(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+s*o/a*u*(.5+(5-c+6*h)*u/24)}return t.x=e+this.x0,t.y=r+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,r,n=t.x/this.a,i=t.y/this.a;if(this.sphere){var o=i+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(n)),r=Math.atan2(Math.tan(n),Math.cos(o))}else{var a=this.ml0/this.a+i,s=Me(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-H)<=tt)return t.x=this.long0,t.y=H,i<0&&(t.y*=-1),t;var c=Oe(this.a,this.e,Math.sin(s)),l=c*c*c/this.a/this.a*(1-this.es),u=Math.pow(Math.tan(s),2),h=n*this.a/c,f=h*h;e=s-c*Math.tan(s)/l*h*h*(.5-(1+3*u)*h*h/24),r=h*(1-f*(u/3+(1+3*u)*u*f/15))/Math.cos(s)}return t.x=Mt(r+this.long0),t.y=we(e),t},names:["Cassini","Cassini_Soldner","cass"]},xe=function(t,e){var r;return t>1e-7?(1-t*t)*(e/(1-(r=t*e)*r)-.5/t*Math.log((1-r)/(1+r))):2*e},Se=.3333333333333333,je=.17222222222222222,Pe=.10257936507936508,Te=.06388888888888888,Ie=.0664021164021164,Le=.016415012942191543,Re={init:function(){var t,e=Math.abs(this.lat0);if(Math.abs(e-H)<tt?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<tt?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=xe(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,r=[];return r[0]=t*Se,e=t*t,r[0]+=e*je,r[1]=e*Te,e*=t,r[0]+=e*Pe,r[1]+=e*Ie,r[2]=e*Le,r}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=xe(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,r,n,i,o,a,s,c,l,u,h=t.x,f=t.y;if(h=Mt(h-this.long0),this.sphere){if(o=Math.sin(f),u=Math.cos(f),n=Math.cos(h),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((r=this.mode===this.EQUIT?1+u*n:1+this.sinph0*o+this.cosph0*u*n)<=tt)return null;e=(r=Math.sqrt(2/r))*u*Math.sin(h),r*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*u*n}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),Math.abs(f+this.lat0)<tt)return null;r=nt-.5*f,e=(r=2*(this.mode===this.S_POLE?Math.cos(r):Math.sin(r)))*Math.sin(h),r*=n}}else{switch(s=0,c=0,l=0,n=Math.cos(h),i=Math.sin(h),o=Math.sin(f),a=xe(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(s=a/this.qp,c=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:l=1+this.sinb1*s+this.cosb1*c*n;break;case this.EQUIT:l=1+c*n;break;case this.N_POLE:l=H+f,a=this.qp-a;break;case this.S_POLE:l=f-H,a=this.qp+a}if(Math.abs(l)<tt)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:l=Math.sqrt(2/l),r=this.mode===this.OBLIQ?this.ymf*l*(this.cosb1*s-this.sinb1*c*n):(l=Math.sqrt(2/(1+c*n)))*s*this.ymf,e=this.xmf*l*c*i;break;case this.N_POLE:case this.S_POLE:a>=0?(e=(l=Math.sqrt(a))*i,r=n*(this.mode===this.S_POLE?l:-l)):e=r=0}}return t.x=this.a*e+this.x0,t.y=this.a*r+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,r,n,i,o,a,s,c=t.x/this.a,l=t.y/this.a;if(this.sphere){var u,h=0,f=0;if((r=.5*(u=Math.sqrt(c*c+l*l)))>1)return null;switch(r=2*Math.asin(r),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(f=Math.sin(r),h=Math.cos(r)),this.mode){case this.EQUIT:r=Math.abs(u)<=tt?0:Math.asin(l*f/u),c*=f,l=h*u;break;case this.OBLIQ:r=Math.abs(u)<=tt?this.lat0:Math.asin(h*this.sinph0+l*f*this.cosph0/u),c*=f*this.cosph0,l=(h-Math.sin(r)*this.sinph0)*u;break;case this.N_POLE:l=-l,r=H-r;break;case this.S_POLE:r-=H}e=0!==l||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(c,l):0}else{if(s=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(c/=this.dd,l*=this.dd,(a=Math.sqrt(c*c+l*l))<tt)return t.x=this.long0,t.y=this.lat0,t;i=2*Math.asin(.5*a/this.rq),n=Math.cos(i),c*=i=Math.sin(i),this.mode===this.OBLIQ?(s=n*this.sinb1+l*i*this.cosb1/a,o=this.qp*s,l=a*this.cosb1*n-l*this.sinb1*i):(s=l*i/a,o=this.qp*s,l=a*n)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(l=-l),!(o=c*c+l*l))return t.x=this.long0,t.y=this.lat0,t;s=1-o/this.qp,this.mode===this.S_POLE&&(s=-s)}e=Math.atan2(c,l),r=function(t,e){var r=t+t;return t+e[0]*Math.sin(r)+e[1]*Math.sin(r+r)+e[2]*Math.sin(r+r+r)}(Math.asin(s),this.apa)}return t.x=Mt(this.long0+e),t.y=r,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},Ce=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)},Ae={init:function(){Math.abs(this.lat1+this.lat2)<tt||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Ot(this.e3,this.sin_po,this.cos_po),this.qs1=xe(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Ot(this.e3,this.sin_po,this.cos_po),this.qs2=xe(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=xe(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>tt?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,r=t.y;this.sin_phi=Math.sin(r),this.cos_phi=Math.cos(r);var n=xe(this.e3,this.sin_phi),i=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,o=this.ns0*Mt(e-this.long0),a=i*Math.sin(o)+this.x0,s=this.rh-i*Math.cos(o)+this.y0;return t.x=a,t.y=s,t},inverse:function(t){var e,r,n,i,o,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),i=0,0!==e&&(i=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-n*n)/(2*this.ns0)):(r=(this.c-n*n)/this.ns0,a=this.phi1z(this.e3,r)),o=Mt(i/this.ns0+this.long0),t.x=o,t.y=a,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var r,n,i,o,a=Ce(.5*e);if(t<tt)return a;for(var s=t*t,c=1;c<=25;c++)if(a+=o=.5*(i=1-(n=t*(r=Math.sin(a)))*n)*i/Math.cos(a)*(e/(1-s)-r/i+.5/t*Math.log((1-n)/(1+n))),Math.abs(o)<=1e-7)return a;return null}},ke={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,r,n,i,o,a,s,c=t.x,l=t.y;return n=Mt(c-this.long0),e=Math.sin(l),r=Math.cos(l),i=Math.cos(n),(o=this.sin_p14*e+this.cos_p14*r*i)>0||Math.abs(o)<=tt?(a=this.x0+1*this.a*r*Math.sin(n)/o,s=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*r*i)/o):(a=this.x0+this.infinity_dist*r*Math.sin(n),s=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*r*i)),t.x=a,t.y=s,t},inverse:function(t){var e,r,n,i,o,a;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),r=Math.sin(i),n=Math.cos(i),a=Ce(n*this.sin_p14+t.y*r*this.cos_p14/e),o=Math.atan2(t.x*r,e*this.cos_p14*n-t.y*this.sin_p14*r),o=Mt(this.long0+o)):(a=this.phic0,o=0),t.x=o,t.y=a,t},names:["gnom"]},Ne={init:function(){this.sphere||(this.k0=Ot(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,r,n=t.x,i=t.y,o=Mt(n-this.long0);if(this.sphere)e=this.x0+this.a*o*Math.cos(this.lat_ts),r=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var a=xe(this.e,Math.sin(i));e=this.x0+this.a*this.k0*o,r=this.y0+this.a*a*.5/this.k0}return t.x=e,t.y=r,t},inverse:function(t){var e,r;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=Mt(this.long0+t.x/this.a/Math.cos(this.lat_ts)),r=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(r=function(t,e){var r=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-r)<1e-6)return e<0?-1*H:H;for(var n,i,o,a,s=Math.asin(.5*e),c=0;c<30;c++)if(i=Math.sin(s),o=Math.cos(s),a=t*i,s+=n=Math.pow(1-a*a,2)/(2*o)*(e/(1-t*t)-i/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),Math.abs(n)<=1e-10)return s;return NaN}(this.e,2*t.y*this.k0/this.a),e=Mt(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=r,t},names:["cea"]},De={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.x,r=t.y,n=Mt(e-this.long0),i=we(r-this.lat0);return t.x=this.x0+this.a*n*this.rc,t.y=this.y0+this.a*i,t},inverse:function(t){var e=t.x,r=t.y;return t.x=Mt(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=we(this.lat0+(r-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},Fe={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ge(this.es),this.e1=_e(this.es),this.e2=be(this.es),this.e3=ve(this.es),this.ml0=this.a*ye(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,r,n,i=t.x,o=t.y,a=Mt(i-this.long0);if(n=a*Math.sin(o),this.sphere)Math.abs(o)<=tt?(e=this.a*a,r=-1*this.a*this.lat0):(e=this.a*Math.sin(n)/Math.tan(o),r=this.a*(we(o-this.lat0)+(1-Math.cos(n))/Math.tan(o)));else if(Math.abs(o)<=tt)e=this.a*a,r=-1*this.ml0;else{var s=Oe(this.a,this.e,Math.sin(o))/Math.tan(o);e=s*Math.sin(n),r=this.a*ye(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+s*(1-Math.cos(n))}return t.x=e+this.x0,t.y=r+this.y0,t},inverse:function(t){var e,r,n,i,o,a,s,c,l;if(n=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=tt)e=Mt(n/this.a+this.long0),r=0;else{var u;for(a=this.lat0+i/this.a,s=n*n/this.a/this.a+a*a,c=a,o=20;o;--o)if(c+=l=-1*(a*(c*(u=Math.tan(c))+1)-c-.5*(c*c+s)*u)/((c-a)/u-1),Math.abs(l)<=tt){r=c;break}e=Mt(this.long0+Math.asin(n*Math.tan(c)/this.a)/Math.sin(r))}else if(Math.abs(i+this.ml0)<=tt)r=0,e=Mt(this.long0+n/this.a);else{var h,f,p,d,m;for(a=(this.ml0+i)/this.a,s=n*n/this.a/this.a+a*a,c=a,o=20;o;--o)if(m=this.e*Math.sin(c),h=Math.sqrt(1-m*m)*Math.tan(c),f=this.a*ye(this.e0,this.e1,this.e2,this.e3,c),p=this.e0-2*this.e1*Math.cos(2*c)+4*this.e2*Math.cos(4*c)-6*this.e3*Math.cos(6*c),c-=l=(a*(h*(d=f/this.a)+1)-d-.5*h*(d*d+s))/(this.es*Math.sin(2*c)*(d*d+s-2*a*d)/(4*h)+(a-d)*(h*p-2/Math.sin(2*c))-p),Math.abs(l)<=tt){r=c;break}h=Math.sqrt(1-this.es*Math.pow(Math.sin(r),2))*Math.tan(r),e=Mt(this.long0+Math.asin(n*h/this.a)/Math.sin(r))}return t.x=e,t.y=r,t},names:["Polyconic","poly"]},Be={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,r=t.x,n=t.y-this.lat0,i=r-this.long0,o=n/K*1e-5,a=i,s=1,c=0;for(e=1;e<=10;e++)s*=o,c+=this.A[e]*s;var l,u=c,h=a,f=1,p=0,d=0,m=0;for(e=1;e<=6;e++)l=p*u+f*h,f=f*u-p*h,p=l,d=d+this.B_re[e]*f-this.B_im[e]*p,m=m+this.B_im[e]*f+this.B_re[e]*p;return t.x=m*this.a+this.x0,t.y=d*this.a+this.y0,t},inverse:function(t){var e,r,n=t.x,i=t.y,o=n-this.x0,a=(i-this.y0)/this.a,s=o/this.a,c=1,l=0,u=0,h=0;for(e=1;e<=6;e++)r=l*a+c*s,c=c*a-l*s,l=r,u=u+this.C_re[e]*c-this.C_im[e]*l,h=h+this.C_im[e]*c+this.C_re[e]*l;for(var f=0;f<this.iterations;f++){var p,d=u,m=h,y=a,g=s;for(e=2;e<=6;e++)p=m*u+d*h,d=d*u-m*h,m=p,y+=(e-1)*(this.B_re[e]*d-this.B_im[e]*m),g+=(e-1)*(this.B_im[e]*d+this.B_re[e]*m);d=1,m=0;var _=this.B_re[1],b=this.B_im[1];for(e=2;e<=6;e++)p=m*u+d*h,d=d*u-m*h,m=p,_+=e*(this.B_re[e]*d-this.B_im[e]*m),b+=e*(this.B_im[e]*d+this.B_re[e]*m);var v=_*_+b*b;u=(y*_+g*b)/v,h=(g*_-y*b)/v}var O=u,w=h,M=1,E=0;for(e=1;e<=9;e++)M*=O,E+=this.D[e]*M;var x=this.lat0+E*K*1e5,S=this.long0+w;return t.x=S,t.y=x,t},names:["New_Zealand_Map_Grid","nzmg"]},Ue={init:function(){},forward:function(t){var e=t.x,r=t.y,n=Mt(e-this.long0),i=this.x0+this.a*n,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+r/2.5))*1.25;return t.x=i,t.y=o,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=Mt(this.long0+t.x/this.a),r=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=r,t},names:["Miller_Cylindrical","mill"]},Ge={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Ht(this.es)},forward:function(t){var e,r,n=t.x,i=t.y;if(n=Mt(n-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(i),a=20;a;--a){var s=(this.m*i+Math.sin(i)-o)/(this.m+Math.cos(i));if(i-=s,Math.abs(s)<tt)break}else i=1!==this.n?Math.asin(this.n*Math.sin(i)):i;e=this.a*this.C_x*n*(this.m+Math.cos(i)),r=this.a*this.C_y*i}else{var c=Math.sin(i),l=Math.cos(i);r=this.a*Jt(i,c,l,this.en),e=this.a*n*l/Math.sqrt(1-this.es*c*c)}return t.x=e,t.y=r,t},inverse:function(t){var e,r,n,i;return t.x-=this.x0,n=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,n/=this.C_x*(this.m+Math.cos(e)),this.m?e=Ce((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=Ce(Math.sin(e)/this.n)),n=Mt(n+this.long0),e=we(e)):(e=Qt(t.y/this.a,this.es,this.en),(i=Math.abs(e))<H?(i=Math.sin(e),r=this.long0+t.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)),n=Mt(r)):i-tt<H&&(n=this.long0)),t.x=n,t.y=e,t},names:["Sinusoidal","sinu"]},ze={init:function(){},forward:function(t){for(var e=t.x,r=t.y,n=Mt(e-this.long0),i=r,o=Math.PI*Math.sin(r);;){var a=-(i+Math.sin(i)-o)/(1+Math.cos(i));if(i+=a,Math.abs(a)<tt)break}i/=2,Math.PI/2-Math.abs(r)<tt&&(n=0);var s=.900316316158*this.a*n*Math.cos(i)+this.x0,c=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=s,t.y=c,t},inverse:function(t){var e,r;t.x-=this.x0,t.y-=this.y0,r=t.y/(1.4142135623731*this.a),Math.abs(r)>.999999999999&&(r=.999999999999),e=Math.asin(r);var n=Mt(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));n<-Math.PI&&(n=-Math.PI),n>Math.PI&&(n=Math.PI),r=(2*e+Math.sin(2*e))/Math.PI,Math.abs(r)>1&&(r=1);var i=Math.asin(r);return t.x=n,t.y=i,t},names:["Mollweide","moll"]},We={init:function(){Math.abs(this.lat1+this.lat2)<tt||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ge(this.es),this.e1=_e(this.es),this.e2=be(this.es),this.e3=ve(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Ot(this.e,this.sinphi,this.cosphi),this.ml1=ye(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<tt?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Ot(this.e,this.sinphi,this.cosphi),this.ml2=ye(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=ye(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,r=t.x,n=t.y;if(this.sphere)e=this.a*(this.g-n);else{var i=ye(this.e0,this.e1,this.e2,this.e3,n);e=this.a*(this.g-i)}var o=this.ns*Mt(r-this.long0),a=this.x0+e*Math.sin(o),s=this.y0+this.rh-e*Math.cos(o);return t.x=a,t.y=s,t},inverse:function(t){var e,r,n,i;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(r=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(r=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(0!==r&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return i=Mt(this.long0+o/this.ns),n=we(this.g-r/this.a),t.x=i,t.y=n,t;var a=this.g-r/this.a;return n=Me(a,this.e0,this.e1,this.e2,this.e3),i=Mt(this.long0+o/this.ns),t.x=i,t.y=n,t},names:["Equidistant_Conic","eqdc"]},Xe={init:function(){this.R=this.a},forward:function(t){var e,r,n=t.x,i=t.y,o=Mt(n-this.long0);Math.abs(i)<=tt&&(e=this.x0+this.R*o,r=this.y0);var a=Ce(2*Math.abs(i/Math.PI));(Math.abs(o)<=tt||Math.abs(Math.abs(i)-H)<=tt)&&(e=this.x0,r=i>=0?this.y0+Math.PI*this.R*Math.tan(.5*a):this.y0+Math.PI*this.R*-Math.tan(.5*a));var s=.5*Math.abs(Math.PI/o-o/Math.PI),c=s*s,l=Math.sin(a),u=Math.cos(a),h=u/(l+u-1),f=h*h,p=h*(2/l-1),d=p*p,m=Math.PI*this.R*(s*(h-d)+Math.sqrt(c*(h-d)*(h-d)-(d+c)*(f-d)))/(d+c);o<0&&(m=-m),e=this.x0+m;var y=c+h;return m=Math.PI*this.R*(p*y-s*Math.sqrt((d+c)*(c+1)-y*y))/(d+c),r=i>=0?this.y0+m:this.y0-m,t.x=e,t.y=r,t},inverse:function(t){var e,r,n,i,o,a,s,c,l,u,h,f;return t.x-=this.x0,t.y-=this.y0,h=Math.PI*this.R,o=(n=t.x/h)*n+(i=t.y/h)*i,h=3*(i*i/(c=-2*(a=-Math.abs(i)*(1+o))+1+2*i*i+o*o)+(2*(s=a-2*i*i+n*n)*s*s/c/c/c-9*a*s/c/c)/27)/(l=(a-s*s/3/c)/c)/(u=2*Math.sqrt(-l/3)),Math.abs(h)>1&&(h=h>=0?1:-1),f=Math.acos(h)/3,r=t.y>=0?(-u*Math.cos(f+Math.PI/3)-s/3/c)*Math.PI:-(-u*Math.cos(f+Math.PI/3)-s/3/c)*Math.PI,e=Math.abs(n)<tt?this.long0:Mt(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(n*n-i*i)+o*o))/2/n),t.x=e,t.y=r,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},qe={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,r,n,i,o,a,s,c,l,u,h,f,p,d,m,y,g,_,b,v,O,w,M=t.x,E=t.y,x=Math.sin(t.y),S=Math.cos(t.y),j=Mt(M-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=tt?(t.x=this.x0+this.a*(H-E)*Math.sin(j),t.y=this.y0-this.a*(H-E)*Math.cos(j),t):Math.abs(this.sin_p12+1)<=tt?(t.x=this.x0+this.a*(H+E)*Math.sin(j),t.y=this.y0+this.a*(H+E)*Math.cos(j),t):(_=this.sin_p12*x+this.cos_p12*S*Math.cos(j),g=(y=Math.acos(_))?y/Math.sin(y):1,t.x=this.x0+this.a*g*S*Math.sin(j),t.y=this.y0+this.a*g*(this.cos_p12*x-this.sin_p12*S*Math.cos(j)),t):(e=ge(this.es),r=_e(this.es),n=be(this.es),i=ve(this.es),Math.abs(this.sin_p12-1)<=tt?(o=this.a*ye(e,r,n,i,H),a=this.a*ye(e,r,n,i,E),t.x=this.x0+(o-a)*Math.sin(j),t.y=this.y0-(o-a)*Math.cos(j),t):Math.abs(this.sin_p12+1)<=tt?(o=this.a*ye(e,r,n,i,H),a=this.a*ye(e,r,n,i,E),t.x=this.x0+(o+a)*Math.sin(j),t.y=this.y0+(o+a)*Math.cos(j),t):(s=x/S,c=Oe(this.a,this.e,this.sin_p12),l=Oe(this.a,this.e,x),u=Math.atan((1-this.es)*s+this.es*c*this.sin_p12/(l*S)),b=0===(h=Math.atan2(Math.sin(j),this.cos_p12*Math.tan(u)-this.sin_p12*Math.cos(j)))?Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.abs(Math.abs(h)-Math.PI)<=tt?-Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.asin(Math.sin(j)*Math.cos(u)/Math.sin(h)),f=this.e*this.sin_p12/Math.sqrt(1-this.es),y=c*b*(1-(v=b*b)*(m=(p=this.e*this.cos_p12*Math.cos(h)/Math.sqrt(1-this.es))*p)*(1-m)/6+(O=v*b)/8*(d=f*p)*(1-2*m)+(w=O*b)/120*(m*(4-7*m)-3*f*f*(1-7*m))-w*b/48*d),t.x=this.x0+y*Math.sin(h),t.y=this.y0+y*Math.cos(h),t))},inverse:function(t){var e,r,n,i,o,a,s,c,l,u,h,f,p,d,m,y,g,_,b,v,O,w,M;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*H*this.a)return;return r=e/this.a,n=Math.sin(r),i=Math.cos(r),o=this.long0,Math.abs(e)<=tt?a=this.lat0:(a=Ce(i*this.sin_p12+t.y*n*this.cos_p12/e),s=Math.abs(this.lat0)-H,o=Mt(Math.abs(s)<=tt?this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y):this.long0+Math.atan2(t.x*n,e*this.cos_p12*i-t.y*this.sin_p12*n))),t.x=o,t.y=a,t}return c=ge(this.es),l=_e(this.es),u=be(this.es),h=ve(this.es),Math.abs(this.sin_p12-1)<=tt?(f=this.a*ye(c,l,u,h,H),e=Math.sqrt(t.x*t.x+t.y*t.y),a=Me((f-e)/this.a,c,l,u,h),o=Mt(this.long0+Math.atan2(t.x,-1*t.y)),t.x=o,t.y=a,t):Math.abs(this.sin_p12+1)<=tt?(f=this.a*ye(c,l,u,h,H),e=Math.sqrt(t.x*t.x+t.y*t.y),a=Me((e-f)/this.a,c,l,u,h),o=Mt(this.long0+Math.atan2(t.x,t.y)),t.x=o,t.y=a,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),m=Math.atan2(t.x,t.y),p=Oe(this.a,this.e,this.sin_p12),y=Math.cos(m),_=-(g=this.e*this.cos_p12*y)*g/(1-this.es),b=3*this.es*(1-_)*this.sin_p12*this.cos_p12*y/(1-this.es),w=1-_*(O=(v=e/p)-_*(1+_)*Math.pow(v,3)/6-b*(1+3*_)*Math.pow(v,4)/24)*O/2-v*O*O*O/6,d=Math.asin(this.sin_p12*Math.cos(O)+this.cos_p12*Math.sin(O)*y),o=Mt(this.long0+Math.asin(Math.sin(m)*Math.sin(O)/Math.cos(d))),M=Math.sin(d),a=Math.atan2((M-this.es*w*this.sin_p12)*Math.tan(d),M*(1-this.es)),t.x=o,t.y=a,t)},names:["Azimuthal_Equidistant","aeqd"]},Ve={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,r,n,i,o,a,s,c=t.x,l=t.y;return n=Mt(c-this.long0),e=Math.sin(l),r=Math.cos(l),i=Math.cos(n),((o=this.sin_p14*e+this.cos_p14*r*i)>0||Math.abs(o)<=tt)&&(a=1*this.a*r*Math.sin(n),s=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*r*i)),t.x=a,t.y=s,t},inverse:function(t){var e,r,n,i,o,a,s;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),r=Ce(e/this.a),n=Math.sin(r),i=Math.cos(r),a=this.long0,Math.abs(e)<=tt?(s=this.lat0,t.x=a,t.y=s,t):(s=Ce(i*this.sin_p14+t.y*n*this.cos_p14/e),o=Math.abs(this.lat0)-H,Math.abs(o)<=tt?(a=Mt(this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y)),t.x=a,t.y=s,t):(a=Mt(this.long0+Math.atan2(t.x*n,e*this.cos_p14*i-t.y*this.sin_p14*n)),t.x=a,t.y=s,t))},names:["ortho"]},Ye=1,Ze=2,Ke=3,He=4,Je=5,Qe=6,$e={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4},tr={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=H-nt/2?this.face=Je:this.lat0<=-(H-nt/2)?this.face=Qe:Math.abs(this.long0)<=nt?this.face=Ye:Math.abs(this.long0)<=H+nt?this.face=this.long0>0?Ze:He:this.face=Ke,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,r,n,i,o,a,s={x:0,y:0},c={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,r=t.x,this.face===Je)i=H-e,r>=nt&&r<=H+nt?(c.value=$e.AREA_0,n=r-H):r>H+nt||r<=-(H+nt)?(c.value=$e.AREA_1,n=r>0?r-ot:r+ot):r>-(H+nt)&&r<=-nt?(c.value=$e.AREA_2,n=r+H):(c.value=$e.AREA_3,n=r);else if(this.face===Qe)i=H+e,r>=nt&&r<=H+nt?(c.value=$e.AREA_0,n=-r+H):r<nt&&r>=-nt?(c.value=$e.AREA_1,n=-r):r<-nt&&r>=-(H+nt)?(c.value=$e.AREA_2,n=-r-H):(c.value=$e.AREA_3,n=r>0?-r+ot:-r-ot);else{var l,u,h,f,p,d;this.face===Ze?r=W(r,+H):this.face===Ke?r=W(r,+ot):this.face===He&&(r=W(r,-H)),f=Math.sin(e),p=Math.cos(e),d=Math.sin(r),l=p*Math.cos(r),u=p*d,h=f,this.face===Ye?n=z(i=Math.acos(l),h,u,c):this.face===Ze?n=z(i=Math.acos(u),h,-l,c):this.face===Ke?n=z(i=Math.acos(-l),h,-u,c):this.face===He?n=z(i=Math.acos(-u),h,l,c):(i=n=0,c.value=$e.AREA_0)}return a=Math.atan(12/ot*(n+Math.acos(Math.sin(n)*Math.cos(nt))-H)),o=Math.sqrt((1-Math.cos(i))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(n))))),c.value===$e.AREA_1?a+=H:c.value===$e.AREA_2?a+=ot:c.value===$e.AREA_3&&(a+=1.5*ot),s.x=o*Math.cos(a),s.y=o*Math.sin(a),s.x=s.x*this.a+this.x0,s.y=s.y*this.a+this.y0,t.x=s.x,t.y=s.y,t},inverse:function(t){var e,r,n,i,o,a,s,c,l,u,h,f,p={lam:0,phi:0},d={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,r=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?d.value=$e.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(d.value=$e.AREA_1,e-=H):t.x<0&&-t.x>=Math.abs(t.y)?(d.value=$e.AREA_2,e=e<0?e+ot:e-ot):(d.value=$e.AREA_3,e+=H),l=ot/12*Math.tan(e),o=Math.sin(l)/(Math.cos(l)-1/Math.sqrt(2)),a=Math.atan(o),(s=1-(n=Math.cos(e))*n*(i=Math.tan(r))*i*(1-Math.cos(Math.atan(1/Math.cos(a)))))<-1?s=-1:s>1&&(s=1),this.face===Je)c=Math.acos(s),p.phi=H-c,d.value===$e.AREA_0?p.lam=a+H:d.value===$e.AREA_1?p.lam=a<0?a+ot:a-ot:d.value===$e.AREA_2?p.lam=a-H:p.lam=a;else if(this.face===Qe)c=Math.acos(s),p.phi=c-H,d.value===$e.AREA_0?p.lam=-a+H:d.value===$e.AREA_1?p.lam=-a:d.value===$e.AREA_2?p.lam=-a-H:p.lam=a<0?-a-ot:-a+ot;else{var m,y,g;l=(m=s)*m,y=(l+=(g=l>=1?0:Math.sqrt(1-l)*Math.sin(a))*g)>=1?0:Math.sqrt(1-l),d.value===$e.AREA_1?(l=y,y=-g,g=l):d.value===$e.AREA_2?(y=-y,g=-g):d.value===$e.AREA_3&&(l=y,y=g,g=-l),this.face===Ze?(l=m,m=-y,y=l):this.face===Ke?(m=-m,y=-y):this.face===He&&(l=m,m=y,y=-l),p.phi=Math.acos(-g)-H,p.lam=Math.atan2(y,m),this.face===Ze?p.lam=W(p.lam,-H):this.face===Ke?p.lam=W(p.lam,-ot):this.face===He&&(p.lam=W(p.lam,+H))}return 0!==this.es&&(u=p.phi<0?1:0,h=Math.tan(p.phi),f=this.b/Math.sqrt(h*h+this.one_minus_f_squared),p.phi=Math.atan(Math.sqrt(this.a*this.a-f*f)/(this.one_minus_f*f)),u&&(p.phi=-p.phi)),p.lam+=this.long0,t.x=p.lam,t.y=p.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},er=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],rr=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],nr=rt/5,ir=1/nr,or=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},ar={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=Mt(t.x-this.long0),r=Math.abs(t.y),n=Math.floor(r*nr);n<0?n=0:n>=18&&(n=17);var i={x:or(er[n],r=rt*(r-ir*n))*e,y:or(rr[n],r)};return t.y<0&&(i.y=-i.y),i.x=i.x*this.a*.8487+this.x0,i.y=i.y*this.a*1.3523+this.y0,i},inverse:function(t){var e={x:(t.x-this.x0)/(.8487*this.a),y:Math.abs(t.y-this.y0)/(1.3523*this.a)};if(e.y>=1)e.x/=er[18][0],e.y=t.y<0?-H:H;else{var r=Math.floor(18*e.y);for(r<0?r=0:r>=18&&(r=17);;)if(rr[r][0]>e.y)--r;else{if(!(rr[r+1][0]<=e.y))break;++r}var n=rr[r],i=5*(e.y-n[0])/(rr[r+1][0]-n[0]);i=function(t,e,r,n){for(var i=e;n;--n){var o=t(i);if(i-=o,Math.abs(o)<r)break}return i}((function(t){return(or(n,t)-e.y)/function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])}(n,t)}),i,tt,100),e.x/=or(er[r],i),e.y=(5*r+i)*et,t.y<0&&(e.y=-e.y)}return e.x=Mt(e.x+this.long0),e},names:["Robinson","robin"]},sr={init:function(){this.name="geocent"},forward:function(t){return O(t,this.es,this.a)},inverse:function(t){return w(t,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]},cr=0,lr=1,ur=2,hr=3,fr={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}},pr={init:function(){if(Object.keys(fr).forEach(function(t){if(void 0===this[t])this[t]=fr[t].def;else{if(fr[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);fr[t].num&&(this[t]=parseFloat(this[t]))}fr[t].degrees&&(this[t]=this[t]*et)}.bind(this)),Math.abs(Math.abs(this.lat0)-H)<tt?this.mode=this.lat0<0?lr:cr:Math.abs(this.lat0)<tt?this.mode=ur:(this.mode=hr,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)},forward:function(t){t.x-=this.long0;var e,r,n,i,o=Math.sin(t.y),a=Math.cos(t.y),s=Math.cos(t.x);switch(this.mode){case hr:r=this.sinph0*o+this.cosph0*a*s;break;case ur:r=a*s;break;case lr:r=-o;break;case cr:r=o}switch(e=(r=this.pn1/(this.p-r))*a*Math.sin(t.x),this.mode){case hr:r*=this.cosph0*o-this.sinph0*a*s;break;case ur:r*=o;break;case cr:r*=-a*s;break;case lr:r*=a*s}return i=1/((n=r*this.cg+e*this.sg)*this.sw*this.h1+this.cw),e=(e*this.cg-r*this.sg)*this.cw*i,r=n*i,t.x=e*this.a,t.y=r*this.a,t},inverse:function(t){t.x/=this.a,t.y/=this.a;var e,r,n,i={x:t.x,y:t.y};n=1/(this.pn1-t.y*this.sw),e=this.pn1*t.x*n,r=this.pn1*t.y*this.cw*n,t.x=e*this.cg+r*this.sg,t.y=r*this.cg-e*this.sg;var o=ee(t.x,t.y);if(Math.abs(o)<tt)i.x=0,i.y=t.y;else{var a,s;switch(s=1-o*o*this.pfact,s=(this.p-Math.sqrt(s))/(this.pn1/o+o/this.pn1),a=Math.sqrt(1-s*s),this.mode){case hr:i.y=Math.asin(a*this.sinph0+t.y*s*this.cosph0/o),t.y=(a-this.sinph0*Math.sin(i.y))*o,t.x*=s*this.cosph0;break;case ur:i.y=Math.asin(t.y*s/o),t.y=a*o,t.x*=s;break;case cr:i.y=Math.asin(a),t.y=-t.y;break;case lr:i.y=-Math.asin(a)}i.x=Math.atan2(t.x,t.y)}return t.x=i.x+this.long0,t.y=i.y,t},names:["Tilted_Perspective","tpers"]},dr={init:function(){if(this.flip_axis="x"===this.sweep?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,0!==this.es){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")},forward:function(t){var e,r,n,i,o=t.x,a=t.y;if(o-=this.long0,"ellipse"===this.shape){a=Math.atan(this.radius_p2*Math.tan(a));var s=this.radius_p/ee(this.radius_p*Math.cos(a),Math.sin(a));if(r=s*Math.cos(o)*Math.cos(a),n=s*Math.sin(o)*Math.cos(a),i=s*Math.sin(a),(this.radius_g-r)*r-n*n-i*i*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;e=this.radius_g-r,this.flip_axis?(t.x=this.radius_g_1*Math.atan(n/ee(i,e)),t.y=this.radius_g_1*Math.atan(i/e)):(t.x=this.radius_g_1*Math.atan(n/e),t.y=this.radius_g_1*Math.atan(i/ee(n,e)))}else"sphere"===this.shape&&(e=Math.cos(a),r=Math.cos(o)*e,n=Math.sin(o)*e,i=Math.sin(a),e=this.radius_g-r,this.flip_axis?(t.x=this.radius_g_1*Math.atan(n/ee(i,e)),t.y=this.radius_g_1*Math.atan(i/e)):(t.x=this.radius_g_1*Math.atan(n/e),t.y=this.radius_g_1*Math.atan(i/ee(n,e))));return t.x=t.x*this.a,t.y=t.y*this.a,t},inverse:function(t){var e,r,n,i,o=-1,a=0,s=0;if(t.x=t.x/this.a,t.y=t.y/this.a,"ellipse"===this.shape){this.flip_axis?(s=Math.tan(t.y/this.radius_g_1),a=Math.tan(t.x/this.radius_g_1)*ee(1,s)):(a=Math.tan(t.x/this.radius_g_1),s=Math.tan(t.y/this.radius_g_1)*ee(1,a));var c=s/this.radius_p;if(e=a*a+c*c+o*o,(n=(r=2*this.radius_g*o)*r-4*e*this.C)<0)return t.x=Number.NaN,t.y=Number.NaN,t;i=(-r-Math.sqrt(n))/(2*e),o=this.radius_g+i*o,a*=i,s*=i,t.x=Math.atan2(a,o),t.y=Math.atan(s*Math.cos(t.x)/o),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if("sphere"===this.shape){if(this.flip_axis?(s=Math.tan(t.y/this.radius_g_1),a=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+s*s)):(a=Math.tan(t.x/this.radius_g_1),s=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+a*a)),e=a*a+s*s+o*o,(n=(r=2*this.radius_g*o)*r-4*e*this.C)<0)return t.x=Number.NaN,t.y=Number.NaN,t;i=(-r-Math.sqrt(n))/(2*e),o=this.radius_g+i*o,a*=i,s*=i,t.x=Math.atan2(a,o),t.y=Math.atan(s*Math.cos(t.x)/o)}return t.x=t.x+this.long0,t},names:["Geostationary Satellite View","Geostationary_Satellite","geos"]};return L.defaultDatum="WGS84",L.Proj=v,L.WGS84=new L.Proj("WGS84"),L.Point=G,L.toPoint=Nt,L.defs=s,L.nadgrid=function(t,e){var r=new DataView(e),n=function(t){var e=t.getInt32(8,!1);return 11!==e&&(11!==(e=t.getInt32(8,!0))&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}(r),i=function(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:m(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}(r,n);i.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var o={header:i,subgrids:y(r,i,n)};return Ct[t]=o,o},L.transform=P,L.mgrs=Yt,L.version="2.9.0",(Zt=L).Proj.projections.add($t),Zt.Proj.projections.add(oe),Zt.Proj.projections.add(ae),Zt.Proj.projections.add(le),Zt.Proj.projections.add(ue),Zt.Proj.projections.add(he),Zt.Proj.projections.add(pe),Zt.Proj.projections.add(de),Zt.Proj.projections.add(me),Zt.Proj.projections.add(Ee),Zt.Proj.projections.add(Re),Zt.Proj.projections.add(Ae),Zt.Proj.projections.add(ke),Zt.Proj.projections.add(Ne),Zt.Proj.projections.add(De),Zt.Proj.projections.add(Fe),Zt.Proj.projections.add(Be),Zt.Proj.projections.add(Ue),Zt.Proj.projections.add(Ge),Zt.Proj.projections.add(ze),Zt.Proj.projections.add(We),Zt.Proj.projections.add(Xe),Zt.Proj.projections.add(qe),Zt.Proj.projections.add(Ve),Zt.Proj.projections.add(tr),Zt.Proj.projections.add(ar),Zt.Proj.projections.add(sr),Zt.Proj.projections.add(pr),Zt.Proj.projections.add(dr),L}()},function(t,e,r){"use strict";var n,i=r(144),o=r(20),a=r(34),s=r(143),c=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),l=function(t){function e(e,r,n,i,o,a){var s=t.call(this,e,r,a)||this;return s.crossOrigin_=i,s.src_=n,s.image_=new Image,null!==i&&(s.image_.crossOrigin=i),s.unlisten_=null,s.tileLoadFunction_=o,s}return c(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){var t;this.state=o.a.ERROR,this.unlistenImage_(),this.image_=((t=Object(a.a)(1,1)).fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=o.a.LOADED:this.state=o.a.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==o.a.ERROR&&(this.state=o.a.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==o.a.IDLE&&(this.state=o.a.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Object(s.b)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(i.a);e.a=l},function(t,e,r){"use strict";var n,i=r(10),o=r(20),a=r(102),s=r(172),c=r(296),l=r(63),u=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),h=function(t){function e(e){var r=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return r.generateTileUrlFunction_=!e.tileUrlFunction,r.tileLoadFunction=e.tileLoadFunction,r.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(r):a.d,r.urls=null,e.urls?r.setUrls(e.urls):e.url&&r.setUrl(e.url),r.tileLoadingKeys_={},r}return u(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,r=t.target,n=Object(i.c)(r),a=r.getState();a==o.a.LOADING?(this.tileLoadingKeys_[n]=!0,e=c.a.TILELOADSTART):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],e=a==o.a.ERROR?c.a.TILELOADERROR:a==o.a.LOADED?c.a.TILELOADEND:void 0),null!=e&&this.dispatchEvent(new s.a(e,r))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=Object(a.c)(t);this.urls=e,this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(Object(a.a)(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,r){var n=Object(l.d)(t,e,r);this.tileCache.containsKey(n)&&this.tileCache.get(n)},e}(s.b);e.a=h},function(t,e,r){"use strict";var n,i=r(50),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(t){function e(e,r,n,i){var o=t.call(this,e)||this;return o.inversePixelTransform=r,o.frameState=n,o.context=i,o}return o(e,t),e}(i.a);e.a=a},function(t,e,r){"use strict";var n=r(0);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(a)?a:String(a)),n)}var o,a}function a(t,e){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=l(t);if(e){var i=l(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return c(this,r)}}function c(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(l,t);var e,r,i,c=s(l);function l(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(e=c.call(this,Object(n.t)({},t,!0))).facadeMap_=null,e}return e=l,(r=[{key:"addTo",value:function(t,e){this.facadeMap_=t,t.getMapImpl().addControl(this)}},{key:"getElement",value:function(){return this.element}},{key:"destroy",value:function(){this.facadeMap_.getMapImpl().removeControl(this),this.facadeMap_=null}}])&&o(e.prototype,r),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),l}(r(256).a);e.a=u},function(t,e,r){"use strict";var n=r(0);e.a=function(t){t.registerHelper("gt",(function(t,e,r){return t>e?r.fn(this):r.inverse(this)})),t.registerHelper("lt",(function(t,e,r){return t<e?r.fn(this):r.inverse(this)})),t.registerHelper("eq",(function(t,e,r){return Object.equals(t,e)?r.fn(this):r.inverse(this)})),t.registerHelper("oneword",(function(t,e){return/\s/g.test(Object(n.K)(t))?e.inverse(this):e.fn(this)})),t.registerHelper("printType",(function(t,e,r,n,i){var o="<li id=".concat(r,'><span id="info">').concat(e,"</span>");return"Municipio"!==t&&"provincia"!==t&&"comunidad autonoma"!==t&&!0!==i||(o+=" (".concat(t,")")),void 0!==n&&(o+=" en ".concat(n)),o})),t.registerHelper("pattern",(function(t){var e="";return t.data.root.fields.forEach((function(t){if(t.isFormatter&&void 0!==t.typeparam)for(var r=t.typeparam,n=t.value,i=0;i<n;i+=1)e+=r})),e})),t.registerHelper("formatterStr",(function(t){var e,r,n="";r=t.value,e=t.typeparam;for(var i=0;i<r;i+=1)n+=e;return n})),t.registerHelper("ifCond",(function(t,e,r){return t===e?r.fn(void 0):r.inverse(void 0)})),t.registerHelper("sum",(function(t,e){return t+e})),t.registerHelper("neq",(function(t,e,r){return Object.equals(t,e)?r.inverse(void 0):r.fn(void 0)})),t.registerHelper("unless",(function(t,e){return t?e.inverse(void 0):e.fn(void 0)})),t.registerHelper("get",(function(t,e){return e[t]})),t.registerHelper("uppercase",(function(t){return t.toUpperCase()})),t.registerHelper("lowercase",(function(t){return t.toLowerCase()}))}},function(t,e,r){"use strict";var n=r(0),i=r(51),o=r(12),a=r(133),s=r(64),c=r(9),l=r(100),u=r(276),h=r(4),f=r(112),p=r(2),d=r(36),m=r(23),y=r(107),g=r(213),_=r(214),b=r(373),v=r(375);function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==O(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===O(o)?o:String(o)),n)}var i,o}function x(t,e){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function S(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=P(t);if(e){var i=P(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return j(this,r)}}function j(t,e){if(e&&("object"===O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)}(j,t);var e,r,y,O=S(j);function j(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return w(this,j),(t=O.call(this,e,r)).facadeLayer_=null,t.options=e,t.layers=[],t.displayInLayerSwitcher_=!0,t.getCapabilitiesPromise=null,t.extentPromise=null,t.extent=null,t.resolutions_=null,t.extentProj_=null,!1===t.options.visibility&&(t.visibility=!1),Object(n.X)(t.tiled)&&(t.tiled=!0!==t.options.singleTile),Object(n.X)(t.options.numZoomLevels)&&(t.options.numZoomLevels=20),Object(n.X)(t.options.animated)&&(t.options.animated=!1),t.format=Object(n.X)(t.options.format)?"image/png":t.options.format,t.styles=t.options.styles||"",t.sldBody=e.sldBody,t.zIndex_=m.a.Z_INDEX[o.WMS],t.minZoom=e.minZoom||Number.NEGATIVE_INFINITY,t.maxZoom=e.maxZoom||Number.POSITIVE_INFINITY,t.useCapabilities=!1!==e.useCapabilities,t.ratio=e.ratio||1,e.ratio<1&&console.error("El ratio debe ser 1 o superior"),t.crossOrigin=null===e.crossOrigin||!1===e.crossOrigin?void 0:"anonymous",t.isWMSfull=e.isWMSfull,t}return e=j,(r=[{key:"setVisible",value:function(t){var e=this;if(this.visibility=t,!0===t&&!0!==this.transparent){this.map.getBaseLayers().filter((function(t){return!t.equals(e.facadeLayer_)&&t.isVisible()})).forEach((function(t){return t.setVisible(!1)})),Object(n.X)(this.ol3Layer)||this.ol3Layer.setVisible(t);var r=this.map.getZoom();this.map.getImpl().updateResolutionsFromBaseLayer(),Object(n.X)(r)||this.map.setZoom(r)}else Object(n.X)(this.ol3Layer)||this.ol3Layer.setVisible(t)}},{key:"isQueryable",value:function(){return!1!==this.options.queryable}},{key:"addTo",value:function(t){var e=this;if(this.map=t,this.fire(c.i),!Object(n.W)(this.options)&&!Object(n.W)(this.options.minScale)&&!Object(n.W)(this.options.maxScale)){var r=this.map.getProjection().units;this.options.minResolution=Object(n.H)(this.options.minScale,r),this.options.maxResolution=Object(n.H)(this.options.maxScale,r)}this.isWMSfull?this.addAllLayers_():this.useCapabilities?this.getCapabilities().then((function(t){e.addSingleLayer_(t)})):this.addSingleLayer_(null),this.legendUrl_===Object(n.g)([M.config.THEME_URL,i.a.LEGEND_DEFAULT])&&(this.legendUrl_=Object(n.b)(this.url,{SERVICE:"WMS",VERSION:this.version,REQUEST:"GetLegendGraphic",LAYER:this.name,FORMAT:"image/png"}))}},{key:"setResolutions",value:function(t){var e=this;this.resolutions_=t,this.facadeLayer_.calculateMaxExtent().then((function(r){if(!Object(n.X)(e.ol3Layer)){var i=e.options.minResolution,o=e.options.maxResolution,a=e.createOLSource_(t,i,o,r);e.ol3Layer.setSource(a),e.ol3Layer.setExtent(r)}}))}},{key:"addSingleLayer_",value:function(t){var e=this.facadeLayer_.userMaxExtent;if(t){var r=t.capabilities.Capability.Layer.Layer;if(Object(n.R)(r)){var i=this.formatCapabilities_(r,this);this.addCapabilitiesMetadata(i)}this.addCapabilitiesMetadata(r),Object(n.X)(e)&&(e=this.facadeLayer_.calculateMaxExtentWithCapabilities(t),this.facadeLayer_.maxExtent_=e)}var o=this.options.minResolution,a=this.options.maxResolution,s=this.opacity_,c=this.zIndex_,h=this.visibility&&!1!==this.options.visibility,f=this.map.getResolutions();if(Object(n.X)(f)&&!Object(n.X)(this.resolutions_))f=this.resolutions_;else if(Object(n.X)(f)){var p=this.getNumZoomLevels(),d=this.map.getMapImpl().getSize(),m=this.map.getProjection().units;f=Object(n.X)(o)||Object(n.X)(a)?Object(n.A)(e,d,p,m):Object(n.v)(o,a,p)}var y=this.createOLSource_(f,o,a,e);!0===this.tiled?this.ol3Layer=new l.a(Object(n.t)({visible:h,source:y,extent:e,minResolution:o,maxResolution:a,opacity:s,zIndex:c},this.vendorOptions_,!0)):this.ol3Layer=new u.a(Object(n.t)({visible:h,source:y,extent:e,minResolution:o,maxResolution:a,opacity:s,zIndex:c},this.vendorOptions_,!0)),this.map.getMapImpl().addLayer(this.ol3Layer),this.setVisible(this.visibility),null!==c&&this.setZIndex(c),null!==this.resolutions_&&this.setResolutions(this.resolutions_);var g=!1===this.transparent||!0===this.options.animated;this.ol3Layer.set("animated",g),this.ol3Layer.setMaxZoom(this.maxZoom),this.ol3Layer.setMinZoom(this.minZoom)}},{key:"formatCapabilities_",value:function(t,e){for(var r=t,n=0,i=r.length;n<i;n+=1)if(void 0!==r[n]&&void 0!==r[n].Name&&r[n].Name===e.facadeLayer_.name){r=r[n];try{this.legendUrl_=r.Style[0].LegendURL[0].OnlineResource}catch(t){}}else if(void 0!==r[n]&&void 0!==r[n].Layer&&void 0!==r[n].Layer.filter((function(t){return t.Name===e.facadeLayer_.name}))[0]){r=r[n].Layer.filter((function(t){return t.Name===e.facadeLayer_.name}))[0];try{this.legendUrl_=r.Style[0].LegendURL[0].OnlineResource}catch(t){}}return r}},{key:"addCapabilitiesMetadata",value:function(t){var e={abstract:Object(n.X)(t.Abstract)?"":t.Abstract,attribution:Object(n.X)(t.Attribution)?"":t.Attribution,metadataURL:Object(n.X)(t.MetadataURL)?"":t.MetadataURL,style:Object(n.X)(t.Style)?"":t.Style};void 0===this.facadeLayer_.capabilitiesMetadata&&(this.facadeLayer_.capabilitiesMetadata=e)}},{key:"createOLSource_",value:function(t,e,r,i){var o=this,a=this.vendorOptions_.source;if(Object(n.X)(this.vendorOptions_.source)){var s={LAYERS:this.name,VERSION:this.version,TRANSPARENT:this.transparent,FORMAT:this.format,STYLES:this.styles};"1.3.0"!==this.version&&(s.TILED=this.tiled),Object(n.X)(this.sldBody)||(s.SLD_BODY=this.sldBody),Object(n.X)(this.options.params)||Object.keys(this.options.params).forEach((function(t){s[t.toUpperCase()]=o.options.params[t]}));var c=this.opacity_,l=this.zIndex_;if(!0===this.tiled){var u=!!this.useCapabilities&&new f.a({resolutions:t,extent:i,origin:Object(p.w)(i)});a=new b.a({crossOrigin:this.crossOrigin,url:this.url,params:s,tileGrid:u,extent:i,minResolution:e,maxResolution:r,opacity:c,zIndex:l})}else a=new v.a({crossOrigin:this.crossOrigin,url:this.url,params:s,extent:i,minResolution:e,maxResolution:r,opacity:c,zIndex:l,ratio:this.ratio})}return a}},{key:"addAllLayers_",value:function(){var t=this;this.getCapabilities().then((function(e){t.useCapabilities&&((t.map.collectionCapabilities.find((function(e){return e.url===t.url}))||{capabilities:!1}).capabilites=e),e.getLayers().forEach((function(e){var r=new a.a({url:t.url,name:e.name,version:e.version,tiled:t.tiled,useCapabilities:t.useCapabilities},t.vendorOptions_);t.layers.push(r)})),t.map.addWMS(t.layers);var r=t.layers.length;t.layers.forEach((function(t){t.setZIndex(m.a.Z_INDEX[o.WMS]+r),r+=1}))}))}},{key:"getExtent",value:function(){var t=this,e=Object(h.j)(this.map.getProjection().code);return this.extentPromise=new Promise((function(r,i){Object(n.X)(t.extent_)?t.getCapabilities().then((function(n){t.extent_=n.getLayerExtent(t.name),t.extentProj_=e,r(t.extent_)})):(t.extent_=d.a.transformExtent(t.extent_,t.extentProj_,e),t.extentProj_=e,r(t.extent_))})),this.extentPromise}},{key:"getMinResolution",value:function(){return this.options.minResolution}},{key:"getMaxResolution",value:function(){return this.options.maxResolution}},{key:"updateMinMaxResolution",value:function(t){Object(n.X)(this.options.minResolution)||(this.options.minResolution=Object(n.H)(this.options.minScale,t.units),this.ol3Layer.setMinResolution(this.options.minResolution)),Object(n.X)(this.options.maxResolution)||(this.options.maxResolution=Object(n.H)(this.options.maxScale,t.units),this.ol3Layer.setMaxResolution(this.options.maxResolution))}},{key:"setMaxExtent",value:function(t){var e=this.options.minResolution,r=this.options.maxResolution;if(this.getOL3Layer().setExtent(t),!0===this.tiled){var i=this.map.getResolutions();if(Object(n.X)(i)&&!Object(n.X)(this.resolutions_)&&(i=this.resolutions_),!Object(n.X)(i)){var o=this.createOLSource_(i,e,r,t);this.ol3Layer.setSource(o)}}}},{key:"getNumZoomLevels",value:function(){return this.options.numZoomLevels}},{key:"getLayers",value:function(){return this.layers}},{key:"getCapabilities",value:function(){var t=this,e=this.map.collectionCapabilities.find((function(e){return e.url===t.url}))||{capabilities:!1};if(e.capabilities)this.getCapabilitiesPromise=e.capabilities;else if(Object(n.X)(this.getCapabilitiesPromise)){var r=this.url,i=this.version,o=this.map.getProjection();this.getCapabilitiesPromise=new Promise((function(t,e){var a=Object(n.M)(r,i);Object(s.b)(a).then((function(e){var n=e.xml,i=(new _.a).customRead(n),a=new g.a(i,r,o);t(a)}))})),e.capabilities=this.getCapabilitiesPromise}return this.getCapabilitiesPromise}},{key:"getLegendURL",value:function(){return this.legendUrl_}},{key:"setLegendURL",value:function(t){this.legendUrl_=t}},{key:"refresh",value:function(){var t=this.getOL3Layer();Object(n.X)(t)||t.getSource().changed()}},{key:"getExtentFromCapabilities",value:function(t){var e=this.facadeLayer_.name;return t.getLayerExtent(e)?t.getLayerExtent(e):[]}},{key:"setFacadeObj",value:function(t){this.facadeLayer_=t}},{key:"destroy",value:function(){var t=this.map.getMapImpl();Object(n.X)(this.ol3Layer)||(t.removeLayer(this.ol3Layer),this.ol3Layer=null),Object(n.X)(this.layers)||(this.layers.map(this.map.removeLayers,this.map),this.layers.length=0),this.map=null}},{key:"equals",value:function(t){var e=!1;return t instanceof j&&(e=this.url===t.url,e=e&&this.name===t.name,e=e&&this.version===t.version),e}}])&&E(e.prototype,r),y&&E(e,y),Object.defineProperty(e,"prototype",{writable:!1}),j}(y.a);T.LEGEND_IMAGE=null,e.a=T},function(t,e,r){"use strict";r.d(e,"b",(function(){return c})),r.d(e,"a",(function(){return l}));var n=r(628),i=r(206),o=r(52),a=r(6),s=r(77),c=function(t,e,r,c){try{var l=[],u=t.getProjection().code;if("zip"===c){var h=[].concat(n.parseZip(e));l=i.a.loadAllInGeoJSONLayer(h,u)}else if("kml"===c)l=i.a.loadKMLLayer(e,u,!1);else if("gpx"===c)l=i.a.loadGPXLayer(e,u);else if("geojson"===c||"json"===c)l=i.a.loadGeoJSONLayer(e,u);else{if("gml"!==c)return void o.error(Object(a.e)("exception").file_load);l=i.a.loadGMLLayer(e,u)}if(0===l.length)o.info(Object(a.e)("exception").no_geoms);else{var f=new s.a({name:r,legend:r,extract:!0});f.addFeatures(l),t.addLayers(f),i.a.centerFeatures(l,t)}}catch(t){o.error(Object(a.e)("exception").file_load_correct)}},l=function(t,e){if(e)if(e.size>20971520)o.info(Object(a.e)("exception").file_size);else{var r=e.name.slice(2+(e.name.lastIndexOf(".")-1>>>0)).toLowerCase(),n=e.name.split(".").slice(0,-1).join("."),i=new window.FileReader;i.addEventListener("load",(function(e){c(t,i.result,n,r)})),"zip"===r?i.readAsArrayBuffer(e):"kml"===r||"gpx"===r||"geojson"===r||"gml"===r||"json"===r?i.readAsText(e):o.error(Object(a.e)("exception").file_extension)}}},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===n(a)?a:String(a)),i)}var o,a}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=l(t);if(e){var i=l(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return c(this,r)}}function c(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(l,t);var e,r,n,c=s(l);function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,l);var e=t;return t.anchor||(e.anchor=[]),t.offset||(e.offset=[]),c.call(this,{glyph:t.glyph,color:t.color,fontSize:t.fontSize,stroke:t.stroke,fill:t.fill,radius:t.radius,form:t.form,gradient:t.gradient,offsetX:t.offset[0],offsetY:t.offset[1],opacity:t.opacity,rotation:t.rotation,rotateWithView:t.rotateWithView})}return e=l,r&&i(e.prototype,r),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(r(125).a);e.a=u},function(t,e,r){"use strict";var n=r(409);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(a)?a:String(a)),n)}var o,a}function a(t,e){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=l(t);if(e){var i=l(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return c(this,r)}}function c(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(l,t);var e,r,i,c=s(l);function l(t,e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);var i=new n.a(t,e,r);return c.call(this,i)}return e=l,(r=[{key:"hide",value:function(){this.getImpl().hide()}},{key:"show",value:function(t){this.getImpl().show(t)}},{key:"getPopup",value:function(){return this.getImpl().getPopup()}},{key:"getCoordinate",value:function(){return this.getImpl().getCoordinate()}},{key:"setCoordinate",value:function(t){this.getImpl().coordinate=t}}])&&o(e.prototype,r),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),l}(r(78).a);u.POPUP_TEMPLATE="label_popup.html",e.a=u},function(t,e,r){"use strict";r(691);var n=r(328),i=r(633),o=r.n(i),a=r(74),s=r(0),c=r(3),l=r(6),u=r(31);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==h(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===h(o)?o:String(o)),n)}var i,o}function d(t,e){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=g(t);if(e){var i=g(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return y(this,r)}}function y(t,e){if(e&&("object"===h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(h,t);var e,r,i,a=m(h);function h(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(this,h);var i=new n.a(t,r);return e=a.call(this,i,h.NAME),Object(s.ab)(n.a)&&Object(c.a)(Object(l.e)("exception").getfeatureinfo_method),e}return e=h,(r=[{key:"createView",value:function(t){return""}},{key:"getActivationButton",value:function(t){return null}},{key:"getHelp",value:function(){var t=Object(l.e)("getfeatureinfo").textHelp;return{title:h.NAME,content:new Promise((function(e){e(Object(u.c)(o.a,{vars:{urlImages:"".concat(M.config.MAPEA_URL,"assets/images"),translations:{help1:t.text1}}}))}))}}},{key:"equals",value:function(t){var e=!1;return t instanceof h&&(e=this.name===t.name),e}}])&&p(e.prototype,r),i&&p(e,i),Object.defineProperty(e,"prototype",{writable:!1}),h}(a.a);_.NAME="getfeatureinfo",e.a=_},function(t,e,r){"use strict";var n=r(185),i=r(95),o=r(136),a=r(195),s=r(196),c=r(52),l=r(631),u=r.n(l),h=r(632),f=r.n(h),p=r(75),d=r(64),m=r(31),y=r(0),g=r(6);function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t){return function(t){if(Array.isArray(t))return w(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||O(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||O(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,e){if(t){if("string"==typeof t)return w(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(t,e):void 0}}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function M(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==_(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===_(o)?o:String(o)),n)}var i,o}function E(t,e){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=j(t);if(e){var i=j(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return S(this,r)}}function S(t,e){if(e&&("object"===_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E(t,e)}(_,t);var e,r,l,h=x(_);function _(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_),(r=h.call(this)).userFormats=["text/html","text/plain","application/vnd.ogc.gml"],r.featureCount=e.featureCount,Object(y.X)(r.featureCount)&&(r.featureCount=10),r.buffer=e.buffer||5,r.element=document.createElement("div"),r.activated=t,r.currentFormat=0,r}return e=_,l=[{key:"insert",value:function(t,e){var r=!1;switch(e){case"text/html":var i=document.createElement("div");i.innerHTML=t;var o="";Array.prototype.forEach.call(i.querySelectorAll("body"),(function(t){o+=t.innerHTML.trim()})),Array.prototype.forEach.call(i.querySelectorAll("div"),(function(t){o+=t.innerHTML.trim()})),Array.prototype.forEach.call(i.querySelectorAll("table"),(function(t){o+=t.innerHTML.trim()})),Array.prototype.forEach.call(i.querySelectorAll("b"),(function(t){o+=t.innerHTML.trim()})),Array.prototype.forEach.call(i.querySelectorAll("span"),(function(t){o+=t.innerHTML.trim()})),Array.prototype.forEach.call(i.querySelectorAll("input"),(function(t){o+=t.innerHTML.trim()})),Array.prototype.forEach.call(i.querySelectorAll("a"),(function(t){o+=t.innerHTML.trim()})),Array.prototype.forEach.call(i.querySelectorAll("img"),(function(t){o+=t.innerHTML.trim()})),Array.prototype.forEach.call(i.querySelectorAll("p"),(function(t){o+=t.innerHTML.trim()})),Array.prototype.forEach.call(i.querySelectorAll("ul"),(function(t){o+=t.innerHTML.trim()})),Array.prototype.forEach.call(i.querySelectorAll("li"),(function(t){o+=t.innerHTML.trim()})),o.length>0&&!/WMS\s+server\s+error/i.test(t)&&(r=!0);break;case"application/vnd.ogc.gml":r=(new n.a).readFeatures(t).length>0;break;case"text/plain":/returned\s+no\s+results/i.test(t)||/features\s+were\s+found/i.test(t)||/:$/i.test(t)||(r=!0)}return r}},{key:"unsupportedFormat",value:function(t,e){var r=!1;return"text/html"===e&&(r=_.regExs.msUnsupportedFormat.test(t)),r}}],(r=[{key:"addTo",value:function(t,e){!1===t.getMapImpl().getControls().getArray().some((function(t){return t instanceof _}))&&(this.facadeMap_=t,t.getMapImpl().addControl(this),this.addOnClickEvent_())}},{key:"deleteOnClickEvent_",value:function(){Object(i.b)(this.clickEventKey_)}},{key:"addOnClickEvent_",value:function(){var t=this,e=this.facadeMap_.getMapImpl();!0===this.activated&&(this.clickEventKey_=e.on("singleclick",(function(e){return t.buildUrl_(c,e)})))}},{key:"buildUrl_",value:function(t,e){this.evt=e;var r=this.facadeMap_.getMapImpl(),n=v(this.buildGenericInfoURL(),2),i=n[0],o=n[1],a=this.buildWMSInfoURL([].concat(b(this.facadeMap_.getWMS()),b(o))),s=this.buildWMTSInfoURL([].concat(b(this.facadeMap_.getWMTS()),b(i))),c=[].concat(b(s),b(a)).filter((function(t){return!Object(y.X)(t)}));c.length>0?this.showInfoFromURL_(c,e.coordinate,r):t.info("No existen capas consultables")}},{key:"buildGenericInfoURL",value:function(){var t=this.facadeMap_.getLayers().filter((function(t){return"GenericRaster"===t.type})),e=[],r=[];return t.forEach((function(t){t.getImpl().getOL3Layer().getSource()instanceof o.a?e.push(t):(t.getImpl().getOL3Layer().getSource()instanceof a.a||t.getImpl().getOL3Layer().getSource()instanceof s.a)&&r.push(t)})),[e,r]}},{key:"buildWMSInfoURL",value:function(t){var e=this,r=this.facadeMap_.getMapImpl().getView().getResolution(),n=this.facadeMap_.getProjection().code;return t.map((function(t){var i,o=t.getImpl().getOL3Layer();if(t.isVisible()&&t.isQueryable()&&!Object(y.X)(o)){i={};var a={INFO_FORMAT:e.userFormats[e.currentFormat],FEATURE_COUNT:e.featureCount},s=o.getSource(),c=e.evt.coordinate;/buffer/i.test(t.url)||(a.BUFFER=e.buffer);var l=s.getFeatureInfoUrl(c,r,n,a);i={layer:t.legend||t.name,url:l}}return i}))}},{key:"buildWMTSInfoURL",value:function(t){var e=this;return t.map((function(t){var r;if(t.isVisible()&&t.isQueryable()){r={};var n=e.userFormats[e.currentFormat],i=e.evt.coordinate,o=t.getFeatureInfoUrl(i,e.facadeMap_.getZoom(),n);r={layer:t.legend||t.name,url:o}}return r}))}},{key:"formatInfo",value:function(t,e,r){var i=null;switch(e){case"text/html":i=t;break;case"application/vnd.ogc.gml":var o=(new n.a).readFeatures(t);i="",o.forEach((function(t){var e=t.getKeys();i+="<div class='divinfo'>",i+="<table class='mapea-table'><tbody><tr><td class='header' colspan='3'>' ".concat(Object(y.c)(r)," '</td></tr>'");for(var n=0,o=e.length;n<o;n+=1){var a=e[n],s=t.get(a);i+='<tr><td class="key"><b>',i+=Object(y.c)(a),i+='</b></td><td class="value">',i+=s,i+="</td></tr>"}i+="</tbody></table></div>"}));break;case"text/plain":i=_.regExs.gsResponse.test(t)?this.txtToHtmlGeoserver(t,r):this.txtToHtmlMapserver(t,r)}return i}},{key:"txtToHtmlGeoserver",value:function(t,e){var r=t,n=(r=(r=r.replace(/[\w\s\S]*':/i,"")).replace(/---(-*)(n+)---(-*)/g,"#newfeature#")).split("\n"),i="<div class='divinfo'>";i+="<table class='mapea-table'><tbody><tr><td class='header' colspan='3'>".concat(Object(y.c)(e),"</td></tr>");for(var o=0,a=n.length;o<a;o+=1){var s=n[o].trim();if(-1!==s.indexOf("=")){var c=s.split("="),l=c[0].trim(),u="-";c.length>1&&(0!==(u=c[1].trim()).length&&"null"!==u||(u="-")),!1===_.regExs.gsGeometry.test(l)&&(i+='<tr><td class="key"><b>',i+=Object(y.c)(l),i+='</b></td><td class="value">',i+=u,i+="</td></tr>")}else _.regExs.gsNewFeature.test(s)&&(i+='<tr><td class="header" colspan="3">'.concat(Object(y.c)(e),"</td></tr>"))}return i+="</tbody></table></div>"}},{key:"txtToHtmlMapserver",value:function(t){for(var e=t,r=(e=e.replace(/[\w\s\S]*(layer)/i,"$1")).replace(/layer(\s*)'(\w+)'[\w\s\S]*/i,"$2"),n=(e=(e=(e=(e=e.replace(/layer(\s*)'(\w+)'([\w\s\S]*)/i,"$3")).replace(/feature(\s*)(\w*)(\s*)(:)([\w\s\S]*)/i,"$5")).replace(/'/g,"")).replace(/=/g,";")).split("\n"),i="",o="<table class='mapea-table'><tbody><tr><td class='header' colspan='3'>".concat(Object(y.c)(r),"</td></tr>"),a=0,s=n.length;a<s;a+=1){var c=n[a].trim(),l=n[a]?n[a].trim():"",u=c.split(";"),h=u[0].trim(),f="-";u.length>1&&0===(f=u[1].trim()).length&&(f="-"),h.length>0&&(_.regExs.msNewFeature.test(h)?l.length>0&&!_.regExs.msNewFeature.test(l)&&(i+="<tr><td class='header' colspan='3'>".concat(Object(y.c)(r),"</td><td></td></tr>")):(i+='<tr><td class="key"><b>',i+=Object(y.c)(h),i+='</b></td><td class="value">',i+=f,i+="</td></tr>"))}return i.length>0&&(i="".concat(o+i,"</tbody></table>")),i}},{key:"showInfoFromURL_",value:function(t,e,r){var n=this,i=Object(m.c)(u.a,{vars:{info:_.LOADING_MESSAGE},parseToHtml:!1}),o=[],a=this.userFormats[this.currentFormat],s=0,l={icon:"g-cartografia-info",title:_.POPUP_TITLE,content:i},h=this.facadeMap_.getPopup();Object(y.X)(h)?((h=new p.a).addTab(l),this.facadeMap_.addPopup(h,e)):h.getTabs().some((function(t){return t.title!==_.POPUP_TITLE}))?h.addTab(l):(this.facadeMap_.removePopup(),(h=new p.a).addTab(l),this.facadeMap_.addPopup(h,e)),t.forEach((function(e){var r=e.url,i=e.layer;Object(d.b)(r).then((function(e){if(h=n.facadeMap_.getPopup(),200===e.code&&!1===e.error){var r=e.text;if(!0===_.insert(r,a)){var u=n.formatInfo(r,a,i);o.push({formatedInfo:u,layerName:i})}else if(_.unsupportedFormat(r,a)){if(!(n.currentFormat>2))return n.currentFormat+=1,void n.buildUrl_(c,n.evt);o.push({formatedInfo:Object(g.e)("getfeatureinfo").any_format,layerName:i})}}if(s+=1,t.length===s&&!Object(y.X)(h))if(h.removeTab(l),0===o.length)h.addTab({icon:"g-cartografia-info",title:_.POPUP_TITLE,content:Object(g.e)("getfeatureinfo").no_info});else{var p=Object(m.c)(f.a,{vars:{layers:o,info_of:Object(g.e)("getfeatureinfo").info_of},parseToHtml:!1}).replace(/(.*)(<a href=.*)(>.*<\/a.*)/g,'$1$2 target="_blank"$3');h.addTab({icon:"g-cartografia-info",title:_.POPUP_TITLE,content:p,listeners:[{selector:".m-getfeatureinfo-content-info div.m-arrow-right",all:!0,type:"click",callback:function(t){return n.toogleSection(t)}}]})}}))})),this.popup_=h}},{key:"toogleSection",value:function(t){var e=t.target,r=e.parentElement.parentElement.querySelector(".m-getfeatureinfo-content-info-body");if(r.classList.contains("m-content-collapsed")){r.classList.remove("m-content-collapsed"),e.classList.remove("m-arrow-right"),e.classList.add("m-arrow-down");var n=this.popup_.getCoordinate();Object(y.X)(this.popup_.getImpl().panIntoView)||this.popup_.getImpl().panIntoView(n)}else r.classList.add("m-content-collapsed"),e.classList.add("m-arrow-right"),e.classList.remove("m-arrow-down")}}])&&M(e.prototype,r),l&&M(e,l),Object.defineProperty(e,"prototype",{writable:!1}),_}(r(131).a);P.LOADING_MESSAGE="Obteniendo informacin...",P.POPUP_TITLE=Object(g.e)("getfeatureinfo").info,P.regExs={gsResponse:/^results[\w\s\S]*'http:/i,msNewFeature:/feature(\s*)(\w+)(\s*):/i,gsNewFeature:/#newfeature#/,gsGeometry:/geom$/i,msGeometry:/boundedby$/i,msUnsupportedFormat:/error(.*)unsupported(.*)info_format/i},e.a=P},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(25),a=r(412),s=r(28),c=r(41),l=r(168),u=r(43),h=r(44),f=r(131),p=r(68);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==d(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===d(o)?o:String(o)),n)}var i,o}function y(){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=g(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function g(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}function _(t,e){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=O(t);if(e){var i=O(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return v(this,r)}}function v(t,e){if(e&&("object"===d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}(u,t);var e,r,c,l=b(u);function u(t,e,r,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(i=l.call(this,n)).vendorOptions_=n,i.geolocation_=null,i.accuracyFeature_=p.a.olFeature2Facade(new o.a),i.tracking_=t,i.highAccuracy_=e,i.maximumAge_=r,i.activated_=!1,i.positionFeature_=p.a.olFeature2Facade(new o.a({style:u.POSITION_STYLE})),i}return e=u,(r=[{key:"activate",value:function(){var t=this;if(this.element.classList.add("m-locating"),Object(n.X)(this.geolocation_)){var e=Object(i.j)(this.facadeMap_.getProjection().code);this.geolocation_=new a.a(Object(n.t)({projection:e,tracking:this.tracking_,trackingOptions:{enableHighAccuracy:this.highAccuracy_,maximumAge:this.maximumAge_}},this.vendorOptions_,!0)),this.geolocation_.on("change:accuracyGeometry",(function(e){var r=e.target.get(e.key);t.accuracyFeature_.getImpl().getOLFeature().setGeometry(r)})),this.geolocation_.once("change:position",(function(e){var r=e.target.get(e.key),i=Object(n.X)(r)?null:new s.a(r);t.positionFeature_.getImpl().getOLFeature().setGeometry(i),t.facadeMap_.setCenter(r),t.element.classList.contains("m-locating")&&t.facadeMap_.setZoom(u.ZOOM),t.element.classList.remove("m-locating"),t.element.classList.add("m-located"),t.geolocation_.setTracking(t.tracking_)}))}this.geolocation_.setTracking(!0),this.facadeMap_.drawFeatures([this.accuracyFeature_])}},{key:"removePositions_",value:function(){Object(n.X)(this.accuracyFeature_)||this.facadeMap_.removeFeatures([this.accuracyFeature_]),Object(n.X)(this.positionFeature_)||this.facadeMap_.removeFeatures([this.positionFeature_]),this.geolocation_.setTracking(!1)}},{key:"deactivate",value:function(){this.removePositions_(),this.element.classList.remove("m-located"),this.element.classList.remove("m-locating"),this.geolocation_=null}},{key:"setTracking",value:function(t){this.tracking_=t,this.geolocation_.setTracking(t)}},{key:"destroy",value:function(){this.removePositions_(),y(O(u.prototype),"destroy",this).call(this)}}])&&m(e.prototype,r),c&&m(e,c),Object.defineProperty(e,"prototype",{writable:!1}),u}(f.a);w.POSITION_STYLE=new c.c({image:new l.a({radius:6,fill:new u.a({color:"#3399CC"}),stroke:new h.a({color:"#fff",width:2})})}),w.ZOOM=16,e.a=w},function(t,e,r){"use strict";r(474);var n=r(636),i=r.n(n),o=r(240),a=r(637),s=r.n(a),c=r(74),l=r(0),u=r(3),h=r(31),f=r(6);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==p(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===p(o)?o:String(o)),n)}var i,o}function y(t,e){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=b(t);if(e){var i=b(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _(this,r)}}function _(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(c,t);var e,r,n,a=g(c);function c(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(this,c);var r=new o.a(e);return t=a.call(this,r,c.NAME),Object(l.ab)(o.a)&&Object(u.a)(Object(f.e)("exception").scale_method),t.order=e.order,t}return e=c,(r=[{key:"createView",value:function(t){return Object(h.c)(i.a,{vars:{title:Object(f.e)("scale").title,scale:Object(f.e)("scale").scale,level:Object(f.e)("scale").level,order:this.order}})}},{key:"getHelp",value:function(){var t=Object(f.e)("scale").textHelp;return{title:c.NAME,content:new Promise((function(e){e(Object(h.c)(s.a,{vars:{urlImages:"".concat(M.config.MAPEA_URL,"assets/images"),translations:{help1:t.text1,help2:t.text2}}}))}))}}},{key:"equals",value:function(t){var e=t instanceof c;return e}}])&&m(e.prototype,r),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(c.a);v.NAME="scale",e.a=v},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===n(a)?a:String(a)),i)}var o,a}function o(){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=a(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function a(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(l,t);var e,r,n,a=c(l);function l(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(e=a.call(this,t)).facadeMap_=null,e}return e=l,(r=[{key:"addTo",value:function(t,e){var r=this;o(u(l.prototype),"addTo",this).call(this,t,e);var n=t.getMapImpl();this.panel=e,this.panel.querySelector("button").addEventListener("click",(function(){n.getView().setRotation(0)})),this.addRotationEvent(n),n.on("change:view",(function(t){r.addRotationEvent(t.target)}))}},{key:"addRotationEvent",value:function(t){var e=this;t.getView().on("change:rotation",(function(t){var r=t.target.getRotation(),n="rotate(".concat(360*r/(2*Math.PI),"deg)");e.panel.querySelector("button").style.transform=n}))}},{key:"getElement",value:function(){return this.element}},{key:"destroy",value:function(){this.facadeMap_.getMapImpl().removeControl(this),this.facadeMap_=null}}])&&i(e.prototype,r),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(r(131).a);h.PANEL_ID="m-layerswitcher-panel",e.a=h},function(t,e,r){"use strict";var n=r(265),i=r(55),o=r(4),a=r(19),s=r(33),c=r(17);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==l(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===l(o)?o:String(o)),n)}var i,o}function h(t,e){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p(this,r)}}function p(t,e){if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m="degrees",y="imperial",g="nautical",_="metric",b="us",v=[1,2,5],O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(p,t);var e,r,n,l=f(p);function p(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),(e=l.call(this,t)).facadeMap_=null,e}return e=p,(r=[{key:"addTo",value:function(t,e){this.facadeMap_=t,Object(c.c)(this),Object(c.a)(this,Object(s.b)("units"),this.handleUnitsChanged,this),t.getMapImpl().addControl(this)}},{key:"getElement",value:function(){return this.element}},{key:"destroy",value:function(){this.facadeMap_.getMapImpl().removeControl(this),this.facadeMap_=null}},{key:"handleUnitsChanged_",value:function(){this.updateElement_()}},{key:"updateElement_",value:function(){var t=this.viewState_;if(t){var e=t.center,r=t.projection,n=this.getUnits(),s=n===m?i.b.DEGREES:i.b.METERS,c=Object(o.k)(r,t.resolution,e,s);r.getUnits()!==i.b.DEGREES&&r.getMetersPerUnit()&&s===i.b.METERS&&(c*=r.getMetersPerUnit()),"d"===r.getUnits()&&(c/=12e4);var l=this.minWidth_*c,u="";if(n===m){var h=o.a[i.b.DEGREES];r.getUnits()===i.b.DEGREES?l*=h:c/=h,l<h/60?(u="",c*=3600):l<h?(u="",c*=60):u=""}else n===y?l<.9144?(u="in",c/=.0254):l<1609.344?(u="ft",c/=.3048):(u="mi",c/=1609.344):n===g?(c/=1852,u="nm"):n===_?l<.001?(u="m",c*=1e6):l<1?(u="mm",c*=1e3):l<1e3?u="m":(u="km",c/=1e3):n===b?l<.9144?(u="in",c*=39.37):l<1609.344?(u="ft",c/=.30480061):(u="mi",c/=1609.3472):Object(a.a)(!1,33);for(var f,p,d=3*Math.floor(Math.log(this.minWidth_*c)/Math.log(10));;){if(f=v[(d%3+3)%3]*Math.pow(10,Math.floor(d/3)),p=Math.round(f/c),Number.isNaN(p))return this.element.style.display="none",void(this.renderedVisible_=!1);if(p>=this.minWidth_)break;d+=1}var O=f.toString().concat(" ").concat(u);this.renderedHTML_!==O&&(this.innerElement_.innerHTML=O,this.renderedHTML_=O),this.renderedWidth_!==p&&(this.innerElement_.style.width=p.toString().concat("px"),this.renderedWidth_=p),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)}}])&&u(e.prototype,r),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),p}(n.a);e.a=O},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===n(a)?a:String(a)),i)}var o,a}function o(t,e){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=c(t);if(e){var i=c(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}function s(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(c,t);var e,r,n,s=a(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=s.call(this,t)).facadeMap_=null,e}return e=c,(r=[{key:"addTo",value:function(t,e){this.facadeMap_=t,t.getMapImpl().addControl(this)}},{key:"getElement",value:function(){return this.element}},{key:"destroy",value:function(){this.facadeMap_.getMapImpl().removeControl(this),this.facadeMap_=null}}])&&i(e.prototype,r),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(r(209).a);e.a=l},function(t,e,r){"use strict";var n=r(0),i=r(136),o=r(182),a=r(167),s=r(2),c=r(64),l=r(9),u=r(4),h=r(100),f=r(229),p=r(107),d=r(200);function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==m(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===m(o)?o:String(o)),n)}var i,o}function _(t,e){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=O(t);if(e){var i=O(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return v(this,r)}}function v(t,e){if(e&&("object"===m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}(v,t);var e,r,p,m=b(v);function v(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return y(this,v),(t=m.call(this,e,r)).facadeLayer_=null,t.capabilitiesOptionsPromise=null,t.getCapabilitiesPromise_=null,t.minZoom=e.minZoom||Number.NEGATIVE_INFINITY,t.maxZoom=e.maxZoom||Number.POSITIVE_INFINITY,t.options=e,t.useCapabilities=!1!==e.useCapabilities,t.crossOrigin=null===e.crossOrigin||!1===e.crossOrigin?void 0:"anonymous",t.maxExtent=e.maxExtent||null,t}return e=v,(r=[{key:"addTo",value:function(t){var e=this;if(this.map=t,this.fire(l.i),!Object(n.W)(this.options)&&!Object(n.W)(this.options.minScale)&&!Object(n.W)(this.options.maxScale)){var r=this.map.getMapImpl().getView().getProjection().getUnits();this.options.minResolution=Object(n.H)(this.options.minScale,r),this.options.maxResolution=Object(n.H)(this.options.maxScale,r)}this.useCapabilities?(this.capabilitiesOptionsPromise=this.getCapabilitiesOptions_(),this.capabilitiesOptionsPromise.then((function(t){e.getWGS84BoundingBoxCapabilities_(t);var r=e.getFilterCapabilities_(t);e.addLayer_(r)}))):this.addLayerNotCapabilities_()}},{key:"getWGS84BoundingBoxCapabilities_",value:function(t){var e=t.Contents,r=this.map.getMaxExtent();return Object(n.W)(e)||(this.maxExtent=Object(d.a)(e,this.name,this.map.getProjection().code,r)),this.maxExtent}},{key:"getMaxExtent",value:function(){return this.maxExtent||(this.maxExtent=this.map.getMaxExtent()),this.maxExtent}},{key:"setResolutions",value:function(t){var e=this;if(Object(n.X)(this.vendorOptions_.source)){var r=this.facadeLayer_.getMaxExtent(),o=Object(u.j)(this.map.getProjection().code);this.getCapabilities().then((function(n){var c=n.getMatrixSet(e.name),l=n.getMatrixIds(e.name),u=n.getFormat(e.name),h=new i.a({crossOrigin:e.crossOrigin,url:e.url,layer:e.name,matrixSet:c,format:u,projection:o,tileGrid:new a.b({origin:Object(s.w)(r),resolutions:t,matrixIds:l}),extent:r});e.ol3Layer.setSource(h)}))}}},{key:"setVisible",value:function(t){var e=this;if(this.visibility=t,!0===t&&!0===this.isBase){this.map.getBaseLayers().filter((function(t){return!t.equals(e.facadeLayer_)&&t.isVisible()})).forEach((function(t){return t.setVisible(!1)})),Object(n.X)(this.ol3Layer)||this.ol3Layer.setVisible(t);var r=this.map.getZoom();this.map.getImpl().updateResolutionsFromBaseLayer(),Object(n.X)(r)||this.map.setZoom(r)}else Object(n.X)(this.ol3Layer)||this.ol3Layer.setVisible(t)}},{key:"addLayer_",value:function(t){if(!Object(n.X)(this.map)){var e=this.facadeLayer_.getMaxExtent(),r=t,o=this.options.minResolution,a=this.options.maxResolution;r.format=this.options.format||t.format;var s=new i.a(Object(n.t)(r,{extent:e,crossOrigin:this.crossOrigin},!0));this.facadeLayer_.setFormat(r.format),this.ol3Layer=new h.a(Object(n.t)({visible:this.visibility,source:s,minResolution:o,maxResolution:a,extent:this.userMaxExtent,opacity:this.opacity_},this.vendorOptions_,!0));var c=this.zIndex_;this.map.getMapImpl().addLayer(this.ol3Layer),this.ol3Layer.setMaxZoom(this.maxZoom),this.ol3Layer.setMinZoom(this.minZoom),null!==c&&this.setZIndex(c),this.ol3Layer.set("animated",!0),this.fire(l.i,this)}}},{key:"addLayerNotCapabilities_",value:function(){var t=this;if(!Object(n.X)(this.map)){for(var e=this.facadeLayer_.getMaxExtent(),r=this.options.minResolution,o=this.options.maxResolution,c=this.options.format?this.options.format:"image/png",f=Object(s.G)(e)/256,p=new Array(19),d=new Array(19),m=0;m<19;++m)p[m]=f/Math.pow(2,m),d[m]=m;var y=new a.b({origin:Object(s.E)(e),resolutions:p,matrixIds:d}),g=new i.a({attributions:" https://www.ign.es/",url:this.url,layer:this.name,matrixSet:this.options.matrixSet,format:this.options.format,projection:Object(u.j)(this.map.getProjection().code),tileGrid:y},e,!0);this.facadeLayer_.setFormat(c),this.ol3Layer=new h.a(Object(n.t)({visible:this.visibility,source:g,minResolution:r,maxResolution:o,extent:this.userMaxExtent},this.vendorOptions_,!0));var _=this.zIndex_;this.map.getMapImpl().addLayer(this.ol3Layer),setTimeout((function(){t.ol3Layer.setMaxZoom(t.maxZoom),t.ol3Layer.setMinZoom(t.minZoom)}),500),null!==_&&this.setZIndex(_),this.ol3Layer.set("animated",!0),this.fire(l.i,this)}}},{key:"setMaxExtent",value:function(t){this.getOL3Layer().setExtent(t)}},{key:"getFilterCapabilities_",value:function(t){var e=this,r=this.name,i=this.matrixSet;Object(n.X)(i)&&(i=this.map.getProjection().code);var o=t.Contents.Layer;Object(n.R)(o)&&(o=o.filter((function(t){return t.Identifier===e.facadeLayer_.name}))[0]),o.Style.length>0&&void 0!==o.Style[0].LegendURL&&(this.legendUrl_=o.Style[0].LegendURL.replaceAll("&amp;","&"));var a=Object(n.X)(o.Abstract)?"":o.Abstract,s=Object(n.X)(o.Style)?"":o.Style,c=this.facadeLayer_.getMaxExtent(),l=Object(n.X)(t.ServiceProvider)?"":t.ServiceProvider,u=Object(f.b)(t,{layer:r,matrixSet:i,extent:c}),h={abstract:a,attribution:l,style:s};return u.tileGrid.extent=c,void 0===this.facadeLayer_.capabilitiesMetadata&&(this.facadeLayer_.capabilitiesMetadata=h),u}},{key:"getCapabilitiesOptions_",value:function(){var t=this;if(Object(n.X)(this.capabilitiesOptionsPromise)){var e=this.map.collectionCapabilities.find((function(e){return e.url===t.url}))||{};e.capabilities?this.capabilitiesOptionsPromise=e.capabilities:(this.capabilitiesOptionsPromise=this.getCapabilities().then((function(t){return t})),e.capabilities=this.capabilitiesOptionsPromise)}return this.capabilitiesOptionsPromise}},{key:"getCapabilities",value:function(){var t=this;return Object(n.X)(this.getCapabilitiesPromise_)&&(this.getCapabilitiesPromise_=new Promise((function(e,r){var i=Object(n.N)(t.url),a=new o.a;Object(c.b)(i).then((function(r){var n=r.xml;if(n.getElementsByTagName("ows:Style").length>0){var i=(new XMLSerializer).serializeToString(n).replaceAll("ows:Style","Style");n=(new DOMParser).parseFromString(i,"text/xml")}var o=a.read(n);try{o.Contents.Layer.forEach((function(t){var e=t.Identifier;t.Style.forEach((function(t){var n=r.text.split("Layer>").filter((function(t){return t.indexOf("Identifier>".concat(e,"<"))>-1}))[0];t.LegendURL=n.split("LegendURL")[1].split('xlink:href="')[1].split('"')[0]}))}))}catch(t){}e.call(t,o)}))}))),this.getCapabilitiesPromise_}},{key:"getMinResolution",value:function(){return this.options.minResolution}},{key:"getMaxResolution",value:function(){return this.options.maxResolution}},{key:"setFacadeObj",value:function(t){this.facadeLayer_=t}},{key:"isQueryable",value:function(){return!1!==this.options.queryable}},{key:"destroy",value:function(){var t=this.map.getMapImpl();Object(n.X)(this.ol3Layer)||(t.removeLayer(this.ol3Layer),this.ol3Layer=null),this.map=null}},{key:"equals",value:function(t){var e=!1;return t instanceof v&&(e=this.url===t.url,e=e&&this.name===t.name,e=e&&this.matrixSet===t.matrixSet),e}},{key:"getFeatureInfoUrl",value:function(t,e,r){var i=this.getTileColTileRow(t,e),o=this.getRelativeTileCoordInPixel_(t,e),a=this.name,s=this.matrixSet,c=r,l=i[0],u=i[1],h=o[0],f=o[1],p=e;return this.matrixSet.indexOf(":4326")>-1&&(p="".concat(this.matrixSet,":").concat(p)),Object(n.b)(this.url,{service:"WMTS",request:"GetFeatureInfo",version:"1.0.0",layer:a,tilematrixset:s,tilematrix:p,tilerow:u,tilecol:l,J:f,I:h,infoFormat:c})}},{key:"getTileColTileRow",value:function(t,e){var r=null;if(!Object(n.X)(this.ol3Layer)){var i=this.ol3Layer.getSource();Object(n.X)(i)||(r=i.tileGrid.getTileCoordForCoordAndZ(t,e))}return r.slice(1)}},{key:"getRelativeTileCoordInPixel_",value:function(t,e){var r;if(!Object(n.X)(this.ol3Layer)){var i=this.ol3Layer.getSource();if(!Object(n.X)(i)){var o=i.tileGrid,a=o.getTileCoordForCoordAndZ(t,e),s=o.getTileCoordExtent(a,[]),c=o.getResolution(a[0]);r=[Math.floor((t[0]-s[0])/c),Math.floor((s[3]-t[1])/c)]}}return r}},{key:"getLegendURL",value:function(){return this.legendUrl_}},{key:"setLegendURL",value:function(t){this.legendUrl_=t}}])&&g(e.prototype,r),p&&g(e,p),Object.defineProperty(e,"prototype",{writable:!1}),v}(p.a);e.a=w},function(t,e,r){"use strict";var n=r(241),i=r(12),o=r(23);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===a(o)?o:String(o)),n)}var i,o}function l(t,e){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h(this,r)}}function h(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(h,t);var e,r,n,a=u(h);function h(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return s(this,h),(e=a.call(this,t,r,n)).zIndex_=o.a.Z_INDEX[i.TMS],e.displayInLayerSwitcher=!1!==t.displayInLayerSwitcher,e}return e=h,(r=[{key:"equals",value:function(t){var e=!1;return t instanceof h&&(e=this.name===t.name),e}}])&&c(e.prototype,r),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),h}(n.a);e.a=p},function(t,e,r){"use strict";var n=r(31),i=r(4),o=r(646),a=r.n(o),s=r(75),c=r(0),l=r(9),u=r(86),h=r(58),f=r(99),p=r(413),d=r(414),m=r(36);function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==y(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===y(o)?o:String(o)),n)}var i,o}function _(t,e){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=O(t);if(e){var i=O(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return v(this,r)}}function v(t,e){if(e&&("object"===y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}(y,t);var e,r,o,f=b(y);function y(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),(r=f.call(this,t,e)).popup_=null,r.tabPopup_=null,r.loadFeaturesPromise_=null,r.screenOverlayImg_=null,r.label_=t.label,r.extractStyles_=t.extractStyles,r.visibility=null==t.visibility||t.visibility,r.scaleLabel=t.scaleLabel,r.layers=t.layers,r.removeFolderChildren=t.removeFolderChildren,r}return e=y,(r=[{key:"setVisible",value:function(t){if(this.visibility=t,Object(c.X)(this.ol3Layer)||this.ol3Layer.setVisible(t),!Object(c.X)(this.screenOverlayImg_)){var e="none";!0===t&&(e="inherit"),this.screenOverlayImg_.style[e]=e}}},{key:"addTo",value:function(t){this.map=t,this.fire(l.i),t.on(l.q,this.setProjection_.bind(this),this),this.formater_=new d.a({label:this.label_,extractStyles:this.extractStyles_}),this.loader_=new p.a(this.map,this.url,this.formater_),this.ol3Layer=new u.a(Object(c.t)({extent:this.maxExtent_,opacity:this.opacity_},this.vendorOptions_,!0)),this.updateSource_(),this.setVisible(this.visibility),null!==this.zIndex_&&this.setZIndex(this.zIndex_);var e=this.map.getMapImpl();this.ol3Layer.setMaxZoom(this.maxZoom),this.ol3Layer.setMinZoom(this.minZoom),e.addLayer(this.ol3Layer)}},{key:"selectFeatures",value:function(t,e,r){var i=t[0];if(!0===this.extract&&!Object(c.X)(i)){var o=i.getAttribute("name"),l=i.getAttribute("description"),u=i.getImpl().getOLFeature().getGeometry().getFirstCoordinate(),h=Object(n.c)(a.a,{vars:{name:o,desc:l},parseToHtml:!1});this.tabPopup_={icon:"g-cartografia-comentarios",title:o,content:h};var f=this.map.getPopup();Object(c.X)(f)?(this.popup_=new s.a,this.popup_.addTab(this.tabPopup_),this.map.addPopup(this.popup_,u)):f.addTab(this.tabPopup_)}}},{key:"unselectFeatures",value:function(){Object(c.X)(this.popup_)||(this.popup_.hide(),this.popup_=null)}},{key:"updateSource_",value:function(){var t=this;Object(c.X)(this.vendorOptions_.source)&&this.requestFeatures_().then((function(e){t.ol3Layer.setSource(new h.a({loader:function(){var r=e.screenOverlay;if(t.facadeVector_.clear(),t.facadeVector_.addFeatures(e.features),t.fire(l.A,[e.features]),t.loaded_=!0,!Object(c.X)(r)){var n=m.a.addOverlayImage(r,t.map);t.setScreenOverlayImg(n)}}})),t.facadeVector_.addFeatures(e.features)}))}},{key:"setScreenOverlayImg",value:function(t){this.screenOverlayImg_=t}},{key:"destroy",value:function(){var t=this.map.getMapImpl();Object(c.X)(this.ol3Layer)||(t.removeLayer(this.ol3Layer),this.ol3Layer=null),this.removePopup(),this.options=null,this.map=null}},{key:"removePopup",value:function(){Object(c.X)(this.popup_)||(this.popup_.getTabs().length>1?this.popup_.removeTab(this.tabPopup_):this.map.removePopup())}},{key:"getFeaturesExtentPromise",value:function(t,e){var r=this;return new Promise((function(n){var i=r.map.getProjection().code;if(!0===r.isLoaded()){var o=r.getFeatures(t,e),a=m.a.getFeaturesExtent(o,i);n(a)}else r.requestFeatures_().then((function(t){var e=m.a.getFeaturesExtent(t.features,i);n(e)}))}))}},{key:"requestFeatures_",value:function(){var t=this;return Object(c.X)(this.loadFeaturesPromise_)&&(this.loadFeaturesPromise_=new Promise((function(e){t.loader_.getLoaderFn((function(t){e(t)}))(null,null,Object(i.j)(t.map.getProjection().code),t.scaleLabel,t.layers,t.removeFolderChildren)}))),this.loadFeaturesPromise_}},{key:"equals",value:function(t){var e=!1;return t instanceof y&&(e=this.url===t.url,e=e&&this.name===t.name,e=e&&this.extract===t.extract),e}}])&&g(e.prototype,r),o&&g(e,o),Object.defineProperty(e,"prototype",{writable:!1}),y}(f.a);e.a=w},function(t,e,r){"use strict";var n=r(180),i=r(0),o=r(75),a=r(31),s=r(130),c=r.n(s),l=r(9),u=r(58),h=r(4),f=r(186),p=r(415),d=r(122),m=r(288),y=r(289),g=r(99),_=r(36);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==b(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===b(o)?o:String(o)),n)}var i,o}function w(){return(w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=M(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function M(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=j(t)););return t}function E(t,e){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=j(t);if(e){var i=j(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return S(this,r)}}function S(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E(t,e)}(b,t);var e,r,s,g=x(b);function b(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return v(this,b),(t=g.call(this,e,r)).describeFeatureType_=null,t.formater_=null,t.loader_=null,t.service_=null,t.loaded_=!1,t.popup_=null,Object(i.X)(t.options.getFeatureOutputFormat)&&(t.options.getFeatureOutputFormat="application/json"),t.GMLVersion_=t.options.getFeatureOutputFormat.toUpperCase().includes("GML")?t.options.getFeatureOutputFormat:null,t}return e=b,(r=[{key:"addTo",value:function(t){var e=this;w(j(b.prototype),"addTo",this).call(this,t),t.getImpl().on(l.p,(function(){return e.refresh()}))}},{key:"refresh",value:function(t){t&&this.facadeVector_.removeFeatures(this.facadeVector_.getFeatures(!0)),this.updateSource_(t)}},{key:"selectFeatures",value:function(t,e,r){var n=t[0];if(!0===this.extract&&(this.unselectFeatures(),!Object(i.X)(n))){var s=n.getAttribute("vendor.mapea.click");if(Object(i.U)(s))s(r,n);else{var l=Object(a.c)(c.a,{vars:this.parseFeaturesForTemplate_(t),parseToHtml:!1}),u={icon:"g-cartografia-pin",title:this.name,content:l},h=this.map.getPopup();Object(i.X)(h)?((h=new o.a).addTab(u),this.map.addPopup(h,e)):h.addTab(u)}}}},{key:"updateSource_",value:function(t){var e=this;if(Object(i.X)(this.vendorOptions_.source)){this.service_=new p.a({url:this.url,namespace:this.namespace,name:this.name,version:this.version,ids:this.ids,cql:this.cql,projection:this.map.getProjection(),getFeatureOutputFormat:this.options.getFeatureOutputFormat,describeFeatureTypeOutputFormat:this.options.describeFeatureTypeOutputFormat},this.options.vendor),/json/gi.test(this.options.getFeatureOutputFormat)?this.formater_=new n.a({defaultDataProjection:Object(h.j)(this.map.getProjection().code)}):this.formater_=new m.a(this.map.getProjection(),this.GMLVersion_),this.loader_=new y.a(this.map,this.service_,this.formater_);var r=this.ol3Layer.getSource();this.requestFeatures_().then((function(n){if(!0===t||Object(i.X)(r)){var o=new u.a({loader:function(){e.loaded_=!0,e.facadeVector_.addFeatures(n),e.fire(l.A,[n]),e.facadeVector_.redraw()}});e.ol3Layer.setSource(o)}else r.set("format",e.formater_),r.set("loader",e.loader_.getLoaderFn((function(t){e.loaded_=!0,e.facadeVector_.addFeatures(t),e.fire(l.A,[t]),e.facadeVector_.redraw()}))),r.set("strategy",f.a),r.changed()}))}}},{key:"getFeaturesExtentPromise",value:function(t,e){var r=this;return new Promise((function(n){var i=r.map.getProjection().code;if(!0===r.isLoaded()){var o=r.getFeatures(t,e),a=_.a.getFeaturesExtent(o,i);n(a)}else r.requestFeatures_().then((function(t){var e=_.a.getFeaturesExtent(t,i);n(e)}))}))}},{key:"setCQL",value:function(t){this.cql=t,this.refresh(!0)}},{key:"getDescribeFeatureType",value:function(){var t=this;return Object(i.X)(this.describeFeatureType_)&&(this.describeFeatureType_=this.service_.getDescribeFeatureType().then((function(e){return Object(i.X)(e)||(t.formater_=new d.a({geometryName:e.geometryName,defaultDataProjection:Object(h.j)(t.map.getProjection().code)})),e}))),this.describeFeatureType_}},{key:"getDefaultValue",value:function(t){return"dateTime"===t?"0000-00-00T00:00:00":"date"===t?"0000-00-00":"time"===t?"00:00:00":"duration"===t?"P0Y":"int"===t||"number"===t||"float"===t||"double"===t||"decimal"===t||"short"===t||"byte"===t||"integer"===t||"long"===t||"negativeInteger"===t||"nonNegativeInteger"===t||"nonPositiveInteger"===t||"positiveInteger"===t||"unsignedLong"===t||"unsignedInt"===t||"unsignedShort"===t||"unsignedByte"===t?0:"hexBinary"===t?null:"-"}},{key:"isLoaded",value:function(){return this.loaded_}},{key:"requestFeatures_",value:function(){var t=this;return new Promise((function(e){t.loader_.getLoaderFn((function(t){e(t)}))(null,null,Object(h.j)(t.map.getProjection().code))}))}},{key:"equals",value:function(t){var e=!1;return t instanceof b&&(e=this.url===t.url,e=e&&this.namespace===t.namespace,e=e&&this.name===t.name,e=e&&this.ids===t.ids,e=e&&this.cql===t.cql,e=e&&this.version===t.version,e=e&&this.extract===t.extract),e}}])&&O(e.prototype,r),s&&O(e,s),Object.defineProperty(e,"prototype",{writable:!1}),b}(g.a);e.a=P},function(t,e,r){"use strict";var n,i=r(37),o=r(38),a=r(1),s=r(7),c=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),l=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this,n)||this).schemaLocation=n.schemaLocation?n.schemaLocation:r.namespace+" http://schemas.opengis.net/gml/3.2.1/gml.xsd",r}return c(e,t),e}(i.a);l.prototype.namespace="http://www.opengis.net/gml/3.2",l.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml/3.2":{pos:Object(a.o)(i.a.prototype.readFlatPos_),posList:Object(a.o)(i.a.prototype.readFlatPosList_)}},l.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml/3.2":{interior:i.a.prototype.interiorParser_,exterior:i.a.prototype.exteriorParser_}},l.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml/3.2":{Point:Object(a.o)(o.b.prototype.readPoint),MultiPoint:Object(a.o)(o.b.prototype.readMultiPoint),LineString:Object(a.o)(o.b.prototype.readLineString),MultiLineString:Object(a.o)(o.b.prototype.readMultiLineString),LinearRing:Object(a.o)(o.b.prototype.readLinearRing),Polygon:Object(a.o)(o.b.prototype.readPolygon),MultiPolygon:Object(a.o)(o.b.prototype.readMultiPolygon),Surface:Object(a.o)(l.prototype.readSurface_),MultiSurface:Object(a.o)(i.a.prototype.readMultiSurface_),Curve:Object(a.o)(l.prototype.readCurve_),MultiCurve:Object(a.o)(i.a.prototype.readMultiCurve_),Envelope:Object(a.o)(l.prototype.readEnvelope_)}},l.prototype.MULTICURVE_PARSERS_={"http://www.opengis.net/gml/3.2":{curveMember:Object(a.j)(i.a.prototype.curveMemberParser_),curveMembers:Object(a.j)(i.a.prototype.curveMemberParser_)}},l.prototype.MULTISURFACE_PARSERS_={"http://www.opengis.net/gml/3.2":{surfaceMember:Object(a.j)(i.a.prototype.surfaceMemberParser_),surfaceMembers:Object(a.j)(i.a.prototype.surfaceMemberParser_)}},l.prototype.CURVEMEMBER_PARSERS_={"http://www.opengis.net/gml/3.2":{LineString:Object(a.j)(o.b.prototype.readLineString),Curve:Object(a.j)(i.a.prototype.readCurve_)}},l.prototype.SURFACEMEMBER_PARSERS_={"http://www.opengis.net/gml/3.2":{Polygon:Object(a.j)(o.b.prototype.readPolygon),Surface:Object(a.j)(i.a.prototype.readSurface_)}},l.prototype.SURFACE_PARSERS_={"http://www.opengis.net/gml/3.2":{patches:Object(a.o)(i.a.prototype.readPatch_)}},l.prototype.CURVE_PARSERS_={"http://www.opengis.net/gml/3.2":{segments:Object(a.o)(i.a.prototype.readSegment_)}},l.prototype.ENVELOPE_PARSERS_={"http://www.opengis.net/gml/3.2":{lowerCorner:Object(a.j)(i.a.prototype.readFlatPosList_),upperCorner:Object(a.j)(i.a.prototype.readFlatPosList_)}},l.prototype.PATCHES_PARSERS_={"http://www.opengis.net/gml/3.2":{PolygonPatch:Object(a.o)(i.a.prototype.readPolygonPatch_)}},l.prototype.SEGMENTS_PARSERS_={"http://www.opengis.net/gml/3.2":{LineStringSegment:Object(a.o)(i.a.prototype.readLineStringSegment_)}},l.prototype.MULTIPOINT_PARSERS_={"http://www.opengis.net/gml/3.2":{pointMember:Object(a.j)(o.b.prototype.pointMemberParser_),pointMembers:Object(a.j)(o.b.prototype.pointMemberParser_)}},l.prototype.MULTILINESTRING_PARSERS_={"http://www.opengis.net/gml/3.2":{lineStringMember:Object(a.j)(o.b.prototype.lineStringMemberParser_),lineStringMembers:Object(a.j)(o.b.prototype.lineStringMemberParser_)}},l.prototype.MULTIPOLYGON_PARSERS_={"http://www.opengis.net/gml/3.2":{polygonMember:Object(a.j)(o.b.prototype.polygonMemberParser_),polygonMembers:Object(a.j)(o.b.prototype.polygonMemberParser_)}},l.prototype.POINTMEMBER_PARSERS_={"http://www.opengis.net/gml/3.2":{Point:Object(a.j)(o.b.prototype.readFlatCoordinatesFromNode_)}},l.prototype.LINESTRINGMEMBER_PARSERS_={"http://www.opengis.net/gml/3.2":{LineString:Object(a.j)(o.b.prototype.readLineString)}},l.prototype.POLYGONMEMBER_PARSERS_={"http://www.opengis.net/gml/3.2":{Polygon:Object(a.j)(o.b.prototype.readPolygon)}},l.prototype.RING_PARSERS={"http://www.opengis.net/gml/3.2":{LinearRing:Object(a.o)(o.b.prototype.readFlatLinearRing_)}},l.prototype.RING_SERIALIZERS_={"http://www.opengis.net/gml/3.2":{exterior:Object(a.l)(i.a.prototype.writeRing_),interior:Object(a.l)(i.a.prototype.writeRing_)}},l.prototype.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml/3.2":{lowerCorner:Object(a.l)(s.n),upperCorner:Object(a.l)(s.n)}},l.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml/3.2":{surfaceMember:Object(a.l)(i.a.prototype.writeSurfaceOrPolygonMember_),polygonMember:Object(a.l)(i.a.prototype.writeSurfaceOrPolygonMember_)}},l.prototype.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml/3.2":{pointMember:Object(a.l)(i.a.prototype.writePointMember_)}},l.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml/3.2":{lineStringMember:Object(a.l)(i.a.prototype.writeLineStringOrCurveMember_),curveMember:Object(a.l)(i.a.prototype.writeLineStringOrCurveMember_)}},l.prototype.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml/3.2":{Curve:Object(a.l)(i.a.prototype.writeCurveOrLineString_),MultiCurve:Object(a.l)(i.a.prototype.writeMultiCurveOrLineString_),Point:Object(a.l)(l.prototype.writePoint_),MultiPoint:Object(a.l)(i.a.prototype.writeMultiPoint_),LineString:Object(a.l)(i.a.prototype.writeCurveOrLineString_),MultiLineString:Object(a.l)(i.a.prototype.writeMultiCurveOrLineString_),LinearRing:Object(a.l)(i.a.prototype.writeLinearRing_),Polygon:Object(a.l)(i.a.prototype.writeSurfaceOrPolygon_),MultiPolygon:Object(a.l)(i.a.prototype.writeMultiSurfaceOrPolygon_),Surface:Object(a.l)(i.a.prototype.writeSurfaceOrPolygon_),MultiSurface:Object(a.l)(i.a.prototype.writeMultiSurfaceOrPolygon_),Envelope:Object(a.l)(i.a.prototype.writeEnvelope)}},e.a=l},function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return s}));var n=r(0),i=r(49),o=r(129),a=function(t){var e=Object(n.db)(t,!0);return o[e]},s=function(t){var e;return t===o.POINT?e=i.i:t===o.LINE?e=i.e:t===o.POLYGON?e=i.j:t===o.MPOINT?e=i.g:t===o.MLINE?e=i.f:t===o.MPOLYGON&&(e=i.h),e}},function(t,e,r){"use strict";var n=r(295),i=r(290),o=r(31),a=r(130),s=r.n(a),c=r(75),l=r(0),u=r(9),h=r(296),f=r(20),p=r(242),d=r(4),m=r(63),y=r(25),g=r(76),_=r(169),b=r(99),v=r(36);function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==O(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===O(o)?o:String(o)),n)}var i,o}function M(t,e){return(M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=S(t);if(e){var i=S(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return x(this,r)}}function x(t,e){if(e&&("object"===O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M(t,e)}(O,t);var e,r,a,b=E(O);function O(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,O),(n=b.call(this,e,r)).formater_=null,n.popup_=null,n.lastZoom_=-1,n.projection_=t.projection||"EPSG:3857",n.features_=[],n.mode_=t.mode,n.loaded_=!1,n.opacity_=t.opacity||1,n.visibility_=!1!==t.visibility,n.layers_=t.layers,n.extract=t.extract,n}return e=O,(r=[{key:"addTo",value:function(t){var e=this;this.map=t,this.fire(u.i),void 0!==this.layers_?this.formater_=new p.a({layers:this.layers_,featureClass:this.mode_===_.b.FEATURE?y.a:g.a}):this.formater_=new p.a({featureClass:this.mode_===_.b.FEATURE?y.a:g.a});var r=this.maxExtent_||this.facadeVector_.getMaxExtent(),o=new n.a({format:this.formater_,url:this.url,projection:this.projection_});o.on(h.a.TILELOADERROR,(function(t){return e.checkAllTilesLoaded_(t)})),this.ol3Layer=new i.a(Object(l.t)({source:o,extent:r},this.vendorOptions_,!0)),this.ol3Layer.setMaxZoom(this.maxZoom),this.ol3Layer.setMinZoom(this.minZoom),this.setOpacity(this.opacity_),this.setVisible(this.visibility_),this.map.getMapImpl().addLayer(this.ol3Layer),this.map.on(u.s,(function(){if(e.map){var t=e.map.getZoom();e.lastZoom_!==t&&(e.features_.length=0,e.lastZoom_=t)}})),this.map.on(u.B,(function(t){if(e.map){var r=e.map.getContainer().parentElement.parentElement.id;document.getElementById(r).style.cursor="inherit",e.map.getMapImpl().forEachFeatureAtPixel(t.pixel,(function(t){t&&(document.getElementById(r).style.cursor="pointer")}))}})),setTimeout((function(){var t=e.map.getLayers().filter((function(t){var r=void 0===t.getImpl().layers_||t.getImpl().layers_===e.layers_;return t.url===e.url&&r}));t.length>0&&null!==t[0].getStyle()&&t[0].setStyle(t[0].getStyle())}),10)}},{key:"selectFeatures",value:function(t,e,r){var n=t[0];if(!0===this.extract&&(this.unselectFeatures(),!Object(l.X)(n))){var i=Object(o.c)(s.a,{vars:this.parseFeaturesForTemplate_(t),parseToHtml:!1}),a={icon:"g-cartografia-pin",title:this.name,content:i},u=this.map.getPopup();Object(l.X)(u)?((u=new c.a).addTab(a),this.map.addPopup(u,e)):u.addTab(a)}}},{key:"unselectFeatures",value:function(){Object(l.X)(this.popup_)||(this.popup_.hide(),this.popup_=null)}},{key:"removePopup",value:function(){Object(l.X)(this.popup_)||(this.popup_.getTabs().length>1?this.popup_.removeTab(this.tabPopup_):this.map.removePopup())}},{key:"getFeatures",value:function(t,e){var r=[];if(this.ol3Layer){var n=this.ol3Layer.getSource().tileCache;if(0===n.getCount())return r;var i=Object(m.b)(n.peekFirstKey())[0];n.forEach((function(t){if(t.tileCoord[0]===i&&t.getState()===f.a.LOADED)for(var e=t.getSourceTiles(),n=0,o=e.length;n<o;n+=1){var a=e[n].getFeatures();a&&(r=r.concat(a))}}))}return r}},{key:"checkAllTilesLoaded_",value:function(t){var e=t.tile.getTileCoord(),r=Object(d.j)(this.projection_);this.ol3Layer.getSource().getTileCacheForProjection(r).getValues().every((function(t){var r=t.getTileCoord(),n=t.getState();return e[0]===r[0]&&e[1]===r[1]&&e[2]===r[2]||n!==f.a.LOADING}))&&!this.loaded_&&(this.loaded_=!0,this.facadeVector_.fire(u.A))}},{key:"getFeaturesExtentPromise",value:function(t,e){var r=this;return new Promise((function(n){var i=r.map.getProjection().code;if(!0===r.isLoaded()){var o=r.getFeatures(t,e),a=v.a.getFeaturesExtent(o,i);n(a)}else r.requestFeatures_().then((function(t){var e=v.a.getFeaturesExtent(t,i);n(e)}))}))}},{key:"getProjection",value:function(){return this.projection_}},{key:"isLoaded",value:function(){return!0}},{key:"equals",value:function(t){var e=!1;return t instanceof O&&(e=this.url===t.url,e=e&&this.name===t.name,e=e&&this.extract===t.extract),e}}])&&w(e.prototype,r),a&&w(e,a),Object.defineProperty(e,"prototype",{writable:!1}),O}(b.a);e.a=j},function(t,e,r){"use strict";var n=r(180),i=r(31),o=r(130),a=r.n(o),s=r(0),c=r(9),l=r(75),u=r(58),h=r(4),f=r(186),p=r(417),d=r(122),m=r(288),y=r(289),g=r(99),_=r(36);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==b(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===b(o)?o:String(o)),n)}var i,o}function w(){return(w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=M(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function M(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=j(t)););return t}function E(t,e){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=j(t);if(e){var i=j(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return S(this,r)}}function S(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E(t,e)}(b,t);var e,r,o,g=x(b);function b(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return v(this,b),(t=g.call(this,e,r)).describeFeatureType_=null,t.formater_=null,t.loader_=null,t.service_=null,t.loaded_=!1,t.bbox=e.bbox,Object(s.X)(t.options.getFeatureOutputFormat)&&(t.options.getFeatureOutputFormat="application/json"),t}return e=b,(r=[{key:"addTo",value:function(t){var e=this;w(j(b.prototype),"addTo",this).call(this,t),t.getImpl().on(c.p,(function(){return e.refresh()}))}},{key:"refresh",value:function(t){t&&this.facadeVector_.removeFeatures(this.facadeVector_.getFeatures(!0)),this.updateSource_(t)}},{key:"setCQL",value:function(t){this.vendorOptions_.cql=t,this.refresh(!0)}},{key:"updateSource_",value:function(t){var e=this;if(Object(s.X)(this.vendorOptions_.source)){this.service_=new p.a({url:this.url,namespace:this.namespace,name:this.name,limit:this.limit,offset:this.offset,format:this.format||"json",id:this.id,bbox:this.bbox,conditional:this.conditional,projection:this.map.getProjection(),getFeatureOutputFormat:this.options.getFeatureOutputFormat,describeFeatureTypeOutputFormat:this.options.describeFeatureTypeOutputFormat},this.vendorOptions_),/json/gi.test(this.options.getFeatureOutputFormat)?this.formater_=new n.a({defaultDataProjection:Object(h.j)(this.map.getProjection().code)}):this.formater_=new m.a(this.name,this.version,this.map.getProjection()),this.loader_=new y.a(this.map,this.service_,this.formater_);var r=this.ol3Layer.getSource();this.requestFeatures_().then((function(n){if(!0===t||Object(s.X)(r)){var i=new u.a({loader:function(){e.loaded_=!0,e.facadeVector_.addFeatures(n),e.fire(c.A,[n]),e.facadeVector_.redraw()}});e.ol3Layer.setSource(i)}else r.set("format",e.formater_),r.set("loader",e.loader_.getLoaderFn((function(t){e.loaded_=!0,e.facadeVector_.addFeatures(t),e.fire(c.A,[t]),e.facadeVector_.redraw()}))),r.set("strategy",f.a),r.changed()}))}}},{key:"selectFeatures",value:function(t,e,r){var n=t[0];if(!0===this.extract&&(this.unselectFeatures(),!Object(s.X)(n))){var o=n.getAttribute("vendor.mapea.click");if(Object(s.U)(o))o(r,n);else{var c=Object(i.c)(a.a,{vars:this.parseFeaturesForTemplate_(t),parseToHtml:!1}),u={icon:"g-cartografia-pin",title:this.name,content:c},h=this.map.getPopup();Object(s.X)(h)?((h=new l.a).addTab(u),this.map.addPopup(h,e)):h.addTab(u)}}}},{key:"getFeaturesExtentPromise",value:function(t,e){var r=this;return new Promise((function(n){var i=r.map.getProjection().code;if(!0===r.isLoaded()){var o=r.getFeatures(t,e),a=_.a.getFeaturesExtent(o,i);n(a)}else r.requestFeatures_().then((function(t){var e=_.a.getFeaturesExtent(t,i);n(e)}))}))}},{key:"getDescribeFeatureType",value:function(){var t=this;return Object(s.X)(this.describeFeatureType_)&&(this.describeFeatureType_=this.service_.getDescribeFeatureType().then((function(e){return Object(s.X)(e)||(t.formater_=new d.a({geometryName:e.geometryName,defaultDataProjection:Object(h.j)(t.map.getProjection().code)})),e}))),this.describeFeatureType_}},{key:"getDefaultValue",value:function(t){return"dateTime"===t?"0000-00-00T00:00:00":"date"===t?"0000-00-00":"time"===t?"00:00:00":"duration"===t?"P0Y":"int"===t||"number"===t||"float"===t||"double"===t||"decimal"===t||"short"===t||"byte"===t||"integer"===t||"long"===t||"negativeInteger"===t||"nonNegativeInteger"===t||"nonPositiveInteger"===t||"positiveInteger"===t||"unsignedLong"===t||"unsignedInt"===t||"unsignedShort"===t||"unsignedByte"===t?0:"hexBinary"===t?null:"-"}},{key:"isLoaded",value:function(){return this.loaded_}},{key:"requestFeatures_",value:function(){var t=this;return new Promise((function(e){t.loader_.getLoaderFn((function(t){e(t)}))(null,null,Object(h.j)(t.map.getProjection().code))}))}},{key:"equals",value:function(t){var e=!1;return t instanceof b&&(e=this.url===t.url,e=e&&this.name===t.name,e=e&&this.limit===t.limit,e=e&&this.offset===t.offset,e=e&&this.format===t.format,e=e&&this.extract===t.extract,e=e&&this.bbox===t.bbox,e=e&&this.id===t.id,e=e&&this.getFeatureOutputFormat===t.getFeatureOutputFormat,e=e&&this.describeFeatureTypeOutputFormat===t.describeFeatureTypeOutputFormat),e}}])&&O(e.prototype,r),o&&O(e,o),Object.defineProperty(e,"prototype",{writable:!1}),b}(g.a);e.a=P},function(t,e,r){"use strict";var n=r(12),i=r(6),o=r(0),a=r(195),s=r(196),c=r(136),l=r(182),u=r(64),h=r(107),f=r(214),p=r(213),d=r(200),m=r(23);function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==y(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===y(o)?o:String(o)),n)}var i,o}function b(t,e){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=w(t);if(e){var i=w(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return O(this,r)}}function O(t,e){if(e&&("object"===y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var M=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(O,t);var e,r,h,y=v(O);function O(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return g(this,O),(t=y.call(this,e,r)).options=e,t.map=null,t.zIndex_=m.a.Z_INDEX[n.GenericRaster],t.sldBody=e.sldBody,t.styles=t.options.styles||"",t.style=void 0===r.getStyle?null:r.getStyle().name,"createDefaultStyle"!==t.style&&r.getStyle&&(t.style=r.getStyle()),t.format=t.options.format,t.ol3Layer=r,t.maxExtent=e.userMaxExtent||[],t.ids=e.ids,t.version=e.version,t.legend=e.legend,t}return e=O,(r=[{key:"addTo",value:function(t){var e=this;if(this.map=t,Object(o.X)(this.visibility)||this.ol3Layer.setVisible(this.visibility),Object(o.X)(this.maxZoom)||this.ol3Layer.setMaxZoom(this.maxZoom),Object(o.X)(this.minZoom)||this.ol3Layer.setMinZoom(this.minZoom),Object(o.X)(this.zIndex_)||this.ol3Layer.setZIndex(this.zIndex_),Object(o.X)(this.visibility)||this.ol3Layer.setVisible(this.visibility),!Object(o.X)(this.sldBody))try{this.ol3Layer.getSource().updateParams({SLD_BODY:this.sldBody})}catch(t){var r=Object(i.e)("exception").sldBODYError.replace("[replace1]",this.name).replace("[replace2]",this.ol3Layer.constructor.name);console.warn(r)}if(!Object(o.X)(this.styles))try{this.ol3Layer.getSource().updateParams({STYLES:this.styles})}catch(t){var n=Object(i.e)("exception").styleError.replace("[replace1]",this.name).replace("[replace2]",this.ol3Layer.constructor.name);console.warn(n)}if(!Object(o.X)(this.format))try{this.ol3Layer.getSource().updateParams({FORMAT:this.format})}catch(t){var l=Object(i.e)("exception").formatError.replace("[replace1]",this.name).replace("[replace2]",this.ol3Layer.constructor.name);console.warn(l)}if(this.capabilities=this.getCapabilities(this.ol3Layer,t.getProjection()),Object(o.X)(this.maxExtent)?this.ol3Layer.getSource()instanceof a.a||this.ol3Layer.getSource()instanceof s.a?this.ol3Layer.getExtent()?(this.maxExtent=this.ol3Layer.getExtent(),this.ol3Layer.setExtent(this.maxExtent)):this.capabilities.then((function(t){e.maxExtent=t.getLayerExtent(),e.ol3Layer.setExtent(e.maxExtent),e.facadeLayer_.maxExtent_=e.maxExtent})):this.ol3Layer.getSource()instanceof c.a&&this.getCapabilitiesWMTS_(this.ol3Layer).then((function(t){e.maxExtent=e.getMaxExtentCapabilitiesWMTS_(t),e.ol3Layer.setExtent(e.maxExtent),e.facadeLayer_.maxExtent_=e.maxExtent})):this.ol3Layer.setExtent(this.maxExtent),Object(o.ab)(this.ol3Layer.getSource().getLegendUrl)||(this.legendUrl_=this.ol3Layer.getSource().getLegendUrl()),this.ol3Layer.setOpacity(this.opacity_),this.ol3Layer.setVisible(this.visibility),Object(o.W)(this.options)||Object(o.W)(this.options.minScale)||Object(o.W)(this.options.maxScale))Object(o.W)(this.options)||Object(o.W)(this.options.minResolution)||Object(o.W)(this.options.maxResolution)||(this.ol3Layer.setMaxResolution(this.options.maxResolution),this.ol3Layer.setMinResolution(this.options.minResolution));else{var u=this.map.getProjection().units;this.options.minResolution=Object(o.H)(this.options.minScale,u),this.options.maxResolution=Object(o.H)(this.options.maxScale,u),this.ol3Layer.setMaxResolution(this.options.maxResolution),this.ol3Layer.setMinResolution(this.options.minResolution)}t.getMapImpl().addLayer(this.ol3Layer)}},{key:"getCapabilities",value:function(t,e){var r=t.getSource();return r instanceof a.a||r instanceof s.a?this.getCapabilitiesWMS_(t,e):null}},{key:"getCapabilitiesWMS_",value:function(t,e){var r=this,n=t.getSource(),i=n.getProjection()?n.getProjection().getCode():e,a=n.getUrl?n.getUrl():n.getUrls()[0];return new Promise((function(t,e){var n=Object(o.M)(a,r.version);Object(u.b)(n).then((function(e){var r=e.xml,n=(new f.a).customRead(r),o=new p.a(n,a,i);t(o)}))}))}},{key:"getCapabilitiesWMTS_",value:function(t){var e=this,r=t.getSource().getUrls()[0];return new Promise((function(t,n){var i=Object(o.N)(r),a=new l.a;Object(u.b)(i).then((function(r){var n=r.xml;if(n.getElementsByTagName("ows:Style").length>0){var i=(new XMLSerializer).serializeToString(n).replaceAll("ows:Style","Style");n=(new DOMParser).parseFromString(i,"text/xml")}var o=a.read(n);try{o.Contents.Layer.forEach((function(t){var e=t.Identifier;t.Style.forEach((function(t){var n=r.text.split("Layer>").filter((function(t){return t.indexOf("Identifier>".concat(e,"<"))>-1}))[0];t.LegendURL=n.split("LegendURL")[1].split('xlink:href="')[1].split('"')[0]}))}))}catch(t){}t.call(e,o)}))}))}},{key:"getMaxExtentCapabilitiesWMTS_",value:function(t){var e=t.Contents,r=this.map.getMaxExtent();return Object(o.W)(e)?r:Object(d.a)(e,this.name,this.map.getProjection().code,r)}},{key:"setURLService",value:function(t){Object(o.X)(this.ol3Layer)||Object(o.X)(this.ol3Layer.getSource)||Object(o.X)(this.ol3Layer.getSource())||Object(o.X)(t)||this.ol3Layer.getSource().setUrl(t)}},{key:"getURLService",value:function(){var t="";if(!Object(o.X)(this.ol3Layer)&&!Object(o.X)(this.ol3Layer.getSource)&&!Object(o.X)(this.ol3Layer.getSource())){var e=this.ol3Layer.getSource();Object(o.X)(e.getUrl)?Object(o.X)(e.getUrls)||(t=this.ol3Layer.getSource().getUrls()):t=this.ol3Layer.getSource().getUrl()}return t}},{key:"setFacadeObj",value:function(t){this.facadeLayer_=t}},{key:"getMaxResolution",value:function(){return this.ol3Layer.getMaxResolution()}},{key:"getMinResolution",value:function(){return this.ol3Layer.getMinResolution()}},{key:"refresh",value:function(){this.ol3Layer.getSource().refresh()}},{key:"getLegendURL",value:function(){return this.legendUrl_}},{key:"setLegendURL",value:function(t){Object(o.X)(t)||(this.legendUrl_=t)}},{key:"getMaxExtent",value:function(){return this.ol3Layer.getExtent()||this.ol3Layer.getSource().getImageExtent()}},{key:"setMaxExtent",value:function(t){return this.ol3Layer.setExtent(t)}},{key:"isQueryable",value:function(){return!1!==this.options.queryable}},{key:"setVersion",value:function(t){this.version=t;try{this.ol3Layer.getSource().updateParams({VERSION:t})}catch(t){var e=Object(i.e)("exception").versionError.replace("[replace1]",this.name).replace("[replace2]",this.ol3Layer.constructor.name);console.warn(e)}}},{key:"destroy",value:function(){var t=this.map.getMapImpl();Object(o.X)(this.ol3Layer)||t.removeLayer(this.ol3Layer),this.map=null}},{key:"equals",value:function(t){var e=!1;return t instanceof O&&(e=this.url===t.url,e=e&&this.name===t.name,e=e&&this.version===t.version),e}}])&&_(e.prototype,r),h&&_(e,h),Object.defineProperty(e,"prototype",{writable:!1}),O}(h.a);e.a=M},function(t,e,r){"use strict";var n=r(12),i=r(9),o=r(31),a=r(75),s=r(6),c=r(0),l=r(130),u=r.n(l),h=r(99),f=r(23),p=r(68);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t){return function(t){if(Array.isArray(t))return y(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return y(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==d(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===d(o)?o:String(o)),n)}var i,o}function b(t,e){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=w(t);if(e){var i=w(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return O(this,r)}}function O(t,e){if(e&&("object"===d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var M=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(d,t);var e,r,l,h=v(d);function d(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return g(this,d),(t=h.call(this,e,r)).options=e,t.map=null,t.zIndex_=f.a.Z_INDEX[n.GenericVector],t.sldBody=e.sldBody,t.style=t.options.style||null,t.cql=t.options.cql,t.fnAddFeatures_=null,t.ol3Layer=r,t.maxExtent=e.userMaxExtent||[],t.ids=e.ids,t.version=e.version,t.legend=e.legend,t}return e=d,(r=[{key:"addTo",value:function(t){var e=this;if(this.map=t,this.facadeVector_=this.facadeLayer_,this.style||this.ol3Layer.getStyle&&(this.styleOl="function"==typeof this.ol3Layer.getStyle()?this.ol3Layer.getStyle()():this.ol3Layer.getStyle(),this.facadeVector_.style_=this.styleOl,this.ol3Layer.setStyle(this.styleOl)),Object(c.X)(this.visibility)||this.ol3Layer.setVisible(this.visibility),Object(c.X)(this.maxZoom)||this.ol3Layer.setMaxZoom(this.maxZoom),Object(c.X)(this.minZoom)||this.ol3Layer.setMinZoom(this.minZoom),Object(c.X)(this.zIndex_)||this.ol3Layer.setZIndex(this.zIndex_),Object(c.X)(this.maxExtent)||this.ol3Layer.setExtent(this.maxExtent),Object(c.ab)(this.ol3Layer.getSource().getLegendUrl)||(this.legendUrl_=this.ol3Layer.getSource().getLegendUrl()),this.ol3Layer.setOpacity(this.opacity_),this.ol3Layer.setVisible(this.visibility),!Object(c.X)(this.ids)){var r=this.ids.split(",").map((function(t){return e.name.concat(".").concat(t)}));this.ol3Layer.getSource().setUrl("".concat(this.ol3Layer.getSource().getUrl(),"&featureId=").concat(r))}if(Object(c.X)(this.cql)||this.ol3Layer.getSource().setUrl("".concat(this.ol3Layer.getSource().getUrl(),"&CQL_FILTER=").concat(window.encodeURIComponent(this.cql))),Object(c.W)(this.options)||Object(c.W)(this.options.minScale)||Object(c.W)(this.options.maxScale))Object(c.W)(this.options)||Object(c.W)(this.options.minResolution)||Object(c.W)(this.options.maxResolution)||(this.ol3Layer.setMaxResolution(this.options.maxResolution),this.ol3Layer.setMinResolution(this.options.minResolution));else{var n=this.map.getProjection().units;this.options.minResolution=Object(c.H)(this.options.minScale,n),this.options.maxResolution=Object(c.H)(this.options.maxScale,n),this.ol3Layer.setMaxResolution(this.options.maxResolution),this.ol3Layer.setMinResolution(this.options.minResolution)}t.getMapImpl().addLayer(this.ol3Layer);var o=this.ol3Layer.getSource();if(o.getFeatures().length>0&&"ready"===o.getState()){var a=o.getFeatures().map((function(t){return p.a.olFeature2Facade(t)}));this.loaded_=!0,this.facadeLayer_.addFeatures(a),this.fire(i.A,[this.features_])}else o.loading&&"ready"===o.getState()?this.loaded_=!0:(this.fnAddFeatures_=this.addFeaturesToFacade.bind(this),o.on("change",this.fnAddFeatures_))}},{key:"addFeaturesToFacade",value:function(){var t=this.ol3Layer.getSource();if("ready"===t.getState()&&!this.loaded_)if(t.getFeatures){var e=t.getFeatures().map((function(t){return p.a.olFeature2Facade(t)}));e.length>0&&(this.loaded_=!0,this.facadeLayer_.addFeatures(e),this.deactivate(),this.fire(i.A,[this.features_]))}else("error"===t.getState()||"ready"===t.getState()&&this.loaded_)&&this.deactivate()}},{key:"redraw",value:function(){var t=this.getOL3Layer();if(!Object(c.X)(t)){var e=t.getSource();m(e.getFeatures()).forEach(e.removeFeature,e);var r=this.facadeLayer_.getFeatures();e.addFeatures(r.map(p.a.facade2OLFeature))}}},{key:"deactivate",value:function(){this.ol3Layer.getSource().un("change",this.fnAddFeatures_),this.fnAddFeatures_=null}},{key:"selectFeatures",value:function(t,e,r){var n=t[0];if(!0===this.extract&&(this.unselectFeatures(),!Object(c.X)(n))){var i=Object(o.c)(u.a,{vars:this.parseFeaturesForTemplate_(t),parseToHtml:!1}),s={icon:"g-cartografia-pin",title:this.name,content:i},l=this.map.getPopup();Object(c.X)(l)?((l=new a.a).addTab(s),this.map.addPopup(l,e)):l.addTab(s)}}},{key:"setURLService",value:function(t){Object(c.X)(this.ol3Layer)||Object(c.X)(this.ol3Layer.getSource)||Object(c.X)(this.ol3Layer.getSource())||Object(c.X)(t)||this.ol3Layer.getSource().setUrl(t)}},{key:"getURLService",value:function(){var t="";if(!Object(c.X)(this.ol3Layer)&&!Object(c.X)(this.ol3Layer.getSource)&&!Object(c.X)(this.ol3Layer.getSource())){var e=this.ol3Layer.getSource();Object(c.X)(e.getUrl)?Object(c.X)(e.getUrls)||(t=this.ol3Layer.getSource().getUrls()):t=this.ol3Layer.getSource().getUrl()}return t}},{key:"setFacadeObj",value:function(t){this.facadeLayer_=t}},{key:"getMaxResolution",value:function(){return this.ol3Layer.getMaxResolution()}},{key:"getMinResolution",value:function(){return this.ol3Layer.getMinResolution()}},{key:"refresh",value:function(){this.ol3Layer.getSource().refresh()}},{key:"getLegendURL",value:function(){return this.legendUrl_}},{key:"setLegendURL",value:function(t){Object(c.X)(t)||(this.legendUrl_=t)}},{key:"getMaxExtent",value:function(){return 0!==this.maxExtent.length?this.maxExtent:this.ol3Layer.getSource().getExtent()}},{key:"setMaxExtent",value:function(t){return this.maxExtent=t,this.ol3Layer.setExtent(t)}},{key:"setVersion",value:function(t){this.version=t;try{this.ol3Layer.getSource().updateParams({VERSION:t})}catch(t){var e=Object(s.e)("exception").versionError.replace("[replace1]",this.name).replace("[replace2]",this.ol3Layer.constructor.name);console.warn(e)}}},{key:"destroy",value:function(){var t=this.map.getMapImpl();Object(c.X)(this.ol3Layer)||t.removeLayer(this.ol3Layer),this.map=null}},{key:"equals",value:function(t){var e=!1;return t instanceof d&&(e=this.url===t.url,e=e&&this.name===t.name,e=e&&this.version===t.version),e}}])&&_(e.prototype,r),l&&_(e,l),Object.defineProperty(e,"prototype",{writable:!1}),d}(h.a);e.a=M},function(t,e,r){"use strict";var n=r(0),i=r(9),o=r(75),a=r(31),s=r(130),c=r.n(s),l=r(180),u=r(58),h=r(4),f=r(99),p=r(420),d=r(36);function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==m(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===m(o)?o:String(o)),n)}var i,o}function g(){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=_(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function _(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}function b(t,e){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=w(t);if(e){var i=w(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return O(this,r)}}function O(t,e){if(e&&("object"===m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var M=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(m,t);var e,r,s,f=v(m);function m(t,e,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,m),(i=f.call(this,e,r)).popup_=null,i.formater_=null,i.loader_=null,i.loadFeaturesPromise_=null,i.loaded_=!1,i.hiddenAttributes_=[],Object(n.X)(e.hide)||(i.hiddenAttributes_=e.hide),i.showAttributes_=[],Object(n.X)(e.show)||(i.showAttributes_=e.show),i}return e=m,(r=[{key:"addTo",value:function(t){this.formater_=new l.a({defaultDataProjection:Object(h.j)(t.getProjection().code)}),Object(n.X)(this.url)||(this.loader_=new p.a(t,this.url,this.formater_)),g(w(m.prototype),"addTo",this).call(this,t)}},{key:"refresh",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.formater_.write(this.facadeVector_.getFeatures()),r=this.map.getProjection().code.split(":")[1],i={type:"FeatureCollection",features:e,crs:{properties:{code:r},type:"EPSG"}};Object(n.Y)(t)&&(i=t),this.source=i,this.updateSource_()}},{key:"setSource",value:function(t){this.source=t,Object(n.X)(this.map)||this.updateSource_()}},{key:"requestFeatures_",value:function(){var t=this;return Object(n.X)(this.loadFeaturesPromise_)&&(this.loadFeaturesPromise_=new Promise((function(e){if(t.source){var r=t.formater_.read(t.source,t.map.getProjection());e(r)}else t.loader_.getLoaderFn((function(t){e(t)}))(null,null,Object(h.j)(t.map.getProjection().code))}))),this.loadFeaturesPromise_}},{key:"updateSource_",value:function(){var t=this;Object(n.X)(this.vendorOptions_.source)&&this.requestFeatures_().then((function(e){t.ol3Layer&&t.ol3Layer.setSource(new u.a({loader:function(r,n,o){t.loaded_=!0,t.facadeVector_.clear(),t.facadeVector_.addFeatures(e),t.fire(i.A,[e])}})),t.facadeVector_.addFeatures(e)}))}},{key:"getFeaturesExtentPromise",value:function(t,e){var r=this;return new Promise((function(n){var i=r.map.getProjection().code;if(!0===r.isLoaded()){var o=r.getFeatures(t,e),a=d.a.getFeaturesExtent(o,i);n(a)}else r.requestFeatures_().then((function(t){var e=d.a.getFeaturesExtent(t,i);n(e)}))}))}},{key:"selectFeatures",value:function(t,e,r){var i=t[0];if(!0===this.extract&&(this.unselectFeatures(),!Object(n.X)(i))){var s=i.getAttribute("vendor.mapea.click");if(Object(n.U)(s))s(r,i);else{var l=Object(a.c)(c.a,{vars:this.parseFeaturesForTemplate_(t),parseToHtml:!1}),u={icon:"g-cartografia-pin",title:this.name,content:l},h=this.map.getPopup();Object(n.X)(h)?((h=new o.a).addTab(u),this.map.addPopup(h,e)):h.addTab(u)}}}},{key:"isLoaded",value:function(){return this.loaded_}},{key:"equals",value:function(t){var e=!1;return t instanceof m&&(e=e&&this.name===t.name,e=e&&this.extract===t.extract),e}}])&&y(e.prototype,r),s&&y(e,s),Object.defineProperty(e,"prototype",{writable:!1}),m}(f.a);e.a=M},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(100),a=r(112),s=r(2),c=r(146),l=r(6),u=r(23),h=r(107),f=r(205);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==p(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===p(o)?o:String(o)),n)}var i,o}function y(t,e){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=b(t);if(e){var i=b(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _(this,r)}}function _(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t,e,r){for(var n=Object(s.G)(t)/e,i=new Array(r+1),o=0;o<r+1;o+=1)i[o]=n/Math.pow(2,o);return i},O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(_,t);var e,r,h,p=g(_);function _(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return d(this,_),(e=p.call(this,r,n)).tileLoadFunction=t.tileLoadFunction||null,e.url_=t.url,e.source_=t.source,e.maxExtent_=t.maxExtent||null,e.opacity_="number"==typeof t.opacity?t.opacity:1,e.zIndex_=u.a.Z_INDEX.MBTiles,e.maxZoomLevel_=t.maxZoomLevel||null,e.visibility=!1!==t.visibility||t.visibility,e.crossOrigin=null===r.crossOrigin||!1===r.crossOrigin?void 0:"anonymous",e}return e=_,(r=[{key:"setVisible",value:function(t){var e=this;this.visibility=t,!0===t&&!0!==this.transparent?(this.map.getBaseLayers().forEach((function(t){!t.equals(e.facadeLayer_)&&t.isVisible()&&t.setVisible(!1)})),Object(n.X)(this.ol3Layer)||this.ol3Layer.setVisible(t),this.map.getImpl().updateResolutionsFromBaseLayer()):Object(n.X)(this.ol3Layer)||this.ol3Layer.setVisible(t)}},{key:"getExtentFromProvider",value:function(){var t=this;return new Promise((function(e){t.fetchSource().then((function(r){r.getExtent().then((function(r){var n,o=t.map.getProjection().code;r&&(n=Object(i.t)(r,"EPSG:4326",o)),e(n)}))}))}))}},{key:"getMaxExtent",value:function(){return this.maxExtent_||this.getExtentFromProvider()||(this.maxExtent_=this.map.getExtent()),this.maxExtent_}},{key:"getMaxZoomLevel",value:function(){return this.maxZoomLevel_}},{key:"addTo",value:function(t){var e=this;this.map=t;var r=this.map.getProjection().code,n=Object(i.j)(r),o=n.getExtent();if(this.tileLoadFunction){var a=v(o,256,this.maxZoomLevel_||28);this.maxExtent_=this.maxExtent_||o,this.ol3Layer=this.createLayer({resolutions:a,extent:this.maxExtent_||o,sourceExtent:o,projection:n}),this.ol3Layer.setMaxZoom(this.maxZoom),this.ol3Layer.setMinZoom(this.minZoom),this.map.getMapImpl().addLayer(this.ol3Layer)}else this.fetchSource().then((function(t){t.getMaxZoomLevel().then((function(r){e.maxZoomLevel_||(e.maxZoomLevel_=r);var i=v(o,256,e.maxZoomLevel_);e.getExtentFromProvider().then((function(r){e.maxExtent_=e.maxExtent_||r||o,e.ol3Layer=e.createLayer({tileProvider:t,resolutions:i,extent:e.maxExtent_,sourceExtent:o,projection:n}),e.ol3Layer.setMaxZoom(e.maxZoom),e.ol3Layer.setMinZoom(e.minZoom),e.map.getMapImpl().addLayer(e.ol3Layer)}))}))}))}},{key:"createLayer",value:function(t){var e=this,r=this.loadTileWithProvider;return this.tileLoadFunction&&(r=this.loadTile),new o.a(Object(n.t)({visible:this.visibility,opacity:this.opacity_,zIndex:this.zIndex_,extent:this.maxExtent_||t.sourceExtent,source:new c.a({url:"{z},{x},{y}",projection:t.projection,crossOrigin:this.crossOrigin,tileLoadFunction:function(n){return r(n,t.tileProvider,e)},tileGrid:new a.a({extent:t.sourceExtent,origin:Object(s.w)(t.sourceExtent),resolutions:t.resolutions})})},this.vendorOptions_,!0))}},{key:"loadTile",value:function(t,e,r){var n=t,i=t.getTileCoord();r.tileLoadFunction(i[0],i[1],-i[2]-1).then((function(t){n.getImage().src=t||f.a}))}},{key:"loadTileWithProvider",value:function(t,e){var r=t,n=t.getTileCoord(),i=e.getTile([n[0],n[1],-n[2]-1]);r.getImage().src=i}},{key:"fetchSource",value:function(){var t=this;return new Promise((function(e,r){if(t.tileProvider_)e(t.tileProvider_);else if(t.source_){var n=new f.b(t.source_);t.tileProvider_=n,e(n)}else t.url_?window.fetch(t.url_).then((function(r){t.source=r;var n=new f.b(r);t.tileProvider_=n,e(n)})):r(new Error(Object(l.e)("exception").no_source))}))}},{key:"setFacadeObj",value:function(t){this.facadeLayer_=t}},{key:"setMaxExtent",value:function(t){this.ol3Layer.setExtent(t)}},{key:"getMinResolution",value:function(){}},{key:"getMaxResolution",value:function(){}},{key:"destroy",value:function(){var t=this.map.getMapImpl();Object(n.X)(this.ol3Layer)||(t.removeLayer(this.ol3Layer),this.ol3Layer=null),this.map=null}},{key:"equals",value:function(t){var e=!1;return t instanceof _&&(e=this.name===t.name),e}},{key:"cloneOLLayer",value:function(){var t=null;if(null!=this.ol3Layer){var e=this.ol3Layer.getProperties();t=new o.a(e)}return t}}])&&m(e.prototype,r),h&&m(e,h),Object.defineProperty(e,"prototype",{writable:!1}),_}(h.a);e.a=O},function(t,e,r){"use strict";var n=r(0),i=r(31),o=r(75),a=r(130),s=r.n(a),c=r(4),l=r(100),u=r(290),h=r(295),f=r(112),p=r(2),d=r(205),m=r(9),y=r(242),g=r(6),_=r(23),b=r(99);function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==v(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===v(o)?o:String(o)),n)}var i,o}function M(t,e){return(M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=S(t);if(e){var i=S(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return x(this,r)}}function x(t,e){if(e&&("object"===v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var j=function(t,e,r){for(var n=Object(p.G)(t)/e,i=new Array(r),o=0;o<r;o+=1)i[o]=n/Math.pow(2,o);return i},P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M(t,e)}(v,t);var e,r,a,b=E(v);function v(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return O(this,v),(e=b.call(this,r,n)).tileLoadFunction_=t.tileLoadFunction||null,e.url_=t.url,e.source_=t.source,e.style_=t.style,e.tileSize_="number"==typeof t.tileSize?t.tileSize:256,e.maxExtent_=t.maxExtent||null,e.maxZoomLevel_="number"==typeof t.maxZoomLevel?t.maxZoomLevel:0,e.opacity_="number"==typeof r.opacity?r.opacity:1,e.zIndex_=_.a.Z_INDEX.MBTilesVector,e.visibility=!1!==t.visibility||t.visibility,e}return e=v,(r=[{key:"setVisible",value:function(t){this.visibility=t,Object(n.X)(this.ol3Layer)||this.ol3Layer.setVisible(t)}},{key:"addTo",value:function(t){var e=this;this.map=t;var r=this.map.getProjection().code,n=Object(c.j)(r),i=n.getExtent();if(this.tileLoadFunction_){var o=j(i,256,this.maxZoomLevel_||28);this.ol3Layer=this.createLayer({resolutions:o,extent:i,sourceExtent:i,projection:n}),this.ol3Layer.getSource().on("tileloaderror",(function(t){return e.checkAllTilesLoaded_(t)})),this.ol3Layer.getSource().on("tileloadend",(function(t){return e.checkAllTilesLoaded_(t)})),this.map.on(m.s,(function(){if(e.map){var t=e.map.getZoom();e.lastZoom_!==t&&(e.features_.length=0,e.lastZoom_=t)}})),this.ol3Layer.setMaxZoom(this.maxZoom),this.ol3Layer.setMinZoom(this.minZoom),this.map.getMapImpl().addLayer(this.ol3Layer)}else this.fetchSource().then((function(t){t.getMaxZoomLevel().then((function(o){e.maxZoomLevel_||(e.maxZoomLevel_=o);var a=j(i,256,e.maxZoomLevel_);e.tileProvider_=t,e.tileProvider_.getExtent().then((function(o){var s=o;s&&(s=Object(c.t)(o,"EPSG:4326",r)),e.tileProvider_.getFormat().then((function(r){e.ol3Layer=e.createLayer({tileProvider:t,resolutions:a,extent:s,sourceExtent:i,projection:n,format:r}),e.ol3Layer.getSource().on("tileloaderror",(function(t){return e.checkAllTilesLoaded_(t)})),e.ol3Layer.getSource().on("tileloadend",(function(t){return e.checkAllTilesLoaded_(t)})),e.map.on(m.s,(function(){if(e.map){var t=e.map.getZoom();e.lastZoom_!==t&&(e.features_.length=0,e.lastZoom_=t)}})),e.ol3Layer.setMaxZoom(e.maxZoom),e.ol3Layer.setMinZoom(e.minZoom),e.map.getMapImpl().addLayer(e.ol3Layer)}))}))}))}))}},{key:"createLayer",value:function(t){var e=this,r=this.loadVectorTileWithProvider;this.tileLoadFunction_&&(r=this.loadVectorTile);var i=new y.a;return new u.a(Object(n.t)({visible:this.visibility,opacity:this.opacity_,zIndex:this.zIndex_,extent:this.maxExtent_||t.sourceExtent,source:new h.a({projection:t.projection,url:"{z},{x},{y}",tileLoadFunction:function(n){return r(n,i,t,e)},tileGrid:new f.a({extent:t.sourceExtent,origin:Object(p.w)(t.sourceExtent),resolutions:t.resolutions})})},this.vendorOptions_,!0))}},{key:"loadVectorTile",value:function(t,e,r,n){t.setState(1),t.setLoader((function(r,i,o){var a=t.getTileCoord();n.tileLoadFunction_(a[0],a[1],-a[2]-1).then((function(n){if(n)try{var i=new Uint8Array(n),a=e.readFeatures(i,{extent:r,featureProjection:o});t.setFeatures(a),t.setState(2)}catch(e){t.setState(3)}else t.setState(3)}))}))}},{key:"loadVectorTileWithProvider",value:function(t,e,r){t.setState(1),t.setLoader((function(n,i,o){var a=t.getTileCoord();r.tileProvider.getVectorTile([a[0],a[1],-a[2]-1]).then((function(r){if(r){var i=e.readFeatures(r,{extent:n,featureProjection:o});t.setFeatures(i),t.setState(2)}else t.setState(3)}))}))}},{key:"fetchSource",value:function(){var t=this;return new Promise((function(e,r){if(t.tileProvider_)e(t.tileProvider_);else if(t.source_){var n=new d.b(t.source_);e(n)}else t.url_?window.fetch(t.url_).then((function(r){t.source=r;var n=new d.b(r);t.tileProvider_=n,e(n)})):r(new Error(Object(g.e)("exception").no_source))}))}},{key:"selectFeatures",value:function(t,e,r){var a=t[0];if(!0===this.extract&&(this.unselectFeatures(),!Object(n.X)(a))){var c=a.getAttribute("vendor.mapea.click");if(Object(n.U)(c))c(r,a);else{var l=Object(i.c)(s.a,{vars:this.parseFeaturesForTemplate_(t),parseToHtml:!1}),u={icon:"g-cartografia-pin",title:this.name,content:l},h=this.map.getPopup();Object(n.X)(h)?((h=new o.a).addTab(u),this.map.addPopup(h,e)):h.addTab(u)}}}},{key:"setFacadeObj",value:function(t){this.facadeLayer_=t}},{key:"getMinResolution",value:function(){}},{key:"getMaxResolution",value:function(){}},{key:"destroy",value:function(){var t=this.map.getMapImpl();Object(n.X)(this.ol3Layer)||(t.removeLayer(this.ol3Layer),this.ol3Layer=null),this.map=null}},{key:"equals",value:function(t){var e=!1;return t instanceof v&&(e=this.name===t.name,e=e&&this.extract===t.extract),e}},{key:"getFeatures",value:function(){var t=[];if(this.ol3Layer){var e=this.ol3Layer.getSource().tileCache;if(0===e.getCount())return t;var r=e.peekFirstKey().split("/").map(Number)[0];e.forEach((function(e){if(e.tileCoord[0]===r&&2===e.getState())for(var n=e.getSourceTiles(),i=0,o=n.length;i<o;i+=1){var a=n[i].getFeatures();a&&(t=t.concat(a))}}))}return t}},{key:"checkAllTilesLoaded_",value:function(t){var e=this.map.getProjection().code,r=t.tile.getTileCoord(),n=Object(c.j)(e);this.ol3Layer.getSource().getTileCacheForProjection(n).getValues().some((function(t){var e=t.getTileCoord(),n=t.getState();return r[0]===e[0]&&r[1]===e[1]&&r[2]===e[2]||1!==n}))&&!this.loaded_&&(this.loaded_=!0,this.facadeLayer_.fire(m.A))}},{key:"cloneOLLayer",value:function(){var t=null;if(null!=this.ol3Layer){var e=this.ol3Layer.getProperties();t=new l.a(e)}return t}}])&&w(e.prototype,r),a&&w(e,a),Object.defineProperty(e,"prototype",{writable:!1}),v}(b.a);e.a=P},function(t,e,r){"use strict";var n=r(291),i=r(12),o=r(0),a=r(9),s=r(100),c=r(173),l=r(219),u=r(23);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==h(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===h(o)?o:String(o)),n)}var i,o}function d(t,e){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=g(t);if(e){var i=g(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return y(this,r)}}function y(t,e){if(e&&("object"===h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(g,t);var e,r,h,y=m(g);function g(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return f(this,g),(e=y.call(this,r,n)).resolutions_=null,e.facadeLayer_=null,e.hasAttributtion=!1,e.haveOSMorMapboxLayer=!1,!1===r.visibility&&(e.visibility=!1),e.zIndex_=u.a.Z_INDEX[i.OSM],e}return e=g,(r=[{key:"setVisible",value:function(t){var e=this;if(this.visibility=t,!0===this.inRange())if(!0===t&&!1===this.transparent){this.map.getBaseLayers().forEach((function(t){!t.equals(e)&&t.isVisible()&&t.setVisible(!1)})),Object(o.X)(this.ol3Layer)||this.ol3Layer.setVisible(t);var r=this.map.getBbox();this.map.getImpl().updateResolutionsFromBaseLayer(),Object(o.X)(r)||this.map.setBbox(r)}else Object(o.X)(this.ol3Layer)||this.ol3Layer.setVisible(t)}},{key:"addTo",value:function(t){var e=this;this.map=t,this.fire(a.i),this.ol3Layer=new s.a(Object(o.t)({visible:this.visibility},this.vendorOptions_,!0)),this.updateSource_(),this.opacity_&&this.setOpacity(this.opacity_),this.map.getMapImpl().addLayer(this.ol3Layer),this.map.getImpl().getMapImpl().getControls().getArray().forEach((function(t){t instanceof c.a&&(e.hasAttributtion=!0)}),this),this.hasAttributtion||this.facadeLayer_.attribution||(this.map.getMapImpl().addControl(new c.a({className:"ol-attribution ol-unselectable ol-control ol-collapsed m-attribution",collapsible:!0})),this.hasAttributtion=!1),this.map.getMapImpl().updateSize();var r=this.map.getMapImpl().getSize(),n=this.map.getProjection().units;this.resolutions_=Object(o.A)(this.facadeLayer_.getMaxExtent(),r,16,n),this.isVisible()&&!this.inRange()&&this.setVisible(!1),null!==this.zIndex_&&this.setZIndex(this.zIndex_),null!==this.resolutions_&&this.setResolutions(this.resolutions_),this.ol3Layer.setMaxZoom(this.maxZoom),this.ol3Layer.setMinZoom(this.minZoom);var i=!1===this.transparent||!0===this.options.animated;this.ol3Layer.set("animated",i),this.map.on(a.q,(function(){return e.updateSource_()}))}},{key:"setResolutions",value:function(t){this.resolutions_=t,this.updateSource_(t)}},{key:"updateSource_",value:function(t){if(Object(o.X)(t)&&!Object(o.X)(this.map)){this.map.getMapImpl().updateSize();var e=this.map.getMapImpl().getSize(),r=this.map.getProjection().units;this.resolutions_=Object(o.A)(this.facadeLayer_.getMaxExtent(),e,16,r)}if(!Object(o.X)(this.ol3Layer)&&Object(o.X)(this.vendorOptions_.source)){var n=this.facadeLayer_.getMaxExtent(),i=new l.b({url:this.url});this.ol3Layer.setSource(i),this.ol3Layer.setExtent(n)}}},{key:"setFacadeObj",value:function(t){this.facadeLayer_=t}},{key:"setMaxExtent",value:function(t){this.ol3Layer.setExtent(t)}},{key:"getMinResolution",value:function(){}},{key:"getMaxResolution",value:function(){}},{key:"destroy",value:function(){var t=this,e=this.map.getMapImpl();Object(o.X)(this.ol3Layer)||(e.removeLayer(this.ol3Layer),this.ol3Layer=null),this.map.getLayers().forEach((function(e){e instanceof n.a&&(t.haveOSMorMapboxLayer=!0)})),this.haveOSMorMapboxLayer||this.map.getImpl().getMapImpl().getControls().getArray().forEach((function(e){e instanceof c.a&&t.map.getImpl().getMapImpl().removeControl(e)})),this.map=null}},{key:"equals",value:function(t){var e=!1;return t instanceof g&&(e=this.url===t.url,e=e&&this.name===t.name),e}},{key:"cloneOLLayer",value:function(){var t=null;if(null!=this.ol3Layer){var e=this.ol3Layer.getProperties();t=new s.a(e)}return t}}])&&p(e.prototype,r),h&&p(e,h),Object.defineProperty(e,"prototype",{writable:!1}),g}(r(107).a);e.a=_},function(t,e,r){"use strict";var n=r(105),i=r(423),o=r(4),a=r(68),s=r(122);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){h(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function h(t,e,r){return(e=d(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d(n.key),n)}}function d(t){var e=function(t,e){if("object"!==c(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===c(e)?e:String(e)}function m(t,e){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=_(t);if(e){var i=_(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return g(this,r)}}function g(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(t){return{dataProjection:Object(o.j)(t.dataProjection),featureProjection:Object(o.j)(t.featureProjection)}},v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}(c,t);var e,r,n,o=y(c);function c(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,c),(t=o.call(this,e)).gjFormat_=new s.a,t.formatter_=new i.a(u({splitCollection:!0},e)),t}return e=c,(r=[{key:"getFormatter",value:function(){return this.formatter_}},{key:"read",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=b(e),n=e.id,i=this.formatter_.readFeatureFromText(t,r),o=a.a.olFeature2Facade(i);return null!=n&&o.setId(n),o}},{key:"readCollection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=b(e),n=e.ids,i=this.formatter_.readFeaturesFromText(t,r),o=i.map((function(t){return a.a.olFeature2Facade(t)}));return null!=n&&n.length===o.length&&o.forEach((function(t,e){return t.setId(n[e])})),o}},{key:"write",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=b(e),n=a.a.facade2OLFeature(t),i=this.formatter_.writeFeatureText(n,r);return i}},{key:"writeFeature",value:function(t){var e=this.gjFormat_.readGeometryFromObject(t);if("point"===e.getType().toLowerCase()){var r=e.getCoordinates();e.setCoordinates([r[0],r[1]])}return this.formatter_.writeGeometryText(e)}},{key:"writeCollection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=b(e),n=t.map((function(t){return a.a.facade2OLFeature(t)})),i=this.formatter_.writeFeaturesText(n,r);return i}}])&&p(e.prototype,r),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(n.a);e.a=v},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===n(a)?a:String(a)),i)}var o,a}var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.text=null,this.xml=null,this.headers={},this.error=!1,this.code=0}var e,r,n;return e=t,(r=[{key:"parseXmlHttp",value:function(t){var e=this;this.text=t.responseText,this.xml=t.responseXML,this.code=t.status,this.error="OK"!==t.statusText;var r=t.getAllResponseHeaders();(r=r.split("\n")).forEach((function(t){var r=t,n=(r=r.trim()).replace(/^([^:]+):(.+)$/,"$1").trim(),i=r.replace(/^([^:]+):(.+)$/,"$2").trim();""!==n&&(e.headers[n]=i)}))}},{key:"parseProxy",value:function(t){var e=this;if(this.code=t.code,this.error=t.error,200===this.code&&!0!==this.error){this.text=t.content.trim();try{var r=t.headers["Content-Type"];"undefined"!=typeof DOMParser&&/text\/html/i.test(r)?this.xml=(new DOMParser).parseFromString(this.text,"text/html"):/xml/i.test(r)&&(this.xml=(new DOMParser).parseFromString(this.text,"text/xml"))}catch(t){this.xml=null,this.error=!0}}Object.keys(t.headers).forEach((function(r){e.headers[r]=t.headers[r]}))}}])&&i(e.prototype,r),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.a=o},function(t,e,r){"use strict";var n=r(95),i=r(2),o=r(77),a=r(298),s=r(58),c=r(65),l=r(25),u=r(26),h=r(28),f=r(88),p=r(115),d=r(0),m=r(9),y=r(268),g=r(178),_=r(239),b=r(408),v=r(117),O=r(68),w=function(t,e,r){return(t[0]-r[0])*(e[1]-r[1])-(t[1]-r[1])*(e[0]-r[0])<=0},M=function(t){t.sort((function(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}));for(var e=[],r=0;r<t.length;r+=1){for(;e.length>=2&&w(e[e.length-2],e[e.length-1],t[r]);)e.pop();e.push(t[r])}for(var n=[],i=t.length-1;i>=0;i-=1){for(;n.length>=2&&w(n[n.length-2],n[n.length-1],t[i]);)n.pop();n.push(t[i])}return n.pop(),e.pop(),e.concat(n)};function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t){return function(t){if(Array.isArray(t))return S(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return S(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function j(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==E(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===E(o)?o:String(o)),n)}var i,o}function P(t,e){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function T(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=L(t);if(e){var i=L(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return I(this,r)}}function I(t,e){if(e&&("object"===E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P(t,e)}(E,t);var e,r,g,w=T(E);function E(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,E),(r=w.call(this,{})).convexHullLayer_=null,r.oldOL3Layer_=null,r.optionsVendor_=e,r.options_=t,r.clusterLayer_=null,r.selectClusterInteraction_=null,r.hoverInteraction_=null,r}return e=E,g=[{key:"updateRangeImpl",value:function(t,e,r,n,i){var o=i.getOptions().ranges.find((function(r){return r.min===t&&r.max===e}))||!1;return o&&(o.style=r),o}}],(r=[{key:"applyToLayer",value:function(t,e){this.layer_=t,this.options_=this.updateLastRange_(),Object(d.X)(this.selectClusterInteraction_)||this.selectClusterInteraction_.clear(),this.updateCanvas();var r=t.getFeatures();r.length>0?this.clusterize_(r):this.layer_.on(m.A,this.clusterize_.bind(this),this)}},{key:"selectClusterInteraction",get:function(){return this.selectClusterInteraction_}},{key:"clusterize_",value:function(t){var e=t.map((function(t){return t.getImpl().getOLFeature()}));this.clusterLayer_=new _.a({name:"Cluster",source:new a.a({distance:this.options_.distance,geometryFunction:function(t){return new h.a(Object(i.y)(t.getGeometry().getExtent()))},source:new s.a({features:e})}),animationDuration:this.optionsVendor_.animationDuration,style:this.clusterStyleFn_.bind(this),animationMethod:c[this.optionsVendor_.animationMethod]}),!1===this.options_.animated&&this.clusterLayer_.set("animationDuration",void 0),this.clusterLayer_.setZIndex(99999);var r=this.layer_.getImpl().getOL3Layer();r instanceof _.a||(this.oldOL3Layer_=r),this.clusterLayer_.setMaxResolution(this.oldOL3Layer_.getMaxResolution()),this.clusterLayer_.setMinResolution(this.oldOL3Layer_.getMinResolution()),this.layer_.getImpl().setOL3Layer(this.clusterLayer_),Object(d.X)(this.options_.ranges)&&(this.options_.ranges=this.getDefaultRanges_()),!1!==this.options_.hoverInteraction&&this.addCoverInteraction_(),!1!==this.options_.selectInteraction&&this.addSelectInteraction_()}},{key:"setRanges",value:function(t){Object(d.X)(t)?this.options_.ranges=this.getDefaultRanges_():this.options_.ranges=t}},{key:"updateLastRange_",value:function(){var t=Object(d.u)({},this.options_);if(!Object(d.X)(this.options_)&&!Object(d.X)(this.options_.ranges)){var e=t.ranges;if(e.length>0){var r=(e=e.sort((function(t,e){return t.min-e.min}))).pop();if(Object(d.X)(r.max)){var n=this.layer_.getFeatures().length;r.max=n}t.ranges.push(r)}}return t}},{key:"setAnimated",value:function(t,e,r){return r.getOptions().animated=t,!1===t?this.clusterLayer_.set("animationDuration",void 0):this.clusterLayer_.set("animationDuration",this.optionsVendor_.animationDuration),this}},{key:"addSelectInteraction",value:function(){this.addSelectInteraction_()}},{key:"addSelectInteraction_",value:function(){var t=this,e=this.layer_.getImpl().getMap();this.selectClusterInteraction_=new b.a({fLayer:this.layer_,map:e,maxFeaturesToSelect:this.options_.maxFeaturesToSelect,pointRadius:this.optionsVendor_.distanceSelectFeatures,animate:!0,layers:[this.clusterLayer_]}),this.selectClusterInteraction_.on("select",this.selectClusterFeature_.bind(this),this),e.getMapImpl().addInteraction(this.selectClusterInteraction_),e.getMapImpl().on("change:view",(function(e){return t.selectClusterInteraction_.refreshViewEvents(e)}))}},{key:"removeSelectInteraction",value:function(){this.removeSelectInteraction_()}},{key:"removeSelectInteraction_",value:function(){this.layer_.getImpl().getMap().getMapImpl().removeInteraction(this.selectClusterInteraction_)}},{key:"hoverFeatureFn_",value:function(t,e){if(!Object(d.X)(t)){var r=[];t.forEach((function(t){t instanceof y.a?r=r.concat(t.getAttribute("features")):r.push(t)}));var n=r.map((function(t){return t.getImpl().getOLFeature().getGeometry().getCoordinates()})),i=M(n);if(i.length>2){var a=new l.a(new u.b([i])),s=O.a.olFeature2Facade(a);Object(d.X)(this.convexHullLayer_)?(this.convexHullLayer_=new o.a({name:"cluster_cover_".concat(this.layer_.name),extract:!1},{displayInLayerSwitcher:!1,style:new f.a({polygon:this.optionsVendor_.convexHullStyle})}),this.convexHullLayer_.addFeatures(s),this.layer_.getImpl().getMap().addLayers(this.convexHullLayer_),this.layer_.getImpl().getMap().getMapImpl().getView().on("change:resolution",this.clearConvexHull.bind(this),this),this.convexHullLayer_.setStyle(new f.a({polygon:this.optionsVendor_.convexHullStyle})),this.convexHullLayer_.setZIndex(99990)):(this.convexHullLayer_.removeFeatures(this.convexHullLayer_.getFeatures()),this.convexHullLayer_.addFeatures(s))}}}},{key:"leaveFeatureFn_",value:function(t,e){Object(d.X)(this.convexHullLayer_)||this.convexHullLayer_.removeFeatures(this.convexHullLayer_.getFeatures())}},{key:"addCoverInteraction_",value:function(){this.hoverKey_=this.layer_.on(m.y,this.hoverFeatureFn_.bind(this)),this.leaveKey_=this.layer_.on(m.z,this.leaveFeatureFn_.bind(this))}},{key:"removeCoverInteraction_",value:function(){this.layer_.unByKey(m.y,this.hoverKey_),this.layer_.unByKey(m.z,this.leaveKey_)}},{key:"clusterStyleFn_",value:function(t,e,r){var n,i=t.get("features");if(!i)return new v.a;var o=i.length,a=this.options_.ranges.find((function(t){return t.min<=o&&t.max>=o}));if(Object(d.X)(a)){if(1===o){var s=i[0].getStyle();s||(s=this.oldOL3Layer_.getStyle()),n=s(i[0],e),Object(d.R)(n)||(n=[n]),n[0].setGeometry(i[0].getGeometry())}}else{var c=a.style.clone();if(c instanceof f.a||(c=new f.a({point:c.getOptions()})),r)c.set("point.fill.opacity",.33);else if(this.options_.displayAmount){c.set("point.label",this.options_.label);var l=c.get("point.label.color");if(Object(d.X)(l)){var u=c.get("point.fill.color");l=Object(d.X)(u)?"#000":Object(d.Q)(u),c.set("point.label.color",l)}}n=c.getImpl().olStyleFn(t,e)}return n}},{key:"getDefaultRanges_",value:function(){var t=this.layer_.getFeatures().length,e=Math.floor(t/3),r=[{min:2,max:e=Math.max(e,3),style:new f.a({point:p.a.RANGE_1_DEFAULT})},{min:e,max:2*e,style:new f.a({point:p.a.RANGE_2_DEFAULT})},{min:2*e,max:t+1,style:new f.a({point:p.a.RANGE_3_DEFAULT})}];return this.options_.ranges=r,r}},{key:"selectClusterFeature_",value:function(t){this.clearConvexHull()}},{key:"unapply",value:function(){Object(d.X)(this.clusterLayer_)?Object(d.X)(this.layer_)||this.layer_.un(m.A,this.clusterize_.bind(this),this):(this.layer_.getImpl().setOL3Layer(this.oldOL3Layer_),this.oldOL3Layer_.setMaxResolution(this.clusterLayer_.getMaxResolution()),this.oldOL3Layer_.setMinResolution(this.clusterLayer_.getMinResolution()),this.removeCoverInteraction_(),this.removeSelectInteraction_(),this.clearConvexHull(),this.deactivateChangeResolutionEvent(),this.layer_.redraw(),this.deactivateChangeEvent())}},{key:"clearConvexHull",value:function(){null!==this.convexHullLayer_&&(this.layer_.getImpl().getMap().removeLayers(this.convexHullLayer_),this.convexHullLayer_=null)}},{key:"updateCanvas",value:function(){}},{key:"activateChangeEvent",value:function(){if(null!==this.clusterLayer_){var t=this.clusterLayer_.getSource(),e=a.a.prototype.refresh;t.getSource().on("change",e)}}},{key:"deactivateChangeEvent",value:function(){if(null!==this.clusterLayer_){var t=this.clusterLayer_.getSource(),e=a.a.prototype.refresh;Object(n.b)({bindTo:void 0,callOnce:!1,listener:e,target:t.getSource(),type:"change"})}}},{key:"deactivateChangeResolutionEvent",value:function(){if(!Object(d.X)(this.layer_)&&!Object(d.X)(this.layer_.getImpl())){var t=this.layer_.getImpl().getMap();if(!Object(d.X)(t)&&!Object(d.X)(t.getMapImpl())){var e=t.getMapImpl().getView();Object(n.b)({type:"change:resolution",bindTo:void 0,listener:this.clearConvexHull,target:e,callOnce:!1})}}}},{key:"deactivateTemporarilyChangeEvent",value:function(t,e){this.deactivateChangeEvent(),Object(d.U)(t)&&(null==e?t():t.apply(void 0,x(e)))}},{key:"oldOL3Layer",get:function(){return this.oldOL3Layer_}}])&&j(e.prototype,r),g&&j(e,g),Object.defineProperty(e,"prototype",{writable:!1}),E}(g.a);e.a=R},function(t,e,r){"use strict";r.d(e,"b",(function(){return h}));var n,i=r(20),o=r(16),a=r(19),s=r(15),c=function(){function t(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Object(s.b)(this.queuedElements_)},t.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,r=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var n=this.keyFunction_(r);return delete this.queuedElements_[n],r},t.prototype.enqueue=function(t){Object(a.a)(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=1/0&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(t){return 2*t+1},t.prototype.getRightChildIndex_=function(t){return 2*t+2},t.prototype.getParentIndex_=function(t){return t-1>>1},t.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(t){return t in this.queuedElements_},t.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},t.prototype.siftUp_=function(t){for(var e=this.elements_,r=this.priorities_,n=e.length,i=e[t],o=r[t],a=t;t<n>>1;){var s=this.getLeftChildIndex_(t),c=this.getRightChildIndex_(t),l=c<n&&r[c]<r[s]?c:s;e[t]=e[l],r[t]=r[l],t=l}e[t]=i,r[t]=o,this.siftDown_(a,t)},t.prototype.siftDown_=function(t,e){for(var r=this.elements_,n=this.priorities_,i=r[e],o=n[e];e>t;){var a=this.getParentIndex_(e);if(!(n[a]>o))break;r[e]=r[a],n[e]=n[a],e=a}r[e]=i,n[e]=o},t.prototype.reprioritize=function(){var t,e,r,n=this.priorityFunction_,i=this.elements_,o=this.priorities_,a=0,s=i.length;for(e=0;e<s;++e)(r=n(t=i[e]))==1/0?delete this.queuedElements_[this.keyFunction_(t)]:(o[a]=r,i[a++]=t);i.length=a,o.length=a,this.heapify_()},t}(),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),u=function(t){function e(e,r){var n=t.call(this,(function(t){return e.apply(null,t)}),(function(t){return t[0].getKey()}))||this;return n.boundHandleTileChange_=n.handleTileChange.bind(n),n.tileChangeCallback_=r,n.tilesLoading_=0,n.tilesLoadingKeys_={},n}return l(e,t),e.prototype.enqueue=function(e){var r=t.prototype.enqueue.call(this,e);r&&e[0].addEventListener(o.a.CHANGE,this.boundHandleTileChange_);return r},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,r=e.getState();if(e.hifi&&r===i.a.LOADED||r===i.a.ERROR||r===i.a.EMPTY){e.removeEventListener(o.a.CHANGE,this.boundHandleTileChange_);var n=e.getKey();n in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[n],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var r,n,o=0;this.tilesLoading_<t&&o<e&&this.getCount()>0;)n=(r=this.dequeue()[0]).getKey(),r.getState()!==i.a.IDLE||n in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[n]=!0,++this.tilesLoading_,++o,r.load())},e}(c);e.a=u;function h(t,e,r,n,i){if(!t||!(r in t.wantedTiles))return 1/0;if(!t.wantedTiles[r][e.getKey()])return 1/0;var o=t.viewState.center,a=n[0]-o[0],s=n[1]-o[1];return 65536*Math.log(i)+Math.sqrt(a*a+s*s)/i}},function(t,e,r){"use strict";(function(e){void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,r,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,r)}));case 3:return e.nextTick((function(){t.call(null,r,n)}));case 4:return e.nextTick((function(){t.call(null,r,n,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick((function(){t.apply(null,o)}))}}}:t.exports=e}).call(this,r(121))},function(t,e,r){var n=r(48).Buffer;function i(t){n.isBuffer(t)||(t=n.from(t));for(var e=t.length/4|0,r=new Array(e),i=0;i<e;i++)r[i]=t.readUInt32BE(4*i);return r}function o(t){for(;0<t.length;t++)t[0]=0}function a(t,e,r,n,i){for(var o,a,s,c,l=r[0],u=r[1],h=r[2],f=r[3],p=t[0]^e[0],d=t[1]^e[1],m=t[2]^e[2],y=t[3]^e[3],g=4,_=1;_<i;_++)o=l[p>>>24]^u[d>>>16&255]^h[m>>>8&255]^f[255&y]^e[g++],a=l[d>>>24]^u[m>>>16&255]^h[y>>>8&255]^f[255&p]^e[g++],s=l[m>>>24]^u[y>>>16&255]^h[p>>>8&255]^f[255&d]^e[g++],c=l[y>>>24]^u[p>>>16&255]^h[d>>>8&255]^f[255&m]^e[g++],p=o,d=a,m=s,y=c;return o=(n[p>>>24]<<24|n[d>>>16&255]<<16|n[m>>>8&255]<<8|n[255&y])^e[g++],a=(n[d>>>24]<<24|n[m>>>16&255]<<16|n[y>>>8&255]<<8|n[255&p])^e[g++],s=(n[m>>>24]<<24|n[y>>>16&255]<<16|n[p>>>8&255]<<8|n[255&d])^e[g++],c=(n[y>>>24]<<24|n[p>>>16&255]<<16|n[d>>>8&255]<<8|n[255&m])^e[g++],[o>>>=0,a>>>=0,s>>>=0,c>>>=0]}var s=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var t=new Array(256),e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;for(var r=[],n=[],i=[[],[],[],[]],o=[[],[],[],[]],a=0,s=0,c=0;c<256;++c){var l=s^s<<1^s<<2^s<<3^s<<4;l=l>>>8^255&l^99,r[a]=l,n[l]=a;var u=t[a],h=t[u],f=t[h],p=257*t[l]^16843008*l;i[0][a]=p<<24|p>>>8,i[1][a]=p<<16|p>>>16,i[2][a]=p<<8|p>>>24,i[3][a]=p,p=16843009*f^65537*h^257*u^16843008*a,o[0][l]=p<<24|p>>>8,o[1][l]=p<<16|p>>>16,o[2][l]=p<<8|p>>>24,o[3][l]=p,0===a?a=s=1:(a=u^t[t[t[f^u]]],s^=t[t[s]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:o}}();function l(t){this._key=i(t),this._reset()}l.blockSize=16,l.keySize=32,l.prototype.blockSize=l.blockSize,l.prototype.keySize=l.keySize,l.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,n=4*(r+1),i=[],o=0;o<e;o++)i[o]=t[o];for(o=e;o<n;o++){var a=i[o-1];o%e==0?(a=a<<8|a>>>24,a=c.SBOX[a>>>24]<<24|c.SBOX[a>>>16&255]<<16|c.SBOX[a>>>8&255]<<8|c.SBOX[255&a],a^=s[o/e|0]<<24):e>6&&o%e==4&&(a=c.SBOX[a>>>24]<<24|c.SBOX[a>>>16&255]<<16|c.SBOX[a>>>8&255]<<8|c.SBOX[255&a]),i[o]=i[o-e]^a}for(var l=[],u=0;u<n;u++){var h=n-u,f=i[h-(u%4?0:4)];l[u]=u<4||h<=4?f:c.INV_SUB_MIX[0][c.SBOX[f>>>24]]^c.INV_SUB_MIX[1][c.SBOX[f>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[f>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&f]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=l},l.prototype.encryptBlockRaw=function(t){return a(t=i(t),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},l.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=n.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r},l.prototype.decryptBlock=function(t){var e=(t=i(t))[1];t[1]=t[3],t[3]=e;var r=a(t,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),o=n.allocUnsafe(16);return o.writeUInt32BE(r[0],0),o.writeUInt32BE(r[3],4),o.writeUInt32BE(r[2],8),o.writeUInt32BE(r[1],12),o},l.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},t.exports.AES=l},function(t,e,r){var n=r(48).Buffer,i=r(431);t.exports=function(t,e,r,o){if(n.isBuffer(t)||(t=n.from(t,"binary")),e&&(n.isBuffer(e)||(e=n.from(e,"binary")),8!==e.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=r/8,s=n.alloc(a),c=n.alloc(o||0),l=n.alloc(0);a>0||o>0;){var u=new i;u.update(l),u.update(t),e&&u.update(e),l=u.digest();var h=0;if(a>0){var f=s.length-a;h=Math.min(a,l.length),l.copy(s,f,0,h),a-=h}if(h<l.length&&o>0){var p=c.length-o,d=Math.min(o,l.length-h);l.copy(c,p,h,h+d),o-=d}}return l.fill(0),{key:s,iv:c}}},function(t,e,r){"use strict";var n=r(194),i=r(152),o=i.getNAF,a=i.getJSF,s=i.assert;function c(t,e){this.type=t,this.p=new n(e.p,16),this.red=e.prime?n.red(e.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=e.n&&new n(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function l(t,e){this.curve=t,this.type=e,this.precomputed=null}t.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(t,e){s(t.precomputed);var r=t._getDoubles(),n=o(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var a,c,l=[];for(a=0;a<n.length;a+=r.step){c=0;for(var u=a+r.step-1;u>=a;u--)c=(c<<1)+n[u];l.push(c)}for(var h=this.jpoint(null,null,null),f=this.jpoint(null,null,null),p=i;p>0;p--){for(a=0;a<l.length;a++)(c=l[a])===p?f=f.mixedAdd(r.points[a]):c===-p&&(f=f.mixedAdd(r.points[a].neg()));h=h.add(f)}return h.toP()},c.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,a=o(e,r,this._bitLength),c=this.jpoint(null,null,null),l=a.length-1;l>=0;l--){for(var u=0;l>=0&&0===a[l];l--)u++;if(l>=0&&u++,c=c.dblp(u),l<0)break;var h=a[l];s(0!==h),c="affine"===t.type?h>0?c.mixedAdd(i[h-1>>1]):c.mixedAdd(i[-h-1>>1].neg()):h>0?c.add(i[h-1>>1]):c.add(i[-h-1>>1].neg())}return"affine"===t.type?c.toP():c},c.prototype._wnafMulAdd=function(t,e,r,n,i){var s,c,l,u=this._wnafT1,h=this._wnafT2,f=this._wnafT3,p=0;for(s=0;s<n;s++){var d=(l=e[s])._getNAFPoints(t);u[s]=d.wnd,h[s]=d.points}for(s=n-1;s>=1;s-=2){var m=s-1,y=s;if(1===u[m]&&1===u[y]){var g=[e[m],null,null,e[y]];0===e[m].y.cmp(e[y].y)?(g[1]=e[m].add(e[y]),g[2]=e[m].toJ().mixedAdd(e[y].neg())):0===e[m].y.cmp(e[y].y.redNeg())?(g[1]=e[m].toJ().mixedAdd(e[y]),g[2]=e[m].add(e[y].neg())):(g[1]=e[m].toJ().mixedAdd(e[y]),g[2]=e[m].toJ().mixedAdd(e[y].neg()));var _=[-3,-1,-5,-7,0,7,5,1,3],b=a(r[m],r[y]);for(p=Math.max(b[0].length,p),f[m]=new Array(p),f[y]=new Array(p),c=0;c<p;c++){var v=0|b[0][c],O=0|b[1][c];f[m][c]=_[3*(v+1)+(O+1)],f[y][c]=0,h[m]=g}}else f[m]=o(r[m],u[m],this._bitLength),f[y]=o(r[y],u[y],this._bitLength),p=Math.max(f[m].length,p),p=Math.max(f[y].length,p)}var w=this.jpoint(null,null,null),M=this._wnafT4;for(s=p;s>=0;s--){for(var E=0;s>=0;){var x=!0;for(c=0;c<n;c++)M[c]=0|f[c][s],0!==M[c]&&(x=!1);if(!x)break;E++,s--}if(s>=0&&E++,w=w.dblp(E),s<0)break;for(c=0;c<n;c++){var S=M[c];0!==S&&(S>0?l=h[c][S-1>>1]:S<0&&(l=h[c][-S-1>>1].neg()),w="affine"===l.type?w.mixedAdd(l):w.add(l))}}for(s=0;s<n;s++)h[s]=null;return i?w:w.toP()},c.BasePoint=l,l.prototype.eq=function(){throw new Error("Not implemented")},l.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(t,e){t=i.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?s(t[t.length-1]%2==0):7===t[0]&&s(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},l.prototype.encodeCompressed=function(t){return this.encode(t,!0)},l.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},l.prototype.encode=function(t,e){return i.encode(this._encode(e),t)},l.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},l.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},l.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},l.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},l.prototype._getBeta=function(){return null},l.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e}},function(t,e,r){var n=r(767),i=r(775),o=r(776),a=r(439),s=r(494),c=r(48).Buffer;function l(t){var e;"object"!=typeof t||c.isBuffer(t)||(e=t.passphrase,t=t.key),"string"==typeof t&&(t=c.from(t));var r,l,u=o(t,e),h=u.tag,f=u.data;switch(h){case"CERTIFICATE":l=n.certificate.decode(f,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(l||(l=n.PublicKey.decode(f,"der")),r=l.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(l.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return l.subjectPrivateKey=l.subjectPublicKey,{type:"ec",data:l};case"1.2.840.10040.4.1":return l.algorithm.params.pub_key=n.DSAparam.decode(l.subjectPublicKey.data,"der"),{type:"dsa",data:l.algorithm.params};default:throw new Error("unknown key id "+r)}case"ENCRYPTED PRIVATE KEY":f=function(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=i[t.algorithm.decrypt.cipher.algo.join(".")],l=t.algorithm.decrypt.cipher.iv,u=t.subjectPrivateKey,h=parseInt(o.split("-")[1],10)/8,f=s.pbkdf2Sync(e,r,n,h,"sha1"),p=a.createDecipheriv(o,f,l),d=[];return d.push(p.update(u)),d.push(p.final()),c.concat(d)}(f=n.EncryptedPrivateKey.decode(f,"der"),e);case"PRIVATE KEY":switch(r=(l=n.PrivateKey.decode(f,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(l.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:l.algorithm.curve,privateKey:n.ECPrivateKey.decode(l.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return l.algorithm.params.priv_key=n.DSAparam.decode(l.subjectPrivateKey,"der"),{type:"dsa",params:l.algorithm.params};default:throw new Error("unknown key id "+r)}case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(f,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(f,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(f,"der")};case"EC PRIVATE KEY":return{curve:(f=n.ECPrivateKey.decode(f,"der")).parameters.value,privateKey:f.privateKey};default:throw new Error("unknown key type "+h)}}t.exports=l,l.signature=n.signature},function(t,e,r){"use strict";var n,i=r(82),o=r(47),a=r(34),s=r(17),c=r(16),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),u=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"],h="enterfullscreen",f="leavefullscreen",p=function(t){function e(e){var r=this,n=e||{};(r=t.call(this,{element:document.createElement("div"),target:n.target})||this).cssClassName_=void 0!==n.className?n.className:"ol-full-screen";var i=void 0!==n.label?n.label:"";r.labelNode_="string"==typeof i?document.createTextNode(i):i;var a=void 0!==n.labelActive?n.labelActive:"";r.labelActiveNode_="string"==typeof a?document.createTextNode(a):a,r.button_=document.createElement("button");var s=n.tipLabel?n.tipLabel:"Toggle full-screen";r.setClassName_(r.button_,m()),r.button_.setAttribute("type","button"),r.button_.title=s,r.button_.appendChild(r.labelNode_),r.button_.addEventListener(c.a.CLICK,r.handleClick_.bind(r),!1);var l=r.cssClassName_+" "+o.e+" "+o.b+" "+(d()?"":o.f),u=r.element;return u.className=l,u.appendChild(r.button_),r.keys_=void 0!==n.keys&&n.keys,r.source_=n.source,r}return l(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),this.handleFullScreen_()},e.prototype.handleFullScreen_=function(){if(d()){var t=this.getMap();if(t)if(m())document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen();else{var e=void 0;e=this.source_?"string"==typeof this.source_?document.getElementById(this.source_):this.source_:t.getTargetElement(),this.keys_?function(t){t.webkitRequestFullscreen?t.webkitRequestFullscreen():y(t)}(e):y(e)}}},e.prototype.handleFullScreenChange_=function(){var t=this.getMap();m()?(this.setClassName_(this.button_,!0),Object(a.g)(this.labelActiveNode_,this.labelNode_),this.dispatchEvent(h)):(this.setClassName_(this.button_,!1),Object(a.g)(this.labelNode_,this.labelActiveNode_),this.dispatchEvent(f)),t&&t.updateSize()},e.prototype.setClassName_=function(t,e){var r=this.cssClassName_+"-true",n=this.cssClassName_+"-false",i=e?r:n;t.classList.remove(r),t.classList.remove(n),t.classList.add(i)},e.prototype.setMap=function(e){if(t.prototype.setMap.call(this,e),e)for(var r=0,n=u.length;r<n;++r)this.listenerKeys.push(Object(s.a)(document,u[r],this.handleFullScreenChange_,this))},e}(i.a);function d(){var t=document.body;return!!(t.webkitRequestFullscreen||t.msRequestFullscreen&&document.msFullscreenEnabled||t.requestFullscreen&&document.fullscreenEnabled)}function m(){return!!(document.webkitIsFullScreen||document.msFullscreenElement||document.fullscreenElement)}function y(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}e.a=p},function(t,e,r){"use strict";r(425);var n,i=r(17),o=r(163),a=r(33),s=r(82),c=r(4),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),u=function(t){function e(e){var r=this,n=e||{},i=document.createElement("div");return i.className=void 0!==n.className?n.className:"ol-mouse-position",(r=t.call(this,{element:i,render:n.render||h,target:n.target})||this).addEventListener(Object(a.b)("projection"),r.handleProjectionChanged_),n.coordinateFormat&&r.setCoordinateFormat(n.coordinateFormat),n.projection&&r.setProjection(n.projection),r.undefinedHTML_=void 0!==n.undefinedHTML?n.undefinedHTML:"&#160;",r.renderOnMouseOut_=!!r.undefinedHTML_,r.renderedHTML_=i.innerHTML,r.mapProjection_=null,r.transform_=null,r}return l(e,t),e.prototype.handleProjectionChanged_=function(){this.transform_=null},e.prototype.getCoordinateFormat=function(){return this.get("coordinateFormat")},e.prototype.getProjection=function(){return this.get("projection")},e.prototype.handleMouseMove=function(t){var e=this.getMap();this.updateHTML_(e.getEventPixel(t))},e.prototype.handleMouseOut=function(t){this.updateHTML_(null)},e.prototype.setMap=function(e){if(t.prototype.setMap.call(this,e),e){var r=e.getViewport();this.listenerKeys.push(Object(i.a)(r,o.a.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(Object(i.a)(r,o.a.POINTEROUT,this.handleMouseOut,this))}},e.prototype.setCoordinateFormat=function(t){this.set("coordinateFormat",t)},e.prototype.setProjection=function(t){this.set("projection",Object(c.j)(t))},e.prototype.updateHTML_=function(t){var e=this.undefinedHTML_;if(t&&this.mapProjection_){if(!this.transform_){var r=this.getProjection();this.transform_=r?Object(c.m)(this.mapProjection_,r):c.o}var n=this.getMap().getCoordinateFromPixelInternal(t);if(n){var i=Object(c.n)();i&&(this.transform_=Object(c.m)(this.mapProjection_,i)),this.transform_(n,n);var o=this.getCoordinateFormat();e=o?o(n):n.toString()}}this.renderedHTML_&&e===this.renderedHTML_||(this.element.innerHTML=e,this.renderedHTML_=e)},e}(s.a);function h(t){var e=t.frameState;e?this.mapProjection_!=e.viewState.projection&&(this.mapProjection_=e.viewState.projection,this.transform_=null):this.mapProjection_=null}e.a=u},function(t,e,r){"use strict";var n,i=r(293),o=r(292),a=r(183),s=r(111),c=r(33),l=r(132),u=r(284),h=r(119),f=r(140),p=r(82),d=r(26),m=r(47),y=r(34),g=r(17),_=r(16),b=r(2),v=r(181),O=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return O(e,t),e.prototype.createRenderer=function(){return new o.a(this)},e}(i.a),M=function(t){function e(e){var r=this,n=e||{};(r=t.call(this,{element:document.createElement("div"),render:n.render||E,target:n.target})||this).boundHandleRotationChanged_=r.handleRotationChanged_.bind(r),r.collapsed_=void 0===n.collapsed||n.collapsed,r.collapsible_=void 0===n.collapsible||n.collapsible,r.collapsible_||(r.collapsed_=!1),r.rotateWithView_=void 0!==n.rotateWithView&&n.rotateWithView,r.viewExtent_=void 0;var i=void 0!==n.className?n.className:"ol-overviewmap",o=void 0!==n.tipLabel?n.tipLabel:"Overview map",a=void 0!==n.collapseLabel?n.collapseLabel:"";"string"==typeof a?(r.collapseLabel_=document.createElement("span"),r.collapseLabel_.textContent=a):r.collapseLabel_=a;var s=void 0!==n.label?n.label:"";"string"==typeof s?(r.label_=document.createElement("span"),r.label_.textContent=s):r.label_=s;var c=r.collapsible_&&!r.collapsed_?r.collapseLabel_:r.label_,l=document.createElement("button");l.setAttribute("type","button"),l.title=o,l.appendChild(c),l.addEventListener(_.a.CLICK,r.handleClick_.bind(r),!1),r.ovmapDiv_=document.createElement("div"),r.ovmapDiv_.className="ol-overviewmap-map",r.view_=n.view,r.ovmap_=new w({view:n.view});var f=r.ovmap_;n.layers&&n.layers.forEach((function(t){f.addLayer(t)}));var p=document.createElement("div");p.className="ol-overviewmap-box",p.style.boxSizing="border-box",r.boxOverlay_=new u.a({position:[0,0],positioning:h.a.CENTER_CENTER,element:p}),r.ovmap_.addOverlay(r.boxOverlay_);var d=i+" "+m.e+" "+m.b+(r.collapsed_&&r.collapsible_?" "+m.a:"")+(r.collapsible_?"":" ol-uncollapsible"),y=r.element;y.className=d,y.appendChild(r.ovmapDiv_),y.appendChild(l);var g=r,b=r.boxOverlay_,v=r.boxOverlay_.getElement(),O=function(t){var e,r={clientX:(e=t).clientX,clientY:e.clientY},n=f.getEventCoordinateInternal(r);b.setPosition(n)},M=function t(e){var r=f.getEventCoordinateInternal(e);g.getMap().getView().setCenterInternal(r),window.removeEventListener("mousemove",O),window.removeEventListener("mouseup",t)};return v.addEventListener("mousedown",(function(){window.addEventListener("mousemove",O),window.addEventListener("mouseup",M)})),r}return O(e,t),e.prototype.setMap=function(e){var r=this.getMap();if(e!==r){if(r){var n=r.getView();n&&this.unbindView_(n),this.ovmap_.setTarget(null)}if(t.prototype.setMap.call(this,e),e){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push(Object(g.a)(e,l.a.PROPERTYCHANGE,this.handleMapPropertyChange_,this));var i=e.getView();i&&(this.bindView_(i),i.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))}}},e.prototype.handleMapPropertyChange_=function(t){if(t.key===s.a.VIEW){var e=t.oldValue;e&&this.unbindView_(e);var r=this.getMap().getView();this.bindView_(r)}},e.prototype.bindView_=function(t){if(!this.view_){var e=new v.a({projection:t.getProjection()});this.ovmap_.setView(e)}t.addEventListener(Object(c.b)(f.a.ROTATION),this.boundHandleRotationChanged_),this.handleRotationChanged_()},e.prototype.unbindView_=function(t){t.removeEventListener(Object(c.b)(f.a.ROTATION),this.boundHandleRotationChanged_)},e.prototype.handleRotationChanged_=function(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},e.prototype.validateExtent_=function(){var t=this.getMap(),e=this.ovmap_;if(t.isRendered()&&e.isRendered()){var r=t.getSize(),n=t.getView().calculateExtentInternal(r);if(!this.viewExtent_||!Object(b.q)(n,this.viewExtent_)){this.viewExtent_=n;var i=e.getSize(),o=e.getView().calculateExtentInternal(i),a=e.getPixelFromCoordinateInternal(Object(b.E)(n)),s=e.getPixelFromCoordinateInternal(Object(b.x)(n)),c=Math.abs(a[0]-s[0]),l=Math.abs(a[1]-s[1]),u=i[0],h=i[1];c<.1*u||l<.1*h||c>.75*u||l>.75*h?this.resetExtent_():Object(b.h)(o,n)||this.recenter_()}}},e.prototype.resetExtent_=function(){var t=this.getMap(),e=this.ovmap_,r=t.getSize(),n=t.getView().calculateExtentInternal(r),i=e.getView(),o=Math.log(7.5)/Math.LN2,a=1/(.1*Math.pow(2,o/2));Object(b.L)(n,a),i.fitInternal(Object(d.d)(n))},e.prototype.recenter_=function(){var t=this.getMap(),e=this.ovmap_,r=t.getView();e.getView().setCenterInternal(r.getCenterInternal())},e.prototype.updateBox_=function(){var t=this.getMap(),e=this.ovmap_;if(t.isRendered()&&e.isRendered()){var r=t.getSize(),n=t.getView(),i=e.getView(),o=this.rotateWithView_?0:-n.getRotation(),a=this.boxOverlay_,s=this.boxOverlay_.getElement(),c=n.getCenterInternal(),l=n.getResolution(),u=i.getResolution(),h=r[0]*l/u,f=r[1]*l/u;if(a.setPosition(c),s){s.style.width=h+"px",s.style.height=f+"px";var p="rotate("+o+"rad)";s.style.transform=p}}},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(m.a),this.collapsed_?Object(y.g)(this.collapseLabel_,this.label_):Object(y.g)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var t=this.ovmap_;if(!this.collapsed_){if(t.isRendered())return this.viewExtent_=void 0,void t.render();t.updateSize(),this.resetExtent_(),Object(g.b)(t,a.a.POSTRENDER,(function(t){this.updateBox_()}),this)}},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.setRotateWithView=function(t){this.rotateWithView_!==t&&(this.rotateWithView_=t,0!==this.getMap().getView().getRotation()&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))},e.prototype.getOverviewMap=function(){return this.ovmap_},e}(p.a);function E(t){this.validateExtent_(),this.updateBox_()}e.a=M},function(t,e,r){"use strict";var n,i=r(16),o=r(26),a=r(82),s=r(47),c=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),l=function(t){function e(e){var r=this,n=e||{};(r=t.call(this,{element:document.createElement("div"),target:n.target})||this).extent=n.extent?n.extent:null;var o=void 0!==n.className?n.className:"ol-zoom-extent",a=void 0!==n.label?n.label:"E",c=void 0!==n.tipLabel?n.tipLabel:"Fit to extent",l=document.createElement("button");l.setAttribute("type","button"),l.title=c,l.appendChild("string"==typeof a?document.createTextNode(a):a),l.addEventListener(i.a.CLICK,r.handleClick_.bind(r),!1);var u=o+" "+s.e+" "+s.b,h=r.element;return h.className=u,h.appendChild(l),r}return c(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),this.handleZoomToExtent()},e.prototype.handleZoomToExtent=function(){var t=this.getMap().getView(),e=this.extent?this.extent:t.getProjection().getExtent();t.fitInternal(Object(o.d)(e))},e}(a.a);e.a=l},function(t,e,r){"use strict";var n,i=r(39),o=r(17),a=r(50),s=r(16),c=r(85),l=r(4),u=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),h="addfeatures",f=function(t){function e(e,r,n,i){var o=t.call(this,e)||this;return o.features=n,o.file=r,o.projection=i,o}return u(e,t),e}(a.a),p=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this,{handleEvent:i.b})||this).formatConstructors_=n.formatConstructors?n.formatConstructors:[],r.projection_=n.projection?Object(l.j)(n.projection):null,r.dropListenKeys_=null,r.source_=n.source||null,r.target=n.target?n.target:null,r}return u(e,t),e.prototype.handleResult_=function(t,e){var r=e.target.result,n=this.getMap(),i=this.projection_;i||(i=n.getView().getProjection());for(var o=this.formatConstructors_,a=[],s=0,c=o.length;s<c;++s){var l=new o[s];if((a=this.tryReadFeatures_(l,r,{featureProjection:i}))&&a.length>0)break}this.source_&&(this.source_.clear(),this.source_.addFeatures(a)),this.dispatchEvent(new f(h,t,a,i))},e.prototype.registerListeners_=function(){var t=this.getMap();if(t){var e=this.target?this.target:t.getViewport();this.dropListenKeys_=[Object(o.a)(e,s.a.DROP,d,this),Object(o.a)(e,s.a.DRAGENTER,m,this),Object(o.a)(e,s.a.DRAGOVER,m,this),Object(o.a)(e,s.a.DROP,m,this)]}},e.prototype.setActive=function(e){!this.getActive()&&e&&this.registerListeners_(),this.getActive()&&!e&&this.unregisterListeners_(),t.prototype.setActive.call(this,e)},e.prototype.setMap=function(e){this.unregisterListeners_(),t.prototype.setMap.call(this,e),this.getActive()&&this.registerListeners_()},e.prototype.tryReadFeatures_=function(t,e,r){try{return t.readFeatures(e,r)}catch(t){return null}},e.prototype.unregisterListeners_=function(){this.dropListenKeys_&&(this.dropListenKeys_.forEach(o.c),this.dropListenKeys_=null)},e}(c.a);function d(t){for(var e=t.dataTransfer.files,r=0,n=e.length;r<n;++r){var i=e.item(r),o=new FileReader;o.addEventListener(s.a.LOAD,this.handleResult_.bind(this,i)),o.readAsText(i)}}function m(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}e.a=p},function(t,e,r){"use strict";var n,i=r(32),o=r(70),a=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this,n)||this).condition_=n.condition?n.condition:i.o,r.lastAngle_=void 0,r.lastMagnitude_=void 0,r.lastScaleDelta_=0,r.duration_=void 0!==n.duration?n.duration:400,r}return a(e,t),e.prototype.handleDragEvent=function(t){if(Object(i.h)(t)){var e=t.map,r=e.getSize(),n=t.pixel,o=n[0]-r[0]/2,a=r[1]/2-n[1],s=Math.atan2(a,o),c=Math.sqrt(o*o+a*a),l=e.getView();if(void 0!==this.lastAngle_){var u=this.lastAngle_-s;l.adjustRotationInternal(u)}this.lastAngle_=s,void 0!==this.lastMagnitude_&&l.adjustResolutionInternal(this.lastMagnitude_/c),void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/c),this.lastMagnitude_=c}},e.prototype.handleUpEvent=function(t){if(!Object(i.h)(t))return!0;var e=t.map.getView(),r=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,r),this.lastScaleDelta_=0,!1},e.prototype.handleDownEvent=function(t){return!!Object(i.h)(t)&&(!!this.condition_(t)&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0))},e}(o.b);e.a=s},function(t,e,r){"use strict";var n,i=r(25),o=r(42),a=r(29),s=r(50),c=r(2),l=r(8),u=r(28),h=r(26),f=r(70),p=r(86),d=r(58),m=r(41),y=r(4),g=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),_="extentchanged",b=function(t){function e(e){var r=t.call(this,_)||this;return r.extent=e,r}return g(e,t),e}(s.a),v=function(t){function e(e){var r,n=this,i=e||{};return(n=t.call(this,i)||this).extent_=null,n.pointerHandler_=null,n.pixelTolerance_=void 0!==i.pixelTolerance?i.pixelTolerance:10,n.snappedToVertex_=!1,n.extentFeature_=null,n.vertexFeature_=null,e||(e={}),n.extentOverlay_=new p.a({source:new d.a({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.boxStyle?e.boxStyle:(r=Object(m.b)(),function(t,e){return r[l.a.POLYGON]}),updateWhileAnimating:!0,updateWhileInteracting:!0}),n.vertexOverlay_=new p.a({source:new d.a({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.pointerStyle?e.pointerStyle:O(),updateWhileAnimating:!0,updateWhileInteracting:!0}),e.extent&&n.setExtent(e.extent),n}return g(e,t),e.prototype.snapToVertex_=function(t,e){var r=e.getCoordinateFromPixelInternal(t),n=this.getExtentInternal();if(n){var i=function(t){return[[[t[0],t[1]],[t[0],t[3]]],[[t[0],t[3]],[t[2],t[3]]],[[t[2],t[3]],[t[2],t[1]]],[[t[2],t[1]],[t[0],t[1]]]]}(n);i.sort((function(t,e){return Object(a.l)(r,t)-Object(a.l)(r,e)}));var o=i[0],s=Object(a.c)(r,o),c=e.getPixelFromCoordinateInternal(s);if(Object(a.f)(t,c)<=this.pixelTolerance_){var l=e.getPixelFromCoordinateInternal(o[0]),u=e.getPixelFromCoordinateInternal(o[1]),h=Object(a.k)(c,l),f=Object(a.k)(c,u),p=Math.sqrt(Math.min(h,f));return this.snappedToVertex_=p<=this.pixelTolerance_,this.snappedToVertex_&&(s=h>f?o[1]:o[0]),s}}return null},e.prototype.handlePointerMove_=function(t){var e=t.pixel,r=t.map,n=this.snapToVertex_(e,r);n||(n=r.getCoordinateFromPixelInternal(e)),this.createOrUpdatePointerFeature_(n)},e.prototype.createOrUpdateExtentFeature_=function(t){var e=this.extentFeature_;return e?t?e.setGeometry(Object(h.d)(t)):e.setGeometry(void 0):(e=t?new i.a(Object(h.d)(t)):new i.a({}),this.extentFeature_=e,this.extentOverlay_.getSource().addFeature(e)),e},e.prototype.createOrUpdatePointerFeature_=function(t){var e=this.vertexFeature_;e?e.getGeometry().setCoordinates(t):(e=new i.a(new u.a(t)),this.vertexFeature_=e,this.vertexOverlay_.getSource().addFeature(e));return e},e.prototype.handleEvent=function(e){return!e.pointerEvent||(e.type!=o.a.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),t.prototype.handleEvent.call(this,e),!1)},e.prototype.handleDownEvent=function(t){var e=t.pixel,r=t.map,n=this.getExtentInternal(),i=this.snapToVertex_(e,r),o=function(t){var e=null,r=null;return t[0]==n[0]?e=n[2]:t[0]==n[2]&&(e=n[0]),t[1]==n[1]?r=n[3]:t[1]==n[3]&&(r=n[1]),null!==e&&null!==r?[e,r]:null};if(i&&n){var a=i[0]==n[0]||i[0]==n[2]?i[0]:null,s=i[1]==n[1]||i[1]==n[3]?i[1]:null;null!==a&&null!==s?this.pointerHandler_=w(o(i)):null!==a?this.pointerHandler_=M(o([a,n[1]]),o([a,n[3]])):null!==s&&(this.pointerHandler_=M(o([n[0],s]),o([n[2],s])))}else i=r.getCoordinateFromPixelInternal(e),this.setExtent([i[0],i[1],i[0],i[1]]),this.pointerHandler_=w(i);return!0},e.prototype.handleDragEvent=function(t){if(this.pointerHandler_){var e=t.coordinate;this.setExtent(this.pointerHandler_(e)),this.createOrUpdatePointerFeature_(e)}return!0},e.prototype.handleUpEvent=function(t){this.pointerHandler_=null;var e=this.getExtentInternal();return e&&0!==Object(c.v)(e)||this.setExtent(null),!1},e.prototype.setMap=function(e){this.extentOverlay_.setMap(e),this.vertexOverlay_.setMap(e),t.prototype.setMap.call(this,e)},e.prototype.getExtent=function(){return Object(y.r)(this.getExtentInternal(),this.getMap().getView().getProjection())},e.prototype.getExtentInternal=function(){return this.extent_},e.prototype.setExtent=function(t){this.extent_=t||null,this.createOrUpdateExtentFeature_(t),this.dispatchEvent(new b(this.extent_))},e}(f.b);function O(){var t=Object(m.b)();return function(e,r){return t[l.a.POINT]}}function w(t){return function(e){return Object(c.c)([t,e])}}function M(t,e){return t[0]==e[0]?function(r){return Object(c.c)([t,[r[0],e[1]]])}:t[1]==e[1]?function(r){return Object(c.c)([t,[e[0],r[1]]])}:null}e.a=v},function(t,e,r){"use strict";var n,i=r(10),o=r(72),a=r(29),s=r(17),c=r(16),l=r(2),u=r(39),h=r(8),f=r(26),p=r(70),d=r(15),m=r(104),y=r(237),g=r(4),_=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});function b(t){return t.feature?t.feature:t.element?t.element:void 0}var v=[],O=function(t){function e(e){var r=this,n=e||{},i=n;return i.handleDownEvent||(i.handleDownEvent=u.b),i.stopDown||(i.stopDown=u.a),(r=t.call(this,i)||this).source_=n.source?n.source:null,r.vertex_=void 0===n.vertex||n.vertex,r.edge_=void 0===n.edge||n.edge,r.features_=n.features?n.features:null,r.featuresListenerKeys_=[],r.featureChangeListenerKeys_={},r.indexedFeaturesExtents_={},r.pendingFeatures_={},r.pixelTolerance_=void 0!==n.pixelTolerance?n.pixelTolerance:10,r.rBush_=new y.a,r.SEGMENT_WRITERS_={Point:r.writePointGeometry_.bind(r),LineString:r.writeLineStringGeometry_.bind(r),LinearRing:r.writeLineStringGeometry_.bind(r),Polygon:r.writePolygonGeometry_.bind(r),MultiPoint:r.writeMultiPointGeometry_.bind(r),MultiLineString:r.writeMultiLineStringGeometry_.bind(r),MultiPolygon:r.writeMultiPolygonGeometry_.bind(r),GeometryCollection:r.writeGeometryCollectionGeometry_.bind(r),Circle:r.writeCircleGeometry_.bind(r)},r}return _(e,t),e.prototype.addFeature=function(t,e){var r=void 0===e||e,n=Object(i.c)(t),o=t.getGeometry();if(o){var a=this.SEGMENT_WRITERS_[o.getType()];a&&(this.indexedFeaturesExtents_[n]=o.getExtent(Object(l.k)()),a(t,o))}r&&(this.featureChangeListenerKeys_[n]=Object(s.a)(t,c.a.CHANGE,this.handleFeatureChange_,this))},e.prototype.forEachFeatureAdd_=function(t){this.addFeature(t)},e.prototype.forEachFeatureRemove_=function(t){this.removeFeature(t)},e.prototype.getFeatures_=function(){var t;return this.features_?t=this.features_:this.source_&&(t=this.source_.getFeatures()),t},e.prototype.handleEvent=function(e){var r=this.snapTo(e.pixel,e.coordinate,e.map);return r.snapped&&(e.coordinate=r.vertex.slice(0,2),e.pixel=r.vertexPixel),t.prototype.handleEvent.call(this,e)},e.prototype.handleFeatureAdd_=function(t){var e=b(t);this.addFeature(e)},e.prototype.handleFeatureRemove_=function(t){var e=b(t);this.removeFeature(e)},e.prototype.handleFeatureChange_=function(t){var e=t.target;if(this.handlingDownUpSequence){var r=Object(i.c)(e);r in this.pendingFeatures_||(this.pendingFeatures_[r]=e)}else this.updateFeature_(e)},e.prototype.handleUpEvent=function(t){var e=Object(d.c)(this.pendingFeatures_);return e.length&&(e.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},e.prototype.removeFeature=function(t,e){var r=void 0===e||e,n=Object(i.c)(t),o=this.indexedFeaturesExtents_[n];if(o){var a=this.rBush_,c=[];a.forEachInExtent(o,(function(e){t===e.feature&&c.push(e)}));for(var l=c.length-1;l>=0;--l)a.remove(c[l])}r&&(Object(s.c)(this.featureChangeListenerKeys_[n]),delete this.featureChangeListenerKeys_[n])},e.prototype.setMap=function(e){var r=this.getMap(),n=this.featuresListenerKeys_,i=this.getFeatures_();r&&(n.forEach(s.c),n.length=0,i.forEach(this.forEachFeatureRemove_.bind(this))),t.prototype.setMap.call(this,e),e&&(this.features_?n.push(Object(s.a)(this.features_,o.a.ADD,this.handleFeatureAdd_,this),Object(s.a)(this.features_,o.a.REMOVE,this.handleFeatureRemove_,this)):this.source_&&n.push(Object(s.a)(this.source_,m.a.ADDFEATURE,this.handleFeatureAdd_,this),Object(s.a)(this.source_,m.a.REMOVEFEATURE,this.handleFeatureRemove_,this)),i.forEach(this.forEachFeatureAdd_.bind(this)))},e.prototype.snapTo=function(t,e,r){var n=r.getCoordinateFromPixel([t[0]-this.pixelTolerance_,t[1]+this.pixelTolerance_]),i=r.getCoordinateFromPixel([t[0]+this.pixelTolerance_,t[1]-this.pixelTolerance_]),o=Object(l.c)([n,i]),s=this.rBush_.getInExtent(o);this.vertex_&&!this.edge_&&(s=s.filter((function(t){return t.feature.getGeometry().getType()!==h.a.CIRCLE})));var c=!1,u=null,f=null;if(0===s.length)return{snapped:c,vertex:u,vertexPixel:f};for(var p,d=r.getView().getProjection(),m=Object(g.h)(e,d),y=1/0,_=0;_<s.length;++_){var b=s[_];v[0]=Object(g.h)(b.segment[0],d),v[1]=Object(g.h)(b.segment[1],d);var O=Object(a.l)(m,v);O<y&&(p=b,y=O)}var w=p.segment;if(this.vertex_&&!this.edge_){var M=r.getPixelFromCoordinate(w[0]),E=r.getPixelFromCoordinate(w[1]),x=Object(a.k)(t,M),S=Object(a.k)(t,E);Math.sqrt(Math.min(x,S))<=this.pixelTolerance_&&(c=!0,u=x>S?w[1]:w[0],f=r.getPixelFromCoordinate(u))}else if(this.edge_){var j=p.feature.getGeometry().getType()===h.a.CIRCLE;if(j){var P=p.feature.getGeometry(),T=Object(g.n)();T&&(P=P.clone().transform(T,d)),u=Object(g.q)(Object(a.b)(m,P),d)}else v[0]=Object(g.h)(w[0],d),v[1]=Object(g.h)(w[1],d),u=Object(g.q)(Object(a.c)(m,v),d);if(f=r.getPixelFromCoordinate(u),Object(a.f)(t,f)<=this.pixelTolerance_&&(c=!0,this.vertex_&&!j)){M=r.getPixelFromCoordinate(w[0]),E=r.getPixelFromCoordinate(w[1]),x=Object(a.k)(f,M),S=Object(a.k)(f,E);Math.sqrt(Math.min(x,S))<=this.pixelTolerance_&&(u=x>S?w[1]:w[0],f=r.getPixelFromCoordinate(u))}}return c&&(f=[Math.round(f[0]),Math.round(f[1])]),{snapped:c,vertex:u,vertexPixel:f}},e.prototype.updateFeature_=function(t){this.removeFeature(t,!1),this.addFeature(t,!1)},e.prototype.writeCircleGeometry_=function(t,e){var r=this.getMap().getView().getProjection(),n=e,i=Object(g.n)();i&&(n=n.clone().transform(i,r));var o=Object(f.c)(n);i&&o.transform(r,i);for(var a=o.getCoordinates()[0],s=0,c=a.length-1;s<c;++s){var u=a.slice(s,s+2),h={feature:t,segment:u};this.rBush_.insert(Object(l.c)(u),h)}},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var r=e.getGeometriesArray(),n=0;n<r.length;++n){var i=this.SEGMENT_WRITERS_[r[n].getType()];i&&i(t,r[n])}},e.prototype.writeLineStringGeometry_=function(t,e){for(var r=e.getCoordinates(),n=0,i=r.length-1;n<i;++n){var o=r.slice(n,n+2),a={feature:t,segment:o};this.rBush_.insert(Object(l.c)(o),a)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var r=e.getCoordinates(),n=0,i=r.length;n<i;++n)for(var o=r[n],a=0,s=o.length-1;a<s;++a){var c=o.slice(a,a+2),u={feature:t,segment:c};this.rBush_.insert(Object(l.c)(c),u)}},e.prototype.writeMultiPointGeometry_=function(t,e){for(var r=e.getCoordinates(),n=0,i=r.length;n<i;++n){var o=r[n],a={feature:t,segment:[o,o]};this.rBush_.insert(e.getExtent(),a)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var r=e.getCoordinates(),n=0,i=r.length;n<i;++n)for(var o=r[n],a=0,s=o.length;a<s;++a)for(var c=o[a],u=0,h=c.length-1;u<h;++u){var f=c.slice(u,u+2),p={feature:t,segment:f};this.rBush_.insert(Object(l.c)(f),p)}},e.prototype.writePointGeometry_=function(t,e){var r=e.getCoordinates(),n={feature:t,segment:[r,r]};this.rBush_.insert(e.getExtent(),n)},e.prototype.writePolygonGeometry_=function(t,e){for(var r=e.getCoordinates(),n=0,i=r.length;n<i;++n)for(var o=r[n],a=0,s=o.length-1;a<s;++a){var c=o.slice(a,a+2),u={feature:t,segment:c};this.rBush_.insert(Object(l.c)(c),u)}},e}(p.b);e.a=O},function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r(4),i=r(170),o=r(116);function a(t){var e,r,a=Object.keys(t.defs),s=a.length;for(e=0;e<s;++e){var c=a[e];if(!Object(n.j)(c)){var l=t.defs(c);Object(n.d)(new o.a({code:c,axisOrientation:l.axis,metersPerUnit:l.to_meter,units:l.units}))}}for(e=0;e<s;++e){var u=a[e],h=Object(n.j)(u);for(r=0;r<s;++r){var f=a[r],p=Object(n.j)(f);if(!Object(i.c)(u,f))if(t.defs[u]===t.defs[f])Object(n.c)([h,p]);else{var d=t(u,f);Object(n.b)(h,p,d.forward,d.inverse)}}}}},function(t,e,r){"use strict";var n=r(0),i=r(367);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,a=void 0,a=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===o(a)?a:String(a)),n)}var i,a}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.events_={}}var e,r,o;return e=t,(r=[{key:"add",value:function(t,e,r){var o,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Object(n.X)(t)&&Object(n.U)(e)&&(Object(n.X)(this.events_[t])&&(this.events_[t]=[]),-1===this.indexOf(t,e,r))){var s=new i.a(e,r,a);this.events_[t].push(s),o=s.getEventKey()}return o}},{key:"remove",value:function(t,e,r){var i=this.events_[t];if(!Object(n.X)(i)){var o=this.indexOf(t,e,r);-1!==o&&i.splice(o,1)}}},{key:"removeByKey",value:function(t,e){var r=this.events_[t];if(!Object(n.X)(r)){var i=r.map((function(t,r){var n=-1;return t.getEventKey()===e&&(n=r),n}));-1!==i&&r.splice(i,1)}}},{key:"fire",value:function(t,e){var r=this,i=[].concat(this.events_[t]);Object(n.X)(i)||i.forEach((function(n){n.fire(e),!0===n.isOnce()&&r.remove(t,n.getEventKey())}))}},{key:"indexOf",value:function(t,e,r){var i=-1,o=this.events_[t];if(!Object(n.X)(o))for(var a=0,s=o.length;a<s;a+=1)if(o[a].has(e,r)){i=a;break}return i}}])&&a(e.prototype,r),o&&a(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.a=s},function(t,e,r){"use strict";var n=r(0);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(a)?a:String(a)),n)}var o,a}var s=function(){function t(e,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];o(this,t),this._listener=e,this._scope=r,this.eventKey_=Object(n.z)(),this.once_=i}var e,r,i;return e=t,(r=[{key:"fire",value:function(t){var e=t;Object(n.R)(e)||(e=[e]),this._listener.apply(this._scope,e)}},{key:"getEventKey",value:function(){return this.eventKey_}},{key:"isOnce",value:function(){return this.once_}},{key:"has",value:function(t,e){var r=!1;return r=Object(n.U)(t)?this._listener===t&&this._scope===e:this.eventKey_===t,r}}])&&a(e.prototype,r),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.a=s},function(t,e,r){
/**!

 @license
 handlebars v4.7.7

Copyright (C) 2011-2019 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
t.exports=function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function n(){var t=f();return t.compile=function(e,r){return c.compile(e,r,t)},t.precompile=function(e,r){return c.precompile(e,r,t)},t.AST=a.default,t.Compiler=c.Compiler,t.JavaScriptCompiler=l.default,t.Parser=s.parser,t.parse=s.parse,t.parseWithoutProcessing=s.parseWithoutProcessing,t}var i=r(1).default;e.__esModule=!0;var o=i(r(2)),a=i(r(45)),s=r(46),c=r(51),l=i(r(52)),u=i(r(49)),h=i(r(44)),f=o.default.create,p=n();p.create=n,h.default(p),p.Visitor=u.default,p.default=p,e.default=p,t.exports=e.default},function(t,e){"use strict";e.default=function(t){return t&&t.__esModule?t:{default:t}},e.__esModule=!0},function(t,e,r){"use strict";function n(){var t=new a.HandlebarsEnvironment;return l.extend(t,a),t.SafeString=s.default,t.Exception=c.default,t.Utils=l,t.escapeExpression=l.escapeExpression,t.VM=u,t.template=function(e){return u.template(e,t)},t}var i=r(3).default,o=r(1).default;e.__esModule=!0;var a=i(r(4)),s=o(r(37)),c=o(r(6)),l=i(r(5)),u=i(r(38)),h=o(r(44)),f=n();f.create=n,h.default(f),f.default=f,e.default=f,t.exports=e.default},function(t,e){"use strict";e.default=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e},e.__esModule=!0},function(t,e,r){"use strict";function n(t,e,r){this.helpers=t||{},this.partials=e||{},this.decorators=r||{},s.registerDefaultHelpers(this),c.registerDefaultDecorators(this)}var i=r(1).default;e.__esModule=!0,e.HandlebarsEnvironment=n;var o=r(5),a=i(r(6)),s=r(10),c=r(30),l=i(r(32)),u=r(33);e.VERSION="4.7.7",e.COMPILER_REVISION=8,e.LAST_COMPATIBLE_COMPILER_REVISION=7,e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};var h="[object Object]";n.prototype={constructor:n,logger:l.default,log:l.default.log,registerHelper:function(t,e){if(o.toString.call(t)===h){if(e)throw new a.default("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(o.toString.call(t)===h)o.extend(this.partials,t);else{if(void 0===e)throw new a.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(o.toString.call(t)===h){if(e)throw new a.default("Arg not supported with multiple decorators");o.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]},resetLoggedPropertyAccesses:function(){u.resetLoggedProperties()}};var f=l.default.log;e.log=f,e.createFrame=o.createFrame,e.logger=l.default},function(t,e){"use strict";function r(t){return i[t]}function n(t){for(var e=1;e<arguments.length;e++)for(var r in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],r)&&(t[r]=arguments[e][r]);return t}e.__esModule=!0,e.extend=n,e.indexOf=function(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1},e.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return a.test(t)?t.replace(o,r):t},e.isEmpty=function(t){return!t&&0!==t||!(!l(t)||0!==t.length)},e.createFrame=function(t){var e=n({},t);return e._parent=t,e},e.blockParams=function(t,e){return t.path=e,t},e.appendContextPath=function(t,e){return(t?t+".":"")+e};var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},o=/[&<>"'`=]/g,a=/[&<>"'`=]/,s=Object.prototype.toString;e.toString=s;var c=function(t){return"function"==typeof t};c(/x/)&&(e.isFunction=c=function(t){return"function"==typeof t&&"[object Function]"===s.call(t)}),e.isFunction=c;var l=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===s.call(t)};e.isArray=l},function(t,e,r){"use strict";function n(t,e){var r=e&&e.loc,a=void 0,s=void 0,c=void 0,l=void 0;r&&(a=r.start.line,s=r.end.line,c=r.start.column,l=r.end.column,t+=" - "+a+":"+c);for(var u=Error.prototype.constructor.call(this,t),h=0;h<o.length;h++)this[o[h]]=u[o[h]];Error.captureStackTrace&&Error.captureStackTrace(this,n);try{r&&(this.lineNumber=a,this.endLineNumber=s,i?(Object.defineProperty(this,"column",{value:c,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:l,enumerable:!0})):(this.column=c,this.endColumn=l))}catch(t){}}var i=r(7).default;e.__esModule=!0;var o=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];n.prototype=new Error,e.default=n,t.exports=e.default},function(t,e,r){t.exports={default:r(8),__esModule:!0}},function(t,e,r){var n=r(9);t.exports=function(t,e,r){return n.setDesc(t,e,r)}},function(t,e){var r=Object;t.exports={create:r.create,getProto:r.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:r.getOwnPropertyDescriptor,setDesc:r.defineProperty,setDescs:r.defineProperties,getKeys:r.keys,getNames:r.getOwnPropertyNames,getSymbols:r.getOwnPropertySymbols,each:[].forEach}},function(t,e,r){"use strict";var n=r(1).default;e.__esModule=!0,e.registerDefaultHelpers=function(t){i.default(t),o.default(t),a.default(t),s.default(t),c.default(t),l.default(t),u.default(t)},e.moveHelperToHooks=function(t,e,r){t.helpers[e]&&(t.hooks[e]=t.helpers[e],r||delete t.helpers[e])};var i=n(r(11)),o=n(r(12)),a=n(r(25)),s=n(r(26)),c=n(r(27)),l=n(r(28)),u=n(r(29))},function(t,e,r){"use strict";e.__esModule=!0;var n=r(5);e.default=function(t){t.registerHelper("blockHelperMissing",(function(e,r){var i=r.inverse,o=r.fn;if(!0===e)return o(this);if(!1===e||null==e)return i(this);if(n.isArray(e))return e.length>0?(r.ids&&(r.ids=[r.name]),t.helpers.each(e,r)):i(this);if(r.data&&r.ids){var a=n.createFrame(r.data);a.contextPath=n.appendContextPath(r.data.contextPath,r.name),r={data:a}}return o(e,r)}))},t.exports=e.default},function(t,e,r){(function(n){"use strict";var i=r(13).default,o=r(1).default;e.__esModule=!0;var a=r(5),s=o(r(6));e.default=function(t){t.registerHelper("each",(function(t,e){function r(e,r,n){h&&(h.key=e,h.index=r,h.first=0===r,h.last=!!n,f&&(h.contextPath=f+e)),u+=o(t[e],{data:h,blockParams:a.blockParams([t[e],e],[f+e,null])})}if(!e)throw new s.default("Must pass iterator to #each");var o=e.fn,c=e.inverse,l=0,u="",h=void 0,f=void 0;if(e.data&&e.ids&&(f=a.appendContextPath(e.data.contextPath,e.ids[0])+"."),a.isFunction(t)&&(t=t.call(this)),e.data&&(h=a.createFrame(e.data)),t&&"object"==typeof t)if(a.isArray(t))for(var p=t.length;l<p;l++)l in t&&r(l,l,l===t.length-1);else if(n.Symbol&&t[n.Symbol.iterator]){for(var d=[],m=t[n.Symbol.iterator](),y=m.next();!y.done;y=m.next())d.push(y.value);for(p=(t=d).length;l<p;l++)r(l,l,l===t.length-1)}else!function(){var e=void 0;i(t).forEach((function(t){void 0!==e&&r(e,l-1),e=t,l++})),void 0!==e&&r(e,l-1,!0)}();return 0===l&&(u=c(this)),u}))},t.exports=e.default}).call(e,function(){return this}())},function(t,e,r){t.exports={default:r(14),__esModule:!0}},function(t,e,r){r(15),t.exports=r(21).Object.keys},function(t,e,r){var n=r(16);r(18)("keys",(function(t){return function(e){return t(n(e))}}))},function(t,e,r){var n=r(17);t.exports=function(t){return Object(n(t))}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,r){var n=r(19),i=r(21),o=r(24);t.exports=function(t,e){var r=(i.Object||{})[t]||Object[t],a={};a[t]=e(r),n(n.S+n.F*o((function(){r(1)})),"Object",a)}},function(t,e,r){var n=r(20),i=r(21),o=r(22),a="prototype",s=function(t,e,r){var c,l,u,h=t&s.F,f=t&s.G,p=t&s.S,d=t&s.P,m=t&s.B,y=t&s.W,g=f?i:i[e]||(i[e]={}),_=f?n:p?n[e]:(n[e]||{})[a];for(c in f&&(r=e),r)(l=!h&&_&&c in _)&&c in g||(u=l?_[c]:r[c],g[c]=f&&"function"!=typeof _[c]?r[c]:m&&l?o(u,n):y&&_[c]==u?function(t){var e=function(e){return this instanceof t?new t(e):t(e)};return e[a]=t[a],e}(u):d&&"function"==typeof u?o(Function.call,u):u,d&&((g[a]||(g[a]={}))[c]=u))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,t.exports=s},function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,e){var r=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=r)},function(t,e,r){var n=r(23);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,r){"use strict";var n=r(1).default;e.__esModule=!0;var i=n(r(6));e.default=function(t){t.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new i.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},t.exports=e.default},function(t,e,r){"use strict";var n=r(1).default;e.__esModule=!0;var i=r(5),o=n(r(6));e.default=function(t){t.registerHelper("if",(function(t,e){if(2!=arguments.length)throw new o.default("#if requires exactly one argument");return i.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||i.isEmpty(t)?e.inverse(this):e.fn(this)})),t.registerHelper("unless",(function(e,r){if(2!=arguments.length)throw new o.default("#unless requires exactly one argument");return t.helpers.if.call(this,e,{fn:r.inverse,inverse:r.fn,hash:r.hash})}))},t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("log",(function(){for(var e=[void 0],r=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)e.push(arguments[n]);var i=1;null!=r.hash.level?i=r.hash.level:r.data&&null!=r.data.level&&(i=r.data.level),e[0]=i,t.log.apply(t,e)}))},t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",(function(t,e,r){return t?r.lookupProperty(t,e):t}))},t.exports=e.default},function(t,e,r){"use strict";var n=r(1).default;e.__esModule=!0;var i=r(5),o=n(r(6));e.default=function(t){t.registerHelper("with",(function(t,e){if(2!=arguments.length)throw new o.default("#with requires exactly one argument");i.isFunction(t)&&(t=t.call(this));var r=e.fn;if(i.isEmpty(t))return e.inverse(this);var n=e.data;return e.data&&e.ids&&((n=i.createFrame(e.data)).contextPath=i.appendContextPath(e.data.contextPath,e.ids[0])),r(t,{data:n,blockParams:i.blockParams([t],[n&&n.contextPath])})}))},t.exports=e.default},function(t,e,r){"use strict";var n=r(1).default;e.__esModule=!0,e.registerDefaultDecorators=function(t){i.default(t)};var i=n(r(31))},function(t,e,r){"use strict";e.__esModule=!0;var n=r(5);e.default=function(t){t.registerDecorator("inline",(function(t,e,r,i){var o=t;return e.partials||(e.partials={},o=function(i,o){var a=r.partials;r.partials=n.extend({},a,e.partials);var s=t(i,o);return r.partials=a,s}),e.partials[i.args[0]]=i.fn,o}))},t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0;var n=r(5),i={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=n.indexOf(i.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=i.lookupLevel(t),"undefined"!=typeof console&&i.lookupLevel(i.level)<=t){var e=i.methodMap[t];console[e]||(e="log");for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];console[e].apply(console,n)}}};e.default=i,t.exports=e.default},function(t,e,r){"use strict";function n(t,e){return void 0!==t.whitelist[e]?!0===t.whitelist[e]:void 0!==t.defaultValue?t.defaultValue:(function(t){!0!==l[t]&&(l[t]=!0,c.log("error",'Handlebars: Access has been denied to resolve the property "'+t+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(e),!1)}var i=r(34).default,o=r(13).default,a=r(3).default;e.__esModule=!0,e.createProtoAccessControl=function(t){var e=i(null);e.constructor=!1,e.__defineGetter__=!1,e.__defineSetter__=!1,e.__lookupGetter__=!1;var r=i(null);return r.__proto__=!1,{properties:{whitelist:s.createNewLookupObject(r,t.allowedProtoProperties),defaultValue:t.allowProtoPropertiesByDefault},methods:{whitelist:s.createNewLookupObject(e,t.allowedProtoMethods),defaultValue:t.allowProtoMethodsByDefault}}},e.resultIsAllowed=function(t,e,r){return n("function"==typeof t?e.methods:e.properties,r)},e.resetLoggedProperties=function(){o(l).forEach((function(t){delete l[t]}))};var s=r(36),c=a(r(32)),l=i(null)},function(t,e,r){t.exports={default:r(35),__esModule:!0}},function(t,e,r){var n=r(9);t.exports=function(t,e){return n.create(t,e)}},function(t,e,r){"use strict";var n=r(34).default;e.__esModule=!0,e.createNewLookupObject=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return i.extend.apply(void 0,[n(null)].concat(e))};var i=r(5)},function(t,e){"use strict";function r(t){this.string=t}e.__esModule=!0,r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},e.default=r,t.exports=e.default},function(t,e,r){"use strict";function n(t,e,r,n,i,o,s){function c(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=s;return!s||e==s[0]||e===t.nullContext&&null===s[0]||(a=[e].concat(s)),r(t,e,t.helpers,t.partials,i.data||n,o&&[i.blockParams].concat(o),a)}return(c=a(r,c,t,s,n,o)).program=e,c.depth=s?s.length:0,c.blockParams=i||0,c}function i(){return""}function o(t,e){return e&&"root"in e||((e=e?p.createFrame(e):{}).root=t),e}function a(t,e,r,n,i,o){if(t.decorator){var a={};e=t.decorator(e,a,r,n&&n[0],i,o,n),h.extend(e,a)}return e}var s=r(39).default,c=r(13).default,l=r(3).default,u=r(1).default;e.__esModule=!0,e.checkRevision=function(t){var e=t&&t[0]||1,r=p.COMPILER_REVISION;if(!(e>=p.LAST_COMPATIBLE_COMPILER_REVISION&&e<=p.COMPILER_REVISION)){if(e<p.LAST_COMPATIBLE_COMPILER_REVISION){var n=p.REVISION_CHANGES[r],i=p.REVISION_CHANGES[e];throw new f.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+i+").")}throw new f.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}},e.template=function(t,e){function r(e){function n(e){return""+t.main(l,e,l.helpers,l.partials,s,u,c)}var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=i.data;r._setup(i),!i.partial&&t.useData&&(s=o(e,s));var c=void 0,u=t.useBlockParams?[]:void 0;return t.useDepths&&(c=i.depths?e!=i.depths[0]?[e].concat(i.depths):i.depths:[e]),(n=a(t.main,n,l,i.depths||[],s,u))(e,i)}if(!e)throw new f.default("No environment passed to template");if(!t||!t.main)throw new f.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var i=t.compiler&&7===t.compiler[0],l={strict:function(t,e,r){if(!t||!(e in t))throw new f.default('"'+e+'" not defined in '+t,{loc:r});return l.lookupProperty(t,e)},lookupProperty:function(t,e){var r=t[e];return null==r||Object.prototype.hasOwnProperty.call(t,e)||y.resultIsAllowed(r,l.protoAccessControl,e)?r:void 0},lookup:function(t,e){for(var r=t.length,n=0;n<r;n++)if(null!=(t[n]&&l.lookupProperty(t[n],e)))return t[n][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:h.escapeExpression,invokePartial:function(r,n,i){i.hash&&(n=h.extend({},n,i.hash),i.ids&&(i.ids[0]=!0)),r=e.VM.resolvePartial.call(this,r,n,i);var o=h.extend({},i,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),a=e.VM.invokePartial.call(this,r,n,o);if(null==a&&e.compile&&(i.partials[i.name]=e.compile(r,t.compilerOptions,e),a=i.partials[i.name](n,o)),null!=a){if(i.indent){for(var s=a.split("\n"),c=0,l=s.length;c<l&&(s[c]||c+1!==l);c++)s[c]=i.indent+s[c];a=s.join("\n")}return a}throw new f.default("The partial "+i.name+" could not be compiled when running in runtime-only mode")},fn:function(e){var r=t[e];return r.decorator=t[e+"_d"],r},programs:[],program:function(t,e,r,i,o){var a=this.programs[t],s=this.fn(t);return e||o||i||r?a=n(this,t,s,e,r,i,o):a||(a=this.programs[t]=n(this,t,s)),a},data:function(t,e){for(;t&&e--;)t=t._parent;return t},mergeIfNeeded:function(t,e){var r=t||e;return t&&e&&t!==e&&(r=h.extend({},e,t)),r},nullContext:s({}),noop:e.VM.noop,compilerInfo:t.compiler};return r.isTop=!0,r._setup=function(r){if(r.partial)l.protoAccessControl=r.protoAccessControl,l.helpers=r.helpers,l.partials=r.partials,l.decorators=r.decorators,l.hooks=r.hooks;else{var n=h.extend({},e.helpers,r.helpers);(function(t,e){c(t).forEach((function(r){var n=t[r];t[r]=function(t,e){var r=e.lookupProperty;return m.wrapHelper(t,(function(t){return h.extend({lookupProperty:r},t)}))}(n,e)}))})(n,l),l.helpers=n,t.usePartial&&(l.partials=l.mergeIfNeeded(r.partials,e.partials)),(t.usePartial||t.useDecorators)&&(l.decorators=h.extend({},e.decorators,r.decorators)),l.hooks={},l.protoAccessControl=y.createProtoAccessControl(r);var o=r.allowCallsToHelperMissing||i;d.moveHelperToHooks(l,"helperMissing",o),d.moveHelperToHooks(l,"blockHelperMissing",o)}},r._child=function(e,r,i,o){if(t.useBlockParams&&!i)throw new f.default("must pass block params");if(t.useDepths&&!o)throw new f.default("must pass parent depths");return n(l,e,t[e],r,0,i,o)},r},e.wrapProgram=n,e.resolvePartial=function(t,e,r){return t?t.call||r.name||(r.name=t,t=r.partials[t]):t="@partial-block"===r.name?r.data["partial-block"]:r.partials[r.name],t},e.invokePartial=function(t,e,r){var n=r.data&&r.data["partial-block"];r.partial=!0,r.ids&&(r.data.contextPath=r.ids[0]||r.data.contextPath);var o=void 0;if(r.fn&&r.fn!==i&&function(){r.data=p.createFrame(r.data);var t=r.fn;o=r.data["partial-block"]=function(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return r.data=p.createFrame(r.data),r.data["partial-block"]=n,t(e,r)},t.partials&&(r.partials=h.extend({},r.partials,t.partials))}(),void 0===t&&o&&(t=o),void 0===t)throw new f.default("The partial "+r.name+" could not be found");if(t instanceof Function)return t(e,r)},e.noop=i;var h=l(r(5)),f=u(r(6)),p=r(4),d=r(10),m=r(43),y=r(33)},function(t,e,r){t.exports={default:r(40),__esModule:!0}},function(t,e,r){r(41),t.exports=r(21).Object.seal},function(t,e,r){var n=r(42);r(18)("seal",(function(t){return function(e){return t&&n(e)?t(e):e}}))},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){"use strict";e.__esModule=!0,e.wrapHelper=function(t,e){return"function"!=typeof t?t:function(){var r=arguments[arguments.length-1];return arguments[arguments.length-1]=e(r),t.apply(this,arguments)}}},function(t,e){(function(r){"use strict";e.__esModule=!0,e.default=function(t){var e=void 0!==r?r:window,n=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=n),t}},t.exports=e.default}).call(e,function(){return this}())},function(t,e){"use strict";e.__esModule=!0;var r={helpers:{helperExpression:function(t){return"SubExpression"===t.type||("MustacheStatement"===t.type||"BlockStatement"===t.type)&&!!(t.params&&t.params.length||t.hash)},scopedId:function(t){return/^\.|this\b/.test(t.original)},simpleId:function(t){return 1===t.parts.length&&!r.helpers.scopedId(t)&&!t.depth}}};e.default=r,t.exports=e.default},function(t,e,r){"use strict";function n(t,e){return"Program"===t.type?t:(a.default.yy=u,u.locInfo=function(t){return new u.SourceLocation(e&&e.srcName,t)},a.default.parse(t))}var i=r(1).default,o=r(3).default;e.__esModule=!0,e.parseWithoutProcessing=n,e.parse=function(t,e){var r=n(t,e);return new s.default(e).accept(r)};var a=i(r(47)),s=i(r(48)),c=o(r(50)),l=r(5);e.parser=a.default;var u={};l.extend(u,c)},function(t,e){"use strict";e.__esModule=!0;var r=function(){function t(){this.yy={}}var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(t,e,r,n,i,o,a){var s=o.length-1;switch(i){case 1:return o[s-1];case 2:this.$=n.prepareProgram(o[s]);break;case 3:case 4:case 5:case 6:case 7:case 8:this.$=o[s];break;case 9:this.$={type:"CommentStatement",value:n.stripComment(o[s]),strip:n.stripFlags(o[s],o[s]),loc:n.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:o[s],value:o[s],loc:n.locInfo(this._$)};break;case 11:this.$=n.prepareRawBlock(o[s-2],o[s-1],o[s],this._$);break;case 12:this.$={path:o[s-3],params:o[s-2],hash:o[s-1]};break;case 13:this.$=n.prepareBlock(o[s-3],o[s-2],o[s-1],o[s],!1,this._$);break;case 14:this.$=n.prepareBlock(o[s-3],o[s-2],o[s-1],o[s],!0,this._$);break;case 15:this.$={open:o[s-5],path:o[s-4],params:o[s-3],hash:o[s-2],blockParams:o[s-1],strip:n.stripFlags(o[s-5],o[s])};break;case 16:case 17:this.$={path:o[s-4],params:o[s-3],hash:o[s-2],blockParams:o[s-1],strip:n.stripFlags(o[s-5],o[s])};break;case 18:this.$={strip:n.stripFlags(o[s-1],o[s-1]),program:o[s]};break;case 19:var c=n.prepareBlock(o[s-2],o[s-1],o[s],o[s],!1,this._$),l=n.prepareProgram([c],o[s-1].loc);l.chained=!0,this.$={strip:o[s-2].strip,program:l,chain:!0};break;case 20:this.$=o[s];break;case 21:this.$={path:o[s-1],strip:n.stripFlags(o[s-2],o[s])};break;case 22:case 23:this.$=n.prepareMustache(o[s-3],o[s-2],o[s-1],o[s-4],n.stripFlags(o[s-4],o[s]),this._$);break;case 24:this.$={type:"PartialStatement",name:o[s-3],params:o[s-2],hash:o[s-1],indent:"",strip:n.stripFlags(o[s-4],o[s]),loc:n.locInfo(this._$)};break;case 25:this.$=n.preparePartialBlock(o[s-2],o[s-1],o[s],this._$);break;case 26:this.$={path:o[s-3],params:o[s-2],hash:o[s-1],strip:n.stripFlags(o[s-4],o[s])};break;case 27:case 28:this.$=o[s];break;case 29:this.$={type:"SubExpression",path:o[s-3],params:o[s-2],hash:o[s-1],loc:n.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:o[s],loc:n.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:n.id(o[s-2]),value:o[s],loc:n.locInfo(this._$)};break;case 32:this.$=n.id(o[s-1]);break;case 33:case 34:this.$=o[s];break;case 35:this.$={type:"StringLiteral",value:o[s],original:o[s],loc:n.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(o[s]),original:Number(o[s]),loc:n.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===o[s],original:"true"===o[s],loc:n.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:n.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:n.locInfo(this._$)};break;case 40:case 41:this.$=o[s];break;case 42:this.$=n.preparePath(!0,o[s],this._$);break;case 43:this.$=n.preparePath(!1,o[s],this._$);break;case 44:o[s-2].push({part:n.id(o[s]),original:o[s],separator:o[s-1]}),this.$=o[s-2];break;case 45:this.$=[{part:n.id(o[s]),original:o[s]}];break;case 46:this.$=[];break;case 47:o[s-1].push(o[s]);break;case 48:this.$=[];break;case 49:o[s-1].push(o[s]);break;case 50:this.$=[];break;case 51:o[s-1].push(o[s]);break;case 58:this.$=[];break;case 59:o[s-1].push(o[s]);break;case 64:this.$=[];break;case 65:o[s-1].push(o[s]);break;case 70:this.$=[];break;case 71:o[s-1].push(o[s]);break;case 78:this.$=[];break;case 79:o[s-1].push(o[s]);break;case 82:this.$=[];break;case 83:o[s-1].push(o[s]);break;case 86:this.$=[];break;case 87:o[s-1].push(o[s]);break;case 90:this.$=[];break;case 91:o[s-1].push(o[s]);break;case 94:this.$=[];break;case 95:o[s-1].push(o[s]);break;case 98:this.$=[o[s]];break;case 99:o[s-1].push(o[s]);break;case 100:this.$=[o[s]];break;case 101:o[s-1].push(o[s])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(t,e){throw new Error(t)},parse:function(t){function e(){var t;return"number"!=typeof(t=r.lexer.lex()||1)&&(t=r.symbols_[t]||t),t}var r=this,n=[0],i=[null],o=[],a=this.table,s="",c=0,l=0,u=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var h=this.lexer.yylloc;o.push(h);var f=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,d,m,y,g,_,b,v,O,w={};;){if(m=n[n.length-1],this.defaultActions[m]?y=this.defaultActions[m]:(null!=p||(p=e()),y=a[m]&&a[m][p]),void 0===y||!y.length||!y[0]){var M="";if(!u){for(_ in O=[],a[m])this.terminals_[_]&&_>2&&O.push("'"+this.terminals_[_]+"'");M=this.lexer.showPosition?"Parse error on line "+(c+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+O.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(c+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(M,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:h,expected:O})}}if(y[0]instanceof Array&&y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+p);switch(y[0]){case 1:n.push(p),i.push(this.lexer.yytext),o.push(this.lexer.yylloc),n.push(y[1]),p=null,d?(p=d,d=null):(l=this.lexer.yyleng,s=this.lexer.yytext,c=this.lexer.yylineno,h=this.lexer.yylloc,u>0&&u--);break;case 2:if(b=this.productions_[y[1]][1],w.$=i[i.length-b],w._$={first_line:o[o.length-(b||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(b||1)].first_column,last_column:o[o.length-1].last_column},f&&(w._$.range=[o[o.length-(b||1)].range[0],o[o.length-1].range[1]]),void 0!==(g=this.performAction.call(w,s,l,c,this.yy,y[1],i,o)))return g;b&&(n=n.slice(0,-1*b*2),i=i.slice(0,-1*b),o=o.slice(0,-1*b)),n.push(this.productions_[y[1]][0]),i.push(w.$),o.push(w._$),v=a[n[n.length-2]][n[n.length-1]],n.push(v);break;case 3:return!0}}return!0}},r=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,r=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;var t,e,r,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),a=0;a<o.length&&(!(r=this._input.match(this.rules[o[a]]))||e&&!(r[0].length>e[0].length)||(e=r,n=a,this.options.flex));a++);return e?((i=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,o[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return void 0!==t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)},options:{},performAction:function(t,e,r,n){function i(t,r){return e.yytext=e.yytext.substring(t,e.yyleng-r+t)}switch(r){case 0:if("\\\\"===e.yytext.slice(-2)?(i(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(i(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(i(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(e.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return e.yytext=i(1,2).replace(/\\"/g,'"'),80;case 32:return e.yytext=i(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return e.yytext=e.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};return t}();return e.lexer=r,t.prototype=e,e.Parser=t,new t}();e.default=r,t.exports=e.default},function(t,e,r){"use strict";function n(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=t}function i(t,e,r){void 0===e&&(e=t.length);var n=t[e-1],i=t[e-2];return n?"ContentStatement"===n.type?(i||!r?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(n.original):void 0:r}function o(t,e,r){void 0===e&&(e=-1);var n=t[e+1],i=t[e+2];return n?"ContentStatement"===n.type?(i||!r?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(n.original):void 0:r}function a(t,e,r){var n=t[null==e?0:e+1];if(n&&"ContentStatement"===n.type&&(r||!n.rightStripped)){var i=n.value;n.value=n.value.replace(r?/^\s+/:/^[ \t]*\r?\n?/,""),n.rightStripped=n.value!==i}}function s(t,e,r){var n=t[null==e?t.length-1:e-1];if(n&&"ContentStatement"===n.type&&(r||!n.leftStripped)){var i=n.value;return n.value=n.value.replace(r?/\s+$/:/[ \t]+$/,""),n.leftStripped=n.value!==i,n.leftStripped}}var c=r(1).default;e.__esModule=!0;var l=c(r(49));n.prototype=new l.default,n.prototype.Program=function(t){var e=!this.options.ignoreStandalone,r=!this.isRootSeen;this.isRootSeen=!0;for(var n=t.body,c=0,l=n.length;c<l;c++){var u=n[c],h=this.accept(u);if(h){var f=i(n,c,r),p=o(n,c,r),d=h.openStandalone&&f,m=h.closeStandalone&&p,y=h.inlineStandalone&&f&&p;h.close&&a(n,c,!0),h.open&&s(n,c,!0),e&&y&&(a(n,c),s(n,c)&&"PartialStatement"===u.type&&(u.indent=/([ \t]+$)/.exec(n[c-1].original)[1])),e&&d&&(a((u.program||u.inverse).body),s(n,c)),e&&m&&(a(n,c),s((u.inverse||u.program).body))}}return t},n.prototype.BlockStatement=n.prototype.DecoratorBlock=n.prototype.PartialBlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);var e=t.program||t.inverse,r=t.program&&t.inverse,n=r,c=r;if(r&&r.chained)for(n=r.body[0].program;c.chained;)c=c.body[c.body.length-1].program;var l={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:o(e.body),closeStandalone:i((n||e).body)};if(t.openStrip.close&&a(e.body,null,!0),r){var u=t.inverseStrip;u.open&&s(e.body,null,!0),u.close&&a(n.body,null,!0),t.closeStrip.open&&s(c.body,null,!0),!this.options.ignoreStandalone&&i(e.body)&&o(n.body)&&(s(e.body),a(n.body))}else t.closeStrip.open&&s(e.body,null,!0);return l},n.prototype.Decorator=n.prototype.MustacheStatement=function(t){return t.strip},n.prototype.PartialStatement=n.prototype.CommentStatement=function(t){var e=t.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}},e.default=n,t.exports=e.default},function(t,e,r){"use strict";function n(){this.parents=[]}function i(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")}function o(t){i.call(this,t),this.acceptKey(t,"program"),this.acceptKey(t,"inverse")}function a(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")}var s=r(1).default;e.__esModule=!0;var c=s(r(6));n.prototype={constructor:n,mutating:!1,acceptKey:function(t,e){var r=this.accept(t[e]);if(this.mutating){if(r&&!n.prototype[r.type])throw new c.default('Unexpected node type "'+r.type+'" found when accepting '+e+" on "+t.type);t[e]=r}},acceptRequired:function(t,e){if(this.acceptKey(t,e),!t[e])throw new c.default(t.type+" requires "+e)},acceptArray:function(t){for(var e=0,r=t.length;e<r;e++)this.acceptKey(t,e),t[e]||(t.splice(e,1),e--,r--)},accept:function(t){if(t){if(!this[t.type])throw new c.default("Unknown type: "+t.type,t);this.current&&this.parents.unshift(this.current),this.current=t;var e=this[t.type](t);return this.current=this.parents.shift(),!this.mutating||e?e:!1!==e?t:void 0}},Program:function(t){this.acceptArray(t.body)},MustacheStatement:i,Decorator:i,BlockStatement:o,DecoratorBlock:o,PartialStatement:a,PartialBlockStatement:function(t){a.call(this,t),this.acceptKey(t,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:i,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(t){this.acceptArray(t.pairs)},HashPair:function(t){this.acceptRequired(t,"value")}},e.default=n,t.exports=e.default},function(t,e,r){"use strict";function n(t,e){if(e=e.path?e.path.original:e,t.path.original!==e){var r={loc:t.path.loc};throw new o.default(t.path.original+" doesn't match "+e,r)}}var i=r(1).default;e.__esModule=!0,e.SourceLocation=function(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}},e.id=function(t){return/^\[.*\]$/.test(t)?t.substring(1,t.length-1):t},e.stripFlags=function(t,e){return{open:"~"===t.charAt(2),close:"~"===e.charAt(e.length-3)}},e.stripComment=function(t){return t.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")},e.preparePath=function(t,e,r){r=this.locInfo(r);for(var n=t?"@":"",i=[],a=0,s=0,c=e.length;s<c;s++){var l=e[s].part,u=e[s].original!==l;if(n+=(e[s].separator||"")+l,u||".."!==l&&"."!==l&&"this"!==l)i.push(l);else{if(i.length>0)throw new o.default("Invalid path: "+n,{loc:r});".."===l&&a++}}return{type:"PathExpression",data:t,depth:a,parts:i,original:n,loc:r}},e.prepareMustache=function(t,e,r,n,i,o){var a=n.charAt(3)||n.charAt(2),s="{"!==a&&"&"!==a;return{type:/\*/.test(n)?"Decorator":"MustacheStatement",path:t,params:e,hash:r,escaped:s,strip:i,loc:this.locInfo(o)}},e.prepareRawBlock=function(t,e,r,i){n(t,r);var o={type:"Program",body:e,strip:{},loc:i=this.locInfo(i)};return{type:"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:o,openStrip:{},inverseStrip:{},closeStrip:{},loc:i}},e.prepareBlock=function(t,e,r,i,a,s){i&&i.path&&n(t,i);var c=/\*/.test(t.open);e.blockParams=t.blockParams;var l=void 0,u=void 0;if(r){if(c)throw new o.default("Unexpected inverse block on decorator",r);r.chain&&(r.program.body[0].closeStrip=i.strip),u=r.strip,l=r.program}return a&&(a=l,l=e,e=a),{type:c?"DecoratorBlock":"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:e,inverse:l,openStrip:t.strip,inverseStrip:u,closeStrip:i&&i.strip,loc:this.locInfo(s)}},e.prepareProgram=function(t,e){if(!e&&t.length){var r=t[0].loc,n=t[t.length-1].loc;r&&n&&(e={source:r.source,start:{line:r.start.line,column:r.start.column},end:{line:n.end.line,column:n.end.column}})}return{type:"Program",body:t,strip:{},loc:e}},e.preparePartialBlock=function(t,e,r,i){return n(t,r),{type:"PartialBlockStatement",name:t.path,params:t.params,hash:t.hash,program:e,openStrip:t.strip,closeStrip:r&&r.strip,loc:this.locInfo(i)}};var o=i(r(6))},function(t,e,r){"use strict";function n(){}function i(t,e){if(t===e)return!0;if(l.isArray(t)&&l.isArray(e)&&t.length===e.length){for(var r=0;r<t.length;r++)if(!i(t[r],e[r]))return!1;return!0}}function o(t){if(!t.path.parts){var e=t.path;t.path={type:"PathExpression",data:!1,depth:0,parts:[e.original+""],original:e.original+"",loc:e.loc}}}var a=r(34).default,s=r(1).default;e.__esModule=!0,e.Compiler=n,e.precompile=function(t,e,r){if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new c.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);"data"in(e=e||{})||(e.data=!0),e.compat&&(e.useDepths=!0);var n=r.parse(t,e),i=(new r.Compiler).compile(n,e);return(new r.JavaScriptCompiler).compile(i,e)},e.compile=function(t,e,r){function n(){var n=r.parse(t,e),i=(new r.Compiler).compile(n,e),o=(new r.JavaScriptCompiler).compile(i,e,void 0,!0);return r.template(o)}function i(t,e){return o||(o=n()),o.call(this,t,e)}if(void 0===e&&(e={}),null==t||"string"!=typeof t&&"Program"!==t.type)throw new c.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);"data"in(e=l.extend({},e))||(e.data=!0),e.compat&&(e.useDepths=!0);var o=void 0;return i._setup=function(t){return o||(o=n()),o._setup(t)},i._child=function(t,e,r,i){return o||(o=n()),o._child(t,e,r,i)},i};var c=s(r(6)),l=r(5),u=s(r(45)),h=[].slice;n.prototype={compiler:n,equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var r=0;r<e;r++){var n=this.opcodes[r],o=t.opcodes[r];if(n.opcode!==o.opcode||!i(n.args,o.args))return!1}for(e=this.children.length,r=0;r<e;r++)if(!this.children[r].equals(t.children[r]))return!1;return!0},guid:0,compile:function(t,e){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=e,this.stringParams=e.stringParams,this.trackIds=e.trackIds,e.blockParams=e.blockParams||[],e.knownHelpers=l.extend(a(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},e.knownHelpers),this.accept(t)},compileProgram:function(t){var e=(new this.compiler).compile(t,this.options),r=this.guid++;return this.usePartial=this.usePartial||e.usePartial,this.children[r]=e,this.useDepths=this.useDepths||e.useDepths,r},accept:function(t){if(!this[t.type])throw new c.default("Unknown type: "+t.type,t);this.sourceNode.unshift(t);var e=this[t.type](t);return this.sourceNode.shift(),e},Program:function(t){this.options.blockParams.unshift(t.blockParams);for(var e=t.body,r=e.length,n=0;n<r;n++)this.accept(e[n]);return this.options.blockParams.shift(),this.isSimple=1===r,this.blockParams=t.blockParams?t.blockParams.length:0,this},BlockStatement:function(t){o(t);var e=t.program,r=t.inverse;e=e&&this.compileProgram(e),r=r&&this.compileProgram(r);var n=this.classifySexpr(t);"helper"===n?this.helperSexpr(t,e,r):"simple"===n?(this.simpleSexpr(t),this.opcode("pushProgram",e),this.opcode("pushProgram",r),this.opcode("emptyHash"),this.opcode("blockValue",t.path.original)):(this.ambiguousSexpr(t,e,r),this.opcode("pushProgram",e),this.opcode("pushProgram",r),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(t){var e=t.program&&this.compileProgram(t.program),r=this.setupFullMustacheParams(t,e,void 0),n=t.path;this.useDecorators=!0,this.opcode("registerDecorator",r.length,n.original)},PartialStatement:function(t){this.usePartial=!0;var e=t.program;e&&(e=this.compileProgram(t.program));var r=t.params;if(r.length>1)throw new c.default("Unsupported number of partial arguments: "+r.length,t);r.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):r.push({type:"PathExpression",parts:[],depth:0}));var n=t.name.original,i="SubExpression"===t.name.type;i&&this.accept(t.name),this.setupFullMustacheParams(t,e,void 0,!0);var o=t.indent||"";this.options.preventIndent&&o&&(this.opcode("appendContent",o),o=""),this.opcode("invokePartial",i,n,o),this.opcode("append")},PartialBlockStatement:function(t){this.PartialStatement(t)},MustacheStatement:function(t){this.SubExpression(t),t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(t){this.DecoratorBlock(t)},ContentStatement:function(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function(){},SubExpression:function(t){o(t);var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function(t,e,r){var n=t.path,i=n.parts[0],o=null!=e||null!=r;this.opcode("getContext",n.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",r),n.strict=!0,this.accept(n),this.opcode("invokeAmbiguous",i,o)},simpleSexpr:function(t){var e=t.path;e.strict=!0,this.accept(e),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,r){var n=this.setupFullMustacheParams(t,e,r),i=t.path,o=i.parts[0];if(this.options.knownHelpers[o])this.opcode("invokeKnownHelper",n.length,o);else{if(this.options.knownHelpersOnly)throw new c.default("You specified knownHelpersOnly, but used the unknown helper "+o,t);i.strict=!0,i.falsy=!0,this.accept(i),this.opcode("invokeHelper",n.length,i.original,u.default.helpers.simpleId(i))}},PathExpression:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0],r=u.default.helpers.scopedId(t),n=!t.depth&&!r&&this.blockParamIndex(e);n?this.opcode("lookupBlockParam",n,t.parts):e?t.data?(this.options.data=!0,this.opcode("lookupData",t.depth,t.parts,t.strict)):this.opcode("lookupOnContext",t.parts,t.falsy,t.strict,r):this.opcode("pushContext")},StringLiteral:function(t){this.opcode("pushString",t.value)},NumberLiteral:function(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(t){var e=t.pairs,r=0,n=e.length;for(this.opcode("pushHash");r<n;r++)this.pushParam(e[r].value);for(;r--;)this.opcode("assignToHash",e[r].key);this.opcode("popHash")},opcode:function(t){this.opcodes.push({opcode:t,args:h.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(t){t&&(this.useDepths=!0)},classifySexpr:function(t){var e=u.default.helpers.simpleId(t.path),r=e&&!!this.blockParamIndex(t.path.parts[0]),n=!r&&u.default.helpers.helperExpression(t),i=!r&&(n||e);if(i&&!n){var o=t.path.parts[0],a=this.options;a.knownHelpers[o]?n=!0:a.knownHelpersOnly&&(i=!1)}return n?"helper":i?"ambiguous":"simple"},pushParams:function(t){for(var e=0,r=t.length;e<r;e++)this.pushParam(t[e])},pushParam:function(t){var e=null!=t.value?t.value:t.original||"";if(this.stringParams)e.replace&&(e=e.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",e,t.type),"SubExpression"===t.type&&this.accept(t);else{if(this.trackIds){var r=void 0;if(!t.parts||u.default.helpers.scopedId(t)||t.depth||(r=this.blockParamIndex(t.parts[0])),r){var n=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",r,n)}else(e=t.original||e).replace&&(e=e.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",t.type,e)}this.accept(t)}},setupFullMustacheParams:function(t,e,r,n){var i=t.params;return this.pushParams(i),this.opcode("pushProgram",e),this.opcode("pushProgram",r),t.hash?this.accept(t.hash):this.opcode("emptyHash",n),i},blockParamIndex:function(t){for(var e=0,r=this.options.blockParams.length;e<r;e++){var n=this.options.blockParams[e],i=n&&l.indexOf(n,t);if(n&&i>=0)return[e,i]}}}},function(t,e,r){"use strict";function n(t){this.value=t}function i(){}var o=r(13).default,a=r(1).default;e.__esModule=!0;var s=r(4),c=a(r(6)),l=r(5),u=a(r(53));i.prototype={nameLookup:function(t,e){return this.internalNameLookup(t,e)},depthedLookup:function(t){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(t),")"]},compilerInfo:function(){var t=s.COMPILER_REVISION;return[t,s.REVISION_CHANGES[t]]},appendToBuffer:function(t,e,r){return l.isArray(t)||(t=[t]),t=this.source.wrap(t,e),this.environment.isSimple?["return ",t,";"]:r?["buffer += ",t,";"]:(t.appendToBuffer=!0,t)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(t,e){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",t,",",JSON.stringify(e),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(t,e,r,n){this.environment=t,this.options=e,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!n,this.name=this.environment.name,this.isChild=!!r,this.context=r||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(t,e),this.useDepths=this.useDepths||t.useDepths||t.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||t.useBlockParams;var i=t.opcodes,o=void 0,a=void 0,s=void 0,l=void 0;for(s=0,l=i.length;s<l;s++)o=i[s],this.source.currentLocation=o.loc,a=a||o.loc,this[o.opcode].apply(this,o.args);if(this.source.currentLocation=a,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new c.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),";\n"]),this.decorators.push("return fn;"),n?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var u=this.createFunctionContext(n);if(this.isChild)return u;var h={compiler:this.compilerInfo(),main:u};this.decorators&&(h.main_d=this.decorators,h.useDecorators=!0);var f=this.context,p=f.programs,d=f.decorators;for(s=0,l=p.length;s<l;s++)p[s]&&(h[s]=p[s],d[s]&&(h[s+"_d"]=d[s],h.useDecorators=!0));return this.environment.usePartial&&(h.usePartial=!0),this.options.data&&(h.useData=!0),this.useDepths&&(h.useDepths=!0),this.useBlockParams&&(h.useBlockParams=!0),this.options.compat&&(h.compat=!0),n?h.compilerOptions=this.options:(h.compiler=JSON.stringify(h.compiler),this.source.currentLocation={start:{line:1,column:0}},h=this.objectLiteral(h),e.srcName?(h=h.toStringWithSourceMap({file:e.destName})).map=h.map&&h.map.toString():h=h.toString()),h},preamble:function(){this.lastContext=0,this.source=new u.default(this.options.srcName),this.decorators=new u.default(this.options.srcName)},createFunctionContext:function(t){var e=this,r="",n=this.stackVars.concat(this.registers.list);n.length>0&&(r+=", "+n.join(", "));var i=0;o(this.aliases).forEach((function(t){var n=e.aliases[t];n.children&&n.referenceCount>1&&(r+=", alias"+ ++i+"="+t,n.children[0]="alias"+i)})),this.lookupPropertyFunctionIsUsed&&(r+=", "+this.lookupPropertyFunctionVarDeclaration());var a=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&a.push("blockParams"),this.useDepths&&a.push("depths");var s=this.mergeSource(r);return t?(a.push(s),Function.apply(this,a)):this.source.wrap(["function(",a.join(","),") {\n  ",s,"}"])},mergeSource:function(t){var e=this.environment.isSimple,r=!this.forceBuffer,n=void 0,i=void 0,o=void 0,a=void 0;return this.source.each((function(t){t.appendToBuffer?(o?t.prepend("  + "):o=t,a=t):(o&&(i?o.prepend("buffer += "):n=!0,a.add(";"),o=a=void 0),i=!0,e||(r=!1))})),r?o?(o.prepend("return "),a.add(";")):i||this.source.push('return "";'):(t+=", buffer = "+(n?"":this.initializeBuffer()),o?(o.prepend("return buffer + "),a.add(";")):this.source.push("return buffer;")),t&&this.source.prepend("var "+t.substring(2)+(n?"":";\n")),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return"\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},blockValue:function(t){var e=this.aliasable("container.hooks.blockHelperMissing"),r=[this.contextName(0)];this.setupHelperArgs(t,0,r);var n=this.popStack();r.splice(1,0,n),this.push(this.source.functionCall(e,"call",r))},ambiguousBlockValue:function(){var t=this.aliasable("container.hooks.blockHelperMissing"),e=[this.contextName(0)];this.setupHelperArgs("",0,e,!0),this.flushInline();var r=this.topStack();e.splice(1,0,r),this.pushSource(["if (!",this.lastHelper,") { ",r," = ",this.source.functionCall(t,"call",e),"}"])},appendContent:function(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation,this.pendingContent=t},append:function(){if(this.isInline())this.replaceStack((function(t){return[" != null ? ",t,' : ""']})),this.pushSource(this.appendToBuffer(this.popStack()));else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(t){this.lastContext=t},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(t,e,r,n){var i=0;n||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[i++])),this.resolvePath("context",t,i,e,r)},lookupBlockParam:function(t,e){this.useBlockParams=!0,this.push(["blockParams[",t[0],"][",t[1],"]"]),this.resolvePath("context",e,1)},lookupData:function(t,e,r){t?this.pushStackLiteral("container.data(data, "+t+")"):this.pushStackLiteral("data"),this.resolvePath("data",e,0,!0,r)},resolvePath:function(t,e,r,n,i){var o=this;if(this.options.strict||this.options.assumeObjects)this.push(function(t,e,r,n){var i=e.popStack(),o=0,a=r.length;for(t&&a--;o<a;o++)i=e.nameLookup(i,r[o],n);return t?[e.aliasable("container.strict"),"(",i,", ",e.quotedString(r[o]),", ",JSON.stringify(e.source.currentLocation)," )"]:i}(this.options.strict&&i,this,e,t));else for(var a=e.length;r<a;r++)this.replaceStack((function(i){var a=o.nameLookup(i,e[r],t);return n?[" && ",a]:[" != null ? ",a," : ",i]}))},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(t,e){this.pushContext(),this.pushString(e),"SubExpression"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(t){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(t?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(t.ids)),this.stringParams&&(this.push(this.objectLiteral(t.contexts)),this.push(this.objectLiteral(t.types))),this.push(this.objectLiteral(t.values))},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},registerDecorator:function(t,e){var r=this.nameLookup("decorators",e,"decorator"),n=this.setupHelperArgs(e,t);this.decorators.push(["fn = ",this.decorators.functionCall(r,"",["fn","props","container",n])," || fn;"])},invokeHelper:function(t,e,r){var n=this.popStack(),i=this.setupHelper(t,e),o=[];r&&o.push(i.name),o.push(n),this.options.strict||o.push(this.aliasable("container.hooks.helperMissing"));var a=["(",this.itemsSeparatedBy(o,"||"),")"],s=this.source.functionCall(a,"call",i.callParams);this.push(s)},itemsSeparatedBy:function(t,e){var r=[];r.push(t[0]);for(var n=1;n<t.length;n++)r.push(e,t[n]);return r},invokeKnownHelper:function(t,e){var r=this.setupHelper(t,e);this.push(this.source.functionCall(r.name,"call",r.callParams))},invokeAmbiguous:function(t,e){this.useRegister("helper");var r=this.popStack();this.emptyHash();var n=this.setupHelper(0,t,e),i=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",t,"helper")," || ",r,")"];this.options.strict||(i[0]="(helper = ",i.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",i,n.paramsInit?["),(",n.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",n.callParams)," : helper))"])},invokePartial:function(t,e,r){var n=[],i=this.setupParams(e,1,n);t&&(e=this.popStack(),delete i.name),r&&(i.indent=JSON.stringify(r)),i.helpers="helpers",i.partials="partials",i.decorators="container.decorators",t?n.unshift(e):n.unshift(this.nameLookup("partials",e,"partial")),this.options.compat&&(i.depths="depths"),i=this.objectLiteral(i),n.push(i),this.push(this.source.functionCall("container.invokePartial","",n))},assignToHash:function(t){var e=this.popStack(),r=void 0,n=void 0,i=void 0;this.trackIds&&(i=this.popStack()),this.stringParams&&(n=this.popStack(),r=this.popStack());var o=this.hash;r&&(o.contexts[t]=r),n&&(o.types[t]=n),i&&(o.ids[t]=i),o.values[t]=e},pushId:function(t,e,r){"BlockParam"===t?this.pushStackLiteral("blockParams["+e[0]+"].path["+e[1]+"]"+(r?" + "+JSON.stringify("."+r):"")):"PathExpression"===t?this.pushString(e):"SubExpression"===t?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:i,compileChildren:function(t,e){for(var r=t.children,n=void 0,i=void 0,o=0,a=r.length;o<a;o++){n=r[o],i=new this.compiler;var s=this.matchExistingProgram(n);if(null==s){this.context.programs.push("");var c=this.context.programs.length;n.index=c,n.name="program"+c,this.context.programs[c]=i.compile(n,e,this.context,!this.precompile),this.context.decorators[c]=i.decorators,this.context.environments[c]=n,this.useDepths=this.useDepths||i.useDepths,this.useBlockParams=this.useBlockParams||i.useBlockParams,n.useDepths=this.useDepths,n.useBlockParams=this.useBlockParams}else n.index=s.index,n.name="program"+s.index,this.useDepths=this.useDepths||s.useDepths,this.useBlockParams=this.useBlockParams||s.useBlockParams}},matchExistingProgram:function(t){for(var e=0,r=this.context.environments.length;e<r;e++){var n=this.context.environments[e];if(n&&n.equals(t))return n}},programExpression:function(t){var e=this.environment.children[t],r=[e.index,"data",e.blockParams];return(this.useBlockParams||this.useDepths)&&r.push("blockParams"),this.useDepths&&r.push("depths"),"container.program("+r.join(", ")+")"},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},push:function(t){return t instanceof n||(t=this.source.wrap(t)),this.inlineStack.push(t),t},pushStackLiteral:function(t){this.push(new n(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),t&&this.source.push(t)},replaceStack:function(t){var e=["("],r=void 0,i=void 0,o=void 0;if(!this.isInline())throw new c.default("replaceStack on non-inline");var a=this.popStack(!0);if(a instanceof n)e=["(",r=[a.value]],o=!0;else{i=!0;var s=this.incrStack();e=["((",this.push(s)," = ",a,")"],r=this.topStack()}var l=t.call(this,r);o||this.popStack(),i&&this.stackSlot--,this.push(e.concat(l,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;this.inlineStack=[];for(var e=0,r=t.length;e<r;e++){var i=t[e];if(i instanceof n)this.compileStack.push(i);else{var o=this.incrStack();this.pushSource([o," = ",i,";"]),this.compileStack.push(o)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),r=(e?this.inlineStack:this.compileStack).pop();if(!t&&r instanceof n)return r.value;if(!e){if(!this.stackSlot)throw new c.default("Invalid stack pop");this.stackSlot--}return r},topStack:function(){var t=this.isInline()?this.inlineStack:this.compileStack,e=t[t.length-1];return e instanceof n?e.value:e},contextName:function(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function(t){return this.source.quotedString(t)},objectLiteral:function(t){return this.source.objectLiteral(t)},aliasable:function(t){var e=this.aliases[t];return e?(e.referenceCount++,e):((e=this.aliases[t]=this.source.wrap(t)).aliasable=!0,e.referenceCount=1,e)},setupHelper:function(t,e,r){var n=[];return{params:n,paramsInit:this.setupHelperArgs(e,t,n,r),name:this.nameLookup("helpers",e,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(n)}},setupParams:function(t,e,r){var n={},i=[],o=[],a=[],s=!r,c=void 0;s&&(r=[]),n.name=this.quotedString(t),n.hash=this.popStack(),this.trackIds&&(n.hashIds=this.popStack()),this.stringParams&&(n.hashTypes=this.popStack(),n.hashContexts=this.popStack());var l=this.popStack(),u=this.popStack();(u||l)&&(n.fn=u||"container.noop",n.inverse=l||"container.noop");for(var h=e;h--;)c=this.popStack(),r[h]=c,this.trackIds&&(a[h]=this.popStack()),this.stringParams&&(o[h]=this.popStack(),i[h]=this.popStack());return s&&(n.args=this.source.generateArray(r)),this.trackIds&&(n.ids=this.source.generateArray(a)),this.stringParams&&(n.types=this.source.generateArray(o),n.contexts=this.source.generateArray(i)),this.options.data&&(n.data="data"),this.useBlockParams&&(n.blockParams="blockParams"),n},setupHelperArgs:function(t,e,r,n){var i=this.setupParams(t,e,r);return i.loc=JSON.stringify(this.source.currentLocation),i=this.objectLiteral(i),n?(this.useRegister("options"),r.push("options"),["options=",i]):r?(r.push(i),""):i}},function(){for(var t="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),e=i.RESERVED_WORDS={},r=0,n=t.length;r<n;r++)e[t[r]]=!0}(),i.isValidJavaScriptVariableName=function(t){return!i.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)},e.default=i,t.exports=e.default},function(t,e,r){"use strict";function n(t,e,r){if(a.isArray(t)){for(var n=[],i=0,o=t.length;i<o;i++)n.push(e.wrap(t[i],r));return n}return"boolean"==typeof t||"number"==typeof t?t+"":t}function i(t){this.srcFile=t,this.source=[]}var o=r(13).default;e.__esModule=!0;var a=r(5),s=void 0;s||((s=function(t,e,r,n){this.src="",n&&this.add(n)}).prototype={add:function(t){a.isArray(t)&&(t=t.join("")),this.src+=t},prepend:function(t){a.isArray(t)&&(t=t.join("")),this.src=t+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),i.prototype={isEmpty:function(){return!this.source.length},prepend:function(t,e){this.source.unshift(this.wrap(t,e))},push:function(t,e){this.source.push(this.wrap(t,e))},merge:function(){var t=this.empty();return this.each((function(e){t.add(["  ",e,"\n"])})),t},each:function(t){for(var e=0,r=this.source.length;e<r;e++)t(this.source[e])},empty:function(){var t=this.currentLocation||{start:{}};return new s(t.start.line,t.start.column,this.srcFile)},wrap:function(t){var e=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return t instanceof s?t:(t=n(t,this,e),new s(e.start.line,e.start.column,this.srcFile,t))},functionCall:function(t,e,r){return r=this.generateList(r),this.wrap([t,e?"."+e+"(":"(",r,")"])},quotedString:function(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(t){var e=this,r=[];o(t).forEach((function(i){var o=n(t[i],e);"undefined"!==o&&r.push([e.quotedString(i),":",o])}));var i=this.generateList(r);return i.prepend("{"),i.add("}"),i},generateList:function(t){for(var e=this.empty(),r=0,i=t.length;r<i;r++)r&&e.add(","),e.add(n(t[r],this));return e},generateArray:function(t){var e=this.generateList(t);return e.prepend("["),e.add("]"),e}},e.default=i,t.exports=e.default}])},function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r(2);function i(t,e,r,i){for(var o=[],a=Object(n.k)(),s=0,c=r.length;s<c;++s){var l=r[s];a=Object(n.p)(t,e,l[0],i),o.push((a[0]+a[2])/2,(a[1]+a[3])/2),e=l[l.length-1]}return o}},function(t,e,r){"use strict";function n(t,e,r,n,i){for(var o,a=[t[e],t[e+1]],s=[];e+n<r;e+=n){if(s[0]=t[e+n],s[1]=t[e+n+1],o=i(a,s))return o;a[0]=s[0],a[1]=s[1]}return!1}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";function n(t,e,r,n){for(var i=t[e],o=t[e+1],a=0,s=e+n;s<r;s+=n){var c=t[s],l=t[s+1];a+=Math.sqrt((c-i)*(c-i)+(l-o)*(l-o)),i=c,o=l}return a}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";var n,i=r(203),o=r(228),a=r(7),s=r(1),c=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),l=[null,"http://www.opengis.net/wms"],u=Object(s.r)(l,{Service:Object(s.n)((function(t,e){return Object(s.u)({},p,t,e)})),Capability:Object(s.n)((function(t,e){return Object(s.u)({},h,t,e)}))}),h=Object(s.r)(l,{Request:Object(s.n)((function(t,e){return Object(s.u)({},O,t,e)})),Exception:Object(s.n)((function(t,e){return Object(s.u)([],g,t,e)})),Layer:Object(s.n)((function(t,e){return Object(s.u)({},_,t,e)}))}),f=function(t){function e(){var e=t.call(this)||this;return e.version=void 0,e}return c(e,t),e.prototype.readFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null},e.prototype.readFromNode=function(t){this.version=t.getAttribute("version").trim();var e=Object(s.u)({version:this.version},u,t,[]);return e||null},e}(o.a),p=Object(s.r)(l,{Name:Object(s.n)(a.h),Title:Object(s.n)(a.h),Abstract:Object(s.n)(a.h),KeywordList:Object(s.n)(L),OnlineResource:Object(s.n)(i.a),ContactInformation:Object(s.n)((function(t,e){return Object(s.u)({},d,t,e)})),Fees:Object(s.n)(a.h),AccessConstraints:Object(s.n)(a.h),LayerLimit:Object(s.n)(a.f),MaxWidth:Object(s.n)(a.f),MaxHeight:Object(s.n)(a.f)}),d=Object(s.r)(l,{ContactPersonPrimary:Object(s.n)((function(t,e){return Object(s.u)({},m,t,e)})),ContactPosition:Object(s.n)(a.h),ContactAddress:Object(s.n)((function(t,e){return Object(s.u)({},y,t,e)})),ContactVoiceTelephone:Object(s.n)(a.h),ContactFacsimileTelephone:Object(s.n)(a.h),ContactElectronicMailAddress:Object(s.n)(a.h)}),m=Object(s.r)(l,{ContactPerson:Object(s.n)(a.h),ContactOrganization:Object(s.n)(a.h)}),y=Object(s.r)(l,{AddressType:Object(s.n)(a.h),Address:Object(s.n)(a.h),City:Object(s.n)(a.h),StateOrProvince:Object(s.n)(a.h),PostCode:Object(s.n)(a.h),Country:Object(s.n)(a.h)}),g=Object(s.r)(l,{Format:Object(s.j)(a.h)}),_=Object(s.r)(l,{Name:Object(s.n)(a.h),Title:Object(s.n)(a.h),Abstract:Object(s.n)(a.h),KeywordList:Object(s.n)(L),CRS:Object(s.m)(a.h),EX_GeographicBoundingBox:Object(s.n)((function(t,e){var r=Object(s.u)({},v,t,e);if(!r)return;var n=r.westBoundLongitude,i=r.southBoundLatitude,o=r.eastBoundLongitude,a=r.northBoundLatitude;if(void 0===n||void 0===i||void 0===o||void 0===a)return;return[n,i,o,a]})),BoundingBox:Object(s.m)((function(t,e){var r=[Object(a.e)(t.getAttribute("minx")),Object(a.e)(t.getAttribute("miny")),Object(a.e)(t.getAttribute("maxx")),Object(a.e)(t.getAttribute("maxy"))],n=[Object(a.e)(t.getAttribute("resx")),Object(a.e)(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:r,res:n}})),Dimension:Object(s.m)((function(t,e){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:Object(a.b)(t.getAttribute("multipleValues")),nearestValue:Object(a.b)(t.getAttribute("nearestValue")),current:Object(a.b)(t.getAttribute("current")),values:Object(a.h)(t)}})),Attribution:Object(s.n)((function(t,e){return Object(s.u)({},b,t,e)})),AuthorityURL:Object(s.m)((function(t,e){var r=P(t,e);if(r)return r.name=t.getAttribute("name"),r;return})),Identifier:Object(s.m)(a.h),MetadataURL:Object(s.m)((function(t,e){var r=P(t,e);if(r)return r.type=t.getAttribute("type"),r;return})),DataURL:Object(s.m)(P),FeatureListURL:Object(s.m)(P),Style:Object(s.m)((function(t,e){return Object(s.u)({},x,t,e)})),MinScaleDenominator:Object(s.n)(a.d),MaxScaleDenominator:Object(s.n)(a.d),Layer:Object(s.m)((function(t,e){var r=e[e.length-1],n=Object(s.u)({},_,t,e);if(!n)return;var i=Object(a.b)(t.getAttribute("queryable"));void 0===i&&(i=r.queryable);n.queryable=void 0!==i&&i;var o=Object(a.g)(t.getAttribute("cascaded"));void 0===o&&(o=r.cascaded);n.cascaded=o;var c=Object(a.b)(t.getAttribute("opaque"));void 0===c&&(c=r.opaque);n.opaque=void 0!==c&&c;var l=Object(a.b)(t.getAttribute("noSubsets"));void 0===l&&(l=r.noSubsets);n.noSubsets=void 0!==l&&l;var u=Object(a.e)(t.getAttribute("fixedWidth"));u||(u=r.fixedWidth);n.fixedWidth=u;var h=Object(a.e)(t.getAttribute("fixedHeight"));h||(h=r.fixedHeight);n.fixedHeight=h,["Style","CRS","AuthorityURL"].forEach((function(t){if(t in r){var e=n[t]||[];n[t]=e.concat(r[t])}}));return["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"].forEach((function(t){if(!(t in n)){var e=r[t];n[t]=e}})),n}))}),b=Object(s.r)(l,{Title:Object(s.n)(a.h),OnlineResource:Object(s.n)(i.a),LogoURL:Object(s.n)(I)}),v=Object(s.r)(l,{westBoundLongitude:Object(s.n)(a.d),eastBoundLongitude:Object(s.n)(a.d),southBoundLatitude:Object(s.n)(a.d),northBoundLatitude:Object(s.n)(a.d)}),O=Object(s.r)(l,{GetCapabilities:Object(s.n)(T),GetMap:Object(s.n)(T),GetFeatureInfo:Object(s.n)(T)}),w=Object(s.r)(l,{Format:Object(s.m)(a.h),DCPType:Object(s.m)((function(t,e){return Object(s.u)({},M,t,e)}))}),M=Object(s.r)(l,{HTTP:Object(s.n)((function(t,e){return Object(s.u)({},E,t,e)}))}),E=Object(s.r)(l,{Get:Object(s.n)(P),Post:Object(s.n)(P)}),x=Object(s.r)(l,{Name:Object(s.n)(a.h),Title:Object(s.n)(a.h),Abstract:Object(s.n)(a.h),LegendURL:Object(s.m)(I),StyleSheetURL:Object(s.n)(P),StyleURL:Object(s.n)(P)}),S=Object(s.r)(l,{Format:Object(s.n)(a.h),OnlineResource:Object(s.n)(i.a)}),j=Object(s.r)(l,{Keyword:Object(s.j)(a.h)});function P(t,e){return Object(s.u)({},S,t,e)}function T(t,e){return Object(s.u)({},w,t,e)}function I(t,e){var r=P(t,e);if(r){var n=[Object(a.g)(t.getAttribute("width")),Object(a.g)(t.getAttribute("height"))];return r.size=n,r}}function L(t,e){return Object(s.u)([],j,t,e)}e.a=f},function(t,e,r){"use strict";var n=r(0);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(a)?a:String(a)),n)}var o,a}function s(){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=c(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function c(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}function l(t,e){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h(this,r)}}function h(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(h,t);var e,r,i,c=u(h);function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,h);var e=t;return Object(n.X)(t.tileLoadFunction)&&(e.tileLoadFunction=h.tileLoadFunction),c.call(this,e)}return e=h,i=[{key:"tileLoadFunction",value:function(t,e){t.getImage().src="".concat(e,"&_= ").concat(this.revision_)}}],(r=[{key:"changed",value:function(){Object(n.X)(this.tileCache)||this.tileCache.clear(),s(f(h.prototype),"changed",this).call(this)}}])&&a(e.prototype,r),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),h}(r(195).a);e.a=p},function(t,e,r){"use strict";var n=r(2),i=r(14),o=r(4),a=function(){function t(t,e,r,i,a,s){this.sourceProj_=t,this.targetProj_=e;var c={},l=Object(o.l)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return c[e]||(c[e]=l(t)),c[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&Object(n.G)(i)==Object(n.G)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Object(n.G)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Object(n.G)(this.targetProj_.getExtent()):null;var u=Object(n.E)(r),h=Object(n.F)(r),f=Object(n.x)(r),p=Object(n.w)(r),d=this.transformInv_(u),m=this.transformInv_(h),y=this.transformInv_(f),g=this.transformInv_(p),_=10+(s?Math.max(0,Math.ceil(Math.log2(Object(n.v)(r)/(s*s*256*256)))):0);if(this.addQuad_(u,h,f,p,d,m,y,g,_),this.wrapsXInSource_){var b=1/0;this.triangles_.forEach((function(t,e,r){b=Math.min(b,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-b>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-b>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-b>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-b>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var r=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-r<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}c={}}return t.prototype.addTriangle_=function(t,e,r,n,i,o){this.triangles_.push({source:[n,i,o],target:[t,e,r]})},t.prototype.addQuad_=function(t,e,r,o,a,s,c,l,u){var h=Object(n.c)([a,s,c,l]),f=this.sourceWorldWidth_?Object(n.G)(h)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&f>.5&&f<1,m=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var y=Object(n.c)([t,e,r,o]);m=Object(n.G)(y)/this.targetWorldWidth_>.25||m}!d&&this.sourceProj_.isGlobal()&&f&&(m=f>.25||m)}if(m||!this.maxSourceExtent_||Object(n.H)(h,this.maxSourceExtent_)){if(!(m||isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(c[0])&&isFinite(c[1])&&isFinite(l[0])&&isFinite(l[1]))){if(!(u>0))return;m=!0}if(u>0){if(!m){var g=[(t[0]+r[0])/2,(t[1]+r[1])/2],_=this.transformInv_(g),b=void 0;if(d)b=(Object(i.d)(a[0],p)+Object(i.d)(c[0],p))/2-Object(i.d)(_[0],p);else b=(a[0]+c[0])/2-_[0];var v=(a[1]+c[1])/2-_[1];m=b*b+v*v>this.errorThresholdSquared_}if(m){if(Math.abs(t[0]-r[0])<=Math.abs(t[1]-r[1])){var O=[(e[0]+r[0])/2,(e[1]+r[1])/2],w=this.transformInv_(O),M=[(o[0]+t[0])/2,(o[1]+t[1])/2],E=this.transformInv_(M);this.addQuad_(t,e,O,M,a,s,w,E,u-1),this.addQuad_(M,O,r,o,E,w,c,l,u-1)}else{var x=[(t[0]+e[0])/2,(t[1]+e[1])/2],S=this.transformInv_(x),j=[(r[0]+o[0])/2,(r[1]+o[1])/2],P=this.transformInv_(j);this.addQuad_(t,x,j,o,a,S,P,l,u-1),this.addQuad_(x,e,r,j,S,s,c,P,u-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,r,o,a,c,l),this.addTriangle_(t,e,r,a,s,c)}},t.prototype.calculateSourceExtent=function(){var t=Object(n.k)();return this.triangles_.forEach((function(e,r,i){var o=e.source;Object(n.s)(t,o[0]),Object(n.s)(t,o[1]),Object(n.s)(t,o[2])})),t},t.prototype.getTriangles=function(){return this.triangles_},t}();e.a=a},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===n(a)?a:String(a)),i)}var o,a}function a(){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=s(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function s(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}function c(t,e){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h(t);if(e){var i=h(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return u(this,r)}}function u(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(u,t);var e,r,n,s=l(u);function u(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,u);var r=e;return(t=s.call(this,r)).imageLoadFunction_=r.imageLoadFunction||t.imageLoadFunction,t}return e=u,(r=[{key:"changed",value:function(){a(h(u.prototype),"changed",this).call(this)}},{key:"imageLoadFunction",value:function(t,e){t.getImage().src="".concat(e,"&_=").concat(this.revision_)}}])&&o(e.prototype,r),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(r(196).a);e.a=f},function(t,e,r){"use strict";var n,i=r(10),o=r(35),a=r(95),s=r(16),c=r(61),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),u=function(t){function e(e){var r=t.call(this)||this;return r.boundHandleImageChange_=r.handleImageChange_.bind(r),r.layer_=e,r}return l(e,t),e.prototype.getFeatures=function(t){return Object(i.b)()},e.prototype.prepareFrame=function(t){return Object(i.b)()},e.prototype.renderFrame=function(t,e){return Object(i.b)()},e.prototype.loadedTileCallback=function(t,e,r){t[e]||(t[e]={}),t[e][r.tileCoord.toString()]=r},e.prototype.createLoadedTileFinder=function(t,e,r){return function(n,i){var o=this.loadedTileCallback.bind(this,r,n);return t.forEachLoadedTile(e,n,i,o)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,r,n,i){},e.prototype.getDataAtPixel=function(t,e,r){return Object(i.b)()},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){t.target.getState()===o.a.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return e!=o.a.LOADED&&e!=o.a.ERROR&&t.addEventListener(s.a.CHANGE,this.boundHandleImageChange_),e==o.a.IDLE&&(t.load(),e=t.getState()),e==o.a.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==c.a.READY&&t.changed()},e}(a.a);e.a=u},function(t,e,r){"use strict";var n,i=r(113),o=r(190),a=r(15),s=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),c=function(t){function e(e){var r=this,n=e||{},i=Object(a.a)({},n);return delete i.preload,delete i.useInterimTilesOnError,(r=t.call(this,i)||this).setPreload(void 0!==n.preload?n.preload:0),r.setUseInterimTilesOnError(void 0===n.useInterimTilesOnError||n.useInterimTilesOnError),r}return s(e,t),e.prototype.getPreload=function(){return this.get(o.a.PRELOAD)},e.prototype.setPreload=function(t){this.set(o.a.PRELOAD,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(o.a.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setUseInterimTilesOnError=function(t){this.set(o.a.USE_INTERIM_TILES_ON_ERROR,t)},e}(i.a);e.a=c},function(t,e,r){"use strict";var n,i=r(113),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(t){function e(e){var r=e||{};return t.call(this,r)||this}return o(e,t),e}(i.a);e.a=a},function(t,e,r){"use strict";var n,i=r(293),o=r(380),a=r(381),s=r(15),c=r(292),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),u=function(t){function e(e){return(e=Object(s.a)({},e)).controls||(e.controls=Object(o.a)()),e.interactions||(e.interactions=Object(a.a)()),t.call(this,e)||this}return l(e,t),e.prototype.createRenderer=function(){return new c.a(this)},e}(i.a);e.a=u},function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var n=r(67),i=r(173),o=r(257),a=r(209);function s(t){var e=t||{},r=new n.a;return(void 0===e.zoom||e.zoom)&&r.push(new a.a(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&r.push(new o.a(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&r.push(new i.a(e.attributionOptions)),r}},function(t,e,r){"use strict";r.d(e,"a",(function(){return m}));var n=r(67),i=r(382),o=r(210),a=r(259),s=r(258),c=r(264),l=r(266),u=r(262),h=r(263),f=r(260),p=r(261),d=r(32);function m(t){var e=t||{},r=new n.a,m=new i.a(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&r.push(new s.a),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&r.push(new o.a({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&r.push(new a.a({condition:e.onFocusOnly?d.f:void 0,kinetic:m})),(void 0===e.pinchRotate||e.pinchRotate)&&r.push(new f.a),(void 0===e.pinchZoom||e.pinchZoom)&&r.push(new p.a({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(r.push(new l.a),r.push(new u.a({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&r.push(new h.a({condition:e.onFocusOnly?d.f:void 0,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&r.push(new c.a({duration:e.zoomDuration})),r}},function(t,e,r){"use strict";var n=function(){function t(t,e,r){this.decay_=t,this.minVelocity_=e,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var r=e-3;r>0&&this.points_[r+2]>t;)r-=3;var n=this.points_[e+2]-this.points_[r+2];if(n<1e3/60)return!1;var i=this.points_[e]-this.points_[r],o=this.points_[e+1]-this.points_[r+1];return this.angle_=Math.atan2(o,i),this.initialVelocity_=Math.sqrt(i*i+o*o)/n,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}();e.a=n},function(t,e,r){"use strict";var n,i=r(10),o=r(67),a=r(72),s=r(33),c=r(132),l=r(19),u=r(17),h=r(16),f=r(2),p=r(275),d=r(15),m=r(61),y=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),g="layers",_=function(t){function e(e){var r=this,n=e||{},i=Object(d.a)({},n);delete i.layers;var a=n.layers;return(r=t.call(this,i)||this).layersListenerKeys_=[],r.listenerKeys_={},r.addEventListener(Object(s.b)(g),r.handleLayersChanged_),a?Array.isArray(a)?a=new o.a(a.slice(),{unique:!0}):Object(l.a)("function"==typeof a.getArray,43):a=new o.a(void 0,{unique:!0}),r.setLayers(a),r}return y(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(u.c),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(Object(u.a)(t,a.a.ADD,this.handleLayersAdd_,this),Object(u.a)(t,a.a.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(u.c);Object(d.b)(this.listenerKeys_);for(var r=t.getArray(),n=0,o=r.length;n<o;n++){var s=r[n];this.listenerKeys_[Object(i.c)(s)]=[Object(u.a)(s,c.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(u.a)(s,h.a.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[Object(i.c)(e)]=[Object(u.a)(e,c.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(u.a)(e,h.a.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,r=Object(i.c)(e);this.listenerKeys_[r].forEach(u.c),delete this.listenerKeys_[r],this.changed()},e.prototype.getLayers=function(){return this.get(g)},e.prototype.setLayers=function(t){this.set(g,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach((function(t){t.getLayersArray(e)})),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],r=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));for(var n=this.getLayerState(),i=r,o=e.length;i<o;i++){var a=e[i];a.opacity*=n.opacity,a.visible=a.visible&&n.visible,a.maxResolution=Math.min(a.maxResolution,n.maxResolution),a.minResolution=Math.max(a.minResolution,n.minResolution),a.minZoom=Math.max(a.minZoom,n.minZoom),a.maxZoom=Math.min(a.maxZoom,n.maxZoom),void 0!==n.extent&&(void 0!==a.extent?a.extent=Object(f.C)(a.extent,n.extent):a.extent=n.extent)}return e},e.prototype.getSourceState=function(){return m.a.READY},e}(p.a);e.a=_},function(t,e,r){"use strict";var n=r(23),i=r(78),o=r(127),a=r(0),s=r(324),c=r(6),l=r(3),u=r(326),h=r(75),f=r(84),p=r(11),d=r(9),m=r(410),y=r(91),g=r(52),_=r(74),b=r(327),v=r(299),O=r(330),w=r(300),E=r(301),x=r(302),S=r(220),j=r(224),P=r(51),T=r(12),I=r(77),L=r(222),R=r(204),C=r(133),A=r(159),k=r(169),N=r(247),D=r(418),F=r(419),B=r(141),U=r(81),G=r(243),z=r(103),W=r(304),X=r(244),q=r(305),V=r(161),Y=r(291),Z=r(306);function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||Q(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(t){return function(t){if(Array.isArray(t))return $(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Q(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(t,e){if(t){if("string"==typeof t)return $(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$(t,e):void 0}}function $(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function et(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tt(Object(r),!0).forEach((function(e){rt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function rt(t,e,r){return(e=ot(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function it(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ot(n.key),n)}}function ot(t){var e=function(t,e){if("object"!==K(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==K(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===K(e)?e:String(e)}function at(){return(at="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=st(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function st(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ft(t)););return t}function ct(t,e){return(ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ft(t);if(e){var i=ft(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return ut(this,r)}}function ut(t,e){if(e&&("object"===K(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ht(t)}function ht(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ft(t){return(ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var pt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ct(t,e)}($,t);var e,r,i,Q=lt($);function $(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};nt(this,$);var o=new f.a(t),s=et({viewExtent:o.viewExtent},r);e=Q.call(this);var u=new n.a(o.container,ht(e),s,i);if(e.setImpl(u),Object(a.X)(t)&&Object(l.a)(Object(c.e)("exception").no_param),Object(a.ab)(n.a)&&Object(l.a)(Object(c.e)("exception").constructor_impl),e._panels=[],e._plugins=[],e._areasContainer=null,e.popup_=null,e._defaultProj=!0,e.panel={LEFT:null,RIGHT:"null"},e._userZoom=null,e.userCenter_=null,e._finishedInitCenter=!0,e._finishedMaxExtent=!0,e._finishedMapImpl=!1,e._finishedMap=!1,e.centerFeature_=null,e.drawLayer_=null,e.userMaxExtent=null,e.collectionCapabilities=[],e.evtSetAttributions_(),e.evtRemoveAttributions_(),e.controlAttributions=null,e._attributionsMap=[],o.container.classList.add("m-mapea-container"),u.on(d.u,(function(){e._finishedMapImpl=!0,e._checkCompleted()})),e.createMainPanels_(),e.featuresHandler_=new m.a,e.featuresHandler_.addTo(ht(e)),e.featuresHandler_.activate(),e.drawLayer_=new I.a({name:"__draw__"},{displayInLayerSwitcher:!1}),e.drawLayer_.setStyle(new z.a($.DRAWLAYER_STYLE)),e.drawLayer_.setZIndex(n.a.Z_INDEX[T.WFS]+999),e.addLayers(e.drawLayer_),Object(a.X)(o.projection)?e.setProjection(M.config.DEFAULT_PROJ,!0):e.setProjection(o.projection),Object(a.X)(o.bbox)||e.setBbox(o.bbox),Object(a.X)(o.resolutions)||e.setResolutions(o.resolutions),!Object(a.X)(o.maxExtent)){var h=Object(a.X)(o.zoom)&&Object(a.X)(o.bbox);e.setMaxExtent(o.maxExtent,h)}Object(a.X)(o.layers)||e.addLayers(o.layers),Object(a.X)(o.wms)||e.addWMS(o.wms),Object(a.X)(o.wmts)||e.addWMTS(o.wmts),Object(a.X)(o.kml)||e.addKML(o.kml),Object(a.X)(o.controls)||e.addControls(o.controls),Object(a.X)(o.layers)&&!Object(a.R)(o.layers)&&e.addQuickLayers(M.config.tms.base),Object(a.X)(o.center)||e.setCenter(o.center),Object(a.X)(o.zoom)?Object(a.X)(o.bbox)&&e.setZoom(0):e.setZoom(o.zoom),Object(a.X)(o.zoomConstrains)?e.setZoomConstrains(!0):e.setZoomConstrains(o.zoomConstrains),Object(a.X)(o.minZoom)||e.setMinZoom(o.minZoom),Object(a.X)(o.maxZoom)||e.setMaxZoom(o.maxZoom),Object(a.X)(o.label)||e.addLabel(o.label),Object(a.X)(o.ticket)||e.setTicket(o.ticket),Object(a.X)(o.bbox)&&Object(a.X)(o.zoom)&&Object(a.X)(o.center)&&e.zoomToMaxExtent(!0),Object(a.X)(o.center)&&Object(a.X)(o.bbox)&&(e._finishedInitCenter=!1,e.getInitCenter_().then((function(t){Object(a.X)(e.userCenter_)&&e.setCenter(t),e._finishedInitCenter=!0,e._checkCompleted()})));var p=!!Object(a.ab)(t.dropFile)||t.dropFile;return p&&e.addDropFileEvent(),e}return e=$,i=[{key:"LAYER_SORT",value:function(t,e,r){if(!Object(a.X)(t)&&!Object(a.X)(e)){var n=t.getZIndex()-e.getZIndex();return 0!==n||Object(a.ab)(r)?n:r.getImpl().layers_.findIndex((function(e){return e.name===t.name}))-r.getImpl().layers_.findIndex((function(t){return t.name===e.name}))}return 0}}],(r=[{key:"addDropFileEvent",value:function(){var t=this,e=this.getContainer().parentNode.parentNode;e.addEventListener("dragover",(function(t){t.preventDefault()}),!1),e.addEventListener("dragleave",(function(t){t.preventDefault()}),!1),e.addEventListener("drop",(function(e){e.stopPropagation(),e.preventDefault();var r=e.dataTransfer.files;Object(s.a)(t,r[0])}),!1)}},{key:"createAttribution",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.getControls().some((function(t){return"attributions"===t.name}))){var e=t.tooltip,r=t.position,n=t.scale,i=t.collectionsAttributions,o=void 0===i?[]:i,a=t.order,s=new Z.a({map:this,scale:n,collectionsAttributions:o.map((function(t){if("string"!=typeof t){var e=t;return e.id=window.crypto.randomUUID?window.crypto.randomUUID():(new Date).getTime(),e}return t})),order:a}),l=new B.a(Z.a.NAME,{collapsible:!0,position:U[r]||U.BR,className:"m-attributions",collapsedButtonClass:"g-cartografia-comentarios",tooltip:e||Object(c.e)("attributions").tooltip,order:a});this.addPanels(l),l.addControls(s),this.getImpl().addControls([s]),this.controlAttributions=s,o&&(this._attributionsMap=[].concat(J(this._attributionsMap),J(o)))}}},{key:"addAttribution",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{if(0===Object.keys(t).length)return}catch(t){return void console.error("El tipo tiene que ser object")}var r=this.getControls().filter((function(t){return"attributions"===t.name}))[0];if(r){var n=null;"string"==typeof t?(n={},n.attribuccion=t):t&&r&&(n=t),n.id=window.crypto.randomUUID?window.crypto.randomUUID():(new Date).getTime(),r.addAttributions(n),e&&this._attributionsMap.push(n)}}},{key:"removeAttribution",value:function(t){if(t){var e=this.controlAttributions.getAttributions().filter((function(e){return e.id!==t}));e=e.filter((function(e){return e.name!==t})),this.controlAttributions.setAttributions(e)}}},{key:"getAttributions",value:function(t){return t?this.controlAttributions.getAttributions():this._attributionsMap}},{key:"getLayers",value:function(t){var e=this,r=t;Object(a.ab)(n.a.prototype.getLayers)&&Object(l.a)(Object(c.e)("exception").getlayers_method),Object(a.W)(r)?r=[]:Object(a.R)(r)||(r=[r]);var i=[];return r.length>0&&(i=r.map(p.Cb)),this.getImpl().getLayers(i).sort((function(t,r){return $.LAYER_SORT(t,r,e)}))}},{key:"getRootLayers",value:function(t){return this.getLayers(t).filter((function(t){return Object(a.X)(t.group)}))}},{key:"getBaseLayers",value:function(){return Object(a.ab)(n.a.prototype.getBaseLayers)&&Object(l.a)(Object(c.e)("exception").getbaselayers_method),this.getImpl().getBaseLayers()}},{key:"getFeatureHandler",value:function(){return this.featuresHandler_}},{key:"addLayers",value:function(t){var e=this,r=t;if(!Object(a.X)(r)){Object(a.ab)(n.a.prototype.addLayers)&&Object(l.a)(Object(c.e)("exception").addlayers_method),Object(a.R)(r)||(r=[r]);var i=r.map((function(t){var r;if(Object(a.Z)(t)){var n=t.split("*");if(2===n.length&&"QUICK"===n[0]){var i=Object(o.c)(n[1]);if(Object(a.ab)(i))return console.error("No se encuentra definida ".concat(n[1]," como capa rpida")),null;t=i}}if(t instanceof P.a)r=t;else{var s=p.Cb(t);if(Object(a.X)(s.type))g.error(Object(c.e)("dialog").invalid_type_layer);else switch(s.type){case"WFS":r=new R.a(t,{style:s.style});break;case"WMS":r=new C.a(t);break;case"GeoJSON":r=new G.a(s,{style:s.style});break;case"KML":r=new L.a(t);break;case"Vector":r=new I.a(t);break;case"WMTS":r=new A.a(t);break;case"MVT":r=new k.a(t);break;case"MBTiles":r=new W.a(s);break;case"MBTilesVector":r=new X.a(s,{style:s.style});break;case"XYZ":r=new q.a(s);break;case"TMS":r=new V.a(s,{crossOrigin:s.crossOrigin});break;case"OSM":r=new Y.a(t);break;case"OGCAPIFeatures":r=new N.a(t,{style:s.style});break;case"GenericRaster":r=new D.a(t);break;case"GenericVector":r=new F.a(t);break;default:g.error(Object(c.e)("dialog").invalid_type_layer)}}return e.collectorCapabilities_(r),!(r instanceof I.a)||r instanceof R.a||r instanceof N.a||e.featuresHandler_.addLayer(r),r.setMap(e),r}));this.getImpl().addLayers(i.filter((function(t){return null!==t})))}return this}},{key:"collectorCapabilities_",value:function(t){var e=this,r=t;if(Object(a.R)(r)||(r=[r]),"__draw__"!==r[0].name){var n=[];r.forEach((function(t){var r="",i="",o=!0;if("string"==typeof t){var a=H(t.split("*"),1)[0],s=p.Cb(t,T[a]);r=s.type,i=s.url,o=s.useCapabilities}else"object"===K(t)&&(r=t.type,i=t.url,o=t.useCapabilities);e.collectionCapabilities.filter((function(t){return t.url===i})).length>0||"WMS"!==r&&"WMTS"!==r||!o||0===n.filter((function(t){return t.url===i})).length&&e.collectionCapabilities.push({type:r,url:i,capabilities:!1})}))}}},{key:"removeLayers",value:function(t){var e=this;if(!Object(a.X)(t)){Object(a.ab)(n.a.prototype.removeLayers)&&Object(l.a)(Object(c.e)("exception").removelayers_method);var r=this.getLayers(t);r.forEach((function(t){t instanceof I.a&&e.featuresHandler_.removeLayer(t)})),this.getImpl().removeLayers(r)}return this}},{key:"getKML",value:function(t){var e=t;Object(a.ab)(n.a.prototype.getKML)&&Object(l.a)(Object(c.e)("exception").getkml_method),Object(a.W)(e)?e=[]:Object(a.R)(e)||(e=[e]);var r=[];return e.length>0&&(r=e.map((function(t){return p.Cb(t,T.KML)}))),this.getImpl().getKML(r).sort($.LAYER_SORT)}},{key:"addKML",value:function(t){var e=this,r=t;if(!Object(a.X)(r)){Object(a.ab)(n.a.prototype.addKML)&&Object(l.a)(Object(c.e)("exception").addkml_method),Object(a.R)(r)||(r=[r]);var i=[];r.forEach((function(t){var r;Object(a.Y)(t)&&t instanceof L.a?r=t:t instanceof P.a||(r=new L.a(t,t.options)),!0===r.extract&&e.featuresHandler_.addLayer(r),i.push(r)})),this.getImpl().addKML(i),this.fire(d.c,[i]),this.fire(d.b,[i])}return this}},{key:"removeKML",value:function(t){var e=this;if(!Object(a.X)(t)){Object(a.ab)(n.a.prototype.removeKML)&&Object(l.a)(Object(c.e)("exception").removekml_method);var r=this.getKML(t);r.length>0&&(this.fire(d.E,[r]),r.forEach((function(t){e.featuresHandler_.removeLayer(t)})),this.getImpl().removeKML(r))}return this}},{key:"getWMS",value:function(t){var e=t;Object(a.ab)(n.a.prototype.getWMS)&&Object(l.a)(Object(c.e)("exception").getwms_method),Object(a.W)(e)?e=[]:Object(a.R)(e)||(e=[e]);var r=[];return e.length>0&&(r=e.map((function(t){return p.Cb(t,T.WMS)}))),this.getImpl().getWMS(r).sort($.LAYER_SORT)}},{key:"addWMS",value:function(t){var e=this,r=t;if(!Object(a.X)(r)){Object(a.ab)(n.a.prototype.addWMS)&&Object(l.a)(Object(c.e)("exception").addwms_method),Object(a.R)(r)||(r=[r]),this.collectorCapabilities_(r);var i=[];r.forEach((function(t){var r=t;t instanceof C.a||(r=new C.a(t,t.options)),r.setMap(e),i.push(r)})),this.getImpl().addWMS(i),this.fire(d.c,[i]),this.fire(d.m,[i])}return this}},{key:"removeWMS",value:function(t){if(!Object(a.X)(t)){Object(a.ab)(n.a.prototype.removeWMS)&&Object(l.a)(Object(c.e)("exception").removewms_method);var e=this.getWMS(t);e.length>0&&(this.fire(d.E,[e]),this.getImpl().removeWMS(e))}return this}},{key:"getWFS",value:function(t){var e=t;Object(a.ab)(n.a.prototype.getWFS)&&Object(l.a)(Object(c.e)("exception").getwfs_method),Object(a.W)(e)?e=[]:Object(a.R)(e)||(e=[e]);var r=[];return e.length>0&&(r=e.map((function(t){return p.Cb(t,T.WFS)}))),this.getImpl().getWFS(r).sort($.LAYER_SORT)}},{key:"getGeoJSON",value:function(t){var e=t;return Object(a.ab)(n.a.prototype.getGeoJSON)&&Object(l.a)(Object(c.e)("exception").getgeojson_method),Object(a.W)(e)?e=[]:Object(a.R)(e)||(e=[e]),this.getImpl().getGeoJSON(e).sort($.LAYER_SORT)}},{key:"addWFS",value:function(t){var e=this,r=t;if(!Object(a.X)(r)){Object(a.ab)(n.a.prototype.addWFS)&&Object(l.a)(Object(c.e)("exception").addwfs_method),Object(a.R)(r)||(r=[r]);var i=[];r.forEach((function(t){var r;if(Object(a.Y)(t)&&t instanceof R.a)r=t;else if(!(t instanceof P.a))try{r=new R.a(t,t.options)}catch(t){throw g.error(t.toString()),t}e.featuresHandler_.addLayer(r),i.push(r)})),this.getImpl().addWFS(i),this.fire(d.c,[i]),this.fire(d.l,[i])}return this}},{key:"addUnknowLayers_",value:function(t){var e=t;Object(a.R)(e)||(e=[e]);var r=[];e.forEach((function(t){Object(a.Y)(t)&&"__draw__"!==t.name&&r.push(t)})),this.fire(d.c,[r])}},{key:"removeWFS",value:function(t){var e=this;if(!Object(a.X)(t)){Object(a.ab)(n.a.prototype.removeWFS)&&Object(l.a)(Object(c.e)("exception").removewfs_method);var r=this.getWFS(t);r.length>0&&(this.fire(d.E,[r]),r.forEach((function(t){e.featuresHandler_.removeLayer(t)})),this.getImpl().removeWFS(r))}return this}},{key:"getOGCAPIFeatures",value:function(t){var e=t;Object(a.ab)(n.a.prototype.getOGCAPIFeatures)&&Object(l.a)(Object(c.e)("exception").getogcapif_method),Object(a.W)(e)?e=[]:Object(a.R)(e)||(e=[e]);var r=[];return e.length>0&&(r=e.map((function(t){return p.Cb(t,T.OGCAPIFeatures)}))),this.getImpl().getOGCAPIFeatures(r).sort($.LAYER_SORT)}},{key:"addOGCAPIFeatures",value:function(t){var e=this,r=t;if(!Object(a.X)(r)){Object(a.ab)(n.a.prototype.addOGCAPIFeatures)&&Object(l.a)(Object(c.e)("exception").addogcapif_method),Object(a.R)(r)||(r=[r]);var i=[];r.forEach((function(t){var r;if(Object(a.Y)(t)&&t instanceof N.a)r=t;else if(!(t instanceof P.a))try{r=new N.a(t,t.options)}catch(t){throw g.error(t.toString()),t}e.featuresHandler_.addLayer(r),i.push(r)})),this.getImpl().addOGCAPIFeatures(i),this.fire(d.c,[i]),this.fire(d.f,[i])}return this}},{key:"removeOGCAPIFeatures",value:function(t){var e=this;if(!Object(a.X)(t)){Object(a.ab)(n.a.prototype.removeOGCAPIFeatures)&&Object(l.a)(Object(c.e)("exception").removeogcapif_method);var r=this.getOGCAPIFeatures(t);r.length>0&&(this.fire(d.E,[r]),r.forEach((function(t){e.featuresHandler_.removeLayer(t)})),this.getImpl().removeOGCAPIFeatures(r))}return this}},{key:"getWMTS",value:function(t){var e=t;Object(a.ab)(n.a.prototype.getWMTS)&&Object(l.a)(Object(c.e)("exception").getwmts_method),Object(a.W)(e)?e=[]:Object(a.R)(e)||(e=[e]);var r=[];return e.length>0&&(r=e.map((function(t){return p.Cb(t,T.WMTS)}))),this.getImpl().getWMTS(r).sort($.LAYER_SORT)}},{key:"addWMTS",value:function(t){var e=this,r=t;if(!Object(a.X)(r)){Object(a.ab)(n.a.prototype.addWMTS)&&Object(l.a)(Object(c.e)("exception").addwmts_method),Object(a.R)(r)||(r=[r]),this.collectorCapabilities_(r);var i=[];r.forEach((function(t){if(Object(a.Y)(t)&&t instanceof A.a)t.setMap(e),i.push(t);else if(!(t instanceof P.a)){var r=new A.a(t,t.options);r.setMap(e),i.push(r)}})),this.getImpl().addWMTS(i),this.fire(d.c,[i]),this.fire(d.n,[i])}return this}},{key:"removeWMTS",value:function(t){if(!Object(a.X)(t)){Object(a.ab)(n.a.prototype.removeWMTS)&&Object(l.a)(Object(c.e)("exception").removewmts_method);var e=this.getWMTS(t);e.length>0&&(this.fire(d.E,[e]),this.getImpl().removeWMTS(e))}return this}},{key:"getMVT",value:function(t){var e=t;Object(a.ab)(n.a.prototype.getMVT)&&Object(l.a)("La implementacin usada no posee el mtodo getWFS"),Object(a.W)(e)?e=[]:Object(a.R)(e)||(e=[e]);var r=[];return e.length>0&&(r=e.map((function(t){return p.Cb(t,T.MVT)}))),this.getImpl().getMVT(r).sort($.LAYER_SORT)}},{key:"removeMVT",value:function(t){var e=this;if(!Object(a.X)(t)){Object(a.ab)(n.a.prototype.removeMVT)&&Object(l.a)("La implementacin usada no posee el mtodo removeWFS");var r=this.getMVT(t);r.length>0&&(this.fire(d.E,[r]),r.forEach((function(t){e.featuresHandler_.removeLayer(t)})),this.getImpl().removeMVT(r))}return this}},{key:"addMVT",value:function(t){var e=t;if(!Object(a.X)(e)){Object(a.ab)(n.a.prototype.addMVT)&&Object(l.a)("La implementacin usada no posee el mtodo addWFS"),Object(a.R)(e)||(e=[e]);var r=[];e.forEach((function(t){var e;if(Object(a.Y)(t)&&t instanceof k.a)e=t;else if(!(t instanceof P.a))try{e=new k.a(t,t.options)}catch(t){throw g.error(t.toString()),t}r.push(e)})),this.getImpl().addMVT(r),this.fire(d.c,[r]),this.fire(d.k,[r])}return this}},{key:"getMBTiles",value:function(t){var e=t;Object(a.W)(e)?e=[]:Object(a.R)(e)||(e=[e]);var r=[];return e.length>0&&(r=e.map((function(t){return p.Cb(t,T.MBTiles)}))),this.getImpl().getMBTiles(r).sort($.LAYER_SORT)}},{key:"addMBTiles",value:function(t){var e=this,r=t;if(!Object(a.X)(r)){Object(a.R)(r)||(r=[r]);var n=[];r.forEach((function(t){var r=t;t instanceof W.a||(r=new W.a(t,t.options)),r.setMap(e),n.push(r)})),this.getImpl().addMBTiles(n),this.fire(d.c,[n]),this.fire(d.d,[n])}return this}},{key:"removeMBTiles",value:function(t){if(!Object(a.X)(t)){var e=this.getMBTiles(t);e.length>0&&(this.fire(d.E,[e]),this.getImpl().removeMBTiles(e))}return this}},{key:"getMBTilesVector",value:function(t){var e=t;Object(a.ab)(n.a.prototype.getMBTilesVector)&&Object(l.a)(Object(c.e)("exception").getmbtiles_method),Object(a.W)(e)?e=[]:Object(a.R)(e)||(e=[e]);var r=[];return e.length>0&&(r=e.map((function(t){return p.Cb(t,T.MBTilesVector)}))),this.getImpl().getMBTilesVector(r).sort($.LAYER_SORT)}},{key:"addMBTilesVector",value:function(t){var e=this,r=t;if(!Object(a.X)(r)){Object(a.ab)(n.a.prototype.addMBTilesVector)&&Object(l.a)(Object(c.e)("exception").addmbtiles_method),Object(a.R)(r)||(r=[r]);var i=[];r.forEach((function(t){Object(a.Y)(t)&&t instanceof X.a&&(t.setMap(e),i.push(t))})),this.getImpl().addMBTilesVector(i),this.fire(d.c,[i]),this.fire(d.e,[i])}return this}},{key:"removeMBTilesVector",value:function(t){if(!Object(a.X)(t)){Object(a.ab)(n.a.prototype.removeMBTilesVector)&&Object(l.a)(Object(c.e)("exception").removembtiles_method);var e=this.getMBTilesVector(t);e.length>0&&(this.fire(d.E,[e]),this.getImpl().removeMBTilesVector(e))}return this}},{key:"getXYZs",value:function(t){var e=t;Object(a.ab)(n.a.prototype.getXYZs)&&Object(l.a)(Object(c.e)("exception").getxyzs_method),Object(a.W)(e)?e=[]:Object(a.R)(e)||(e=[e]);var r=[];return e.length>0&&(r=e.map(p.Cb)),this.getImpl().getXYZs(r).sort($.LAYER_SORT)}},{key:"addXYZ",value:function(t){var e=this,r=t;if(!Object(a.X)(r)){Object(a.ab)(n.a.prototype.addXYZ)&&Object(l.a)(Object(c.e)("exception").addxyz_method),Object(a.R)(r)||(r=[r]);var i=[];r.forEach((function(t){if(Object(a.Y)(t)&&t instanceof q.a)t.setMap(e),i.push(t);else if(!(t instanceof P.a)){var r=new q.a(t,t.options);r.setMap(e),i.push(r)}})),this.getImpl().addXYZ(i),this.fire(d.c,[i]),this.fire(d.o,[i])}return this}},{key:"removeXYZ",value:function(t){if(!Object(a.X)(t)){Object(a.ab)(n.a.prototype.removeXYZ)&&Object(l.a)(Object(c.e)("exception").removexyz_method);var e=this.getXYZs(t);e.length>0&&(this.fire(d.E,[e]),this.getImpl().removeXYZ(e))}return this}},{key:"getTMS",value:function(t){var e=t;Object(a.ab)(n.a.prototype.getTMS)&&Object(l.a)(Object(c.e)("exception").gettms_method),Object(a.W)(e)?e=[]:Object(a.R)(e)||(e=[e]);var r=[];return e.length>0&&(r=e.map(p.Cb)),this.getImpl().getTMS(r).sort($.LAYER_SORT)}},{key:"addTMS",value:function(t){var e=this,r=t;if(!Object(a.X)(r)){Object(a.ab)(n.a.prototype.addTMS)&&Object(l.a)(Object(c.e)("exception").addtms_method),Object(a.R)(r)||(r=[r]);var i=[];r.forEach((function(t){if(Object(a.Y)(t)&&t instanceof V.a)t.setMap(e),i.push(t);else if(!(t instanceof P.a)){var r=new V.a(t,t.options);r.setMap(e),i.push(r)}})),this.getImpl().addTMS(i),this.fire(d.c,[i]),this.fire(d.h,[i])}return this}},{key:"removeTMS",value:function(t){if(!Object(a.X)(t)){Object(a.ab)(n.a.prototype.removeTMS)&&Object(l.a)(Object(c.e)("exception").removetms_method);var e=this.getTMS(t);e.length>0&&(this.fire(d.E,[e]),this.getImpl().removeTMS(e))}return this}},{key:"addQuickLayers",value:function(t){var e=t;if(!Object(a.X)(e)){Object(a.R)(e)||(e=[e]);var r=[];e.forEach((function(t){if(Object(a.Z)(t)){var e=t;-1===t.indexOf("QUICK*")&&(e="QUICK*".concat(t)),r.push(e)}else r.push(t)})),this.addLayers(r),this.fire(d.g,[r])}return this}},{key:"getControls",value:function(t){var e=t;return Object(a.ab)(n.a.prototype.getControls)&&Object(l.a)(Object(c.e)("exception").getcontrols_method),Object(a.W)(e)?e=[]:Object(a.R)(e)||(e=[e]),this.getImpl().getControls(e)}},{key:"addControls",value:function(t){var e=this,r=t;if(!Object(a.X)(r)){Object(a.ab)(n.a.prototype.addControls)&&Object(l.a)(Object(c.e)("exception").addcontrols_method),Object(a.R)(r)||(r=[r]);var i=[];r.forEach((function(t){var r,n,o=t;if(Object(a.Z)(o))switch((o=Object(a.db)(o).split("*"))[0]){case O.a.NAME:var s={};o.forEach((function(t){"true"===t&&(s.exactScale=Boolean(t)),isNaN(t)||(s.order=Number(t))})),r=new O.a(s),n=e.getPanels("map-info")[0],Object(a.X)(n)&&(n=new B.a("map-info",{collapsible:!1,className:"m-map-info",position:U.BR,order:s.order?s.order:null})).on(d.i,(function(t){3===e.getControls(["wmcselector","scale","scaleline"]).length&&e.getControls(["scaleline"])[0].getImpl().getElement().classList.add("ol-scale-line-up")})),n.addClassName("m-with-scale");break;case E.a.NAME:r=new E.a,(n=new B.a(E.a.NAME,{collapsible:!1,className:"m-scaleline",position:U.BL,tooltip:"Lnea de escala"})).on(d.i,(function(t){3===e.getControls(["wmcselector","scale","scaleline"]).length&&e.getControls(["scaleline"])[0].getImpl().getElement().classList.add("ol-scale-line-up")}));break;case S.a.NAME:r=new S.a,n=new B.a(S.a.NAME,{collapsible:!1,className:"m-panzoombar",position:U.TL,tooltip:"Nivel de zoom"});break;case x.a.NAME:r=new x.a,n=new B.a(x.a.NAME,{collapsible:!1,className:"m-panzoom",position:U.TL});break;case v.a.NAME:r=new v.a,n=new B.a(v.a.NAME,{collapsible:!1,className:"m-location",position:U.BR});break;case b.a.NAME:r=new b.a(!0);break;case Z.a.NAME:return void(2===o.length?e.createAttribution({collectionsAttributions:[o[1]]}):e.createAttribution());case w.a.NAME:r=new w.a,n=new B.a(w.a.name,{collapsible:!1,className:"m-rotate",position:U.TR});break;case j.a.NAME:r=new j.a(e),n=new B.a(j.a.NAME,{collapsible:!1,position:U.TR,className:"m-plugin-baselayer"});break;default:if(/backgroundlayers\*([0-9])+\*(true|false)/.test(o)){var c=o.match(/backgroundlayers\*([0-9])+\*(true|false)/)[1],u="true"===o.match(/backgroundlayers\*([0-9])+\*(true|false)/)[2];r=new j.a(e,Number.parseInt(c,10),u),n=new B.a(j.a.NAME,{collapsible:!1,position:U.TR,className:"m-plugin-baselayer"})}else{var h=Object(a.g)([M.config.MAPEA_URL,"/api/actions/controls"]);g.error("El control ".concat(o," no est definido. Consulte los controles disponibles <a href='").concat(h,'\' target="_blank">aqu</a>'))}}else o instanceof _.a?r=o:Object(l.a)('El control "'.concat(o).concat('" no es un control vlido.'));Object(a.X)(n)||n.hasControl(r)?(r.addTo(e),i.push(r)):(n.addControls(r),e.addPanels(n))})),this.getImpl().addControls(i)}return this}},{key:"removeControls",value:function(t){Object(a.X)(t)&&Object(l.a)(Object(c.e)("exception").remove_control),Object(a.ab)(n.a.prototype.removeControls)&&Object(l.a)(Object(c.e)("exception").removecontrol_method);var e=this.getControls(t);return(e=[].concat(e)).length>0&&(e.forEach((function(t){Object(a.X)(t.getPanel())||t.getPanel().removeControls(t)})),this.getImpl().removeControls(e)),this}},{key:"getMaxExtent",value:function(){var t=this.userMaxExtent;return Object(a.X)(t)&&(t=this.getProjection().getExtent()),t}},{key:"calculateMaxExtent",value:function(){var t=this;return new Promise((function(e){var r=t.userMaxExtent;if(Object(a.X)(r)){var n=t.getLayers().filter((function(t){return"__draw__"!==t.name})).map((function(t){return t.calculateMaxExtent()}));Promise.all(n).then((function(n){r=Object(a.C)(n),Object(a.X)(r)&&(r=t.getProjection().getExtent()),Object(a.X)(t.userMaxExtent)||(r=t.userMaxExtent),e(r)}))}else e(r)}))}},{key:"setMaxExtent",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Object(a.X)(t)&&this.resetMaxExtent(),Object(a.ab)(n.a.prototype.setMaxExtent)&&Object(l.a)(Object(c.e)("exception").setmaxextent_method);try{var r=p.Db(t);!Object(a.R)(r)&&Object(a.Y)(r)&&(r=[r.x.min,r.y.min,r.x.max,r.y.max]),this.userMaxExtent=r,this.getImpl().setMaxExtent(r,e)}catch(t){throw g.error(t.toString()),t}return this}},{key:"resetMaxExtent",value:function(){var t=this;return this.userMaxExtent=null,this.calculateMaxExtent().then((function(e){var r=p.Db(e);t.getImpl().setMaxExtent(r,!0)})),this}},{key:"getBbox",value:function(){return Object(a.ab)(n.a.prototype.getBbox)&&Object(l.a)(Object(c.e)("exception").getbbox_method),this.getImpl().getBbox()}},{key:"setBbox",value:function(t,e){Object(a.X)(t)&&Object(l.a)(Object(c.e)("exception").no_bbox),Object(a.ab)(n.a.prototype.setBbox)&&Object(l.a)(Object(c.e)("exception").setbbox_method);try{var r=p.Db(t);this.getImpl().setBbox(r,e)}catch(t){throw g.error(Object(c.e)("exception").incorrect_format_bbox),t}return this}},{key:"getZoom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(a.ab)(n.a.prototype.getZoom)&&Object(l.a)(Object(c.e)("exception").getzoom_method);var e=this.getImpl().getZoom();return t||(e=Math.floor(e)),e}},{key:"getMinZoom",value:function(){return Object(a.ab)(n.a.prototype.getMinZoom)&&Object(l.a)(Object(c.e)("exception").getzoom_method),this.getImpl().getMinZoom()}},{key:"getMaxZoom",value:function(){return Object(a.ab)(n.a.prototype.getMaxZoom)&&Object(l.a)(Object(c.e)("exception").getzoom_method),this.getImpl().getMaxZoom()}},{key:"setZoom",value:function(t){Object(a.X)(t)&&Object(l.a)(Object(c.e)("exception").no_zoom),Object(a.ab)(n.a.prototype.setZoom)&&Object(l.a)(Object(c.e)("exception").setzoom_method);try{var e=p.Rb(t);this._userZoom=e,this.getImpl().setZoom(e)}catch(t){throw g.error(t.toString()),t}return this}},{key:"setMinZoom",value:function(t){Object(a.X)(t)&&Object(l.a)(Object(c.e)("exception").no_zoom),Object(a.ab)(n.a.prototype.setMinZoom)&&Object(l.a)(Object(c.e)("exception").setzoom_method);var e=p.Hb(t);return this.minZoom=e,this.getImpl().setMinZoom(e),this}},{key:"setMaxZoom",value:function(t){Object(a.X)(t)&&Object(l.a)(Object(c.e)("exception").no_zoom),Object(a.ab)(n.a.prototype.setMaxZoom)&&Object(l.a)(Object(c.e)("exception").setzoom_method);var e=p.Eb(t);return this.userMaxZoom_=e,this.getImpl().setMaxZoom(e),this}},{key:"getCenter",value:function(){return Object(a.ab)(n.a.prototype.getCenter)&&Object(l.a)(Object(c.e)("exception").getcenter_method),this.getImpl().getCenter()}},{key:"setZoomConstrains",value:function(t){return Object(a.X)(t)&&Object(l.a)(Object(c.e)("exception").no_zoomConstrains),Object(a.ab)(n.a.prototype.setZoomConstrains)&&Object(l.a)(Object(c.e)("exception").setZoomConstrains_method),this.getImpl().setZoomConstrains(t),this}},{key:"getZoomConstrains",value:function(){return Object(a.ab)(n.a.prototype.setZoomConstrains)&&Object(l.a)(Object(c.e)("exception").setZoomConstrains_method),this.getImpl().getZoomConstrains()}},{key:"setCenter",value:function(t){var e=this;Object(a.X)(t)&&Object(l.a)(Object(c.e)("exception").no_center),Object(a.ab)(n.a.prototype.setCenter)&&Object(l.a)(Object(c.e)("exception").setcenter_method);var r=p.a(t);return this.getImpl().setCenter(r),this.userCenter_=r,!0===r.draw&&(this.drawLayer_.clear(),this.centerFeature_=new y.a("__mapeacenter__",{type:"Feature",geometry:{type:"Point",coordinates:[r.x,r.y]},properties:{vendor:{mapea:{click:function(t){var r=e.getLabel();Object(a.X)(r)||r.show(e)}}}}}),this.drawFeatures([this.centerFeature_])),this}},{key:"getFeatureCenter",value:function(){return this.centerFeature_}},{key:"removeCenter",value:function(){this.removeFeatures(this.centerFeature_),this.centerFeature_=null,this.zoomToMaxExtent()}},{key:"getResolutions",value:function(){return Object(a.ab)(n.a.prototype.getResolutions)&&Object(l.a)(Object(c.e)("exception").getresolutions_method),this.getImpl().getResolutions()}},{key:"setResolutions",value:function(t){Object(a.X)(t)&&Object(l.a)(Object(c.e)("exception").no_resolutions),Object(a.ab)(n.a.prototype.setResolutions)&&Object(l.a)(Object(c.e)("exception").setresolutions_method);var e=p.Lb(t);return this.getImpl().setResolutions(e),this}},{key:"getScale",value:function(){return Object(a.ab)(n.a.prototype.getScale)&&Object(l.a)(Object(c.e)("exception").getscale_method),this.getImpl().getScale()}},{key:"getExactScale",value:function(){return Object(a.ab)(n.a.prototype.getExactScale)&&Object(l.a)("La implementacin usada no posee el mtodo getScale"),this.getImpl().getExactScale()}},{key:"getProjection",value:function(){return Object(a.ab)(n.a.prototype.getProjection)&&Object(l.a)(Object(c.e)("exception").getprojection_method),this.getImpl().getProjection()}},{key:"setProjection",value:function(t,e){var r=t;Object(a.X)(r)&&Object(l.a)(Object(c.e)("exception").no_projection),Object(a.ab)(n.a.prototype.setProjection)&&Object(l.a)(Object(c.e)("exception").setprojection_method);try{var i=this.getProjection();r=p.Kb(r),this.getImpl().setProjection(r),this._defaultProj=this._defaultProj&&!0===e,this.fire(d.q,[i,r])}catch(t){g.error(t.toString()),String(t).indexOf("El formato del parmetro projection no es correcto")>=0&&this.setProjection(M.config.DEFAULT_PROJ,!0)}return this}},{key:"getPlugins",value:function(t){var e=this,r=t;Object(a.W)(r)?r=[]:Object(a.R)(r)||(r=[r]);var n=[];return 0===r.length?n=this._plugins:r.forEach((function(t){n=n.concat(e._plugins.filter((function(e){return t===e.name})))})),n}},{key:"addPlugin",value:function(t){return Object(a.X)(t)&&Object(l.a)(Object(c.e)("exception").no_plugins),Object(a.ab)(t.addTo)&&Object(l.a)(Object(c.e)("exception").no_add_plugin_to_map),this._plugins.push(t),t.addTo(this),this}},{key:"removePlugins",value:function(t){var e=this,r=t;return Object(a.X)(r)&&Object(l.a)(Object(c.e)("exception").no_plugin_to_remove),Object(a.R)(r)||(r=[r]),(r=[].concat(r)).length>0&&r.forEach((function(t){t.destroy(),e._plugins=e._plugins.filter((function(e){return t.name!==e.name}))})),this}},{key:"getEnvolvedExtent",value:function(){var t=this;return new Promise((function(e){var r=t.getBaseLayers().find((function(t){return t.isVisible()}));if(Object(a.X)(r)){var n=t.getLayers().filter((function(t){return"__draw__"!==t.name}));Promise.all(n.map((function(t){return t.calculateMaxExtent()}))).then((function(r){var n=Object(a.X)(r)?[t.getProjection().getExtent()]:r,i=Object(a.C)(n);e(i)}))}else r.getMaxExtent(e)}))}},{key:"zoomToMaxExtent",value:function(t){var e=this;return this.calculateMaxExtent().then((function(r){(!0!==t||Object(a.X)(e._userZoom))&&e.setBbox(r),e._finishedMaxExtent=!0,e._checkCompleted()})),this}},{key:"setTicket",value:function(t){return Object(a.X)(t)||(-1===M.config.PROXY_POST_URL.indexOf("ticket=")&&M.config("PROXY_POST_URL",Object(a.b)(M.config.PROXY_POST_URL,{ticket:t})),-1===M.config.PROXY_URL.indexOf("ticket=")&&M.config("PROXY_URL",Object(a.b)(M.config.PROXY_URL,{ticket:t}))),this}},{key:"getInitCenter_",value:function(){var t=this;return new Promise((function(e,r){t.calculateMaxExtent().then((function(t){var r;r=Object(a.R)(t)?{x:(t[0]+t[2])/2,y:(t[1]+t[3])/2}:{x:(t.x.max+t.x.min)/2,y:(t.y.max+t.y.min)/2},e(r)}))}))}},{key:"destroy",value:function(){return Object(a.ab)(n.a.prototype.destroy)&&Object(l.a)(Object(c.e)("exception").destroy_method),this.getImpl().destroy(),this}},{key:"addLabel",value:function(t,e){var r=this,i=void 0===t.panMapIfOutOfView||t.panMapIfOutOfView;Object(a.X)(t)&&Object(l.a)(Object(c.e)("exception").no_projection),Object(a.ab)(n.a.prototype.addLabel)&&Object(l.a)(Object(c.e)("exception").addlabel_method);var o=null,s=null;if(Object(a.Y)(t)?(o=Object(a.r)(t.text),s=t.coord):(o=Object(a.r)(t),s=e),s=Object(a.X)(s)?this.getCenter():p.a(s),Object(a.X)(s))this.getInitCenter_().then((function(t){var e=new u.a(o,t,i);r.getImpl().addLabel(e)}));else{var h=new u.a(o,s,i);this.getImpl().addLabel(h)}return this}},{key:"getLabel",value:function(){return this.getImpl().getLabel()}},{key:"removeLabel",value:function(){return this.getImpl().removeLabel()}},{key:"drawPoints",value:function(t){var e=t;Object(a.X)(e)&&Object(l.a)(Object(c.e)("exception").no_point),Object(a.R)(e)||(e=[e]);var r=e.map((function(t){var e={type:"Feature",geometry:{type:"Point",coordinates:[t.x,t.y]},properties:{}};return Object(a.U)(t.click)&&(e.properties.vendor={mapea:{click:t.click}}),new y.a(null,e)}));this.drawLayer_.addFeatures(r)}},{key:"drawFeatures",value:function(t){return this.drawLayer_.addFeatures(t),this}},{key:"removeFeatures",value:function(t){return this.drawLayer_.removeFeatures(t),this}},{key:"addPanels",value:function(t){var e=this,r=t;return Object(a.X)(r)||(Object(a.R)(r)||(r=[r]),r.forEach((function(t){var r=e._panels.some((function(e){return e.equals(t)}));if(t instanceof B.a&&!r){e._panels.push(t);var n="div.m-area".concat(t.position),i=e._areasContainer.querySelector(n);t.addTo(e,i)}}))),this}},{key:"removePanel",value:function(t){return t.getControls().length>0&&Object(l.a)(Object(c.e)("exception").remove_control_from_panel),t instanceof B.a&&(t.destroy(),this._panels=this._panels.filter((function(e){return!e.equals(t)}))),this}},{key:"getPanels",value:function(t){var e=this,r=t,n=[];return Object(a.X)(r)?n=this._panels:(Object(a.R)(r)||(r=[r]),r.forEach((function(t){e._panels.filter((function(e){return e.name===t})).forEach((function(t){Object(a.X)(t)||n.push(t)}))}))),n}},{key:"createMainPanels_",value:function(){this._areasContainer=document.createElement("div"),this._areasContainer.classList.add("m-areas");var t=document.createElement("div");t.classList.add("m-area"),t.classList.add("m-top"),t.classList.add("m-left");var e=document.createElement("div");e.classList.add("m-area"),e.classList.add("m-top"),e.classList.add("m-right");var r=document.createElement("div");r.classList.add("m-area"),r.classList.add("m-bottom"),r.classList.add("m-left");var n=document.createElement("div");n.classList.add("m-area"),n.classList.add("m-bottom"),n.classList.add("m-right"),this._areasContainer.appendChild(t),this._areasContainer.appendChild(e),this._areasContainer.appendChild(r),this._areasContainer.appendChild(n),this.getContainer().appendChild(this._areasContainer)}},{key:"getContainer",value:function(){return Object(a.ab)(n.a.prototype.getContainer)&&Object(l.a)(Object(c.e)("exception").getcontainer_method),this.getImpl().getContainer()}},{key:"getMapImpl",value:function(){return Object(a.ab)(n.a.prototype.getMapImpl)&&Object(l.a)(Object(c.e)("exception").getmapimpl_method),this.getImpl().getMapImpl()}},{key:"getPopup",value:function(){return this.popup_}},{key:"removePopup",value:function(){return Object(a.ab)(n.a.prototype.removePopup)&&Object(l.a)(Object(c.e)("exception").removepopup_method),Object(a.X)(this.popup_)||(this.getImpl().removePopup(this.popup_),this.popup_.destroy(),this.popup_=null),this}},{key:"addPopup",value:function(t,e){return Object(a.X)(t)&&Object(l.a)(Object(c.e)("exception").no_popup),t instanceof h.a||Object(l.a)(Object(c.e)("exception").invalid_popup),Object(a.X)(this.popup_)||this.removePopup(),this.popup_=t,this.popup_.addTo(this,e),this}},{key:"_checkCompleted",value:function(){this._finishedInitCenter&&this._finishedMaxExtent&&this._finishedMapImpl&&(this._finishedMap=!0,this.fire(d.u))}},{key:"on",value:function(t,e,r){at(ft($.prototype),"on",this).call(this,t,e,r),t===d.u&&!0===this._finishedMap&&this.fire(d.u)}},{key:"evtSetAttributions_",value:function(){var t=this;this.on(d.c,(function(e){if(t.getControls().some((function(t){return"attributions"===t.name}))){var r=e;Array.isArray(r)||(r=[r]),r.forEach((function(e){if(e.attribution&&"__draw__"!==r.name){var n=e.attribution;"string"==typeof n||n.name||(n.name=e.name),t.addAttribution(n,!1)}}))}}))}},{key:"evtRemoveAttributions_",value:function(){var t=this;this.on(d.E,(function(e){var r=t.getControls().filter((function(t){return"attributions"===t.name}))[0];if(e&&r){var n=e;Array.isArray(e)||(n=[e]),n.forEach((function(e){var n=e.attribution;if("__draw__"!==e.name)if(/<[a-z][\s\S]*>/i.test(n)){var i=r.collectionsAttributions_.filter((function(t){return t.attribuccion===n}));i.length>0&&t.removeAttribution(i[0].id)}else n&&t.removeAttribution(n.id)}))}}))}},{key:"refresh",value:function(){return!Object(a.ab)(this.getImpl().refresh)&&Object(a.U)(this.getImpl().refresh)&&this.getImpl().refresh(),this.getLayers().forEach((function(t){return t.refresh()})),this}},{key:"defaultProj",get:function(){return this._defaultProj}},{key:"isFinished",value:function(){return this._finishedMap}},{key:"areasContainer",get:function(){return this._areasContainer}}])&&it(e.prototype,r),i&&it(e,i),Object.defineProperty(e,"prototype",{writable:!1}),$}(i.a);pt.DRAWLAYER_STYLE={fill:{color:"#009e00"},stroke:{color:"#fcfcfc",width:2},radius:7},e.a=pt},function(t,e,r){"use strict";var n,i=r(25),o=r(13),a=r(40),s=r(145),c=r(7),l=r(21),u=r(8),h=r(30),f=r(54),p=r(28),d=r(4),m=r(1),y=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),g=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],_={rte:V,trk:Y,wpt:Z},b=Object(m.r)(g,{rte:Object(m.j)(V),trk:Object(m.j)(Y),wpt:Object(m.j)(Z)}),v=Object(m.r)(g,{text:Object(m.n)(c.h,"linkText"),type:Object(m.n)(c.h,"linkType")}),O=Object(m.r)(g,{rte:Object(m.l)((function(t,e,r){var n=r[0],i=e.getProperties(),o={node:t};o.properties=i;var s=e.getGeometry();if(s.getType()==u.a.LINE_STRING){var c=Object(a.c)(s,!0,n);o.geometryLayout=c.getLayout(),i.rtept=c.getCoordinates()}var l=r[r.length-1].node,h=L[l.namespaceURI],f=Object(m.p)(i,h);Object(m.v)(o,R,m.a,f,r,h)})),trk:Object(m.l)((function(t,e,r){var n=r[0],i=e.getProperties(),o={node:t};o.properties=i;var s=e.getGeometry();if(s.getType()==u.a.MULTI_LINE_STRING){var c=Object(a.c)(s,!0,n);i.trkseg=c.getLineStrings()}var l=r[r.length-1].node,h=A[l.namespaceURI],f=Object(m.p)(i,h);Object(m.v)(o,k,m.a,f,r,h)})),wpt:Object(m.l)((function(t,e,r){var n=r[0],i=r[r.length-1];i.properties=e.getProperties();var o=e.getGeometry();if(o.getType()==u.a.POINT){var s=Object(a.c)(o,!0,n);i.geometryLayout=s.getLayout(),H(t,s.getCoordinates(),r)}}))}),w=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.dataProjection=Object(d.j)("EPSG:4326"),r.readExtensions_=n.readExtensions,r}return y(e,t),e.prototype.handleReadExtensions_=function(t){t||(t=[]);for(var e=0,r=t.length;e<r;++e){var n=t[e];if(this.readExtensions_){var i=n.get("extensionsNode_")||null;this.readExtensions_(n,i)}n.set("extensionsNode_",void 0)}},e.prototype.readFeatureFromNode=function(t,e){if(!Object(o.f)(g,t.namespaceURI))return null;var r=_[t.localName];if(!r)return null;var n=r(t,[this.getReadOptions(t,e)]);return n?(this.handleReadExtensions_([n]),n):null},e.prototype.readFeaturesFromNode=function(t,e){if(!Object(o.f)(g,t.namespaceURI))return[];if("gpx"==t.localName){var r=Object(m.u)([],b,t,[this.getReadOptions(t,e)]);return r?(this.handleReadExtensions_(r),r):[]}return[]},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var r=Object(m.c)("http://www.topografix.com/GPX/1/1","gpx");return r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi",m.b),r.setAttributeNS(m.b,"xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),r.setAttribute("version","1.1"),r.setAttribute("creator","OpenLayers"),Object(m.v)({node:r},O,G,t,[e]),r},e}(s.a),M=Object(m.r)(g,{name:Object(m.n)(c.h),cmt:Object(m.n)(c.h),desc:Object(m.n)(c.h),src:Object(m.n)(c.h),link:X,number:Object(m.n)(c.f),extensions:q,type:Object(m.n)(c.h),rtept:function(t,e){var r=Object(m.u)({},E,t,e);if(r){var n=e[e.length-1],i=n.flatCoordinates,o=n.layoutOptions;z(i,o,t,r)}}}),E=Object(m.r)(g,{ele:Object(m.n)(c.d),time:Object(m.n)(c.c)}),x=Object(m.r)(g,{name:Object(m.n)(c.h),cmt:Object(m.n)(c.h),desc:Object(m.n)(c.h),src:Object(m.n)(c.h),link:X,number:Object(m.n)(c.f),type:Object(m.n)(c.h),extensions:q,trkseg:function(t,e){var r=e[e.length-1];Object(m.t)(S,t,e);var n=r.flatCoordinates;r.ends.push(n.length)}}),S=Object(m.r)(g,{trkpt:function(t,e){var r=Object(m.u)({},j,t,e);if(r){var n=e[e.length-1],i=n.flatCoordinates,o=n.layoutOptions;z(i,o,t,r)}}}),j=Object(m.r)(g,{ele:Object(m.n)(c.d),time:Object(m.n)(c.c)}),P=Object(m.r)(g,{ele:Object(m.n)(c.d),time:Object(m.n)(c.c),magvar:Object(m.n)(c.d),geoidheight:Object(m.n)(c.d),name:Object(m.n)(c.h),cmt:Object(m.n)(c.h),desc:Object(m.n)(c.h),src:Object(m.n)(c.h),link:X,sym:Object(m.n)(c.h),type:Object(m.n)(c.h),fix:Object(m.n)(c.h),sat:Object(m.n)(c.f),hdop:Object(m.n)(c.d),vdop:Object(m.n)(c.d),pdop:Object(m.n)(c.d),ageofdgpsdata:Object(m.n)(c.d),dgpsid:Object(m.n)(c.f),extensions:q}),T=["text","type"],I=Object(m.r)(g,{text:Object(m.l)(c.n),type:Object(m.l)(c.n)}),L=Object(m.r)(g,["name","cmt","desc","src","link","number","type","rtept"]),R=Object(m.r)(g,{name:Object(m.l)(c.n),cmt:Object(m.l)(c.n),desc:Object(m.l)(c.n),src:Object(m.l)(c.n),link:Object(m.l)(K),number:Object(m.l)(c.m),type:Object(m.l)(c.n),rtept:Object(m.k)(Object(m.l)(H))}),C=Object(m.r)(g,["ele","time"]),A=Object(m.r)(g,["name","cmt","desc","src","link","number","type","trkseg"]),k=Object(m.r)(g,{name:Object(m.l)(c.n),cmt:Object(m.l)(c.n),desc:Object(m.l)(c.n),src:Object(m.l)(c.n),link:Object(m.l)(K),number:Object(m.l)(c.m),type:Object(m.l)(c.n),trkseg:Object(m.k)(Object(m.l)((function(t,e,r){var n={node:t};n.geometryLayout=e.getLayout(),n.properties={},Object(m.v)(n,D,N,e.getCoordinates(),r)})))}),N=Object(m.q)("trkpt"),D=Object(m.r)(g,{trkpt:Object(m.l)(H)}),F=Object(m.r)(g,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),B=Object(m.r)(g,{ele:Object(m.l)(c.l),time:Object(m.l)(c.k),magvar:Object(m.l)(c.l),geoidheight:Object(m.l)(c.l),name:Object(m.l)(c.n),cmt:Object(m.l)(c.n),desc:Object(m.l)(c.n),src:Object(m.l)(c.n),link:Object(m.l)(K),sym:Object(m.l)(c.n),type:Object(m.l)(c.n),fix:Object(m.l)(c.n),sat:Object(m.l)(c.m),hdop:Object(m.l)(c.l),vdop:Object(m.l)(c.l),pdop:Object(m.l)(c.l),ageofdgpsdata:Object(m.l)(c.l),dgpsid:Object(m.l)(c.m)}),U={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function G(t,e,r){var n=t.getGeometry();if(n){var i=U[n.getType()];if(i){var o=e[e.length-1].node;return Object(m.c)(o.namespaceURI,i)}}}function z(t,e,r,n){return t.push(parseFloat(r.getAttribute("lon")),parseFloat(r.getAttribute("lat"))),"ele"in n?(t.push(n.ele),delete n.ele,e.hasZ=!0):t.push(0),"time"in n?(t.push(n.time),delete n.time,e.hasM=!0):t.push(0),t}function W(t,e,r){var n=l.a.XY,i=2;if(t.hasZ&&t.hasM?(n=l.a.XYZM,i=4):t.hasZ?(n=l.a.XYZ,i=3):t.hasM&&(n=l.a.XYM,i=3),4!==i){for(var o=0,a=e.length/4;o<a;o++)e[o*i]=e[4*o],e[o*i+1]=e[4*o+1],t.hasZ&&(e[o*i+2]=e[4*o+2]),t.hasM&&(e[o*i+2]=e[4*o+3]);if(e.length=e.length/4*i,r)for(o=0,a=r.length;o<a;o++)r[o]=r[o]/4*i}return n}function X(t,e){var r=e[e.length-1],n=t.getAttribute("href");null!==n&&(r.link=n),Object(m.t)(v,t,e)}function q(t,e){e[e.length-1].extensionsNode_=t}function V(t,e){var r=e[0],n=Object(m.u)({flatCoordinates:[],layoutOptions:{}},M,t,e);if(n){var o=n.flatCoordinates;delete n.flatCoordinates;var s=n.layoutOptions;delete n.layoutOptions;var c=W(s,o),l=new h.a(o,c);Object(a.c)(l,!1,r);var u=new i.a(l);return u.setProperties(n,!0),u}}function Y(t,e){var r=e[0],n=Object(m.u)({flatCoordinates:[],ends:[],layoutOptions:{}},x,t,e);if(n){var o=n.flatCoordinates;delete n.flatCoordinates;var s=n.ends;delete n.ends;var c=n.layoutOptions;delete n.layoutOptions;var l=W(c,o,s),u=new f.a(o,l,s);Object(a.c)(u,!1,r);var h=new i.a(u);return h.setProperties(n,!0),h}}function Z(t,e){var r=e[0],n=Object(m.u)({},P,t,e);if(n){var o={},s=z([],o,t,n),c=W(o,s),l=new p.a(s,c);Object(a.c)(l,!1,r);var u=new i.a(l);return u.setProperties(n,!0),u}}function K(t,e,r){t.setAttribute("href",e);var n=r[r.length-1].properties,i=[n.linkText,n.linkType];Object(m.v)({node:t},I,m.a,i,r,T)}function H(t,e,r){var n=r[r.length-1],i=n.node.namespaceURI,o=n.properties;switch(t.setAttributeNS(null,"lat",String(e[1])),t.setAttributeNS(null,"lon",String(e[0])),n.geometryLayout){case l.a.XYZM:0!==e[3]&&(o.time=e[3]);case l.a.XYZ:0!==e[2]&&(o.ele=e[2]);break;case l.a.XYM:0!==e[2]&&(o.time=e[2])}var a="rtept"==t.nodeName?C[i]:F[i],s=Object(m.p)(o,a);Object(m.v)({node:t,properties:o},B,m.a,s,r,a)}e.a=w},function(t,e,r){"use strict";var n,i=r(19),o=r(174),a=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=function(t){function e(e,r){var n=t.call(this,e)||this;return n.conditions=r,Object(i.a)(n.conditions.length>=2,57),n}return a(e,t),e}(o.a);e.a=s},function(t,e,r){"use strict";var n,i=r(386),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(t){function e(e){return t.call(this,"Or",Array.prototype.slice.call(arguments))||this}return o(e,t),e}(i.a);e.a=a},function(t,e,r){"use strict";var n,i=r(174),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(t){function e(e){var r=t.call(this,"Not")||this;return r.condition=e,r}return o(e,t),e}(i.a);e.a=a},function(t,e,r){"use strict";var n,i=r(174),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(t){function e(e,r,n){var i=t.call(this,"BBOX")||this;if(i.geometryName=e,i.extent=r,4!==r.length)throw new Error("Expected an extent with four values ([minX, minY, maxX, maxY])");return i.srsName=n,i}return o(e,t),e}(i.a);e.a=a},function(t,e,r){"use strict";var n,i=r(282),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(t){function e(e,r,n){return t.call(this,"Contains",e,r,n)||this}return o(e,t),e}(i.a);e.a=a},function(t,e,r){"use strict";var n,i=r(282),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(t){function e(e,r,n){return t.call(this,"Intersects",e,r,n)||this}return o(e,t),e}(i.a);e.a=a},function(t,e,r){"use strict";var n,i=r(282),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(t){function e(e,r,n){return t.call(this,"Within",e,r,n)||this}return o(e,t),e}(i.a);e.a=a},function(t,e,r){"use strict";var n,i=r(154),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(t){function e(e,r,n){return t.call(this,"PropertyIsEqualTo",e,r,n)||this}return o(e,t),e}(i.a);e.a=a},function(t,e,r){"use strict";var n,i=r(154),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(t){function e(e,r,n){return t.call(this,"PropertyIsNotEqualTo",e,r,n)||this}return o(e,t),e}(i.a);e.a=a},function(t,e,r){"use strict";var n,i=r(154),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(t){function e(e,r){return t.call(this,"PropertyIsLessThan",e,r)||this}return o(e,t),e}(i.a);e.a=a},function(t,e,r){"use strict";var n,i=r(154),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(t){function e(e,r){return t.call(this,"PropertyIsLessThanOrEqualTo",e,r)||this}return o(e,t),e}(i.a);e.a=a},function(t,e,r){"use strict";var n,i=r(154),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(t){function e(e,r){return t.call(this,"PropertyIsGreaterThan",e,r)||this}return o(e,t),e}(i.a);e.a=a},function(t,e,r){"use strict";var n,i=r(154),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(t){function e(e,r){return t.call(this,"PropertyIsGreaterThanOrEqualTo",e,r)||this}return o(e,t),e}(i.a);e.a=a},function(t,e,r){"use strict";var n,i=r(175),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(t){function e(e){return t.call(this,"PropertyIsNull",e)||this}return o(e,t),e}(i.a);e.a=a},function(t,e,r){"use strict";var n,i=r(175),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(t){function e(e,r,n){var i=t.call(this,"PropertyIsBetween",e)||this;return i.lowerBoundary=r,i.upperBoundary=n,i}return o(e,t),e}(i.a);e.a=a},function(t,e,r){"use strict";var n,i=r(175),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(t){function e(e,r,n,i,o,a){var s=t.call(this,"PropertyIsLike",e)||this;return s.pattern=r,s.wildCard=void 0!==n?n:"*",s.singleChar=void 0!==i?i:".",s.escapeChar=void 0!==o?o:"!",s.matchCase=a,s}return o(e,t),e}(i.a);e.a=a},function(t,e,r){"use strict";var n,i=r(175),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(t){function e(e,r,n){var i=t.call(this,"During",e)||this;return i.begin=r,i.end=n,i}return o(e,t),e}(i.a);e.a=a},function(t,e,r){"use strict";e.a={POINT:"point",LINE:"line"}},function(t,e,r){"use strict";var n=r(284),i=r(0),o=r(75),a=r(150);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===s(o)?o:String(o)),n)}var i,o}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=p(t);if(e){var i=p(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f(this,r)}}function f(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(f,t);var e,r,n,s=h(f);function f(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c(this,f),(t=s.call(this,{})).panMapIfOutOfView=e.panMapIfOutOfView,void 0===t.panMapIfOutOfView&&(t.panMapIfOutOfView=!0),t.ani_opts=e.ani_opts,void 0===t.ani_opts&&(t.ani_opts={duration:250}),t.facadeMap_=null,t.cachedAniPixel_=null,t}return e=f,(r=[{key:"addTo",value:function(t,e){this.facadeMap_=t,this.container=e,this.content=this.getContentFromContainer(e),Object(i.p)(this.content),this.setElement(this.container),t.getMapImpl().addOverlay(this)}},{key:"show",value:function(t,e){return this.setPosition(t),this.panMapIfOutOfView&&this.panIntoView(t),this.content.scrollTop=0,Object(i.U)(e)&&e(),this}},{key:"centerByStatus",value:function(t,e){var r=this.getMap().getView().getResolution(),n=[].concat(e);if(t===o.a.status.COLLAPSED)n[1]-=.1*a.a.HEIGHT*r;else{if(t!==o.a.status.DEFAULT)return;n[1]-=.275*a.a.HEIGHT*r}var s=this.facadeMap_.getFeatureCenter();this.facadeMap_.setCenter({x:n[0],y:n[1]}),Object(i.X)(s)||this.facadeMap_.drawFeatures([s])}},{key:"getContentFromContainer",value:function(t){return t.querySelector("div.m-body")}},{key:"panIntoView",value:function(t){var e=this;return this.panIntoSynchronizedAnim_().then((function(){e.isAnimating_=!0;var r=e.element.querySelector(".m-popup"),n=r.clientWidth+20,o=r.clientHeight+20+30,a=e.getMap().getSize(),s=e.getMap().getView().getCenter(),c=n-60,l=e.getOffset(),u=e.getMap().getPixelFromCoordinate(t);if(!Object(i.X)(u)){var h=u[0]-60,f=a[0]-(u[0]+c),p=u[1]-(o+l[1]),d=a[1]-(u[1]+20)-l[1],m=e.getMap().getPixelFromCoordinate(s),y=m.slice();f<0?y[0]-=f:h<0&&(y[0]+=h),p<0?y[1]+=p:d<0&&(y[1]-=d),!Object(i.X)(e.ani_opts)&&Object(i.X)(e.ani_opts.source)&&(e.ani_opts.source=s,e.getMap().getView().animate(e.ani_opts)),y[0]===m[0]&&y[1]===m[1]||e.getMap().getView().setCenter(e.getMap().getCoordinateFromPixel(y))}e.isAnimating_=!1})),this.getMap().getView().getCenter()}},{key:"panIntoSynchronizedAnim_",value:function(){var t=this;return new Promise((function(e,r){if(!0===t.isAnimating_){var n=300;Object(i.X)(t.ani_opts)||(n=t.ani_opts.duration),setTimeout(e,n)}else e()}))}},{key:"hide",value:function(){this.facadeMap_.removePopup()}},{key:"setContainer",value:function(t){this.setElement(t),this.content=this.getContentFromContainer(t),Object(i.p)(this.content)}},{key:"getContent",value:function(){return this.content}}])&&l(e.prototype,r),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),f}(n.a);e.a=d},function(t,e,r){t.exports=function(){"use strict";function t(t,n,i,o,a){!function t(r,n,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,c=n-i+1,l=Math.log(s),u=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*u*(s-u)/s)*(c-s/2<0?-1:1),f=Math.max(i,Math.floor(n-c*u/s+h)),p=Math.min(o,Math.floor(n+(s-c)*u/s+h));t(r,n,f,p,a)}var d=r[n],m=i,y=o;for(e(r,i,n),a(r[o],d)>0&&e(r,i,o);m<y;){for(e(r,m,y),m++,y--;a(r[m],d)<0;)m++;for(;a(r[y],d)>0;)y--}0===a(r[i],d)?e(r,i,y):(y++,e(r,y,o)),y<=n&&(i=y+1),n<=y&&(o=y-1)}}(t,n,i||0,o||t.length-1,a||r)}function e(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function r(t,e){return t<e?-1:t>e?1:0}var n=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(t,e,r){if(!r)return e.indexOf(t);for(var n=0;n<e.length;n++)if(r(t,e[n]))return n;return-1}function o(t,e){a(t,0,t.children.length,e,t)}function a(t,e,r,n,i){i||(i=d(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=e;o<r;o++){var a=t.children[o];s(i,t.leaf?n(a):a)}return i}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function c(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function u(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(e,r,n,i,o){for(var a=[r,n];a.length;)if(!((n=a.pop())-(r=a.pop())<=i)){var s=r+Math.ceil((n-r)/i/2)*i;t(e,s,r,n,o),a.push(r,s,s,n)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(t){var e=this.data,r=[];if(!p(t,e))return r;for(var n=this.toBBox,i=[];e;){for(var o=0;o<e.children.length;o++){var a=e.children[o],s=e.leaf?n(a):a;p(t,s)&&(e.leaf?r.push(a):f(t,s)?this._all(a,r):i.push(a))}e=i.pop()}return r},n.prototype.collides=function(t){var e=this.data;if(!p(t,e))return!1;for(var r=[];e;){for(var n=0;n<e.children.length;n++){var i=e.children[n],o=e.leaf?this.toBBox(i):i;if(p(t,o)){if(e.leaf||f(t,o))return!0;r.push(i)}}e=r.pop()}return!1},n.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},n.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},n.prototype.clear=function(){return this.data=d([]),this},n.prototype.remove=function(t,e){if(!t)return this;for(var r,n,o,a=this.data,s=this.toBBox(t),c=[],l=[];a||c.length;){if(a||(a=c.pop(),n=c[c.length-1],r=l.pop(),o=!0),a.leaf){var u=i(t,a.children,e);if(-1!==u)return a.children.splice(u,1),c.push(a),this._condense(c),this}o||a.leaf||!f(a,s)?n?(r++,a=n.children[r],o=!1):a=null:(c.push(a),l.push(r),r=0,n=a,a=a.children[0])}return this},n.prototype.toBBox=function(t){return t},n.prototype.compareMinX=function(t,e){return t.minX-e.minX},n.prototype.compareMinY=function(t,e){return t.minY-e.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(t){return this.data=t,this},n.prototype._all=function(t,e){for(var r=[];t;)t.leaf?e.push.apply(e,t.children):r.push.apply(r,t.children),t=r.pop();return e},n.prototype._build=function(t,e,r,n){var i,a=r-e+1,s=this._maxEntries;if(a<=s)return o(i=d(t.slice(e,r+1)),this.toBBox),i;n||(n=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,n-1))),(i=d([])).leaf=!1,i.height=n;var c=Math.ceil(a/s),l=c*Math.ceil(Math.sqrt(s));m(t,e,r,l,this.compareMinX);for(var u=e;u<=r;u+=l){var h=Math.min(u+l-1,r);m(t,u,h,c,this.compareMinY);for(var f=u;f<=h;f+=c){var p=Math.min(f+c-1,h);i.children.push(this._build(t,f,p,n-1))}}return o(i,this.toBBox),i},n.prototype._chooseSubtree=function(t,e,r,n){for(;n.push(e),!e.leaf&&n.length-1!==r;){for(var i=1/0,o=1/0,a=void 0,s=0;s<e.children.length;s++){var c=e.children[s],l=u(c),h=(f=t,p=c,(Math.max(p.maxX,f.maxX)-Math.min(p.minX,f.minX))*(Math.max(p.maxY,f.maxY)-Math.min(p.minY,f.minY))-l);h<o?(o=h,i=l<i?l:i,a=c):h===o&&l<i&&(i=l,a=c)}e=a||e.children[0]}var f,p;return e},n.prototype._insert=function(t,e,r){var n=r?t:this.toBBox(t),i=[],o=this._chooseSubtree(n,this.data,e,i);for(o.children.push(t),s(o,n);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(n,i,e)},n.prototype._split=function(t,e){var r=t[e],n=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,n);var a=this._chooseSplitIndex(r,i,n),s=d(r.children.splice(a,r.children.length-a));s.height=r.height,s.leaf=r.leaf,o(r,this.toBBox),o(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(r,s)},n.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(t,e,r){for(var n,i,o,s,c,l,h,f=1/0,p=1/0,d=e;d<=r-e;d++){var m=a(t,0,d,this.toBBox),y=a(t,d,r,this.toBBox),g=(i=m,o=y,s=void 0,c=void 0,l=void 0,h=void 0,s=Math.max(i.minX,o.minX),c=Math.max(i.minY,o.minY),l=Math.min(i.maxX,o.maxX),h=Math.min(i.maxY,o.maxY),Math.max(0,l-s)*Math.max(0,h-c)),_=u(m)+u(y);g<f?(f=g,n=d,p=_<p?_:p):g===f&&_<p&&(p=_,n=d)}return n||r-e},n.prototype._chooseSplitAxis=function(t,e,r){var n=t.leaf?this.compareMinX:c,i=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,r,n)<this._allDistMargin(t,e,r,i)&&t.children.sort(n)},n.prototype._allDistMargin=function(t,e,r,n){t.children.sort(n);for(var i=this.toBBox,o=a(t,0,e,i),c=a(t,r-e,r,i),l=h(o)+h(c),u=e;u<r-e;u++){var f=t.children[u];s(o,t.leaf?i(f):f),l+=h(o)}for(var p=r-e-1;p>=e;p--){var d=t.children[p];s(c,t.leaf?i(d):d),l+=h(c)}return l},n.prototype._adjustParentBBoxes=function(t,e,r){for(var n=r;n>=0;n--)s(e[n],t)},n.prototype._condense=function(t){for(var e=t.length-1,r=void 0;e>=0;e--)0===t[e].children.length?e>0?(r=t[e-1].children).splice(r.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},n}()},function(t,e,r){"use strict";var n=r(0),i=r(25),o=r(76),a=r(66),s=r(26),c=r(30),l=r(71),u=r(125),h=r(5),f=r(92);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==p(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===p(o)?o:String(o)),n)}var i,o}function y(t,e){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=b(t);if(e){var i=b(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _(this,r)}}function _(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v={Point:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Object(f.i)(e[0].point,e[1],e[2])},LineString:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Object(f.g)(e[0].line,e[1],e[2])},Polygon:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Object(f.j)(e[0].polygon,e[1],e[2])},MultiPoint:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Object(f.i)(e[0].point,e[1],e[2])},MultiLineString:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Object(f.g)(e[0].line,e[1],e[2])},MultiPolygon:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Object(f.j)(e[0].polygon,e[1],e[2])}},O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(p,t);var e,r,h,f=g(p);function p(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d(this,p),(t=f.call(this,e)).styles_={},t}return e=p,(r=[{key:"toImage",value:function(){var t=this,e=null,r=null,i=null,o=Object(n.o)(),a=[];Object(n.ab)(this.options_.point)||(e=function(e){return new Promise((function(r,i){var o=new Image;if(o.onload=function(){return r(o)},o.onerror=i,o.width=30,o.height=30,!0===Object(n.T)(t.options_.point))o.src=e;else{var a=(0,v.Point)(t.options_,t,t.layer_);a[0].getImage().setRadius(5);var s=a[0].getImage().getImage(1).toDataURL();o.src=s}}))},a.push(e(o))),Object(n.ab)(this.options_.polygon)||(r=function(e){return new Promise((function(r,i){var o=new Image;if(o.onload=function(){return r(o)},o.onerror=i,!0===Object(n.T)(t.options_.polygon))o.src=e,o.width=30,o.height=30;else{var a=(0,v.Polygon)(t.options_,t,t.layer_),c=document.createElement("canvas");c.width=30,c.height=30;var u=c.getContext("2d"),h=Object(l.d)(u);h.setStyle(a[0],0,0);var f=[25,15],p=Math.floor(f[0]),d=Math.floor(f[1]),m=f[0]-p,y=f[1]-d;h.drawGeometry(new s.b([[[m+3,y+3],[p-3,y+3],[p-3,d-3],[m+3,d-3],[m+3,y+3]]])),o.src=c.toDataURL()}}))},a.push(r(o))),Object(n.ab)(this.options_.line)||(i=function(e){return new Promise((function(r,i){var o=new Image;if(o.onload=function(){return r(o)},o.onerror=i,!0===Object(n.T)(t.options_.line))o.src=e,o.width=30,o.height=30;else{var a=(0,v.LineString)(t.options_,t,t.layer_),s=document.createElement("canvas");s.width=30,s.height=30;var u=s.getContext("2d"),h=Object(l.d)(u);h.setStyle(a[0],0,0);var f=Object(n.ab)(a[0].getStroke())?1.5:a[0].getStroke().getWidth();h.drawGeometry(new c.a([[0+f/2,0+f/2],[25/3,7.5-f/2],[50/3,0+f/2],[25-f/2,7.5-f/2]])),o.src=s.toDataURL()}}))},a.push(i(o)));var u=document.createElement("canvas");u.width=200,u.height=50;var h=u.getContext("2d"),f=[0,60,120],p=0;return Promise.all(a).then((function(t){return t.forEach((function(t){h.drawImage(t,f[p],0),p+=1})),u.toDataURL()}))}},{key:"updateFacadeOptions",value:function(t){var e=this;this.olStyleFn_=function(r){var a=JSON.stringify(r.getProperties()),s=[];e.styles_=[];var c=r;if(c instanceof i.a||c instanceof o.a){var l=c.getGeometry().getType(),u=v[l];Object(n.U)(u)&&(s=u(t,c,e.layer_),e.styles_[a]=s)}else c=e;return s}}},{key:"drawGeometryToCanvas",value:function(t){}},{key:"updateCanvas",value:function(t){}},{key:"getCanvasSize",value:function(){return 0}},{key:"getRadius_",value:function(t){return t instanceof a.a?25:t instanceof u.a?t.getRadius():this.olStyleFn_()[0].getImage().getRadius()}}])&&m(e.prototype,r),h&&m(e,h),Object.defineProperty(e,"prototype",{writable:!1}),p}(h.a);e.a=O},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===n(a)?a:String(a)),i)}var o,a}function a(t,e){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=l(t);if(e){var i=l(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return c(this,r)}}function c(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(l,t);var e,r,n,c=s(l);function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(this,l),c.call(this,{points:1/0,fill:t.fill,radius:t.radius,snapToPixel:t.snapToPixel,stroke:t.stroke,atlasManager:t.atlasManager})}return e=l,(r=[{key:"clone",value:function(){var t=new l({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t}}])&&o(e.prototype,r),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(r(168).a);e.a=u},function(t,e,r){"use strict";var n=r(25),i=r(28),o=r(30),a=r(231),s=r(86),c=r(58),l=r(67),u=r(95),h=r(65),f=r(71),p=r(238),d=r(36);function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==m(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===m(o)?o:String(o)),n)}var i,o}function _(t,e){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=w(t);if(e){var i=w(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return v(this,r)}}function v(t,e){if(e&&("object"===m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return O(t)}function O(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var M=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}(w,t);var e,r,m,v=b(w);function w(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y(this,w);var r=e,n=new s.a({source:new c.a({features:new l.a,useSpatialIndex:!0}),name:"Cluster overlay",updateWhileAnimating:!0,updateWhileInteracting:!0,displayInLayerSwitcher:!1,style:r.featureStyle});return e.layers.push(n),r.filter=function(t,e){return!(!e&&t.get("selectclusterlink"))},(t=v.call(this,r)).map=r.map,t.pointRadius=r.pointRadius||12,t.circleMaxObjects=r.circleMaxObjects||10,t.maxObjects=r.maxObjects||60,t.spiral=!1!==r.spiral,t.animate=r.animate,t.animationDuration=r.animationDuration||500,t.selectCluster_=!1!==r.selectCluster,t.maxFeaturesToSelect=r.maxFeaturesToSelect,t.facadeLayer_=r.fLayer,t.style_=r.style,t.filter_=r.filter,t.overlayLayer_=n,t.originalHandleEvent=t.handleEvent,t.on("select",t.selectCluster.bind(O(t)),O(t)),t}return e=w,(r=[{key:"setMap",value:function(t){var e=this;this.getMap()&&(this.getMap().getView()&&this.getMap().getView().un("change:resolution",this.clear.bind(this)),this.getMap().removeLayer(this.overlayLayer_)),a.a.prototype.setMap.call(this,t),this.overlayLayer_.setMap(t),t&&t.getView()&&t.getView().on("change:resolution",this.clear.bind(this)),this.handleEvent=function(t){return e.originalHandleEvent.apply(e,[t]),!0}}},{key:"clear",value:function(){this.getFeatures().clear(),this.overlayLayer_.getSource().clear()}},{key:"getLayer",value:function(){return this.overlayLayer_}},{key:"refreshViewEvents",value:function(){this.getMap()&&this.getMap().getView()&&this.getMap().getView().on("change:resolution",this.clear.bind(this))}},{key:"selectCluster",value:function(t){if(t.selected.length){var e=t.selected[0];if(!e.get("selectclusterfeature")){var r=e.get("features");if(r&&1!==r.length)if(r&&!(r.length>this.maxFeaturesToSelect)||this.facadeLayer_.getImpl().getNumZoomLevels()-this.map.getZoom()==1){this.selectCluster_||this.getFeatures().clear();var n=e.getGeometry().getCoordinates(),i=this.getMap().getView().getResolution(),o=i*this.pointRadius*(.5+r.length/4);!this.spiral||r.length<=this.circleMaxObjects?(this.overlayLayer_.getSource().refresh(),this.drawFeaturesAndLinsInCircle_(r,i,o,n)):(this.overlayLayer_.getSource().refresh(),this.drawFeaturesAndLinsInSpiral_(r,i,n)),this.animate&&this.animateCluster_(n)}else{var a=d.a.getFeaturesExtent(r,this.map.getProjection().code);this.map.setBbox(a)}}}else this.clear()}},{key:"drawFeaturesAndLinsInCircle_",value:function(t,e,r,n){for(var i=Math.min(t.length,this.circleMaxObjects),o=0;o<i;o+=1){var a=2*Math.PI*(o/i);2!==i&&4!==i||(a+=Math.PI/4);var s=[n[0]+r*Math.sin(a),n[1]+r*Math.cos(a)];this.drawAnimatedFeatureAndLink_(t[o],e,n,s)}}},{key:"drawFeaturesAndLinsInSpiral_",value:function(t,e,r){for(var n,i=0,o=2*this.pointRadius,a=Math.min(this.maxObjects,t.length),s=0;s<a;s+=1){i+=(o+.1)/(n=o/2+o*i/(2*Math.PI));var c=e*n*Math.sin(i),l=e*n*Math.cos(i),u=[r[0]+c,r[1]+l];this.drawAnimatedFeatureAndLink_(t[s],e,r,u)}}},{key:"drawAnimatedFeatureAndLink_",value:function(t,e,r,a){var s=new n.a;t.getKeys().forEach((function(e){s.set(e,t.get(e))}));var c=t.getStyle();c||(c=this.facadeLayer_.getStyle().getImpl().oldOL3Layer.getStyle());var l=c(t,e),u=l.map?l.map((function(t){return t.clone()})):[l.clone()];s.setId(t.getId()),s.setStyle(u),s.set("features",[t]);var h=!0===["Point","MultiPoint"].includes(t.getGeometry().getType())?new i.a(a):t.getGeometry(),f=!0===["Point","MultiPoint"].includes(t.getGeometry().getType())?new o.a([r,a]):new o.a([r,d.a.getCentroid(t.getGeometry())]);s.set("geometry",h),this.overlayLayer_.getSource().addFeature(s);var p=new n.a({selectclusterlink:!0,geometry:f});this.overlayLayer_.getSource().addFeature(p)}},{key:"animateCluster_",value:function(t,e){var r=this;this.listenerKey_&&(this.overlayLayer_.setVisible(!0),Object(u.b)(this.listenerKey_));var n=this.overlayLayer_.getSource().getFeatures();if(n.length){this.overlayLayer_.setVisible(!1);var a=this.animationDuration||500,s=(new Date).getTime();this.listenerKey_=this.facadeLayer_.getImpl().getOL3Layer().on(["postrender","postcompose"],(function(e){for(var c=Object(f.b)(e),l=r.getMap().getView().getResolution(),d=Object(h.easeOut)((e.frameState.time-s)/a),m=0;m<n.length;m+=1){if(n[m].get("features")){var y=n[m],g=y.get("features")[0],_=y.getGeometry().getCoordinates();_[0]=t[0]+d*(_[0]-t[0]),_[1]=t[1]+d*(_[1]-t[1]);for(var b=new i.a(_),v=r.overlayLayer_.getStyle()(g,l).map((function(t){return t.clone()})),O=0;O<v.length;O+=1){var w=v[O];w.getImage().size||(w.getImage().size=[42,42]),c.setStyle(w),c.drawLineString(new o.a([t,_]))}var M=g.getStyle();M||(M=r.facadeLayer_.getStyle().getImpl().oldOL3Layer.getStyle());for(var E=M(g,l),x=E.map?E.map((function(t){return t.clone()})):[E.clone()],S=0;S<x.length;S+=1){var j=x[S],P=j.getImage();if(P instanceof p.a){var T=null==P.getOrigin()?[0,0]:P.getOrigin(),I=null==P.getAnchor()?[0,0]:P.getAnchor(),L=null==P.getSize()?[42,42]:P.getSize();P.size=L,P.anchor=I,P.origin=T,j.setImage(P)}c.setStyle(j),c.drawGeometry(b)}}if(d>1)return Object(u.b)(r.listenerKey_),r.overlayLayer_.setVisible(!0),void r.overlayLayer_.changed();e.frameState.animate=!0}}),this)}}}])&&g(e.prototype,r),m&&g(e,m),Object.defineProperty(e,"prototype",{writable:!1}),w}(a.a);e.a=M},function(t,e,r){"use strict";var n=r(31),i=r(75),o=r(0),a=r(630),s=r.n(a);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==c(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===c(o)?o:String(o)),n)}var i,o}var u=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.text_=e,this.coord_=[r.x,r.y],this.popup_=null,this.facadeMap_=null,this.panMapIfOutOfView=n}var e,r,a;return e=t,(r=[{key:"show",value:function(t){this.facadeMap_=t;var e=Object(n.c)(s.a,{vars:{info:this.text_},parseToHtml:!1});t.removePopup(),this.popup_=new i.a({panMapIfOutOfView:this.panMapIfOutOfView}),this.popup_.addTab({icon:"g-cartografia-comentarios",title:"Informacin",content:e}),t.addPopup(this.popup_,this.coord_)}},{key:"hide",value:function(){this.facadeMap_.removePopup()}},{key:"getPopup",value:function(){return this.popup_}},{key:"getCoordinate",value:function(){var t=this.coord;return Object(o.X)(t)&&(t=this.getPopup().getCoordinate()),t}},{key:"setCoordinate",value:function(t){var e=this.getPopup();Object(o.X)(e)||e.setCoordinate(t)}}])&&l(e.prototype,r),a&&l(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.a=u},function(t,e,r){"use strict";var n=r(287),i=r(0),o=r(3),a=r(78),s=r(9),c=r(6);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==l(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===l(o)?o:String(o)),n)}var i,o}function d(t,e){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=g(t);if(e){var i=g(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return y(this,r)}}function y(t,e){if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(h,t);var e,r,a,l=m(h);function h(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new n.a(e);return f(this,h),(t=l.call(this,r)).map_=null,t.layers_=[],t.activated_=!1,t.prevSelectedFeatures_={},t.prevHoverFeatures_={},Object(i.U)(r.addTo)||Object(o.a)(Object(c.e)("exception").addto_method),Object(i.U)(r.getFeaturesByLayer)||Object(o.a)(Object(c.e)("exception").getfeaturesbylayer_method),t}return e=h,(r=[{key:"addTo",value:function(t){this.map_=t,this.map_.on(s.C,this.moveOverMap_.bind(this)),this.map_.on(s.t,this.clickOnMap_.bind(this)),this.getImpl().addTo(this.map_),this.fire(s.i)}},{key:"clickOnMap_",value:function(t){var e=this;if(!0===this.activated_){var r=this.getImpl();this.map_.removePopup(),this.layers_.forEach((function(n,i){var o=r.getFeaturesByLayer(t,n),a=u(e.prevSelectedFeatures_[n.name]);if(a[0]===o[0]&&1===i&&o!==[]&&"click"===n.infoEventType&&e.selectFeatures(a,n,t),0===o.length&&a.length>0)"click"===n.infoEventType&&e.unselectFeatures(a,n,t);else if(o.length>0&&void 0!==o[0]){var s=o.filter((function(t){return!a.some((function(e){return e.equals(t)}))})),c=a.filter((function(t){return!o.some((function(e){return e.equals(t)}))}));c.length>0&&"click"===n.infoEventType&&e.unselectFeatures(c,n,t),s.length>0&&"click"===n.infoEventType&&e.selectFeatures(s,n,t)}}))}}},{key:"moveOverMap_",value:function(t){var e=this;if(!0===this.activated_){var r=this.getImpl();this.hookStopMoveEvent_(t).then((function(n){e.layers_.forEach((function(i){var o=r.getFeaturesByLayer(t,i),a=u(e.prevHoverFeatures_[i.name]);if(0===o.length&&a.length>0)"hover"===i.infoEventType&&e.unselectFeatures(a,i,t),e.leaveFeatures_(a,i,t);else if(o.length>0){var s=o.filter((function(t){return!a.some((function(e){return e.equals(t)}))})),c=a.filter((function(t){return!o.some((function(e){return e.equals(t)}))}));c.length>0&&("hover"===i.infoEventType&&e.unselectFeatures(c,i,t),e.leaveFeatures_(c,i,t)),s.length>0&&("hover"===i.infoEventType&&e.selectFeatures(s,i,n),e.hoverFeatures_(s,i,n))}}))}))}}},{key:"hookStopMoveEvent_",value:function(t){var e=this;return clearTimeout(this.mouseMoverTimer),new Promise((function(r){e.mouseMoverTimer=setTimeout((function(){r(t)}),50)}))}},{key:"selectFeatures",value:function(t,e,r){this.prevSelectedFeatures_[e.name]=this.prevSelectedFeatures_[e.name].concat(t);var n=e.getImpl();Object(i.U)(n.selectFeatures)&&n.selectFeatures(t,r.coord,r),e.fire(s.F,[t,r])}},{key:"unselectFeatures",value:function(t,e,r){this.prevSelectedFeatures_[e.name]=this.prevSelectedFeatures_[e.name].filter((function(e){return!t.some((function(t){return t.equals(e)}))}));var n=e.getImpl();Object(i.U)(n.unselectFeatures)&&n.unselectFeatures(t,r.coord),this.map_.getPopup()&&this.map_.getPopup().hide(),e.fire(s.H,[t,r.coord])}},{key:"hoverFeatures_",value:function(t,e,r){e.name&&(this.prevHoverFeatures_[e.name]=this.prevHoverFeatures_[e.name].concat(t),e.fire(s.y,[t,r]),this.getImpl().addCursorPointer(r))}},{key:"leaveFeatures_",value:function(t,e,r){this.prevHoverFeatures_[e.name]=this.prevHoverFeatures_[e.name].filter((function(e){return!t.some((function(t){return t.equals(e)}))})),e.fire(s.z,[t,r.coord]),this.getImpl().removeCursorPointer(r)}},{key:"activate",value:function(){!1===this.activated_&&(this.activated_=!0,this.fire(s.a))}},{key:"deactivate",value:function(){!0===this.activated_&&(this.activated_=!1,this.fire(s.v))}},{key:"addLayer",value:function(t){Object(i.P)(this.layers_,t)||(this.layers_.push(t),this.prevSelectedFeatures_[t.name]=[],this.prevHoverFeatures_[t.name]=[])}},{key:"removeLayer",value:function(t){this.layers_=this.layers_.filter((function(e){return!e.equals(t)})),this.prevSelectedFeatures_[t.name]=null,this.prevHoverFeatures_[t.name]=null,delete this.prevSelectedFeatures_[t.name],delete this.prevHoverFeatures_[t.name]}},{key:"destroy",value:function(){}},{key:"clearSelectedFeatures",value:function(){var t=this;Object.keys(this.prevSelectedFeatures_).forEach((function(e){t.prevSelectedFeatures_[e]=[]}))}},{key:"clearHoverFeatures",value:function(){var t=this;Object.keys(this.prevHoverFeatures_).forEach((function(e){t.prevHoverFeatures_[e]=[]}))}}])&&p(e.prototype,r),a&&p(e,a),Object.defineProperty(e,"prototype",{writable:!1}),h}(a.a);e.a=_},function(t,e,r){"use strict";var n=r(179),i=r(78),o=r(0);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===a(o)?o:String(o)),n)}var i,o}function c(t,e){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h(t);if(e){var i=h(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return u(this,r)}}function u(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(u,t);var e,r,i,a=l(u);function u(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var e=new n.a;return(t=a.call(this,e)).id_=Object(o.z)("mapea","render_feature"),t}return e=u,(r=[{key:"getId",value:function(){return this.id_}},{key:"getGeometry",value:function(){return null}},{key:"getAttributes",value:function(){return this.getImpl().getAttributes()}},{key:"getType",value:function(){return this.getImpl().getType()}},{key:"getAttribute",value:function(t){var e;if(e=this.getImpl().getAttribute(t),Object(o.X)(e)){var r=t.split(".");r.length>1&&(e=r.reduce((function(t,e){var r;return Object(o.X)(t)||(r=t instanceof u?t.getAttribute(e):t[e]),r}),this))}return e}},{key:"equals",value:function(t){return this.getId()===t.getId()}}])&&s(e.prototype,r),i&&s(e,i),Object.defineProperty(e,"prototype",{writable:!1}),u}(i.a);e.a=f},function(t,e,r){"use strict";var n,i=r(33),o=r(50),a=r(16),s=r(26),c=r(14),l=r(4),u=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),h="accuracy",f="accuracyGeometry",p="altitude",d="altitudeAccuracy",m="heading",y="position",g="projection",_="speed",b="tracking",v="trackingOptions",O=function(t){function e(e){var r=t.call(this,a.a.ERROR)||this;return r.code=e.code,r.message=e.message,r}return u(e,t),e}(o.a),w=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.position_=null,r.transform_=l.o,r.watchId_=void 0,r.addEventListener(Object(i.b)(g),r.handleProjectionChanged_),r.addEventListener(Object(i.b)(b),r.handleTrackingChanged_),void 0!==n.projection&&r.setProjection(n.projection),void 0!==n.trackingOptions&&r.setTrackingOptions(n.trackingOptions),r.setTracking(void 0!==n.tracking&&n.tracking),r}return u(e,t),e.prototype.disposeInternal=function(){this.setTracking(!1),t.prototype.disposeInternal.call(this)},e.prototype.handleProjectionChanged_=function(){var t=this.getProjection();t&&(this.transform_=Object(l.m)(Object(l.j)("EPSG:4326"),t),this.position_&&this.set(y,this.transform_(this.position_)))},e.prototype.handleTrackingChanged_=function(){if("geolocation"in navigator){var t=this.getTracking();t&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):t||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},e.prototype.positionChange_=function(t){var e=t.coords;this.set(h,e.accuracy),this.set(p,null===e.altitude?void 0:e.altitude),this.set(d,null===e.altitudeAccuracy?void 0:e.altitudeAccuracy),this.set(m,null===e.heading?void 0:Object(c.i)(e.heading)),this.position_?(this.position_[0]=e.longitude,this.position_[1]=e.latitude):this.position_=[e.longitude,e.latitude];var r=this.transform_(this.position_);this.set(y,r),this.set(_,null===e.speed?void 0:e.speed);var n=Object(s.a)(this.position_,e.accuracy);n.applyTransform(this.transform_),this.set(f,n),this.changed()},e.prototype.positionError_=function(t){this.setTracking(!1),this.dispatchEvent(new O(t))},e.prototype.getAccuracy=function(){return this.get(h)},e.prototype.getAccuracyGeometry=function(){return this.get(f)||null},e.prototype.getAltitude=function(){return this.get(p)},e.prototype.getAltitudeAccuracy=function(){return this.get(d)},e.prototype.getHeading=function(){return this.get(m)},e.prototype.getPosition=function(){return this.get(y)},e.prototype.getProjection=function(){return this.get(g)},e.prototype.getSpeed=function(){return this.get(_)},e.prototype.getTracking=function(){return this.get(b)},e.prototype.getTrackingOptions=function(){return this.get(v)},e.prototype.setProjection=function(t){this.set(g,Object(l.j)(t))},e.prototype.setTracking=function(t){this.set(b,t)},e.prototype.setTrackingOptions=function(t){this.set(v,t)},e}(i.a);e.a=w},function(t,e,r){"use strict";var n=r(105),i=r(64),o=r(0),a=r(91),s=r(3),c=r(6);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==l(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===l(o)?o:String(o)),n)}var i,o}function p(t,e){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=y(t);if(e){var i=y(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}function m(t,e){if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(h,t);var e,r,n,l=d(h);function h(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),(n=l.call(this)).map_=t,n.url_=e,n.format_=r,n}return e=h,(r=[{key:"getLoaderFn",value:function(t){var e=this;return function(r,n,i,o,a,s){e.loadInternal_(i,o,a,s).then((function(e){t(e)}))}}},{key:"loadInternal_",value:function(t,e,r,n){var l=this;return new Promise((function(t,h){Object(i.b)(l.url_).then((function(i){var h=(new DOMParser).parseFromString(i.text,"text/xml"),f=!1;if(!Object(o.ab)(r)){var p=h.getElementsByTagName("Folder"),d=-1,m=u(p).map((function(t){return t.cloneNode(!0)}));n&&m.map((function(t){var e;do{(e=t.querySelector(":scope > Folder"))&&t.removeChild(e)}while(e);return t})),Array.from(p).forEach((function(t){t.parentNode.removeChild(t)}));var y=m.filter((function(t){var e=t.querySelector(":scope > name");return d+=1,e?r.includes(e.textContent.trim()):r.includes("Layer__".concat(d))})),g=h.querySelector("kml > Document");y.forEach((function(t){g.appendChild(t)})),f=!0}if(!Object(o.ab)(e)){var _=h.getElementsByTagName("Style");if(0===_.length){var b=h.createElement("Style");b.id="defaultLabelStyle";var v=h.createElement("LabelStyle");v.innerHTML="<scale>".concat(e,"</scale>"),b.appendChild(v),h.getElementsByTagName("Document")[0].appendChild(b),Array.from(h.getElementsByTagName("Placemark")).forEach((function(t){var e=t.getElementsByTagName("styleUrl");if(0===e.length){var r=h.createElement("styleUrl");r.innerHTML="#defaultLabelStyle",t.appendChild(r)}else e[0].innerHTML="#defaultLabelStyle"}))}else Array.from(_).forEach((function(t){var r=t.getElementsByTagName("LabelStyle");if(0===r.length){var n=h.createElement("LabelStyle");n.innerHTML="<scale>".concat(e,"</scale>"),t.appendChild(n)}else{var i=r[0].getElementsByTagName("scale");if(0===i.length){var o=h.createElement("scale");o.innerHTML="".concat(e),r[0].appendChild(o)}else i[0].innerHTML="".concat(e)}}));f=!0}if(f){var O=(new XMLSerializer).serializeToString(h);i.text=O}var w=l.map_.getProjection().code;if(Object(o.X)(i.text))Object(s.a)(Object(c.e)("exception").no_kml_response);else{var M=l.format_.readCustomFeatures(i.text,{featureProjection:w}),E=l.format_.getScreenOverlay(),x=M.map((function(t){var e=new a.a(t.getId(),{geometry:{coordinates:t.getGeometry().getCoordinates(),type:t.getGeometry().getType()},properties:t.getProperties()});return e.getImpl().getOLFeature().setStyle(t.getStyle()),e}));t({features:x,screenOverlay:E})}}))}))}}])&&f(e.prototype,r),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),h}(n.a);e.a=g},function(t,e,r){"use strict";var n=r(0),i=r(283),o=r(79),a=r(66),s=r(1);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==c(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===c(o)?o:String(o)),n)}var i,o}function h(t,e){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p(this,r)}}function p(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(p,t);var e,r,i,c=f(p);function p(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(this,p),(t=c.call(this,{showPointNames:e.label,extractStyles:e.extractStyles})).screenOverlay_=null,t}return e=p,(r=[{key:"readCustomFeatures",value:function(t,e){var r=this.readFeatures(t,e).map((function(t){var e=t.getStyle();if(!Object(n.X)(e)){var r=e(t);Array.isArray(r)||(r=[r]),r.forEach((function(t){if(t.getImage()instanceof a.a){var e=t.getImage();t.setImage(e)}}))}return t.set("name",Object(n.j)(t.get("name"))),t}));return this.readScreenOverlay(t),r}},{key:"readScreenOverlay",value:function(t){var e=Object(s.s)(t).querySelector("ScreenOverlay");if(null!==e){var r,n,i,a,c,l,u=e.querySelector("Icon"),h=null!==u?u.querySelector("href").innerHTML:p.DEFAULT_NO_IMAGE_STYLE,f=e.querySelector("overlayXY");null!==f&&(r=[parseFloat(f.getAttribute("x")),parseFloat(f.getAttribute("y"))],n=f.getAttribute("xunits"),i=f.getAttribute("yunits"));var d,m,y,g=e.querySelector("screenXY");null!==g?(a=[parseFloat(g.getAttribute("x")),parseFloat(g.getAttribute("y"))],c=g.getAttribute("xunits"),l=g.getAttribute("yunits")):h===p.DEFAULT_IMAGE_STYLE_SRC?(a=p.DEFAULT_IMAGE_STYLE_ANCHOR,c=p.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS,l=p.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(h)&&(a=[.5,0],c=o.c.FRACTION,l=o.c.FRACTION);var _,b,v,O=e.querySelector("rotationXY");if(null!==O){var w=parseFloat(O.getAttribute("x"));d=Math.PI/180*w,m=O.getAttribute("xunits"),y=O.getAttribute("yunits")}var M=e.querySelector("size");null!==M&&(_=[parseFloat(M.getAttribute("x")),parseFloat(M.getAttribute("y"))],b=M.getAttribute("xunits"),v=M.getAttribute("yunits")),this.screenOverlay_={screenXY:a,screenXUnits:c,screenYUnits:l,overlayXY:r,overlayXUnits:n,overlayYUnits:i,rotationXY:d,rotationXUnits:m,rotationYUnits:y,size:_,sizeXUnits:b,sizeYUnits:v,src:h}}}},{key:"getScreenOverlay",value:function(){return this.screenOverlay_}}])&&u(e.prototype,r),i&&u(e,i),Object.defineProperty(e,"prototype",{writable:!1}),p}(i.a);m.DEFAULT_NO_IMAGE_STYLE="NO_IMAGE",m.DEFAULT_IMAGE_STYLE_SRC="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",m.DEFAULT_IMAGE_STYLE_ANCHOR=[20,2],m.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS="pixels",m.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS="pixels",e.a=m},function(t,e,r){"use strict";var n=r(64),i=r(0),o=r(294);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===a(o)?o:String(o)),n)}var i,o}var c=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.url_=e.url,this.namespace_=e.namespace,this.name_=e.name,this.typeName_=this.name_,Object(i.X)(this.namespace_)||(this.typeName_=this.namespace_.concat(":").concat(this.name_)),this.version_=e.version,this.ids_=e.ids,this.cql_=e.cql,this.projection_=e.projection,this.getFeatureOutputFormat_=e.getFeatureOutputFormat,Object(i.X)(this.getFeatureOutputFormat_)&&(this.getFeatureOutputFormat_="application/json"),this.describeFeatureTypeOutputFormat_=e.describeFeatureTypeOutputFormat,this.getFeatureVendor_={},Object(i.X)(r)||Object(i.X)(r.getFeature)||(this.getFeatureVendor_=r.getFeature),this.describeFeatureTypeVendor_={},Object(i.X)(r)||Object(i.X)(r.describeFeatureType)||(this.describeFeatureTypeVendor_=r.describeFeatureType)}var e,r,a;return e=t,(r=[{key:"getDescribeFeatureType",value:function(){var t={service:"WFS",version:this.version_,request:"DescribeFeatureType",typename:this.typeName_};Object(i.X)(this.describeFeatureTypeOutputFormat_)||(t.outputFormat=this.describeFeatureTypeOutputFormat_);var e=Object(i.b)(this.url_,t),r=Object(i.b)(e,this.describeFeatureTypeVendor_),a=this.describeFeatureTypeOutputFormat_,s=new o.a(this.name_,a,this.projection_);return new Promise((function(t,e){Object(n.b)(r).then((function(e){t(s.read(e))}))}))}},{key:"getFeatureUrl",value:function(t,e){var r=this,n={service:"WFS",version:this.version_,request:"GetFeature",typename:this.typeName_,outputFormat:this.getFeatureOutputFormat_,srsname:e.getCode()};return Object(i.X)(this.ids_)||(n.featureId=this.ids_.map((function(t){return r.name_.concat(".").concat(t)}))),Object(i.X)(this.cql_)?Object(i.X)(t)||(n.bbox="".concat(t.join(","),",").concat(e.getCode())):n.CQL_FILTER=this.cql_,Object(i.b)(Object(i.b)(this.url_,n),this.getFeatureVendor_)}}])&&s(e.prototype,r),a&&s(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.a=c},function(t,e,r){"use strict";var n,i=r(10),o=r(20),a=r(57),s=r(17),c=r(16),l=r(2),u=r(192),h=r(45),f=r(424),p=r(273),d=r(56),m=r(164),y=r(18),g=r(307),_=r(15),b=r(297),v=r(29),O=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),w={image:[h.a.POLYGON,h.a.CIRCLE,h.a.LINE_STRING,h.a.IMAGE,h.a.TEXT],hybrid:[h.a.POLYGON,h.a.LINE_STRING],vector:[]},M={image:[h.a.DEFAULT],hybrid:[h.a.IMAGE,h.a.TEXT,h.a.DEFAULT],vector:[h.a.POLYGON,h.a.CIRCLE,h.a.LINE_STRING,h.a.IMAGE,h.a.TEXT,h.a.DEFAULT]},E=function(t){function e(e){var r=t.call(this,e)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.dirty_=!1,r.renderedLayerRevision_,r.renderedPixelToCoordinateTransform_=null,r.renderedRotation_,r.renderTileImageQueue_={},r.tileListenerKeys_={},r.tmpTransform_=Object(y.d)(),r}return O(e,t),e.prototype.prepareTile=function(t,e,r,n){var a,c=Object(i.c)(t),l=t.getState();return(l===o.a.LOADED&&t.hifi||l===o.a.ERROR)&&c in this.tileListenerKeys_&&(Object(s.c)(this.tileListenerKeys_[c]),delete this.tileListenerKeys_[c]),l!==o.a.LOADED&&l!==o.a.ERROR||(this.updateExecutorGroup_(t,e,r),this.tileImageNeedsRender_(t,e,r)&&(a=!0,n&&(this.renderTileImageQueue_[c]=t))),a},e.prototype.getTile=function(e,r,n,l){var h=l.pixelRatio,f=l.viewState,p=f.resolution,d=f.projection,m=this.getLayer(),y=m.getSource().getTile(e,r,n,h,d);if(y.getState()<o.a.LOADED){y.wantedResolution=p;var g=Object(i.c)(y);if(!(g in this.tileListenerKeys_)){var _=Object(s.a)(y,c.a.CHANGE,this.prepareTile.bind(this,y,h,d,!0));this.tileListenerKeys_[g]=_}}else{var b=l.viewHints;!!(b[a.a.ANIMATING]||b[a.a.INTERACTING])&&y.wantedResolution||(y.wantedResolution=p),this.prepareTile(y,h,d,!1)&&m.getRenderMode()!==u.a.VECTOR&&this.renderTileImage_(y,l)}return t.prototype.getTile.call(this,e,r,n,l)},e.prototype.isDrawableTile=function(e){var r=this.getLayer();return t.prototype.isDrawableTile.call(this,e)&&r.getRenderMode()===u.a.VECTOR||e.hasContext(r)},e.prototype.getTileImage=function(t){return t.getImage(this.getLayer())},e.prototype.prepareFrame=function(e){var r=this.getLayer().getRevision();return this.renderedLayerRevision_!=r&&(this.renderedTiles.length=0),this.renderedLayerRevision_=r,t.prototype.prepareFrame.call(this,e)},e.prototype.updateExecutorGroup_=function(t,e,r){var n=this.getLayer(),a=n.getRevision(),s=n.getRenderOrder()||null,c=t.wantedResolution,h=t.getReplayState(n);if(h.dirty||h.renderedResolution!==c||h.renderedRevision!=a||h.renderedRenderOrder!=s||h.renderedZ!==t.sourceZ){var p=n.getSource(),d=p.getTileGrid(),y=p.getTileGridForProjection(r).getTileCoordExtent(t.wrappedTileCoord),_=p.getSourceTiles(e,r,t),b=Object(i.c)(n);delete t.hitDetectionImageData[b],t.executorGroups[b]=[];for(var v=function(r,i){var a=_[r];if(a.getState()!=o.a.LOADED)return"continue";var v=a.tileCoord,w=d.getTileCoordExtent(v),M=Object(l.C)(y,w),E=Object(l.q)(w,M)?null:Object(l.d)(M,n.getRenderBuffer()*c,O.tmpExtent);h.dirty=!1;var x=new f.a(0,M,c,e,n.getDeclutter()),S=Object(m.b)(c,e),j=function(t){var e,r=t.getStyleFunction()||n.getStyleFunction();if(r&&(e=r(t,c)),e){var i=this.renderFeature(t,S,e,x);this.dirty_=this.dirty_||i,h.dirty=h.dirty||i}},P=a.getFeatures();s&&s!==h.renderedRenderOrder&&P.sort(s);for(var T=0,I=P.length;T<I;++T){var L=P[T];E&&!Object(l.H)(E,L.getGeometry().getExtent())||j.call(O,L)}var R=x.finish(),C=n.getRenderMode()!==u.a.VECTOR&&n.getDeclutter()&&1===_.length?null:M,A=new g.a(C,c,e,p.getOverlaps(),R,n.getRenderBuffer());t.executorGroups[b].push(A)},O=this,w=0,M=_.length;w<M;++w)v(w);h.renderedRevision=a,h.renderedZ=t.sourceZ,h.renderedRenderOrder=s,h.renderedResolution=c}},e.prototype.forEachFeatureAtCoordinate=function(t,e,r,n,o){var a=e.viewState.resolution,s=e.viewState.rotation;r=null==r?0:r;var c,u,h,f=this.getLayer(),p=f.getDeclutter(),d=f.getSource().getTileGridForProjection(e.viewState.projection),m={},y=this.renderedTiles,g=function(){var e=y[u],h=d.getTileCoordExtent(e.wrappedTileCoord),g=Object(l.g)(h,t);if(!p&&!g)return"continue";for(var _=e.executorGroups[Object(i.c)(f)],b=0,v=_.length;b<v;++b){var O=_[b];c=c||O.forEachFeatureAtCoordinate(t,a,s,r,(function(t){if(g||o&&-1!==o.indexOf(t)){var e=t.getId();if(void 0===e&&(e=Object(i.c)(t)),!(e in m))return m[e]=!0,n(t,f)}}),f.getDeclutter()?o:null)}};for(u=0,h=y.length;u<h;++u)g();return c},e.prototype.getFeatures=function(t){return new Promise(function(e,r){for(var n,a=this.getLayer(),s=Object(i.c)(a),c=a.getSource(),u=this.renderedProjection,h=u.getExtent(),f=this.renderedResolution,p=c.getTileGridForProjection(u),m=Object(y.a)(this.renderedPixelToCoordinateTransform_,t.slice()),g=p.getTileCoordForCoordAndResolution(m,f),_=0,O=this.renderedTiles.length;_<O;++_)if(g.toString()===this.renderedTiles[_].tileCoord.toString()){if((n=this.renderedTiles[_]).getState()===o.a.LOADED&&n.hifi){var w=p.getTileCoordExtent(n.tileCoord);c.getWrapX()&&u.canWrapX()&&!Object(l.h)(h,w)&&Object(v.o)(m,u);break}n=void 0}if(!n||n.loadingSourceTiles>0)e([]);else{var M=p.getTileCoordExtent(n.wrappedTileCoord),E=Object(l.E)(M),x=[(m[0]-E[0])/f,(E[1]-m[1])/f],S=n.getSourceTiles().reduce((function(t,e){return t.concat(e.getFeatures())}),[]),j=n.hitDetectionImageData[s];if(!j&&!this.animatingOrInteracting_){var P=Object(d.d)(p.getTileSize(p.getZForResolution(f))),T=[P[0]/2,P[1]/2],I=this.renderedRotation_,L=[this.getRenderTransform(p.getTileCoordCenter(n.wrappedTileCoord),f,0,.5,T[0],T[1],0)];j=Object(b.a)(P,L,S,a.getStyleFunction(),p.getTileCoordExtent(n.wrappedTileCoord),n.getReplayState(a).renderedResolution,I),n.hitDetectionImageData[s]=j}e(Object(b.b)(x,S,j))}}.bind(this))},e.prototype.handleFontsChanged=function(){Object(_.b)(this.renderTileImageQueue_);var t=this.getLayer();t.getVisible()&&void 0!==this.renderedLayerRevision_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.renderFrame=function(e,r){var n=e.viewHints,o=!(n[a.a.ANIMATING]||n[a.a.INTERACTING]);this.renderQueuedTileImages_(o,e),t.prototype.renderFrame.call(this,e,r),this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice(),this.renderedRotation_=e.viewState.rotation;var s=this.getLayer(),c=s.getRenderMode();if(c===u.a.IMAGE)return this.container;var l=s.getSource(),h=e.usedTiles[Object(i.c)(l)];for(var f in this.renderTileImageQueue_)h&&f in h||delete this.renderTileImageQueue_[f];for(var p=this.context,d=s.getDeclutter()?{}:null,m=M[c],_=e.pixelRatio,b=e.viewState,v=b.center,O=b.resolution,w=b.rotation,E=e.size,x=Math.round(E[0]*_),S=Math.round(E[1]*_),j=this.renderedTiles,P=l.getTileGridForProjection(e.viewState.projection),T=[],I=[],L=j.length-1;L>=0;--L)for(var R=j[L],C=R.tileCoord,A=P.getTileCoordExtent(R.wrappedTileCoord),k=P.getTileCoordExtent(C,this.tmpExtent)[0]-A[0],N=Object(y.g)(Object(y.j)(this.inversePixelTransform.slice(),1/_,1/_),this.getRenderTransform(v,O,w,_,x,S,k)),D=R.executorGroups[Object(i.c)(s)],F=!1,B=0,U=D.length;B<U;++B){var G=D[B];if(G.hasExecutors(m)){var z=R.tileCoord[0],W=void 0;if(!d&&!F){W=G.getClipCoords(N),p.save();for(var X=0,q=T.length;X<q;++X){var V=T[X];z<I[X]&&(p.beginPath(),p.moveTo(W[0],W[1]),p.lineTo(W[2],W[3]),p.lineTo(W[4],W[5]),p.lineTo(W[6],W[7]),p.moveTo(V[6],V[7]),p.lineTo(V[4],V[5]),p.lineTo(V[2],V[3]),p.lineTo(V[0],V[1]),p.clip())}}G.execute(p,N,w,o,m,d),d||F||(p.restore(),T.push(W),I.push(z),F=!0)}}if(d){var Y=e.layerStatesArray[e.layerIndex];Object(g.b)(d,p,w,Y.opacity,o,e.declutterItems)}return this.container},e.prototype.renderQueuedTileImages_=function(t,e){for(var r in this.renderTileImageQueue_){if(!t&&Date.now()-e.time>8){e.animate=!0;break}var n=this.renderTileImageQueue_[r];delete this.renderTileImageQueue_[r],this.renderTileImage_(n,e)}},e.prototype.renderFeature=function(t,e,r,n){if(!r)return!1;var i=!1;if(Array.isArray(r))for(var o=0,a=r.length;o<a;++o)i=Object(m.d)(n,t,r[o],e,this.boundHandleStyleImageChange_)||i;else i=Object(m.d)(n,t,r,e,this.boundHandleStyleImageChange_);return i},e.prototype.tileImageNeedsRender_=function(t,e,r){var n=this.getLayer(),i=t.getReplayState(n),o=n.getRevision(),a=t.sourceZ,s=t.wantedResolution;return i.renderedTileResolution!==s||i.renderedTileRevision!==o||i.renderedTileZ!==a},e.prototype.renderTileImage_=function(t,e){var r=this.getLayer(),n=t.getReplayState(r),o=r.getRevision(),a=t.executorGroups[Object(i.c)(r)];n.renderedTileRevision=o,n.renderedTileZ=t.sourceZ;var s=t.wrappedTileCoord,c=s[0],l=r.getSource(),u=e.pixelRatio,h=e.viewState.projection,f=l.getTileGridForProjection(h),p=f.getResolution(t.tileCoord[0]),d=e.pixelRatio/t.wantedResolution*p,m=f.getResolution(c),g=t.getContext(r);u=Math.max(u,d/u);var _=l.getTilePixelSize(c,u,h);g.canvas.width=_[0],g.canvas.height=_[1];var b=u/d;if(1!==b){var v=Object(y.h)(this.tmpTransform_);Object(y.j)(v,b,b),g.setTransform.apply(g,v)}var O=f.getTileCoordExtent(s,this.tmpExtent),M=d/m,E=Object(y.h)(this.tmpTransform_);Object(y.j)(E,M,-M),Object(y.m)(E,-O[0],-O[3]);for(var x=0,S=a.length;x<S;++x){a[x].execute(g,E,0,!0,w[r.getRenderMode()])}n.renderedTileResolution=t.wantedResolution},e}(p.a);e.a=E},function(t,e,r){"use strict";var n=r(64),i=r(0),o=r(294);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===a(o)?o:String(o)),n)}var i,o}var c=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.url_=e.url,this.name_=e.name,this.format_=e.format,this.limit_=e.limit,this.offset_=e.offset,this.id_=e.id,this.bbox_=e.bbox,this.cql_=r.cql,this.conditional_=e.conditional,this.projection_=e.projection,this.getFeatureOutputFormat_=e.getFeatureOutputFormat,Object(i.X)(this.getFeatureOutputFormat_)&&(this.getFeatureOutputFormat_="application/json"),this.describeFeatureTypeOutputFormat_=e.describeFeatureTypeOutputFormat,this.getFeatureVendor_={},Object(i.X)(r)||Object(i.X)(r.getFeature)||(this.getFeatureVendor_=r.getFeature),this.describeFeatureTypeVendor_={},Object(i.X)(r)||Object(i.X)(r.describeFeatureType)||(this.describeFeatureTypeVendor_=r.describeFeatureType)}var e,r,a;return e=t,(r=[{key:"getDescribeFeatureType",value:function(){var t={service:"OGCAPIFeatures",request:"DescribeFeatureType"};Object(i.X)(this.describeFeatureTypeOutputFormat_)||(t.outputFormat=this.describeFeatureTypeOutputFormat_);var e=Object(i.b)(this.url_,t),r=Object(i.b)(e,this.describeFeatureTypeVendor_),a=this.describeFeatureTypeOutputFormat_,s=new o.a(this.name_,a,this.projection_);return new Promise((function(t,e){Object(n.b)(r).then((function(e){t(s.read(e))}))}))}},{key:"getFeatureUrl",value:function(){var t,e=this,r={};if(Object(i.X)(this.name_)||(this.url_="".concat(this.url_).concat(this.name_,"/items")),Object(i.X)(this.format_)||(r.f=this.format_),Object(i.X)(this.id_)){if(this.url_="".concat(this.url_,"?"),Object(i.X)(this.limit_)||(r.limit=this.limit_),Object(i.X)(this.offset_)||(r.offset=this.offset_),Object(i.X)(this.bbox_)||(r.bbox=this.bbox_),t=Object(i.b)(Object(i.b)(this.url_,r),this.getFeatureVendor_),Object(i.X)(this.cql_)||(r.filter=this.cql_,t+="filter=".concat(encodeURIComponent(this.cql_))),!Object(i.X)(this.conditional_)){var n="";Object.keys(this.conditional_).forEach((function(t){var r="&".concat(t,"=").concat(e.conditional_[t],"&");n+=r})),r.conditional=n,t+=r.conditional}}else this.url_="".concat(this.url_).concat(this.id_,"?"),t=Object(i.b)(Object(i.b)(this.url_,r),this.getFeatureVendor_);return t=t.replaceAll(" ","%20")}}])&&s(e.prototype,r),a&&s(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.a=c},function(t,e,r){"use strict";var n=r(342),i=r(36),o=r(0),a=r(3),s=r(51),c=r(6),l=r(11),u=r(12);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e,r){return(e=g(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g(n.key),n)}}function g(t){var e=function(t,e){if("object"!==h(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===h(e)?e:String(e)}function _(t,e){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=w(t);if(e){var i=w(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return v(this,r)}}function v(t,e){if(e&&("object"===h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return O(t)}function O(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var M=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}(f,t);var e,r,s,h=b(f);function f(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};m(this,f);var d=p(p({},e),r),y=r,g=s;"string"==typeof e?g=(d=l.Cb(e,u.GenericRaster)).vendorOptions:Object(o.X)(e)||(d.type=u.GenericRaster),d.name?y.name=d.name:g&&(y.name=i.a.addFacadeName(d.name,g),d.name=d.name||y.name),d.legend?y.legend=d.legend:g&&(y.legend=i.a.addFacadeLegend(g)||d.name,d.legend=d.legend||y.legend),Object(o.ab)(n.a)&&Object(a.a)(Object(c.e)("exception").generic_method),y.userMaxExtent=d.maxExtent||y.userMaxExtent;var _=new n.a(y,g,"raster");return(t=h.call(this,d,_)).version=d.version||"1.3.0",!Object(o.X)(_)&&Object(o.U)(_.setFacadeObj)&&_.setFacadeObj(O(t)),t}return e=f,(r=[{key:"getMaxExtent",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=t?this.getImpl().getMaxExtent():this.maxExtent_;return(Object(o.ab)(e)||Object(o.X)(e))&&(e=this.map_.getProjection().getExtent()),e}},{key:"calculateMaxExtent",value:function(){var t=this;return new Promise((function(e){return e(t.getMaxExtent(!1))}))}},{key:"setMaxExtent",value:function(t){var e=t;!Object(o.R)(t)&&Object(o.Y)(t)&&(e=[t.x.min,t.y.min,t.x.max,t.y.max]),this.getImpl().setMaxExtent(e)}},{key:"url",get:function(){return this.getImpl().getURLService()},set:function(t){this.getImpl().setURLService(t)}},{key:"version",get:function(){return this.getImpl().version},set:function(t){Object(o.X)(t)||this.getImpl().setVersion(t)}},{key:"equals",value:function(t){var e=!1;return t instanceof f&&(e=this.legend===t.legend,e=e&&this.url===t.url,e=e&&this.name===t.name),e}}])&&y(e.prototype,r),s&&y(e,s),Object.defineProperty(e,"prototype",{writable:!1}),f}(s.a);e.a=M},function(t,e,r){"use strict";var n=r(343),i=r(36),o=r(0),a=r(3),s=r(77),c=r(6),l=r(9),u=r(11),h=r(12),f=r(88);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function y(t,e,r){return(e=b(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b(n.key),n)}}function b(t){var e=function(t,e){if("object"!==p(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===p(e)?e:String(e)}function v(t,e){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=E(t);if(e){var i=E(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return w(this,r)}}function w(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return M(t)}function M(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(d,t);var e,r,s,p=O(d);function d(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};g(this,d);var l=m(m({},e),r),f=r,y=s;"string"==typeof e?y=(l=u.Cb(e,h.GenericVector)).vendorOptions:Object(o.X)(e)||(l.type=h.GenericVector),l.name?f.name=l.name:y&&(f.name=i.a.addFacadeName(l.name,y),l.name=l.name||f.name),l.legend?f.legend=l.legend:y&&(f.legend=i.a.addFacadeLegend(y)||l.name,l.legend=l.legend||f.legend),l.infoEventType=e.infoEventType||"click",f.userMaxExtent=l.maxExtent||f.userMaxExtent,Object(o.ab)(n.a)&&Object(a.a)(Object(c.e)("exception").generic_method);var _=new n.a(r,y,"vector");return t=p.call(this,l,r,y,_),!Object(o.X)(_)&&Object(o.U)(_.setFacadeObj)&&_.setFacadeObj(M(t)),t.sourceType=_.sourceType,t.ids=e.ids,t.version=l.version,t.cql=l.cql,Object(o.X)(t.namespace)&&(Object(o.X)(e.namespace)?t.namespace=void 0:t.namespace=e.namespace),t.extract=void 0!==e.extract&&e.extract,t.styleFacade=l.style,t}return e=d,(r=[{key:"getMaxExtent",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=t?this.getImpl().getMaxExtent():this.maxExtent_;return(Object(o.ab)(e)||Object(o.X)(e))&&(e=this.map_.getProjection().getExtent()),e}},{key:"calculateMaxExtent",value:function(){var t=this;return new Promise((function(e){return e(t.getMaxExtent(!1))}))}},{key:"setMaxExtent",value:function(t){var e=t;!Object(o.R)(t)&&Object(o.Y)(t)&&(e=[t.x.min,t.y.min,t.x.max,t.y.max]),this.getImpl().setMaxExtent(e)}},{key:"url",get:function(){return this.getImpl().getURLService()},set:function(t){this.getImpl().setURLService(t)}},{key:"extract",get:function(){return this.getImpl().extract},set:function(t){Object(o.X)(t)?this.getImpl().extract=!1:Object(o.Z)(t)?this.getImpl().extract="true"===Object(o.db)(t):this.getImpl().extract=t}},{key:"version",get:function(){return this.getImpl().version},set:function(t){Object(o.X)(t)?this.getImpl().version="1.0.0":this.getImpl().version=t}},{key:"cql",get:function(){return this.getImpl().cql},set:function(t){this.getImpl().cql=t}},{key:"setCQL",value:function(t){var e=this,r=t;this.getImpl().getDescribeFeatureType().then((function(t){if(!Object(o.X)(r)){var n=t.geometryName;r=r.replace(/{{geometryName}}/g,n)}e.getImpl().cql!==r&&e.getImpl().setCQL(r)}))}},{key:"ids",get:function(){return this.getImpl().ids},set:function(t){Object(o.X)(t)?this.getImpl().ids=this.ids:this.getImpl().ids=t}},{key:"getStyle",value:function(){return this.styleFacade?this.style_:new f.a(this.constructor.DEFAULT_OPTIONS_STYLE)}},{key:"equals",value:function(t){var e=!1;return t instanceof d&&(e=this.legend===t.legend,e=e&&this.url===t.url,e=e&&this.name===t.name,e=e&&this.cql===t.cql),e}},{key:"addFeatures",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t;Object(o.X)(n)||(Object(o.R)(n)||(n=[n]),this.getImpl().isLoaded()?this.getImpl().addFeatures(n,r):this.getImpl().on(l.A,(function(){e.getImpl().addFeatures(n,r)})))}}])&&_(e.prototype,r),s&&_(e,s),Object.defineProperty(e,"prototype",{writable:!1}),d}(s.a);e.a=x},function(t,e,r){"use strict";var n=r(105),i=r(64),o=r(3),a=r(0),s=r(6);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==c(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===c(o)?o:String(o)),n)}var i,o}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=p(t);if(e){var i=p(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f(this,r)}}function f(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(f,t);var e,r,n,c=h(f);function f(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),(n=c.call(this)).map_=t,n.url_=e,n.format_=r,n}return e=f,(r=[{key:"getLoaderFn",value:function(t){var e=this;return function(r,n,i){e.loadInternal_(i).then((function(r){t.apply(e,r)}))}}},{key:"loadInternal_",value:function(t){var e=this;return new Promise((function(r){Object(i.b)(e.url_).then((function(n){if(Object(a.X)(n.text))Object(o.a)(Object(s.e)("exception").no_service_response);else{var i=n.text.replace("urn:ogc:def:crs:OGC:1.3:CRS84","urn:ogc:def:crs:EPSG::4326"),c=e.format_.read(i,{featureProjection:t});r.call(e,[c])}}))}))}}])&&l(e.prototype,r),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),f}(n.a);e.a=d},function(t,e,r){"use strict";var n=r(210);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(a)?a:String(a)),n)}var o,a}function s(){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=c(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function c(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}function l(t,e){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h(this,r)}}function h(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(h,t);var e,r,i,c=u(h);function h(){var t;return o(this,h),(t=c.call(this)).map_=null,t}return e=h,(r=[{key:"addTo",value:function(t,e){var r=this;t.getMapImpl().getInteractions().forEach((function(t){t instanceof n.a&&(r.dblClickInteraction_=t)})),s(f(h.prototype),"addTo",this).call(this,t,e)}},{key:"registerEvent",value:function(t,e,r){e.getMapImpl().on(t,r)}},{key:"destroy",value:function(){s(f(h.prototype),"destroy",this).call(this)}}])&&a(e.prototype,r),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),h}(r(131).a);e.a=p},function(t,e,r){"use strict";var n=r(348),i=r(78),o=r(0),a=r(3),s=r(6);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==c(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===c(o)?o:String(o)),n)}var i,o}function h(t,e){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p(this,r)}}function p(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(p,t);var e,r,i,c=f(p);function p(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,p);var r=new n.a(e);return t=c.call(this,r),Object(o.ab)(n.a)&&Object(a.a)(Object(s.e)("exception").wkt_method),t}return e=p,(r=[{key:"read",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getImpl().read(t,e);return r}},{key:"readCollection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getImpl().readCollection(t,e);return r}},{key:"write",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getImpl().write(t,e);return r}},{key:"writeFeature",value:function(t){return this.getImpl().writeFeature(t)}},{key:"writeCollection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getImpl().writeCollection(t,e);return r}}])&&u(e.prototype,r),i&&u(e,i),Object.defineProperty(e,"prototype",{writable:!1}),p}(i.a);e.a=m},function(t,e,r){"use strict";var n,i=r(25),o=r(40),a=r(232),s=r(101),c=r(8),l=r(21),u=r(30),h=r(54),f=r(62),p=r(59),d=r(28),m=r(26),y=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),g={POINT:d.a,LINESTRING:u.a,POLYGON:m.b,MULTIPOINT:f.a,MULTILINESTRING:h.a,MULTIPOLYGON:p.a},_=1,b=2,v=3,O=4,w=5,M=6,E={};for(var x in c.a)E[x]=c.a[x].toUpperCase();var S=function(){function t(t){this.wkt=t,this.index_=-1}return t.prototype.isAlpha_=function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"},t.prototype.isNumeric_=function(t,e){return t>="0"&&t<="9"||"."==t&&!(void 0!==e&&e)},t.prototype.isWhiteSpace_=function(t){return" "==t||"\t"==t||"\r"==t||"\n"==t},t.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)},t.prototype.nextToken=function(){var t,e=this.nextChar_(),r=this.index_,n=e;if("("==e)t=b;else if(","==e)t=w;else if(")"==e)t=v;else if(this.isNumeric_(e)||"-"==e)t=O,n=this.readNumber_();else if(this.isAlpha_(e))t=_,n=this.readText_();else{if(this.isWhiteSpace_(e))return this.nextToken();if(""!==e)throw new Error("Unexpected character: "+e);t=M}return{position:r,value:n,type:t}},t.prototype.readNumber_=function(){var t,e=this.index_,r=!1,n=!1;do{"."==t?r=!0:"e"!=t&&"E"!=t||(n=!0),t=this.nextChar_()}while(this.isNumeric_(t,r)||!n&&("e"==t||"E"==t)||n&&("-"==t||"+"==t));return parseFloat(this.wkt.substring(e,this.index_--))},t.prototype.readText_=function(){var t,e=this.index_;do{t=this.nextChar_()}while(this.isAlpha_(t));return this.wkt.substring(e,this.index_--).toUpperCase()},t}(),j=function(){function t(t){this.lexer_=t,this.token_,this.layout_=l.a.XY}return t.prototype.consume_=function(){this.token_=this.lexer_.nextToken()},t.prototype.isTokenType=function(t){return this.token_.type==t},t.prototype.match=function(t){var e=this.isTokenType(t);return e&&this.consume_(),e},t.prototype.parse=function(){return this.consume_(),this.parseGeometry_()},t.prototype.parseGeometryLayout_=function(){var t=l.a.XY,e=this.token_;if(this.isTokenType(_)){var r=e.value;"Z"===r?t=l.a.XYZ:"M"===r?t=l.a.XYM:"ZM"===r&&(t=l.a.XYZM),t!==l.a.XY&&this.consume_()}return t},t.prototype.parseGeometryCollectionText_=function(){if(this.match(b)){var t=[];do{t.push(this.parseGeometry_())}while(this.match(w));if(this.match(v))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parsePointText_=function(){if(this.match(b)){var t=this.parsePoint_();if(this.match(v))return t}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())},t.prototype.parseLineStringText_=function(){if(this.match(b)){var t=this.parsePointList_();if(this.match(v))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parsePolygonText_=function(){if(this.match(b)){var t=this.parseLineStringTextList_();if(this.match(v))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parseMultiPointText_=function(){if(this.match(b)){var t=void 0;if(t=this.token_.type==b?this.parsePointTextList_():this.parsePointList_(),this.match(v))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parseMultiLineStringText_=function(){if(this.match(b)){var t=this.parseLineStringTextList_();if(this.match(v))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parseMultiPolygonText_=function(){if(this.match(b)){var t=this.parsePolygonTextList_();if(this.match(v))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parsePoint_=function(){for(var t=[],e=this.layout_.length,r=0;r<e;++r){var n=this.token_;if(!this.match(O))break;t.push(n.value)}if(t.length==e)return t;throw new Error(this.formatErrorMessage_())},t.prototype.parsePointList_=function(){for(var t=[this.parsePoint_()];this.match(w);)t.push(this.parsePoint_());return t},t.prototype.parsePointTextList_=function(){for(var t=[this.parsePointText_()];this.match(w);)t.push(this.parsePointText_());return t},t.prototype.parseLineStringTextList_=function(){for(var t=[this.parseLineStringText_()];this.match(w);)t.push(this.parseLineStringText_());return t},t.prototype.parsePolygonTextList_=function(){for(var t=[this.parsePolygonText_()];this.match(w);)t.push(this.parsePolygonText_());return t},t.prototype.isEmptyGeometry_=function(){var t=this.isTokenType(_)&&"EMPTY"==this.token_.value;return t&&this.consume_(),t},t.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"},t.prototype.parseGeometry_=function(){var t=this.token_;if(this.match(_)){var e=t.value;if(this.layout_=this.parseGeometryLayout_(),"GEOMETRYCOLLECTION"==e){var r=this.parseGeometryCollectionText_();return new s.a(r)}var n=g[e];if(!n)throw new Error("Invalid geometry type: "+e);var i=void 0;switch(e){case"POINT":i=this.parsePointText_();break;case"LINESTRING":i=this.parseLineStringText_();break;case"POLYGON":i=this.parsePolygonText_();break;case"MULTIPOINT":i=this.parseMultiPointText_();break;case"MULTILINESTRING":i=this.parseMultiLineStringText_();break;case"MULTIPOLYGON":i=this.parseMultiPolygonText_();break;default:throw new Error("Invalid geometry type: "+e)}return i||(i=n===g.POINT?[NaN,NaN]:[]),new n(i,this.layout_)}throw new Error(this.formatErrorMessage_())},t}(),P=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.splitCollection_=void 0!==n.splitCollection&&n.splitCollection,r}return y(e,t),e.prototype.parse_=function(t){var e=new S(t);return new j(e).parse()},e.prototype.readFeatureFromText=function(t,e){var r=this.readGeometryFromText(t,e);if(r){var n=new i.a;return n.setGeometry(r),n}return null},e.prototype.readFeaturesFromText=function(t,e){for(var r=[],n=this.readGeometryFromText(t,e),o=[],a=0,s=(r=this.splitCollection_&&n.getType()==c.a.GEOMETRY_COLLECTION?n.getGeometriesArray():[n]).length;a<s;++a){var l=new i.a;l.setGeometry(r[a]),o.push(l)}return o},e.prototype.readGeometryFromText=function(t,e){var r=this.parse_(t);return r?Object(o.c)(r,!1,e):null},e.prototype.writeFeatureText=function(t,e){var r=t.getGeometry();return r?this.writeGeometryText(r,e):""},e.prototype.writeFeaturesText=function(t,e){if(1==t.length)return this.writeFeatureText(t[0],e);for(var r=[],n=0,i=t.length;n<i;++n)r.push(t[n].getGeometry());var o=new s.a(r);return this.writeGeometryText(o,e)},e.prototype.writeGeometryText=function(t,e){return C(Object(o.c)(t,!0,e))},e}(a.a);function T(t){var e=t.getCoordinates();return 0===e.length?"":e.join(" ")}function I(t){for(var e=t.getCoordinates(),r=[],n=0,i=e.length;n<i;++n)r.push(e[n].join(" "));return r.join(",")}function L(t){for(var e=[],r=t.getLinearRings(),n=0,i=r.length;n<i;++n)e.push("("+I(r[n])+")");return e.join(",")}var R={Point:T,LineString:I,Polygon:L,MultiPoint:function(t){for(var e=[],r=t.getPoints(),n=0,i=r.length;n<i;++n)e.push("("+T(r[n])+")");return e.join(",")},MultiLineString:function(t){for(var e=[],r=t.getLineStrings(),n=0,i=r.length;n<i;++n)e.push("("+I(r[n])+")");return e.join(",")},MultiPolygon:function(t){for(var e=[],r=t.getPolygons(),n=0,i=r.length;n<i;++n)e.push("("+L(r[n])+")");return e.join(",")},GeometryCollection:function(t){for(var e=[],r=t.getGeometries(),n=0,i=r.length;n<i;++n)e.push(C(r[n]));return e.join(",")}};function C(t){var e=t.getType(),r=(0,R[e])(t);if(e=e.toUpperCase(),"function"==typeof t.getFlatCoordinates){var n=function(t){var e=t.getLayout(),r="";return e!==l.a.XYZ&&e!==l.a.XYZM||(r+="Z"),e!==l.a.XYM&&e!==l.a.XYZM||(r+="M"),r}(t);n.length>0&&(e+=" "+n)}return 0===r.length?e+" EMPTY":e+"("+r+")"}e.a=P},function(t,e,r){"use strict";var n,i=r(2),o=r(176),a=r(27),s=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),c=function(t){function e(e,r,n,i){var o=t.call(this,e,r,n,i)||this;return o.declutterGroups_=null,o.hitDetectionImage_=null,o.image_=null,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o}return s(e,t),e.prototype.drawCoordinates_=function(t,e,r,n){return this.appendFlatCoordinates(t,e,r,n,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var r=t.getFlatCoordinates(),n=t.getStride(),i=this.coordinates.length,o=this.drawCoordinates_(r,0,r.length,n);this.instructions.push([a.c.DRAW_IMAGE,i,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([a.c.DRAW_IMAGE,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var r=t.getFlatCoordinates(),n=t.getStride(),i=this.coordinates.length,o=this.drawCoordinates_(r,0,r.length,n);this.instructions.push([a.c.DRAW_IMAGE,i,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([a.c.DRAW_IMAGE,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var r=t.getAnchor(),n=t.getSize(),i=t.getHitDetectionImage(1),o=t.getImage(1),a=t.getOrigin();this.anchorX_=r[0],this.anchorY_=r[1],this.declutterGroups_=e,this.hitDetectionImage_=i,this.image_=o,this.height_=n[1],this.opacity_=t.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=n[0]},e}(o.a),l=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),u=function(t){function e(e,r,n,i){return t.call(this,e,r,n,i)||this}return l(e,t),e.prototype.drawFlatCoordinates_=function(t,e,r,n){var i=this.coordinates.length,o=this.appendFlatCoordinates(t,e,r,n,!1,!1),s=[a.c.MOVE_TO_LINE_TO,i,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),r},e.prototype.drawLineString=function(t,e){var r=this.state,n=r.strokeStyle,i=r.lineWidth;if(void 0!==n&&void 0!==i){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([a.c.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],a.a);var o=t.getFlatCoordinates(),s=t.getStride();this.drawFlatCoordinates_(o,0,o.length,s),this.hitDetectionInstructions.push(a.e),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var r=this.state,n=r.strokeStyle,i=r.lineWidth;if(void 0!==n&&void 0!==i){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([a.c.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],a.a);for(var o=t.getEnds(),s=t.getFlatCoordinates(),c=t.getStride(),l=0,u=0,h=o.length;u<h;++u)l=this.drawFlatCoordinates_(s,l,o[u],c);this.hitDetectionInstructions.push(a.e),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(a.e),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(a.e),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(a.a)},e}(o.a),h=r(153),f=r(24),p=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),d=function(t){function e(e,r,n,i){return t.call(this,e,r,n,i)||this}return p(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,r,n){var i=this.state,o=void 0!==i.fillStyle,s=void 0!==i.strokeStyle,c=r.length;this.instructions.push(a.a),this.hitDetectionInstructions.push(a.a);for(var l=0;l<c;++l){var u=r[l],h=this.coordinates.length,f=this.appendFlatCoordinates(t,e,u,n,!0,!s),p=[a.c.MOVE_TO_LINE_TO,h,f];this.instructions.push(p),this.hitDetectionInstructions.push(p),s&&(this.instructions.push(a.b),this.hitDetectionInstructions.push(a.b)),e=u}return o&&(this.instructions.push(a.d),this.hitDetectionInstructions.push(a.d)),s&&(this.instructions.push(a.e),this.hitDetectionInstructions.push(a.e)),e},e.prototype.drawCircle=function(t,e){var r=this.state,n=r.fillStyle,i=r.strokeStyle;if(void 0!==n||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([a.c.SET_FILL_STYLE,f.c]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([a.c.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);var o=t.getFlatCoordinates(),s=t.getStride(),c=this.coordinates.length;this.appendFlatCoordinates(o,0,o.length,s,!1,!1);var l=[a.c.CIRCLE,c];this.instructions.push(a.a,l),this.hitDetectionInstructions.push(a.a,l),void 0!==r.fillStyle&&(this.instructions.push(a.d),this.hitDetectionInstructions.push(a.d)),void 0!==r.strokeStyle&&(this.instructions.push(a.e),this.hitDetectionInstructions.push(a.e)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var r=this.state,n=r.fillStyle,i=r.strokeStyle;if(void 0!==n||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([a.c.SET_FILL_STYLE,f.c]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([a.c.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);var o=t.getEnds(),s=t.getOrientedFlatCoordinates(),c=t.getStride();this.drawFlatCoordinatess_(s,0,o,c),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var r=this.state,n=r.fillStyle,i=r.strokeStyle;if(void 0!==n||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([a.c.SET_FILL_STYLE,f.c]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([a.c.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);for(var o=t.getEndss(),s=t.getOrientedFlatCoordinates(),c=t.getStride(),l=0,u=0,h=o.length;u<h;++u)l=this.drawFlatCoordinatess_(s,l,o[u],c);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var r=this.coordinates,n=0,i=r.length;n<i;++n)r[n]=Object(h.e)(r[n],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(o.a),m=r(249),y={Circle:d,Default:o.a,Image:c,LineString:u,Polygon:d,Text:m.b},g=function(){function t(t,e,r,n,i){this.declutter_=i,this.declutterGroups_=null,this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=n,this.resolution_=r,this.buildersByZIndex_={}}return t.prototype.addDeclutter=function(t){var e=null;return this.declutter_&&(t?(e=this.declutterGroups_)[0][4]++:(e=[Object(i.k)()],this.declutterGroups_=e,e[0].push(1))),e},t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var r=this.buildersByZIndex_[e];for(var n in r){var i=r[n].finish();t[e][n]=i}}return t},t.prototype.getBuilder=function(t,e){var r=void 0!==t?t.toString():"0",n=this.buildersByZIndex_[r];void 0===n&&(n={},this.buildersByZIndex_[r]=n);var i=n[e];void 0===i&&(i=new(0,y[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[e]=i);return i},t}();e.a=g},function(t,e){var r=null,n=null;function i(t,e,r){t.addEventListener(e,(function(t){var i=new MouseEvent(r,t);i.pointerId=1,i.isPrimary=!0,i.pointerType="mouse",i.width=1,i.height=1,i.tiltX=0,i.tiltY=0,"buttons"in t&&0!==t.buttons?i.pressure=.5:i.pressure=0;var o=t.target;null!==n&&(o=n,"mouseup"===e&&(n=null)),o.dispatchEvent(i),i.defaultPrevented&&t.preventDefault()}))}function o(t,e,n){t.addEventListener(e,(function(t){for(var i=t.changedTouches,o=i.length,a=0;a<o;a++){var s=new CustomEvent(n,{bubbles:!0,cancelable:!0});s.ctrlKey=t.ctrlKey,s.shiftKey=t.shiftKey,s.altKey=t.altKey,s.metaKey=t.metaKey;var c=i.item(a);s.clientX=c.clientX,s.clientY=c.clientY,s.screenX=c.screenX,s.screenY=c.screenY,s.pageX=c.pageX,s.pageY=c.pageY;var l=c.target.getBoundingClientRect();s.offsetX=c.clientX-l.left,s.offsetY=c.clientY-l.top,s.pointerId=1+c.identifier,s.button=0,s.buttons=1,s.movementX=0,s.movementY=0,s.region=null,s.relatedTarget=null,s.x=s.clientX,s.y=s.clientY,s.pointerType="touch",s.width=1,s.height=1,s.tiltX=0,s.tiltY=0,s.pressure=1,"touchstart"===e&&null===r&&(r=c.identifier),s.isPrimary=c.identifier===r,"touchend"===e&&s.isPrimary&&(r=null),t.target.dispatchEvent(s),s.defaultPrevented&&t.preventDefault()}}))}"PointerEvent"in window||(Element.prototype.setPointerCapture=Element.prototype.setCapture,Element.prototype.releasePointerCapture=Element.prototype.releaseCapture,"TouchEvent"in window||(i(document,"mousedown","pointerdown"),i(document,"mousemove","pointermove"),i(document,"mouseup","pointerup")),o(document,"touchstart","pointerdown"),o(document,"touchmove","pointermove"),o(document,"touchend","pointerup"))},function(t,e,r){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(t,e){for(var r,i,o,a,s,c,l,u="",h=0;h<t.length;)a=(r=t.charCodeAt(h++))>>2,s=(3&r)<<4|(i=t.charCodeAt(h++))>>4,c=(15&i)<<2|(o=t.charCodeAt(h++))>>6,l=63&o,isNaN(i)?c=l=64:isNaN(o)&&(l=64),u=u+n.charAt(a)+n.charAt(s)+n.charAt(c)+n.charAt(l);return u},e.decode=function(t,e){var r,i,o,a,s,c,l="",u=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<t.length;)r=n.indexOf(t.charAt(u++))<<2|(a=n.indexOf(t.charAt(u++)))>>4,i=(15&a)<<4|(s=n.indexOf(t.charAt(u++)))>>2,o=(3&s)<<6|(c=n.indexOf(t.charAt(u++))),l+=String.fromCharCode(r),64!=s&&(l+=String.fromCharCode(i)),64!=c&&(l+=String.fromCharCode(o));return l}},function(t,e,r){"use strict";var n=r(250),i=r(165),o=r(671),a=r(465),s=r(466),c=r(426),l=r(428),u=r(467),h=r(430),f=r(468),p=r(672),d=r(673),m=function(t){if(t._data instanceof u&&(t._data=t._data.getContent(),t.options.binary=!0,t.options.base64=!1,"uint8array"===i.getTypeOf(t._data))){var e=t._data;t._data=new Uint8Array(e.length),0!==e.length&&t._data.set(e,0)}return t._data},y=function(t){var e=m(t);return"string"===i.getTypeOf(e)?!t.options.binary&&n.nodebuffer?h(e,"utf-8"):t.asBinary():e},g=function(t){var e=m(this);return null==e?"":(this.options.base64&&(e=c.decode(e)),e=t&&this.options.binary?S.utf8decode(e):i.transformTo("string",e),t||this.options.binary||(e=i.transformTo("string",S.utf8encode(e))),e)},_=function(t,e,r){this.name=t,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=e,this.options=r,this._initialMetadata={dir:r.dir,date:r.date}};_.prototype={asText:function(){return g.call(this,!0)},asBinary:function(){return g.call(this,!1)},asNodeBuffer:function(){var t=y(this);return i.transformTo("nodebuffer",t)},asUint8Array:function(){var t=y(this);return i.transformTo("uint8array",t)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var b=function(t,e){var r,n="";for(r=0;r<e;r++)n+=String.fromCharCode(255&t),t>>>=8;return n},v=function(t,e,r){var n,o=i.getTypeOf(e);if("string"==typeof(r=function(t){return!0!==(t=t||{}).base64||null!==t.binary&&void 0!==t.binary||(t.binary=!0),(t=i.extend(t,s)).date=t.date||new Date,null!==t.compression&&(t.compression=t.compression.toUpperCase()),t}(r)).unixPermissions&&(r.unixPermissions=parseInt(r.unixPermissions,8)),r.unixPermissions&&16384&r.unixPermissions&&(r.dir=!0),r.dosPermissions&&16&r.dosPermissions&&(r.dir=!0),r.dir&&(t=w(t)),r.createFolders&&(n=O(t))&&M.call(this,n,!0),r.dir||null==e)r.base64=!1,r.binary=!1,e=null,o=null;else if("string"===o)r.binary&&!r.base64&&!0!==r.optimizedBinaryString&&(e=i.string2binary(e));else{if(r.base64=!1,r.binary=!0,!(o||e instanceof u))throw new Error("The data of '"+t+"' is in an unsupported format !");"arraybuffer"===o&&(e=i.transformTo("uint8array",e))}var a=new _(t,e,r);return this.files[t]=a,a},O=function(t){"/"==t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},w=function(t){return"/"!=t.slice(-1)&&(t+="/"),t},M=function(t,e){return e=void 0!==e&&e,t=w(t),this.files[t]||v.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},E=function(t,e,r){var n,a=new u;return t._data instanceof u?(a.uncompressedSize=t._data.uncompressedSize,a.crc32=t._data.crc32,0===a.uncompressedSize||t.dir?(e=l.STORE,a.compressedContent="",a.crc32=0):t._data.compressionMethod===e.magic?a.compressedContent=t._data.getCompressedContent():(n=t._data.getContent(),a.compressedContent=e.compress(i.transformTo(e.compressInputType,n),r))):((n=y(t))&&0!==n.length&&!t.dir||(e=l.STORE,n=""),a.uncompressedSize=n.length,a.crc32=o(n),a.compressedContent=e.compress(i.transformTo(e.compressInputType,n),r)),a.compressedSize=a.compressedContent.length,a.compressionMethod=e.magic,a},x=function(t,e,r,n,s,c){r.compressedContent;var l,u,h,p,d=c!==f.utf8encode,m=i.transformTo("string",c(e.name)),y=i.transformTo("string",f.utf8encode(e.name)),g=e.comment||"",_=i.transformTo("string",c(g)),v=i.transformTo("string",f.utf8encode(g)),O=y.length!==e.name.length,w=v.length!==g.length,M=e.options,E="",x="",S="";h=e._initialMetadata.dir!==e.dir?e.dir:M.dir,p=e._initialMetadata.date!==e.date?e.date:M.date;var j,P,T,I=0,L=0;h&&(I|=16),"UNIX"===s?(L=798,I|=(j=e.unixPermissions,P=h,T=j,j||(T=P?16893:33204),(65535&T)<<16)):(L=20,I|=63&(e.dosPermissions||0)),l=p.getHours(),l<<=6,l|=p.getMinutes(),l<<=5,l|=p.getSeconds()/2,u=p.getFullYear()-1980,u<<=4,u|=p.getMonth()+1,u<<=5,u|=p.getDate(),O&&(x=b(1,1)+b(o(m),4)+y,E+="up"+b(x.length,2)+x),w&&(S=b(1,1)+b(this.crc32(_),4)+v,E+="uc"+b(S.length,2)+S);var R="";return R+="\n\0",R+=d||!O&&!w?"\0\0":"\0\b",R+=r.compressionMethod,R+=b(l,2),R+=b(u,2),R+=b(r.crc32,4),R+=b(r.compressedSize,4),R+=b(r.uncompressedSize,4),R+=b(m.length,2),R+=b(E.length,2),{fileRecord:a.LOCAL_FILE_HEADER+R+m+E,dirRecord:a.CENTRAL_FILE_HEADER+b(L,2)+R+b(_.length,2)+"\0\0\0\0"+b(I,4)+b(n,4)+m+E+_,compressedObject:r}},S={load:function(t,e){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(t){var e,r,n,o,a=[];for(e in this.files)n=this.files[e],o=new _(n.name,n._data,i.extend(n.options)),r=e.slice(this.root.length,e.length),e.slice(0,this.root.length)===this.root&&t(r,o)&&a.push(o);return a},file:function(t,e,r){if(1===arguments.length){if(i.isRegExp(t)){var n=t;return this.filter((function(t,e){return!e.dir&&n.test(t)}))}return this.filter((function(e,r){return!r.dir&&e===t}))[0]||null}return t=this.root+t,v.call(this,t,e,r),this},folder:function(t){if(!t)return this;if(i.isRegExp(t))return this.filter((function(e,r){return r.dir&&t.test(e)}));var e=this.root+t,r=M.call(this,e),n=this.clone();return n.root=r.name,n},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!=t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var r=this.filter((function(e,r){return r.name.slice(0,t.length)===t})),n=0;n<r.length;n++)delete this.files[r[n].name];return this},generate:function(t){t=i.extend(t||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:f.utf8encode}),i.checkSupport(t.type),"darwin"!==t.platform&&"freebsd"!==t.platform&&"linux"!==t.platform&&"sunos"!==t.platform||(t.platform="UNIX"),"win32"===t.platform&&(t.platform="DOS");var e,r,n=[],o=0,s=0,u=i.transformTo("string",t.encodeFileName(t.comment||this.comment||""));for(var h in this.files){var m=this.files[h],y=m.options.compression||t.compression.toUpperCase(),g=l[y];if(!g)throw new Error(y+" is not a valid compression method !");var _=m.options.compressionOptions||t.compressionOptions||{},v=E.call(this,m,g,_),O=x.call(this,h,m,v,o,t.platform,t.encodeFileName);o+=O.fileRecord.length+v.compressedSize,s+=O.dirRecord.length,n.push(O)}var w;w=a.CENTRAL_DIRECTORY_END+"\0\0\0\0"+b(n.length,2)+b(n.length,2)+b(s,4)+b(o,4)+b(u.length,2)+u;var M=t.type.toLowerCase();for(e="uint8array"===M||"arraybuffer"===M||"blob"===M||"nodebuffer"===M?new d(o+s+w.length):new p(o+s+w.length),r=0;r<n.length;r++)e.append(n[r].fileRecord),e.append(n[r].compressedObject.compressedContent);for(r=0;r<n.length;r++)e.append(n[r].dirRecord);e.append(w);var S=e.finalize();switch(t.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return i.transformTo(t.type.toLowerCase(),S);case"blob":return i.arrayBuffer2Blob(i.transformTo("arraybuffer",S),t.mimeType);case"base64":return t.base64?c.encode(S):S;default:return S}},crc32:function(t,e){return o(t,e)},utf8encode:function(t){return i.transformTo("string",f.utf8encode(t))},utf8decode:function(t){return f.utf8decode(t)}};t.exports=S},function(t,e,r){"use strict";e.STORE={magic:"\0\0",compress:function(t,e){return t},uncompress:function(t){return t},compressInputType:null,uncompressInputType:null},e.DEFLATE=r(662)},function(t,e,r){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,r){"use strict";(function(e){t.exports=function(t,r){return new e(t,r)},t.exports.test=function(t){return e.isBuffer(t)}}).call(this,r(94).Buffer)},function(t,e,r){"use strict";var n=r(46),i=r(476),o=r(48).Buffer,a=new Array(16);function s(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(t,e){return t<<e|t>>>32-e}function l(t,e,r,n,i,o,a){return c(t+(e&r|~e&n)+i+o|0,a)+e|0}function u(t,e,r,n,i,o,a){return c(t+(e&n|r&~n)+i+o|0,a)+e|0}function h(t,e,r,n,i,o,a){return c(t+(e^r^n)+i+o|0,a)+e|0}function f(t,e,r,n,i,o,a){return c(t+(r^(e|~n))+i+o|0,a)+e|0}n(s,i),s.prototype._update=function(){for(var t=a,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var r=this._a,n=this._b,i=this._c,o=this._d;r=l(r,n,i,o,t[0],3614090360,7),o=l(o,r,n,i,t[1],3905402710,12),i=l(i,o,r,n,t[2],606105819,17),n=l(n,i,o,r,t[3],3250441966,22),r=l(r,n,i,o,t[4],4118548399,7),o=l(o,r,n,i,t[5],1200080426,12),i=l(i,o,r,n,t[6],2821735955,17),n=l(n,i,o,r,t[7],4249261313,22),r=l(r,n,i,o,t[8],1770035416,7),o=l(o,r,n,i,t[9],2336552879,12),i=l(i,o,r,n,t[10],4294925233,17),n=l(n,i,o,r,t[11],2304563134,22),r=l(r,n,i,o,t[12],1804603682,7),o=l(o,r,n,i,t[13],4254626195,12),i=l(i,o,r,n,t[14],2792965006,17),r=u(r,n=l(n,i,o,r,t[15],1236535329,22),i,o,t[1],4129170786,5),o=u(o,r,n,i,t[6],3225465664,9),i=u(i,o,r,n,t[11],643717713,14),n=u(n,i,o,r,t[0],3921069994,20),r=u(r,n,i,o,t[5],3593408605,5),o=u(o,r,n,i,t[10],38016083,9),i=u(i,o,r,n,t[15],3634488961,14),n=u(n,i,o,r,t[4],3889429448,20),r=u(r,n,i,o,t[9],568446438,5),o=u(o,r,n,i,t[14],3275163606,9),i=u(i,o,r,n,t[3],4107603335,14),n=u(n,i,o,r,t[8],1163531501,20),r=u(r,n,i,o,t[13],2850285829,5),o=u(o,r,n,i,t[2],4243563512,9),i=u(i,o,r,n,t[7],1735328473,14),r=h(r,n=u(n,i,o,r,t[12],2368359562,20),i,o,t[5],4294588738,4),o=h(o,r,n,i,t[8],2272392833,11),i=h(i,o,r,n,t[11],1839030562,16),n=h(n,i,o,r,t[14],4259657740,23),r=h(r,n,i,o,t[1],2763975236,4),o=h(o,r,n,i,t[4],1272893353,11),i=h(i,o,r,n,t[7],4139469664,16),n=h(n,i,o,r,t[10],3200236656,23),r=h(r,n,i,o,t[13],681279174,4),o=h(o,r,n,i,t[0],3936430074,11),i=h(i,o,r,n,t[3],3572445317,16),n=h(n,i,o,r,t[6],76029189,23),r=h(r,n,i,o,t[9],3654602809,4),o=h(o,r,n,i,t[12],3873151461,11),i=h(i,o,r,n,t[15],530742520,16),r=f(r,n=h(n,i,o,r,t[2],3299628645,23),i,o,t[0],4096336452,6),o=f(o,r,n,i,t[7],1126891415,10),i=f(i,o,r,n,t[14],2878612391,15),n=f(n,i,o,r,t[5],4237533241,21),r=f(r,n,i,o,t[12],1700485571,6),o=f(o,r,n,i,t[3],2399980690,10),i=f(i,o,r,n,t[10],4293915773,15),n=f(n,i,o,r,t[1],2240044497,21),r=f(r,n,i,o,t[8],1873313359,6),o=f(o,r,n,i,t[15],4264355552,10),i=f(i,o,r,n,t[6],2734768916,15),n=f(n,i,o,r,t[13],1309151649,21),r=f(r,n,i,o,t[4],4149444226,6),o=f(o,r,n,i,t[11],3174756917,10),i=f(i,o,r,n,t[2],718787259,15),n=f(n,i,o,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=o.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=s},function(t,e,r){"use strict";var n=r(253).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function t(e,r,o){if("function"==typeof r)return t(e,null,r);r||(r={}),o=function(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}(o||i);var a=r.readable||!1!==r.readable&&e.readable,s=r.writable||!1!==r.writable&&e.writable,c=function(){e.writable||u()},l=e._writableState&&e._writableState.finished,u=function(){s=!1,l=!0,a||o.call(e)},h=e._readableState&&e._readableState.endEmitted,f=function(){a=!1,h=!0,s||o.call(e)},p=function(t){o.call(e,t)},d=function(){var t;return a&&!h?(e._readableState&&e._readableState.ended||(t=new n),o.call(e,t)):s&&!l?(e._writableState&&e._writableState.ended||(t=new n),o.call(e,t)):void 0},m=function(){e.req.on("finish",u)};return!function(t){return t.setHeader&&"function"==typeof t.abort}(e)?s&&!e._writableState&&(e.on("end",c),e.on("close",c)):(e.on("complete",u),e.on("abort",d),e.req?m():e.on("request",m)),e.on("end",f),e.on("finish",u),!1!==r.error&&e.on("error",p),e.on("close",d),function(){e.removeListener("complete",u),e.removeListener("abort",d),e.removeListener("request",m),e.req&&e.req.removeListener("finish",u),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",u),e.removeListener("end",f),e.removeListener("error",p),e.removeListener("close",d)}}},function(t,e,r){"use strict";var n=r(94).Buffer,i=r(46),o=r(476),a=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],u=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0];function p(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function d(t,e){return t<<e|t>>>32-e}function m(t,e,r,n,i,o,a,s){return d(t+(e^r^n)+o+a|0,s)+i|0}function y(t,e,r,n,i,o,a,s){return d(t+(e&r|~e&n)+o+a|0,s)+i|0}function g(t,e,r,n,i,o,a,s){return d(t+((e|~r)^n)+o+a|0,s)+i|0}function _(t,e,r,n,i,o,a,s){return d(t+(e&n|r&~n)+o+a|0,s)+i|0}function b(t,e,r,n,i,o,a,s){return d(t+(e^(r|~n))+o+a|0,s)+i|0}i(p,o),p.prototype._update=function(){for(var t=a,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,p=0|this._e,v=0|this._a,O=0|this._b,w=0|this._c,M=0|this._d,E=0|this._e,x=0;x<80;x+=1){var S,j;x<16?(S=m(r,n,i,o,p,t[s[x]],h[0],l[x]),j=b(v,O,w,M,E,t[c[x]],f[0],u[x])):x<32?(S=y(r,n,i,o,p,t[s[x]],h[1],l[x]),j=_(v,O,w,M,E,t[c[x]],f[1],u[x])):x<48?(S=g(r,n,i,o,p,t[s[x]],h[2],l[x]),j=g(v,O,w,M,E,t[c[x]],f[2],u[x])):x<64?(S=_(r,n,i,o,p,t[s[x]],h[3],l[x]),j=y(v,O,w,M,E,t[c[x]],f[3],u[x])):(S=b(r,n,i,o,p,t[s[x]],h[4],l[x]),j=m(v,O,w,M,E,t[c[x]],f[4],u[x])),r=p,p=o,o=d(i,10),i=n,n=S,v=E,E=M,M=d(w,10),w=O,O=j}var P=this._b+i+M|0;this._b=this._c+o+E|0,this._c=this._d+p+v|0,this._d=this._e+r+O|0,this._e=this._a+n+w|0,this._a=P},p.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=n.alloc?n.alloc(20):new n(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=p},function(t,e,r){(e=t.exports=function(t){t=t.toLowerCase();var r=e[t];if(!r)throw new Error(t+" is not supported (we accept pull requests)");return new r}).sha=r(705),e.sha1=r(706),e.sha224=r(707),e.sha256=r(485),e.sha384=r(708),e.sha512=r(486)},function(t,e,r){(e=t.exports=r(487)).Stream=e,e.Readable=e,e.Writable=r(437),e.Duplex=r(227),e.Transform=r(490),e.PassThrough=r(715)},function(t,e,r){var n=r(94),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function a(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=a),o(i,a),a.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},a.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},function(t,e,r){"use strict";(function(e,n,i){var o=r(352);function a(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}t.exports=_;var s,c=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?n:o.nextTick;_.WritableState=g;var l=Object.create(r(310));l.inherits=r(46);var u={deprecate:r(483)},h=r(488),f=r(436).Buffer,p=(void 0!==i?i:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var d,m=r(489);function y(){}function g(t,e){s=s||r(227),t=t||{};var n=e instanceof s;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,l=t.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(l||0===l)?l:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===t.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?(o.nextTick(i,n),o.nextTick(E,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),E(t,e))}(t,r,n,e,i);else{var a=w(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||O(t,r),n?c(v,t,r,a,i):v(t,r,a,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function _(t){if(s=s||r(227),!(d.call(_,this)||this instanceof s))return new _(t);this._writableState=new g(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),h.call(this)}function b(t,e,r,n,i,o,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function v(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),E(t,e)}function O(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,c=!0;r;)i[s]=r,r.isBuf||(c=!1),r=r.next,s+=1;i.allBuffers=c,b(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new a(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,u=r.encoding,h=r.callback;if(b(t,e,!1,e.objectMode?1:l.length,l,u,h),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function w(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function M(t,e){t._final((function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),E(t,e)}))}function E(t,e){var r=w(e);return r&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(M,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),r}l.inherits(_,h),g.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(g.prototype,"buffer",{get:u.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(t){return!!d.call(this,t)||this===_&&(t&&t._writableState instanceof g)}})):d=function(t){return t instanceof this},_.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},_.prototype.write=function(t,e,r){var n,i=this._writableState,a=!1,s=!i.objectMode&&(n=t,f.isBuffer(n)||n instanceof p);return s&&!f.isBuffer(t)&&(t=function(t){return f.from(t)}(t)),"function"==typeof e&&(r=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof r&&(r=y),i.ended?function(t,e){var r=new Error("write after end");t.emit("error",r),o.nextTick(e,r)}(this,r):(s||function(t,e,r,n){var i=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),o.nextTick(n,a),i=!1),i}(this,i,t,r))&&(i.pendingcb++,a=function(t,e,r,n,i,o){if(!r){var a=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=f.from(e,r));return e}(e,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=e.objectMode?1:n.length;e.length+=s;var c=e.length<e.highWaterMark;c||(e.needDrain=!0);if(e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else b(t,e,!1,s,n,i,o);return c}(this,i,s,t,e,r)),a},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||O(this,t))},_.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))},_.prototype._writev=null,_.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||function(t,e,r){e.ending=!0,E(t,e),r&&(e.finished?o.nextTick(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,n,r)},Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),_.prototype.destroy=m.destroy,_.prototype._undestroy=m.undestroy,_.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,r(121),r(713).setImmediate,r(120))},function(t,e,r){"use strict";var n=r(151);function i(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==t.padding}t.exports=i,i.prototype._init=function(){},i.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},i.prototype._buffer=function(t,e){for(var r=Math.min(this.buffer.length-this.bufferOff,t.length-e),n=0;n<r;n++)this.buffer[this.bufferOff+n]=t[e+n];return this.bufferOff+=r,r},i.prototype._flushBuffer=function(t,e){return this._update(this.buffer,0,t,e),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(t){var e=0,r=0,n=(this.bufferOff+t.length)/this.blockSize|0,i=new Array(n*this.blockSize);0!==this.bufferOff&&(e+=this._buffer(t,e),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(i,r)));for(var o=t.length-(t.length-e)%this.blockSize;e<o;e+=this.blockSize)this._update(t,e,i,r),r+=this.blockSize;for(;e<t.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=t[e];return i},i.prototype._updateDecrypt=function(t){for(var e=0,r=0,n=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,i=new Array(n*this.blockSize);n>0;n--)e+=this._buffer(t,e),r+=this._flushBuffer(i,r);return e+=this._buffer(t,e),i},i.prototype.final=function(t){var e,r;return t&&(e=this.update(t)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),e?e.concat(r):r},i.prototype._pad=function(t,e){if(0===e)return!1;for(;e<t.length;)t[e++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},i.prototype._unpad=function(t){return t},i.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)}},function(t,e,r){var n=r(728),i=r(736),o=r(503);e.createCipher=e.Cipher=n.createCipher,e.createCipheriv=e.Cipheriv=n.createCipheriv,e.createDecipher=e.Decipher=i.createDecipher,e.createDecipheriv=e.Decipheriv=i.createDecipheriv,e.listCiphers=e.getCiphers=function(){return Object.keys(o)}},function(t,e,r){var n={ECB:r(729),CBC:r(730),CFB:r(731),CFB8:r(732),CFB1:r(733),OFB:r(734),CTR:r(501),GCM:r(501)},i=r(503);for(var o in i)i[o].module=n[i[o].mode];t.exports=i},function(t,e,r){var n;function i(t){this.rand=t}if(t.exports=function(t){return n||(n=new i(null)),n.generate(t)},t.exports.Rand=i,i.prototype.generate=function(t){return this._rand(t)},i.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),r=0;r<e.length;r++)e[r]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=r(742);if("function"!=typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(t){return o.randomBytes(t)}}catch(t){}},function(t,e,r){(function(e){var n=r(443),i=r(252);function o(t){var e,r=t.modulus.byteLength();do{e=new n(i(r))}while(e.cmp(t.modulus)>=0||!e.umod(t.prime1)||!e.umod(t.prime2));return e}function a(t,r){var i=function(t){var e=o(t);return{blinder:e.toRed(n.mont(t.modulus)).redPow(new n(t.publicExponent)).fromRed(),unblinder:e.invm(t.modulus)}}(r),a=r.modulus.byteLength(),s=new n(t).mul(i.blinder).umod(r.modulus),c=s.toRed(n.mont(r.prime1)),l=s.toRed(n.mont(r.prime2)),u=r.coefficient,h=r.prime1,f=r.prime2,p=c.redPow(r.exponent1).fromRed(),d=l.redPow(r.exponent2).fromRed(),m=p.isub(d).imul(u).umod(h).imul(f);return d.iadd(m).imul(i.unblinder).umod(r.modulus).toArrayLike(e,"be",a)}a.getr=o,t.exports=a}).call(this,r(94).Buffer)},function(t,e,r){(function(t){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var a;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(747).Buffer}catch(t){}function s(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function c(t,e,r){var n=s(t,r);return r-1>=e&&(n|=s(t,r-1)<<4),n}function l(t,e,r,i){for(var o=0,a=0,s=Math.min(t.length,r),c=e;c<s;c++){var l=t.charCodeAt(c)-48;o*=i,a=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&a<i,"Invalid character"),o+=a}return o}function u(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=c(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=c(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,s=Math.min(o,o-a)+r,c=0,u=r;u<s;u+=n)c=l(t,u,u+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var h=1;for(c=l(t,u,t.length,e),u=0;u<a;u++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){u(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(t){o.prototype.inspect=h}else o.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<i|o)).toString(16);o=s>>>24-i&16777215,(i+=2)>=26&&(i-=26,a--),r=0!==o||a!==this.length-1?f[6-c.length]+c+r:c+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=p[t],u=d[t];r="";var h=this.clone();for(h.negative=0;!h.isZero();){var m=h.modrn(u).toString(t);r=(h=h.idivn(u)).isZero()?m+r:f[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(a,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,c=a/67108864|0;r.words[0]=s;for(var l=1;l<n;l++){for(var u=c>>>26,h=67108863&c,f=Math.min(l,e.length-1),p=Math.max(0,l-t.length+1);p<=f;p++){var d=l-p|0;u+=(a=(i=0|t.words[d])*(o=0|e.words[p])+h)/67108864|0,h=67108863&a}r.words[l]=0|h,c=0|u}return 0!==c?r.words[l]=0|c:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var a=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](a,i),a},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;t[r++]=255&a,r<t.length&&(t[r++]=a>>8&255),r<t.length&&(t[r++]=a>>16&255),6===o?(r<t.length&&(t[r++]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;t[r--]=255&a,r>=0&&(t[r--]=a>>8&255),r>=0&&(t[r--]=a>>16&255),6===o?(r>=0&&(t[r--]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,a=0;a<n.length;a++)o=(e=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var y=function(t,e,r){var n,i,o,a=t.words,s=e.words,c=r.words,l=0,u=0|a[0],h=8191&u,f=u>>>13,p=0|a[1],d=8191&p,m=p>>>13,y=0|a[2],g=8191&y,_=y>>>13,b=0|a[3],v=8191&b,O=b>>>13,w=0|a[4],M=8191&w,E=w>>>13,x=0|a[5],S=8191&x,j=x>>>13,P=0|a[6],T=8191&P,I=P>>>13,L=0|a[7],R=8191&L,C=L>>>13,A=0|a[8],k=8191&A,N=A>>>13,D=0|a[9],F=8191&D,B=D>>>13,U=0|s[0],G=8191&U,z=U>>>13,W=0|s[1],X=8191&W,q=W>>>13,V=0|s[2],Y=8191&V,Z=V>>>13,K=0|s[3],H=8191&K,J=K>>>13,Q=0|s[4],$=8191&Q,tt=Q>>>13,et=0|s[5],rt=8191&et,nt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ct=8191&st,lt=st>>>13,ut=0|s[8],ht=8191&ut,ft=ut>>>13,pt=0|s[9],dt=8191&pt,mt=pt>>>13;r.negative=t.negative^e.negative,r.length=19;var yt=(l+(n=Math.imul(h,G))|0)+((8191&(i=(i=Math.imul(h,z))+Math.imul(f,G)|0))<<13)|0;l=((o=Math.imul(f,z))+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(d,G),i=(i=Math.imul(d,z))+Math.imul(m,G)|0,o=Math.imul(m,z);var gt=(l+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,q)|0)+Math.imul(f,X)|0))<<13)|0;l=((o=o+Math.imul(f,q)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(g,G),i=(i=Math.imul(g,z))+Math.imul(_,G)|0,o=Math.imul(_,z),n=n+Math.imul(d,X)|0,i=(i=i+Math.imul(d,q)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,q)|0;var _t=(l+(n=n+Math.imul(h,Y)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,Z)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(v,G),i=(i=Math.imul(v,z))+Math.imul(O,G)|0,o=Math.imul(O,z),n=n+Math.imul(g,X)|0,i=(i=i+Math.imul(g,q)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,q)|0,n=n+Math.imul(d,Y)|0,i=(i=i+Math.imul(d,Z)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,Z)|0;var bt=(l+(n=n+Math.imul(h,H)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(f,H)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(M,G),i=(i=Math.imul(M,z))+Math.imul(E,G)|0,o=Math.imul(E,z),n=n+Math.imul(v,X)|0,i=(i=i+Math.imul(v,q)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,q)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,Z)|0,n=n+Math.imul(d,H)|0,i=(i=i+Math.imul(d,J)|0)+Math.imul(m,H)|0,o=o+Math.imul(m,J)|0;var vt=(l+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,$)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(S,G),i=(i=Math.imul(S,z))+Math.imul(j,G)|0,o=Math.imul(j,z),n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,q)|0)+Math.imul(E,X)|0,o=o+Math.imul(E,q)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,Z)|0,n=n+Math.imul(g,H)|0,i=(i=i+Math.imul(g,J)|0)+Math.imul(_,H)|0,o=o+Math.imul(_,J)|0,n=n+Math.imul(d,$)|0,i=(i=i+Math.imul(d,tt)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,tt)|0;var Ot=(l+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(T,G),i=(i=Math.imul(T,z))+Math.imul(I,G)|0,o=Math.imul(I,z),n=n+Math.imul(S,X)|0,i=(i=i+Math.imul(S,q)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,q)|0,n=n+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,Z)|0,n=n+Math.imul(v,H)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(O,H)|0,o=o+Math.imul(O,J)|0,n=n+Math.imul(g,$)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(d,rt)|0,i=(i=i+Math.imul(d,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var wt=(l+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,at)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,at)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(R,G),i=(i=Math.imul(R,z))+Math.imul(C,G)|0,o=Math.imul(C,z),n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,q)|0)+Math.imul(I,X)|0,o=o+Math.imul(I,q)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(j,Y)|0,o=o+Math.imul(j,Z)|0,n=n+Math.imul(M,H)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(E,H)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(g,rt)|0,i=(i=i+Math.imul(g,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(d,ot)|0,i=(i=i+Math.imul(d,at)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0;var Mt=(l+(n=n+Math.imul(h,ct)|0)|0)+((8191&(i=(i=i+Math.imul(h,lt)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(k,G),i=(i=Math.imul(k,z))+Math.imul(N,G)|0,o=Math.imul(N,z),n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,q)|0)+Math.imul(C,X)|0,o=o+Math.imul(C,q)|0,n=n+Math.imul(T,Y)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(I,Y)|0,o=o+Math.imul(I,Z)|0,n=n+Math.imul(S,H)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(j,H)|0,o=o+Math.imul(j,J)|0,n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,at)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,at)|0,n=n+Math.imul(d,ct)|0,i=(i=i+Math.imul(d,lt)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,lt)|0;var Et=(l+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(f,ht)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(F,G),i=(i=Math.imul(F,z))+Math.imul(B,G)|0,o=Math.imul(B,z),n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,q)|0)+Math.imul(N,X)|0,o=o+Math.imul(N,q)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,Z)|0,n=n+Math.imul(T,H)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(I,H)|0,o=o+Math.imul(I,J)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(j,$)|0,o=o+Math.imul(j,tt)|0,n=n+Math.imul(M,rt)|0,i=(i=i+Math.imul(M,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,n=n+Math.imul(g,ct)|0,i=(i=i+Math.imul(g,lt)|0)+Math.imul(_,ct)|0,o=o+Math.imul(_,lt)|0,n=n+Math.imul(d,ht)|0,i=(i=i+Math.imul(d,ft)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,ft)|0;var xt=(l+(n=n+Math.imul(h,dt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(f,dt)|0))<<13)|0;l=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(F,X),i=(i=Math.imul(F,q))+Math.imul(B,X)|0,o=Math.imul(B,q),n=n+Math.imul(k,Y)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,Z)|0,n=n+Math.imul(R,H)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(C,H)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(j,rt)|0,o=o+Math.imul(j,nt)|0,n=n+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,at)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,at)|0,n=n+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(O,ct)|0,o=o+Math.imul(O,lt)|0,n=n+Math.imul(g,ht)|0,i=(i=i+Math.imul(g,ft)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,ft)|0;var St=(l+(n=n+Math.imul(d,dt)|0)|0)+((8191&(i=(i=i+Math.imul(d,mt)|0)+Math.imul(m,dt)|0))<<13)|0;l=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(F,Y),i=(i=Math.imul(F,Z))+Math.imul(B,Y)|0,o=Math.imul(B,Z),n=n+Math.imul(k,H)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(N,H)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(I,rt)|0,o=o+Math.imul(I,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,at)|0)+Math.imul(j,ot)|0,o=o+Math.imul(j,at)|0,n=n+Math.imul(M,ct)|0,i=(i=i+Math.imul(M,lt)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,lt)|0,n=n+Math.imul(v,ht)|0,i=(i=i+Math.imul(v,ft)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,ft)|0;var jt=(l+(n=n+Math.imul(g,dt)|0)|0)+((8191&(i=(i=i+Math.imul(g,mt)|0)+Math.imul(_,dt)|0))<<13)|0;l=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(jt>>>26)|0,jt&=67108863,n=Math.imul(F,H),i=(i=Math.imul(F,J))+Math.imul(B,H)|0,o=Math.imul(B,J),n=n+Math.imul(k,$)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(T,ot)|0,i=(i=i+Math.imul(T,at)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,at)|0,n=n+Math.imul(S,ct)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(j,ct)|0,o=o+Math.imul(j,lt)|0,n=n+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,ft)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,ft)|0;var Pt=(l+(n=n+Math.imul(v,dt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(O,dt)|0))<<13)|0;l=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(F,$),i=(i=Math.imul(F,tt))+Math.imul(B,$)|0,o=Math.imul(B,tt),n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,at)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,at)|0,n=n+Math.imul(T,ct)|0,i=(i=i+Math.imul(T,lt)|0)+Math.imul(I,ct)|0,o=o+Math.imul(I,lt)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(j,ht)|0,o=o+Math.imul(j,ft)|0;var Tt=(l+(n=n+Math.imul(M,dt)|0)|0)+((8191&(i=(i=i+Math.imul(M,mt)|0)+Math.imul(E,dt)|0))<<13)|0;l=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(F,rt),i=(i=Math.imul(F,nt))+Math.imul(B,rt)|0,o=Math.imul(B,nt),n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,at)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,at)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(C,ct)|0,o=o+Math.imul(C,lt)|0,n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,ft)|0)+Math.imul(I,ht)|0,o=o+Math.imul(I,ft)|0;var It=(l+(n=n+Math.imul(S,dt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(j,dt)|0))<<13)|0;l=((o=o+Math.imul(j,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(F,ot),i=(i=Math.imul(F,at))+Math.imul(B,ot)|0,o=Math.imul(B,at),n=n+Math.imul(k,ct)|0,i=(i=i+Math.imul(k,lt)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,lt)|0,n=n+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(C,ht)|0,o=o+Math.imul(C,ft)|0;var Lt=(l+(n=n+Math.imul(T,dt)|0)|0)+((8191&(i=(i=i+Math.imul(T,mt)|0)+Math.imul(I,dt)|0))<<13)|0;l=((o=o+Math.imul(I,mt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,n=Math.imul(F,ct),i=(i=Math.imul(F,lt))+Math.imul(B,ct)|0,o=Math.imul(B,lt),n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,ft)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,ft)|0;var Rt=(l+(n=n+Math.imul(R,dt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(C,dt)|0))<<13)|0;l=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(F,ht),i=(i=Math.imul(F,ft))+Math.imul(B,ht)|0,o=Math.imul(B,ft);var Ct=(l+(n=n+Math.imul(k,dt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(N,dt)|0))<<13)|0;l=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863;var At=(l+(n=Math.imul(F,dt))|0)+((8191&(i=(i=Math.imul(F,mt))+Math.imul(B,dt)|0))<<13)|0;return l=((o=Math.imul(B,mt))+(i>>>13)|0)+(At>>>26)|0,At&=67108863,c[0]=yt,c[1]=gt,c[2]=_t,c[3]=bt,c[4]=vt,c[5]=Ot,c[6]=wt,c[7]=Mt,c[8]=Et,c[9]=xt,c[10]=St,c[11]=jt,c[12]=Pt,c[13]=Tt,c[14]=It,c[15]=Lt,c[16]=Rt,c[17]=Ct,c[18]=At,0!==l&&(c[19]=l,r.length++),r};function g(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,c=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=c;l++){var u=o-l,h=(0|t.words[u])*(0|e.words[l]),f=67108863&h;s=67108863&(f=f+s|0),i+=(a=(a=a+(h/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function _(t,e,r){return g(t,e,r)}function b(t,e){this.x=t,this.y=e}Math.imul||(y=m),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?y(this,t,e):r<63?m(this,t,e):r<1024?g(this,t,e):_(this,t,e)},b.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},b.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},b.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},b.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),u=0;u<i;u+=s)for(var h=c,f=l,p=0;p<a;p++){var d=r[u+p],m=n[u+p],y=r[u+p+a],g=n[u+p+a],_=h*y-f*g;g=h*g+f*y,y=_,r[u+p]=d+y,n[u+p]=m+g,r[u+p+a]=d-y,n[u+p+a]=m-g,p!==s&&(_=c*h-l*f,f=c*f+l*h,h=_)}},b.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},b.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},b.prototype.convert13b=function(t,e,r,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)r[a]=0;n(0===o),n(0==(-8192&o))},b.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},b.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),c=new Array(n),l=new Array(n),u=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,l,n),this.transform(a,o,s,c,n,i),this.transform(l,o,u,h,n,i);for(var p=0;p<n;p++){var d=s[p]*u[p]-c[p]*h[p];c[p]=s[p]*h[p]+c[p]*u[p],s[p]=d}return this.conjugate(s,c,n),this.transform(s,c,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),_(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,a=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=a>>>26,this.words[i]=67108863&a}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,c=(0|this.words[e])-s<<r;this.words[e]=c|a,a=s>>>26-r}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,c=r;if(i-=a,i=Math.max(0,i),c){for(var l=0;l<a;l++)c.words[l]=this.words[l];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=i);l--){var h=0|this.words[l];this.words[l]=u<<26-o|h>>>o,u=h&s}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,a=t.length+r;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+s;var c=(0|t.words[i])*e;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this._strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var s,c=n.length-i.length;if("mod"!==e){(s=new o(null)).length=c+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var u=n.clone()._ishlnsubmul(i,1,c);0===u.negative&&(n=u,s&&(s.words[c]=1));for(var h=c-1;h>=0;h--){var f=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(f=Math.min(f/a|0,67108863),n._ishlnsubmul(i,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);s&&(s.words[h]=f)}return s&&s._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),c=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var u=r.clone(),h=e.clone();!e.isZero();){for(var f=0,p=1;0==(e.words[0]&p)&&f<26;++f,p<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(u),a.isub(h)),i.iushrn(1),a.iushrn(1);for(var d=0,m=1;0==(r.words[0]&m)&&d<26;++d,m<<=1);if(d>0)for(r.iushrn(d);d-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(u),c.isub(h)),s.iushrn(1),c.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(s),a.isub(c)):(r.isub(e),s.isub(i),c.isub(a))}return{a:s,b:c,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),c=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,u=1;0==(e.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(e.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var h=0,f=1;0==(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);e.cmp(r)>=0?(e.isub(r),a.isub(s)):(r.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function O(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function M(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function j(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}O.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},O.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},O.prototype.split=function(t,e){t.iushrn(this.n,0,e)},O.prototype.imulK=function(t){return t.imul(this.k)},i(w,O),w.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},w.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(M,O),i(E,O),i(x,O),x.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new w;else if("p224"===t)e=new M;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new x}return v[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(u(t,t.umod(this.m)._forceRed(this)),t)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),c=s.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new o(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var h=this.pow(u,i),f=this.pow(t,i.addn(1).iushrn(1)),p=this.pow(t,i),d=a;0!==p.cmp(s);){for(var m=p,y=0;0!==m.cmp(s);y++)m=m.redSqr();n(y<d);var g=this.pow(h,new o(1).iushln(d-y-1));f=f.redMul(g),h=g.redSqr(),p=p.redMul(h),d=y}return f},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],a=0,s=0,c=e.bitLength()%26;for(0===c&&(c=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],u=c-1;u>=0;u--){var h=l>>u&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===n&&0===u)&&(i=this.mul(i,r[a]),s=0,a=0)):s=0}c=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new j(t)},i(j,S),j.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},j.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},j.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},j.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},j.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,r(193)(t))},function(t,e,r){"use strict";var n=e;n.version=r(748).version,n.utils=r(152),n.rand=r(441),n.curve=r(510),n.curves=r(445),n.ec=r(760),n.eddsa=r(764)},function(t,e,r){"use strict";var n,i=e,o=r(446),a=r(510),s=r(152).assert;function c(t){"short"===t.type?this.curve=new a.short(t):"edwards"===t.type?this.curve=new a.edwards(t):this.curve=new a.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function l(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var r=new c(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=c,l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(759)}catch(t){n=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},function(t,e,r){var n=e;n.utils=r(171),n.common=r(312),n.sha=r(753),n.ripemd=r(757),n.hmac=r(758),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},function(t,e,r){"use strict";(function(e){var n,i=r(94),o=i.Buffer,a={};for(n in i)i.hasOwnProperty(n)&&"SlowBuffer"!==n&&"Buffer"!==n&&(a[n]=i[n]);var s=a.Buffer={};for(n in o)o.hasOwnProperty(n)&&"allocUnsafe"!==n&&"allocUnsafeSlow"!==n&&(s[n]=o[n]);if(a.Buffer.prototype=o.prototype,s.from&&s.from!==Uint8Array.from||(s.from=function(t,e,r){if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&void 0===t.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return o(t,e,r)}),s.alloc||(s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=o(t);return e&&0!==e.length?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n}),!a.kStringMaxLength)try{a.kStringMaxLength=e.binding("buffer").kStringMaxLength}catch(t){}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),t.exports=a}).call(this,r(121))},function(t,e,r){"use strict";const n=r(449).Reporter,i=r(313).EncoderBuffer,o=r(313).DecoderBuffer,a=r(151),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s);function l(t,e,r){const n={};this._baseState=n,n.name=r,n.enc=t,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}t.exports=l;const u=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];l.prototype.clone=function(){const t=this._baseState,e={};u.forEach((function(r){e[r]=t[r]}));const r=new this.constructor(e.parent);return r._baseState=e,r},l.prototype._wrap=function(){const t=this._baseState;c.forEach((function(e){this[e]=function(){const r=new this.constructor(this);return t.children.push(r),r[e].apply(r,arguments)}}),this)},l.prototype._init=function(t){const e=this._baseState;a(null===e.parent),t.call(this),e.children=e.children.filter((function(t){return t._baseState.parent===this}),this),a.equal(e.children.length,1,"Root node can have only one child")},l.prototype._useArgs=function(t){const e=this._baseState,r=t.filter((function(t){return t instanceof this.constructor}),this);t=t.filter((function(t){return!(t instanceof this.constructor)}),this),0!==r.length&&(a(null===e.children),e.children=r,r.forEach((function(t){t._baseState.parent=this}),this)),0!==t.length&&(a(null===e.args),e.args=t,e.reverseArgs=t.map((function(t){if("object"!=typeof t||t.constructor!==Object)return t;const e={};return Object.keys(t).forEach((function(r){r==(0|r)&&(r|=0);const n=t[r];e[n]=r})),e})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(t){l.prototype[t]=function(){const e=this._baseState;throw new Error(t+" not implemented for encoding: "+e.enc)}})),s.forEach((function(t){l.prototype[t]=function(){const e=this._baseState,r=Array.prototype.slice.call(arguments);return a(null===e.tag),e.tag=t,this._useArgs(r),this}})),l.prototype.use=function(t){a(t);const e=this._baseState;return a(null===e.use),e.use=t,this},l.prototype.optional=function(){return this._baseState.optional=!0,this},l.prototype.def=function(t){const e=this._baseState;return a(null===e.default),e.default=t,e.optional=!0,this},l.prototype.explicit=function(t){const e=this._baseState;return a(null===e.explicit&&null===e.implicit),e.explicit=t,this},l.prototype.implicit=function(t){const e=this._baseState;return a(null===e.explicit&&null===e.implicit),e.implicit=t,this},l.prototype.obj=function(){const t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},l.prototype.key=function(t){const e=this._baseState;return a(null===e.key),e.key=t,this},l.prototype.any=function(){return this._baseState.any=!0,this},l.prototype.choice=function(t){const e=this._baseState;return a(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map((function(e){return t[e]}))),this},l.prototype.contains=function(t){const e=this._baseState;return a(null===e.use),e.contains=t,this},l.prototype._decode=function(t,e){const r=this._baseState;if(null===r.parent)return t.wrapResult(r.children[0]._decode(t,e));let n,i=r.default,a=!0,s=null;if(null!==r.key&&(s=t.enterKey(r.key)),r.optional){let n=null;if(null!==r.explicit?n=r.explicit:null!==r.implicit?n=r.implicit:null!==r.tag&&(n=r.tag),null!==n||r.any){if(a=this._peekTag(t,n,r.any),t.isError(a))return a}else{const n=t.save();try{null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),a=!0}catch(t){a=!1}t.restore(n)}}if(r.obj&&a&&(n=t.enterObject()),a){if(null!==r.explicit){const e=this._decodeTag(t,r.explicit);if(t.isError(e))return e;t=e}const n=t.offset;if(null===r.use&&null===r.choice){let e;r.any&&(e=t.save());const n=this._decodeTag(t,null!==r.implicit?r.implicit:r.tag,r.any);if(t.isError(n))return n;r.any?i=t.raw(e):t=n}if(e&&e.track&&null!==r.tag&&e.track(t.path(),n,t.length,"tagged"),e&&e.track&&null!==r.tag&&e.track(t.path(),t.offset,t.length,"content"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e)),t.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach((function(r){r._decode(t,e)})),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){const n=new o(i);i=this._getUse(r.contains,t._reporterState.obj)._decode(n,e)}}return r.obj&&a&&(i=t.leaveObject(n)),null===r.key||null===i&&!0!==a?null!==s&&t.exitKey(s):t.leaveKey(s,r.key,i),i},l.prototype._decodeGeneric=function(t,e,r){const n=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(e,t,n.args[0],r):/str$/.test(t)?this._decodeStr(e,t,r):"objid"===t&&n.args?this._decodeObjid(e,n.args[0],n.args[1],r):"objid"===t?this._decodeObjid(e,null,null,r):"gentime"===t||"utctime"===t?this._decodeTime(e,t,r):"null_"===t?this._decodeNull(e,r):"bool"===t?this._decodeBool(e,r):"objDesc"===t?this._decodeStr(e,t,r):"int"===t||"enum"===t?this._decodeInt(e,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,e._reporterState.obj)._decode(e,r):e.error("unknown tag: "+t)},l.prototype._getUse=function(t,e){const r=this._baseState;return r.useDecoder=this._use(t,e),a(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},l.prototype._decodeChoice=function(t,e){const r=this._baseState;let n=null,i=!1;return Object.keys(r.choice).some((function(o){const a=t.save(),s=r.choice[o];try{const r=s._decode(t,e);if(t.isError(r))return!1;n={type:o,value:r},i=!0}catch(e){return t.restore(a),!1}return!0}),this),i?n:t.error("Choice not matched")},l.prototype._createEncoderBuffer=function(t){return new i(t,this.reporter)},l.prototype._encode=function(t,e,r){const n=this._baseState;if(null!==n.default&&n.default===t)return;const i=this._encodeValue(t,e,r);return void 0===i||this._skipDefault(i,e,r)?void 0:i},l.prototype._encodeValue=function(t,e,r){const i=this._baseState;if(null===i.parent)return i.children[0]._encode(t,e||new n);let o=null;if(this.reporter=e,i.optional&&void 0===t){if(null===i.default)return;t=i.default}let a=null,s=!1;if(i.any)o=this._createEncoderBuffer(t);else if(i.choice)o=this._encodeChoice(t,e);else if(i.contains)a=this._getUse(i.contains,r)._encode(t,e),s=!0;else if(i.children)a=i.children.map((function(r){if("null_"===r._baseState.tag)return r._encode(null,e,t);if(null===r._baseState.key)return e.error("Child should have a key");const n=e.enterKey(r._baseState.key);if("object"!=typeof t)return e.error("Child expected, but input is not object");const i=r._encode(t[r._baseState.key],e,t);return e.leaveKey(n),i}),this).filter((function(t){return t})),a=this._createEncoderBuffer(a);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return e.error("Too many args for : "+i.tag);if(!Array.isArray(t))return e.error("seqof/setof, but data is not Array");const r=this.clone();r._baseState.implicit=null,a=this._createEncoderBuffer(t.map((function(r){const n=this._baseState;return this._getUse(n.args[0],t)._encode(r,e)}),r))}else null!==i.use?o=this._getUse(i.use,r)._encode(t,e):(a=this._encodePrimitive(i.tag,t),s=!0);if(!i.any&&null===i.choice){const t=null!==i.implicit?i.implicit:i.tag,r=null===i.implicit?"universal":"context";null===t?null===i.use&&e.error("Tag could be omitted only for .use()"):null===i.use&&(o=this._encodeComposite(t,s,r,a))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o},l.prototype._encodeChoice=function(t,e){const r=this._baseState,n=r.choice[t.type];return n||a(!1,t.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(t.value,e)},l.prototype._encodePrimitive=function(t,e){const r=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if("objid"===t&&r.args)return this._encodeObjid(e,r.reverseArgs[0],r.args[1]);if("objid"===t)return this._encodeObjid(e,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(e,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(e,r.args&&r.reverseArgs[0]);if("bool"===t)return this._encodeBool(e);if("objDesc"===t)return this._encodeStr(e,t);throw new Error("Unsupported tag: "+t)},l.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},l.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},function(t,e,r){"use strict";const n=r(46);function i(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function o(t,e){this.path=t,this.rethrow(e)}e.Reporter=i,i.prototype.isError=function(t){return t instanceof o},i.prototype.save=function(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},i.prototype.restore=function(t){const e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},i.prototype.enterKey=function(t){return this._reporterState.path.push(t)},i.prototype.exitKey=function(t){const e=this._reporterState;e.path=e.path.slice(0,t-1)},i.prototype.leaveKey=function(t,e,r){const n=this._reporterState;this.exitKey(t),null!==n.obj&&(n.obj[e]=r)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){const t=this._reporterState,e=t.obj;return t.obj={},e},i.prototype.leaveObject=function(t){const e=this._reporterState,r=e.obj;return e.obj=t,r},i.prototype.error=function(t){let e;const r=this._reporterState,n=t instanceof o;if(e=n?t:new o(r.path.map((function(t){return"["+JSON.stringify(t)+"]"})).join(""),t.message||t,t.stack),!r.options.partial)throw e;return n||r.errors.push(e),e},i.prototype.wrapResult=function(t){const e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},n(o,Error),o.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(t,e,r){"use strict";function n(t){const e={};return Object.keys(t).forEach((function(r){(0|r)==r&&(r|=0);const n=t[r];e[n]=r})),e}e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=n(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=n(e.tag)},function(t,e,r){(function(t){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var a;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(783).Buffer}catch(t){}function s(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function c(t,e,r){var n=s(t,r);return r-1>=e&&(n|=s(t,r-1)<<4),n}function l(t,e,r,n){for(var i=0,o=Math.min(t.length,r),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=c(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=c(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,s=Math.min(o,o-a)+r,c=0,u=r;u<s;u+=n)c=l(t,u,u+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var h=1;for(c=l(t,u,t.length,e),u=0;u<a;u++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function p(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,c=a/67108864|0;r.words[0]=s;for(var l=1;l<n;l++){for(var u=c>>>26,h=67108863&c,f=Math.min(l,e.length-1),p=Math.max(0,l-t.length+1);p<=f;p++){var d=l-p|0;u+=(a=(i=0|t.words[d])*(o=0|e.words[p])+h)/67108864|0,h=67108863&a}r.words[l]=0|h,c=0|u}return 0!==c?r.words[l]=0|c:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<i|o)).toString(16);r=0!==(o=s>>>24-i&16777215)||a!==this.length-1?u[6-c.length]+c+r:c+r,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=h[t],p=f[t];r="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modn(p).toString(t);r=(d=d.idivn(p)).isZero()?m+r:u[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==a),this.toArrayLike(a,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var a,s,c="le"===e,l=new t(o),u=this.clone();if(c){for(s=0;!u.isZero();s++)a=u.andln(255),u.iushrn(8),l[s]=a;for(;s<o;s++)l[s]=0}else{for(s=0;s<o-i;s++)l[s]=0;for(s=0;!u.isZero();s++)a=u.andln(255),u.iushrn(8),l[o-s-1]=a}return l},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,a=0;a<n.length;a++)o=(e=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var n,i,o,a=t.words,s=e.words,c=r.words,l=0,u=0|a[0],h=8191&u,f=u>>>13,p=0|a[1],d=8191&p,m=p>>>13,y=0|a[2],g=8191&y,_=y>>>13,b=0|a[3],v=8191&b,O=b>>>13,w=0|a[4],M=8191&w,E=w>>>13,x=0|a[5],S=8191&x,j=x>>>13,P=0|a[6],T=8191&P,I=P>>>13,L=0|a[7],R=8191&L,C=L>>>13,A=0|a[8],k=8191&A,N=A>>>13,D=0|a[9],F=8191&D,B=D>>>13,U=0|s[0],G=8191&U,z=U>>>13,W=0|s[1],X=8191&W,q=W>>>13,V=0|s[2],Y=8191&V,Z=V>>>13,K=0|s[3],H=8191&K,J=K>>>13,Q=0|s[4],$=8191&Q,tt=Q>>>13,et=0|s[5],rt=8191&et,nt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ct=8191&st,lt=st>>>13,ut=0|s[8],ht=8191&ut,ft=ut>>>13,pt=0|s[9],dt=8191&pt,mt=pt>>>13;r.negative=t.negative^e.negative,r.length=19;var yt=(l+(n=Math.imul(h,G))|0)+((8191&(i=(i=Math.imul(h,z))+Math.imul(f,G)|0))<<13)|0;l=((o=Math.imul(f,z))+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(d,G),i=(i=Math.imul(d,z))+Math.imul(m,G)|0,o=Math.imul(m,z);var gt=(l+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,q)|0)+Math.imul(f,X)|0))<<13)|0;l=((o=o+Math.imul(f,q)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(g,G),i=(i=Math.imul(g,z))+Math.imul(_,G)|0,o=Math.imul(_,z),n=n+Math.imul(d,X)|0,i=(i=i+Math.imul(d,q)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,q)|0;var _t=(l+(n=n+Math.imul(h,Y)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,Z)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(v,G),i=(i=Math.imul(v,z))+Math.imul(O,G)|0,o=Math.imul(O,z),n=n+Math.imul(g,X)|0,i=(i=i+Math.imul(g,q)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,q)|0,n=n+Math.imul(d,Y)|0,i=(i=i+Math.imul(d,Z)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,Z)|0;var bt=(l+(n=n+Math.imul(h,H)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(f,H)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(M,G),i=(i=Math.imul(M,z))+Math.imul(E,G)|0,o=Math.imul(E,z),n=n+Math.imul(v,X)|0,i=(i=i+Math.imul(v,q)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,q)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,Z)|0,n=n+Math.imul(d,H)|0,i=(i=i+Math.imul(d,J)|0)+Math.imul(m,H)|0,o=o+Math.imul(m,J)|0;var vt=(l+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,$)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(S,G),i=(i=Math.imul(S,z))+Math.imul(j,G)|0,o=Math.imul(j,z),n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,q)|0)+Math.imul(E,X)|0,o=o+Math.imul(E,q)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,Z)|0,n=n+Math.imul(g,H)|0,i=(i=i+Math.imul(g,J)|0)+Math.imul(_,H)|0,o=o+Math.imul(_,J)|0,n=n+Math.imul(d,$)|0,i=(i=i+Math.imul(d,tt)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,tt)|0;var Ot=(l+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(T,G),i=(i=Math.imul(T,z))+Math.imul(I,G)|0,o=Math.imul(I,z),n=n+Math.imul(S,X)|0,i=(i=i+Math.imul(S,q)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,q)|0,n=n+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,Z)|0,n=n+Math.imul(v,H)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(O,H)|0,o=o+Math.imul(O,J)|0,n=n+Math.imul(g,$)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(d,rt)|0,i=(i=i+Math.imul(d,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var wt=(l+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,at)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,at)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(R,G),i=(i=Math.imul(R,z))+Math.imul(C,G)|0,o=Math.imul(C,z),n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,q)|0)+Math.imul(I,X)|0,o=o+Math.imul(I,q)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(j,Y)|0,o=o+Math.imul(j,Z)|0,n=n+Math.imul(M,H)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(E,H)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(g,rt)|0,i=(i=i+Math.imul(g,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(d,ot)|0,i=(i=i+Math.imul(d,at)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0;var Mt=(l+(n=n+Math.imul(h,ct)|0)|0)+((8191&(i=(i=i+Math.imul(h,lt)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(k,G),i=(i=Math.imul(k,z))+Math.imul(N,G)|0,o=Math.imul(N,z),n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,q)|0)+Math.imul(C,X)|0,o=o+Math.imul(C,q)|0,n=n+Math.imul(T,Y)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(I,Y)|0,o=o+Math.imul(I,Z)|0,n=n+Math.imul(S,H)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(j,H)|0,o=o+Math.imul(j,J)|0,n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,at)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,at)|0,n=n+Math.imul(d,ct)|0,i=(i=i+Math.imul(d,lt)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,lt)|0;var Et=(l+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(f,ht)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(F,G),i=(i=Math.imul(F,z))+Math.imul(B,G)|0,o=Math.imul(B,z),n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,q)|0)+Math.imul(N,X)|0,o=o+Math.imul(N,q)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,Z)|0,n=n+Math.imul(T,H)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(I,H)|0,o=o+Math.imul(I,J)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(j,$)|0,o=o+Math.imul(j,tt)|0,n=n+Math.imul(M,rt)|0,i=(i=i+Math.imul(M,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,n=n+Math.imul(g,ct)|0,i=(i=i+Math.imul(g,lt)|0)+Math.imul(_,ct)|0,o=o+Math.imul(_,lt)|0,n=n+Math.imul(d,ht)|0,i=(i=i+Math.imul(d,ft)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,ft)|0;var xt=(l+(n=n+Math.imul(h,dt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(f,dt)|0))<<13)|0;l=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(F,X),i=(i=Math.imul(F,q))+Math.imul(B,X)|0,o=Math.imul(B,q),n=n+Math.imul(k,Y)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,Z)|0,n=n+Math.imul(R,H)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(C,H)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(j,rt)|0,o=o+Math.imul(j,nt)|0,n=n+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,at)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,at)|0,n=n+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(O,ct)|0,o=o+Math.imul(O,lt)|0,n=n+Math.imul(g,ht)|0,i=(i=i+Math.imul(g,ft)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,ft)|0;var St=(l+(n=n+Math.imul(d,dt)|0)|0)+((8191&(i=(i=i+Math.imul(d,mt)|0)+Math.imul(m,dt)|0))<<13)|0;l=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(F,Y),i=(i=Math.imul(F,Z))+Math.imul(B,Y)|0,o=Math.imul(B,Z),n=n+Math.imul(k,H)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(N,H)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(I,rt)|0,o=o+Math.imul(I,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,at)|0)+Math.imul(j,ot)|0,o=o+Math.imul(j,at)|0,n=n+Math.imul(M,ct)|0,i=(i=i+Math.imul(M,lt)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,lt)|0,n=n+Math.imul(v,ht)|0,i=(i=i+Math.imul(v,ft)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,ft)|0;var jt=(l+(n=n+Math.imul(g,dt)|0)|0)+((8191&(i=(i=i+Math.imul(g,mt)|0)+Math.imul(_,dt)|0))<<13)|0;l=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(jt>>>26)|0,jt&=67108863,n=Math.imul(F,H),i=(i=Math.imul(F,J))+Math.imul(B,H)|0,o=Math.imul(B,J),n=n+Math.imul(k,$)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(T,ot)|0,i=(i=i+Math.imul(T,at)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,at)|0,n=n+Math.imul(S,ct)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(j,ct)|0,o=o+Math.imul(j,lt)|0,n=n+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,ft)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,ft)|0;var Pt=(l+(n=n+Math.imul(v,dt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(O,dt)|0))<<13)|0;l=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(F,$),i=(i=Math.imul(F,tt))+Math.imul(B,$)|0,o=Math.imul(B,tt),n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,at)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,at)|0,n=n+Math.imul(T,ct)|0,i=(i=i+Math.imul(T,lt)|0)+Math.imul(I,ct)|0,o=o+Math.imul(I,lt)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(j,ht)|0,o=o+Math.imul(j,ft)|0;var Tt=(l+(n=n+Math.imul(M,dt)|0)|0)+((8191&(i=(i=i+Math.imul(M,mt)|0)+Math.imul(E,dt)|0))<<13)|0;l=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(F,rt),i=(i=Math.imul(F,nt))+Math.imul(B,rt)|0,o=Math.imul(B,nt),n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,at)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,at)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(C,ct)|0,o=o+Math.imul(C,lt)|0,n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,ft)|0)+Math.imul(I,ht)|0,o=o+Math.imul(I,ft)|0;var It=(l+(n=n+Math.imul(S,dt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(j,dt)|0))<<13)|0;l=((o=o+Math.imul(j,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(F,ot),i=(i=Math.imul(F,at))+Math.imul(B,ot)|0,o=Math.imul(B,at),n=n+Math.imul(k,ct)|0,i=(i=i+Math.imul(k,lt)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,lt)|0,n=n+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(C,ht)|0,o=o+Math.imul(C,ft)|0;var Lt=(l+(n=n+Math.imul(T,dt)|0)|0)+((8191&(i=(i=i+Math.imul(T,mt)|0)+Math.imul(I,dt)|0))<<13)|0;l=((o=o+Math.imul(I,mt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,n=Math.imul(F,ct),i=(i=Math.imul(F,lt))+Math.imul(B,ct)|0,o=Math.imul(B,lt),n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,ft)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,ft)|0;var Rt=(l+(n=n+Math.imul(R,dt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(C,dt)|0))<<13)|0;l=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(F,ht),i=(i=Math.imul(F,ft))+Math.imul(B,ht)|0,o=Math.imul(B,ft);var Ct=(l+(n=n+Math.imul(k,dt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(N,dt)|0))<<13)|0;l=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863;var At=(l+(n=Math.imul(F,dt))|0)+((8191&(i=(i=Math.imul(F,mt))+Math.imul(B,dt)|0))<<13)|0;return l=((o=Math.imul(B,mt))+(i>>>13)|0)+(At>>>26)|0,At&=67108863,c[0]=yt,c[1]=gt,c[2]=_t,c[3]=bt,c[4]=vt,c[5]=Ot,c[6]=wt,c[7]=Mt,c[8]=Et,c[9]=xt,c[10]=St,c[11]=jt,c[12]=Pt,c[13]=Tt,c[14]=It,c[15]=Lt,c[16]=Rt,c[17]=Ct,c[18]=At,0!==l&&(c[19]=l,r.length++),r};function m(t,e,r){return(new y).mulp(t,e,r)}function y(t,e){this.x=t,this.y=e}Math.imul||(d=p),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?d(this,t,e):r<63?p(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,c=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=c;l++){var u=o-l,h=(0|t.words[u])*(0|e.words[l]),f=67108863&h;s=67108863&(f=f+s|0),i+=(a=(a=a+(h/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):m(this,t,e)},y.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},y.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},y.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},y.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),u=0;u<i;u+=s)for(var h=c,f=l,p=0;p<a;p++){var d=r[u+p],m=n[u+p],y=r[u+p+a],g=n[u+p+a],_=h*y-f*g;g=h*g+f*y,y=_,r[u+p]=d+y,n[u+p]=m+g,r[u+p+a]=d-y,n[u+p+a]=m-g,p!==s&&(_=c*h-l*f,f=c*f+l*h,h=_)}},y.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},y.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},y.prototype.convert13b=function(t,e,r,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)r[a]=0;n(0===o),n(0==(-8192&o))},y.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},y.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),c=new Array(n),l=new Array(n),u=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,l,n),this.transform(a,o,s,c,n,i),this.transform(l,o,u,h,n,i);for(var p=0;p<n;p++){var d=s[p]*u[p]-c[p]*h[p];c[p]=s[p]*h[p]+c[p]*u[p],s[p]=d}return this.conjugate(s,c,n),this.transform(s,c,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),m(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,c=(0|this.words[e])-s<<r;this.words[e]=c|a,a=s>>>26-r}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,c=r;if(i-=a,i=Math.max(0,i),c){for(var l=0;l<a;l++)c.words[l]=this.words[l];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=i);l--){var h=0|this.words[l];this.words[l]=u<<26-o|h>>>o,u=h&s}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,a=t.length+r;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+s;var c=(0|t.words[i])*e;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this.strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var s,c=n.length-i.length;if("mod"!==e){(s=new o(null)).length=c+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var u=n.clone()._ishlnsubmul(i,1,c);0===u.negative&&(n=u,s&&(s.words[c]=1));for(var h=c-1;h>=0;h--){var f=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(f=Math.min(f/a|0,67108863),n._ishlnsubmul(i,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);s&&(s.words[h]=f)}return s&&s.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),c=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var u=r.clone(),h=e.clone();!e.isZero();){for(var f=0,p=1;0==(e.words[0]&p)&&f<26;++f,p<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(u),a.isub(h)),i.iushrn(1),a.iushrn(1);for(var d=0,m=1;0==(r.words[0]&m)&&d<26;++d,m<<=1);if(d>0)for(r.iushrn(d);d-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(u),c.isub(h)),s.iushrn(1),c.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(s),a.isub(c)):(r.isub(e),s.isub(i),c.isub(a))}return{a:s,b:c,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),c=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,u=1;0==(e.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(e.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var h=0,f=1;0==(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);e.cmp(r)>=0?(e.isub(r),a.isub(s)):(r.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new M(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function E(t){M.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(b,_),b.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(v,_),i(O,_),i(w,_),w.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new v;else if("p192"===t)e=new O;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new w}return g[t]=e,e},M.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},M.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},M.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},M.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},M.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},M.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},M.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},M.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},M.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},M.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},M.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},M.prototype.isqr=function(t){return this.imul(t,t.clone())},M.prototype.sqr=function(t){return this.mul(t,t)},M.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),c=s.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new o(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var h=this.pow(u,i),f=this.pow(t,i.addn(1).iushrn(1)),p=this.pow(t,i),d=a;0!==p.cmp(s);){for(var m=p,y=0;0!==m.cmp(s);y++)m=m.redSqr();n(y<d);var g=this.pow(h,new o(1).iushln(d-y-1));f=f.redMul(g),h=g.redSqr(),p=p.redMul(h),d=y}return f},M.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},M.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],a=0,s=0,c=e.bitLength()%26;for(0===c&&(c=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],u=c-1;u>=0;u--){var h=l>>u&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===n&&0===u)&&(i=this.mul(i,r[a]),s=0,a=0)):s=0}c=26}return i},M.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},M.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new E(t)},i(E,M),E.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},E.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},E.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},E.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},E.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,r(193)(t))},function(t,e,r){"use strict";var n=r(19),i=function(){function t(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},t.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},t.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},t.prototype.get=function(t,e){var r=this.entries_[t];return Object(n.a)(void 0!==r,15),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_},t.prototype.remove=function(t){var e=this.entries_[t];return Object(n.a)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var t,e=new Array(this.count_),r=0;for(t=this.newest_;t;t=t.older)e[r++]=t.key_;return e},t.prototype.getValues=function(){var t,e=new Array(this.count_),r=0;for(t=this.newest_;t;t=t.older)e[r++]=t.value_;return e},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},t.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},t.prototype.set=function(t,e){Object(n.a)(!(t in this.entries_),16);var r={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[t]=r,++this.count_},t.prototype.setSize=function(t){this.highWaterMark=t},t}();e.a=i},function(t,e,r){"use strict";var n={};(0,r(207).assign)(n,r(663),r(666),r(464)),t.exports=n},function(t,e,r){"use strict";var n,i=r(144),o=r(20),a=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=function(t){function e(e,r,n,i,o,a){var s=t.call(this,e,r,a)||this;return s.extent=null,s.format_=i,s.features_=null,s.loader_,s.projection=null,s.resolution,s.tileLoadFunction_=o,s.url_=n,s}return a(e,t),e.prototype.getFormat=function(){return this.format_},e.prototype.getFeatures=function(){return this.features_},e.prototype.getKey=function(){return this.url_},e.prototype.load=function(){this.state==o.a.IDLE&&(this.setState(o.a.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))},e.prototype.onLoad=function(t,e){this.setFeatures(t)},e.prototype.onError=function(){this.setState(o.a.ERROR)},e.prototype.setFeatures=function(t){this.features_=t,this.setState(o.a.LOADED)},e.prototype.setLoader=function(t){this.loader_=t},e}(i.a);e.a=s},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}[].includes||(Array.prototype.includes=function(t){var e=Object(this),r=parseInt(e.length)||0;if(0===r)return!1;var n,i,o=parseInt(arguments[1])||0;for(o>=0?n=o:(n=r+o)<0&&(n=0);n<r;){if(t===(i=e[n])||Object.equals(t,i)||t!=t&&i!=i)return!0;n++}return!1}),[].remove||(Array.prototype.remove=function(t){var e=Object(this),r=parseInt(e.length)||0;if(0===r)return!1;var n,i=parseInt(arguments[1])||0;i>=0?n=i:(n=r+i)<0&&(n=0);for(var o,a=[];n<r;)(t===(o=e[n])||Object.equals(t,o)||t!=t&&o!=o)&&a.push(n),n++;var s=0;a.forEach((function(t){t+=s,e.splice(t,1),s--}))}),Object.equals||(Object.equals=function(t,e){if(null!==t.equals&&"function"==typeof t.equals&&t.equals.call)return t.equals(e);if(null!==e.equals&&"function"==typeof e.equals&&e.equals.call)return e.equals(t);var r,i=[],o=[];if(isNaN(t)&&isNaN(e)&&"number"==typeof t&&"number"==typeof e)return!0;if(t===e)return!0;if("function"==typeof t&&"function"==typeof e||t instanceof Date&&e instanceof Date||t instanceof RegExp&&e instanceof RegExp||t instanceof String&&e instanceof String||t instanceof Number&&e instanceof Number)return t.toString()===e.toString();if(!(t instanceof Object&&e instanceof Object))return!1;if(t.isPrototypeOf(e)||e.isPrototypeOf(t))return!1;if(t.constructor!==e.constructor)return!1;if(t.prototype!==e.prototype)return!1;if(i.indexOf(t)>-1||o.indexOf(e)>-1)return!1;for(r in e){if(e.hasOwnProperty(r)!==t.hasOwnProperty(r))return!1;if(n(e[r])!==n(t[r]))return!1}for(r in t){if(e.hasOwnProperty(r)!==t.hasOwnProperty(r))return!1;if(n(e[r])!==n(t[r]))return!1;switch(n(t[r])){case"object":case"function":if(i.push(t),o.push(e),!Object.equals(t[r],e[r]))return!1;i.pop(),o.pop();break;default:if(t[r]!==e[r])return!1}}return!0}),e.a={}},function(t,e){t.exports='<div class="m-popup{{#gt tabs.length 1}} m-has-tabs{{/gt}} m-collapsed">\n  {{#gt tabs.length 1}}\n    <div class="m-tabs">\n      {{#each tabs}}\n        <div class="m-tab{{#eq @index 0}} m-activated{{/eq}}" data-index="{{@index}}">\n          <i class="{{icon}}"></i>\n        </div>\n      {{/each}}\n    </div>\n  {{/gt}}\n  <div class="m-content">\n    <div class="m-header">\n      {{#eq tabs.length 1}}\n        <div class="m-title">{{{tabs.0.title}}}</div>\n        <div class="m-subtitle">{{{tabs.0.subtitle}}}</div>\n      {{/eq}}\n      <a class="m-popup-closer" href="#" title="cerrar popup"></a>\n    </div>\n    <div class="m-body">{{{tabs.0.content}}}</div>\n  </div>\n</div>'},function(t,e,r){var n,i;
/*!
 * Draggabilly v2.4.1
 * Make that shiz draggable
 * https://draggabilly.desandro.com
 * MIT license
 */!function(o,a){n=[r(788),r(789)],void 0===(i=function(t,e){return function(t,e,r){function n(t,e){for(var r in e)t[r]=e[r];return t}var i=t.jQuery;function o(t,e){this.element="string"==typeof t?document.querySelector(t):t,i&&(this.$element=i(this.element)),this.options=n({},this.constructor.defaults),this.option(e),this._create()}var a=o.prototype=Object.create(r.prototype);o.defaults={},a.option=function(t){n(this.options,t)};var s={relative:!0,absolute:!0,fixed:!0};function c(t,e,r){return r=r||"round",e?Math[r](t/e)*e:t}a._create=function(){this.position={},this._getPosition(),this.startPoint={x:0,y:0},this.dragPoint={x:0,y:0},this.startPosition=n({},this.position);var t=getComputedStyle(this.element);s[t.position]||(this.element.style.position="relative"),this.on("pointerMove",this.onPointerMove),this.on("pointerUp",this.onPointerUp),this.enable(),this.setHandles()},a.setHandles=function(){this.handles=this.options.handle?this.element.querySelectorAll(this.options.handle):[this.element],this.bindHandles()},a.dispatchEvent=function(t,e,r){var n=[e].concat(r);this.emitEvent(t,n),this.dispatchJQueryEvent(t,e,r)},a.dispatchJQueryEvent=function(e,r,n){var i=t.jQuery;if(i&&this.$element){var o=i.Event(r);o.type=e,this.$element.trigger(o,n)}},a._getPosition=function(){var t=getComputedStyle(this.element),e=this._getPositionCoord(t.left,"width"),r=this._getPositionCoord(t.top,"height");this.position.x=isNaN(e)?0:e,this.position.y=isNaN(r)?0:r,this._addTransformPosition(t)},a._getPositionCoord=function(t,r){if(-1!=t.indexOf("%")){var n=e(this.element.parentNode);return n?parseFloat(t)/100*n[r]:0}return parseInt(t,10)},a._addTransformPosition=function(t){var e=t.transform;if(0===e.indexOf("matrix")){var r=e.split(","),n=0===e.indexOf("matrix3d")?12:4,i=parseInt(r[n],10),o=parseInt(r[n+1],10);this.position.x+=i,this.position.y+=o}},a.onPointerDown=function(t,e){this.element.classList.add("is-pointer-down"),this.dispatchJQueryEvent("pointerDown",t,[e])},a.pointerDown=function(t,e){this.okayPointerDown(t)&&this.isEnabled?(this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},t.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(t),this.element.classList.add("is-pointer-down"),this.dispatchEvent("pointerDown",t,[e])):this._pointerReset()},a.dragStart=function(t,e){this.isEnabled&&(this._getPosition(),this.measureContainment(),this.startPosition.x=this.position.x,this.startPosition.y=this.position.y,this.setLeftTop(),this.dragPoint.x=0,this.dragPoint.y=0,this.element.classList.add("is-dragging"),this.dispatchEvent("dragStart",t,[e]),this.animate())},a.measureContainment=function(){var t=this.getContainer();if(t){var r=e(this.element),n=e(t),i=this.element.getBoundingClientRect(),o=t.getBoundingClientRect(),a=n.borderLeftWidth+n.borderRightWidth,s=n.borderTopWidth+n.borderBottomWidth,c=this.relativeStartPosition={x:i.left-(o.left+n.borderLeftWidth),y:i.top-(o.top+n.borderTopWidth)};this.containSize={width:n.width-a-c.x-r.width,height:n.height-s-c.y-r.height}}},a.getContainer=function(){var t=this.options.containment;if(t)return t instanceof HTMLElement?t:"string"==typeof t?document.querySelector(t):this.element.parentNode},a.onPointerMove=function(t,e,r){this.dispatchJQueryEvent("pointerMove",t,[e,r])},a.dragMove=function(t,e,r){if(this.isEnabled){var n=r.x,i=r.y,o=this.options.grid,a=o&&o[0],s=o&&o[1];n=c(n,a),i=c(i,s),n=this.containDrag("x",n,a),i=this.containDrag("y",i,s),n="y"==this.options.axis?0:n,i="x"==this.options.axis?0:i,this.position.x=this.startPosition.x+n,this.position.y=this.startPosition.y+i,this.dragPoint.x=n,this.dragPoint.y=i,this.dispatchEvent("dragMove",t,[e,r])}},a.containDrag=function(t,e,r){if(!this.options.containment)return e;var n="x"==t?"width":"height",i=c(-this.relativeStartPosition[t],r,"ceil"),o=this.containSize[n];return o=c(o,r,"floor"),Math.max(i,Math.min(o,e))},a.onPointerUp=function(t,e){this.element.classList.remove("is-pointer-down"),this.dispatchJQueryEvent("pointerUp",t,[e])},a.dragEnd=function(t,e){this.isEnabled&&(this.element.style.transform="",this.setLeftTop(),this.element.classList.remove("is-dragging"),this.dispatchEvent("dragEnd",t,[e]))},a.animate=function(){if(this.isDragging){this.positionDrag();var t=this;requestAnimationFrame((function(){t.animate()}))}},a.setLeftTop=function(){this.element.style.left=this.position.x+"px",this.element.style.top=this.position.y+"px"},a.positionDrag=function(){this.element.style.transform="translate3d( "+this.dragPoint.x+"px, "+this.dragPoint.y+"px, 0)"},a.staticClick=function(t,e){this.dispatchEvent("staticClick",t,[e])},a.setPosition=function(t,e){this.position.x=t,this.position.y=e,this.setLeftTop()},a.enable=function(){this.isEnabled=!0},a.disable=function(){this.isEnabled=!1,this.isDragging&&this.dragEnd()},a.destroy=function(){this.disable(),this.element.style.transform="",this.element.style.left="",this.element.style.top="",this.element.style.position="",this.unbindHandles(),this.$element&&this.$element.removeData("draggabilly")},a._init=function(){},i&&i.bridget&&i.bridget("draggabilly",o);return o}(o,t,e)}.apply(e,n))||(t.exports=i)}(window)},function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,r,n,i){var o,a,s=8*i-n-1,c=(1<<s)-1,l=c>>1,u=-7,h=r?i-1:0,f=r?-1:1,p=t[e+h];for(h+=f,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+t[e+h],h+=f,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=256*a+t[e+h],h+=f,u-=8);if(0===o)o=1-l;else{if(o===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=l}return(p?-1:1)*a*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var a,s,c,l=8*o-i-1,u=(1<<l)-1,h=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),(e+=a+h>=1?f/c:f*Math.pow(2,1-h))*c>=2&&(a++,c/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(e*c-1)*Math.pow(2,i),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[r+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[r+p]=255&a,p+=d,a/=256,l-=8);t[r+p-d]|=128*m}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){"use strict";t.exports=function(t,e,r,n){for(var i=65535&t|0,o=t>>>16&65535|0,a=0;0!==r;){r-=a=r>2e3?2e3:r;do{o=o+(i=i+e[n++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}},function(t,e,r){"use strict";var n=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();t.exports=function(t,e,r,i){var o=n,a=i+r;t^=-1;for(var s=i;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}},function(t,e,r){"use strict";var n=r(207),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var a=new n.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function c(t,e){if(e<65534&&(t.subarray&&o||!t.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var r="",a=0;a<e;a++)r+=String.fromCharCode(t[a]);return r}a[254]=a[254]=1,e.string2buf=function(t){var e,r,i,o,a,s=t.length,c=0;for(o=0;o<s;o++)55296==(64512&(r=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(i-56320),o++),c+=r<128?1:r<2048?2:r<65536?3:4;for(e=new n.Buf8(c),a=0,o=0;a<c;o++)55296==(64512&(r=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(i-56320),o++),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|63&r):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|63&r):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|63&r);return e},e.buf2binstring=function(t){return c(t,t.length)},e.binstring2buf=function(t){for(var e=new n.Buf8(t.length),r=0,i=e.length;r<i;r++)e[r]=t.charCodeAt(r);return e},e.buf2string=function(t,e){var r,n,i,o,s=e||t.length,l=new Array(2*s);for(n=0,r=0;r<s;)if((i=t[r++])<128)l[n++]=i;else if((o=a[i])>4)l[n++]=65533,r+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&r<s;)i=i<<6|63&t[r++],o--;o>1?l[n++]=65533:i<65536?l[n++]=i:(i-=65536,l[n++]=55296|i>>10&1023,l[n++]=56320|1023&i)}return c(l,n)},e.utf8border=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;r>=0&&128==(192&t[r]);)r--;return r<0||0===r?e:r+a[t[r]]>e?r:e}},function(t,e,r){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,r){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,r){"use strict";e.LOCAL_FILE_HEADER="PK",e.CENTRAL_FILE_HEADER="PK",e.CENTRAL_DIRECTORY_END="PK",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",e.ZIP64_CENTRAL_DIRECTORY_END="PK",e.DATA_DESCRIPTOR="PK\b"},function(t,e,r){"use strict";e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!1,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},function(t,e,r){"use strict";function n(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}n.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},t.exports=n},function(t,e,r){"use strict";for(var n=r(165),i=r(250),o=r(430),a=new Array(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;a[254]=a[254]=1;var c=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;r>=0&&128==(192&t[r]);)r--;return r<0||0===r?e:r+a[t[r]]>e?r:e},l=function(t){var e,r,i,o,s=t.length,c=new Array(2*s);for(r=0,e=0;e<s;)if((i=t[e++])<128)c[r++]=i;else if((o=a[i])>4)c[r++]=65533,e+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&e<s;)i=i<<6|63&t[e++],o--;o>1?c[r++]=65533:i<65536?c[r++]=i:(i-=65536,c[r++]=55296|i>>10&1023,c[r++]=56320|1023&i)}return c.length!==r&&(c.subarray?c=c.subarray(0,r):c.length=r),n.applyFromCharCode(c)};e.utf8encode=function(t){return i.nodebuffer?o(t,"utf-8"):function(t){var e,r,n,o,a,s=t.length,c=0;for(o=0;o<s;o++)55296==(64512&(r=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(n=t.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(n-56320),o++),c+=r<128?1:r<2048?2:r<65536?3:4;for(e=i.uint8array?new Uint8Array(c):new Array(c),a=0,o=0;a<c;o++)55296==(64512&(r=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(n=t.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(n-56320),o++),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|63&r):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|63&r):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|63&r);return e}(t)},e.utf8decode=function(t){if(i.nodebuffer)return n.transformTo("nodebuffer",t).toString("utf-8");for(var e=[],r=0,o=(t=n.transformTo(i.uint8array?"uint8array":"array",t)).length;r<o;){var a=c(t,Math.min(r+65536,o));i.uint8array?e.push(l(t.subarray(r,a))):e.push(l(t.slice(r,a))),r=a}return e.join("")}},function(t,e,r){"use strict";var n=r(470),i=r(165);function o(t,e){this.data=t,e||(this.data=i.string2binary(this.data)),this.length=this.data.length,this.index=0,this.zero=0}o.prototype=new n,o.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},o.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},o.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=o},function(t,e,r){"use strict";var n=r(165);function i(t){this.data=null,this.length=0,this.index=0,this.zero=0}i.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,r=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)r=(r<<8)+this.byteAt(e);return this.index+=t,r},readString:function(t){return n.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1)}},t.exports=i},function(t,e,r){"use strict";var n=r(472);function i(t){t&&(this.data=t,this.length=this.data.length,this.index=0,this.zero=0)}i.prototype=new n,i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=i},function(t,e,r){"use strict";var n=r(470);function i(t){if(t){this.data=t,this.length=this.data.length,this.index=0,this.zero=0;for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}}i.prototype=new n,i.prototype.byteAt=function(t){return this.data[this.zero+t]},i.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),r=t.charCodeAt(1),n=t.charCodeAt(2),i=t.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===e&&this.data[o+1]===r&&this.data[o+2]===n&&this.data[o+3]===i)return o-this.zero;return-1},i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=i},function(t,e,r){"use strict";var n=r(681);function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],c=["PENDING"];function l(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,t!==i&&p(this,t)}function u(t,e,r){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function h(t,e,r){n((function(){var n;try{n=e(r)}catch(e){return o.reject(t,e)}n===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,n)}))}function f(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function p(t,e){var r=!1;function n(e){r||(r=!0,o.reject(t,e))}function i(e){r||(r=!0,o.resolve(t,e))}var a=d((function(){e(i,n)}));"error"===a.status&&n(a.value)}function d(t,e){var r={};try{r.value=t(e),r.status="success"}catch(t){r.status="error",r.value=t}return r}t.exports=l,l.prototype.finally=function(t){if("function"!=typeof t)return this;var e=this.constructor;return this.then((function(r){return e.resolve(t()).then((function(){return r}))}),(function(r){return e.resolve(t()).then((function(){throw r}))}))},l.prototype.catch=function(t){return this.then(null,t)},l.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===a)return this;var r=new this.constructor(i);this.state!==c?h(r,this.state===s?t:e,this.outcome):this.queue.push(new u(r,t,e));return r},u.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},u.prototype.otherCallFulfilled=function(t){h(this.promise,this.onFulfilled,t)},u.prototype.callRejected=function(t){o.reject(this.promise,t)},u.prototype.otherCallRejected=function(t){h(this.promise,this.onRejected,t)},o.resolve=function(t,e){var r=d(f,e);if("error"===r.status)return o.reject(t,r.value);var n=r.value;if(n)p(t,n);else{t.state=s,t.outcome=e;for(var i=-1,a=t.queue.length;++i<a;)t.queue[i].callFulfilled(e)}return t},o.reject=function(t,e){t.state=a,t.outcome=e;for(var r=-1,n=t.queue.length;++r<n;)t.queue[r].callRejected(e);return t},l.resolve=function(t){if(t instanceof this)return t;return o.resolve(new this(i),t)},l.reject=function(t){var e=new this(i);return o.reject(e,t)},l.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,n=!1;if(!r)return this.resolve([]);var a=new Array(r),s=0,c=-1,l=new this(i);for(;++c<r;)u(t[c],c);return l;function u(t,i){e.resolve(t).then((function(t){a[i]=t,++s!==r||n||(n=!0,o.resolve(l,a))}),(function(t){n||(n=!0,o.reject(l,t))}))}},l.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,n=!1;if(!r)return this.resolve([]);var a=-1,s=new this(i);for(;++a<r;)c=t[a],e.resolve(c).then((function(t){n||(n=!0,o.resolve(s,t))}),(function(t){n||(n=!0,o.reject(s,t))}));var c;return s}},function(t,e,r){},function(t,e,r){(function(t){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function n(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,i="/"===a.charAt(0))}return(i?"/":"")+(e=r(n(e.split("/"),(function(t){return!!t})),!i).join("/"))||"."},e.normalize=function(t){var o=e.isAbsolute(t),a="/"===i(t,-1);return(t=r(n(t.split("/"),(function(t){return!!t})),!o).join("/"))||o||(t="."),t&&a&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(n(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var i=n(t.split("/")),o=n(r.split("/")),a=Math.min(i.length,o.length),s=a,c=0;c<a;c++)if(i[c]!==o[c]){s=c;break}var l=[];for(c=s;c<i.length;c++)l.push("..");return(l=l.concat(o.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,n=-1,i=!0,o=t.length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!i){n=o;break}}else i=!1;return-1===n?r?"/":".":r&&1===n?"/":t.slice(0,n)},e.basename=function(t,e){var r=function(t){"string"!=typeof t&&(t+="");var e,r=0,n=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){r=e+1;break}}else-1===n&&(i=!1,n=e+1);return-1===n?"":t.slice(r,n)}(t);return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,r=0,n=-1,i=!0,o=0,a=t.length-1;a>=0;--a){var s=t.charCodeAt(a);if(47!==s)-1===n&&(i=!1,n=a+1),46===s?-1===e?e=a:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){r=a+1;break}}return-1===e||-1===n||0===o||1===o&&e===n-1&&e===r+1?"":t.slice(e,n)};var i="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,r(121))},function(t,e,r){"use strict";var n=r(48).Buffer,i=r(477).Transform;function o(t){i.call(this),this._block=n.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(46)(o,i),o.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(t){n=t}r(n)},o.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},o.prototype.update=function(t,e){if(function(t,e){if(!n.isBuffer(t)&&"string"!=typeof t)throw new TypeError(e+" must be a string or a buffer")}(t,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(t)||(t=n.from(t,e));for(var r=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)r[o++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)r[this._blockOffset++]=t[i++];for(var a=0,s=8*t.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e},o.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=o},function(t,e,r){(e=t.exports=r(478)).Stream=e,e.Readable=e,e.Writable=r(482),e.Duplex=r(254),e.Transform=r(484),e.PassThrough=r(703),e.finished=r(432),e.pipeline=r(704)},function(t,e,r){"use strict";(function(e,n){var i;t.exports=x,x.ReadableState=E;r(309).EventEmitter;var o=function(t,e){return t.listeners(e).length},a=r(479),s=r(94).Buffer,c=(void 0!==e?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var l,u=r(698);l=u&&u.debuglog?u.debuglog("stream"):function(){};var h,f,p,d=r(699),m=r(480),y=r(481).getHighWaterMark,g=r(253).codes,_=g.ERR_INVALID_ARG_TYPE,b=g.ERR_STREAM_PUSH_AFTER_EOF,v=g.ERR_METHOD_NOT_IMPLEMENTED,O=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(46)(x,a);var w=m.errorOrDestroy,M=["error","close","destroy","pause","resume"];function E(t,e,n){i=i||r(254),t=t||{},"boolean"!=typeof n&&(n=e instanceof i),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=y(this,t,"readableHighWaterMark",n),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(h||(h=r(251).StringDecoder),this.decoder=new h(t.encoding),this.encoding=t.encoding)}function x(t){if(i=i||r(254),!(this instanceof x))return new x(t);var e=this instanceof i;this._readableState=new E(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),a.call(this)}function S(t,e,r,n,i){l("readableAddChunk",e);var o,a=t._readableState;if(null===e)a.reading=!1,function(t,e){if(l("onEofChunk"),e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?T(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,I(t)))}(t,a);else if(i||(o=function(t,e){var r;n=e,s.isBuffer(n)||n instanceof c||"string"==typeof e||void 0===e||t.objectMode||(r=new _("chunk",["string","Buffer","Uint8Array"],e));var n;return r}(a,e)),o)w(t,o);else if(a.objectMode||e&&e.length>0)if("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===s.prototype||(e=function(t){return s.from(t)}(e)),n)a.endEmitted?w(t,new O):j(t,a,e,!0);else if(a.ended)w(t,new b);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(e=a.decoder.write(e),a.objectMode||0!==e.length?j(t,a,e,!1):L(t,a)):j(t,a,e,!1)}else n||(a.reading=!1,L(t,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function j(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&T(t)),L(t,e)}Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),x.prototype.destroy=m.destroy,x.prototype._undestroy=m.undestroy,x.prototype._destroy=function(t,e){e(t)},x.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=s.from(t,e),e=""),r=!0),S(this,t,e,!1,r)},x.prototype.unshift=function(t){return S(this,t,null,!0,!1)},x.prototype.isPaused=function(){return!1===this._readableState.flowing},x.prototype.setEncoding=function(t){h||(h=r(251).StringDecoder);var e=new h(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=e.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};function P(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=1073741824?t=1073741824:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function T(t){var e=t._readableState;l("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(l("emitReadable",e.flowing),e.emittedReadable=!0,n.nextTick(I,t))}function I(t){var e=t._readableState;l("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,N(t)}function L(t,e){e.readingMore||(e.readingMore=!0,n.nextTick(R,t,e))}function R(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(l("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function C(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function A(t){l("readable nexttick read 0"),t.read(0)}function k(t,e){l("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),N(t),e.flowing&&!e.reading&&t.read(0)}function N(t){var e=t._readableState;for(l("flow",e.flowing);e.flowing&&null!==t.read(););}function D(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function F(t){var e=t._readableState;l("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,n.nextTick(B,e,t))}function B(t,e){if(l("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function U(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}x.prototype.read=function(t){l("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return l("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?F(this):T(this),null;if(0===(t=P(t,e))&&e.ended)return 0===e.length&&F(this),null;var n,i=e.needReadable;return l("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&l("length less than watermark",i=!0),e.ended||e.reading?l("reading or ended",i=!1):i&&(l("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=P(r,e))),null===(n=t>0?D(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&F(this)),null!==n&&this.emit("data",n),n},x.prototype._read=function(t){w(this,new v("_read()"))},x.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t)}i.pipesCount+=1,l("pipe count=%d opts=%j",i.pipesCount,e);var a=(!e||!1!==e.end)&&t!==n.stdout&&t!==n.stderr?c:y;function s(e,n){l("onunpipe"),e===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,l("cleanup"),t.removeListener("close",d),t.removeListener("finish",m),t.removeListener("drain",u),t.removeListener("error",p),t.removeListener("unpipe",s),r.removeListener("end",c),r.removeListener("end",y),r.removeListener("data",f),h=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||u())}function c(){l("onend"),t.end()}i.endEmitted?n.nextTick(a):r.once("end",a),t.on("unpipe",s);var u=function(t){return function(){var e=t._readableState;l("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&o(t,"data")&&(e.flowing=!0,N(t))}}(r);t.on("drain",u);var h=!1;function f(e){l("ondata");var n=t.write(e);l("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==U(i.pipes,t))&&!h&&(l("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function p(e){l("onerror",e),y(),t.removeListener("error",p),0===o(t,"error")&&w(t,e)}function d(){t.removeListener("finish",m),y()}function m(){l("onfinish"),t.removeListener("close",d),y()}function y(){l("unpipe"),r.unpipe(t)}return r.on("data",f),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",p),t.once("close",d),t.once("finish",m),t.emit("pipe",r),i.flowing||(l("pipe resume"),r.resume()),t},x.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=U(e.pipes,t);return-1===a||(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},x.prototype.on=function(t,e){var r=a.prototype.on.call(this,t,e),i=this._readableState;return"data"===t?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===t&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,l("on readable",i.length,i.reading),i.length?T(this):i.reading||n.nextTick(A,this))),r},x.prototype.addListener=x.prototype.on,x.prototype.removeListener=function(t,e){var r=a.prototype.removeListener.call(this,t,e);return"readable"===t&&n.nextTick(C,this),r},x.prototype.removeAllListeners=function(t){var e=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||n.nextTick(C,this),e},x.prototype.resume=function(){var t=this._readableState;return t.flowing||(l("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,n.nextTick(k,t,e))}(this,t)),t.paused=!1,this},x.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},x.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",(function(){if(l("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){(l("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<M.length;o++)t.on(M[o],this.emit.bind(this,M[o]));return this._read=function(e){l("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(x.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=r(701)),f(this)}),Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(x.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(x.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),x._fromList=D,Object.defineProperty(x.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(x.from=function(t,e){return void 0===p&&(p=r(702)),p(x,t,e)})}).call(this,r(120),r(121))},function(t,e,r){t.exports=r(309).EventEmitter},function(t,e,r){"use strict";(function(e){function r(t,e){i(t,e),n(t)}function n(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,o){var a=this,s=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return s||c?(o?o(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!o&&t?a._writableState?a._writableState.errorEmitted?e.nextTick(n,a):(a._writableState.errorEmitted=!0,e.nextTick(r,a,t)):e.nextTick(r,a,t):o?(e.nextTick(n,a),o(t)):e.nextTick(n,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}}}).call(this,r(121))},function(t,e,r){"use strict";var n=r(253).codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,r,i){var o=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(e,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return t.objectMode?16:16384}}},function(t,e,r){"use strict";(function(e,n){function i(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}var o;t.exports=x,x.WritableState=E;var a={deprecate:r(483)},s=r(479),c=r(94).Buffer,l=(void 0!==e?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var u,h=r(480),f=r(481).getHighWaterMark,p=r(253).codes,d=p.ERR_INVALID_ARG_TYPE,m=p.ERR_METHOD_NOT_IMPLEMENTED,y=p.ERR_MULTIPLE_CALLBACK,g=p.ERR_STREAM_CANNOT_PIPE,_=p.ERR_STREAM_DESTROYED,b=p.ERR_STREAM_NULL_VALUES,v=p.ERR_STREAM_WRITE_AFTER_END,O=p.ERR_UNKNOWN_ENCODING,w=h.errorOrDestroy;function M(){}function E(t,e,a){o=o||r(254),t=t||{},"boolean"!=typeof a&&(a=e instanceof o),this.objectMode=!!t.objectMode,a&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=f(this,t,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===t.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,i=r.sync,o=r.writecb;if("function"!=typeof o)throw new y;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,i,o){--e.pendingcb,r?(n.nextTick(o,i),n.nextTick(L,t,e),t._writableState.errorEmitted=!0,w(t,i)):(o(i),t._writableState.errorEmitted=!0,w(t,i),L(t,e))}(t,r,i,e,o);else{var a=T(r)||t.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||P(t,r),i?n.nextTick(j,t,r,a,o):j(t,r,a,o)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function x(t){var e=this instanceof(o=o||r(254));if(!e&&!u.call(x,this))return new x(t);this._writableState=new E(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),s.call(this)}function S(t,e,r,n,i,o,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new _("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function j(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),L(t,e)}function P(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,o=new Array(n),a=e.corkedRequestsFree;a.entry=r;for(var s=0,c=!0;r;)o[s]=r,r.isBuf||(c=!1),r=r.next,s+=1;o.allBuffers=c,S(t,e,!0,e.length,o,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new i(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,u=r.encoding,h=r.callback;if(S(t,e,!1,e.objectMode?1:l.length,l,u,h),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function T(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function I(t,e){t._final((function(r){e.pendingcb--,r&&w(t,r),e.prefinished=!0,t.emit("prefinish"),L(t,e)}))}function L(t,e){var r=T(e);if(r&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,n.nextTick(I,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}r(46)(x,s),E.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(E.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(t){return!!u.call(this,t)||this===x&&(t&&t._writableState instanceof E)}})):u=function(t){return t instanceof this},x.prototype.pipe=function(){w(this,new g)},x.prototype.write=function(t,e,r){var i,o=this._writableState,a=!1,s=!o.objectMode&&(i=t,c.isBuffer(i)||i instanceof l);return s&&!c.isBuffer(t)&&(t=function(t){return c.from(t)}(t)),"function"==typeof e&&(r=e,e=null),s?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof r&&(r=M),o.ending?function(t,e){var r=new v;w(t,r),n.nextTick(e,r)}(this,r):(s||function(t,e,r,i){var o;return null===r?o=new b:"string"==typeof r||e.objectMode||(o=new d("chunk",["string","Buffer"],r)),!o||(w(t,o),n.nextTick(i,o),!1)}(this,o,t,r))&&(o.pendingcb++,a=function(t,e,r,n,i,o){if(!r){var a=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=c.from(e,r));return e}(e,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=e.objectMode?1:n.length;e.length+=s;var l=e.length<e.highWaterMark;l||(e.needDrain=!0);if(e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else S(t,e,!1,s,n,i,o);return l}(this,o,s,t,e,r)),a},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||P(this,t))},x.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new O(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(t,e,r){r(new m("_write()"))},x.prototype._writev=null,x.prototype.end=function(t,e,r){var i=this._writableState;return"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||function(t,e,r){e.ending=!0,L(t,e),r&&(e.finished?n.nextTick(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,i,r),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),x.prototype.destroy=h.destroy,x.prototype._undestroy=h.undestroy,x.prototype._destroy=function(t,e){e(t)}}).call(this,r(120),r(121))},function(t,e,r){(function(e){function r(t){try{if(!e.localStorage)return!1}catch(t){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=function(t,e){if(r("noDeprecation"))return t;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}}).call(this,r(120))},function(t,e,r){"use strict";t.exports=u;var n=r(253).codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(254);function l(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function u(t){if(!(this instanceof u))return new u(t);c.call(this,t),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",h)}function h(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(e,r){f(t,e,r)}))}function f(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new s;if(t._transformState.transforming)throw new a;return t.push(null)}r(46)(u,c),u.prototype.push=function(t,e){return this._transformState.needTransform=!1,c.prototype.push.call(this,t,e)},u.prototype._transform=function(t,e,r){r(new i("_transform()"))},u.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},u.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},u.prototype._destroy=function(t,e){c.prototype._destroy.call(this,t,(function(t){e(t)}))}},function(t,e,r){var n=r(46),i=r(255),o=r(48).Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function c(){this.init(),this._w=s,i.call(this,64,56)}function l(t,e,r){return r^t&(e^r)}function u(t,e,r){return t&e|r&(t|e)}function h(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function f(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function p(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}n(c,i),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,d=0|this._f,m=0|this._g,y=0|this._h,g=0;g<16;++g)r[g]=t.readInt32BE(4*g);for(;g<64;++g)r[g]=0|(((e=r[g-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+r[g-7]+p(r[g-15])+r[g-16];for(var _=0;_<64;++_){var b=y+f(c)+l(c,d,m)+a[_]+r[_]|0,v=h(n)+u(n,i,o)|0;y=m,m=d,d=c,c=s+b|0,s=o,o=i,i=n,n=b+v|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0,this._f=d+this._f|0,this._g=m+this._g|0,this._h=y+this._h|0},c.prototype._hash=function(){var t=o.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=c},function(t,e,r){var n=r(46),i=r(255),o=r(48).Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function c(){this.init(),this._w=s,i.call(this,128,112)}function l(t,e,r){return r^t&(e^r)}function u(t,e,r){return t&e|r&(t|e)}function h(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function f(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function p(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function d(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function m(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function y(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function g(t,e){return t>>>0<e>>>0?1:0}n(c,i),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(t){for(var e=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,s=0|this._eh,c=0|this._fh,_=0|this._gh,b=0|this._hh,v=0|this._al,O=0|this._bl,w=0|this._cl,M=0|this._dl,E=0|this._el,x=0|this._fl,S=0|this._gl,j=0|this._hl,P=0;P<32;P+=2)e[P]=t.readInt32BE(4*P),e[P+1]=t.readInt32BE(4*P+4);for(;P<160;P+=2){var T=e[P-30],I=e[P-30+1],L=p(T,I),R=d(I,T),C=m(T=e[P-4],I=e[P-4+1]),A=y(I,T),k=e[P-14],N=e[P-14+1],D=e[P-32],F=e[P-32+1],B=R+N|0,U=L+k+g(B,R)|0;U=(U=U+C+g(B=B+A|0,A)|0)+D+g(B=B+F|0,F)|0,e[P]=U,e[P+1]=B}for(var G=0;G<160;G+=2){U=e[G],B=e[G+1];var z=u(r,n,i),W=u(v,O,w),X=h(r,v),q=h(v,r),V=f(s,E),Y=f(E,s),Z=a[G],K=a[G+1],H=l(s,c,_),J=l(E,x,S),Q=j+Y|0,$=b+V+g(Q,j)|0;$=($=($=$+H+g(Q=Q+J|0,J)|0)+Z+g(Q=Q+K|0,K)|0)+U+g(Q=Q+B|0,B)|0;var tt=q+W|0,et=X+z+g(tt,q)|0;b=_,j=S,_=c,S=x,c=s,x=E,s=o+$+g(E=M+Q|0,M)|0,o=i,M=w,i=n,w=O,n=r,O=v,r=$+et+g(v=Q+tt|0,Q)|0}this._al=this._al+v|0,this._bl=this._bl+O|0,this._cl=this._cl+w|0,this._dl=this._dl+M|0,this._el=this._el+E|0,this._fl=this._fl+x|0,this._gl=this._gl+S|0,this._hl=this._hl+j|0,this._ah=this._ah+r+g(this._al,v)|0,this._bh=this._bh+n+g(this._bl,O)|0,this._ch=this._ch+i+g(this._cl,w)|0,this._dh=this._dh+o+g(this._dl,M)|0,this._eh=this._eh+s+g(this._el,E)|0,this._fh=this._fh+c+g(this._fl,x)|0,this._gh=this._gh+_+g(this._gl,S)|0,this._hh=this._hh+b+g(this._hl,j)|0},c.prototype._hash=function(){var t=o.allocUnsafe(64);function e(e,r,n){t.writeInt32BE(e,n),t.writeInt32BE(r,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=c},function(t,e,r){"use strict";(function(e,n){var i=r(352);t.exports=b;var o,a=r(459);b.ReadableState=_;r(309).EventEmitter;var s=function(t,e){return t.listeners(e).length},c=r(488),l=r(436).Buffer,u=(void 0!==e?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var h=Object.create(r(310));h.inherits=r(46);var f=r(710),p=void 0;p=f&&f.debuglog?f.debuglog("stream"):function(){};var d,m=r(711),y=r(489);h.inherits(b,c);var g=["error","close","destroy","pause","resume"];function _(t,e){t=t||{};var n=e instanceof(o=o||r(227));this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,a=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=r(251).StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function b(t){if(o=o||r(227),!(this instanceof b))return new b(t);this._readableState=new _(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),c.call(this)}function v(t,e,r,n,i){var o,a=t._readableState;null===e?(a.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,M(t)}(t,a)):(i||(o=function(t,e){var r;n=e,l.isBuffer(n)||n instanceof u||"string"==typeof e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(a,e)),o?t.emit("error",o):a.objectMode||e&&e.length>0?("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===l.prototype||(e=function(t){return l.from(t)}(e)),n?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):O(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(e=a.decoder.write(e),a.objectMode||0!==e.length?O(t,a,e,!1):x(t,a)):O(t,a,e,!1))):n||(a.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(a)}function O(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&M(t)),x(t,e)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=y.destroy,b.prototype._undestroy=y.undestroy,b.prototype._destroy=function(t,e){this.push(null),e(t)},b.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=l.from(t,e),e=""),r=!0),v(this,t,e,!1,r)},b.prototype.unshift=function(t){return v(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(t){return d||(d=r(251).StringDecoder),this._readableState.decoder=new d(t),this._readableState.encoding=t,this};function w(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=8388608?t=8388608:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function M(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(p("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(E,t):E(t))}function E(t){p("emit readable"),t.emit("readable"),T(t)}function x(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(S,t,e))}function S(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(p("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function j(t){p("readable nexttick read 0"),t.read(0)}function P(t,e){e.reading||(p("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),T(t),e.flowing&&!e.reading&&t.read(0)}function T(t){var e=t._readableState;for(p("flow",e.flowing);e.flowing&&null!==t.read(););}function I(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=function(t,e,r){var n;t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?function(t,e){var r=e.head,n=1,i=r.data;t-=i.length;for(;r=r.next;){var o=r.data,a=t>o.length?o.length:t;if(a===o.length?i+=o:i+=o.slice(0,t),0===(t-=a)){a===o.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(a));break}++n}return e.length-=n,i}(t,e):function(t,e){var r=l.allocUnsafe(t),n=e.head,i=1;n.data.copy(r),t-=n.data.length;for(;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(o.copy(r,r.length-t,0,a),0===(t-=a)){a===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(a));break}++i}return e.length-=i,r}(t,e);return n}(t,e.buffer,e.decoder),r);var r}function L(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(R,e,t))}function R(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function C(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}b.prototype.read=function(t){p("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return p("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?L(this):M(this),null;if(0===(t=w(t,e))&&e.ended)return 0===e.length&&L(this),null;var n,i=e.needReadable;return p("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&p("length less than watermark",i=!0),e.ended||e.reading?p("reading or ended",i=!1):i&&(p("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=w(r,e))),null===(n=t>0?I(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&L(this)),null!==n&&this.emit("data",n),n},b.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(t,e){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,p("pipe count=%d opts=%j",o.pipesCount,e);var c=(!e||!1!==e.end)&&t!==n.stdout&&t!==n.stderr?u:b;function l(e,n){p("onunpipe"),e===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,p("cleanup"),t.removeListener("close",g),t.removeListener("finish",_),t.removeListener("drain",h),t.removeListener("error",y),t.removeListener("unpipe",l),r.removeListener("end",u),r.removeListener("end",b),r.removeListener("data",m),f=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||h())}function u(){p("onend"),t.end()}o.endEmitted?i.nextTick(c):r.once("end",c),t.on("unpipe",l);var h=function(t){return function(){var e=t._readableState;p("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,T(t))}}(r);t.on("drain",h);var f=!1;var d=!1;function m(e){p("ondata"),d=!1,!1!==t.write(e)||d||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==C(o.pipes,t))&&!f&&(p("false write response, pause",o.awaitDrain),o.awaitDrain++,d=!0),r.pause())}function y(e){p("onerror",e),b(),t.removeListener("error",y),0===s(t,"error")&&t.emit("error",e)}function g(){t.removeListener("finish",_),b()}function _(){p("onfinish"),t.removeListener("close",g),b()}function b(){p("unpipe"),r.unpipe(t)}return r.on("data",m),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?a(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",y),t.once("close",g),t.once("finish",_),t.emit("pipe",r),o.flowing||(p("pipe resume"),r.resume()),t},b.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=C(e.pipes,t);return-1===a||(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},b.prototype.on=function(t,e){var r=c.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&M(this):i.nextTick(j,this))}return r},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var t=this._readableState;return t.flowing||(p("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(P,t,e))}(this,t)),this},b.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",(function(){if(p("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){(p("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<g.length;o++)t.on(g[o],this.emit.bind(this,g[o]));return this._read=function(e){p("wrapped _read",e),n&&(n=!1,t.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=I}).call(this,r(120),r(121))},function(t,e,r){t.exports=r(309).EventEmitter},function(t,e,r){"use strict";var n=r(352);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var r=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(i,this,t)):n.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,n.nextTick(i,r,t)):n.nextTick(i,r,t):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,r){"use strict";t.exports=a;var n=r(227),i=Object.create(r(310));function o(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(t){if(!(this instanceof a))return new a(t);n.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"==typeof this._flush?this._flush((function(e,r){c(t,e,r)})):c(this,null,null)}function c(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=r(46),i.inherits(a,n),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,n.prototype.push.call(this,t,e)},a.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")},a.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},a.prototype._destroy=function(t,e){var r=this;n.prototype._destroy.call(this,t,(function(t){e(t),r.emit("close")}))}},function(t,e,r){"use strict";var n=r(46),i=r(720),o=r(208),a=r(48).Buffer,s=r(492),c=r(433),l=r(434),u=a.alloc(128);function h(t,e){o.call(this,"digest"),"string"==typeof e&&(e=a.from(e));var r="sha512"===t||"sha384"===t?128:64;(this._alg=t,this._key=e,e.length>r)?e=("rmd160"===t?new c:l(t)).update(e).digest():e.length<r&&(e=a.concat([e,u],r));for(var n=this._ipad=a.allocUnsafe(r),i=this._opad=a.allocUnsafe(r),s=0;s<r;s++)n[s]=54^e[s],i[s]=92^e[s];this._hash="rmd160"===t?new c:l(t),this._hash.update(n)}n(h,o),h.prototype._update=function(t){this._hash.update(t)},h.prototype._final=function(){var t=this._hash.digest();return("rmd160"===this._alg?new c:l(this._alg)).update(this._opad).update(t).digest()},t.exports=function(t,e){return"rmd160"===(t=t.toLowerCase())||"ripemd160"===t?new h("rmd160",e):"md5"===t?new i(s,e):new h(t,e)}},function(t,e,r){var n=r(431);t.exports=function(t){return(new n).update(t).digest()}},function(t){t.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},function(t,e,r){e.pbkdf2=r(722),e.pbkdf2Sync=r(497)},function(t,e){var r=Math.pow(2,30)-1;t.exports=function(t,e){if("number"!=typeof t)throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if("number"!=typeof e)throw new TypeError("Key length not a number");if(e<0||e>r||e!=e)throw new TypeError("Bad key length")}},function(t,e,r){(function(e,r){var n;if(e.process&&e.process.browser)n="utf-8";else if(e.process&&e.process.version){n=parseInt(r.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}else n="utf-8";t.exports=n}).call(this,r(120),r(121))},function(t,e,r){var n=r(492),i=r(433),o=r(434),a=r(48).Buffer,s=r(495),c=r(496),l=r(498),u=a.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function f(t,e,r){var s=function(t){function e(e){return o(t).update(e).digest()}return"rmd160"===t||"ripemd160"===t?function(t){return(new i).update(t).digest()}:"md5"===t?n:e}(t),c="sha512"===t||"sha384"===t?128:64;e.length>c?e=s(e):e.length<c&&(e=a.concat([e,u],c));for(var l=a.allocUnsafe(c+h[t]),f=a.allocUnsafe(c+h[t]),p=0;p<c;p++)l[p]=54^e[p],f[p]=92^e[p];var d=a.allocUnsafe(c+r+4);l.copy(d,0,0,c),this.ipad1=d,this.ipad2=l,this.opad=f,this.alg=t,this.blocksize=c,this.hash=s,this.size=h[t]}f.prototype.run=function(t,e){return t.copy(e,this.blocksize),this.hash(e).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(t,e,r,n,i){s(r,n);var o=new f(i=i||"sha1",t=l(t,c,"Password"),(e=l(e,c,"Salt")).length),u=a.allocUnsafe(n),p=a.allocUnsafe(e.length+4);e.copy(p,0,0,e.length);for(var d=0,m=h[i],y=Math.ceil(n/m),g=1;g<=y;g++){p.writeUInt32BE(g,e.length);for(var _=o.run(p,o.ipad1),b=_,v=1;v<r;v++){b=o.run(b,o.ipad2);for(var O=0;O<m;O++)_[O]^=b[O]}_.copy(u,d),d+=m}return u}},function(t,e,r){var n=r(48).Buffer;t.exports=function(t,e,r){if(n.isBuffer(t))return t;if("string"==typeof t)return n.from(t,e);if(ArrayBuffer.isView(t))return n.from(t.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}},function(t,e,r){"use strict";e.readUInt32BE=function(t,e){return(t[0+e]<<24|t[1+e]<<16|t[2+e]<<8|t[3+e])>>>0},e.writeUInt32BE=function(t,e,r){t[0+r]=e>>>24,t[1+r]=e>>>16&255,t[2+r]=e>>>8&255,t[3+r]=255&e},e.ip=function(t,e,r,n){for(var i=0,o=0,a=6;a>=0;a-=2){for(var s=0;s<=24;s+=8)i<<=1,i|=e>>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=t>>>s+a&1}for(a=6;a>=0;a-=2){for(s=1;s<=25;s+=8)o<<=1,o|=e>>>s+a&1;for(s=1;s<=25;s+=8)o<<=1,o|=t>>>s+a&1}r[n+0]=i>>>0,r[n+1]=o>>>0},e.rip=function(t,e,r,n){for(var i=0,o=0,a=0;a<4;a++)for(var s=24;s>=0;s-=8)i<<=1,i|=e>>>s+a&1,i<<=1,i|=t>>>s+a&1;for(a=4;a<8;a++)for(s=24;s>=0;s-=8)o<<=1,o|=e>>>s+a&1,o<<=1,o|=t>>>s+a&1;r[n+0]=i>>>0,r[n+1]=o>>>0},e.pc1=function(t,e,r,n){for(var i=0,o=0,a=7;a>=5;a--){for(var s=0;s<=24;s+=8)i<<=1,i|=e>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1}for(s=0;s<=24;s+=8)i<<=1,i|=e>>s+a&1;for(a=1;a<=3;a++){for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1;for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1}for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1;r[n+0]=i>>>0,r[n+1]=o>>>0},e.r28shl=function(t,e){return t<<e&268435455|t>>>28-e};var n=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];e.pc2=function(t,e,r,i){for(var o=0,a=0,s=n.length>>>1,c=0;c<s;c++)o<<=1,o|=t>>>n[c]&1;for(c=s;c<n.length;c++)a<<=1,a|=e>>>n[c]&1;r[i+0]=o>>>0,r[i+1]=a>>>0},e.expand=function(t,e,r){var n=0,i=0;n=(1&t)<<5|t>>>27;for(var o=23;o>=15;o-=4)n<<=6,n|=t>>>o&63;for(o=11;o>=3;o-=4)i|=t>>>o&63,i<<=6;i|=(31&t)<<1|t>>>31,e[r+0]=n>>>0,e[r+1]=i>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];e.substitute=function(t,e){for(var r=0,n=0;n<4;n++){r<<=4,r|=i[64*n+(t>>>18-6*n&63)]}for(n=0;n<4;n++){r<<=4,r|=i[256+64*n+(e>>>18-6*n&63)]}return r>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];e.permute=function(t){for(var e=0,r=0;r<o.length;r++)e<<=1,e|=t>>>o[r]&1;return e>>>0},e.padSplit=function(t,e,r){for(var n=t.toString(2);n.length<e;)n="0"+n;for(var i=[],o=0;o<e;o+=r)i.push(n.slice(o,o+r));return i.join(" ")}},function(t,e,r){"use strict";var n=r(151),i=r(46),o=r(499),a=r(438);function s(){this.tmp=new Array(2),this.keys=null}function c(t){a.call(this,t);var e=new s;this._desState=e,this.deriveKeys(e,t.key)}i(c,a),t.exports=c,c.create=function(t){return new c(t)};var l=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(t,e){t.keys=new Array(32),n.equal(e.length,this.blockSize,"Invalid key length");var r=o.readUInt32BE(e,0),i=o.readUInt32BE(e,4);o.pc1(r,i,t.tmp,0),r=t.tmp[0],i=t.tmp[1];for(var a=0;a<t.keys.length;a+=2){var s=l[a>>>1];r=o.r28shl(r,s),i=o.r28shl(i,s),o.pc2(r,i,t.keys,a)}},c.prototype._update=function(t,e,r,n){var i=this._desState,a=o.readUInt32BE(t,e),s=o.readUInt32BE(t,e+4);o.ip(a,s,i.tmp,0),a=i.tmp[0],s=i.tmp[1],"encrypt"===this.type?this._encrypt(i,a,s,i.tmp,0):this._decrypt(i,a,s,i.tmp,0),a=i.tmp[0],s=i.tmp[1],o.writeUInt32BE(r,a,n),o.writeUInt32BE(r,s,n+4)},c.prototype._pad=function(t,e){if(!1===this.padding)return!1;for(var r=t.length-e,n=e;n<t.length;n++)t[n]=r;return!0},c.prototype._unpad=function(t){if(!1===this.padding)return t;for(var e=t[t.length-1],r=t.length-e;r<t.length;r++)n.equal(t[r],e);return t.slice(0,t.length-e)},c.prototype._encrypt=function(t,e,r,n,i){for(var a=e,s=r,c=0;c<t.keys.length;c+=2){var l=t.keys[c],u=t.keys[c+1];o.expand(s,t.tmp,0),l^=t.tmp[0],u^=t.tmp[1];var h=o.substitute(l,u),f=s;s=(a^o.permute(h))>>>0,a=f}o.rip(s,a,n,i)},c.prototype._decrypt=function(t,e,r,n,i){for(var a=r,s=e,c=t.keys.length-2;c>=0;c-=2){var l=t.keys[c],u=t.keys[c+1];o.expand(a,t.tmp,0),l^=t.tmp[0],u^=t.tmp[1];var h=o.substitute(l,u),f=a;a=(s^o.permute(h))>>>0,s=f}o.rip(a,s,n,i)}},function(t,e,r){var n=r(311),i=r(48).Buffer,o=r(502);function a(t){var e=t._cipher.encryptBlockRaw(t._prev);return o(t._prev),e}e.encrypt=function(t,e){var r=Math.ceil(e.length/16),o=t._cache.length;t._cache=i.concat([t._cache,i.allocUnsafe(16*r)]);for(var s=0;s<r;s++){var c=a(t),l=o+16*s;t._cache.writeUInt32BE(c[0],l+0),t._cache.writeUInt32BE(c[1],l+4),t._cache.writeUInt32BE(c[2],l+8),t._cache.writeUInt32BE(c[3],l+12)}var u=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),n(e,u)}},function(t,e){t.exports=function(t){for(var e,r=t.length;r--;){if(255!==(e=t.readUInt8(r))){e++,t.writeUInt8(e,r);break}t.writeUInt8(0,r)}}},function(t){t.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},function(t,e,r){var n=r(353),i=r(48).Buffer,o=r(208),a=r(46),s=r(735),c=r(311),l=r(502);function u(t,e,r,a){o.call(this);var c=i.alloc(4,0);this._cipher=new n.AES(e);var u=this._cipher.encryptBlock(c);this._ghash=new s(u),r=function(t,e,r){if(12===e.length)return t._finID=i.concat([e,i.from([0,0,0,1])]),i.concat([e,i.from([0,0,0,2])]);var n=new s(r),o=e.length,a=o%16;n.update(e),a&&(a=16-a,n.update(i.alloc(a,0))),n.update(i.alloc(8,0));var c=8*o,u=i.alloc(8);u.writeUIntBE(c,0,8),n.update(u),t._finID=n.state;var h=i.from(t._finID);return l(h),h}(this,r,u),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}a(u,o),u.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=i.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r},u.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(t,e){var r=0;t.length!==e.length&&r++;for(var n=Math.min(t.length,e.length),i=0;i<n;++i)r+=t[i]^e[i];return r}(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},u.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},u.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},u.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length},t.exports=u},function(t,e,r){var n=r(353),i=r(48).Buffer,o=r(208);function a(t,e,r,a){o.call(this),this._cipher=new n.AES(e),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._mode=t}r(46)(a,o),a.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},t.exports=a},function(t,e,r){var n=r(252);t.exports=_,_.simpleSieve=y,_.fermatTest=g;var i=r(507),o=new i(24),a=new(r(508)),s=new i(1),c=new i(2),l=new i(5),u=(new i(16),new i(8),new i(10)),h=new i(3),f=(new i(7),new i(11)),p=new i(4),d=(new i(12),null);function m(){if(null!==d)return d;var t=[];t[0]=2;for(var e=1,r=3;r<1048576;r+=2){for(var n=Math.ceil(Math.sqrt(r)),i=0;i<e&&t[i]<=n&&r%t[i]!=0;i++);e!==i&&t[i]<=n||(t[e++]=r)}return d=t,t}function y(t){for(var e=m(),r=0;r<e.length;r++)if(0===t.modn(e[r]))return 0===t.cmpn(e[r]);return!0}function g(t){var e=i.mont(t);return 0===c.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)}function _(t,e){if(t<16)return new i(2===e||5===e?[140,123]:[140,39]);var r,d;for(e=new i(e);;){for(r=new i(n(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(s),r.testn(1)||r.iadd(c),e.cmp(c)){if(!e.cmp(l))for(;r.mod(u).cmp(h);)r.iadd(p)}else for(;r.mod(o).cmp(f);)r.iadd(p);if(y(d=r.shrn(1))&&y(r)&&g(d)&&g(r)&&a.test(d)&&a.test(r))return r}}},function(t,e,r){(function(t){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var a;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(739).Buffer}catch(t){}function s(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function c(t,e,r){var n=s(t,r);return r-1>=e&&(n|=s(t,r-1)<<4),n}function l(t,e,r,n){for(var i=0,o=Math.min(t.length,r),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=c(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=c(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,s=Math.min(o,o-a)+r,c=0,u=r;u<s;u+=n)c=l(t,u,u+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var h=1;for(c=l(t,u,t.length,e),u=0;u<a;u++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function p(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,c=a/67108864|0;r.words[0]=s;for(var l=1;l<n;l++){for(var u=c>>>26,h=67108863&c,f=Math.min(l,e.length-1),p=Math.max(0,l-t.length+1);p<=f;p++){var d=l-p|0;u+=(a=(i=0|t.words[d])*(o=0|e.words[p])+h)/67108864|0,h=67108863&a}r.words[l]=0|h,c=0|u}return 0!==c?r.words[l]=0|c:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<i|o)).toString(16);r=0!==(o=s>>>24-i&16777215)||a!==this.length-1?u[6-c.length]+c+r:c+r,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=h[t],p=f[t];r="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modn(p).toString(t);r=(d=d.idivn(p)).isZero()?m+r:u[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==a),this.toArrayLike(a,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var a,s,c="le"===e,l=new t(o),u=this.clone();if(c){for(s=0;!u.isZero();s++)a=u.andln(255),u.iushrn(8),l[s]=a;for(;s<o;s++)l[s]=0}else{for(s=0;s<o-i;s++)l[s]=0;for(s=0;!u.isZero();s++)a=u.andln(255),u.iushrn(8),l[o-s-1]=a}return l},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,a=0;a<n.length;a++)o=(e=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var n,i,o,a=t.words,s=e.words,c=r.words,l=0,u=0|a[0],h=8191&u,f=u>>>13,p=0|a[1],d=8191&p,m=p>>>13,y=0|a[2],g=8191&y,_=y>>>13,b=0|a[3],v=8191&b,O=b>>>13,w=0|a[4],M=8191&w,E=w>>>13,x=0|a[5],S=8191&x,j=x>>>13,P=0|a[6],T=8191&P,I=P>>>13,L=0|a[7],R=8191&L,C=L>>>13,A=0|a[8],k=8191&A,N=A>>>13,D=0|a[9],F=8191&D,B=D>>>13,U=0|s[0],G=8191&U,z=U>>>13,W=0|s[1],X=8191&W,q=W>>>13,V=0|s[2],Y=8191&V,Z=V>>>13,K=0|s[3],H=8191&K,J=K>>>13,Q=0|s[4],$=8191&Q,tt=Q>>>13,et=0|s[5],rt=8191&et,nt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ct=8191&st,lt=st>>>13,ut=0|s[8],ht=8191&ut,ft=ut>>>13,pt=0|s[9],dt=8191&pt,mt=pt>>>13;r.negative=t.negative^e.negative,r.length=19;var yt=(l+(n=Math.imul(h,G))|0)+((8191&(i=(i=Math.imul(h,z))+Math.imul(f,G)|0))<<13)|0;l=((o=Math.imul(f,z))+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(d,G),i=(i=Math.imul(d,z))+Math.imul(m,G)|0,o=Math.imul(m,z);var gt=(l+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,q)|0)+Math.imul(f,X)|0))<<13)|0;l=((o=o+Math.imul(f,q)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(g,G),i=(i=Math.imul(g,z))+Math.imul(_,G)|0,o=Math.imul(_,z),n=n+Math.imul(d,X)|0,i=(i=i+Math.imul(d,q)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,q)|0;var _t=(l+(n=n+Math.imul(h,Y)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,Z)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(v,G),i=(i=Math.imul(v,z))+Math.imul(O,G)|0,o=Math.imul(O,z),n=n+Math.imul(g,X)|0,i=(i=i+Math.imul(g,q)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,q)|0,n=n+Math.imul(d,Y)|0,i=(i=i+Math.imul(d,Z)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,Z)|0;var bt=(l+(n=n+Math.imul(h,H)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(f,H)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(M,G),i=(i=Math.imul(M,z))+Math.imul(E,G)|0,o=Math.imul(E,z),n=n+Math.imul(v,X)|0,i=(i=i+Math.imul(v,q)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,q)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,Z)|0,n=n+Math.imul(d,H)|0,i=(i=i+Math.imul(d,J)|0)+Math.imul(m,H)|0,o=o+Math.imul(m,J)|0;var vt=(l+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,$)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(S,G),i=(i=Math.imul(S,z))+Math.imul(j,G)|0,o=Math.imul(j,z),n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,q)|0)+Math.imul(E,X)|0,o=o+Math.imul(E,q)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,Z)|0,n=n+Math.imul(g,H)|0,i=(i=i+Math.imul(g,J)|0)+Math.imul(_,H)|0,o=o+Math.imul(_,J)|0,n=n+Math.imul(d,$)|0,i=(i=i+Math.imul(d,tt)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,tt)|0;var Ot=(l+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(T,G),i=(i=Math.imul(T,z))+Math.imul(I,G)|0,o=Math.imul(I,z),n=n+Math.imul(S,X)|0,i=(i=i+Math.imul(S,q)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,q)|0,n=n+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,Z)|0,n=n+Math.imul(v,H)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(O,H)|0,o=o+Math.imul(O,J)|0,n=n+Math.imul(g,$)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(d,rt)|0,i=(i=i+Math.imul(d,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var wt=(l+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,at)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,at)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(R,G),i=(i=Math.imul(R,z))+Math.imul(C,G)|0,o=Math.imul(C,z),n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,q)|0)+Math.imul(I,X)|0,o=o+Math.imul(I,q)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(j,Y)|0,o=o+Math.imul(j,Z)|0,n=n+Math.imul(M,H)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(E,H)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(g,rt)|0,i=(i=i+Math.imul(g,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(d,ot)|0,i=(i=i+Math.imul(d,at)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0;var Mt=(l+(n=n+Math.imul(h,ct)|0)|0)+((8191&(i=(i=i+Math.imul(h,lt)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(k,G),i=(i=Math.imul(k,z))+Math.imul(N,G)|0,o=Math.imul(N,z),n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,q)|0)+Math.imul(C,X)|0,o=o+Math.imul(C,q)|0,n=n+Math.imul(T,Y)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(I,Y)|0,o=o+Math.imul(I,Z)|0,n=n+Math.imul(S,H)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(j,H)|0,o=o+Math.imul(j,J)|0,n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,at)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,at)|0,n=n+Math.imul(d,ct)|0,i=(i=i+Math.imul(d,lt)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,lt)|0;var Et=(l+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(f,ht)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(F,G),i=(i=Math.imul(F,z))+Math.imul(B,G)|0,o=Math.imul(B,z),n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,q)|0)+Math.imul(N,X)|0,o=o+Math.imul(N,q)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,Z)|0,n=n+Math.imul(T,H)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(I,H)|0,o=o+Math.imul(I,J)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(j,$)|0,o=o+Math.imul(j,tt)|0,n=n+Math.imul(M,rt)|0,i=(i=i+Math.imul(M,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,n=n+Math.imul(g,ct)|0,i=(i=i+Math.imul(g,lt)|0)+Math.imul(_,ct)|0,o=o+Math.imul(_,lt)|0,n=n+Math.imul(d,ht)|0,i=(i=i+Math.imul(d,ft)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,ft)|0;var xt=(l+(n=n+Math.imul(h,dt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(f,dt)|0))<<13)|0;l=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(F,X),i=(i=Math.imul(F,q))+Math.imul(B,X)|0,o=Math.imul(B,q),n=n+Math.imul(k,Y)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,Z)|0,n=n+Math.imul(R,H)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(C,H)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(j,rt)|0,o=o+Math.imul(j,nt)|0,n=n+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,at)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,at)|0,n=n+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(O,ct)|0,o=o+Math.imul(O,lt)|0,n=n+Math.imul(g,ht)|0,i=(i=i+Math.imul(g,ft)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,ft)|0;var St=(l+(n=n+Math.imul(d,dt)|0)|0)+((8191&(i=(i=i+Math.imul(d,mt)|0)+Math.imul(m,dt)|0))<<13)|0;l=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(F,Y),i=(i=Math.imul(F,Z))+Math.imul(B,Y)|0,o=Math.imul(B,Z),n=n+Math.imul(k,H)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(N,H)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(I,rt)|0,o=o+Math.imul(I,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,at)|0)+Math.imul(j,ot)|0,o=o+Math.imul(j,at)|0,n=n+Math.imul(M,ct)|0,i=(i=i+Math.imul(M,lt)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,lt)|0,n=n+Math.imul(v,ht)|0,i=(i=i+Math.imul(v,ft)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,ft)|0;var jt=(l+(n=n+Math.imul(g,dt)|0)|0)+((8191&(i=(i=i+Math.imul(g,mt)|0)+Math.imul(_,dt)|0))<<13)|0;l=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(jt>>>26)|0,jt&=67108863,n=Math.imul(F,H),i=(i=Math.imul(F,J))+Math.imul(B,H)|0,o=Math.imul(B,J),n=n+Math.imul(k,$)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(T,ot)|0,i=(i=i+Math.imul(T,at)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,at)|0,n=n+Math.imul(S,ct)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(j,ct)|0,o=o+Math.imul(j,lt)|0,n=n+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,ft)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,ft)|0;var Pt=(l+(n=n+Math.imul(v,dt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(O,dt)|0))<<13)|0;l=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(F,$),i=(i=Math.imul(F,tt))+Math.imul(B,$)|0,o=Math.imul(B,tt),n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,at)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,at)|0,n=n+Math.imul(T,ct)|0,i=(i=i+Math.imul(T,lt)|0)+Math.imul(I,ct)|0,o=o+Math.imul(I,lt)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(j,ht)|0,o=o+Math.imul(j,ft)|0;var Tt=(l+(n=n+Math.imul(M,dt)|0)|0)+((8191&(i=(i=i+Math.imul(M,mt)|0)+Math.imul(E,dt)|0))<<13)|0;l=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(F,rt),i=(i=Math.imul(F,nt))+Math.imul(B,rt)|0,o=Math.imul(B,nt),n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,at)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,at)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(C,ct)|0,o=o+Math.imul(C,lt)|0,n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,ft)|0)+Math.imul(I,ht)|0,o=o+Math.imul(I,ft)|0;var It=(l+(n=n+Math.imul(S,dt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(j,dt)|0))<<13)|0;l=((o=o+Math.imul(j,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(F,ot),i=(i=Math.imul(F,at))+Math.imul(B,ot)|0,o=Math.imul(B,at),n=n+Math.imul(k,ct)|0,i=(i=i+Math.imul(k,lt)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,lt)|0,n=n+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(C,ht)|0,o=o+Math.imul(C,ft)|0;var Lt=(l+(n=n+Math.imul(T,dt)|0)|0)+((8191&(i=(i=i+Math.imul(T,mt)|0)+Math.imul(I,dt)|0))<<13)|0;l=((o=o+Math.imul(I,mt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,n=Math.imul(F,ct),i=(i=Math.imul(F,lt))+Math.imul(B,ct)|0,o=Math.imul(B,lt),n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,ft)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,ft)|0;var Rt=(l+(n=n+Math.imul(R,dt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(C,dt)|0))<<13)|0;l=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(F,ht),i=(i=Math.imul(F,ft))+Math.imul(B,ht)|0,o=Math.imul(B,ft);var Ct=(l+(n=n+Math.imul(k,dt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(N,dt)|0))<<13)|0;l=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863;var At=(l+(n=Math.imul(F,dt))|0)+((8191&(i=(i=Math.imul(F,mt))+Math.imul(B,dt)|0))<<13)|0;return l=((o=Math.imul(B,mt))+(i>>>13)|0)+(At>>>26)|0,At&=67108863,c[0]=yt,c[1]=gt,c[2]=_t,c[3]=bt,c[4]=vt,c[5]=Ot,c[6]=wt,c[7]=Mt,c[8]=Et,c[9]=xt,c[10]=St,c[11]=jt,c[12]=Pt,c[13]=Tt,c[14]=It,c[15]=Lt,c[16]=Rt,c[17]=Ct,c[18]=At,0!==l&&(c[19]=l,r.length++),r};function m(t,e,r){return(new y).mulp(t,e,r)}function y(t,e){this.x=t,this.y=e}Math.imul||(d=p),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?d(this,t,e):r<63?p(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,c=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=c;l++){var u=o-l,h=(0|t.words[u])*(0|e.words[l]),f=67108863&h;s=67108863&(f=f+s|0),i+=(a=(a=a+(h/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):m(this,t,e)},y.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},y.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},y.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},y.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),u=0;u<i;u+=s)for(var h=c,f=l,p=0;p<a;p++){var d=r[u+p],m=n[u+p],y=r[u+p+a],g=n[u+p+a],_=h*y-f*g;g=h*g+f*y,y=_,r[u+p]=d+y,n[u+p]=m+g,r[u+p+a]=d-y,n[u+p+a]=m-g,p!==s&&(_=c*h-l*f,f=c*f+l*h,h=_)}},y.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},y.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},y.prototype.convert13b=function(t,e,r,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)r[a]=0;n(0===o),n(0==(-8192&o))},y.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},y.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),c=new Array(n),l=new Array(n),u=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,l,n),this.transform(a,o,s,c,n,i),this.transform(l,o,u,h,n,i);for(var p=0;p<n;p++){var d=s[p]*u[p]-c[p]*h[p];c[p]=s[p]*h[p]+c[p]*u[p],s[p]=d}return this.conjugate(s,c,n),this.transform(s,c,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),m(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,c=(0|this.words[e])-s<<r;this.words[e]=c|a,a=s>>>26-r}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,c=r;if(i-=a,i=Math.max(0,i),c){for(var l=0;l<a;l++)c.words[l]=this.words[l];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=i);l--){var h=0|this.words[l];this.words[l]=u<<26-o|h>>>o,u=h&s}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,a=t.length+r;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+s;var c=(0|t.words[i])*e;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this.strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var s,c=n.length-i.length;if("mod"!==e){(s=new o(null)).length=c+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var u=n.clone()._ishlnsubmul(i,1,c);0===u.negative&&(n=u,s&&(s.words[c]=1));for(var h=c-1;h>=0;h--){var f=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(f=Math.min(f/a|0,67108863),n._ishlnsubmul(i,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);s&&(s.words[h]=f)}return s&&s.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),c=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var u=r.clone(),h=e.clone();!e.isZero();){for(var f=0,p=1;0==(e.words[0]&p)&&f<26;++f,p<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(u),a.isub(h)),i.iushrn(1),a.iushrn(1);for(var d=0,m=1;0==(r.words[0]&m)&&d<26;++d,m<<=1);if(d>0)for(r.iushrn(d);d-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(u),c.isub(h)),s.iushrn(1),c.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(s),a.isub(c)):(r.isub(e),s.isub(i),c.isub(a))}return{a:s,b:c,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),c=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,u=1;0==(e.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(e.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var h=0,f=1;0==(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);e.cmp(r)>=0?(e.isub(r),a.isub(s)):(r.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new M(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function E(t){M.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(b,_),b.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(v,_),i(O,_),i(w,_),w.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new v;else if("p192"===t)e=new O;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new w}return g[t]=e,e},M.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},M.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},M.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},M.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},M.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},M.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},M.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},M.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},M.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},M.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},M.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},M.prototype.isqr=function(t){return this.imul(t,t.clone())},M.prototype.sqr=function(t){return this.mul(t,t)},M.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),c=s.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new o(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var h=this.pow(u,i),f=this.pow(t,i.addn(1).iushrn(1)),p=this.pow(t,i),d=a;0!==p.cmp(s);){for(var m=p,y=0;0!==m.cmp(s);y++)m=m.redSqr();n(y<d);var g=this.pow(h,new o(1).iushln(d-y-1));f=f.redMul(g),h=g.redSqr(),p=p.redMul(h),d=y}return f},M.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},M.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],a=0,s=0,c=e.bitLength()%26;for(0===c&&(c=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],u=c-1;u>=0;u--){var h=l>>u&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===n&&0===u)&&(i=this.mul(i,r[a]),s=0,a=0)):s=0}c=26}return i},M.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},M.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new E(t)},i(E,M),E.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},E.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},E.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},E.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},E.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,r(193)(t))},function(t,e,r){var n=r(740),i=r(441);function o(t){this.rand=t||new i.Rand}t.exports=o,o.create=function(t){return new o(t)},o.prototype._randbelow=function(t){var e=t.bitLength(),r=Math.ceil(e/8);do{var i=new n(this.rand.generate(r))}while(i.cmp(t)>=0);return i},o.prototype._randrange=function(t,e){var r=e.sub(t);return t.add(this._randbelow(r))},o.prototype.test=function(t,e,r){var i=t.bitLength(),o=n.mont(t),a=new n(1).toRed(o);e||(e=Math.max(1,i/48|0));for(var s=t.subn(1),c=0;!s.testn(c);c++);for(var l=t.shrn(c),u=s.toRed(o);e>0;e--){var h=this._randrange(new n(2),s);r&&r(h);var f=h.toRed(o).redPow(l);if(0!==f.cmp(a)&&0!==f.cmp(u)){for(var p=1;p<c;p++){if(0===(f=f.redSqr()).cmp(a))return!1;if(0===f.cmp(u))break}if(p===c)return!1}}return!0},o.prototype.getDivisor=function(t,e){var r=t.bitLength(),i=n.mont(t),o=new n(1).toRed(i);e||(e=Math.max(1,r/48|0));for(var a=t.subn(1),s=0;!a.testn(s);s++);for(var c=t.shrn(s),l=a.toRed(i);e>0;e--){var u=this._randrange(new n(2),a),h=t.gcd(u);if(0!==h.cmpn(1))return h;var f=u.toRed(i).redPow(c);if(0!==f.cmp(o)&&0!==f.cmp(l)){for(var p=1;p<s;p++){if(0===(f=f.redSqr()).cmp(o))return f.fromRed().subn(1).gcd(t);if(0===f.cmp(l))break}if(p===s)return(f=f.redSqr()).fromRed().subn(1).gcd(t)}}return!1}},function(t,e,r){"use strict";var n=e;function i(t){return 1===t.length?"0"+t:t}function o(t){for(var e="",r=0;r<t.length;r++)e+=i(t[r].toString(16));return e}n.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,a=255&i;o?r.push(o,a):r.push(a)}return r},n.zero2=i,n.toHex=o,n.encode=function(t,e){return"hex"===e?o(t):t}},function(t,e,r){"use strict";var n=e;n.base=r(355),n.short=r(750),n.mont=r(751),n.edwards=r(752)},function(t,e,r){"use strict";var n=r(171).rotr32;function i(t,e,r){return t&e^~t&r}function o(t,e,r){return t&e^t&r^e&r}function a(t,e,r){return t^e^r}e.ft_1=function(t,e,r,n){return 0===t?i(e,r,n):1===t||3===t?a(e,r,n):2===t?o(e,r,n):void 0},e.ch32=i,e.maj32=o,e.p32=a,e.s0_256=function(t){return n(t,2)^n(t,13)^n(t,22)},e.s1_256=function(t){return n(t,6)^n(t,11)^n(t,25)},e.g0_256=function(t){return n(t,7)^n(t,18)^t>>>3},e.g1_256=function(t){return n(t,17)^n(t,19)^t>>>10}},function(t,e,r){"use strict";var n=r(171),i=r(312),o=r(511),a=r(151),s=n.sum32,c=n.sum32_4,l=n.sum32_5,u=o.ch32,h=o.maj32,f=o.s0_256,p=o.s1_256,d=o.g0_256,m=o.g1_256,y=i.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function _(){if(!(this instanceof _))return new _;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}n.inherits(_,y),t.exports=_,_.blockSize=512,_.outSize=256,_.hmacStrength=192,_.padLength=64,_.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=c(m(r[n-2]),r[n-7],d(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],y=this.h[2],g=this.h[3],_=this.h[4],b=this.h[5],v=this.h[6],O=this.h[7];for(a(this.k.length===r.length),n=0;n<r.length;n++){var w=l(O,p(_),u(_,b,v),this.k[n],r[n]),M=s(f(i),h(i,o,y));O=v,v=b,b=_,_=s(g,w),g=y,y=o,o=i,i=s(w,M)}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],y),this.h[3]=s(this.h[3],g),this.h[4]=s(this.h[4],_),this.h[5]=s(this.h[5],b),this.h[6]=s(this.h[6],v),this.h[7]=s(this.h[7],O)},_.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(t,e,r){"use strict";var n=r(171),i=r(312),o=r(151),a=n.rotr64_hi,s=n.rotr64_lo,c=n.shr64_hi,l=n.shr64_lo,u=n.sum64,h=n.sum64_hi,f=n.sum64_lo,p=n.sum64_4_hi,d=n.sum64_4_lo,m=n.sum64_5_hi,y=n.sum64_5_lo,g=i.BlockHash,_=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=_,this.W=new Array(160)}function v(t,e,r,n,i){var o=t&r^~t&i;return o<0&&(o+=4294967296),o}function O(t,e,r,n,i,o){var a=e&n^~e&o;return a<0&&(a+=4294967296),a}function w(t,e,r,n,i){var o=t&r^t&i^r&i;return o<0&&(o+=4294967296),o}function M(t,e,r,n,i,o){var a=e&n^e&o^n&o;return a<0&&(a+=4294967296),a}function E(t,e){var r=a(t,e,28)^a(e,t,2)^a(e,t,7);return r<0&&(r+=4294967296),r}function x(t,e){var r=s(t,e,28)^s(e,t,2)^s(e,t,7);return r<0&&(r+=4294967296),r}function S(t,e){var r=a(t,e,14)^a(t,e,18)^a(e,t,9);return r<0&&(r+=4294967296),r}function j(t,e){var r=s(t,e,14)^s(t,e,18)^s(e,t,9);return r<0&&(r+=4294967296),r}function P(t,e){var r=a(t,e,1)^a(t,e,8)^c(t,e,7);return r<0&&(r+=4294967296),r}function T(t,e){var r=s(t,e,1)^s(t,e,8)^l(t,e,7);return r<0&&(r+=4294967296),r}function I(t,e){var r=a(t,e,19)^a(e,t,29)^c(t,e,6);return r<0&&(r+=4294967296),r}function L(t,e){var r=s(t,e,19)^s(e,t,29)^l(t,e,6);return r<0&&(r+=4294967296),r}n.inherits(b,g),t.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=I(r[n-4],r[n-3]),o=L(r[n-4],r[n-3]),a=r[n-14],s=r[n-13],c=P(r[n-30],r[n-29]),l=T(r[n-30],r[n-29]),u=r[n-32],h=r[n-31];r[n]=p(i,o,a,s,c,l,u,h),r[n+1]=d(i,o,a,s,c,l,u,h)}},b.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],c=this.h[4],l=this.h[5],p=this.h[6],d=this.h[7],g=this.h[8],_=this.h[9],b=this.h[10],P=this.h[11],T=this.h[12],I=this.h[13],L=this.h[14],R=this.h[15];o(this.k.length===r.length);for(var C=0;C<r.length;C+=2){var A=L,k=R,N=S(g,_),D=j(g,_),F=v(g,_,b,P,T),B=O(g,_,b,P,T,I),U=this.k[C],G=this.k[C+1],z=r[C],W=r[C+1],X=m(A,k,N,D,F,B,U,G,z,W),q=y(A,k,N,D,F,B,U,G,z,W);A=E(n,i),k=x(n,i),N=w(n,i,a,s,c),D=M(n,i,a,s,c,l);var V=h(A,k,N,D),Y=f(A,k,N,D);L=T,R=I,T=b,I=P,b=g,P=_,g=h(p,d,X,q),_=f(d,d,X,q),p=c,d=l,c=a,l=s,a=n,s=i,n=h(X,q,V,Y),i=f(X,q,V,Y)}u(this.h,0,n,i),u(this.h,2,a,s),u(this.h,4,c,l),u(this.h,6,p,d),u(this.h,8,g,_),u(this.h,10,b,P),u(this.h,12,T,I),u(this.h,14,L,R)},b.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(t,e,r){"use strict";const n=e;n.bignum=r(515),n.define=r(769).define,n.base=r(772),n.constants=r(773),n.decoders=r(518),n.encoders=r(516)},function(t,e,r){(function(t){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var a;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(768).Buffer}catch(t){}function s(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function c(t,e,r){var n=s(t,r);return r-1>=e&&(n|=s(t,r-1)<<4),n}function l(t,e,r,n){for(var i=0,o=Math.min(t.length,r),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=c(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=c(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,s=Math.min(o,o-a)+r,c=0,u=r;u<s;u+=n)c=l(t,u,u+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var h=1;for(c=l(t,u,t.length,e),u=0;u<a;u++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function p(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,c=a/67108864|0;r.words[0]=s;for(var l=1;l<n;l++){for(var u=c>>>26,h=67108863&c,f=Math.min(l,e.length-1),p=Math.max(0,l-t.length+1);p<=f;p++){var d=l-p|0;u+=(a=(i=0|t.words[d])*(o=0|e.words[p])+h)/67108864|0,h=67108863&a}r.words[l]=0|h,c=0|u}return 0!==c?r.words[l]=0|c:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<i|o)).toString(16);r=0!==(o=s>>>24-i&16777215)||a!==this.length-1?u[6-c.length]+c+r:c+r,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=h[t],p=f[t];r="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modn(p).toString(t);r=(d=d.idivn(p)).isZero()?m+r:u[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==a),this.toArrayLike(a,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var a,s,c="le"===e,l=new t(o),u=this.clone();if(c){for(s=0;!u.isZero();s++)a=u.andln(255),u.iushrn(8),l[s]=a;for(;s<o;s++)l[s]=0}else{for(s=0;s<o-i;s++)l[s]=0;for(s=0;!u.isZero();s++)a=u.andln(255),u.iushrn(8),l[o-s-1]=a}return l},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,a=0;a<n.length;a++)o=(e=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var n,i,o,a=t.words,s=e.words,c=r.words,l=0,u=0|a[0],h=8191&u,f=u>>>13,p=0|a[1],d=8191&p,m=p>>>13,y=0|a[2],g=8191&y,_=y>>>13,b=0|a[3],v=8191&b,O=b>>>13,w=0|a[4],M=8191&w,E=w>>>13,x=0|a[5],S=8191&x,j=x>>>13,P=0|a[6],T=8191&P,I=P>>>13,L=0|a[7],R=8191&L,C=L>>>13,A=0|a[8],k=8191&A,N=A>>>13,D=0|a[9],F=8191&D,B=D>>>13,U=0|s[0],G=8191&U,z=U>>>13,W=0|s[1],X=8191&W,q=W>>>13,V=0|s[2],Y=8191&V,Z=V>>>13,K=0|s[3],H=8191&K,J=K>>>13,Q=0|s[4],$=8191&Q,tt=Q>>>13,et=0|s[5],rt=8191&et,nt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ct=8191&st,lt=st>>>13,ut=0|s[8],ht=8191&ut,ft=ut>>>13,pt=0|s[9],dt=8191&pt,mt=pt>>>13;r.negative=t.negative^e.negative,r.length=19;var yt=(l+(n=Math.imul(h,G))|0)+((8191&(i=(i=Math.imul(h,z))+Math.imul(f,G)|0))<<13)|0;l=((o=Math.imul(f,z))+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(d,G),i=(i=Math.imul(d,z))+Math.imul(m,G)|0,o=Math.imul(m,z);var gt=(l+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,q)|0)+Math.imul(f,X)|0))<<13)|0;l=((o=o+Math.imul(f,q)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(g,G),i=(i=Math.imul(g,z))+Math.imul(_,G)|0,o=Math.imul(_,z),n=n+Math.imul(d,X)|0,i=(i=i+Math.imul(d,q)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,q)|0;var _t=(l+(n=n+Math.imul(h,Y)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,Z)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(v,G),i=(i=Math.imul(v,z))+Math.imul(O,G)|0,o=Math.imul(O,z),n=n+Math.imul(g,X)|0,i=(i=i+Math.imul(g,q)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,q)|0,n=n+Math.imul(d,Y)|0,i=(i=i+Math.imul(d,Z)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,Z)|0;var bt=(l+(n=n+Math.imul(h,H)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(f,H)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(M,G),i=(i=Math.imul(M,z))+Math.imul(E,G)|0,o=Math.imul(E,z),n=n+Math.imul(v,X)|0,i=(i=i+Math.imul(v,q)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,q)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,Z)|0,n=n+Math.imul(d,H)|0,i=(i=i+Math.imul(d,J)|0)+Math.imul(m,H)|0,o=o+Math.imul(m,J)|0;var vt=(l+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,$)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(S,G),i=(i=Math.imul(S,z))+Math.imul(j,G)|0,o=Math.imul(j,z),n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,q)|0)+Math.imul(E,X)|0,o=o+Math.imul(E,q)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,Z)|0,n=n+Math.imul(g,H)|0,i=(i=i+Math.imul(g,J)|0)+Math.imul(_,H)|0,o=o+Math.imul(_,J)|0,n=n+Math.imul(d,$)|0,i=(i=i+Math.imul(d,tt)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,tt)|0;var Ot=(l+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(T,G),i=(i=Math.imul(T,z))+Math.imul(I,G)|0,o=Math.imul(I,z),n=n+Math.imul(S,X)|0,i=(i=i+Math.imul(S,q)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,q)|0,n=n+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,Z)|0,n=n+Math.imul(v,H)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(O,H)|0,o=o+Math.imul(O,J)|0,n=n+Math.imul(g,$)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(d,rt)|0,i=(i=i+Math.imul(d,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var wt=(l+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,at)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,at)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(R,G),i=(i=Math.imul(R,z))+Math.imul(C,G)|0,o=Math.imul(C,z),n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,q)|0)+Math.imul(I,X)|0,o=o+Math.imul(I,q)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(j,Y)|0,o=o+Math.imul(j,Z)|0,n=n+Math.imul(M,H)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(E,H)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(g,rt)|0,i=(i=i+Math.imul(g,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(d,ot)|0,i=(i=i+Math.imul(d,at)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0;var Mt=(l+(n=n+Math.imul(h,ct)|0)|0)+((8191&(i=(i=i+Math.imul(h,lt)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(k,G),i=(i=Math.imul(k,z))+Math.imul(N,G)|0,o=Math.imul(N,z),n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,q)|0)+Math.imul(C,X)|0,o=o+Math.imul(C,q)|0,n=n+Math.imul(T,Y)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(I,Y)|0,o=o+Math.imul(I,Z)|0,n=n+Math.imul(S,H)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(j,H)|0,o=o+Math.imul(j,J)|0,n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,at)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,at)|0,n=n+Math.imul(d,ct)|0,i=(i=i+Math.imul(d,lt)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,lt)|0;var Et=(l+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(f,ht)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(F,G),i=(i=Math.imul(F,z))+Math.imul(B,G)|0,o=Math.imul(B,z),n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,q)|0)+Math.imul(N,X)|0,o=o+Math.imul(N,q)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,Z)|0,n=n+Math.imul(T,H)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(I,H)|0,o=o+Math.imul(I,J)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(j,$)|0,o=o+Math.imul(j,tt)|0,n=n+Math.imul(M,rt)|0,i=(i=i+Math.imul(M,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,n=n+Math.imul(g,ct)|0,i=(i=i+Math.imul(g,lt)|0)+Math.imul(_,ct)|0,o=o+Math.imul(_,lt)|0,n=n+Math.imul(d,ht)|0,i=(i=i+Math.imul(d,ft)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,ft)|0;var xt=(l+(n=n+Math.imul(h,dt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(f,dt)|0))<<13)|0;l=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(F,X),i=(i=Math.imul(F,q))+Math.imul(B,X)|0,o=Math.imul(B,q),n=n+Math.imul(k,Y)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,Z)|0,n=n+Math.imul(R,H)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(C,H)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(j,rt)|0,o=o+Math.imul(j,nt)|0,n=n+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,at)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,at)|0,n=n+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(O,ct)|0,o=o+Math.imul(O,lt)|0,n=n+Math.imul(g,ht)|0,i=(i=i+Math.imul(g,ft)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,ft)|0;var St=(l+(n=n+Math.imul(d,dt)|0)|0)+((8191&(i=(i=i+Math.imul(d,mt)|0)+Math.imul(m,dt)|0))<<13)|0;l=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(F,Y),i=(i=Math.imul(F,Z))+Math.imul(B,Y)|0,o=Math.imul(B,Z),n=n+Math.imul(k,H)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(N,H)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(I,rt)|0,o=o+Math.imul(I,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,at)|0)+Math.imul(j,ot)|0,o=o+Math.imul(j,at)|0,n=n+Math.imul(M,ct)|0,i=(i=i+Math.imul(M,lt)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,lt)|0,n=n+Math.imul(v,ht)|0,i=(i=i+Math.imul(v,ft)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,ft)|0;var jt=(l+(n=n+Math.imul(g,dt)|0)|0)+((8191&(i=(i=i+Math.imul(g,mt)|0)+Math.imul(_,dt)|0))<<13)|0;l=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(jt>>>26)|0,jt&=67108863,n=Math.imul(F,H),i=(i=Math.imul(F,J))+Math.imul(B,H)|0,o=Math.imul(B,J),n=n+Math.imul(k,$)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(T,ot)|0,i=(i=i+Math.imul(T,at)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,at)|0,n=n+Math.imul(S,ct)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(j,ct)|0,o=o+Math.imul(j,lt)|0,n=n+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,ft)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,ft)|0;var Pt=(l+(n=n+Math.imul(v,dt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(O,dt)|0))<<13)|0;l=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(F,$),i=(i=Math.imul(F,tt))+Math.imul(B,$)|0,o=Math.imul(B,tt),n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,at)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,at)|0,n=n+Math.imul(T,ct)|0,i=(i=i+Math.imul(T,lt)|0)+Math.imul(I,ct)|0,o=o+Math.imul(I,lt)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(j,ht)|0,o=o+Math.imul(j,ft)|0;var Tt=(l+(n=n+Math.imul(M,dt)|0)|0)+((8191&(i=(i=i+Math.imul(M,mt)|0)+Math.imul(E,dt)|0))<<13)|0;l=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(F,rt),i=(i=Math.imul(F,nt))+Math.imul(B,rt)|0,o=Math.imul(B,nt),n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,at)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,at)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(C,ct)|0,o=o+Math.imul(C,lt)|0,n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,ft)|0)+Math.imul(I,ht)|0,o=o+Math.imul(I,ft)|0;var It=(l+(n=n+Math.imul(S,dt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(j,dt)|0))<<13)|0;l=((o=o+Math.imul(j,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(F,ot),i=(i=Math.imul(F,at))+Math.imul(B,ot)|0,o=Math.imul(B,at),n=n+Math.imul(k,ct)|0,i=(i=i+Math.imul(k,lt)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,lt)|0,n=n+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(C,ht)|0,o=o+Math.imul(C,ft)|0;var Lt=(l+(n=n+Math.imul(T,dt)|0)|0)+((8191&(i=(i=i+Math.imul(T,mt)|0)+Math.imul(I,dt)|0))<<13)|0;l=((o=o+Math.imul(I,mt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,n=Math.imul(F,ct),i=(i=Math.imul(F,lt))+Math.imul(B,ct)|0,o=Math.imul(B,lt),n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,ft)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,ft)|0;var Rt=(l+(n=n+Math.imul(R,dt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(C,dt)|0))<<13)|0;l=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(F,ht),i=(i=Math.imul(F,ft))+Math.imul(B,ht)|0,o=Math.imul(B,ft);var Ct=(l+(n=n+Math.imul(k,dt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(N,dt)|0))<<13)|0;l=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863;var At=(l+(n=Math.imul(F,dt))|0)+((8191&(i=(i=Math.imul(F,mt))+Math.imul(B,dt)|0))<<13)|0;return l=((o=Math.imul(B,mt))+(i>>>13)|0)+(At>>>26)|0,At&=67108863,c[0]=yt,c[1]=gt,c[2]=_t,c[3]=bt,c[4]=vt,c[5]=Ot,c[6]=wt,c[7]=Mt,c[8]=Et,c[9]=xt,c[10]=St,c[11]=jt,c[12]=Pt,c[13]=Tt,c[14]=It,c[15]=Lt,c[16]=Rt,c[17]=Ct,c[18]=At,0!==l&&(c[19]=l,r.length++),r};function m(t,e,r){return(new y).mulp(t,e,r)}function y(t,e){this.x=t,this.y=e}Math.imul||(d=p),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?d(this,t,e):r<63?p(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,c=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=c;l++){var u=o-l,h=(0|t.words[u])*(0|e.words[l]),f=67108863&h;s=67108863&(f=f+s|0),i+=(a=(a=a+(h/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):m(this,t,e)},y.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},y.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},y.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},y.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),u=0;u<i;u+=s)for(var h=c,f=l,p=0;p<a;p++){var d=r[u+p],m=n[u+p],y=r[u+p+a],g=n[u+p+a],_=h*y-f*g;g=h*g+f*y,y=_,r[u+p]=d+y,n[u+p]=m+g,r[u+p+a]=d-y,n[u+p+a]=m-g,p!==s&&(_=c*h-l*f,f=c*f+l*h,h=_)}},y.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},y.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},y.prototype.convert13b=function(t,e,r,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)r[a]=0;n(0===o),n(0==(-8192&o))},y.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},y.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),c=new Array(n),l=new Array(n),u=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,l,n),this.transform(a,o,s,c,n,i),this.transform(l,o,u,h,n,i);for(var p=0;p<n;p++){var d=s[p]*u[p]-c[p]*h[p];c[p]=s[p]*h[p]+c[p]*u[p],s[p]=d}return this.conjugate(s,c,n),this.transform(s,c,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),m(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,c=(0|this.words[e])-s<<r;this.words[e]=c|a,a=s>>>26-r}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,c=r;if(i-=a,i=Math.max(0,i),c){for(var l=0;l<a;l++)c.words[l]=this.words[l];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=i);l--){var h=0|this.words[l];this.words[l]=u<<26-o|h>>>o,u=h&s}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,a=t.length+r;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+s;var c=(0|t.words[i])*e;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this.strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var s,c=n.length-i.length;if("mod"!==e){(s=new o(null)).length=c+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var u=n.clone()._ishlnsubmul(i,1,c);0===u.negative&&(n=u,s&&(s.words[c]=1));for(var h=c-1;h>=0;h--){var f=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(f=Math.min(f/a|0,67108863),n._ishlnsubmul(i,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);s&&(s.words[h]=f)}return s&&s.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),c=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var u=r.clone(),h=e.clone();!e.isZero();){for(var f=0,p=1;0==(e.words[0]&p)&&f<26;++f,p<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(u),a.isub(h)),i.iushrn(1),a.iushrn(1);for(var d=0,m=1;0==(r.words[0]&m)&&d<26;++d,m<<=1);if(d>0)for(r.iushrn(d);d-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(u),c.isub(h)),s.iushrn(1),c.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(s),a.isub(c)):(r.isub(e),s.isub(i),c.isub(a))}return{a:s,b:c,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),c=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,u=1;0==(e.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(e.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var h=0,f=1;0==(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);e.cmp(r)>=0?(e.isub(r),a.isub(s)):(r.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new M(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function E(t){M.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(b,_),b.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(v,_),i(O,_),i(w,_),w.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new v;else if("p192"===t)e=new O;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new w}return g[t]=e,e},M.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},M.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},M.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},M.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},M.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},M.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},M.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},M.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},M.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},M.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},M.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},M.prototype.isqr=function(t){return this.imul(t,t.clone())},M.prototype.sqr=function(t){return this.mul(t,t)},M.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),c=s.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new o(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var h=this.pow(u,i),f=this.pow(t,i.addn(1).iushrn(1)),p=this.pow(t,i),d=a;0!==p.cmp(s);){for(var m=p,y=0;0!==m.cmp(s);y++)m=m.redSqr();n(y<d);var g=this.pow(h,new o(1).iushln(d-y-1));f=f.redMul(g),h=g.redSqr(),p=p.redMul(h),d=y}return f},M.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},M.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],a=0,s=0,c=e.bitLength()%26;for(0===c&&(c=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],u=c-1;u>=0;u--){var h=l>>u&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===n&&0===u)&&(i=this.mul(i,r[a]),s=0,a=0)):s=0}c=26}return i},M.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},M.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new E(t)},i(E,M),E.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},E.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},E.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},E.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},E.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,r(193)(t))},function(t,e,r){"use strict";const n=e;n.der=r(517),n.pem=r(770)},function(t,e,r){"use strict";const n=r(46),i=r(447).Buffer,o=r(448),a=r(450);function s(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){o.call(this,"der",t)}function l(t){return t<10?"0"+t:t}t.exports=s,s.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},n(c,o),c.prototype._encodeComposite=function(t,e,r,n){const o=function(t,e,r,n){let i;"seqof"===t?t="seq":"setof"===t&&(t="set");if(a.tagByName.hasOwnProperty(t))i=a.tagByName[t];else{if("number"!=typeof t||(0|t)!==t)return n.error("Unknown tag: "+t);i=t}if(i>=31)return n.error("Multi-octet tag encoding unsupported");e||(i|=32);return i|=a.tagClassByName[r||"universal"]<<6,i}(t,e,r,this.reporter);if(n.length<128){const t=i.alloc(2);return t[0]=o,t[1]=n.length,this._createEncoderBuffer([t,n])}let s=1;for(let t=n.length;t>=256;t>>=8)s++;const c=i.alloc(2+s);c[0]=o,c[1]=128|s;for(let t=1+s,e=n.length;e>0;t--,e>>=8)c[t]=255&e;return this._createEncoderBuffer([c,n])},c.prototype._encodeStr=function(t,e){if("bitstr"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"===e){const e=i.alloc(2*t.length);for(let r=0;r<t.length;r++)e.writeUInt16BE(t.charCodeAt(r),2*r);return this._createEncoderBuffer(e)}return"numstr"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(e)||"objDesc"===e?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+e+" unsupported")},c.prototype._encodeObjid=function(t,e,r){if("string"==typeof t){if(!e)return this.reporter.error("string objid given, but no values map found");if(!e.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=e[t].split(/[\s.]+/g);for(let e=0;e<t.length;e++)t[e]|=0}else if(Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++)t[e]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!r){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}let n=0;for(let e=0;e<t.length;e++){let r=t[e];for(n++;r>=128;r>>=7)n++}const o=i.alloc(n);let a=o.length-1;for(let e=t.length-1;e>=0;e--){let r=t[e];for(o[a--]=127&r;(r>>=7)>0;)o[a--]=128|127&r}return this._createEncoderBuffer(o)},c.prototype._encodeTime=function(t,e){let r;const n=new Date(t);return"gentime"===e?r=[l(n.getUTCFullYear()),l(n.getUTCMonth()+1),l(n.getUTCDate()),l(n.getUTCHours()),l(n.getUTCMinutes()),l(n.getUTCSeconds()),"Z"].join(""):"utctime"===e?r=[l(n.getUTCFullYear()%100),l(n.getUTCMonth()+1),l(n.getUTCDate()),l(n.getUTCHours()),l(n.getUTCMinutes()),l(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+e+" time is not supported yet"),this._encodeStr(r,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(t,e){if("string"==typeof t){if(!e)return this.reporter.error("String int or enum given, but no values map");if(!e.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=e[t]}if("number"!=typeof t&&!i.isBuffer(t)){const e=t.toArray();!t.sign&&128&e[0]&&e.unshift(0),t=i.from(e)}if(i.isBuffer(t)){let e=t.length;0===t.length&&e++;const r=i.alloc(e);return t.copy(r),0===t.length&&(r[0]=0),this._createEncoderBuffer(r)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let r=1;for(let e=t;e>=256;e>>=8)r++;const n=new Array(r);for(let e=n.length-1;e>=0;e--)n[e]=255&t,t>>=8;return 128&n[0]&&n.unshift(0),this._createEncoderBuffer(i.from(n))},c.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},c.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getEncoder("der").tree},c.prototype._skipDefault=function(t,e,r){const n=this._baseState;let i;if(null===n.default)return!1;const o=t.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,e,r).join()),o.length!==n.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==n.defaultBuffer[i])return!1;return!0}},function(t,e,r){"use strict";const n=e;n.der=r(519),n.pem=r(771)},function(t,e,r){"use strict";const n=r(46),i=r(515),o=r(313).DecoderBuffer,a=r(448),s=r(450);function c(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new l,this.tree._init(t.body)}function l(t){a.call(this,"der",t)}function u(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;const n=s.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){let n=r;for(r=0;128==(128&n);){if(n=t.readUInt8(e),t.isError(n))return n;r<<=7,r|=127&n}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:s.tag[r]}}function h(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&128===n)return null;if(0==(128&n))return n;const i=127&n;if(i>4)return t.error("length octect is too long");n=0;for(let e=0;e<i;e++){n<<=8;const e=t.readUInt8(r);if(t.isError(e))return e;n|=e}return n}t.exports=c,c.prototype.decode=function(t,e){return o.isDecoderBuffer(t)||(t=new o(t,e)),this.tree._decode(t,e)},n(l,a),l.prototype._peekTag=function(t,e,r){if(t.isEmpty())return!1;const n=t.save(),i=u(t,'Failed to peek tag: "'+e+'"');return t.isError(i)?i:(t.restore(n),i.tag===e||i.tagStr===e||i.tagStr+"of"===e||r)},l.prototype._decodeTag=function(t,e,r){const n=u(t,'Failed to decode tag of "'+e+'"');if(t.isError(n))return n;let i=h(t,n.primitive,'Failed to get length of "'+e+'"');if(t.isError(i))return i;if(!r&&n.tag!==e&&n.tagStr!==e&&n.tagStr+"of"!==e)return t.error('Failed to match tag: "'+e+'"');if(n.primitive||null!==i)return t.skip(i,'Failed to match body of: "'+e+'"');const o=t.save(),a=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(a)?a:(i=t.offset-o.offset,t.restore(o),t.skip(i,'Failed to match body of: "'+e+'"'))},l.prototype._skipUntilEnd=function(t,e){for(;;){const r=u(t,e);if(t.isError(r))return r;const n=h(t,r.primitive,e);if(t.isError(n))return n;let i;if(i=r.primitive||null!==n?t.skip(n):this._skipUntilEnd(t,e),t.isError(i))return i;if("end"===r.tagStr)break}},l.prototype._decodeList=function(t,e,r,n){const i=[];for(;!t.isEmpty();){const e=this._peekTag(t,"end");if(t.isError(e))return e;const o=r.decode(t,"der",n);if(t.isError(o)&&e)break;i.push(o)}return i},l.prototype._decodeStr=function(t,e){if("bitstr"===e){const e=t.readUInt8();return t.isError(e)?e:{unused:e,data:t.raw()}}if("bmpstr"===e){const e=t.raw();if(e.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");let r="";for(let t=0;t<e.length/2;t++)r+=String.fromCharCode(e.readUInt16BE(2*t));return r}if("numstr"===e){const e=t.raw().toString("ascii");return this._isNumstr(e)?e:t.error("Decoding of string type: numstr unsupported characters")}if("octstr"===e)return t.raw();if("objDesc"===e)return t.raw();if("printstr"===e){const e=t.raw().toString("ascii");return this._isPrintstr(e)?e:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(e)?t.raw().toString():t.error("Decoding of string type: "+e+" unsupported")},l.prototype._decodeObjid=function(t,e,r){let n;const i=[];let o=0,a=0;for(;!t.isEmpty();)a=t.readUInt8(),o<<=7,o|=127&a,0==(128&a)&&(i.push(o),o=0);128&a&&i.push(o);const s=i[0]/40|0,c=i[0]%40;if(n=r?i:[s,c].concat(i.slice(1)),e){let t=e[n.join(" ")];void 0===t&&(t=e[n.join(".")]),void 0!==t&&(n=t)}return n},l.prototype._decodeTime=function(t,e){const r=t.raw().toString();let n,i,o,a,s,c;if("gentime"===e)n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),a=0|r.slice(8,10),s=0|r.slice(10,12),c=0|r.slice(12,14);else{if("utctime"!==e)return t.error("Decoding "+e+" time is not supported yet");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),a=0|r.slice(6,8),s=0|r.slice(8,10),c=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,a,s,c,0)},l.prototype._decodeNull=function(){return null},l.prototype._decodeBool=function(t){const e=t.readUInt8();return t.isError(e)?e:0!==e},l.prototype._decodeInt=function(t,e){const r=t.raw();let n=new i(r);return e&&(n=e[n.toString(10)]||n),n},l.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getDecoder("der").tree}},function(t){t.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},function(t,e,r){var n=r(308),i=r(48).Buffer;function o(t){var e=i.allocUnsafe(4);return e.writeUInt32BE(t,0),e}t.exports=function(t,e){for(var r,a=i.alloc(0),s=0;a.length<e;)r=o(s++),a=i.concat([a,n("sha1").update(t).update(r).digest()]);return a.slice(0,e)}},function(t,e){t.exports=function(t,e){for(var r=t.length,n=-1;++n<r;)t[n]^=e[n];return t}},function(t,e,r){var n=r(451),i=r(48).Buffer;t.exports=function(t,e){return i.from(t.toRed(n.mont(e.modulus)).redPow(new n(e.publicExponent)).fromRed().toArray())}},function(t,e){t.exports='<div class="m-control"></div>'},function(t,e){t.exports='<div>\n   <h2 style="text-align: center; color: #fff; background-color: #364b5f; padding: 8px 10px;">PANZOOMBAR</h2>\n   <div>\n      <p>{{translations.help1}}</p>\n      <img src="{{urlImages}}/panzoombar.png" style="margin: 0 auto; display: block">\n   </div>\n</div>'},function(t){t.exports=JSON.parse('{"panzoom":{"textHelp":{"text1":"This tool allows you to change the zoom of the viewer from a panel with a slider. The display map changes zoom in or out as you move the slider up or down."}},"panzoombar":{"textHelp":{"text1":"This tool allows you to change the zoom of the viewer from a panel with a slider. The display map changes zoom in or out as you move the slider up or down."}},"backgroundlayers":{"textHelp":{"text1":"The base layer selector tool allows you to switch between different base layers or background layers, configured in a viewer."}},"location":{"title":"Get current location","textHelp":{"text1":"The location tool allows you to obtain the position of a device and position it on the map. Its operation is restricted to WEB pages that are published securely over the HTTPS protocol and in local environments.","text2":"If used on a mobile device equipped with a GNSS system, the position will be obtained according to the device\'s location permissions.","text3":"On devices without GNSS systems, positioning is obtained using the IP address assigned by the internet operator in a delimited area."}},"layerswitcher":{"title":"Layer selector"},"scale":{"title":"Scale","scale":"Scale","level":"Zoom level","textHelp":{"text1":"Information panel showing the zoom level and approximate scale of the current view.","text2":"The zoom level is the corresponding one for the EPSG coordinate system: 3857 WGS84 / Pseudo-Mercator."}},"scaleline":{"textHelp":{"text1":"The graphic scale is a line located on the map, often in the margin of the sheet, that has been subdivided into segments to indicate the lengths on the map of terrestrial distance units.","text2":"Thanks to this element it is possible to measure the real distance directly on the map with the help of a ruler or a compass.","text3":"Source"}},"attributionsControl":{"attribution":"attribution","tooltip":"Recognitions","textHelp":{"text1":"The base layer selector tool allows you to switch between different base layers or background layers, configured in a viewer.","text2":"With this information, attribution can be given to each layer, allowing the user to know its source."}},"getfeatureinfo":{"info":"Information","title":"Consult layer","no_info":"No associated info","info_of":"Information about","unsupported_format":"Unsupported format","textHelp":{"text1":"The obtain information tool allows obtaining the GetFeatureInfo (the information associated with the point clicked on the viewer) in WMS and WMTS services."}},"wmcselector":{"title":"Context selector"},"rotate":{"title":"Turn north","textHelp":{"text1":"The rotation tool allows you to return the viewer to a North orientation.","text2":"To be able to rotate the map in the viewer, it is done with the key combination Shit + Alt + left mouse click + move mouse to rotate."}},"mouse":{"title":"Pointer coordinates"},"dialog":{"info":"INFORMATION","error":"ERROR","success":"SUCCESS","id_feature":"An ID has not been indicated to obtain the feature","invalid_type_layer":"A valid type was not specified for the layer","vector_filter":"The indicated filter is not correct","unauthorized_user":"An error occurred while loading the layer: Unauthorized user.","only_one_filter":"FeatureID and CQL are mutually exclusive, indicate only one type of filtering.","any_format":"TXT, HTML and GML are and unsupported"},"toast":{"close":"Cerrar"},"feature":{"incorrect_attributes":"The attributes were not specified correctly."},"heatmap":{"features":"The layer does not have any <br/> features with the specified attribute in set symbology. <br/>A default weighting is set","name":"Heatmap"},"exception":{"addto_method":"The used implementation does not have the addTo method","getelement_method":"The used implementation does not have the getElement method","getfeatureinfo_method":"The used implementation can not create GetFeatureInfo controls","mouse_method":"The used implementation can not create Mouse controls","navtoolbar_method":"The used implementation can not create navtoolbar controls","overviewmap_method":"The used implementation can not create OverviewMap controls","panzoom_method":"The used implementation can not create Panzoom controls","panzoombar_method":"The used implementation can not create Panzoombar controls","scale_method":"The used implementation can not create Scale controls","scaleline_method":"The used implementation can not create ScaleLine controls","wmcselector_method":"The used implementation can not create WMCSelector controls","geojson_method":"The used implementation can not create objects M.impl.format.GeoJSON","wkt_method":"The used implementation can not creat objects M.impl.format.WKT","getfeaturesbylayer_method":"The used implementation does not have the getFeaturesByLayer method","geojsonlayer_method":"The used implementation can not create GeoJSON layers","no_param":"No parameters specified","no_name":"You have not specified any name","kmllayer_method":"The used implementation can not create KML layers","isvisible_method":"The used implementation does not have the isVisible method","isqueryable_methd":"The used implementation does not have the isQueryable method","visibility_param":"You have not specified any visibility parameters","setvisible_method":"The used implementation does not have the setVisible method","inrange_method":"The used implementation does not have the inRange method","mapbox_method":"The used implementation can not create Mapbox layers","osm_method":"The used implementation can not create OSM layers","vectorlayer_method":"The used implementation can not create Vector layers","wfslayer_method":"The used implementation can not create WFS layers","wmclayer_method":"The used implementation can not create WMC layers","select_method":"The used implementation does not have the select method","unselect_method":"The used implementation does not have the unselect method","constructor_impl":"The used implementation does not have a constructor.","getlayers_method":"The used implementation does not have the getLayers method.","getbaselayers_method":"The used implementation does not have the getBaseLayers method.","addlayers_method":"The used implementation does not have the addLayers method.","removelayers_method":"The used implementation does not have the removeLayers method.","getwmc_method":"The implementation used does not have the getWMC method.","addwmc_method":"The used implementation does not have the addWMC method.","removewmc_method":"The used implementation does not have the removeWMC method.","getkml_method":"The used implementation does not have the getKML method.","addkml_method":"The implementation used does not have the addKML method.","removekml_method":"The implementation used does not have the removeKML method.","getwms_method":"The used implementation does not have the getWMS method.","addwms_method":"The used implementation does not have the addWMS method.","removewms_method":"The used implementation does not have the removeWMS method.","getwfs_method":"The implementation used does not have the getWFS method.","getgeojson_method":"The used implementation does not have the getGeoJSON method.","getogcapif_method":"The used implementation does not have the getOGCAPIFeatures method.","addwfs_method":"The used implementation does not have the addWFS method.","removewfs_method":"The used implementation does not have the removeWFS method.","getwmts_method":"The implementation used does not have the getWMTS method.","addwmts_method":"The used implementation does not have the addWMTS method.","removewmts_method":"The used implementation does not have the removeWMTS method.","getmbtiles_method":"The used implementation does not have the getMBtiles method.","getxyzs_method":"The used implementation does not have the getXYZs method.","gettms_method":"The used implementation does not have the getTMS method.","getcontrols_method":"The used implementation does not have the getControls method.","addcontrols_method":"The used implementation does not have the addControls method.","remove_control":"You have not specified any control to delete.","removecontrol_method":"The used implementation does not have the removeControls method.","setmaxextent_method":"The used implementation does not have the setMaxExtent method.","getbbox_method":"The used implementation does not have the getBbox method.","no_bbox":"You have not specified any bbox.","setbbox_method":"The used implementation does not have the setBbox method.","incorrect_bbox_format":"The format of the bbox parameter is not correct.","getzoom_method":"The used implementation does not have the getZoom method.","no_zoom":"You have not specified any zoom.","setzoom_method":"The implementation used does not have the setZoom method.","getcenter_method":"The used implementation does not have the getCenter method.","setcenter_method":"The used implementation does not have the setCenter method.","getresolutions_method":"The used implementation does not have the getResolutions method.","no_resolutions":"You have not specified any resolution.","setresolutions_method":"The used implementation does not have the setResolutions method.","getscale_method":"The used implementation does not have the getScale method.","getprojection_method":"The implementation used does not have the getProjection method.","no_projection":"You have not specified any projection.","setprojection_method":"The used implementation does not have the setProjection method.","no_plugins":"You have not specified any plugins.","no_add_plugin_to_map":"The plugin can not be added to the map.","no_plugin_to_remove":"You have not specified any plugins to delete.","destroy_method":"The used implementation does not have the destroy method.","addlabel_method":"The used implementation does not have the addLabel method.","no_point":"You have not specified any points.","remove_control_from_panel":"You must remove the controls from the panel previously.","getcontainer_method":"The used implementation does not have the getContainer method.","getmapimpl_method":"The used implementation does not have the getMapImpl method.","removepopup_method":"The used implementation does not have the removePopup method.","no_popup":"You have not specified any popup.","invalid_popup":"The specified popup is not valid.","no_maxextent":"You have not specified any maxExtent","must_be_document":"doc.nodeType must be DOCUMENT type","no_service_response":"There was no reply from the service","no_kml_response":"There was no response from the KML","no_getfeature_response":"There was no response in the GetFeature operation","no_map":"You have not specified any map","layerswitcher_method":"The used implementation can not create LayerSwitcher controls","location_method":"The used implementation can not create Location controls","wms_method":"The used implementation can not create WMS layers","generic_method":"The used implementation can not create Generic layers","wmts_method":"The used implementation can not create WMTS layers","no_impl":"No implementation specified","no_container":"You have not specified any container parameters","no_id_container":"There is no container with the specified id","no_center":"You have not specified any center parameters","no_attr_name":"The name of the attribute was not specified","no_empty":"The attribute name can not be null. Specify string or function","invalid_center_param":"The format of the center parameter is not correct","invalid_maxextent_param":"The format of the maxExtent parameter is not correct","invalid_resolutions_param":"The format of the resolutions parameter is not correct","invalid_zoom_param":"The format of the zoom parameter is not correct","min_gt_max":"A minimum radius greater than the maximum can not be established.","max_lt_min":"A maximum radius of less than the minimum can not be established.","no_geojson":"No GeoJSON has been specified","unsupported_lang":"A language without support has been established","mbtilesvector_method":"The used implementation can not create MBTilesVector layers","mbtiles_method":"The used implementation can not create MBTiles layers","no_source":"No source was specified.","addmbtiles_method":"The implementation used does not have the method addMBTilesVector.","removembtiles_method":"The implementation used does not have the method removeMBTilesVector.","browser_audio":"Your browser does not support the audio element","browser_video":"Your browser does not support the video element","versionError":"Layer [replace1] of type [replace2] does not support the version.","sldBODYError":"Layer [replace1] of type [replace2] does not support SLD_BODY.","styleError":"Layer [replace1] of type [replace2] does not support STYLE.","formatError":"Layer [replace1] of type [replace2] does not support FORMAT.","file_size":"The selected file exceeds the maximum 20 MB allowed.","file_load":"Error when loading the file.","no_geoms":"No geometries have been detected in this file.","file_load_correct":"Error when loading the file. Check that it is the right file.","file_extension":"A not allowed file extension has been inserted. The allowed ones are: KML, SHP(.zip), GPX, GML and GeoJSON."}}')},function(t){t.exports=JSON.parse('{"panzoom":{"textHelp":{"text1":"Esta herramienta permite cambiar el zoom del visualizador a partir de un panel con un desplazador. El mapa del visualizador cambia acercndose o alejndose segn se cambie el desplazador hacia arriba o hacia abajo."}},"panzoombar":{"textHelp":{"text1":"Esta herramienta permite cambiar el zoom del visualizador a partir de un panel con un desplazador. El mapa del visualizador cambia acercndose o alejndose segn se cambie el desplazador hacia arriba o hacia abajo."}},"backgroundlayers":{"textHelp":{"text1":"La herramienta de selector de capas base permite cambiar entre distintas capas base o capas de fondo, configuradas en un visualizador."}},"location":{"error":"El control ubicacin no acepta http. Debe usar https.","title":"Obtener ubicacin actual","textHelp":{"text1":"La herramienta de localizacin permite obtener la posicin de un dispositivo y posicionarla en el mapa. Su funcionamiento queda restringido a pginas WEB que se publiquen de forma segura sobre el protocolo HTTPS y en entornos locales.","text2":"En el caso de su utilizacin en un dispositivo mvil provisto de un sistema GNSS, se obtendr la posicin segn los permisos de localizacin del dispositivo.","text3":"En dispositivos sin sistemas GNSS, la obtencin del posicionamiento se realiza mediante la direccin IP asignada por el operador de internet en una zona delimitada."}},"layerswitcher":{"title":"Selector de capas"},"scale":{"title":"Escala","scale":"Escala","level":"Nivel de zoom","textHelp":{"text1":"Panel informativo que muestra el nivel de zoom y la escala aproximada de la vista actual.","text2":"El nivel de zoom es el correspondiente para para el sistema de coordenadas EPSG: 3857 WGS84 / Pseudo-Mercator."}},"scaleline":{"textHelp":{"text1":"La escala grfica es una lnea situada en el mapa, a menudo en el margen de la hoja, que se ha subdividido en segmentos para indicar las longitudes sobre el mapa de las unidades terrestres de distancia.","text2":"Gracias a este elemento es posible medir la distancia real directamente sobre el mapa con la ayuda de una regla o un comps.","text3":"Fuente"}},"attributionsControl":{"attribution":"atribucin","tooltip":"Reconocimientos","textHelp":{"text1":"La herramienta de selector de capas base permite cambiar entre distintas capas base o capas de fondo, configuradas en un visualizador.","text2":"Con esta informacin, se puede dar la atribucin a cada capa, permitiendo al usuario saber su fuente."}},"getfeatureinfo":{"info":"Informacin","title":"Consultar capa","no_info":"No existe informacin asociada","info_of":"Informacin de","unsupported_format":"Formato no soportado","textHelp":{"text1":"La herramienta de obtener informacin permite obtener el GetFeatureInfo (la informacin asociada al punto clickado sobre el visualizador) en servicios WMS y WMTS."}},"wmcselector":{"title":"Selector de contextos"},"rotate":{"title":"Girar al norte","textHelp":{"text1":"La herramienta de rotacin permite volver a una orientacin Norte al visualizador.","text2":"Para poder girar el mapa en el visualizador, se realiza con la combinacin de teclas Shit + Alt + click izquierdo del ratn + mover ratn para girar."}},"mouse":{"title":"Coordenadas del puntero"},"dialog":{"info":"INFORMACIN","error":"ERROR","success":"XITO","id_feature":"No se ha indicado un ID para obtener el feature","invalid_type_layer":"No se ha especificado un tipo vlido para la capa","vector_filter":"El filtro indicado no es correcto","unauthorized_user":"Ha ocurrido un error al cargar la capa: Usuario no autorizado.","only_one_filter":"FeatureID y CQL son mutuamente excluyentes. Indicar slo un tipo de filtrado.","any_format":"TXT, ni HTML ni GML estn soportados"},"toast":{"close":"Cerrar"},"feature":{"incorrect_attributes":"No se han especificado correctamente los atributos."},"heatmap":{"features":"La capa no tiene ninguna feature <br/> con el atributo especificado en simbologa establecida. <br/>Se setea una ponderacin por defecto","name":"Mapa de calor"},"exception":{"addto_method":"La implementacin usada no posee el mtodo addTo","getelement_method":"La implementacin usada no posee el mtodo getElement","getfeatureinfo_method":"La implementacin usada no puede crear controles GetFeatureInfo","mouse_method":"La implementacin usada no puede crear controles Mouse","navtoolbar_method":"La implementacin usada no puede crear controles Navtoolbar","overviewmap_method":"La implementacin usada no puede crear controles OverviewMap","panzoom_method":"La implementacin usada no puede crear controles Panzoom","panzoombar_method":"La implementacin usada no puede crear controles Panzoombar","scale_method":"La implementacin usada no puede crear controles Scale","scaleline_method":"La implementacin usada no puede crear controles ScaleLine","wmcselector_method":"La implementacin usada no puede crear controles WMCSelector","geojson_method":"La implementacin usada no puede crear objetos M.impl.format.GeoJSON","wkt_method":"La implementacin usada no puede creat objetos M.impl.format.WKT","getfeaturesbylayer_method":"La implementacin usada no posee el mtodo getFeaturesByLayer","geojsonlayer_method":"La implementacin usada no puede crear capas GeoJSON","no_param":"No se ha especificado ningun parmetro","no_name":"No ha especificado ningn nombre","kmllayer_method":"La implementacin usada no puede crear capas KML","isvisible_method":"La implementacin usada no posee el mtodo isVisible","isqueryable_methd":"La implementacin usada no posee el mtodo isQueryable","visibility_param":"No ha especificado ningn parmetro de visibilidad","setvisible_method":"La implementacin usada no posee el mtodo setVisible","inrange_method":"La implementacin usada no posee el mtodo inRange","mapbox_method":"La implementacin usada no puede crear capas Mapbox","osm_method":"La implementacin usada no puede crear capas OSM","vectorlayer_method":"La implementacin usada no puede crear capas Vector","wfslayer_method":"La implementacin usada no puede crear capas WFS","wmclayer_method":"La implementacin usada no puede crear capas WMC","select_method":"La implementacin usada no posee el mtodo select","unselect_method":"La implementacin usada no posee el mtodo unselect","constructor_impl":"La implementacin usada no posee un constructor.","getlayers_method":"La implementacin usada no posee el mtodo getLayers.","getbaselayers_method":"La implementacin usada no posee el mtodo getBaseLayers.","addlayers_method":"La implementacin usada no posee el mtodo addLayers.","removelayers_method":"La implementacin usada no posee el mtodo removeLayers.","getwmc_method":"La implementacin usada no posee el mtodo getWMC.","addwmc_method":"La implementacin usada no posee el mtodo addWMC.","removewmc_method":"La implementacin usada no posee el mtodo removeWMC.","getkml_method":"La implementacin usada no posee el mtodo getKML.","addkml_method":"La implementacin usada no posee el mtodo addKML.","removekml_method":"La implementacin usada no posee el mtodo removeKML.","getwms_method":"La implementacin usada no posee el mtodo getWMS.","addwms_method":"La implementacin usada no posee el mtodo addWMS.","removewms_method":"La implementacin usada no posee el mtodo removeWMS.","getwfs_method":"La implementacin usada no posee el mtodo getWFS.","getgeojson_method":"La implementacin usada no posee el mtodo getGeoJSON.","getogcapif_method":"La implementacin usada no posee el mtodo getOGCAPIFeatures.","addwfs_method":"La implementacin usada no posee el mtodo addWFS.","removewfs_method":"La implementacin usada no posee el mtodo removeWFS.","getwmts_method":"La implementacin usada no posee el mtodo getWMTS.","addwmts_method":"La implementacin usada no posee el mtodo addWMTS.","removewmts_method":"La implementacin usada no posee el mtodo removeWMTS.","getmbtiles_method":"La implementacin usada no posee el mtodo getMBtiles.","getxyzs_method":"La implementacin usada no posee el mtodo getXYZs.","gettms_method":"La implementacin usada no posee el mtodo getTMS.","getcontrols_method":"La implementacin usada no posee el mtodo getControls.","addcontrols_method":"La implementacin usada no posee el mtodo addControls.","remove_control":"No ha especificado ningn control a eliminar.","removecontrol_method":"La implementacin usada no posee el mtodo removeControls.","setmaxextent_method":"La implementacin usada no posee el mtodo setMaxExtent.","getbbox_method":"La implementacin usada no posee el mtodo getBbox.","no_bbox":"No ha especificado ningn bbox.","setbbox_method":"La implementacin usada no posee el mtodo setBbox.","incorrect_bbox_format":"El formato del parmetro bbox no es el correcto.","getzoom_method":"La implementacin usada no posee el mtodo getZoom.","no_zoom":"No ha especificado ningn zoom.","setzoom_method":"La implementacin usada no posee el mtodo setZoom.","getcenter_method":"La implementacin usada no posee el mtodo getCenter.","setcenter_method":"La implementacin usada no posee el mtodo setCenter.","getresolutions_method":"La implementacin usada no posee el mtodo getResolutions.","no_resolutions":"No ha especificado ninguna resolucin.","setresolutions_method":"La implementacin usada no posee el mtodo setResolutions.","getscale_method":"La implementacin usada no posee el mtodo getScale.","getprojection_method":"La implementacin usada no posee el mtodo getProjection.","no_projection":"No ha especificado ninguna proyeccin.","setprojection_method":"La implementacin usada no posee el mtodo setProjection.","no_plugins":"No ha especificado ningn plugin.","no_add_plugin_to_map":"El plugin no puede aadirse al mapa.","no_plugin_to_remove":"No ha especificado ningn plugin a eliminar.","destroy_method":"La implementacin usada no posee el mtodo destroy.","addlabel_method":"La implementacin usada no posee el mtodo addLabel.","no_point":"No ha especificado ningn punto.","remove_control_from_panel":"Debe eliminar los controles del panel previamente.","getcontainer_method":"La implementacin usada no posee el mtodo getContainer.","getmapimpl_method":"La implementacin usada no posee el mtodo getMapImpl.","removepopup_method":"La implementacin usada no posee el mtodo removePopup.","no_popup":"No ha especificado ningn popup.","invalid_popup":"El popup especificado no es vlido.","no_maxextent":"No ha especificado ningn maxExtent","must_be_document":"doc.nodeType debe ser de tipo DOCUMENT","no_service_response":"No hubo respuesta del servicio","no_kml_response":"No hubo respuesta del KML","no_getfeature_response":"No hubo respuesta en la operacin GetFeature","no_map":"No ha especificado ningun mapa","layerswitcher_method":"La implementacin usada no puede crear controles LayerSwitcher","location_method":"La implementacin usada no puede crear controles Location","wms_method":"La implementacin usada no puede crear capas WMS","generic_method":"La implementacin usada no puede crear capas Genricas","wmts_method":"La implementacin usada no puede crear capas WMTS","no_impl":"No se ha especificado ninguna implementacin","no_container":"No ha especificado ningn parmetro contenedor","no_id_container":"No existe ningn contenedor con el id especificado","no_center":"No ha especificado ningn parmetro center","no_attr_name":"No se ha especificado el nombre del atributo","no_empty":"El nombre de atributo no puede ser nulo. Especifique cadena o funcin","invalid_center_param":"El formato del parmetro center no es correcto","invalid_maxextent_param":"El formato del parmetro maxExtent no es correcto","invalid_resolutions_param":"El formato del parmetro resolutions no es correcto","invalid_zoom_param":"El formato del parmetro zoom no es correcto","min_gt_max":"No puede establecerse un radio mnimo mayor que el mximo.","max_lt_min":"No puede establecerse un radio mximo menor que el mnimo.","no_geojson":"No se ha especificado ningun GeoJSON","unsupported_lang":"Se ha establecido un idioma sin soporte","mbtilesvector_method":"La implementacin usada no puede crear capas MBTilesVector","mbtiles_method":"La implementacin usada no puede crear capas MBTiles","no_source":"Fuente no especificada.","addmbtiles_method":"La implementacin usada no posee el mtodo addMBTilesVector.","removembtiles_method":"La implementacin usada no posee el mtodo removeMBTilesVector.","browser_audio":"Su navegador no soporta el elemento de audio","browser_video":"Su navegador no soporta el elemento de video","versionError":"La capa [replace1] de tipo [replace2] no soporta la versin.","sldBODYError":"La capa [replace1] de tipo [replace2] no soporta SLD_BODY","styleError":"La capa [replace1] de tipo [replace2] no soporta STYLE","formatError":"La capa [replace1] de tipo [replace2] no soporta FORMAT","file_size":"El fichero seleccionado sobrepasa el mximo de 20 MB permitido.","file_load":"Error al cargar el fichero.","no_geoms":"No se han detectado geometras en este fichero.","file_load_correct":"Error al cargar el fichero. Compruebe que se trata del fichero correcto.","file_extension":"No se ha insertado una extensin de archivo permitida. Las permitidas son: KML, SHP(.zip), GPX, GML y GeoJSON."}}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"La implementacin no puede crear controles de Attribution.","mode":"La opcin \'mode\' no ha sido establecida correctamente. Consejo: {mode: 1 | 2 | 3}.","type":"La opcin \'type\' no ha sido establecida. Cuando la opcin \'url\' es usada el plugin necesita la opcin \'type\'. Valores = geojson | kml | topojson.","layer_name":"La opcin \'layerName\' no ha sido establecida. Cuando la opcin \'url\' es usada el plugin necesita la opcin \'layerName\'.","attribution_obsolete":"Mensaje para el desarrollador: M.plugin.Attributions ha quedado obsoleto, utilice en su lugar el control Attributions"},"attribution":"atribucin","tooltip":"Reconocimientos"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"The implementation used cannot create Attributions controls.","mode":"Options mode is bad setted. Tip: {mode: 1 | 2 | 3}.","type":"Missing \'type\' options. When \'url\' option is setted the plugin needs \'type\' option. Values = geojson | kml | topojson.","layer_name":"Missing \'layerName\' options. When \'url\' option is setted the plugin needs \'layerName\' option.","attribution_obsolete":"Developer message: M.plugin.Attributions has been deprecated, use the Attributions control instead"},"attribution":"attribution","tooltip":"Acknowledgments"}')},function(t){t.exports=JSON.parse('{"textHelp":{"help1":"Mapas y cartografa del Instituto Geogrfico Nacional y el Sistema Cartogrfico Nacional utilizadas como capas de fondo.","help2":"Muestra una serie de capas preconfiguradas. Se trata de servicios WMTS que tienen un gran rendimiento en la visualizacin y que estn disponibles como capa base para todo el territorio nacional.","help3":"Mapa. Servicio Mapa Rster del Sistema Cartogrfico Nacional (Mapa de Espaa(ME) 1: 2.000.000, ME 1: 1.250.000, ME500 1: 500.000, Mapa Provincial 1: 200.000 (MP200), Mapa Topogrfico Nacional 1: 50.000 (MTN50), MTN25 1: 25.000).","help4":"Imagen. Servicio Ortofotos mxima actualidad PNOA del Sistema Cartogrfico Nacional (Sentinel 2, Ortofotos PNOA).","help5":"Callejero. Servicio Mapa Base del Sistema Cartogrfico Nacional (Callejero Cartociudad).","help6":"Hbrido. Combinacin Servicio Ortofotos mxima actualidad del PNOA y Servicio Mapa Base del Sistema Cartogrfico Nacional.","help7":"LiDAR. (Relieve) Servicio LiDAR del Sistema Cartogrfico Nacional.","help8":"Ocupacin del suelo. Servicio Ocupacin del suelo del Sistema Cartogrfico Nacional (SIOSE).","help9":"Mapas Histricos Cartografa correspondiente a las primeras ediciones del Mapa Topogrfico Nacional escala 1: 50.000","help10":"La capa activa se muestra con un recuadro azul oscuro. Para dejar la zona de mapa sin ninguna capa de fondo haga clic sobre la capa activa, lo que har que deje de mostrarse el recuadro azul oscuro y la capa en el mapa. Tambin puede utiliza la opcin \'Ninguna\'.","help11":"Slo es posible visualizar una nica capa a la vez. Si quiere combinar ms de una de estas capas, debe cargarse desde la herramienta Capas, aadiendo la URL del servicio o seleccionndola entre las capas preconfiguradas (se ha dispuesto un apartado a tal efecto con el nombre \'Capas de Fondo\'). Puede consultar las URL para estos servicios, y otras ms, en el portal web de la IDEE en el apartado","help12":"Directorio de Servicios."},"tooltip":"Capas de fondo","none":"Ninguna"}')},function(t){t.exports=JSON.parse('{"textHelp":{"help1":"Maps and cartography from the National Geographic Institute and the National Cartographic System used as background layers.","help2":"Shows a series of preconfigured layers. These are WMTS services that have great visualization performance and are available as a base layer for the entire national territory.","help3":"Map. Raster Map Service of the National Cartographic System (Map of Spain (ME) 1: 2,000,000, ME 1: 1,250,000, ME500 1: 500,000, Provincial Map 1: 200,000 (MP200), Topographic Map National 1: 50,000 (MTN50), MTN25 1: 25,000).","help4":"Image. Maximum current PNOA Orthophotos Service of the National Cartographic System (Sentinel 2, PNOA Ortophotos).","help5":"Street. Base Map Service of the National Cartographic System (Cartociudad Street).","help6":"Hybrid. Combination of the maximum current Orthophoto Service of the PNOA and Base Map Service of the National Cartographic System.","help7":"LiDAR. (Relief) LiDAR Service of the National Cartographic System.","help8":"Land occupation. Land occupation service of the National Cartographic System (SIOSE).","help9":"Historical Maps Cartography corresponding to the first editions of the National Topographic Map scale 1: 50,000","help10":"The active layer is shown with a dark blue box. To leave the map area without any background layer, click on the active layer, which will stop the dark blue box from showing and the layer in the map. You can also use the \'None\' option.","help11":"It is only possible to view a single layer at a time. If you want to combine more than one of these layers, it must be loaded from the Layers tool, adding the URL of the service or selecting it among the preconfigured layers (a section has been provided for this purpose with the name \'Background Layers\'). You can consult the URLs for these services, and others, on the IDEE web portal in the section","help12":"Service Directory."},"tooltip":"Background layers","none":"None"}')},function(t){t.exports=JSON.parse('{"exception":{"cobertura":"Comprobando cobertura en la zona...","nocobertura":"Esta capa no tiene cobertura en esta zona"},"tooltip":"Capas Adicionales","layers":"Capas Adicionales","vectoriallayers":"Capas vectoriales","ortofotos":"Ortofotos","warning":"AVISO"}')},function(t){t.exports=JSON.parse('{"exception":{"cobertura":"Checking coverage in the area...","nocobertura":"This layer has no coverage in this area"},"tooltip":"Additional Layers","layers":"Additional Layers","vectoriallayers":"Vectorial layers","ortofotos":"Orthophotos","warning":"WARNING"}')},function(t){t.exports=JSON.parse('{"exception":{"buffer_obsolete":"Mensaje para el desarrollador: M.plugin.Buffer ha quedado obsoleto, utilice en su lugar M.plugin.VectorsManagement"},"tooltip":"rea de influencia","tooltip_point":"Pintar punto","tooltip_line":"Pintar lnea","tooltip_polygon":"Pintar polgono","tooltip_remove":"Eliminar","title_popup":"REA DE INFLUENCIA","unit_m":"Metros","unit_km":"Kilmetros","exception_layer":"La implementacin usada no puede crear capas BufferLayer","exception_control":"La implementacin usada no puede crear controles influenceareaControl"}')},function(t){t.exports=JSON.parse('{"exception":{"buffer_obsolete":"Developer message: M.plugin.Buffer has been deprecated, use the M.plugin.VectorsManagement instead"},"tooltip":"Influence Area","tooltip_point":"Draw Point","tooltip_line":"Draw Line","tooltip_polygon":"Draw Polygon","tooltip_remove":"Remove","title_popup":"INFLUENCE AREA","unit_m":"Metres","unit_km":"Kilometres","exception_layer":"The implementation used cannot create BufferLayer layers","exception_control":"The implementation used cannot create influenceareaControl controls"}')},function(t){t.exports=JSON.parse('{"tooltip":"Cita previa","exception_calendarcontrol":"La implementacin usada no puede crear controles CalendarControl"}')},function(t){t.exports=JSON.parse('{"tooltip":"Previous appointment","exception_calendarcontrol":"The implementation used cannot create CalendarControl controls"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"La implementacin usada no puede crear controles comparatorsControl","no_controls":"El plugin Comparators necesita activar al menos un control.","mirrorDefaultCompareViz":"El parmetro modeVizTypes no contiene el valor de defaultCompareViz","mirrorModeVizTypes":"modeVizTypes no tiene un valor vlido","fourLayers":"El modo de visualizacin seleccionado requiere tres capas","notLayers":"El modo de visualizacin seleccionado requiere una capa","errorPlugin":"Error al cargar el plugin","errorObjectLayer":"no se puede cargar las capas como objeto","errorLinkUrl":"Falta por incluir el link del plugin","errorScriptUrl":"Falta por incluir el script del plugin","errorScriptOrLinkUrl":"Falta por incluir el script o link de un plugin","errorURL":"no se puede compartir porque no tiene URL","errorUrlMBTiles":"La capa de tipo MBTiles o MBTilesVector no tiene tiene URL y no se puede compartir","errorGeneric":"La capa de tipo GenericRaster y GenericVector no se puede compartir"},"textHelp":{"help1":"La extensin de comparacin permite distintas opciones para comparar mapas y capas de un visualizador.","help2":"Las opciones de comparacin son personalizables, por lo que puede que no todos lso visualizadores tengan las mismas opciones.","help3":"La primera opcin es la comparacin en espejo.","help4":"Con esta opcin se abren mapas sincronizados en una misma ventana. Desde el panel de la extensin, se pueden seleccionar cmo y cuantos cuadrantes de comparacin se quieren y las capas de comparacin a mostrar en cada uno de ellos.","help5":"La segunda opcin es la comparacin en ventanas  sincronizadas.","help6":"Esta opcin es ideal para entornos con ms de una pantallas, permitiendo tener una en cada monitor con mapas sincronizados entre s. Permite abrir tantas ventanas sincronizadas se deseen y cerrar todas desde el panel de la extensin.","help7":"La tercera opcin es la comparacin en cortina.","help8":"Esta opcin, al igual que la primera, permite elegir entre qu capas se quieren comparar en cada divisin del mapa y el tipo de divisin del mapa a comparar.","help9":"Y la cuarta opcin, la comparacin en lupa.","help10":"Permite comparar mediante una lupa la capa seleccionada en el panel de la extensin.","help11":"Con el comando Ctrl+Shift+Enter  se puede dejar fija la comparacin y mover el mapa.","help12":"La informacin relevante a la extensin y su posible parametrizacin est documentada en","help13":"El ejemplo de uso de sus parmetros puede comprobarse en"},"nolayertext":"No hay capas de comparacin","title":"Panel de Comparadores","play":"Iniciar","pause":"Parar","intervals_error":"Los intervalos no fueron definidos correctamente","tooltipLyr":"Comparador de capas","tooltip_vcurtain":"Cortina vertical","tooltip_hcurtain":"Cortina horizontal","tooltip_multicurtain":"Multivista","tooltip_deactivatecurtain":"Desactivar cortina","layers":"Capas","radius":"Radio","opacity":"Opacidad","static":"Esttico","dynamic":"Dinmico","mixed":"Mixto","layer":"Capa","opacity_tooltip":"Opacidad de las capas que se comparan (0-100%)","dynamic_tooltip":"La divisin la marca la posicin del cursor","mixed_tooltip":"La divisin se arrastra con el ratn","static_tooltip":"La divisin es fija en el centro del mapa","lyrLeftSelect_tooltip":"Selecciona la capa de la izquierda","lyrRightSelect_tooltip":"Selecciona la capa de la derecha","advice_sameLayer":"No puede cargarse la misma capa en varios sitios","no_layers_plugin":"El nmero de capas es insuficiente para aplicar el efecto","repeated_layers":"Las capas seleccionadas no se pueden repetir","tooltipMirrorpanel":"Comparador de mapas espejo","titleMirrorpanel":"Mapas espejo","modViz0":"Mapa standard","modViz1":"Dos mapas en vertical","modViz2":"Dos mapas en horizontal","modViz3":"Tres mapas en vertical","modViz4":"Cuatro mapas en vertical","modViz5":"Mosaico de mapas","modViz6":"Cuatro mapas en horizontal","modViz7":"Tres mapas en proporcin 2-1-1","modViz8":"Un mapa arriba y dos abajo","modViz9":"Dos mapas arriba y uno abajo","tooltipTransparency":"Transparencia","transparency":"Transparencia","errorLayer":"Transparency: No se ha especificado una capa vlida sobre la que aplicar el efecto","freeze":"Inmovilizar cursor","unfreeze":"liberar cursor","activate_spyeye":"Activar Spy Eye","deactivate_spyeye":"Desactivar Spy Eye","tooltip":"Comparador de mapas","inputTransparentRadius":"Modifica la opacidad del radio","selectTransparentRadius":"Selector de capas, se le aplicar la opacidad del radio","tooltip_void":"Vista de un solo mapa","selectLayers":"Selector de capas","openWindow":"Abrir nueva venta","closeAll":"Cerrar todas las ventanas","tooltipWindSync":"Comparador de capas sncrono","selector":"Ninguna capa"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"The implementation used cannot create comparatorsControl controls","no_controls":"The Comparators plugin needs to activate at least one control.","mirrorDefaultCompareViz":"modeVizTypes parameter does not contain the value of defaultCompareViz","mirrorModeVizTypes":"modeVizTypes does not have a valid value","fourLayers":"The number of layers is insufficient to apply the effect","notLayers":"The number of layers is insufficient to apply the effect","errorPlugin":"Error loading the plugin","errorObjectLayer":"Layers cannot be loaded as objects","errorLinkUrl":"Missing plugin link","errorScriptUrl":"Missing plugin script","errorScriptOrLinkUrl":"Missing plugin script or link","errorURL":"Cannot be shared because it does not have a URL","errorUrlMBTiles":"The MBTiles or MBTilesVector layer does not have a URL and cannot be shared","errorGeneric":"The GenericRaster and GenericVector layer cannot be shared"},"textHelp":{"help1":"The compare extension allows different options for comparing maps and layers in a viewer.","help2":"Comparison options are customizable, so not all viewers may have the same options.","help3":"The first option is mirror comparison.","help4":"With this option, synchronized maps are opened in the same window. From the extension panel, you can select how and how many comparison quadrants you want and the comparison layers to show in each of them.","help5":"The second option is the comparison in synchronized windows.","help6":"This option is ideal for environments with more than one screen, allowing you to have one on each monitor with maps synchronized with each other. It allows you to open as many synchronized windows as you want and close them all from the extension panel.","help7":"The third option is the curtain comparison.","help8":"This option, like the first, allows you to choose which layers you want to compare in each map division and the type of map division to compare.","help9":"And the fourth option, the magnifying glass comparison.","help10":"Allows you to compare the selected layer in the extension panel using a magnifying glass.","help11":"With the command Ctrl+Shift+Enter you can leave the comparison fixed and move the map.","help12":"The information relevant to the extension and its possible parameterization is documented in","help13":"The example of using its parameters can be checked in"},"mirrorpanelParams_tooltip":"mirrorpanelParams_tooltip","lyrcompareParams_tooltip":"lyrcompareParams_tooltip","transparencyParams_tooltip":"transparencyParams_tooltip","nolayertext":"No Layout","title":"Comparators","play":"Play","pause":"Pause","intervals_error":"The intervals were not defined correctly","tooltipLyr":"Layer Comparison","tooltip_vcurtain":"Vertical curtain","tooltip_hcurtain":"Horizontal curtain","tooltip_multicurtain":"Multi curtain","tooltip_deactivatecurtain":"Deactivate curtain","layers":"Layers","radius":"Radius","opacity":"Opacity","static":"Static","dynamic":"Dynamic","mixed":"Mixed","layer":"Layer","opacity_tooltip":"Opacity of the layers (0-100%)","dynamic_tooltip":"Division between layers is fixed by mouse position","mixed_tooltip":"Division between layers is dragged by mouse","static_tooltip":"Division between layers is fixed 50%","lyrLeftSelect_tooltip":"Select layer on the left","lyrRightSelect_tooltip":"Select layer on the right","advice_sameLayer":"One layer in different places is not allowed","no_layers_plugin":"The number of layers is insufficient to apply the effect","repeated_layers":"Selected layers cannot be repeated","tooltipMirrorpanel":"Mirror Comparison","titleMirrorpanel":"Mirror Maps","modViz0":"Standard map","modViz1":"Vertical two maps","modViz2":"Horizontal two maps","modViz3":"Vertical three maps","modViz4":"Vertical four maps","modViz5":"Mosaic maps","modViz6":"Horizontal four maps","modViz7":"Vertical 2-1-1 proportional maps","modViz8":"One map above and two below","modViz9":"Two maps above and one below","tooltipTransparency":"Transparency","transparency":"Transparency","errorLayer":"Transparency: No valid layer specified on which to apply the effect","freeze":"freeze cursor","unfreeze":"defrost cursor","activate_spyeye":"SpyEye ON","deactivate_spyeye":"SpyEye OFF","tooltip":"Compare panel","inputTransparentRadius":"Modify the opacity of the radius","selectTransparentRadius":"Layer selector, the radius opacity will be applied","tooltip_void":"Single map view","selectLayers":"Layers selected","openWindow":"Open new sale","closeAll":"Close all windows","tooltipWindSync":"Synchronous layer comparator","selector":"None"}')},function(t){t.exports=JSON.parse('{"tooltip":"Panel de Comparadores","title":"Panel de Comparadores","play":"Iniciar","pause":"Parar","exception":"La implementacin usada no puede crear controles ComparepanelControl","intervals_error":"Los intervalos no fueron definidos correctamente","tooltipLyr":"Comparador de capas","tooltip_vcurtain":"Cortina vertical","tooltip_hcurtain":"Cortina horizontal","tooltip_multicurtain":"Multivista","tooltip_deactivatecurtain":"Desactivar cortina","layers":"Capas","radius":"Radio","opacity":"Opacidad","static":"Esttico","dynamic":"Dinmico","mixed":"Mixto","layer":"Capa","opacity_tooltip":"Opacidad de las capas que se comparan (0-100%)","dynamic_tooltip":"La divisin la marca la posicin del cursor","mixed_tooltip":"La divisin se arrastra con el ratn","static_tooltip":"La divisin es fija en el centro del mapa","lyrLeftSelect_tooltip":"Selecciona la capa de la izquierda","lyrRightSelect_tooltip":"Selecciona la capa de la derecha","advice_sameLayer":"No puede cargarse la misma capa en varios sitios","no_layers_plugin":"El nmero de capas es insuficiente para aplicar el efecto","repeated_layers":"Las capas seleccionadas no se pueden repetir","tooltipMirrorpanel":"Comparador de mapas espejo","titleMirrorpanel":"Mapas espejo","modViz0":"Mapa standard","modViz1":"Dos mapas en vertical","modViz2":"Dos mapas en horizontal","modViz3":"Tres mapas en vertical","modViz4":"Cuatro mapas en vertical","modViz5":"Mosaico de mapas","modViz6":"Cuatro mapas en horizontal","modViz7":"Tres mapas en proporcin 2-1-1","modViz8":"Un mapa arriba y dos abajo","modViz9":"Dos mapas arriba y uno abajo","tooltipTimeline":"Lnea de tiempo","titleTimeline":"Lnea de tiempo","tooltipTransparency":"Transparencia","transparency":"Transparencia","errorLayer":"Transparency: No se ha especificado una capa vlida sobre la que aplicar el efecto","nolayertext":"Ninguna capa","freeze":"Inmovilizar cursor","unfreeze":"liberar cursor","activate_spyeye":"Activar Spy Eye","deactivate_spyeye":"Desactivar Spy Eye","comparepanel_obsolete":"Mensaje para el desarrollador: M.plugin.Comparepanel ha quedado obsoleto, utilice en su lugar M.plugin.Comparators"}')},function(t){t.exports=JSON.parse('{"tooltip":"Comparepanel","title":"Comparepanel","play":"Play","pause":"Pause","exception":"The implementation used cannot create comparepanelControl controls","intervals_error":"The intervals were not defined correctly","tooltipLyr":"Layer Comparison","tooltip_vcurtain":"Vertical curtain","tooltip_hcurtain":"Horizontal curtain","tooltip_multicurtain":"Multi curtain","tooltip_deactivatecurtain":"Deactivate curtain","layers":"Layehrs","radius":"Radius","opacity":"Opacity","static":"Static","dynamic":"Dynamic","mixed":"Mixed","layer":"Layer","opacity_tooltip":"Opacity of the layers (0-100%)","dynamic_tooltip":"Division between layers is fixed by mouse position","mixed_tooltip":"Division between layers is dragged by mouse","static_tooltip":"Division between layers is fixed 50%","lyrLeftSelect_tooltip":"Select layer on the left","lyrRightSelect_tooltip":"Select layer on the right","advice_sameLayer":"One layer in different places is not allowed","no_layers_plugin":"The number of layers is insufficient to apply the effect","repeated_layers":"Selected layers cannot be repeated","tooltipMirrorpanel":"Mirror Comparison","titleMirrorpanel":"Mirror Maps","modViz0":"Standard map","modViz1":"Vertical two maps","modViz2":"Horizontal two maps","modViz3":"Vertical three maps","modViz4":"Vertical four maps","modViz5":"Mosaic maps","modViz6":"Horizontal four maps","modViz7":"Vertical 2-1-1 proportional maps","modViz8":"One map above and two below","modViz9":"Two maps above and one below","tooltipTimeline":"Timeline","titleTimeline":"Timeline","tooltipTransparency":"Transparency","transparency":"Transparency","errorLayer":"Transparency: No valid layer specified on which to apply the effect","nolayertext":"No layer selected","freeze":"freeze cursor","unfreeze":"defrost cursor","activate_spyeye":"SpyEye ON","deactivate_spyeye":"SpyEye OFF","comparepanel_obsolete":"Developer Message: M.plugin.Comparepanel has been deprecated, please use M.plugin.Comparators instead"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"La implementacin no puede crear controles de Attribution."},"textHelp":{"help1":"En la parte superior puede encontrar enlaces a otros visualizadores especializados del IGN que pueden resultar de su inters.","help2":"Descargas CNIG.","help3":"Herramienta para la descarga gratuita de ficheros digitales de carcter geogrfico generados por la Direccin General del Instituto Geogrfico Nacional (IGN).","help4":"Comparador PNOA.","help5":"Permite consultar y comparar las ortofotos de diferentes aos, desde su inicio en el ao 2004 hasta la actualidad, as como comparar esta informacin con otras fuentes.","help6":"Visualizador 3D.","help7":"Servicio capaz de mostrar el relieve mediante anaglifos en 3D. Son necesarios unos gafas para anglifos con colores rojo y azules.","help8":"Fototeca.","help9":"Visualizar, imprimir (en formato PDF) y solicitar certificados de fotogramas originales de vuelos fotogramtricos realizados sobre Espaa.","help10":"En la parte inferior tiene un enlace directo a las redes sociales del IGN y correo electrnico de consulta consulta@cnig.es a travs de las cuales puede mantenerse al da de la actualidad del IGN adems de contactarnos directamente.","help11":"La informacin relevante a la extensin y su posible parametrizacin est documentada en","help12":"El ejemplo de uso de sus parmetros puede comprobarse en"},"tooltip":"Enlaces y contacto IGN","title":"Enlaces y contacto","links":{"downloads":"Descargas CNIG","compare":"Comparador PNOA","3d":"Visualizador 3D","photo":"Fototeca"},"accessibility":{"webLinks":"Links to IGN websites","socialMedia":"Links to IGN\'s social networks"}}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"The implementation used cannot create Attributions controls."},"textHelp":{"help1":"At the top you can find links to other specialized IGN viewers that may be of interest to you.","help2":"CNIG downloads","help3":"CNIG downloads. Tool for free downloading digital files of a geographical nature generated by the General Directorate of the National Geographic Institute (IGN).","help4":"PNOA comparator.","help5":"Allows you to consult and compare orthophotos from different years, from its beginning in 2004 to the present, as well as compare this information with other sources.","help6":"3D viewer.","help7":"Service capable of showing the relief using anaglyphs in 3D. Glasses for anaglyphs with red and blue colors are necessary.","help8":"Photo library.","help9":"View, print (in PDF format) and request certificates of original frames from photogrammetric flights carried out over Spain.","help10":"At the bottom you have a direct link to the IGN social networks and consultation email consulta@cnig.es through which you can stay up to date with IGN news in addition to contacting us directly.","help11":"The information relevant to the extension and its possible parameterization is documented in","help12":"The example of use of its parameters can be checked in"},"tooltip":"IGN links and contact","title":"Links and contact","links":{"downloads":"CNIG Downloads","compare":"PNOA Comparator","3d":"3D Display","photo":"Aerial Photography Viewer"},"accessibility":{"webLinks":"Enlaces a sitios web del IGN","socialMedia":"Enlaces a las redes sociales del IGN"}}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"La implementacin usada no puede crear controles FullTOCControl.","extent":"No se puede obtener la extensin de la capa","capabilities":"Ha ocurrido un error al obtener el documento GetCapabilities","only_http":"Slo se permiten servicios http","only_https":"Slo se permiten servicios https","no_http_https":"No se permiten servicios http ni https","valid_url":"Debes indicar una URL vlida","empty":"Los campos estn vacos","select_layer":"Debes seleccionar al menos una capa","no_results":"No se han encontrado capas en este servicio","codsi":"Ha ocurrido un error al consultar el catlogo CODSI","codsi_no_results":"No hay resultados para su bsqueda","fulltoc_obsolete":"Mensaje para el desarrollador: M.plugin.FullTOC ha quedado obsoleto, utilice en su lugar M.plugin.Layerswitcher"},"tooltip":"Capas","info":"Informacin","layer_info":"Informacin de la capa","configure_layer":"Configurar capa","close":"Cerrar","load_ext_services":"Cargar capas de informacin geogrfica","layers":"Capas","add_service":"Aadir servicio","show_hide":"Mostrar/Ocultar leyenda","zoom":"Zoom a la capa","info_metadata":"Ver informacin","change_style":"Cambiar estilo","remove_layer":"Eliminar capa del mapa","select_style":"Selecciona un estilo","change":"Cambiar","url_service":"Incluir URL del servicio a cargar","query":"Consultar","loaded_services":"Capas de informacin geogrfica","codsi_services":"Catlogo de Servicios INSPIRE (CODSI)","clean":"Limpiar bsqueda","availables":"Listado de algunas capas disponibles","title":"Ttulo","name":"Nombre","abstract":"Resumen","provider":"Proveedor","service_info":"Informacin del servicio (Capabilities)","download_center":"Centro de descargas","add":"Aadir","drag_drop":"Arrastre y suelte para cambiar el orden de visualizacin","see_more":"Mostrar metadato del conjunto de datos","see_less":"Ocultar metadato del conjunto de datos","service":"Servicio","metadata_abstract":"Resumen (metadato)","responsible":"Responsable","access_constraints":"Restricciones de acceso","use_constraints":"Restricciones de uso","online_resources":"Recursos online","show_service_info":"Mostrar informacin del servicio","hide_service_info":"Ocultar informacin del servicio","filter_results":"Filtrar resultados","clean_filter":"Limpiar filtro","filter_text":"Texto a buscar","metadata":"Metadatos","see_more_layer":"Ver ms informacin de la capa","see_more_service":"Ver ms informacin del servicio","select_service":"Selecciona una capa","amount_results":"Obtener ","amount_results_2":" elementos","bbox-select":"Solo de la extensin actual","no-limit":"Obtener todos los elementos","custom_query":"Consulta personalizada","no_results":"No se han encontrado resultados","search":"Buscar","yes":"S","no":"No","filters":"Filtros","other_filters":"Otros filtros","id_filter":"Filtrar por ID","warning":"ADVERTENCIA: No se recomiendan lmites altos","add_btn":"Aadir","custom_query_btn":"Ms filtros","apply_btn":"Aplicar","style":"Estilo","default_style":"Estilo predeterminado","selected":"seleccionado","custom_query_warning":"ATENCIN: La opcin buscar por Ms filtros se basa en un estndar en estado borrador. El resultado de la consulta puede no ser el deseado.","check_results":"Comprobar resultados","results_1_plural":"Se han encontrado ","results_2_plural":" features","results_1_singular":"Se ha encontrado ","results_2_singular":" feature"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"The implementation used cannot create FullTOCControl.","extent":"Cannot get the extent of the layer","capabilities":"An error has occurred in obtaining the GetCapabilities document","only_http":"Only http services are allowed","only_https":"Only https services are allowed","no_http_https":"No http or https services allowed","valid_url":"You must provide a valid URL","empty":"The fields are empty","select_layer":"You must select at least one layer","no_results":"No layers found in this service","codsi":"An error occurred while consulting the CODSI catalog","codsi_no_results":"There are no results for your search","fulltoc_obsolete":"Message to the developer: M.plugin.FullTOC has been deprecated, please use M.plugin.Layerswitcher instead"},"tooltip":"Layers","info":"Information","layer_info":"Layer information","configure_layer":"Configure layer","close":"Close","load_ext_services":"Load geographic information layers","layers":"Layers","add_service":"Add service","show_hide":"Show/Hide legend","zoom":"Zoom to the layer","info_metadata":"View information","change_style":"Change style","remove_layer":"Remove layer from map","select_style":"Select a style","change":"Change","url_service":"Include URL of the service to load","query":"Consult","loaded_services":"Preloaded geographic information layers","codsi_services":"INSPIRE Services Catalog (CODSI)","clean":"Clean search","availables":"List of some available layers","title":"Title","name":"Name","abstract":"Abstract","provider":"Provider","service_info":"Service information (Capabilities)","download_center":"Download center","add":"Add","drag_drop":"Drag and drop to change display order","see_more":"Show dataset metadata","see_less":"Hide dataset metadata","service":"Service","metadata_abstract":"Abstract (metadata)","responsible":"Responsible","access_constraints":"Access constraints","use_constraints":"Use constraints","online_resources":"Online resources","show_service_info":"Show service information","hide_service_info":"Hide service information","filter_results":"Filter results","clean_filter":"Clean filter","filter_text":"Text to search","metadata":"Metadata","see_more_layer":"View more information about the layer (Metadata)","see_more_service":"View more service information (Metadata)","select_service":"Select layer","amount_results":"Get ","amount_results_2":" elements","bbox-select":"Find features within rendered map","no-limit":"Get all results","custom_query":"Custom query","no_results":"No results found","search":"Search","yes":"S","no":"No","filters":"Filters","other_filters":"Other filters","id_filter":"Filter by ID","warning":"WARNING: High limits are not recommended","add_btn":"Add","custom_query_btn":"More filters","apply_btn":"Apply","style":"Style","default_style":"Default style","selected":"selected","custom_query_warning":"WARNING: Filtering by \\"More filters\\" it is based on a draft standard. The result of the query may not be as desired.","check_results":"Check results","results_1_plural":"","results_2_plural":" features have been found.","results_1_singular":"","results_2_singular":" feature has been found."}')},function(t){t.exports=JSON.parse('{"exception":{"emptylater":"La capa de dibujo est vaca.","geometrianoencontrar":"Geometra no reconocida.","formatocoord":"Las coordenadas introducidas no tienen el formato correcto.","introduzcoord":"No se han introducido las coordenadas correctamente.","errorfichero":"Error al cargar el fichero.","nodetectado":"No se han detectado geometras en este fichero.","comprobar":"Error al cargar el fichero. Compruebe que se trata del fichero correcto.","insertado":"No se ha insertado una extensin de archivo permitida. Las permitidas son: KML, SHP(.zip), GPX y GeoJSON.","maxfichero":"El fichero seleccionado sobrepasa el mximo de 20 MB permitido.","ficherosel":"No se ha seleccionado formato de descarga.","obsolete":"Mensaje para el desarrollador: M.plugin.GeometryDraw ha quedado obsoleto, utilice en su lugar M.plugin.VectorsManagement"},"tooltip":"Dibujo de geometras","punto":"Punto","coordenadas":"Punto por coordenadas","linea":"Lnea","poligono":"Polgono","texto":"Texto","editgeometria":"Editar geometra","descgeometria":"Descargar geometras","subircapa":"Subir capa","limpiar":"Limpiar","color":"Color","grosor":"Grosor","borrar":"Borrar geometra","dibujar":"Dibujar geometra","descargar":"Descargar","sistema":"Sistema de coordenadas","longitud":"Longitud","latitud":"Latitud","fuente":"Fuente","tamao":"Tamao","eliminar":"Eliminar texto","ficheros":"Los formatos aceptados son KML, SHP (.zip), GPX y GeoJSON.","seleccionar":"Selecciona el fichero","cargarcapa":"Cargar capa"}')},function(t){t.exports=JSON.parse('{"exception":{"emptylater":"The drawing layer is empty.","geometrianoencontrar":"Unrecognized geometry.","formatocoord":"The entered coordinates are not in the correct format.","introduzcoord":"Coordinates are not entered correctly.","errorfichero":"Error loading the file.","nodetectado":"No geometries have been detected in this file.","comprobar":"Error loading the file. Verify that this is the correct file.","insertado":"A permitted file extension has not been inserted. The allowed ones are: KML, SHP (.zip), GPX and GeoJSON.","maxfichero":"The selected file exceeds the maximum of 20 MB allowed","ficherosel":"Download format has not been selected.","obsolete":"Developer message: M.plugin.GeometryDraw has been deprecated, use the M.plugin.VectorsManagement instead"},"tooltip":"Geometry drawing","punto":"Point","coordenadas":"Coordinate point","linea":"Line","poligono":"Polygon","texto":"Text","editgeometria":"Edit geometry","descgeometria":"Download geometry","subircapa":"Import layer","limpiar":"Clean","color":"Color","grosor":"Stroke","borrar":"Delete geometry","dibujar":"Draw geometry","descargar":"Download","sistema":"Coordinate system","longitud":"Longitude","latitud":"Latitude","fuente":"Font","tamao":"Size","eliminar":"Delete text","ficheros":"The accepted formats are KML, SHP (.zip), GPX and GeoJSON.","seleccionar":"Select file","cargarcapa":"Load layer"}')},function(t){t.exports=JSON.parse('{"exception":{"loaderror":"La imagen no ha podido ser cargada.","teselaError":"La peticin de alguna tesela ha provocado un error en la impresin. <br/>Por favor, intntelo de nuevo.","printError":"Se ha producido un error en la impresin.","georefimage_obsolete":"Mensaje para el desarrollador: M.plugin.georefimage ha quedado obsoleto, utilice en su lugar M.plugin.PrintViewManagement"},"errorProjectionCapabilities":"La proyeccion seleccionada no est disponible para esta capa base. Por favor elija otra proyeccin.","printInfo":"Impresin generada a travs de Mapea","tooltip":"Descargar Imagen georreferenciada","referenced":"Imagen georreferenciada","projection":"Proyeccin","downImg":"Descargar imagen","delete":"Borrar","down":"Descargar","title":"Ttulo","notitle":"(Sin ttulo)","keep":"Conservar vista"}')},function(t){t.exports=JSON.parse('{"exception":{"loaderror":"The image could not be loaded.","teselaError":"The request has caused an error in printing. < br / > Please try again.","printError":"Printing has failed.","georefimage_obsolete":"Message to the developer: M.plugin.georefimage has been deprecated, please use M.plugin.PrintViewManagement instead"},"errorProjectionCapabilities":"The selected projection is not available for this base layer. Please choose another projection.","printInfor":"Print generated by Mapea","tooltip":"Download Georeferenced image","referenced":"Georeferenced image","projection":"Projection","downImg":"Download image","delete":"Delete","down":"Download","title":"Title","notitle":"(No title)","keep":"Keep view"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"La implementacin usada no puede crear controles Georefimage2","encode_method":"La implementacin usada no posee el mtodo encodeLayer","loaderror":"La imagen no ha podido ser cargada.","teselaError":"La peticin de alguna tesela ha provocado un error en la impresin. <br/>Por favor, intntelo de nuevo.","printError":"Se ha producido un error en la impresin.","imageError":"No ha podido realizarse la descarga en este momento. Por favor, intntelo ms tarde.","georefimage2_obsolete":"Mensaje para el desarrollador: M.plugin.georefimage2 ha quedado obsoleto, utilice en su lugar M.plugin.PrintViewManagement"},"errorProjectionCapabilities":"La proyeccion seleccionada no est disponible para esta capa base. Por favor elija otra proyeccin.","printInfo":"Impresin generada a travs de Mapea","tooltip":"Descargar Imagen georreferenciada","generating":"Generando imagen georreferenciada","referenced":"Imagen georreferenciada","projection":"Proyeccin","downImg":"Descargar imagen","delete":"Borrar","down":"Descargar","title":"Ttulo","notitle":"(Sin ttulo)","keep":"Conservar vista","cancel":"Cancelar","accept":"Aceptar","download_modal":"El uso de la informacin de los productos y servicios de datos geogrficos definidos en la <a tabindex=\\"0\\" target=\\"_blank\\" href=\\"https://www.boe.es/boe/dias/2015/12/26/pdfs/BOE-A-2015-14129.pdf\\">Orden FOM/2807/2015</a>, as como sus derivados, conlleva la aceptacin por el usuario de las condiciones generales de dicha orden, concretada en la siguiente <a tabindex=\\"0\\" target=\\"_blank\\" href=\\"http://www.ign.es/resources/licencia/Condiciones_licenciaUso_IGN.pdf\\">licencia de uso</a>, compatible con CC-BY 4.0.","use_license":"Licencia de uso","map":"Mapa","pnoa":"Imagen (PNOA)","screen":"Imagen Pantalla"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"The used implementation cannot create Georefimage2 controls","encode_method":"The used implementation does not have the encodeLayer method","loaderror":"The image could not be loaded.","teselaError":"The request has caused an error in printing. < br / > Please try again.","printError":"Printing has failed.","imageError":"The download could not be completed at this time. Please try again later.","georefimage2_obsolete":"Message to the developer: M.plugin.georefimage2 has been deprecated, please use M.plugin.PrintViewManagement instead"},"errorProjectionCapabilities":"The selected projection is not available for this base layer. Please choose another projection.","printInfor":"Print generated by Mapea","tooltip":"Download Georeferenced image","generating":"Generating georeferenced image","referenced":"Georeferenced image","projection":"Projection","downImg":"Download image","delete":"Delete","down":"Download","title":"Title","notitle":"(No title)","keep":"Keep view","cancel":"Cancel","accept":"Accept","download_modal":"The use of the information of the geographic data products and services defined in the <a tabindex=\\"0\\" target=\\"_blank\\" href=\\"https://www.boe.es/boe/dias/2015/12/26/pdfs/BOE-A-2015-14129.pdf\\">Order FOM/2807/2015</a>, as well as its derivatives, entails the acceptance by the user of the general conditions of said order, specified in the following <a tabindex=\\"0\\" target=\\"_blank\\" href=\\"http://www.ign.es/resources/licencia/Condiciones_licenciaUso_IGN.pdf\\">license of use</a>, compatible with CC-BY 4.0.","use_license":"License of use","map":"Map","pnoa":"Image (PNOA)","screen":"Screen Image"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"La implementacin usada no puede crear controles HelpControl."},"textHelp":{"help1":"Esta herramienta permite crear al vuelo una pgina HTML con la ayuda de los plugins y controles que tengan implementado el mtodo \'getHelp\' para obtener la ayuda de cada uno de ellos.","help2":"Adems permite mostrar a la ayuda contenido extra que aada el usuario."},"tooltip":"Ayuda","help":"Ayuda","short_title":"Ayuda API-CNIG","long_title":"Ayuda API-CNIG","tools":"Herramientas","welcome0":"Visualizador realizado con la API-CNIG","welcome1":"API CNIG es una herramienta que permite integrar de una forma muy sencilla un visualizador de mapas interactivo en cualquier pgina web y configurarlo consumiendo ficheros WMC, servicios WMS, servicios WFS, ficheros KML, etc. Adems, provee la capacidad de aadir una gran cantidad de herramientas y controles.","welcome2":"Cdigo API-CNIG","welcome3":"Enlace al repositorio","welcome4":"Galera de plugins","welcome5":"Enlace a la galera de plugins","welcome6":"Enlace a la Wiki de API-CNIG","welcome7":"Galera de ejemplos","welcome8":"Enlace a la galera de ejemplos","welcome9":"Recursos Formativos","welcome10":"Enlace a los recursos formativos","tools1":"La API-CNIG cuenta con una serie de herramientas que permiten interactuar con la informacin que se ofrece en el visualizador:","tools2":"Los controles son las herramientas que incluye el mapa y que permiten trabajar con l. Por ejemplo, podemos tener un control que dibuje la escala en el mapa, otro que ofrezca una seleccin de capas base de fondo del mapa, otro que vaya mostrando las coordenadas del cursor, etc.","tools3":"Los plugins o extensiones son funcionalidades que ofrecen utilidades especficas que, a diferencia de los controles bsicos, suelen usarse en escenarios concretos, por lo que se separan del core o ncleo principal de la API para no penalizar con su descarga a quien no los necesite.","tools4":"Por ejemplo, se agruparan en un mismo plugin aquellos controles que, aunque ofrezcan funcionalidades atmicas diferentes, funcionen en grupo sobre una misma capa vectorial. De esta manera, se optimiza la gestin de la informacin y los elementos comunes que comparten.","write":"Escribe aqu","search":"Buscar","pdf":"Descargar en pdf"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"The implementation used cannot create HelpControl controls."},"textHelp":{"help1":"This tool allows you to create an HTML page on the fly with the help of plugins and controls that have implemented the \'getHelp\' method to obtain help from each of them.","help2":"It also allows you to display extra content added by the user to the help."},"tooltip":"Help","help":"Help","short_title":"API-CNIG Help","long_title":"API-CNIG Help","tools":"Tools","welcome0":"Viewer made with the API-CNIG","welcome1":"CNIG API is a tool that allows you to easily integrate an interactive map viewer into any web page and configure it by consuming WMC files, WMS services, WFS services, KML files, etc. In addition, it provides the ability to add a lot of tools and controls.","welcome2":"API-CNIG code","welcome3":"Link to repository","welcome4":"Plugin Gallery","welcome5":"Link to plugin gallery","welcome6":"Link to the API-CNIG Wiki","welcome7":"Example Gallery","welcome8":"Link to gallery of examples","welcome9":"Training Resources","welcome10":"Link to training resources","tools1":"The API-CNIG has a series of tools that allow you to interact with the information offered in the viewer:","tools2":"Controls are the tools that the map includes and that allow you to work with it. For example, we can have a control that draws the scale on the map, another that offers a selection of base layers for the background of the map, another that shows the coordinates of the cursor, etc.","tools3":"Plugins or extensions are functionalities that offer specific utilities that, unlike basic controls, are usually used in specific scenarios, so they are separated from the core or main core of the API so as not to penalize downloading. who doesn\'t need them.","tools4":"For example, those controls that, although offering different atomic functionalities, work as a group on the same vector layer would be grouped in the same plugin. In this way, the management of the information and the common elements that they share are optimized. .","write":"Write here","search":"Search","pdf":"Download as PDF"}')},function(t){t.exports=JSON.parse('{"tooltip":"Panel de Comparadores","title":"Panel de Comparadores","play":"Iniciar","pause":"Parar","exception":"La implementacin usada no puede crear controles IberpixCompareControl","intervals_error":"Los intervalos no fueron definidos correctamente","tooltipLyr":"Comparador de capas","tooltip_vcurtain":"Cortina vertical","tooltip_hcurtain":"Cortina horizontal","tooltip_multicurtain":"Multivista","layers":"Capas","radius":"Radio","opacity":"Opacidad","static":"Esttico","dynamic":"Dinmico","mixed":"Mixto","layer":"Capa","opacity_tooltip":"Opacidad de las capas que se comparan (0-100%)","dynamic_tooltip":"La divisin la marca la posicin del cursor","mixed_tooltip":"La divisin se arrastra con el ratn","static_tooltip":"La divisin es fija en el centro del mapa","lyrLeftSelect_tooltip":"Selecciona la capa de la izquierda","lyrRightSelect_tooltip":"Selecciona la capa de la derecha","advice_sameLayer":"No puede cargarse la misma capa en varios sitios","no_layers_plugin":"Para utilizar esta opcin de comparacin, debe tener cargadas tantas capas en la herramienta \\"Capas\\" como divisiones haya seleccionado","tooltipMirrorpanel":"Comparador de mapas espejo","titleMirrorpanel":"Mapas espejo","modViz0":"Mapa standard","modViz1":"Dos mapas en vertical","modViz2":"Dos mapas en horizontal","modViz3":"Tres mapas en vertical","modViz4":"Cuatro mapas en vertical","modViz5":"Mosaico de mapas","modViz6":"Cuatro mapas en horizontal","modViz7":"Tres mapas en proporcin 2-1-1","modViz8":"Un mapa arriba y dos abajo","modViz9":"Dos mapas arriba y uno abajo","nolayertext":"Ninguna capa","no_coverage":"La capa seleccionada no tiene cobertura en la zona del mapa en la que se encuentra","warning":"Advertencia","print_disabled":"La impresin no est disponible","georef_download_disabled":"La descarga no est disponible","printmap":"Impresin del mapa","georef_download":"Descargar Imagen georreferenciada","no_layer":"Sin capa","iberpixcompare_obsolete":"Mensaje para el desarrollador: M.plugin.IberpixCompare ha quedado obsoleto, utilice en su lugar M.plugin.Comparators"}')},function(t){t.exports=JSON.parse('{"tooltip":"IberpixCompare","title":"IberpixCompare","play":"Play","pause":"Pause","exception":"The implementation used cannot create iberpixcompareControl controls","intervals_error":"The intervals were not defined correctly","tooltipLyr":"Layer Comparison","tooltip_vcurtain":"Vertical curtain","tooltip_hcurtain":"Horizontal curtain","tooltip_multicurtain":"Multi curtain","layers":"Layehrs","radius":"Radius","opacity":"Opacity","static":"Static","dynamic":"Dynamic","mixed":"Mixed","layer":"Layer","opacity_tooltip":"Opacity of the layers (0-100%)","dynamic_tooltip":"Division between layers is fixed by mouse position","mixed_tooltip":"Division between layers is dragged by mouse","static_tooltip":"Division between layers is fixed 50%","lyrLeftSelect_tooltip":"Select layer on the left","lyrRightSelect_tooltip":"Select layer on the right","advice_sameLayer":"One layer in different places is not allowed","no_layers_plugin":"In order to use this comparison option, you must have as many layers loaded in the \\"Layers\\" tool as divisions you have selected.","tooltipMirrorpanel":"Mirror Comparison","titleMirrorpanel":"Mirror Maps","modViz0":"Standard map","modViz1":"Vertical two maps","modViz2":"Horizontal two maps","modViz3":"Vertical three maps","modViz4":"Vertical four maps","modViz5":"Mosaic maps","modViz6":"Horizontal four maps","modViz7":"Vertical 2-1-1 proportional maps","modViz8":"One map above and two below","modViz9":"Two maps above and one below","nolayertext":"No layer selected","no_coverage":"The selected layer does not have coverage in this area of the map","warning":"Warning","print_disabled":"Printing is not available","georef_download_disabled":"Image download is not available","printmap":"Map Printing","georef_download":"Download Georeferenced image","no_layer":"No layer","iberpixcompare_obsolete":"Message to developer: M.plugin.IberpixCompare has been deprecated, please use M.plugin.Comparators instead"}')},function(t){t.exports=JSON.parse('{"exception":{"exists":"No existe direccin asociada para esta ubicacin.","results":"No se han encontrado resultados","ignsearch_obsolete":"Mensaje para el desarrollador: M.plugin.IGNSearch ha quedado obsoleto, utilice en su lugar M.plugin.Locator"},"searchresult":"searchresult","tooltip":"Bsqueda de lugares","tooltip_input":"Topnimo, direccin o cdigo postal","deleteresults":"Borrar resultados de la bsqueda","obtener":"Obtener direccin en un punto del mapa","direccion":"Topnimo, direccin o cdigo postal","aprox":"Direccin aproximada","exact":"Direccin exacta"}')},function(t){t.exports=JSON.parse('{"exception":{"exists":"There is no associated address for this location.","results":"No results found","ignsearch_obsolete":"Message to the developer: M.plugin.IGNSearch has been deprecated, please use M.plugin.Locator instead"},"searchresult":"searchresult","tooltip":"Search places","tooltip_input":"Place name, address or postal code","deleteresults":"Delete search results","obtener":"Get direction at a point on the map","direccion":"Place name, address or postal code","aprox":"Approximate address","exact":"Exact address"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"La implementacin usada no puede crear controles InformationControl.","wrong_coords":"Las coordenadas introducidas no son correctas.","transforming":"Error realizando la transformacin.","mapeaerror":"No es posible establecer la conexin con el servidor de Catastro.","noresults":"No se han encontrado resultados","noubi":"No existe direccin asociada para esta ubicacin.","wrong_values":"Algn valor introducido no es correcto. Recuerda que los minutos y los segundos tienen que tener un valor entre 0 y 59 y los grados entre 0 y 180.","ignsearchlocator_obsolete":"Mensaje para el desarrollador: M.plugin.IGNSearchLocator ha quedado obsoleto, utilice en su lugar M.plugin.Locator"},"informacion":"Informacin","informacionCatastral":"Informacin catastral","errorConexion":"No es posible establecer conexin con el servidor de Catastro.","consultar":"Consultar Catastro","description":"Descripcin","reference":"Referencia catastral","noReference":"No hay referencia","noInfo":"PARA ESAS COORDENADAS NO HAY REFERENCIA DISPONIBLE","searchresult":"searchresult","coordinateresult":"coordinateresult","tooltip":"Bsqueda de lugares","tooltip_input":"Topnimo, direccin o cdigo postal","geographic":"Geograficas","zone":"huso","title":"Buscar por coordenadas","titleparcela":"Buscar parcela/catastro","province":"Provincia","municipality":"Municipio","selectmuni":"Seleccione municipio","selectprov":"Seleccione provincia","estate":"Polgono","plot":"Parcela","search":"Buscar","titlerefCatastral":"Bsqueda referencia catastral","refCastatro":"Referencia catastral","placeHolderRC":"Introduzca los 14  20 dgitos de la RC","consultReference":"Consultar Referencia","srs":"Sistema de coordenadas","longitude":"Longitud","latitude":"Latitud","locate":"Localizar","north":"Norte","south":"Sur","east":"Este","west":"Oeste","dms":"GMS","dd":"GD","negative":"Nota: Los valores negativos se corresponden con latitud sur y longitud oeste respectivamente","notaRef":"Cdigo de parcela (14 primeros dgitos). Ej.9977715VK3797F (edificio del IGN)","RCnull":"Debe introducir una referencia catastral","direccion":"Topnimo, direccin o cdigo postal","obtener":"Obtener direccin en un punto del mapa","buscparcela":"Buscar parcela/catastro","busccoord":"Buscar por coordenadas","borrarresult":"Borrar resultados de la bsqueda","exact":"Direccin exacta","aprox":"Direccin aproximada","debeprov":"Debe seleccionar una provincia.","debemuni":"Debe seleccionar un municipio.","debepoli":"Debe seleccionar un polgono.","debeparce":"Debe seleccionar una parcela.","accessibility":{"province":"Seleccionar una provincia.","town":"Seleccione un municipio.","estate":"Insertar polgono","plot":"Insertar parcela","cadastre":"Insertar catastro","srs":"Seleccionar sistema de coordenadas"}}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"The implementation used cannot create XYLocatorControl.","wrong_coords":"The coordinates entered are not correct.","transforming":"Error performing the transformation.","mapeaerror":"It is not possible to establish a connection with the Cadastre server.","noresults":"No results found","noubi":"There is no associated address for this location.","wrong_values":"Some value entered are not correct. Remember that minutes and seconds must be between 0 and 59 and degrees between 0 and 180.","ignsearchlocator_obsolete":"Message to the developer: M.plugin.IGNSearchLocator has been deprecated, please use M.plugin.Locator instead"},"searchresult":"searchresult","coordinateresult":"coordinateresult","informacion":"Information","informacionCatastral":"Cadastre information","errorConexion":"It is not possible to establish a connection with the Cadastre server.","consultar":"Cadastre information","description":"Description","reference":"Cadastral reference","noReference":"No reference","noInfo":"NO REFERENCES AVAILABLE FOR THESE COORDINATES ","tooltip":"Search places","tooltip_input":"Place name, address or postal code","geographic":"Geographic","zone":"zone","title":"Coordinate locator","titleparcela":"Search parcel/cadastre","municipality":"Municipality","selectmuni":"Select a municipality","selectprov":"Select a province","estate":"Polygon","plot":"Parcel","search":"Search","placeHolderRC":"Enter the 14 or 20 digits of the RC","consultReference":"Consult Reference","titlerefCatastral":"Cadastral reference search","refCastatro":"Cadastral reference","province":"Province","srs":"Coordinate system","longitude":"Longitude","latitude":"Latitude","locate":"Locate","north":"North","south":"South","east":"East","west":"West","dms":"DMS","dd":"DD","negative":"Note: Negative values correspond to south latitude and west longitude respectively ","notaRef":"Parcel code (first 14 digits). Ex.9977715VK3797F (IGN building)","RCnull":"You must enter a cadastral reference","direccion":"Place name, address or postal code","obtener":"Get direction at a point on the map","buscparcela":"Search parcel/cadastre","busccoord":"Search coordinates","borrarresult":"Delete results","exact":"Exact address","aprox":"Approximate address","debeprov":"You must select a province.","debemuni":"You must select a municipality.","debepoli":"You must select an polygon.","debeparce":"You must select a parcel.","accessibility":{"province":"Select a province.","town":"Select a town.","estate":"Insert polygon","plot":"Insert parcel","cadastre":"Insert cadastre","srs":"Select coordinate system"}}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"La implementacin usada no puede crear controles VectorsControl.","unknown_geom":"Geometra no reconocida.","format_not_selected":"No se ha seleccionado formato de descarga.","size":"El fichero seleccionado sobrepasa el mximo de 20 MB permitido.","load":"Error al cargar el fichero.","no_geoms":"No se han detectado geometras en este fichero.","load_correct":"Error al cargar el fichero. Compruebe que se trata del fichero correcto.","extension":"No se ha insertado una extensin de archivo permitida. Las permitidas son: KML, SHP(.zip), GPX, GML y GeoJSON.","not_extent":"No se puede obtener la extensin de la capa.","no_features":"Esta capa todava no tiene ninguna entidad. Aada entidades primero.","query_profile":"No se han podido consultar los datos de altitud para esta entidad.","capabilities":"Ha ocurrido un error al obtener el documento GetCapabilities","valid_url":"Debes indicar una URL vlida","empty":"Los campos estn vacos","error_features_wfs":"No se han podido cargar features de la capa. Intntalo aumentando el nivel de zoom en la zona de inters.","error_no_features_wfs":"No se han podido cargar features de la capa. Intntalo de nuevo en otra zona.","error_wfs":"No se ha podido cargar el servicio WFS","wfs_zoom":"Aumente el nivel de zoom * niveles si quiere aadir este servicio WFS,","error_email":"No se ha podido realizar el envo del email.","error_email_exception":"El mensaje no ha podido ser enviado, posiblemente por el tamao del archivo adjunto.","error_email_size":"El tamao del fichero adjunto es demasiado grande. El tamao mximo de ficheros permitido para correos electrnicos es 25Mb."},"textHelp":{"help1":"La extensin InciCarto permite mandar un objeto geogrfico digitalizado o cargado al visualizador en un correo electrnico.","help2":"La extensin es personalizable, por lon que puede cambiar de un visualizador a otro.","help3":"En el panel inicial de la extensin, se realiza una explicacin de su uso: se digitaliza un punto/lnea/superficie  o se sube un archivo vectorial y se hace click para iniciar con el proceso de mandar la incidencia.","help4":"En el caso simple de la extensin, se puede elegir un tema (asociado a un correo electrnico de destino) y el usuario puede rellenar su nombre, su correo electrnico para un seguimiento, una descripcin y adjuntar un archivo.","help5":"En el caso avanzado, se puede elegir un tema, el tipo de error, el productor y los destinatarios.","help6":"A nivel usuario se puede rellenar el nombre, el correo electrnico al que realizar las notificaciones de seguimiento y la descripcin.","help7":"Adems, se puede adjuntar un archivo al correo.","help8":"Dndole al botn de enviar e-mail, se manda un correo al correo seleccionado en destinatarios.","help9":"Al darle al botn de enviar correo electrnico, llega al destinatario un correo con el contenido de la incidencia rellenado por el usuario, un geojson con la capa digitalizada y el archivo adjunto ene l caso que el usuario haya subido uno.","help10":"La informacin relevante a la extensin y su posible parametrizacin est documentada en","help11":"El ejemplo de uso de sus parmetros puede comprobarse en"},"tooltip":"Notificar incidencia en cartografa","change_name":"Cambiar nombre","close":"Cerrar","info":"Informacin","warning":"Advertencia","coordinates":"Coordenadas","length":"Longitud","area":"rea","zmin":"Alt. min","zmax":"Alt. max","altitude":"Altitud","distance":"Dist. total","ytitle":"Altitud (m)","xtitle":"Distancia (km)","vector_layers":"Capas vectoriales","profile":"Perfil Topogrfico","add_point_layer":"Dibujar incidencias puntuales","add_line_layer":"Dibujar incidencias lineales","add_poly_layer":"Dibujar incidencias superficiales","add_wfs_layer":"Aadir capa WFS","load_layer":"Cargar ruta o capa","point_layer":"Capa incidencias puntuales","line_layer":"Capa incidencias lineales","poly_layer":"Capa incidencias superficiales","show_hide":"Ver/Ocultar","add_geom":"Aadir geometra a la incidencia","edit_geom":"Editar geometra de la incidencia","edit_geom_line":"Editar/Perfil","layer_zoom":"Zoom a la incidencia","download_layer":"Descargar capa","notify_err":"Notificar incidencia","delete_layer":"Eliminar incidencia","color":"Color","thickness":"Grosor","line":"Trazo","delete_geom":"Borrar geometra","query_profile":"Perfil topogrfico","accepted":"Los formatos aceptados son KML, SHP (.zip), GPX, GML y GeoJSON.","select_file":"Selecciona el fichero","download":"Descargar","notifyerr":"Enviar incidencia","change":"Cambiar","expand":"Mostrar","collapse":"Ocultar","url_service":"URL del servicio","query":"Consultar","clean":"Limpiar bsqueda","select_service":"Selecciona una capa","select":"Seleccionar","loading":"Cargando","cancel":"Cancelar","reload_from_view":"Recargar desde la vista","loaded_services":"Servicios precargados","availables":"Servicios precargados disponibles","show_service_info":"Mostrar informacin del servicio","hide_service_info":"Ocultar informacin del servicio","title":"Ttulo","abstract":"Resumen","responsible":"Responsable","access_constraints":"Restricciones de acceso","symbology":"Simbologa","symbology_profile":"Simbologa/Perfil","generating_profile":"Generando perfil","calculate":"Calcular","calculating":"Calculando","try_again":"No se ha podido realizar la consulta. Por favor, intntelo de nuevo ms tarde","email_correct":"El correo con la incidencia se ha enviado correctamente.","sending_email":"El correo est siendo enviado..."}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"The implementation used cannot create VectorsControl controls.","unknown_geom":"Unrecognized geometry.","format_not_selected":"No download format selected.","size":"The selected file exceeds the maximum 20 MB allowed.","load":"Error when loading the file.","no_geoms":"No geometries have been detected in this file.","load_correct":"Error when loading the file. Check that it is the right file.","extension":"A not allowed file extension has been inserted. The allowed ones are: KML, SHP(.zip), GPX, GML and GeoJSON.","not_extent":"Cannot get the layer extension.","no_features":"This layer does not yet have any entities. Add entities first.","query_profile":"The altitude data for this entity could not be queried.","capabilities":"An error has occurred in obtaining the GetCapabilities document","valid_url":"You must provide a valid URL","empty":"The fields are empty","error_features_wfs":"Unable to load layer features. Try increasing the zoom level in the area of interest.","error_no_features_wfs":"Unable to load layer features. Try again in another area.","error_wfs":"Could not load WFS service","wfs_zoom":"Increase the zoom in * levels if you want to add this WFS service","error_email":"The email could not be sent.","error_email_exception":"The message could not be sent, possibly due to the size of the attached file.","error_email_size":"The size of the attached file is too large. The maximum file size allowed for emails is 25Mb."},"textHelp":{"help1":"The InciCarto extension allows you to send a digitized or uploaded geographic object to the viewer in an email.","help2":"The extension is customizable, so it can change from one viewer to another.","help3":"In the initial panel of the extension, an explanation of its use is made: a point/line/surface is digitized or a vector file is uploaded and click to start the process of sending the incident.","help4":"In the simple case of the extension, you can choose a topic (associated with a destination email) and the user can fill in their name, their email for follow-up, a description and attach a file.","help5":"In the advanced case, you can choose a topic, the type of error, the producer and the recipients.","help6":"At the user level you can fill in the name, the email to which follow-up notifications are sent and the description.","help7":"In addition, you can attach a file to the email.","help8":"Clicking the send email button sends an email to the selected recipient email address.","help9":"When you click the send email button, the recipient receives an email with the content of the incident filled out by the user, a geojson with the digitized layer and the attached file in case the user has uploaded one. ","help10":"The information relevant to the extension and its possible parameterization is documented in","help11":"The example of use of its parameters can be checked in"},"tooltip":"Report error in cartography","change_name":"Change name","close":"Close","info":"Information","warning":"Warning","coordinates":"Coordinates","length":"Length","area":"Area","zmin":"Min. Height","zmax":"Max. Height","altitude":"Height","distance":"Total Dist.","ytitle":"Height (m)","xtitle":"Distance (km)","vector_layers":"Vector layers","profile":"Topographic Profile","add_point_layer":"Drawing points","add_line_layer":"Drawing lines","add_poly_layer":"Drawing polygons","add_wfs_layer":"Add WFS layer","load_layer":"Load route or layer","point_layer":"Point layer","line_layer":"Linear layer","poly_layer":"Polygonal layer","show_hide":"Show/Hide","add_geom":"Add geometry","edit_geom":"Edit geometry","edit_geom_line":"Edit/Profile","layer_zoom":"Zoom to the layer","download_layer":"Download layer","notify_err":"Reporting error","delete_layer":"Remove layer","color":"Color","thickness":"Thickness","line":"Stroke","delete_geom":"Remove geometry","query_profile":"Topographic profile","accepted":"The accepted formats are KML, SHP (.zip), GPX, GML and GeoJSON.","select_file":"Select the file","download":"Download","notifyerr":"Enviar incidencia","change":"Change","expand":"Show","collapse":"Hide","url_service":"Service URL","query":"Consult","clean":"Clean search","select_service":"Select layer","select":"Select","loading":"Loading","cancel":"Cancel","reload_from_view":"Reload from the view","loaded_services":"Preloaded services","availables":"Preloaded services available","show_service_info":"Show service information","hide_service_info":"Hide service information","title":"Title","abstract":"Abstract","responsible":"Responsible","access_constraints":"Access constraints","symbology":"Symbology","symbology_profile":"Symbology/Profile","generating_profile":"Generating profile","calculate":"Calculate","calculating":"Calculating","try_again":"The query could not be executed. Please try again later","email_correct":"The email with the incident has been sent correctly.","sending_email":"The email is being sent..."}')},function(t){t.exports=JSON.parse('{"tooltip":"Consultar Catastro","informacionCatastral":"Informacin catastral","errorConexion":"No es posible establecer conexin con el servidor de Catastro.","consultar":"Consultar Catastro","infocatastro_obsolete":"Mensaje para el desarrollador: M.plugin.InfoCatastro ha quedado obsoleto, utilice en su lugar M.plugin.Locator","description":"Descripcin","reference":"Referencia catastral","noReference":"No hay referencia","noInfo":"PARA ESAS COORDENADAS NO HAY REFERENCIA DISPONIBLE"}')},function(t){t.exports=JSON.parse('{"tooltip":"Cadastre information","informacionCatastral":"Cadastre information","errorConexion":"It is not possible to establish a connection with the Cadastre server.","consultar":"Cadastre information","infocatastro_obsolete":"Message to the developer: M.plugin.InfoCatastro has been deprecated, please use M.plugin.Locator instead","description":"Description","reference":"Cadastral reference","noReference":"No reference","noInfo":"NO REFERENCES AVAILABLE FOR THESE COORDINATES "}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"La implementacin no puede crear controles de Infocoordinates"},"textHelp":{"help1":"Haga clic en el mapa para obtener las coordenadas de un punto en el sistema de referencia seleccionado.","help2":"Si hace clic en varios lugares puede obtener las coordenadas de varios puntos.","help3":"1. CRS. Selecciona el sistema de coordenadas en el que se muestran las coordenadas de los puntos. Las coordenadas se muestran tanto proyectadas como en geogrficas Estas ltimas pueden ser mostradas en notacin decimal como sexagesimal.","help4":"Los sistemas de referencia y los sistemas de proyeccin disponibles son los oficiales para el territorio nacional:","help5":"Para Pennsula y Baleares.","help6":"Para las Islas Canarias.","help7":"Adicionalmente se ofrecen coordenadas en EPSG 3857: WGS 84 / Pseudo-Mercator que empiezan a ser habituales en algunos visualizadores geogrficos, si bien, no son oficiales en Espaa.","help8":"2. Informacin de un punto. Puede consultar la coordenadas de cada punto haciendo clic sobre el nmero correspondiente en el panel de \'Informacin de Coordenadas\'.","help9":"3. Eliminar punto. Borrar el punto actual.","help10":"4. Elimina todos los puntos. Borra todos los puntos y reinicia la numeracin.","help11":"5. Mostrar coordenadas en pantalla. Muestra u oculta las coordenadas de los puntos sobre el mapa.","help12":"La informacin relevante a la extensin y su posible parametrizacin est documentada en","help13":"El ejemplo de uso de sus parmetros puede comprobarse en"},"tooltip":"Informacin Coordenadas","title":"Informacin Coordenadas","point":"Punto:","datum":"Datum:","latitude":"Latitud:","longitude":"Longitud:","formatCoordinates":"GMS","coordX":"Coord.X (m):","coordY":"Coord.Y (m):","altitude":"Altitud (m):","readingAltitude":"Consultando...","noDatafromWCS":"Sin datos","removePoint":"Elimina el punto","copyLatLon":"Copiar latitud/longitud","copyxy":"Copiar x/y","removeAllPoints":"Elimina todos los puntos","importAllPoints":"Exportar todos los puntos","copyAllPoints":"Copiar todos los puntos","displayONAllPoints":"Mostrar coordenadas de todos los puntos","displayOFFAllPoints":"Ocultar coordenadas de todos los puntos","clipboard":"Resultado copiado al portapapeles"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"The implementation used cannot create Infocoordinates controls."},"textHelp":{"help1":"Click on the map to obtain the coordinates of a point in the selected reference system.","help2":"If you click on multiple places you can get the coordinates of multiple points.","help3":"1. CRS. Select the coordinate system in which the coordinates of the points are displayed. The coordinates are displayed both projected and geographical. The latter can be displayed in decimal notation as well as sexagesimal.","help4":"The reference systems and projection systems available are the official ones for the national territory:","help5":"For the Peninsula and the Balearic Islands.","help6":"For the Canary Islands.","help7":"Additionally, coordinates are offered in EPSG 3857: WGS 84 / Pseudo-Mercator, which are beginning to be common in some geographic viewers, although they are not official in Spain.","help8":"2. Point information. You can check the coordinates of each point by clicking on the corresponding number in the \'Coordinate Information\' panel.","help9":"3. Delete point. Delete the current point.","help10":"4. Delete all points. Delete all points and restart the numbering.","help11":"5. Show coordinates on screen. Show or hide the coordinates of points on the map.","help12":"The information relevant to the extension and its possible parameterization is documented in","help13":"The example of use of its parameters can be checked in"},"tooltip":"Coordinates Information","title":"Coordinates Information","point":"Point:","datum":"Datum:","latitude":"Latitude:","longitude":"Longitude:","formatCoordinates":"DMS","coordX":"Coord.X (m):","coordY":"Coord.Y (m):","altitude":"Altitude (m):","readingAltitude":"Reading...","noDatafromWCS":"No data","removePoint":"Removes point","copyLatLon":"Copy latitude/longitude","copyxy":"Copy x/y","removeAllPoints":"Remove all points","importAllPoints":"Export all points","copyAllPoints":"Copy all points","displayONAllPoints":"Show coordinates of all points","displayOFFAllPoints":"Hide coordinates of all points","clipboard":"Result copied to clipboard"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"La implementacin usada no puede crear controles InformationControl."},"textHelp":{"help1":"Proporciona informacin adicional sobre los elementos de las capas, en el caso en el que el servicio permita la operacin de consulta.","help2":"Se realiza por una peticin de informacin al servicio de mapas a travs de la operacin getFeatureInfo. Tambin es posible pedir informacin a ficheros vectoriales como .geojson o .kml","help3":"Seleccione la herramienta y haga clic sobre el elemento del que desee conocer ms informacin. En el panel, aparecern las capas que dispongan de informacin en el punto.","help4":"Utilice la flecha para desplegar toda la informacin disponible de cada capa.","help5":"Si no existen capas consultables, al hacer clic sobre el mapa aparece el siguiente mensaje informativo.","help6":"La informacin relevante a la extensin y su posible parametrizacin est documentada en","help7":"El ejemplo de uso de sus parmetros puede comprobarse en"},"tooltip":"Consultar capas","title":"Informacin","not_queryable":"No existen capas consultables","querying":"Obteniendo informacin...","unsupported_format":"Formato no soportado","no_info":"No existe informacin asociada","info_of":"Informacin de"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"The implementation used cannot create InformationControl."},"textHelp":{"help1":"Provides additional information about layer elements, in the case where the service allows the query operation.","help2":"It is done by requesting information from the map service through the getFeatureInfo operation. It is also possible to request information from vector files such as .geojson or .kml","help3":"Select the tool and click on the element you want to know more information about. The layers that have information on the point will appear in the panel.","help4":"Use the arrow to display all the available information for each layer.","help5":"If there are no searchable layers, clicking on the map displays the following information message.","help6":"The information relevant to the extension and its possible parameterization is documented in","help7":"The example of use of its parameters can be checked in"},"tooltip":"Consult layers","title":"Information","not_queryable":"There are no queryable layers","querying":"Getting information...","unsupported_format":"Unsupported format","no_info":"No associated info","info_of":"Information about"}')},function(t){t.exports=JSON.parse('{"tooltip":"Comparador de capas","tooltip_vcurtain":"Cortina vertical","tooltip_hcurtain":"Cortina horizontal","tooltip_multicurtain":"Multivista","layers":"Capas","radius":"Radio","opacity":"Opacidad","static":"Esttico","dynamic":"Dinmico","mixed":"Mixto","layer":"Capa","opacity_tooltip":"Opacidad de las capas que se comparan (0-100%)","dynamic_tooltip":"La divisin la marca la posicin del cursor","mixed_tooltip":"La divisin se arrastra con el ratn","static_tooltip":"La divisin es fija en el centro del mapa","lyr1Select_tooltip":"Selecciona la capa de la posicin 1","lyr2Select_tooltip":"Selecciona la capa de la posicin 2","lyr3Select_tooltip":"Selecciona la capa de la posicin 3","lyr4Select_tooltip":"Selecciona la capa de la posicin 4","advice_sameLayer":"No puede cargarse la misma capa en varios sitios","no_layers_plugin":"El nmero de capas es insuficiente para aplicar el efecto","repeated_layers":"Las capas seleccionadas no se pueden repetir","lyrcompare_obsolete":"Mensaje para el desarrollador: M.plugin.LyrCompare ha quedado obsoleto, utilice en su lugar M.plugin.Comparators"}')},function(t){t.exports=JSON.parse('{"tooltip":"Layer Comparison","tooltip_vcurtain":"Vertical curtain","tooltip_hcurtain":"Horizontal curtain","tooltip_multicurtain":"Multi curtain","layers":"Layehrs","radius":"Radius","opacity":"Opacity","static":"Static","dynamic":"Dynamic","mixed":"Mixed","layer":"Layer","opacity_tooltip":"Opacity of the layers (0-100%)","dynamic_tooltip":"Division between layers is fixed by mouse position","mixed_tooltip":"Division between layers is dragged by mouse","static_tooltip":"Division between layers is fixed 50%","lyr1Select_tooltip":"Select layer on the first position","lyr2Select_tooltip":"Select layer on the second position","lyr3Select_tooltip":"Select layer on the third position","lyr4Select_tooltip":"Select layer on the fourth position","advice_sameLayer":"One layer in different places is not allowed","no_layers_plugin":"The number of layers is insufficient to apply the effect","repeated_layers":"Selected layers cannot be repeated","lyrcompare_obsolete":"Message to developer: M.plugin.LyrCompare has been deprecated, please use M.plugin.Comparators instead"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"La implementacin usada no puede crear controles LayerswitcherControl.","extent":"No se puede obtener la extensin de la capa","capabilities":"Ha ocurrido un error al obtener el documento GetCapabilities","ogcfeatures":"La url proporcionada no se corresponde con un tipo de capa vlida","only_http":"Slo se permiten servicios http","only_https":"Slo se permiten servicios https","no_http_https":"No se permiten servicios http ni https","valid_url":"Debes indicar una URL vlida","empty":"Los campos estn vacos","select_layer":"Debes seleccionar al menos una capa","no_results":"No se han encontrado capas en este servicio","codsi":"Ha ocurrido un error al consultar el catlogo CODSI","codsi_no_results":"No hay resultados para su bsqueda"},"textHelp":{"help1":"La extensin selector de capas permite gestionar las capas que se muestran en un visualizador cartogrfico.","help2":"Esta extensin es personalizable mediante parmetros, por lo que la extensin puede cambiar de un visualizador a otro.","help3":"Las distintas herramientas disponibles en el selector de capas son:","help4":"Aadir capa:","help5":"La primer opcin es la de introducir la URL de un servicio en la caja de texto. Para ello, partiendo del directorio de servicios IDEE (https://www.idee.es/segun-tipo-de-servicio) por ejemplo, utilizando el servicio de Mosaicos de Satlite histricos de Espaa (https://wms-satelites-historicos.idee.es/satelites-historicos). Al darle a la lupa de buscar, aparece un listado de capas disponibles en el servicio. En este ejemplo, se elije la capa \'filomena\' y se le da a aadir:","help6":"En el caso que se quisieran ms capas, se podran seleccionar todas las que se quisieran. Una vez aadida, tendramos el siguiente aspecto en el visualizador:","help7":"Otra forma de cargar capas es desde el catlogo de servicios d ela IDEE (https://www.idee.es/csw-inspire-idee/srv/spa/catalog.search#/home). Haciendo click sobre el botn de los prismticos, aparecer otro buscador por texto y un listado de posibilidades. Por ejemplo si buscamos \'unidades administrativas IGN\'","help8":"y hacemos click sobre \'WMS de Unidades Administrativas de Espaa\', podremos cargar las capas del servicio buscado:","help9":"Por ltimo, se pueden cargar capas desde un listado de algunas capas disponibles, que se configura por temticas. En el ejemplo mostrado, se va a cargar la primera edicin del MTN 50 que se encuentra en cartografa:","help10":"Aparecer de nuevo el selector de capas del servicio, y se marca la primera edicin del MTN 50 y se aade al mapa:","help11":"Una vez se tienen cargadas en el mapa las capas, se puede trabajar con ellas desde el selector de capas.","help12":"La primera funcionalidad sera la de encender las capas, esto se puede hacer desde el botn ojo amarillo que permite encender y apagar todas, o desde los distintos botones ojo verde-rojo para encender o apagar solo una capa:","help13":"Otra funcionalidad sera eliminar la capa, desde el botn del cubo de basura.","help14":"Dentro de las opciones de una capa visible, se tienen las herramientas de aadir transparencia a la capa:","help15":"mostrar la leyenda de la capa:","help16":"centrar el visualizador a la extensin de la capa:","help17":"obtener ms informacin de la capa:","help18":"y en el caso que la capa lo permita, poder aplicarle otro estilo cartogrfico:","help19":"La informacin relevante a la extensin y su posible parametrizacin est documentada en","help20":"El ejemplo de uso de sus parmetros puede comprobarse en"},"tooltip":"Gestor de capas","info":"Informacin","layer_info":"Informacin de la capa","configure_layer":"Configurar capa","close":"Cerrar","load_ext_services":"Cargar capas de informacin geogrfica","layers":"Capas","add_service":"Aadir servicio","show_hide":"Mostrar/Ocultar leyenda","zoom":"Zoom a la capa","info_metadata":"Ver informacin","change_style":"Cambiar estilo","remove_layer":"Eliminar capa del mapa","select_style":"Selecciona un estilo","change":"Cambiar","url_service":"Incluir URL del servicio a cargar","query":"Consultar","loaded_services":"Capas de informacin geogrfica","codsi_services":"Catlogo de Servicios","clean":"Limpiar bsqueda","availables":"Listado de algunas capas disponibles","title":"Ttulo","name":"Nombre","abstract":"Resumen","provider":"Proveedor","service_info":"Informacin del servicio (Capabilities)","download_center":"Centro de descargas","add":"Aadir","drag_drop":"Arrastre y suelte para cambiar el orden de visualizacin","see_more":"Mostrar metadato del conjunto de datos","see_less":"Ocultar metadato del conjunto de datos","service":"Servicio","metadata_abstract":"Resumen (metadato)","responsible":"Responsable","access_constraints":"Restricciones de acceso","use_constraints":"Restricciones de uso","online_resources":"Recursos online","show_service_info":"Mostrar informacin del servicio","hide_service_info":"Ocultar informacin del servicio","hide_service":"Ocultar servicio","show_service":"Mostrar servicio","show_all_services":"Mostrar todos los servicios","hide_all_services":"Ocultar todos los servicios","type_service":"Tipo de servicio","filter_results":"Filtrar resultados","clean_filter":"Limpiar filtro","filter_text":"Texto a buscar","metadata":"Metadatos","see_more_layer":"Ver ms informacin de la capa","see_more_service":"Ver ms informacin del servicio","select_service":"Selecciona una capa","amount_results":"Obtener ","amount_results_2":" elementos","bbox-select":"Solo de la extensin actual","no-limit":"Obtener todos los elementos","custom_query":"Consulta personalizada","no_results":"No se han encontrado resultados","search":"Buscar","yes":"S","no":"No","filters":"Filtros","other_filters":"Otros filtros","id_filter":"Filtrar por ID","warning":"ADVERTENCIA: No se recomiendan lmites altos","add_btn":"Aadir","custom_query_btn":"Ms filtros","apply_btn":"Aplicar","style":"Estilo","default_style":"Estilo predeterminado","selected":"seleccionado","custom_query_warning":"ATENCIN: La opcin buscar por Ms filtros se basa en un estndar en estado borrador. El resultado de la consulta puede no ser el deseado.","check_results":"Comprobar resultados","results_1_plural":"Se han encontrado ","results_2_plural":" features","results_1_singular":"Se ha encontrado ","results_2_singular":" feature","legend":"Leyenda","legend_error":"Error en la leyenda","data_layer":"Datos para la capa","n_obj_geo":"Nmero de objetos geogrficos","extension":"Extensin","loading":"Cargando","attributes":"Atributos","values":"Valores","attribution":"Atributo","description":"Descripcin","minzoom":"Zoom mnimo","maxzoom":"Zoom mximo","center":"Centro","addAllLayers":"Aadir todos los servicios","previous":"Anterior","next":"Siguiente","separatedby":"Identificador separados por comas \',\'","placeHolderLegend":"Texto que se muestra en el TOC","upload_file":"Subir fichero"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"The implementation used cannot create LayerswitcherControl.","extent":"Cannot get the extent of the layer","capabilities":"An error has occurred in obtaining the GetCapabilities document","ogcfeatures":"The provided url does not correspond to a valid layer type","only_http":"Only http services are allowed","only_https":"Only https services are allowed","no_http_https":"No http or https services allowed","valid_url":"You must provide a valid URL","empty":"The fields are empty","select_layer":"You must select at least one layer","no_results":"No layers found in this service","codsi":"An error occurred while consulting the CODSI catalog","codsi_no_results":"There are no results for your search"},"textHelp":{"help1":"The layer selector extension allows you to manage the layers displayed in a cartographic viewer.","help2":"This extension is customizable via parameters, so the extension can change from one viewer to another.","help3":"The different tools available in the layer selector are:","help4":"Add layer:","help5":"The first option is to enter the URL of a service in the text box. To do this, start from the IDEE services directory (https://www.idee.es/segun-tipo-de-servicio ) for example, using the Historical Satellite Mosaics service of Spain (https://wms-satelites-historicos.idee.es/satelites-historicos). When you click the search magnifying glass, a list of available layers appears in the service. In this example, we choose the \'filomena\' layer and add:","help6":"If you wanted more layers, you could select as many as you wanted. Once added, we would have the following appearance in the viewer:","help7":"Another way to load layers is from the IDEE service catalog (https://www.idee.es/csw-inspire-idee/srv/spa/catalog.search#/home). Click On the binoculars button, another text search engine and a list of possibilities will appear. For example, if we search for \'IGN administrative units\'","help8":"and we click on \'WMS of Administrative Units of Spain\', we can load the layers of the searched service:","help9":"Finally, layers can be loaded from a list of some available layers, which is configured by theme. In the example shown, the first edition of MTN 50 that is in cartography will be loaded:","help10":"The service layer selector will appear again, and the first edition of MTN 50 is marked and added to the map:","help11":"Once the layers are loaded into the map, you can work with them from the layer selector.","help12":"The first functionality would be to turn on the layers, this can be done from the yellow eye button that allows you to turn all of them on and off, or from the different green-red eye buttons to turn on or off just one layer:","help13":"Another functionality would be to delete the layer, from the trash can button.","help14":"Within the options of a visible layer, you have the tools to add transparency to the layer:","help15":"show layer legend:","help16":"center the viewer to the extent of the layer:","help17":"get more layer information:","help18":"and if the layer allows it, be able to apply another cartographic style:","help19":"The information relevant to the extension and its possible parameterization is documented in","help20":"The example of use of its parameters can be checked in"},"tooltip":"Layer Manager","info":"Information","layer_info":"Layer information","configure_layer":"Configure layer","close":"Close","load_ext_services":"Load geographic information layers","layers":"Layers","add_service":"Add service","show_hide":"Show/Hide legend","zoom":"Zoom to the layer","info_metadata":"View information","change_style":"Change style","remove_layer":"Remove layer from map","select_style":"Select a style","change":"Change","url_service":"Include URL of the service to load","query":"Consult","loaded_services":"Preloaded geographic information layers","codsi_services":"Services Catalog","clean":"Clean search","availables":"List of some available layers","title":"Title","name":"Name","abstract":"Abstract","provider":"Provider","service_info":"Service information (Capabilities)","download_center":"Download center","add":"Add","drag_drop":"Drag and drop to change display order","see_more":"Show dataset metadata","see_less":"Hide dataset metadata","service":"Service","metadata_abstract":"Abstract (metadata)","responsible":"Responsible","access_constraints":"Access constraints","use_constraints":"Use constraints","online_resources":"Online resources","show_service_info":"Show service information","hide_service_info":"Hide service information","hide_service":"Hide service","show_service":"Show service","show_all_services":"Show all services","hide_all_services":"Hide all services","type_service":"Tipo de servicio","filter_results":"Filter results","clean_filter":"Clean filter","filter_text":"Text to search","metadata":"Metadata","see_more_layer":"View more information about the layer (Metadata)","see_more_service":"View more service information (Metadata)","select_service":"Select layer","amount_results":"Get ","amount_results_2":" elements","bbox-select":"Find features within rendered map","no-limit":"Get all results","custom_query":"Custom query","no_results":"No results found","search":"Search","yes":"S","no":"No","filters":"Filters","other_filters":"Other filters","id_filter":"Filter by ID","warning":"WARNING: High limits are not recommended","add_btn":"Add","custom_query_btn":"More filters","apply_btn":"Apply","style":"Style","default_style":"Default style","selected":"selected","custom_query_warning":"WARNING: Filtering by \\"More filters\\" it is based on a draft standard. The result of the query may not be as desired.","check_results":"Check results","results_1_plural":"","results_2_plural":" features have been found.","results_1_singular":"","results_2_singular":" feature has been found.","legend":"Legend","legend_error":"Error in legend","data_layer":"Data for GeoJSON layer","n_obj_geo":"Number of geographical objects","extension":"Extension","loading":"Loading","attributes":"Attributes","values":"Values","attribution":"Attribute","description":"Description","minzoom":"Minimum zoom","maxzoom":"Maximum zoom","center":"Center","addAllLayers":"Add all services","previous":"Previous","next":"Next","separatedby":"Identifier separated by commas \',\'","placeHolderLegend":"Text displayed in TOC","upload_file":"Upload file"}')},function(t){t.exports=JSON.parse('{"exception":{"impl_length":"La implementacin usada no puede crear controles MeasureLength.","impl_clear":"La implementacin usada no puede crear controles MeasureClear.","impl_area":"La implementacin usada no puede crear controles MeasureArea"},"textHelp":{"help1":"Mide longitudes y superficies sobre el mapa.","help2":"1. Medir distancias.","help3":"2. Medir rea.","help4":"3. Borrar Medidas.","help5":"Haga clic sobre la herramienta para seleccionarla y luego sobre el mapa para dibujar la distancia que quiere medir. A medida que se va dibujando se va actualizando la longitud total.","help6":"Haga doble clic para terminar la medicin de distancia, y empezar otra.","help7":"Con la tecla Escape se desactiva la herramienta y se borra la medicin activa. Esto puede ser til para reiniciar la herramienta si se ha cometido un error en la ltima medicin, sin borrar el resto de mediciones ya realizadas.","help8":"La herramienta se queda activa hasta que la desactive, haciendo clic de nuevo sobre el botn \'Medir distancias\'.","help9":"Haga clic sobre la herramienta para seleccionarla y luego sobre el mapa para dibujar el rea que quiere medir. A medida que se va dibujando se va actualizando la superficie medida.","help10":"Haga doble clic para terminar la medicin de rea, y empezar otra.","help11":"Con la tecla Escape se desactiva la herramienta y se borra la medicin activa. Esto puede ser til para reiniciar la herramienta si se ha cometido un error en la ltima medicin, sin borrar el resto de mediciones ya realizadas.","help12":"La herramienta se queda activa hasta que la desactive, haciendo clic de nuevo sobre el botn \'Medir rea\'.","help13":"Borra todas las mediciones realizadas, tanto reas como distancias.","help14":"La informacin relevante a la extensin y su posible parametrizacin est documentada en","help15":"El ejemplo de uso de sus parmetros puede comprobarse en"},"text":{"tooltip":"Herramientas de medicin","keep_drawing":"Click para continuar dibujando la lnea","click_draw":"Click para empezar a dibujar","keep_drawing_area":"Click para continuar dibujando el rea","measure_area":"Medir rea","delete":"Borrar medidas","measure":"Medir distancias"}}')},function(t){t.exports=JSON.parse('{"exception":{"impl_length":"The implementation used cannot create MeasureLength.","impl_clear":"The implementation used cannot create MeasureClear.","impl_area":"The implementation used cannot create MeasureArea"},"textHelp":{"help1":"Measure lengths and surfaces on the map.","help2":"1. Measure distances.","help3":"2. Measure area.","help4":"3. Delete Measurements.","help5":"Click on the tool to select it and then on the map to draw the distance you want to measure. As you draw, the total length is updated.","help6":"Double click to finish the distance measurement, and start another one.","help7":"Using the Escape key deactivates the tool and deletes the active measurement. This can be useful to restart the tool if an error was made in the last measurement, without deleting the rest of the measurements already made.","help8":"The tool remains active until you deactivate it by clicking the \'Measure distances\' button again.","help9":"Click on the tool to select it and then on the map to draw the area you want to measure. As you draw, the measured area is updated.","help10":"Double click to finish area measurement, and start another one.","help11":"Using the Escape key deactivates the tool and deletes the active measurement. This can be useful to restart the tool if an error was made in the last measurement, without deleting the rest of the measurements already made.","help12":"The tool remains active until you deactivate it by clicking the \'Measure area\' button again.","help13":"Delete all measurements made, both areas and distances.","help14":"The information relevant to the extension and its possible parameterization is documented in","help15":"The example of use of its parameters can be checked in"},"text":{"tooltip":"Measurement tools","keep_drawing":"Click to continue drawing the line","click_draw":"Click to start drawing","keep_drawing_area":"Click to continue drawing the area","measure_area":"Measure area","delete":"Remove measures","measure":"Measuring distances"}}')},function(t){t.exports=JSON.parse('{"tooltip":"Comparador de mapas espejo","title":"Mapas espejo","modViz0":"Mapa standard","modViz1":"Dos mapas en vertical","modViz2":"Dos mapas en horizontal","modViz3":"Tres mapas en vertical","modViz4":"Cuatro mapas en vertical","modViz5":"Mosaico de mapas","modViz6":"Cuatro mapas en horizontal","modViz7":"Tres mapas en proporcin 2-1-1","modViz8":"Un mapa arriba y dos abajo","modViz9":"Dos mapas arriba y uno abajo","backimglayersparams_undefined":"Los parmetros de BackImgLayers no estn definidos correctamente.","mirrorpanel_obsolete":"Mensaje para el desarrollador: M.plugin.Mirrorpanel ha quedado obsoleto, utilice en su lugar M.plugin.Comparators"}')},function(t){t.exports=JSON.parse('{"tooltip":"Mirror Comparison","title":"Mirror Maps","modViz0":"Standard map","modViz1":"Vertical two maps","modViz2":"Horizontal two maps","modViz3":"Vertical three maps","modViz4":"Vertical four maps","modViz5":"Mosaic maps","modViz6":"Horizontal four maps","modViz7":"Vertical 2-1-1 proportional maps","modViz8":"One map above and two below","modViz9":"Two maps above and one below","backimglayersparams_undefined":"BackImgLayers\' parameters are not defined correctly.","mirrorpanel_obsolete":"Message to developer: M.plugin.Mirrorpanel has been deprecated, please use M.plugin.Comparators instead"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"La implementacin usada no puede crear controles MouseSRSControl.","srs":"Plugin MouseSRS: El parmetro srs no es correcto. Por defecto se usar EPSG:4326"},"textHelp":{"help1":"Para seleccionar el sistema de coordenadas basta con hacer clic en cualquier punto de la barra.","help2":"Los valores disponibles son:","help3":"Unidades: grados","help4":"Unidades: metros","help5":"Ms informacin sobre sistemas de referencia en:","help6":"Segn el sistema de coordenadas elegido visualizaremos coordenadas geogrficas en grados con formato decimal o proyectadas en metros. Tambin se muestra la altura aproximada sobre el nivel del mar en Alicante.","help7":"La informacin relevante a la extensin y su posible parametrizacin est documentada en","help8":"El ejemplo de uso de sus parmetros puede comprobarse en"},"tooltip":"Coordenadas","select_srs":"Selecciona un sistema de referencia","close":"Cerrar","accessibility":{"src":"Clic o Enter para modificar el EPSG"}}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"The implementation used cannot create MouseSRSControl.","srs":"MouseSRS plugin: The srs parameter is not correct. By default EPSG:4326 will be used"},"textHelp":{"help1":"To select the coordinate system just click on any point on the bar.","help2":"The available values are:","help3":"Units: degrees","help4":"Units: meters","help5":"More information about reference systems in:","help6":"Depending on the chosen coordinate system, we will display geographic coordinates in degrees with decimal format or projected in meters. The approximate height above sea level in Alicante is also shown.","help7":"The information relevant to the extension and its possible parameterization is documented in","help8":"The example of use of its parameters can be checked in"},"tooltip":"Coordinates","select_srs":"Select a reference system","close":"Close","accessibility":{"src":"Click or Enter to modify the EPSG"}}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"La implementacin usada no puede crear controles OverviewMapControl."},"textHelp":{"help1":"Muestra una vista general con un recuadro que corresponde a la zona donde nos encontramos en la vista principal.","help2":"El recuadro del mapa de situacin est sincronizado con la vista principal. Permite desplazar la vista principal, moviendo el recuadro desde el mapa de situacin.","help3":"Para ocultar de nuevo el mapa de situacin haga clic en el botn \'Minimizar\'.","help4":"La informacin relevante a la extensin y su posible parametrizacin est documentada en","help5":"El ejemplo de uso de sus parmetros puede comprobarse en"},"tooltip":"Mapa de situacin"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"The implementation used cannot create OverviewMapControl."},"textHelp":{"help1":"Shows a general view with a box that corresponds to the area where we are in the main view.","help2":"The situation map box is synchronized with the main view. Allows you to scroll the main view, moving the box from the situation map.","help3":"To hide the location map again, click the \'Minimize\' button.","help4":"The information relevant to the extension and its possible parameterization is documented in","help5":"The example of use of its parameters can be checked in"},"tooltip":"Overview Map"}')},function(t){t.exports=JSON.parse('{"exception":{"popup_obsolete":"Mensaje para el desarrollador: M.plugin.Popup ha quedado obsoleto, utilice en su lugar M.plugin.Modal"},"tooltip":"Ms informacin","exception_popupcontrol":"La implementacin usada no puede crear controles PopupControl"}')},function(t){t.exports=JSON.parse('{"exception":{"popup_obsolete":"Message to the developer: M.plugin.Popup has been deprecated, please use M.plugin.Modal instead"},"tooltip":"More information","exception_popupcontrol":"The implementation used cannot create PopupControl controls"}')},function(t){t.exports=JSON.parse('{"exception_predefinedzoomcontrol":"La implementacin usada no puede crear controles PredefinedZoomControl","predefinedzoom_obsolete":"Mensaje para el desarrollador: M.plugin.PredefinedZoom ha quedado obsoleto, utilice en su lugar M.plugin.ViewManagement"}')},function(t){t.exports=JSON.parse('{"exception_predefinedzoomcontrol":"The implementation used cannot create controls PredefinedZoomControl","predefinedzoom_obsolete":"Message to the developer: M.plugin.PredefinedZoom has been deprecated, please use M.plugin.ViewManagement instead"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"La implementacin usada no puede crear controles PrinterMap.","encode":"La implementacin usada no posee el mtodo encodeLayer.","tile":"La peticin de alguna tesela ha provocado un error en la impresin. <br/>Por favor, intntelo de nuevo.","error":"Se ha producido un error en la impresin.","imageError":"No ha podido realizarse la descarga en este momento. Por favor, intntelo ms tarde.","error_layers":"Las siguientes capas no se visualizarn al imprimir el mapa: ","printermap_obsolete":"Mensaje para el desarrollador: M.plugin.printermap ha quedado obsoleto, utilice en su lugar M.plugin.PrintViewManagement"},"errorProjectionCapabilities":"La proyeccion seleccionada no est disponible para esta capa base. Por favor elija otra proyeccin.","tooltip":"Impresin del mapa","credits":"Impresin generada a travs del api-core","no_title":"(Sin ttulo)","zone":"huso","base":"Cartografa base","title":"Ttulo","description":"Descripcin","layout":"Plantilla","format":"Formato","projection":"Proyeccin","keep":"Conservar vista","geo":"Imagen Georreferenciada","print":"Imprimir","delete":"Borrar","download":"Descargar","minimize":"Minimizar el control de impresin","fototeca":"Este documento carece de validez legal"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"The implementation used cannot create PrinterMap.","encode":"The implementation used cannot use encodeLayer.","tile":"The request for some tile has caused a printing error. <br/>Please try again.","error":"An error has occurred while printing.","imageError":"The download could not be completed at this time. Please try again later.","error_layers":"The following layers will not be displayed when printing the map: ","printermap_obsolete":"Message to the developer: M.plugin.printermap has been deprecated, please use M.plugin.PrintViewManagement instead"},"errorProjectionCapabilities":"The selected projection is not available for this base layer. Please choose another projection.","tooltip":"Map Printing","credits":"Print generated through api-core","no_title":"(Untitled)","zone":"zone","base":"Base Cartography","title":"Title","description":"Description","layout":"Layout","format":"Format","projection":"Projection","keep":"Keep view","geo":"Georeferenced Image","print":"Print","delete":"Remove","download":"Download","minimize":"Minimize print control","fototeca":"This document has no legal validity"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"La implementacin usada no puede crear controles PrintViewManagementControl.","impl_printermap":"La implementacin usada no puede crear controles PrinterMapControl.","no_controls":"El plugin PrintViewManagement necesita activar al menos un control.","encode":"La implementacin usada no posee el mtodo encodeLayer.","error":"Se ha producido un error en la impresin.","imageError":"No ha podido realizarse la descarga en este momento. Por favor, intntelo ms tarde.","error_layers":"Las siguientes capas no se visualizarn al imprimir el mapa: ","teselaError":"La peticin de alguna tesela ha provocado un error en la impresin. <br/>Por favor, intntelo de nuevo.","printError":"Se ha producido un error en la impresin.","encode_method":"La implementacin usada no posee el mtodo encodeLayer","tile":"La peticin de alguna tesela ha provocado un error en la impresin. <br/>Por favor, intntelo de nuevo.","support":"Las capas MBTiles y MBTilesVector no estn soportadas.","error_download_image":"No ha podido realizarse la descarga."},"textHelp":{"help1":"La extensin de imprimir permite exportar tanto mapas a partir de plantillas como imgenes georreferenciadas.","help2":"La extensin es personalizable, por lon que puede cambiar de un visualizador a otro.","help3":"Mediante el control imprimir mapa, se puede descargar un mapa a partir de una plantilla seleccionada, unos DPI (Dots per inch, la resolucin de impresin), y un formato.  Adems permite aadir un ttulo y una descripcin.","help4":"Para obtener el mapa, habr que hacer click sobre el botn de descargar, lo que har que se genere el documento y aparezca disponible para su descargar.","help5":"Actualmente, el mapa se descarga en el EPSG:3857  (WGS84 / Pseudomercator).","help6":"A travs del control de descarga de imagen georreferenciada a travs de la vista, se puede obtener una imagen georreferenciada junto al archivo de georreferenciacin.","help7":"Las opciones disponibles son: aadir un ttulo al archivo, seleccionar el formato, obtener el fichero de georreferenciacin, seleccionar los DPI (en caso de utilizar la descarga a travs de servicios) y seleccionar el tipo de descarga.","help8":"La descarga por vista, hace una captura del mapa del visualizador, obteniendo las capas cargadas en ese momento y el estado del mapa. El sistema de coordenadas de la descarga ser el sistema de coordenadas y/o proyeccin del mapa en ese momento.","help9":"La descarga de capas cargadas por servicios, hace una llamada a los propios servicios creando una imagen de su conjunto. El sistema de coordenadas ser WGS84 / Pseudomercator (EPSG:3857).","help10":"El control de descarga de imgenes georreferenciadas por lista, permite descargar distintos servicios WMS con distintos sistemas de coordenadas y proyecciones, indicados a la hora de construir la extensin.","help11":"Se obtiene la extensin de la imagen del estado del visualizador en ese momento, y se realiza una peticin al servicio con la proyeccin asignada","help12":"La informacin relevante a la extensin y su posible parametrizacin est documentada en","help13":"El ejemplo de uso de sus parmetros puede comprobarse en"},"tooltip":"Impresin del mapa","map_printing":"Impresin del mapa","nextView":"Vista siguiente","previousView":"Vista anterior","service_epsg":"Servicios EPSG","georeferenced_img":"Imagen georreferenciada","format":"Formato","errorProjectionCapabilities":"La proyeccion seleccionada no est disponible para esta capa base. Por favor elija otra proyeccin.","printInfo":"Impresin generada a travs de Mapea","generating":"Generando imagen georreferenciada","referenced":"Imagen georreferenciada","projection":"Proyeccin","downImg":"Descargar Imagen","downMap":"Descargar Mapa","delete":"Borrar","down":"Descargar","title":"Ttulo","notitle":"(Sin ttulo)","cancel":"Cancelar","accept":"Aceptar","download_modal":"El uso de la informacin de los productos y servicios de datos geogrficos definidos en la <a tabindex=\\"0\\" target=\\"_blank\\" href=\\"https://www.boe.es/boe/dias/2015/12/26/pdfs/BOE-A-2015-14129.pdf\\">Orden FOM/2807/2015</a>, as como sus derivados, conlleva la aceptacin por el usuario de las condiciones generales de dicha orden, concretada en la siguiente <a tabindex=\\"0\\" target=\\"_blank\\" href=\\"http://www.ign.es/resources/licencia/Condiciones_licenciaUso_IGN.pdf\\">licencia de uso</a>, compatible con CC-BY 4.0.","use_license":"Licencia de uso","map":"Mapa","pnoa":"Imagen (PNOA)","screen":"Imagen Pantalla","fixeddescription":"Este documento no tiene validez legal","description":"Descripcin","layout":"Plantilla","credits":"Print generated through api-core","base":"Cartografa base","zone":"huso","georefimageWld":"Fichero de georreferenciacin (WLD)","typeDownload":"Selecciona el tipo de descarga:","typeClient":"Descarga de la vista en pantalla","typeServer":"Descarga de capas cargadas por servicios","selectLayer":"Selecciona la capa a descargar","clipBoard":"Copiar al portapapeles","layer_wms":"WMS devuelve un mapa en formato imagen de un conjunto capas rster o vectoriales. Permitiendo las personalizacin de las capas mediante estilos. ","layer_wmts":" WMTS (Web Map Tile Service) es un estndar OGC para servir informacin geogrfica en forma de tiles pregenerados a unas resoluciones especficas.","layer_tms":"Las capas TMS (Tile Map Service) son servicios de informacin geogrfica en forma de tiles muy similares a las capas XYZ.","layer_xyz":"Las capas XYZ son servicios de informacin geogrfica en forma de tiles. Cada tile representa una combinacin de tres parmetros.","layer_raster":"Capas rster:","layer_vector":"Capas vectoriales:","layer_geojson":"Pese a no ser un estndar OGC (est camino de convertirse en ello), es un formato de intercambio de informacin geogrfica muy extendido que, al igual que WFS, permite tener todos los elementos en el cliente.","layer_wfs":"(Web Feature Service) es un estndar OGC para la descarga y transferencia de informacin geogrfica, donde los elementos geogrficos o features se transmiten en su totalidad al cliente.","layer_kml":"(Keyhole Markup Language). KML es un lenguaje de marcado basado en XML para representar datos geogrficos en tres dimensiones.","layer_OGCAPIFeatures":"(OGC API - FEATURES) es un estndar OGC que ofrece la capacidad de crear, modificar y consultar datos espaciales en la Web y especifica requisitos y recomendaciones para las API que desean seguir una forma estndar de compartir datos de entidades.","tooltip_georefimageepsg":"Georreferenciar imagen predefinida","title_map":"Descarga de mapa","title_view":"Descarga de imagen georreferenciada de la vista","title_list":"Descarga de imagen georreferenciada a partir de listado","available_sources":"Fuentes disponibles","maintain_view":"Se mantiene la vista de impresin con DPI = 120"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"The implementation used cannot create PrintViewManagementControl.","impl_printermap":"The implementation used cannot create PrinterMapControl.","no_controls":"The PrintViewManagement plugin needs to activate at least one control.","encode":"The implementation used cannot use encodeLayer.","error":"An error has occurred while printing.","imageError":"The download could not be completed at this time. Please try again later.","error_layers":"The following layers will not be displayed when printing the map: ","teselaError":"The request has caused an error in printing. < br / > Please try again.","printError":"Printing has failed.","encode_method":"The used implementation does not have the encodeLayer method","tile":"The request for some tile has caused a printing error. <br/>Please try again.","support":"MBTiles and MBTilesVector layers are not supported","error_download_image":"The download could not be completed at this time."},"textHelp":{"help1":"The print extension allows you to export both maps from templates and georeferenced images.","help2":"The extension is customizable, so it can change from one viewer to another.","help3":"Using the print map control, you can download a map based on a selected template, a DPI (Dots per inch, the printing resolution), and a format. It also allows you to add a title and a description.","help4":"To obtain the map, you will have to click on the download button, which will cause the document to be generated and appear available for download.","help5":"The map is currently downloaded to EPSG:3857 (WGS84 / Pseudomercator).","help6":"Through the georeferenced image download control through the view, a georeferenced image can be obtained next to the georeference file.","help7":"The available options are: add a title to the file, select the format, obtain the georeferencing file, select the DPI (in case of using download through services) and select the type of download.","help8":"The download by view takes a snapshot of the viewer map, obtaining the layers loaded at that moment and the state of the map. The coordinate system of the download will be the coordinate system and/or projection of the map in that moment.","help9":"The download of layers loaded by services makes a call to the services themselves creating an image of their set. The coordinate system will be WGS84 / Pseudomercator (EPSG:3857).","help10":"The download control of georeferenced images by list allows you to download different WMS services with different coordinate systems and projections, indicated when building the extension.","help11":"The extension of the image of the display state at that moment is obtained, and a request is made to the service with the assigned projection","help12":"The information relevant to the extension and its possible parameterization is documented in","help13":"The example of using its parameters can be checked in"},"tooltip":"Map printing","map_printing":"Map printing","nextView":"Next view","previousView":"Previous view","service_epsg":"Service EPSG","georeferenced_img":"Georeferenced image","format":"Format","errorProjectionCapabilities":"The selected projection is not available for this base layer. Please choose another projection.","printInfor":"Print generated by Mapea","generating":"Generating georeferenced image","referenced":"Georeferenced image","projection":"Projection","downImg":"Download Image","downMap":"Download Map","delete":"Delete","down":"Download","title":"Title","notitle":"(No title)","cancel":"Cancel","accept":"Accept","download_modal":"The use of the information of the geographic data products and services defined in the <a tabindex=\\"0\\" target=\\"_blank\\" href=\\"https://www.boe.es/boe/dias/2015/12/26/pdfs/BOE-A-2015-14129.pdf\\">Order FOM/2807/2015</a>, as well as its derivatives, entails the acceptance by the user of the general conditions of said order, specified in the following <a tabindex=\\"0\\" target=\\"_blank\\" href=\\"http://www.ign.es/resources/licencia/Condiciones_licenciaUso_IGN.pdf\\">license of use</a>, compatible with CC-BY 4.0.","use_license":"License of use","map":"Map","pnoa":"Image (PNOA)","screen":"Screen Image","fixeddescription":"This document has no legal validity","description":"Description","layout":"Layout","credits":"Print generated through api-core","base":"Base Cartography","zone":"zone","georefimageWld":"Georeferencing file (WLD)","typeDownload":"Select the type of download:","typeClient":"Screen view download","typeServer":"Downloading layers loaded by services","selectLayer":"Select the layer to download","clipBoard":"Copy to clipboard","layer_wms":"WMS returns a map in image format from a set of raster or vector layers. Allowing customization of layers through styles.","layer_wmts":" WMTS (Web Map Tile Service) es un estndar OGC para servir informacin geogrfica en forma de tiles pregenerados a unas resoluciones especficas.","layer_tms":"TMS (Tile Map Service) layers are geographic information services in the form of tiles very similar to XYZ layers.","layer_xyz":"Las capas XYZ son servicios de informacin geogrfica en forma de tiles. Cada tile representa una combinacin de tres parmetros.","layer_raster":"Layers raster:","layer_vector":"Layers vector:","layer_geojson":"Despite not being an OGC standard (it is on its way to becoming one), it is a very widespread geographic information exchange format that, like WFS, allows all the elements to be on the client.","layers_wfs":"(Web Feature Service) is an OGC standard for the download and transfer of geographic information, where the geographic elements or features are transmitted in their entirety to the client.","layers_kml":"(Keyhole Markup Language). KML is an XML-based markup language for representing geographic data in three dimensions.","layer_OGCAPIFeatures":"(OGC API - FEATURES) is an OGC standard that provides the ability to create, modify, and query spatial data on the Web and specifies requirements and recommendations for APIs that want to follow a standard way of sharing feature data.","tooltip_georefimageepsg":"EPSG code of the georeferenced image","title_map":"Map download","title_view":"View georeferenced image download","title_list":"Download georeferenced image from list","available_sources":"Available sources","maintain_view":"Maintain print view with DPI = 120"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"La implementacin usada no puede crear controles QueryAttributesControl.","no_data":"No hay datos para exportar."},"textHelp":{"help1":"La extensin tabla de atributos permite visualizar los datos temticos de una fuente de datos espacial.","help2":"Adems, permite hacer bsquedas en un atributo por un valor introducido por el usuario, bsquedas por vista, por rea, limpiar los filtros y exportar los datos.","help3":"La informacin relevante a la extensin y su posible parametrizacin est documentada en","help4":"El ejemplo de uso de sus parmetros puede comprobarse en"},"tooltip":"Tabla de atributos","values":"Valores","attribute_table":"Tabla de atributos","clean_filters":"Limpiar filtros aplicados","export":"Exportar datos","not_attributes":"No se han encontrado atributos.","close":"Cerrar","filters":"Filtros","bbox":"Por vista","area":"Por rea","csv":"CSV (slo atributos)","download":"Descargar","loading":"Cargando datos...","search":"Buscar","filter_by_bbox":"Filtrar resultados por vista actual","filter_by_area":"Filtrar resultados dibujando geometra","show_hide":"Ocultar / Mostrar","information":"Informacin","search_all_fields":"Bsqueda en todos los campos"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"The implementation used cannot create QueryAttributesControl.","no_data":"No data for export."},"textHelp":{"help1":"The attribute table extension allows you to display the thematic data of a spatial data source.","help2":"In addition, it allows you to search an attribute by a value entered by the user, searches by view, by area, clearing the filters and exporting the data.","help3":"The information relevant to the extension and its possible parameterization is documented in","help4":"The example of use of its parameters can be checked in"},"tooltip":"Search by filters","values":"Values","attribute_table":"Table of attributes","clean_filters":"Clean applied filters","export":"Export data","not_attributes":"No attributes found.","close":"Close","filters":"Filters","bbox":"By view","area":"By area","csv":"CSV (only attributes)","download":"Download","loading":"Loading information...","search":"Search","filter_by_bbox":"Filter results by current view","filter_by_area":"Filter results by drawing geometry","show_hide":"Hide / Show","information":"Information","search_all_fields":"Search over all fields"}')},function(t){t.exports=JSON.parse('{"tooltip":"Cambiar escala","insertscale":"Introducir escala","textHelp":{"help1":"La extensin de re-escalar cambia el nivel de zoom de un visualizador a la escala introducida por el usuario.","help2":"La informacin relevante a la extensin y su posible parametrizacin est documentada en","help3":"El ejemplo de uso de sus parmetros puede comprobarse en"}}')},function(t){t.exports=JSON.parse('{"tooltip":"Change scale","insertscale":"Insert scale","textHelp":{"help1":"The rescale extension changes the zoom level of a viewer to the scale entered by the user.","help2":"The information relevant to the extension and its possible parameterization is documented in","help3":"The example of use of its parameters can be checked in"}}')},function(t){t.exports=JSON.parse('{"exception":{"obsolete":"Mensaje para el desarrollador: M.plugin.SelectionDraw ha quedado obsoleto, utilice en su lugar M.plugin.VectorsManagement"},"tooltip":"Bsqueda por geometra","exception_selectiondrawcontrol":"La implementacin usada no puede crear controles SelectionDrawImplControl"}')},function(t){t.exports=JSON.parse('{"exception":{"obsolete":"Developer message: M.plugin.SelectionDraw has been deprecated, use the M.plugin.VectorsManagement instead"},"tooltip":"Search by geometry","exception_selectiondrawcontrol":"The implementation used cannot create SelectionDrawImplControl controls"}')},function(t){t.exports=JSON.parse('{"exception":{"formatMRE":"No se ha especificado ningn valor para los parmetros bbox o zoom y centro.","parameterizationDeprecated":"Advertencia M.plugin.selectionzoom: la definicin de parmetros establecidas en el plugin ha quedado obsoleta. Revise la nueva definicin: https://github.com/IGN-CNIG/API-CNIG/tree/master/api-ign-js/src/plugins/selectionzoom","formatBBoxAndZoom":"No se ha especificado ningn valor para los parmetros bbox o zoom."},"textHelp":{"help1":"Permite desplazar el mapa de una manera rpida a las vistas predefinidas: Pennsula, Canarias, Baleares, Ceuta o Melilla.","help2":"La informacin relevante a la extensin y su posible parametrizacin est documentada en","help3":"El ejemplo de uso de sus parmetros puede comprobarse en"},"tooltip":"Vistas predefinidas"}')},function(t){t.exports=JSON.parse('{"exception":{"formatMRE":"No value specified for the bbox or zoom and center parameters.","parameterizationDeprecated":"Warning M.plugin.selectionzoom: The parameter definition set in the plugin has been deprecated. Review the new definition: https://github.com/IGN-CNIG/API-CNIG/tree/master/api-ign-js/src/plugins/selectionzoom","formatBBoxAndZoom":"No value specified for the bbox or zoom parameters."},"textHelp":{"help1":"Allows you to quickly move the map to the predefined views: Peninsula, Canary Islands, Balearic Islands, Ceuta or Melilla.","help2":"The information relevant to the extension and its possible parameterization is documented in","help3":"The example of use of its parameters can be checked in"},"tooltip":"Default views"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"La implementacin no puede crear controles de Attribution."},"textHelp":{"help1":"Permite compartir la vista de mapa con las capas de informacin cargadas a travs de un enlace Web. Tambin proporciona el cdigo HTML por si se quiere embeber el visualizador en otro portal Web.","help2":"1. Haga clic en Copiar para copiar el enlace al portapapeles. Puede pegarlo en un navegador, correo electrnico o mensaje.","help3":"2. Abre las diferentes redes sociales, que tenga ya instaladas en su dispositivo y genera la publicacin para compartir la vista.","help4":"3. Genera el cdigo HTML necesario para incrustar en una pgina web la vista actual.","help5":"Pulse \'Aceptar\' para cerrar el panel.","help6":"La informacin relevante a la extensin y su posible parametrizacin est documentada en","help7":"El ejemplo de uso de sus parmetros puede comprobarse en"},"title":"Compartir URL","text":"HTML embebido","copy":"Copiar","tooltip":"Copiado!","tooltipPanel":"Compartir"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"The implementation used cannot create Attributions controls."},"textHelp":{"help1":"Allows you to share the map view with the loaded information layers through a Web link. It also provides the HTML code in case you want to embed the viewer in another Web portal.","help2":"1. Click Copy to copy the link to the clipboard. You can paste it into a browser, email, or message.","help3":"2. Open the different social networks that you already have installed on your device and generate the publication to share the view.","help4":"3. Generate the HTML code necessary to embed the current view in a web page.","help5":"Press \'OK\' to close the panel.","help6":"The information relevant to the extension and its possible parameterization is documented in","help7":"The example of use of its parameters can be checked in"},"title":"Share URL","text":"Embedded HTML","copy":"Copy","tooltip":"Copied!","tooltipPanel":"Share"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"La implementacin usada no puede crear controles StyleManager.","geomNotSupported":"Geometra no soportada","attributeAdded":"El atributo ya se ha agregado.","repeatedVariable":"Nombre de variable repetido","variableName":"No existe ninguna variable con ese nombre.","incorrectName":"Nombre de variable incorrecto.","emptyString":"No est permitido introducir una cadena vaca.","emptyVariable":"Nombre de variable vaca.","moreColorsRanges":"No pueden existir ms colores que rangos.","numberColors":"Nmero de colores incorrecto.","chooseStyle":"Debe elegir al menos un estilo","choStyle":"Elija estilo","layerNoFeaturesLoad":"La capa no tiene features o an no se han cargado.","chooseLayer":"Tiene que elegir una capa","choLayer":"Elija capa","numberColorAllowed":"Ha llegado al nmero mximo de colores permitidos","information":"Informacin"},"textHelp":{"help1":"La extensin de gestin de estilos cartogrficos permite crear estilos a las capas vectoriales cargadas en un visualizador.","help2":"En el panel de la extensin se aprecian dos partes diferenciadas: la de simbologa simple, que permite aplicar distintos estilos a toda la capa y avanzada, permitiendo aplicar estilos ms complejos como lneas de flujo, agrupaciones (clusters), mapas de calor, categricos, coropletas, simbologa proporcional o simbologa estadstica.","help3":"Los 4 primeros botones del panel son; el selector de capa vectorial (amarillo), aplicar estilo a la capa (naranja), reiniciar al estilo por defecto (azul) y copiar estilo (verde). De este ltimo botn se hablar ms adelante.","help4":"En la parte de simbolizacin simple, se organiza en relleno, donde se puede aplicar el color de relleno de los objetos geogrficos de la capa y su opacidad, por ejemplo naranja al 90% de opacidad:","help5":"tambin permite aadir un patrn superficial al relleno marcando la casilla de \'patrn\'. En el ejemplo, se asocia un patrn ladrillo de color verde:","help6":"En la parte de trazo, se asigna el color del borde de las geometras de la capa:","help7":"adems se puede asignar un espaciado lineal al borde aadiendo valores en \'Linedash\', por ejemplo:","help8":"tambin permite aplicar patrones al borde de las geometras activando la opcin \'patrn\'","help9":"La siguiente seccin es el etiquetado de las geometras mostradas en la capa, permite seleccionar el tipo de fuente, color, tamao, alineacin, habilitar el giro con el mapa o no y la rotacin inicial:","help10":"tambin permite aplicar estilo al trazo de las etiquetas:","help11":"En el caso de capas puntuales, se puede aadir simbologa pictrica ya sea en formato Fuente o mediante una imagen. Si es en formato imagen se selecciona icono. En la seccin \'icono\' est el parmetro URL, donde se puede aadir la URL de una imagen (En el caso de ser SVG, permitir cambios de estilo posteriormente).","help12":"Adems se puede seleccionar tamao, dnde debe ir el anclaje de la imagen, offset, escala de la imagen, habilitar rotacin junto al mapa, rotacin inicial y la opacidad.","help13":"Para el ejemplo se usar: https://componentes.cnig.es/api-core/assets/svg/circleIcons/accidenteGeografico.svg :","help14":"en el caso de tener un SVG, haciendo click sobre \'Modificar SVG\', se pueden cambiar el borde y relleno de la imagen:","help15":"En el caso de elegir la opcin \'Fuente\', se aadir un icono interno a la geometra puntual:","help16":"Para ello, se puede elegir una forma del icono, una familia (lo que permite aadir internamente otro icono), el radio de la forma, el tamao del icono interior, el color, si se quiere con gradiente, el offset, la opacidad y habilitar la rotacin del icono junto a la rotacin inicial.","help17":"Hasta aqu estaran explicados los estilos cartogrficos simples, que son los que se aplican a toda la capa en general.","help18":"Los estilos cartogrficos avanzados, utilizan algoritmia geomtica para la representacin de la capa, de forma que representa cada geometra de la cade de una forma distinta, pudiendo representar distintos atributos o formas, lo que permite asociar rasgos de la realidad al estilo asociado a una capa.","help19":"Las lneas de flujo (o diagramas de Sankey) permiten asociar un valor y un color al inicio y al final de la lnea, lo que visualmente lleva a un degradado mostrando una prdida o aumento de valor segn se recorre la lnea. Uno de los ms famosos es el mapa de flujo de la invasin napolenica de Rusia (https://es.wikipedia.org/wiki/Diagrama_de_Sankey#/media/Archivo:Minard.png)","help20":"Para su creacin, habr que seleccionar los colores de inicio y fin, los valores de inicio y fin y el tipo, offset y color de la flecha ","help21":"La agrupacin o \'cluster\', permite agrupar geometras representando la cantidad de ellas que se encuentran a una distancia dada y a un intervalo de nmero de geometras por grupo.","help22":"Para su creacin, hay que elegir el nmero de rangos (cuntas geometras va a haber en cada grupo), el color de relleno y borde, junto al radio, ancho y opacidad. Adems, se puede mostrar la envoltura de cada grupo si se pasa el ratn por el grupo, se puede mostrar la cantidad , se puede seleccionar para desplegar cada geometra contenida en el grupo y se puede animar las transiciones entre zooms del visualizador. Por ltimo, se puede parametrizar la distancia a la que se crear un grupo yel texto de la cantidad a mostrar.","help23":"Los mapas de calor permiten representar la densidad o distribucin de geometras en una zona del territorio o su ponderacin por un atributo.","help24":"Para su creacin, se elige en el caso de querer ponderar por un atributo, el nombre del mismo, la eleccin de colores para el gradiente de representacin del mapa de calor, el tamao de difuminado y el radio.","help25":"El estilo categrico permite representar atributos cualitativos mediante la variable visual del color, tono. Representa cada geometra con un tono distinto segn su atributo.","help26":"Para su uso, se elige el atributo categrico y en el caso de querer personalizar algn valor en concreto, se hara click sobre el valor seleccionando su estilo.","help27":"El estilo por coropletas, permite representar valores cuantitativos asociados a las geometras, mediante la variable visual del color, valor.","help28":"Para su uso, habr que elegir ela tributo cuantitativo, el algoritmo de agrupacin de los intervalos, el nmero de rangos y los colores de la rampa de color.","help29":"Los algoritmos de la agrupacin del intervalo son: cuantil (los lmites de cada intervalo se realizan en partes iguales a partir del valor mximo y mnimo), intervalos iguales (cada grupo de intervalos tienen las mismas geometras), ruptura natural (los lmites se asocian segn las agrupaciones internas de los datos segn su histograma) por progresin aritmtica o geomtrica (los lmites del intervalo se asocian segn estas progresiones matemticas) y por media-sigma (se asocian los intervalos mediante los estadsticos de la media y la desviacin estndar)","help30":"La simbologa proporcional permite asociar a un valor cuantitativo un radio, mostrando los valores ms altos a radios ms grandes.","help31":"Para su uso, se elige el atributo cuantitativo, la escala (absoluta o con compensacin de Flannery) y los radios mximos y mnimos de representacin.","help32":"Por ltimo, la simbologa por estadsticos, permite representar ms de un atributo cuantitativo en un grfico estadstico.","help33":"Los tipos de grfico ofrecidos son: de tarda, tarda 3D, donut y grfico de barras.","help34":"A parte del tipo de grfico, se puede elegir la rampa de color a usar en el grfico,un offset en los ejes X e Y y el radio del grfico.","help35":"Adems, para cada atributo aadido, se puede mostrar la etiqueta y el estilo de la misma.","help36":"Por ltimo, en el caso de copiar un estilo desde el botn de copiar de la cabecera de la extensin, se puede utilizar tanto para cargar estilos a una capa a nivel de objeto javascript como por apirest.","help37":"Para aplicar un estilo serializado a una capa en javascript se puede seguir el siguiente flujo de trabajo explicado en la documentacin de estilos: https://github.com/IGN-CNIG/API-CNIG/wiki/2.1.2.-Simbolizaci%C3%B3n#serializaci%C3%B3n-de-estilos-vectoriales","help38":"En el caso de su utilizacin por api-rest, partiendo de:","help39":"Se puede aadir al final el estilo copiado:","help40":"Quedando la siguiente URL:","help41":"La informacin relevante a la extensin y su posible parametrizacin est documentada en","help42":"El ejemplo de uso de sus parmetros puede comprobarse en"},"selectLayer":"Seleccione una capa...","applyStyle":"Aplicar estilo","clearStyle":"Limpiar estilo","symbology":"Simbologa","heatMap":"Mapa de calor","category":"Categora","choropleths":"Coropleta","proportional":"Proporcional","statistic":"Estadsticos","attributeValue":"Valor de atributo","preview":"Previsualizacin","others":"Otros","type":"Tipo","options":"Opciones","pointOptions":"Opciones de punto","lineOptions":"Opciones de lnea","polygonOptions":"Opciones de polgono","opacity":"Opacidad","radius":"Radio","width":"Ancho","pattern":"Patrn","size":"Tamao","space":"Espacio","rotation":"Rotacin","scale":"Escala","none":"Ninguno","text":"Texto","font":"Fuente","horizontalAlignment":"Alineacin horizontal","verticalAlignment":"Alineacin vertical","enableRotation":"Habilitar rotacin con el mapa","fitGeometry":"Ajustar a geometra","minimumWidth":"Ancho Mnimo","smooth":"Suavizar","overflow":"Desbordar","hidden":"Oculto","visible":"Visible","ellipsis":"Puntos suspensivos","labelStroke":"Trazo de la etiqueta","label":"Trazo","anchorage":"Anclaje","form":"Forma","family":"Familia","iconSize":"Tamao icono","gradient":"Gradiente","iconColor":"Color de icono","legend":"Leyenda","showLabel":"Mostrar etiqueta","fill":"Relleno","border":"Borde","bulk":"Grosor","attributes":"Atributos","attribute":"Atributo","minimumRadius":"Radio mnimo","maximumRadius":"Radio mximo","addColor":"Aadir color","blur":"Difuminado","ranks":"Rangos","rank":"Rango","numberRanks":"Nmero de rangos","since":"Desde","until":"Hasta","envelope":"Envoltura","quantity":"Cantidad","selectable":"Seleccionable","animated":"Animado","distance":"Distancia","points":"Puntos","fanDistance":"Distancia de abanico","textColor":"Color de texto","algorithm":"Algoritmo","arithmeticProgression":"Progresin aritmtica","equalIntervals":"Intervalos iguales","geometricProgression":"Progresin geomtrica","meanSigma":"Media sigma","naturalBreaks":"Rupturas naturales","quantile":"Cuantil","colorRamp":"Rampa de color","initial":"Inicial","final":"Final","cake":"Tarta","tDcake":"Tarta 3D","donut":"Donut","graphic":"Grfico","classic":"Clsico","dark":"Oscuro","pale":"Plido","neon":"Nen","pie":"Pastel","xAxis":"Eje X","yAxis":"Eje Y","addAttribute":"Aadir atributo","bevel":"Bisel","miter":"Inglete","rounded":"Redondeado","extreme":"Extremo","square":"Cuadrado","labelText":"Etiqueta","icon":"Icono","stroke":"Trazo","center":"Centro","justified":"Justificado","left":"Izquierda","right":"Derecha","alphabetical":"Alfabetico","down":"Abajo","hanging":"Colgando","ideographic":"Ideografico","up":"Arriba","patternOptions":"Opciones de patrn","adjust":"Ajustar","ranges":"Rangos","flowLine":"Lnea de flujo","absolute":"Absoluto","arrow":"Flecha","arrowColor":"Color flecha","generateSerialized":"Generar estilo serializado","serializedStyle":"Estilo serializado","clipboard":"Copiado estilo serializado en el portapapeles","modifySVG":"Modificar SVG","infoURL":"Se encuentra disponible una galera de ficheros SVG en <a target=\'blank\' href=\'https://componentes.cnig.es/api-core/api/actions/resources/svg\'>https://componentes.cnig.es/api-core/api/actions/resources/svg</a>","tooltip":"Gestor de estilos"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"The implementation used cannot create StyleManager controls.","geomNotSupported":"Geometry not supported","attributeAdded":"Attribute has already been added.","repeatedVariable":"Repeated variable name","variableName":"No variable with that name exists.","incorrectName":"Incorrect variable name.","emptyString":"It is not allowed to enter an empty string.","emptyVariable":"Empty variable name.","moreColorsRanges":"There cannot be more colors than ranges.","numberColors":"Incorrect number of colors.","chooseStyle":"You must choose at least one style","choStyle":"Choose style","layerNoFeaturesLoad":"The layer has no features or they have not been loaded yet.","chooseLayer":"You have to choose a layer","choLayer":"Choose layer","numberColorAllowed":"You have reached the maximum number of colors allowed","information":"Information"},"textHelp":{"help1":"The cartographic style management extension allows you to create styles for vector layers loaded in a viewer.","help2":"In the extension panel you can see two different parts: the simple symbology part, which allows you to apply different styles to the entire layer, and the advanced part, which allows you to apply more complex styles such as flow lines, clusters, maps of heat, categorical, choropleth, proportional symbology or statistical symbology.","help3":"The first 4 buttons of the panel are; the vector layer selector (yellow), apply style to the layer (orange), reset to the default style (blue) and copy style (green). This last button will be discussed later.","help4":"In the simple symbolization part, it is organized in fill, where you can apply the fill color of the layer\'s geographic objects and their opacity, for example orange at 90% opacity:","help5":"also allows you to add a surface pattern to the fill by checking the \'pattern\' box. In the example, a green brick pattern is associated:","help6":"In the stroke part, the border color of the layer geometries is assigned:","help7":"you can also assign linear spacing to the border by adding values in \'Linedash\', for example:","help8":"also allows you to apply patterns to the edges of geometries by activating the \'pattern\' option","help9":"The next section is the labeling of the geometries displayed on the layer, it allows you to select the font type, color, size, alignment, enable rotation with the map or not and the initial rotation:","help10":"also allows you to style the labels\' stroke:","help11":"In the case of specific layers, pictorial symbology can be added either in Source format or through an image. If it is in image format, icon is selected. In the \'icon\' section there is the URL parameter, where you can add the URL of an image (If it is SVG, it will allow style changes later).","help12":"In addition you can select size, where the image anchor should go, offset, image scale, enable rotation next to the map, initial rotation and opacity.","help13":"For the example we will use: https://componentes.cnig.es/api-core/assets/svg/circleIcons/accidenteGeografico.svg :","help14":"if you have an SVG, by clicking on \'Modify SVG\', you can change the border and padding of the image:","help15":"If you choose the \'Source\' option, an internal icon will be added to the point geometry:","help16":"To do this, you can choose a shape of the icon, a family (which allows you to add another icon internally), the radius of the shape, the size of the inner icon, the color, if you want with a gradient, the offset, opacity and enable icon rotation next to the initial rotation.","help17":"Up to this point the simple cartographic styles would be explained, which are those that are applied to the entire layer in general.","help18":"Advanced cartographic styles use geomatic algorithms for the representation of the layer, so that each geometry of the chain is represented in a different way, being able to represent different attributes or shapes, which allows us to associate features of reality with the style associated with a layer.","help19":"Flow lines (or Sankey diagrams) allow you to associate a value and a color at the beginning and end of the line, which visually leads to a gradient showing a loss or increase in value as the line is traversed One of the most famous is the flow map of the Napoleonic invasion of Russia (https://es.wikipedia.org/wiki/Sankey_Diagram#/media/File:Minard.png)","help20":"To create it, you will have to select the start and end colors, the start and end values and the type, offset and color of the arrow","help21":"The grouping or \'cluster\' allows geometries to be grouped together, representing the number of them that are at a given distance and at an interval of number of geometries per group.","help22":"To create it, you must choose the number of ranges (how many geometries will be in each group), the fill and border color, along with the radius, width and opacity. In addition, you can show the envelope of each group if you hover the mouse over the group, You can display the quantity, you can select to display each geometry contained in the group and you can animate the transitions between zooms of the viewer. Finally, you can parameterize the distance at which a group will be created and the text of the quantity to be displayed. .","help23":"Heat maps allow you to represent the density or distribution of geometries in an area of the territory or their weighting by an attribute.","help24":"For its creation, if you want to weight by an attribute, you choose its name, the choice of colors for the heat map representation gradient, the blur size and the radius.","help25":"The categorical style allows qualitative attributes to be represented using the visual variable of color and tone. It represents each geometry with a different tone depending on its attribute.","help26":"To use it, choose the categorical attribute and if you want to customize a specific value, click on the value and select its style.","help27":"The choropleth style allows representing quantitative values associated with geometries, through the visual variable of color, value.","help28":"To use it, you will have to choose the quantitative tribute, the interval grouping algorithm, the number of ranges and the colors of the color ramp.","help29":"The interval grouping algorithms are: quantile (the limits of each interval are made in equal parts from the maximum and minimum value), equal intervals (each group of intervals have the same geometries), natural break (the limits are associated according to the internal groupings of the data according to their histogram) by arithmetic or geometric progression (the limits of the interval are associated according to these mathematical progressions) and by mean-sigma (the intervals are associated using the statistics of the mean and the standard deviation)","help30":"Proportional symbology allows a quantitative value to be associated with a radius, showing higher values at larger radii.","help31":"To use it, choose the quantitative attribute, the scale (absolute or with Flannery compensation) and the maximum and minimum representation radii.","help32":"Finally, statistical symbology allows you to represent more than one quantitative attribute in a statistical graph.","help33":"The chart types offered are: tard, 3D tard, donut and bar chart.","help34":"Apart from the type of graph, you can choose the color ramp to use in the graph, an offset on the X and Y axes and the radius of the graph.","help35":"In addition, for each added attribute, the label and its style can be displayed.","help36":"Finally, in the case of copying a style from the copy button in the extension header, it can be used both to load styles to a layer at the javascript object level or by apirest.","help37":"To apply a serialized style to a layer in javascript you can follow the following workflow explained in the styles documentation: https://github.com/IGN-CNIG/API-CNIG/wiki/2.1. 2.-Symbolization%C3%B3n#serialization%C3%B3n-of-vector-styles","help38":"In the case of use by api-rest, starting from:","help39":"You can add the copied style at the end:","help40":"Leaving the following URL:","help41":"The information relevant to the extension and its possible parameterization is documented in","help42":"The example of use of its parameters can be checked in"},"selectLayer":"Select a layer...","applyStyle":"Apply Style","clearStyle":"Clear Style","symbology":"Symbology","heatMap":"Heat Map","category":"Category","choropleths":"Choroplet","proportional":"Proportional","statistic":"Statistics","attributeValue":"Attribute Value","preview":"Preview","others":"Others","type":"Type","options":"Options","pointOptions":"Point Options","lineOptions":"Line Options","polygonOptions":"Polygon Options","opacity":"Opacity","radius":"Radius","width":"Width","pattern":"Pattern","size":"Size","space":"Space","rotation":"Rotation","scale":"Scale","none":"None","text":"Text","font":"Font","horizontalAlignment":"Horizontal Alignment","verticalAlignment":"Vertical Alignment","enableRotation":"Enable rotation with the map","fitGeometry":"Fit Geometry","minimumWidth":"Minimum Width","smooth":"Smooth","overflow":"Overflow","hidden":"Hidden","visible":"Visible","ellipsis":"Ellipsis","labelStroke":"Label Stroke","label":"Stroke","anchorage":"Anchorage","form":"Form","family":"Family","iconSize":"Icon size","gradient":"Gradient","iconColor":"Icon Color","legend":"Legend","showLabel":"Show Label","fill":"Fill","border":"Border","bulk":"Thickness","attributes":"Attributes","attribute":"Attribute","minimumRadius":"Minimum radius","maximumRadius":"Maximum Radius","addColor":"Add Color","blur":"Blur","ranks":"Ranks","rank":"Rank","numberRanks":"Number of ranks","since":"Since","until":"Until","envelope":"Envelope","quantity":"Quantity","selectable":"Selectable","animated":"Animated","distance":"Distance","points":"Points","fanDistance":"Fan Distance","textColor":"Text Color","algorithm":"Algorithm","arithmeticProgression":"Arithmetic Progression","equalIntervals":"Equal Intervals","geometricProgression":"Geometric Progression","meanSigma":"Mean Sigma","naturalBreaks":"Natural Breaks","quantile":"Quantile","colorRamp":"Color Ramp","initial":"Initial","final":"Final","cake":"Cake","tDcake":"3D Cake","donut":"Donut","graphic":"Graphic","classic":"Classic","dark":"Dark","pale":"Pale","neon":"Neon","pie":"Cake","xAxis":"X axis","yAxis":"Y axis","addAttribute":"Add Attribute","bevel":"Bezel","miter":"Miter","rounded":"Rounded","extreme":"Extreme","square":"Square","labelText":"Label","icon":"Icon","stroke":"Stroke","center":"Center","justified":"Justified","left":"Left","right":"Right","alphabetical":"Alphabetical","down":"Down","hanging":"Hanging","ideographic":"Ideographic","up":"Up","patternOptions":"Pattern options","adjust":"Adjust","ranges":"Ranges","flowLine":"Flowline","absolute":"Absolute","arrow":"Arrow","arrowColor":"Arrow color","generateSerialized":"Generate serialized style","serializedStyle":"Serialized style","clipboard":"Copied serialized style to clipboard","modifySVG":"Modify SVG","infoURL":"A gallery of SVG files is available at <a target=\'blank\' href=\'https://componentes.cnig.es/api-core/api/actions/resources/svg\'>https://componentes.cnig.es/api-core/api/actions/resources/svg</a>","tooltip":"Style manager"}')},function(t){t.exports=JSON.parse('{"tooltip":"Lnea de tiempo","title":"Lnea de tiempo","play":"Iniciar","pause":"Parar","excepcion":"La implementacin usada no puede crear controles TimelineControl","intervals_error":"Los intervalos no fueron definidos correctamente","initValue":"Valor inicio","endValue":"Valor final","textHelp":{"help1":"La extensin lnea de tiempo.","help2":"La extensin es personalizable, por lo que puede cambiar de un visualizador a otro.","help3":"La lnea de tiempo permite hacer filtros espaciales en capas a partir de un atributo de tiempo, o aadir una fecha a una capa y filtrar por ella.","help4":"La informacin relevante a la extensin y su posible parametrizacin est documentada en","help5":"El ejemplo de uso de sus parmetros puede comprobarse en"}}')},function(t){t.exports=JSON.parse('{"tooltip":"Timeline","title":"Timeline","play":"Play","pause":"Pause","excepcion":"The implementation used cannot create timelineControl controls","intervals_error":"The intervals were not defined correctly","initValue":"Start value","endValue":"Final value","textHelp":{"help1":"The timeline extension.","help2":"The extension is customizable, so you can switch from one viewer to another.","help3":"The timeline allows you to make spatial filters on layers based on a time attribute, or add a date to a layer and filter by it.","help4":"The information relevant to the extension and its possible parameterization is documented in","help5":"The example of use of its parameters can be checked in"}}')},function(t){t.exports=JSON.parse('{"exception":{"toc_obsolete":"Mensaje para el desarrollador: M.plugin.TOC ha quedado obsoleto, utilice en su lugar M.plugin.Layerswitcher"},"tooltip":"Capas","capas":"Capas"}')},function(t){t.exports=JSON.parse('{"exception":{"toc_obsolete":"Message to the developer: M.plugin.TOC has been deprecated, please use M.plugin.Layerswitcher instead"},"tooltip":"Layers","capas":"Layers"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"La implementacin no puede crear controles de Perfiltopografico.","obsolete":"Mensaje para el desarrollador: M.plugin.Topographicprofile ha quedado obsoleto, utilice en su lugar M.plugin.VectorsManagement"},"tooltip":"Perfil Topogrfico","title":"Perfil Topogrfico","profil":{"title":"Perfil Topogrfico","zmin":"Alt. min","zmax":"Alt. max","altitude":"Altitud","distance":"Dist. total","ytitle":"Altitud (m)","xtitle":"Distancia (km)"}}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"The implementation used cannot create Perfiltopografico controls.","obsolete":"Developer message: M.plugin.Topographicprofile has been deprecated, use the M.plugin.VectorsManagement instead"},"tooltip":"Topography Profile","title":"Topography Profile","profil":{"title":"Topographic Profile","zmin":"Min Alt.","zmax":"Max Alt.","altitude":"Alt.","distance":"Full Distance","ytitle":"Altitude (m)","xtitle":"Distance (km)"}}')},function(t){t.exports=JSON.parse('{"tooltip":"Transparencia","layers":"Capas","radius":"Radio","transparency":"Transparencia","errorLayer":"Transparency: No se ha especificado una capa vlida sobre la que aplicar el efecto","excepcion":"La implementacin usada no puede crear controles TransparencyControl","transparency_obsolete":"Mensaje para el desarrollador: M.plugin.Transparency ha quedado obsoleto, utilice en su lugar M.plugin.Comparators"}')},function(t){t.exports=JSON.parse('{"tooltip":"Transparency","layers":"Layers","radius":"Radius","transparency":"Transparency","errorLayer":"Transparency: No valid layer specified on which to apply the effect","excepcion":"The implementation used cannot create TransparencyControl controls","transparency_obsolete":"Message to developer: M.plugin.Transparency has been deprecated, please use M.plugin.Comparators instead"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"La implementacin usada no puede crear controles VectorsControl.","unknown_geom":"Geometra no reconocida.","format_not_selected":"No se ha seleccionado formato de descarga.","size":"El fichero seleccionado sobrepasa el mximo de 20 MB permitido.","load":"Error al cargar el fichero.","no_geoms":"No se han detectado geometras en este fichero.","load_correct":"Error al cargar el fichero. Compruebe que se trata del fichero correcto.","extension":"No se ha insertado una extensin de archivo permitida. Las permitidas son: KML, SHP(.zip), GPX, GML y GeoJSON.","not_extent":"No se puede obtener la extensin de la capa.","no_features":"Esta capa todava no tiene ninguna entidad. Aada entidades primero.","query_profile":"No se han podido consultar los datos de altitud para esta entidad.","capabilities":"Ha ocurrido un error al obtener el documento GetCapabilities","valid_url":"Debes indicar una URL vlida","empty":"Los campos estn vacos","error_features_wfs":"No se han podido cargar features de la capa. Intntalo aumentando el nivel de zoom en la zona de inters.","error_no_features_wfs":"No se han podido cargar features de la capa. Intntalo de nuevo en otra zona.","error_wfs":"No se ha podido cargar el servicio WFS","wfs_zoom":"Aumente el nivel de zoom * niveles si quiere aadir este servicio WFS","url_not_valid":"La URL introducida no es vlida","obsolete":"Mensaje para el desarrollador: M.plugin.Vectors ha quedado obsoleto, utilice en su lugar M.plugin.VectorsManagement"},"help_template":{"help":"Ayuda","create_layers":"Crear capas de puntos (<span class=\'icon-points\'></span>), de lneas/rutas (<span class=\'icon-lines\'></span>) o polgonos (<span class=\'icon-polygon\'></span>)","create_layers_content":"<p>Al hacer clic sobre <span class=\'icon-points\'></span>, <span class=\'icon-lines\'></span> o <span class=\'icon-polygon\'></span> se aadir una capa vaca con un nombre provisional. <b>Cada capa puede tener uno o varios elementos de dibujo y se pueden tener tantas capas como se desee.</b></p><p>Si quiere cambiar el nombre de la capa pulse sobre el nombre de la capa e introduzca el nombre que desea.</p><p>Con la opcin <b>\\"Aadir Geometra\\"</b> (<span class=\'icon-add m-vector-layer-add\'></span>) seleccionada podemos aadir nuevos elementos de dibujo a nuestra capa. El procedimiento de dibujo tiene las siguientes caractersticas:</p><ul><li><b>Un clic dibuja un punto o vrtice</b> de lnea o de polgono.</li><li><b>Doble clic finaliza el dibujo</b> de lnea o polgono.</li><li>Pulsando la tecla <b>ESCape se interrumpe y borra el dibujo</b> que estuviera ejecutndose en ese momento.</li><li>Mientras se est realizando un elemento de dibujo, al pulsar la combinacin de teclas <b>Ctrl+Z se elimina el ltimo punto dibujado</b> dentro de la geometra en curso. Deshace, elimina el ltimo vrtice que se est dibujando.</li><li>Para elementos lineales o superficiales, al mantener pulsada la tecla \\"Shift\\" o \\"Mayscula\\" durante un proceso de dibujo, se realiza el <b>dibujo de forma continua o libre</b> y no vrtice a vrtice.</li></ul>","add_wfs":"Aadir capa WFS","add_wfs_content":"<p>Para <b>descargar Features</b> aada la URL del servicio WFS o seleccione uno de los que se encuentran <b>preconfigurados</b> y elija la capa que sea de su inters. Al igual que con el resto de elementos puede editar su color y grosor. <b>La consulta de estos servicios se encuentra limitada y slo estn activos para niveles de zoom superiores al nivel 12</b>.</p>","loaded_layer":"Cargar ruta o capa (<span class=\'icon-upload\'></span>)","loaded_layer_content":"<p>Haga clic en el botn <span class=\'icon-upload\'></span> y seleccione el fichero en su ordenador personal. Tambin, puede desde su el explorador arrastrar el fichero a la zona de mapa y el fichero quedar cargado. Los formatos aceptados son: <b> KML, SHP(.zip), GPX, GML y GeoJSON.</b> Una vez aadida al panel, el comportamiento es igual al resto de capas y rutas vectoriales.</p>"},"tooltip":"Capas Vectoriales","change_name":"Cambiar nombre","close":"Cerrar","info":"Informacin","warning":"Advertencia","coordinates":"Coordenadas","length":"Longitud","area":"rea","zmin":"Alt. min","zmax":"Alt. max","altitude":"Altitud","distance":"Dist. total","ytitle":"Altitud (m)","xtitle":"Distancia (km)","title_plugin":"Capas Vectoriales","vector_layers":"Capas vectoriales","profile":"Perfil Topogrfico","add_point_layer":"Crear capas de puntos","add_line_layer":"Crear capas de lneas/rutas","add_poly_layer":"Crear capas de polgonos","add_wfs_layer":"Aadir capa WFS","load_layer":"Cargar ruta o capa","point_layer":"Capa puntual","line_layer":"Capa lineal","poly_layer":"Capa poligonal","show_hide":"Ver/Ocultar","add_geom":"Aadir geometra","edit_geom":"Editar geometra","edit_geom_line":"Editar/Perfil","layer_zoom":"Zoom a la capa","download_layer":"Descargar capa","delete_layer":"Eliminar capa","color":"Color","thickness":"Grosor","line":"Trazo","delete_geom":"Borrar geometra","query_profile":"Perfil topogrfico","accepted":"Los formatos aceptados son KML, SHP (.zip), GPX, GML y GeoJSON.","select_file":"Selecciona el fichero","download":"Descargar","change":"Cambiar","expand":"Mostrar","collapse":"Ocultar","url_service":"URL del servicio","query":"Consultar","clean":"Limpiar bsqueda","select_service":"Selecciona una capa","select":"Seleccionar","loading":"Cargando","cancel":"Cancelar","reload_from_view":"Recargar desde la vista","loaded_services":"Servicios precargados","availables":"Servicios precargados disponibles","show_service_info":"Mostrar informacin del servicio","hide_service_info":"Ocultar informacin del servicio","title":"Ttulo","abstract":"Resumen","responsible":"Responsable","access_constraints":"Restricciones de acceso","symbology":"Simbologa","symbology_profile":"Simbologa/Perfil","generating_profile":"Generando perfil","calculate":"Calcular","calculating":"Calculando","try_again":"No se ha podido realizar la consulta. Por favor, intntelo de nuevo ms tarde","from_url":"Desde URL","url_layer":"URL del fichero","add_layer":"Aadir capa","add_from_url":"Aadir capa desde URL","add_points":"Aadir puntos"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"The implementation used cannot create VectorsControl controls.","unknown_geom":"Unrecognized geometry.","format_not_selected":"No download format selected.","size":"The selected file exceeds the maximum 20 MB allowed.","load":"Error when loading the file.","no_geoms":"No geometries have been detected in this file.","load_correct":"Error when loading the file. Check that it is the right file.","extension":"A not allowed file extension has been inserted. The allowed ones are: KML, SHP(.zip), GPX, GML and GeoJSON.","not_extent":"Cannot get the layer extension.","no_features":"This layer does not yet have any entities. Add entities first.","query_profile":"The altitude data for this entity could not be queried.","capabilities":"An error has occurred in obtaining the GetCapabilities document","valid_url":"You must provide a valid URL","empty":"The fields are empty","error_features_wfs":"Unable to load layer features. Try increasing the zoom level in the area of interest.","error_no_features_wfs":"Unable to load layer features. Try again in another area.","error_wfs":"Could not load WFS service","wfs_zoom":"Increase the zoom in * levels if you want to add this WFS service","url_not_valid":"The entered URL is not valid","obsolete":"Developer message: M.plugin.Vectors has been deprecated, use the M.plugin.VectorsManagement instead"},"help_template":{"help":"Help","create_layers":"Create points (<span class=\'icon-points\'></span>), lines/routes (<span class=\'icon-lines\'></span>), or polygons (<span class=\'icon-polygon\'></span>) layers","create_layers_content":"<p>When clicking on <span class=\'icon-points\'></span>, <span class=\'icon-lines\'></span> or <span class=\'icon-polygon\'></span > an empty layer with a temporary name will be added. <b>Each layer can have one or several drawing elements and you can have as many layers as you want.</b></p><p>If you want to change the name of the layer, click on the name of the layer and enter the name you want.</p><p>With the option <b>\\"Add Geometry\\"</b> (<span class=\'icon-add m-vector-layer-add\'></span>) selected we can add new drawing elements to our layer. The drawing procedure has the following characteristics:</p><ul><li><b>One click draws a point or vertex</b> of line or polygon.</li><li><b>Double click ends drawing</b> of line or polygon.</li><li>Pressing the <b>ESCape key interrupts and deletes the drawing</b> that was running at that moment.</li><li >While an element is being drawn, pressing the <b>Ctrl+Z key combination deletes the last drawn point</b> within the current geometry. Undo, removes the last vertex being drawn.</li><li>For linear or surface elements, holding down the \\"Shift\\" or \\"Caps Lock\\" key during a drawing process performs the <b>drawing continuously or freely</b> and not vertex by vertex.</li></ul>","add_wfs":"Add WFS layer","add_wfs_content":"<p>To <b>download Features</b> add the URL of the WFS service or select one of the <b>preconfigured ones</b> and choose the layer that is of interest to you. As with the rest of the elements you can edit their color and thickness.<b> The consultation of these services is limited and they are only active for zoom levels higher than level 12</b>.</p>","loaded_layer":"Load route or layer (<span class=\'icon-upload\'></span>)","loaded_layer_content":"<p>Click the <span class=\'icon-upload\'></span> button and select the file on your personal computer. Also, you can from your browser drag the file to the map area and the file will be loaded. The accepted formats are: <b> KML, SHP(.zip), GPX, GML and GeoJSON.</b> Once added to the panel, the behavior is the same as the rest of the layers and vector routes.</p>"},"tooltip":"vector layers","change_name":"Change name","close":"Close","info":"Information","warning":"Warning","coordinates":"Coordinates","length":"Length","area":"Area","zmin":"Min. Height","zmax":"Max. Height","altitude":"Height","distance":"Total Dist.","ytitle":"Height (m)","xtitle":"Distance (km)","title_plugin":"Vector Layers","vector_layers":"Vector layers","profile":"Topographic Profile","add_point_layer":"Create points layers","add_line_layer":"Create lines layers/routes","add_poly_layer":"Create polygons layers","add_wfs_layer":"Add WFS layer","load_layer":"Load route or layer","point_layer":"Point layer","line_layer":"Linear layer","poly_layer":"Polygonal layer","show_hide":"Show/Hide","add_geom":"Add geometry","edit_geom":"Edit geometry","edit_geom_line":"Edit/Profile","layer_zoom":"Zoom to the layer","download_layer":"Download layer","delete_layer":"Remove layer","color":"Color","thickness":"Thickness","line":"Stroke","delete_geom":"Remove geometry","query_profile":"Topographic profile","accepted":"The accepted formats are KML, SHP (.zip), GPX, GML and GeoJSON.","select_file":"Select the file","download":"Download","change":"Change","expand":"Show","collapse":"Hide","url_service":"Service URL","query":"Consult","clean":"Clean search","select_service":"Select layer","select":"Select","loading":"Loading","cancel":"Cancel","reload_from_view":"Reload from the view","loaded_services":"Preloaded services","availables":"Preloaded services available","show_service_info":"Show service information","hide_service_info":"Hide service information","title":"Title","abstract":"Abstract","responsible":"Responsible","access_constraints":"Access constraints","symbology":"Symbology","symbology_profile":"Symbology/Profile","generating_profile":"Generating profile","calculate":"Calculate","calculating":"Calculating","try_again":"The query could not be executed. Please try again later","from_url":"From URL","url_layer":"File URL","add_layer":"Add layer","add_from_url":"Add layer from URL","add_points":"Add points"}')},function(t){t.exports=JSON.parse('{"nextView":"Vista siguiente","previousView":"Vista anterior","viewhistory_obsolete":"Mensaje para el desarrollador: M.plugin.ViewHistory ha quedado obsoleto, utilice en su lugar M.plugin.ViewManagement"}')},function(t){t.exports=JSON.parse('{"nextView":"Next View","previousView":"Previous View","viewhistory_obsolete":"Message to the developer: M.plugin.ViewHistory has been deprecated, please use M.plugin.ViewManagement instead"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"La implementacin usada no puede crear controles XYLocatorControl.","wrong_coords":"Las coordenadas introducidas no son correctas.","transforming":"Error realizando la transformacin.","wrong_values":"Algn valor introducido no es correcto. Recuerda que los minutos y los segundos tienen que tener un valor entre 0 y 59 y los grados entre 0 y 180.","xylocator_obsolete":"Mensaje para el desarrollador: M.plugin.XYLocator ha quedado obsoleto, utilice en su lugar M.plugin.Locator"},"coordinateresult":"coordinateresult","tooltip":"Buscar por coordenadas","geographic":"Geograficas","zone":"huso","title":"Localizador por coordenadas","srs":"Sistema de coordenadas","longitude":"Longitud","latitude":"Latitud","locate":"Localizar","clean":"Limpiar","north":"Norte","south":"Sur","east":"Este","west":"Oeste","dms":"GMS","dd":"GD"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"The implementation used cannot create XYLocatorControl.","wrong_coords":"The coordinates entered are not correct.","transforming":"Error performing the transformation.","wrong_values":"Some value entered are not correct. Remember that minutes and seconds must be between 0 and 59 and degrees between 0 and 180.","xylocator_obsolete":"Message to the developer: M.plugin.XYLocator has been deprecated, please use M.plugin.Locator instead"},"coordinateresult":"coordinateresult","tooltip":"Search by coordinates","geographic":"Geographic","zone":"zone","title":"Coordinate locator","srs":"Coordinate system","longitude":"Longitude","latitude":"Latitude","locate":"Locate","clean":"Clean","north":"North","south":"South","east":"East","west":"West","dms":"DMS","dd":"DD"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"La implementacin usada no puede crear controles ZoomExtentControl.","zoomextent_obsolete":"Mensaje para el desarrollador: M.plugin.ZoomExtent ha quedado obsoleto, utilice en su lugar M.plugin.ViewManagement"},"tooltip":"Zoom al recuadro"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"The implementation used cannot create ZoomExtentControl.","zoomextent_obsolete":"Message to the developer: M.plugin.ZoomExtent has been deprecated, please use M.plugin.ViewManagement instead"},"tooltip":"Zoom to box"}')},function(t){t.exports=JSON.parse('{"tooltip":"Herramientas de zoom","zoomin":"Aumentar zoom","zoomout":"Disminuir zoom","previouszoom":"Zoom anterior","nextzoom":"Zoom posterior","rectzoom":"Zoom ventana","zoom_extent":"Zoom a la extensin del mapa","zoompanel_obsolete":"Mensaje para el desarrollador: M.plugin.ZoomPanel ha quedado obsoleto, utilice en su lugar M.plugin.ViewManagement"}')},function(t){t.exports=JSON.parse('{"tooltip":"Zoom tools","zoomin":"Zoom In","zoomout":"Zoom Out","previouszoom":"Previous history","nextzoom":"Next history","rectzoom":"Rectangular zoom","zoom_extent":"Zoom to the map extension","zoompanel_obsolete":"Message to the developer: M.plugin.ZoomPanel has been deprecated, please use M.plugin.ViewManagement instead"}')},function(t){t.exports=JSON.parse('{"tooltip":"Calcular rea de visibilidad","calculating":"Realizando geoproceso de anlisis","warning":"Advertencia","outbox":"Las coordenadas no estn dentro del mbito de clculo","error_query":"No se ha podido realizar la consulta","active_viewshed":"Hacer click en punto del mapa","clear":"Limpiar resultado"}')},function(t){t.exports=JSON.parse('{"tooltip":"Calculate visibility area","calculating":"Performing geoprocessing analysis","warning":"Warning","outbox":"he coordinates are not within the calculation range","error_query":"Unable to perform query","active_viewshed":"Click a point on the map","clear":"Clean result"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"La implementacin usada no puede crear controles ViewManagementControl.","impl_zoomextent":"La implementacin usada no puede crear controles ZoomExtentControl.","impl_viewhistory":"La implementacin usada no puede crear controles ViewHistoryControl.","impl_zoompanel":"La implementacin usada no puede crear controles ZoomPanelControl.","impl_predefinedzoom":"La implementacin usada no puede crear controles PredefinedZoomControl.","no_controls":"El plugin ViewManagement necesita activar al menos un control."},"textHelp":{"help1":"La extensin gestin de la vista, permite interactuar mediante un panel con los controles de la vista.","help2":"La extensin es personalizable, por lon que puede cambiar de un visualizador a otro.","help3":"El panel de la extensin tiene varios controles, cada uno con sus propias herramientas.","help4":"El primero de ellos es el control de vistas predefinidas, que por defecto permite volver a una vista por defecto","help5":"El control de acercar la vista por rectngulo. Habilita el dibujo de un rectngulo mediante dos puntos en el visualizador, que al terminarlo, hace zoom al mismo.","help6":"El control de histrico permite ir haca delante y hacia atrs a las distintas vistas que se han ido almacenando en el visualizador","help7":"El control de acercar/alejarse, permite mediante dos botones hacer \'zoom in\' o \'zoom out\' en el visualizador.","help8":"La informacin relevante a la extensin y su posible parametrizacin est documentada en","help9":"El ejemplo de uso de sus parmetros puede comprobarse en"},"tooltip":"Gestin de la vista","viewhistory":"Historial","nextView":"Vista siguiente","previousView":"Vista anterior","predefinedzoom":"Zoom predefinido","zoomextent":"Zoom al recuadro","zoompanel":"Herramientas de zoom","zoomin":"Aumentar zoom","zoomout":"Disminuir zoom"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"The implementation used cannot create ViewManagementControl.","impl_zoomextent":"The implementation used cannot create ZoomExtentControl.","impl_viewhistory":"The implementation used cannot create ViewHistoryControl.","impl_zoompanel":"The implementation used cannot create ZoomPanelControl.","impl_predefinedzoom":"The implementation used cannot create PredefinedZoomControl.","no_controls":"The ViewManagement plugin needs to activate at least one control."},"textHelp":{"help1":"The view management extension allows you to interact through a panel with the view controls.","help2":"The extension is customizable, so it can change from one viewer to another.","help3":"The extension panel has several controls, each with its own tools.","help4":"The first of them is the predefined views control, which by default allows you to return to a default view","help5":"The zoom in view by rectangle control. Enables the drawing of a rectangle using two points in the viewer, which when finished, zooms into it.","help6":"The history control allows you to go forward and backward to the different views that have been stored in the viewer","help7":"The zoom in/out control allows using two buttons to \'zoom in\' or \'zoom out\' in the viewer.","help8":"The information relevant to the extension and its possible parameterization is documented in","help9":"The example of use of its parameters can be checked in"},"tooltip":"View Management","viewhistory":"View history","nextView":"Next view","previousView":"Previous view","predefinedzoom":"Predefined zoom","zoomextent":"Zoom to box","zoompanel":"Zoom tools","zoomin":"Zoom In","zoomout":"Zoom Out"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"La implementacin usada no puede crear controles LocatorControl.","impl_infocatastro":"La implementacin usada no puede crear controles InfoCatastroControl.","impl_xylocator":"La implementacin usada no puede crear controles XYLocatorControl.","impl_ignsearchlocator":"La implementacin usada no puede crear controles IGNSearchLocatorControl.","no_controls":"El plugin Locator necesita activar al menos un control.","wrong_coords":"Las coordenadas introducidas no son correctas.","transforming":"Error realizando la transformacin.","wrong_values":"Algn valor introducido no es correcto. Recuerda que los minutos y los segundos tienen que tener un valor entre 0 y 59 y los grados entre 0 y 180.","mapeaerror":"No es posible establecer la conexin con el servidor de Catastro.","no_province":"Debe seleccionar una provincia.","no_mun":"Debe seleccionar un municipio.","no_polygon":"Debe seleccionar un polgono.","no_parcel":"Debe seleccionar una parcela.","json_invalid":"La respuesta no es un JSON vlido:","no_refcatastro":"Debe introducir una referencia catastral.","noInfo":"PARA ESAS COORDENADAS NO HAY REFERENCIA DISPONIBLE","noresults":"No se han encontrado resultados","no_direction":"No existe direccin","error_findjsonp":"Error en la peticin del servicio findJSONp.","error_candidates":"Error en la peticin del servicio candidatesJSONp."},"textHelp":{"help1":"La extensin de bsqueda de lugares permite encontrar sitios por coordenadas o al revs, coordenadas y sitios en el mapa mediante la introduccin de texto.","help2":"Esta extensin es personalizable mediante parmetros, por lo que la extensin puede cambiar de un visualizador a otro.","help3":"La extensin se compone de varios controles:","help4":"El control de bsqueda por lugares. Es una fachada del geocodificador de Cartociudad (https://www.idee.es/resources/documentos/Cartociudad/CartoCiudad_ServiciosWeb.pdf), que permite realizar dos tipos de bsquedas:","help5":"Por texto, por ejemplo, si queremos buscar la Calle mayor de Pamplona:","help6":"Al buscar, nos aparecen varias alternativas. En este caso buscamos la primera. Al hacer click sobre la opcin uno, nos lleva a la calle marcando la geometra:","help7":"Por coordenadas, activando la herramienta de obtener direccin por punto del mapa, el cursor nos cambiar a una chincheta. Haciendo click sobre un punto del mapa, nos devuelve la informacin asociada a ese punto:","help8":"El siguiente control es la bsqueda mediante catastro y se compone de dos herramientas:","help9":"La primera de ellas permite buscar una parcela mediante provincia, municipio, polgono y parcela:","help10":"La segunda permite la bsqueda por referencia catastral o consultar la referencia catastral por un punto.","help11":"Por ejemplo, si queremos buscar la referencia catastral \'0910001QD3101S\':","help12":"O el caso contrario, si quisiramos saber la referencia catastral de un punto del mapa:","help13":"Por ltimo, el control de bsqueda de un punto, permite introducir la longitud y latitud de un punto y obtenerlo en el mapa. Por ejemplo para longitud -3,43556 y latitud 40,938274 :","help14":"La informacin relevante a la extensin y su posible parametrizacin est documentada en","help15":"El ejemplo de uso de sus parmetros puede comprobarse en"},"tooltip":"Buscar un lugar","xylocator":"Buscar por coordenadas","geographic":"Geogrficas","zone":"huso","dms":"GMS","dd":"GD","srs":"Sistema de coordenadas","longitude":"Longitud","latitude":"Latitud","locate":"Localizar","clean":"Eliminar","north":"Norte","south":"Sur","east":"Este","west":"Oeste","infocatastro":"Buscar parcela/catastro","plot":"Parcela","searchplot":"Buscar parcela","searchcadastre":"Buscar catastro","province":"Provincia","selectprov":"Seleccione provincia","municipality":"Municipio","selectmuni":"Seleccione municipio","estate":"Polgono","search":"Buscar","refCastatro":"Referencia catastral","insertCadastre":"Insertar catastro","notaRef":"Cdigo de parcela (14 primeros dgitos). Ej.9977715VK3797F (edificio del IGN)","consultReference":"Consultar Referencia","exact":"Direccin exacta","aprox":"Direccin aproximada","cadastral_information":"Informacin catastral","reference":"Referencia catastral","description":"Descripcin","noReference":"No hay referencia","ignsearch":"Buscar por lugares","search_direction":"Topnimo, direccin o cdigo postal","get_direction":"Obtener direccin en un punto del mapa","toponimo":"Toponimo"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"The implementation used cannot create LocatorControl.","impl_infocatastro":"The implementation used cannot create InfoCatastroControl.","impl_xylocator":"The implementation used cannot create XYLocatorControl.","impl_ignsearchlocator":"The implementation used cannot create IGNSearchLocatorControl.","no_controls":"The Locator plugin needs to activate at least one control.","wrong_coords":"The coordinates entered are not correct.","transforming":"Error performing the transformation.","wrong_values":"Some value entered are not correct. Remember that minutes and seconds must be between 0 and 59 and degrees between 0 and 180.","mapeaerror":"It is not possible to establish a connection with the Cadastre server.","no_province":"You must select a province.","no_mun":"You must select a municipality.","no_polygon":"You must select an polygon.","no_parcel":"You must select a parcel.","json_invalid":"The response is not a valid JSON:","no_refcatastro":"You must enter a cadastral reference.","noInfo":"NO REFERENCES AVAILABLE FOR THESE COORDINATES","noresults":"No results found","no_direction":"No address","error_findjsonp":"Error in the findJSONp service request.","error_candidates":"Error in the candidatesJSONp service request."},"textHelp":{"help1":"The place search extension allows you to find places by coordinates or the other way around, coordinates and places on the map by entering text.","help2":"This extension is customizable via parameters, so the extension can change from one viewer to another.","help3":"The extension is made up of several controls:","help4":"The search control by places. It is a faade of the Cartociudad geocoder (https://www.idee.es/resources/documentos/Cartociudad/CartoCiudad_ServiciosWeb.pdf), which allows two types of searches to be carried out:","help5":"By text, for example, if we want to search for the main street of Pamplona:","help6":"When searching, several alternatives appear. In this case we look for the first one. When we click on option one, it takes us to the street marking the geometry:","help7":"By coordinates, activating the tool to obtain address by point on the map, the cursor will change to a pin. Clicking on a point on the map returns the information associated with that point:","help8":"The next control is the cadastre search and is made up of two tools:","help9":"The first of them allows you to search for a plot by province, municipality, polygon and plot:","help10":"The second allows searching by cadastral reference or consulting the cadastral reference by a point.","help11":"For example, if we want to search for the cadastral reference \'0910001QD3101S\':","help12":"Or the opposite case, if we wanted to know the cadastral reference of a point on the map:","help13":"Finally, the point search control allows you to enter the longitude and latitude of a point and obtain it on the map. For example, for longitude -3.43556 and latitude 40.938274:","help14":"The information relevant to the extension and its possible parameterization is documented in","help15":"The example of use of its parameters can be seen in"},"tooltip":"Find a place","xylocator":"Search by coordinates","geographic":"Geographic","zone":"zone","dms":"DMS","dd":"DD","srs":"Coordinate system","longitude":"Longitude","latitude":"Latitude","locate":"Locate","clean":"Delete","north":"North","south":"South","east":"East","west":"West","infocatastro":"Search parcel/cadastre","plot":"Parcel","searchplot":"Search parcel","searchcadastre":"Search cadastre","province":"Province","selectprov":"Select a province","municipality":"Municipality","selectmuni":"Select a municipality","estate":"Polygon","search":"Search","refCastatro":"Cadastral reference","insertCadastre":"Insert cadastre","notaRef":"Parcel code (first 14 digits). Ex.9977715VK3797F (IGN building)","consultReference":"Consult Reference","exact":"Exact address","aprox":"Approximate address","cadastral_information":"Cadastre information","reference":"Cadastral reference","description":"Description","noReference":"No reference","ignsearch":"Search places","search_direction":"Place name, address or postal code","get_direction":"Get direction at a point on the map","toponimo":"Place name"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"La implementacin usada no puede crear controles LocatorscnControl.","impl_infocatastro":"La implementacin usada no puede crear controles InfoCatastroControl.","impl_xylocatorscn":"La implementacin usada no puede crear controles XYLocatorscnControl.","impl_ignsearchlocatorscn":"La implementacin usada no puede crear controles IGNSearchLocatorscnControl.","no_controls":"El plugin Locatorscn necesita activar al menos un control.","wrong_coords":"Las coordenadas introducidas no son correctas.","transforming":"Error realizando la transformacin.","wrong_values":"Algn valor introducido no es correcto. Recuerda que los minutos y los segundos tienen que tener un valor entre 0 y 59 y los grados entre 0 y 180.","mapeaerror":"No es posible establecer la conexin con el servidor de Catastro.","no_province":"Debe seleccionar una provincia.","no_mun":"Debe seleccionar un municipio.","no_polygon":"Debe seleccionar un polgono.","no_parcel":"Debe seleccionar una parcela.","json_invalid":"La respuesta no es un JSON vlido:","no_refcatastro":"Debe introducir una referencia catastral.","noInfo":"PARA ESAS COORDENADAS NO HAY REFERENCIA DISPONIBLE","noresults":"No se han encontrado resultados","no_direction":"No existe direccin","error_findjsonp":"Error en la peticin del servicio findJSONp.","error_candidates":"Error en la peticin del servicio candidatesJSONp."},"tooltip":"Localizador","xylocatorscn":"Buscar por coordenadas","geographic":"Geogrficas","zone":"huso","dms":"GMS","dd":"GD","srs":"Sistema de coordenadas","longitude":"Longitud","latitude":"Latitud","locate":"Localizar","clean":"Eliminar","north":"Norte","south":"Sur","east":"Este","west":"Oeste","infocatastro":"Buscar parcela/catastro","plot":"Parcela","searchplot":"Buscar parcela","searchcadastre":"Buscar catastro","province":"Provincia","selectprov":"Seleccione provincia","municipality":"Municipio","selectmuni":"Seleccione municipio","estate":"Polgono","search":"Buscar","refCastatro":"Referencia catastral","insertCadastre":"Insertar catastro","notaRef":"Cdigo de parcela (14 primeros dgitos). Ej.9977715VK3797F (edificio del IGN)","consultReference":"Consultar Referencia","exact":"Direccin exacta","aprox":"Direccin aproximada","cadastral_information":"Informacin catastral","reference":"Referencia catastral","description":"Descripcin","noReference":"No hay referencia","ignsearch":"Buscar por lugares","search_direction":"Topnimo o direccin","get_direction":"Obtener direccin en un punto del mapa","toponimo":"Toponimo"}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"The implementation used cannot create LocatorscnControl.","impl_infocatastro":"The implementation used cannot create InfoCatastroControl.","impl_xylocatorscn":"The implementation used cannot create XYLocatorscnControl.","impl_ignsearchlocatorscn":"The implementation used cannot create IGNSearchLocatorscnControl.","no_controls":"The Locatorscn plugin needs to activate at least one control.","wrong_coords":"The coordinates entered are not correct.","transforming":"Error performing the transformation.","wrong_values":"Some value entered are not correct. Remember that minutes and seconds must be between 0 and 59 and degrees between 0 and 180.","mapeaerror":"It is not possible to establish a connection with the Cadastre server.","no_province":"You must select a province.","no_mun":"You must select a municipality.","no_polygon":"You must select an polygon.","no_parcel":"You must select a parcel.","json_invalid":"The response is not a valid JSON:","no_refcatastro":"You must enter a cadastral reference.","noInfo":"NO REFERENCES AVAILABLE FOR THESE COORDINATES","noresults":"No results found","no_direction":"No address","error_findjsonp":"Error in the findJSONp service request.","error_candidates":"Error in the candidatesJSONp service request."},"tooltip":"Locatorscn","xylocatorscn":"Search by coordinates","geographic":"Geographic","zone":"zone","dms":"DMS","dd":"DD","srs":"Coordinate system","longitude":"Longitude","latitude":"Latitude","locate":"Locate","clean":"Delete","north":"North","south":"South","east":"East","west":"West","infocatastro":"Search parcel/cadastre","plot":"Parcel","searchplot":"Search parcel","searchcadastre":"Search cadastre","province":"Province","selectprov":"Select a province","municipality":"Municipality","selectmuni":"Select a municipality","estate":"Polygon","search":"Search","refCastatro":"Cadastral reference","insertCadastre":"Insert cadastre","notaRef":"Parcel code (first 14 digits). Ex.9977715VK3797F (IGN building)","consultReference":"Consult Reference","exact":"Exact address","aprox":"Approximate address","cadastral_information":"Cadastre information","reference":"Cadastral reference","description":"Description","noReference":"No reference","ignsearch":"Search places","search_direction":"Place name or address","get_direction":"Get direction at a point on the map","toponimo":"Place name"}')},function(t){t.exports=JSON.parse('{"exception":{"emptylayer":"La capa de dibujo est vaca.","geometrianoencontrar":"Geometra no reconocida.","formatocoord":"Las coordenadas introducidas no tienen el formato correcto.","introduzcoord":"No se han introducido las coordenadas correctamente.","errorfichero":"Error al cargar el fichero.","nodetectado":"No se han detectado geometras en este fichero.","comprobar":"Error al cargar el fichero. Compruebe que se trata del fichero correcto.","insertado":"No se ha insertado una extensin de archivo permitida. Las permitidas son: KML, SHP(.zip), GPX y GeoJSON.","maxfichero":"El fichero seleccionado sobrepasa el mximo de 20 MB permitido.","ficherosel":"No se ha seleccionado formato de descarga.","query_profile":"No se han podido consultar los datos de altitud para esta entidad.","featuresel":"No se han seleccionado elementos","topographic_one_element":"El perfil topografico solo se puede realizar para un nico elemento","typeLayer":"Las capas de tipo MVT y MBTilesVector no son editables"},"help_template":{"title":"Ayuda","addlayer_title":"Crear capa","addlayer_content":"Esta herramienta aade al mapa una nueva capa vectorial. Al hacer click se abre una ventana en la que se puede introducir el nombre de la capa.","selection_title":"Seleccin","selection_content":"Herramienta para seleccionar elementos de la capa. Hay varias herramientas que funcionan diferente si esta herramienta esta activa o no.","creation_title":"Creacin","creation_content":"Herramienta para dibujar diferentes tipos de geometras en la capa seleccionada.","creation_content_1":"Punto","creation_content_1_1":"Permite dibujar un punto mediante click en el mapa.","creation_content_2":"Punto por coordenadas","creation_content_2_1":"Permite crear un punto introduciendo las coordenadas.","creation_content_3":"Linea","creation_content_3_1":"Permite dibujar una linea en el mapa. Un click dibuja un punto o vrtice, doble click finaliza el dibujo.","creation_content_4":"Poligono","creation_content_4_1":"Permite dibujar un polgono en el mapa. Un click dibuja un punto o vrtice, doble click finaliza el dibujo.","creation_content_5":"Figura","creation_content_5_1":"Permite dibujar una figura regular o irregular en el mapa. Un click establece la esquina superior izquierda, un segundo click finaliza el dibujo.","creation_content_6":"Texto","creation_content_6_1":"Permite escribir un texto en un punto del mapa.","edition_title":"Edicin","edition_content":"Herramienta para editar las geometras de los elementos de la capa.","edition_content_1":"Editar geometra","edition_content_1_1":"Permite editar los vrtices de una geometra","edition_content_2":"Agujero","edition_content_2_1":"Permite crear un agujero en un elemento. Solo vlido para polgonos.","edition_content_3":"Rotacin","edition_content_3_1":"Permite rotar los elementos seleccionados.","edition_content_4":"Escalar","edition_content_4_1":"Permite escalar los elementos seleccionados.","edition_content_5":"Mover","edition_content_5_1":"Permite mover los elementos seleccionados.","edition_content_6":"Editar atributos","edition_content_6_1":"Permite editar los atributos de los elementos de la capa o los seleccionados.","edition_content_7":"Limpiar","edition_content_7_1":"Permite eliminar todos los elementos de la capa.","style_title":"Edicin de estilos","style_content":"Herramienta para editar los estilos de la capa o elementos seleccionados. Se dividen en estilos para punto, linea o polgono.","analysis_title":"Analisis","analysis_content":"Herramienta para el distintos anlisis geogrficos.","analysis_content_1":"Perfil topogrfico","analysis_content_1_1":"Permite mostrar un grfico que representa el relieve del terreno. En el caso de elementos puntuales se indica unicamente su altura y coordenadas.","analysis_content_2":"rea de influencia","analysis_content_2_1":"Permite dibujar un rea de influencia de un elemento.","analysis_content_3":"Extensin","analysis_content_3_1":"Permite mostrar la extensin de un objeto geogrfico.","analysis_content_4":"GeoJSON","analysis_content_4_1":"Permite ver el GeoJSON de la capa o elementos seleccionados.","download_title":"Descarga","download_content":"Esta herramienta permite descargar la capa completa o los elementos seleccionados en formato GeoJSON, KML, GPX y Shapefile."},"tooltip":"Gestin de Vectores","selection":"Seleccionar","analysis":"Anlisis","creation":"Creacin","download":"Descargar","edition":"Edicin","help":"Ayuda","style":"Estilo","selectLayerDefault":"Seleccionar capa","selectionLayer":"Capa","selectionFeature":"Feature","creationLayer":"Capa","creationLayer_done":"La capa se ha creado con xito!","creationPoint":"Punto","creationCoordPoint":"Punto coordenadas","creationLine":"Linea","creationPolygon":"Polgono","creationFigure":"Figura","creationText":"Texto","creationLongitude":"Longitud","creationLatitude":"Latitud","styleColor":"Color","styleThickness":"Grosor","styleFont":"Fuente","styleSize":"Tamao","opacity":"Opacidad","radius":"Radio","style_options":"Opciones","apply_style":"Aplicar","analysisProfile":"Perfil topogrfico","analysisBuffer":"rea de influencia","getGeoJSON":"Ver GeoJSON","extension":"Extensin","draw":"Dibujar","createdLayer":"Creada capa","zmin":"Alt. min","zmax":"Alt. max","altitude":"Altitud","distance":"Dist. total","ytitle":"Altitud (m)","xtitle":"Distancia (km)","title_popup_buffer":"REA DE INFLUENCIA","title_popup_attribute":"NUEVO ATRIBUTO","title_popup_editAttribute":"RENOMBRAR ATRIBUTO","unit_m":"Metros","unit_km":"Kilmetros","editgeometria":"Editar geometria","clean":"Limpiar","hole":"Agujero","rotation":"Rotacin","scale":"Escalar","move":"Mover","attributes":"Atributos","delete":"Borrar geometra","newcolumn":"Nueva columna","layerName":"Nombre","layerLegend":"Leyenda","title_new_layer":"NUEVA CAPA VECTORIAL","title_attribute_table":"Edicin de atributos","title_point_profile":"Datos punto","point_profile_map_coordinates":"Coordenadas mapa","point_profile_geographic_coordinates":"Coordenadas geogrficas","calculate":"Calcular","title_clear_geometries":"Limpiar capa","clear_geometries_msg":"Seguro que desea eliminar todos los elementos de la capa?","confirm":"Confirmar","accept":"Aceptar","cancel":"Cancelar","cuadrilatero":"Cuadriltero","circulo":"Crculo","triangulo":"Tringulo","pentagono":"Pentgono","hexagono":"Hexgono","close":"Cerrar","fill":"Relleno","stroke":"Trazo","opts_point":"Opciones de puntos"}')},function(t){t.exports=JSON.parse('{"exception":{"emptylayer":"The drawing layer is empty.","geometrianoencontrar":"Unrecognized geometry.","formatocoord":"The entered coordinates are not in the correct format.","introduzcoord":"Coordinates are not entered correctly.","errorfichero":"Error loading the file.","nodetectado":"No geometries have been detected in this file.","comprobar":"Error loading the file. Verify that this is the correct file.","insertado":"A permitted file extension has not been inserted. The allowed ones are: KML, SHP (.zip), GPX and GeoJSON.","maxfichero":"The selected file exceeds the maximum of 20 MB allowed","ficherosel":"Download format has not been selected.","query_profile":"The altitude data for this entity could not be queried.","featuresel":"No elements have been selected","topographic_one_element":"The topographic profile can only be made for a single element","typeLayer":"Layers of type MVT and MBTilesVector are not editable"},"help_template":{"title":"Help","addlayer_title":"Create layer","addlayer_content":"This tool adds a new vector layer to the map. Clicking on it opens a window in which you can enter the layer name.","selection_title":"Selection","selection_content":"Tool for selecting elements of the layer. There are several tools that work differently if this tool is active or not.","creation_title":"Creation","creation_content":"Tool to draw different types of geometries on the selected layer.","creation_content_1":"Point","creation_content_1_1":"Allows you to draw a point by clicking on the map.","creation_content_2":"Point by coordinates","creation_content_2_1":"Allows you to create a point by entering the coordinates.","creation_content_3":"Line","creation_content_3_1":"Allows you to draw a line on the map. One click draws a point or vertex, double click finishes the drawing.","creation_content_4":"Polygon","creation_content_4_1":"Allows you to draw a polygon on the map. One click draws a point or vertex, double click finishes the drawing.","creation_content_5":"Figure","creation_content_5_1":"Allows you to draw a regular or irregular shape on the map. One click sets the top left corner, a second click finishes the drawing.","creation_content_6":"Text","creation_content_6_1":"Allows you to write text at a point on the map.","edition_title":"Edition","edition_content":"Tool to edit the geometries of the layer elements.","edition_content_1":"Edit geometry","edition_content_1_1":"Allows you to edit the vertices of a geometry","edition_content_2":"Hole","edition_content_2_1":"Allows you to create a hole in an element. Only valid for polygons.","edition_content_3":"Rotation","edition_content_3_1":"Allows you to rotate the selected elements.","edition_content_4":"Scale","edition_content_4_1":"Allows scaling of selected elements.","edition_content_5":"Move","edition_content_5_1":"Allows you to move the selected elements.","edition_content_6":"Edit attributes","edition_content_6_1":"Allows you to edit the attributes of the layer or selected elements.","edition_content_7":"Clear","edition_content_7_1":"Allows you to delete all elements of the layer.","style_title":"Style editing","style_content":"Tool to edit the styles of the layer or selected elements. They are divided into styles for point, line or polygon.","analysis_title":"Analysis","analysis_content":"Tool for different geographic analyses.","analysis_content_1":"Topographic profile","analysis_content_1_1":"Allows you to display a graph that represents the relief of the terrain. In the case of specific elements, only their height and coordinates are indicated.","analysis_content_2":"Area of influence","analysis_content_2_1":"Allows you to draw an area of influence of an element.","analysis_content_3":"Extension","analysis_content_3_1":"Allows you to show the extension of a geographical object.","analysis_content_4":"GeoJSON","analysis_content_4_1":"Allows you to view the GeoJSON of the layer or selected elements.","download_title":"Download","download_content":"This tool allows you to download the complete layer or selected elements in GeoJSON, KML and Shapefile format."},"tooltip":"Vector Management","selection":"Selection","analysis":"Analysis","creation":"Creation","download":"Download","edition":"Edition","help":"Help","style":"Style","selectlayerdefault":"Select layer","selectionlayer":"Layer","selectionfeature":"Feature","creationLayer":"Layer","creationLayer_done":"The layer has been successfully created!","creationPoint":"Point","creationCoordPoint":"Coordinates point","creationLine":"Line","creationPolygon":"Polygon","creationFigure":"Figure","creationText":"Text","creationLongitude":"Longitude","creationLatitude":"Latitude","styleColor":"Color","styleThickness":"Thickness","styleFont":"Font","styleSize":"Size","opacity":"Opacity","radius":"Radius","style_options":"Options","apply_style":"Apply","analysisProfile":"Topographic profile","analysisBuffer":"Buffer","getGeoJSON":"Get GeoJSON","extension":"Extension","draw":"Draw","createdLayer":"Created layer","zmin":"Min alt.","zmax":"Max. alt.","altitude":"Altitude","distance":"Total dist.","ytitle":"Altitud (m)","xtitle":"Distance (km)","title_popup_buffer":"INFLUENCE AREA","title_popup_attribute":"NEW ATTRIBUTE","title_popup_editAttribute":"RENAME ATTRIBUTE","unit_m":"Metres","unit_km":"Kilometres","editgeometria":"Edit geometry","clean":"Clean","hole":"Hole","rotation":"Rotation","scale":"Scale","move":"Move","attributes":"Attributes","delete":"Delete geometry","newcolumn":"New column","layerName":"Name","layerLegend":"Legend","title_new_layer":"NEW VECTOR LAYER","title_attribute_table":"Attribute edition","title_point_profile":"Point data","point_profile_map_coordinates":"Map coordinates","point_profile_geographic_coordinates":"Geographic coordinates","calculate":"Calculate","title_clear_geometries":"Clear layer","clear_geometries_msg":"Are you sure you want to remove all elements from the layer?","confirm":"Ok","accept":"Accept","cancel":"Cancel","cuadrilatero":"Quadrilateral","circulo":"Circle","triangulo":"Triangle","pentagono":"Pentagon","hexagono":"Hexagon","close":"Close","fill":"Fill","stroke":"Stroke","opts_point":"Point Options"}')},function(t,e,r){"use strict";(function(e){var n=r(317);n.default&&(n=n.default);var i=r(659),o=r(679),a=r(682),s=r(683),c=r(473),l=r(688),u=r(94).Buffer,h=new l({max:20});function f(t){if(!t)throw new Error("forgot to pass buffer");return u.isBuffer(t)?t:t instanceof e.ArrayBuffer?u.from(t):t.buffer instanceof e.ArrayBuffer?1===t.BYTES_PER_ELEMENT?u.from(t):u.from(t.buffer):void 0}function p(t,e){return"string"==typeof t&&h.has(t)?c.resolve(h.get(t)):p.getShapefile(t,e).then((function(e){return"string"==typeof t&&h.set(t,e),e}))}p.combine=function(t){for(var e={type:"FeatureCollection",features:[]},r=0,n=t[0].length;r<n;)e.features.push({type:"Feature",geometry:t[0][r],properties:t[1][r]}),r++;return e},p.parseZip=function(t,e){var r;t=f(t);var o=i(t),c=[];for(r in e=e||[],o)-1===r.indexOf("__MACOSX")&&("shp"===r.slice(-3).toLowerCase()?(c.push(r.slice(0,-4)),o[r.slice(0,-3)+r.slice(-3).toLowerCase()]=o[r]):"prj"===r.slice(-3).toLowerCase()?o[r.slice(0,-3)+r.slice(-3).toLowerCase()]=n(o[r]):"json"===r.slice(-4).toLowerCase()||e.indexOf(r.split(".").pop())>-1?c.push(r.slice(0,-3)+r.slice(-3).toLowerCase()):"dbf"!==r.slice(-3).toLowerCase()&&"cpg"!==r.slice(-3).toLowerCase()||(o[r.slice(0,-3)+r.slice(-3).toLowerCase()]=o[r]));if(!c.length)throw new Error("no layers founds");var l=c.map((function(t){var r,n,i=t.lastIndexOf(".");return i>-1&&t.slice(i).indexOf("json")>-1?(r=JSON.parse(o[t])).fileName=t.slice(0,i):e.indexOf(t.slice(i+1))>-1?(r=o[t]).fileName=t:(o[t+".dbf"]&&(n=s(o[t+".dbf"],o[t+".cpg"])),(r=p.combine([a(o[t+".shp"],o[t+".prj"]),n])).fileName=t),r}));return 1===l.length?l[0]:l},p.getShapefile=function(t,e){return"string"==typeof t?".zip"===t.slice(-4).toLowerCase()?function(t,e){return o(t).then((function(t){return p.parseZip(t,e)}))}(t,e):c.all([c.all([o(t+".shp"),o(t+".prj")]).then((function(t){var e=!1;try{t[1]&&(e=n(t[1]))}catch(t){e=!1}return a(t[0],e)})),c.all([o(t+".dbf"),o(t+".cpg")]).then((function(t){return s(t[0],t[1])}))]).then(p.combine):new c((function(e){e(p.parseZip(t))}))},p.parseShp=function(t,e){if(t=f(t),u.isBuffer(e)&&(e=e.toString()),"string"==typeof e)try{e=n(e)}catch(t){e=!1}return a(t,e)},p.parseDbf=function(t,e){return t=f(t),s(t,e)},t.exports=p}).call(this,r(120))},function(t,e){t.exports='<div class="m-dialog {{severity}}">\n   <div class="m-modal">\n      <div class="m-content">\n         <div class="m-title">\n            <i class="m-icon"></i>\n            <span tabindex="{{order}}" role="heading">{{{title}}}</span>\n         </div>\n         <div tabindex="{{order}}" role="main" class="m-message">{{{message}}}</div>\n         <div class="m-button">\n            <button tabindex="{{order}}" type="button">OK</button>\n         </div>\n      </div>\n   </div>\n</div>'},function(t,e){t.exports='<div class="m-label-content">\n   {{{info}}}\n</div>'},function(t,e){t.exports='<div class="m-getfeatureinfo-content">\n   {{{info}}}\n</div>'},function(t,e){t.exports="  {{#each layers}}\n      <div class='m-getfeatureinfo-content-info'>\n          <div class='m-getfeatureinfo-content-info-header'>\n              <div class=\"m-arrow-right\"></div>\n              <div>\n                  <p> {{../info_of}} <strong>{{layerName}}</strong></p>\n              </div>\n          </div>\n          <div class='m-getfeatureinfo-content-info-body m-content-collapsed'>\n              {{{formatedInfo}}}\n          </div>\n      </div>\n  {{/each}}"},function(t,e){t.exports='<div>\n   <h2 style="text-align: center; color: #fff; background-color: #364b5f; padding: 8px 10px;">GETFEATUREINFO</h2>\n   <div>\n      <p>{{translations.help1}}</p>\n      <img src="{{urlImages}}/getfeatureinfo.png" style="margin: 0 auto; display: block">\n   </div>\n</div>'},function(t,e){t.exports='<div class="m-control m-location-container" title="{{title}}">\n    <button id="m-location-button" class="g-cartografia-gps2"></button>\n</div>'},function(t,e){t.exports='<div>\n   <h2 style="text-align: center; color: #fff; background-color: #364b5f; padding: 8px 10px;">LOCATION</h2>\n   <div>\n      <p>{{translations.help1}}</p>\n      <p>{{translations.help2}}</p>\n      <p>{{translations.help3}}</p>\n      <img src="{{urlImages}}/location.png" style="margin: 0 auto; display: block">\n   </div>\n</div>'},function(t,e){t.exports='<div \n    role="button" \n    tabindex="{{order}}" \n    class="m-control m-scale-container" \n    title="Control {{title}}"\n    >\n    <div role="text" class="m-level">{{level}} </div>\n    <div role="text" id="m-level-number"></div>\n    <span class="m-scale-separator"> | </span>\n    <div role="text" class="m-unit">{{scale}} = 1 : </div>\n    <div role="text" class="m-scale" id="m-scale-span"></div>\n</div>'},function(t,e){t.exports='<div>\n   <h2 style="text-align: center; color: #fff; background-color: #364b5f; padding: 8px 10px;">SCALE</h2>\n   <div>\n      <p>{{translations.help1}}</p>\n      <p>{{translations.help2}}</p>\n      <img src="{{urlImages}}/scale.png" style="margin: 0 auto; display: block">\n   </div>\n</div>'},function(t,e){t.exports='<div class="m-control m-rotate-container">\n    <button id="m-rotate-button" class="g-cartografia-brujula-norte" title="{{title}}"></button>\n</div>'},function(t,e){t.exports='<div>\n   <h2 style="text-align: center; color: #fff; background-color: #364b5f; padding: 8px 10px;">ROTATE</h2>\n   <div>\n      <p>{{translations.help1}}</p>\n      <p>{{translations.help2}}</p>\n      <img src="{{urlImages}}/rotate.png" style="margin: 0 auto; display: block">\n   </div>\n</div>'},function(t,e){t.exports='<div class="m-control"></div>'},function(t,e){t.exports='<div>\n   <h2 style="text-align: center; color: #fff; background-color: #364b5f; padding: 8px 10px;">SCALELINE</h2>\n   <div>\n      <p>{{translations.help1}}</p>\n      <p>{{translations.help2}}</p>\n      <p>{{translations.help3}}: <a tabindex="0" href="https://blogs.upm.es/espacio-geotig/cartografia/escala-cartografica/" target="_blank">https://blogs.upm.es/espacio-geotig/cartografia/escala-cartografica/</a></p>\n      <img src="{{urlImages}}/scaleline.png" style="margin: 0 auto; display: block">\n   </div>\n</div>'},function(t,e){t.exports='<div class="m-control"></div>'},function(t,e){t.exports='<div>\n   <h2 style="text-align: center; color: #fff; background-color: #364b5f; padding: 8px 10px;">PANZOOM</h2>\n   <div>\n      <p>{{translations.help1}}</p>\n      <img src="{{urlImages}}/panzoom.png" style="margin: 0 auto; display: block">\n   </div>\n</div>'},function(t,e){t.exports='<div id="div-contenedor" class="m-control m-container m-background">\n    {{#each layers}}\n        <button class="m-background-group-btn" id="m-baselayerselector-{{this.id}}" title="Seleccin de capa de fondo">{{{this.title}}}</button>\n    {{/each}}\n    <button class="m-background-unique-btn" id="m-baselayerselector-unique-btn" title="Seleccin de capa de fondo"></button>\n</div>'},function(t,e){t.exports='<div>\n   <h2 style="text-align: center; color: #fff; background-color: #364b5f; padding: 8px 10px;">BACKGROUNDLAYERS</h2>\n   <div>\n      <p>{{translations.help1}}</p>\n      <img src="{{urlImages}}/backgroundlayers.png" style="margin: 0 auto; display: block">\n   </div>\n</div>'},function(t,e){t.exports='<div class="m-kml-content">\n   <p class="m-kml-name">{{{name}}}</p>\n   <div class="m-kml-desc">{{{desc}}}</div>\n</div>'},function(t,e,r){"use strict";t.exports=i;var n=r(458);function i(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}i.Varint=0,i.Fixed64=1,i.Bytes=2,i.Fixed32=5;var o="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function a(t){return t.type===i.Bytes?t.readVarint()+t.pos:t.pos+1}function s(t,e,r){return r?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function c(t,e,r){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));r.realloc(n);for(var i=r.pos-1;i>=t;i--)r.buf[i+n]=r.buf[i]}function l(t,e){for(var r=0;r<t.length;r++)e.writeVarint(t[r])}function u(t,e){for(var r=0;r<t.length;r++)e.writeSVarint(t[r])}function h(t,e){for(var r=0;r<t.length;r++)e.writeFloat(t[r])}function f(t,e){for(var r=0;r<t.length;r++)e.writeDouble(t[r])}function p(t,e){for(var r=0;r<t.length;r++)e.writeBoolean(t[r])}function d(t,e){for(var r=0;r<t.length;r++)e.writeFixed32(t[r])}function m(t,e){for(var r=0;r<t.length;r++)e.writeSFixed32(t[r])}function y(t,e){for(var r=0;r<t.length;r++)e.writeFixed64(t[r])}function g(t,e){for(var r=0;r<t.length;r++)e.writeSFixed64(t[r])}function _(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function b(t,e,r){t[r]=e,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24}function v(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}i.prototype={destroy:function(){this.buf=null},readFields:function(t,e,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),i=n>>3,o=this.pos;this.type=7&n,t(i,e,this),this.pos===o&&this.skip(n)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=_(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=v(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=_(this.buf,this.pos)+4294967296*_(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=_(this.buf,this.pos)+4294967296*v(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=n.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=n.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,r,n=this.buf;return e=127&(r=n[this.pos++]),r<128?e:(e|=(127&(r=n[this.pos++]))<<7,r<128?e:(e|=(127&(r=n[this.pos++]))<<14,r<128?e:(e|=(127&(r=n[this.pos++]))<<21,r<128?e:function(t,e,r){var n,i,o=r.buf;if(i=o[r.pos++],n=(112&i)>>4,i<128)return s(t,n,e);if(i=o[r.pos++],n|=(127&i)<<3,i<128)return s(t,n,e);if(i=o[r.pos++],n|=(127&i)<<10,i<128)return s(t,n,e);if(i=o[r.pos++],n|=(127&i)<<17,i<128)return s(t,n,e);if(i=o[r.pos++],n|=(127&i)<<24,i<128)return s(t,n,e);if(i=o[r.pos++],n|=(1&i)<<31,i<128)return s(t,n,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(r=n[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&o?function(t,e,r){return o.decode(t.subarray(e,r))}(this.buf,e,t):function(t,e,r){var n="",i=e;for(;i<r;){var o,a,s,c=t[i],l=null,u=c>239?4:c>223?3:c>191?2:1;if(i+u>r)break;1===u?c<128&&(l=c):2===u?128==(192&(o=t[i+1]))&&(l=(31&c)<<6|63&o)<=127&&(l=null):3===u?(o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&((l=(15&c)<<12|(63&o)<<6|63&a)<=2047||l>=55296&&l<=57343)&&(l=null)):4===u&&(o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&((l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,u=1):l>65535&&(l-=65536,n+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),n+=String.fromCharCode(l),i+=u}return n}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==i.Bytes)return t.push(this.readVarint(e));var r=a(this);for(t=t||[];this.pos<r;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==i.Bytes)return t.push(this.readSVarint());var e=a(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==i.Bytes)return t.push(this.readBoolean());var e=a(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==i.Bytes)return t.push(this.readFloat());var e=a(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==i.Bytes)return t.push(this.readDouble());var e=a(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==i.Bytes)return t.push(this.readFixed32());var e=a(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==i.Bytes)return t.push(this.readSFixed32());var e=a(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==i.Bytes)return t.push(this.readFixed64());var e=a(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==i.Bytes)return t.push(this.readSFixed64());var e=a(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===i.Varint)for(;this.buf[this.pos++]>127;);else if(e===i.Bytes)this.pos=this.readVarint()+this.pos;else if(e===i.Fixed32)this.pos+=4;else{if(e!==i.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var r=new Uint8Array(e);r.set(this.buf),this.buf=r,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),b(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),b(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),b(this.buf,-1&t,this.pos),b(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),b(this.buf,-1&t,this.pos),b(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var r,n;t>=0?(r=t%4294967296|0,n=t/4294967296|0):(n=~(-t/4294967296),4294967295^(r=~(-t%4294967296))?r=r+1|0:(r=0,n=n+1|0));if(t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,r){r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos]=127&t}(r,0,e),function(t,e){var r=(7&t)<<4;if(e.buf[e.pos++]|=r|((t>>>=3)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;e.buf[e.pos++]=127&t}(n,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,r){for(var n,i,o=0;o<e.length;o++){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){n>56319||o+1===e.length?(t[r++]=239,t[r++]=191,t[r++]=189):i=n;continue}if(n<56320){t[r++]=239,t[r++]=191,t[r++]=189,i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&(t[r++]=239,t[r++]=191,t[r++]=189,i=null);n<128?t[r++]=n:(n<2048?t[r++]=n>>6|192:(n<65536?t[r++]=n>>12|224:(t[r++]=n>>18|240,t[r++]=n>>12&63|128),t[r++]=n>>6&63|128),t[r++]=63&n|128)}return r}(this.buf,t,this.pos);var r=this.pos-e;r>=128&&c(e,r,this),this.pos=e-1,this.writeVarint(r),this.pos+=r},writeFloat:function(t){this.realloc(4),n.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),n.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var r=0;r<e;r++)this.buf[this.pos++]=t[r]},writeRawMessage:function(t,e){this.pos++;var r=this.pos;t(e,this);var n=this.pos-r;n>=128&&c(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n},writeMessage:function(t,e,r){this.writeTag(t,i.Bytes),this.writeRawMessage(e,r)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,l,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,u,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,p,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,h,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,f,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,d,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,m,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,y,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,g,e)},writeBytesField:function(t,e){this.writeTag(t,i.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,i.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,i.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,i.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,i.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,i.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,i.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,i.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,i.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,i.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},function(t,e){t.exports='<div class="m-panel">\n   <button class="m-panel-btn"></button>\n   <div class="m-panel-controls"></div>\n</div>'},function(t,e,r){(function(t,e,n,i){var o=void 0,a=function(a){return o||(o=new Promise((function(o,s){var c,l=void 0!==a?a:{},u=l.onAbort;l.onAbort=function(t){s(new Error(t)),u&&u(t)},l.postRun=l.postRun||[],l.postRun.push((function(){o(l)})),t=void 0,c||(c=void 0!==l?l:{}),c.onRuntimeInitialized=function(){function t(t,e){switch(typeof e){case"boolean":K(t,e?1:0);break;case"number":q(t,e);break;case"string":Y(t,e,-1,-1);break;case"object":if(null===e)V(t);else if(null!=e.length){var r=je(e);Z(t,r,e.length,-1),Ce(r)}else H(t,"Wrong API use : tried to return a value of an unknown type ("+e+").",-1);break;default:V(t)}}function e(t,e){for(var r=[],n=0;n<t;n+=1){var i=it(e+4*n,"i32"),o=D(i);if(1===o||2===o)i=X(i);else if(3===o)i=z(i);else if(4===o){i=G(o=i),o=W(o);for(var a=new Uint8Array(i),s=0;s<i;s+=1)a[s]=P[o+s];i=a}else i=null;r.push(i)}return r}function r(t,e){this.La=t,this.db=e,this.Ja=1,this.fb=[]}function n(t,e){if(this.db=e,e=U(t)+1,this.Ya=Re(e),null===this.Ya)throw Error("Unable to allocate memory for the SQL string");B(t,T,this.Ya,e),this.eb=this.Ya,this.Ua=this.ib=null}function i(t){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),null!=t){var e=this.filename,r="/",n=e;if(r&&(r="string"==typeof r?r:Lt(r),n=e?st(r+"/"+e):r),e=le(!0,!0),n=qt(n,4095&(void 0!==e?e:438)|32768,0),t){if("string"==typeof t){r=Array(t.length);for(var i=0,a=t.length;i<a;++i)r[i]=t.charCodeAt(i);t=r}te(n,146|e),r=re(n,577),ae(r,t,0,t.length,0),ne(r),te(n,e)}}this.handleError(s(this.filename,o)),this.db=it(o,"i32"),Q(this.db),this.Za={},this.Na={}}var o=Fe(4),a=c.cwrap,s=a("sqlite3_open","number",["string","number"]),l=a("sqlite3_close_v2","number",["number"]),u=a("sqlite3_exec","number",["number","string","number","number","number"]),h=a("sqlite3_changes","number",["number"]),f=a("sqlite3_prepare_v2","number",["number","string","number","number","number"]),p=a("sqlite3_sql","string",["number"]),d=a("sqlite3_normalized_sql","string",["number"]),m=a("sqlite3_prepare_v2","number",["number","number","number","number","number"]),y=a("sqlite3_bind_text","number",["number","number","number","number","number"]),g=a("sqlite3_bind_blob","number",["number","number","number","number","number"]),_=a("sqlite3_bind_double","number",["number","number","number"]),b=a("sqlite3_bind_int","number",["number","number","number"]),v=a("sqlite3_bind_parameter_index","number",["number","string"]),O=a("sqlite3_step","number",["number"]),w=a("sqlite3_errmsg","string",["number"]),M=a("sqlite3_column_count","number",["number"]),E=a("sqlite3_data_count","number",["number"]),x=a("sqlite3_column_double","number",["number","number"]),S=a("sqlite3_column_text","string",["number","number"]),j=a("sqlite3_column_blob","number",["number","number"]),I=a("sqlite3_column_bytes","number",["number","number"]),L=a("sqlite3_column_type","number",["number","number"]),R=a("sqlite3_column_name","string",["number","number"]),C=a("sqlite3_reset","number",["number"]),A=a("sqlite3_clear_bindings","number",["number"]),k=a("sqlite3_finalize","number",["number"]),N=a("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),D=a("sqlite3_value_type","number",["number"]),G=a("sqlite3_value_bytes","number",["number"]),z=a("sqlite3_value_text","string",["number"]),W=a("sqlite3_value_blob","number",["number"]),X=a("sqlite3_value_double","number",["number"]),q=a("sqlite3_result_double","",["number","number"]),V=a("sqlite3_result_null","",["number"]),Y=a("sqlite3_result_text","",["number","string","number","number"]),Z=a("sqlite3_result_blob","",["number","number","number","number"]),K=a("sqlite3_result_int","",["number","number"]),H=a("sqlite3_result_error","",["number","string","number"]),J=a("sqlite3_aggregate_context","number",["number","number"]),Q=a("RegisterExtensionFunctions","number",["number"]);r.prototype.bind=function(t){if(!this.La)throw"Statement closed";return this.reset(),Array.isArray(t)?this.xb(t):null==t||"object"!=typeof t||this.yb(t)},r.prototype.step=function(){if(!this.La)throw"Statement closed";this.Ja=1;var t=O(this.La);switch(t){case 100:return!0;case 101:return!1;default:throw this.db.handleError(t)}},r.prototype.sb=function(t){return null==t&&(t=this.Ja,this.Ja+=1),x(this.La,t)},r.prototype.Cb=function(t){if(null==t&&(t=this.Ja,this.Ja+=1),t=S(this.La,t),"function"!=typeof BigInt)throw Error("BigInt is not supported");return BigInt(t)},r.prototype.Db=function(t){return null==t&&(t=this.Ja,this.Ja+=1),S(this.La,t)},r.prototype.getBlob=function(t){null==t&&(t=this.Ja,this.Ja+=1);var e=I(this.La,t);t=j(this.La,t);for(var r=new Uint8Array(e),n=0;n<e;n+=1)r[n]=P[t+n];return r},r.prototype.get=function(t,e){e=e||{},null!=t&&this.bind(t)&&this.step(),t=[];for(var r=E(this.La),n=0;n<r;n+=1)switch(L(this.La,n)){case 1:var i=e.useBigInt?this.Cb(n):this.sb(n);t.push(i);break;case 2:t.push(this.sb(n));break;case 3:t.push(this.Db(n));break;case 4:t.push(this.getBlob(n));break;default:t.push(null)}return t},r.prototype.getColumnNames=function(){for(var t=[],e=M(this.La),r=0;r<e;r+=1)t.push(R(this.La,r));return t},r.prototype.getAsObject=function(t,e){t=this.get(t,e),e=this.getColumnNames();for(var r={},n=0;n<e.length;n+=1)r[e[n]]=t[n];return r},r.prototype.getSQL=function(){return p(this.La)},r.prototype.getNormalizedSQL=function(){return d(this.La)},r.prototype.run=function(t){return null!=t&&this.bind(t),this.step(),this.reset()},r.prototype.nb=function(t,e){null==e&&(e=this.Ja,this.Ja+=1);var r=je(t=ht(t));this.fb.push(r),this.db.handleError(y(this.La,e,r,t.length-1,0))},r.prototype.wb=function(t,e){null==e&&(e=this.Ja,this.Ja+=1);var r=je(t);this.fb.push(r),this.db.handleError(g(this.La,e,r,t.length,0))},r.prototype.mb=function(t,e){null==e&&(e=this.Ja,this.Ja+=1),this.db.handleError((t===(0|t)?b:_)(this.La,e,t))},r.prototype.zb=function(t){null==t&&(t=this.Ja,this.Ja+=1),g(this.La,t,0,0,0)},r.prototype.ob=function(t,e){switch(null==e&&(e=this.Ja,this.Ja+=1),typeof t){case"string":return void this.nb(t,e);case"number":return void this.mb(t,e);case"bigint":return void this.nb(t.toString(),e);case"boolean":return void this.mb(t+0,e);case"object":if(null===t)return void this.zb(e);if(null!=t.length)return void this.wb(t,e)}throw"Wrong API use : tried to bind a value of an unknown type ("+t+")."},r.prototype.yb=function(t){var e=this;return Object.keys(t).forEach((function(r){var n=v(e.La,r);0!==n&&e.ob(t[r],n)})),!0},r.prototype.xb=function(t){for(var e=0;e<t.length;e+=1)this.ob(t[e],e+1);return!0},r.prototype.reset=function(){return this.freemem(),0===A(this.La)&&0===C(this.La)},r.prototype.freemem=function(){for(var t;void 0!==(t=this.fb.pop());)Ce(t)},r.prototype.free=function(){this.freemem();var t=0===k(this.La);return delete this.db.Za[this.La],this.La=0,t},n.prototype.next=function(){if(null===this.Ya)return{done:!0};if(null!==this.Ua&&(this.Ua.free(),this.Ua=null),!this.db.db)throw this.gb(),Error("Database closed");var t=Ne(),e=Fe(4);ot(o),ot(e);try{this.db.handleError(m(this.db.db,this.eb,-1,o,e)),this.eb=it(e,"i32");var n=it(o,"i32");return 0===n?(this.gb(),{done:!0}):(this.Ua=new r(n,this.db),this.db.Za[n]=this.Ua,{value:this.Ua,done:!1})}catch(t){throw this.ib=F(this.eb),this.gb(),t}finally{De(t)}},n.prototype.gb=function(){Ce(this.Ya),this.Ya=null},n.prototype.getRemainingSQL=function(){return null!==this.ib?this.ib:F(this.eb)},"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator&&(n.prototype[Symbol.iterator]=function(){return this}),i.prototype.run=function(t,e){if(!this.db)throw"Database closed";if(e){t=this.prepare(t,e);try{t.step()}finally{t.free()}}else this.handleError(u(this.db,t,0,0,o));return this},i.prototype.exec=function(t,e,n){if(!this.db)throw"Database closed";var i=Ne(),a=null;try{var s=U(t)+1,c=Fe(s);B(t,P,c,s);var l=c,u=Fe(4);for(t=[];0!==it(l,"i8");){ot(o),ot(u),this.handleError(m(this.db,l,-1,o,u));var h=it(o,"i32");if(l=it(u,"i32"),0!==h){for(s=null,a=new r(h,this),null!=e&&a.bind(e);a.step();)null===s&&(s={columns:a.getColumnNames(),values:[]},t.push(s)),s.values.push(a.get(null,n));a.free()}}return t}catch(t){throw a&&a.free(),t}finally{De(i)}},i.prototype.each=function(t,e,r,n,i){"function"==typeof e&&(n=r,r=e,e=void 0),t=this.prepare(t,e);try{for(;t.step();)r(t.getAsObject(null,i))}finally{t.free()}if("function"==typeof n)return n()},i.prototype.prepare=function(t,e){if(ot(o),this.handleError(f(this.db,t,-1,o,0)),0===(t=it(o,"i32")))throw"Nothing to prepare";var n=new r(t,this);return null!=e&&n.bind(e),this.Za[t]=n},i.prototype.iterateStatements=function(t){return new n(t,this)},i.prototype.export=function(){Object.values(this.Za).forEach((function(t){t.free()})),Object.values(this.Na).forEach(Se),this.Na={},this.handleError(l(this.db));var t=se(this.filename);return this.handleError(s(this.filename,o)),this.db=it(o,"i32"),t},i.prototype.close=function(){null!==this.db&&(Object.values(this.Za).forEach((function(t){t.free()})),Object.values(this.Na).forEach(Se),this.Na={},this.handleError(l(this.db)),Ht("/"+this.filename),this.db=null)},i.prototype.handleError=function(t){if(0===t)return null;throw t=w(this.db),Error(t)},i.prototype.getRowsModified=function(){return h(this.db)},i.prototype.create_function=function(r,n){Object.prototype.hasOwnProperty.call(this.Na,r)&&(Se(this.Na[r]),delete this.Na[r]);var i=xe((function(r,i,o){i=e(i,o);try{var a=n.apply(null,i)}catch(t){return void H(r,t,-1)}t(r,a)}),"viii");return this.Na[r]=i,this.handleError(N(this.db,r,n.length,1,0,i,0,0,0)),this},i.prototype.create_aggregate=function(r,n){var i=n.init||function(){return null},o=n.finalize||function(t){return t},a=n.step;if(!a)throw"An aggregate function must have a step function in "+r;var s={};Object.hasOwnProperty.call(this.Na,r)&&(Se(this.Na[r]),delete this.Na[r]),n=r+"__finalize",Object.hasOwnProperty.call(this.Na,n)&&(Se(this.Na[n]),delete this.Na[n]);var c=xe((function(t,r,n){var o=J(t,1);Object.hasOwnProperty.call(s,o)||(s[o]=i()),r=e(r,n),r=[s[o]].concat(r);try{s[o]=a.apply(null,r)}catch(e){delete s[o],H(t,e,-1)}}),"viii"),l=xe((function(e){var r=J(e,1);try{var n=o(s[r])}catch(t){return delete s[r],void H(e,t,-1)}t(e,n),delete s[r]}),"vi");return this.Na[r]=c,this.Na[n]=l,this.handleError(N(this.db,r,a.length-1,1,0,0,c,l,0)),this},c.Database=i};var h,f,p,d,m,y,g=Object.assign({},c),_="./this.program",b="object"==typeof window,v="function"==typeof importScripts,O="object"==typeof e&&"object"==typeof e.versions&&"string"==typeof e.versions.node,w="";O?(w=v?r(475).dirname(w)+"/":n+"/",y=()=>{m||(d=r(696),m=r(475))},h=function(t,e){return y(),t=m.normalize(t),d.readFileSync(t,e?void 0:"utf8")},p=t=>((t=h(t,!0)).buffer||(t=new Uint8Array(t)),t),f=(t,e,r)=>{y(),t=m.normalize(t),d.readFile(t,(function(t,n){t?r(t):e(n.buffer)}))},1<e.argv.length&&(_=e.argv[1].replace(/\\/g,"/")),e.argv.slice(2),t.exports=c,c.inspect=function(){return"[Emscripten Module object]"}):(b||v)&&(v?w=self.location.href:"undefined"!=typeof document&&document.currentScript&&(w=document.currentScript.src),w=0!==w.indexOf("blob:")?w.substr(0,w.replace(/[?#].*/,"").lastIndexOf("/")+1):"",h=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},v&&(p=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),f=(t,e,r)=>{var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?e(n.response):r()},n.onerror=r,n.send(null)});var M,E=c.print||console.log.bind(console),x=c.printErr||console.warn.bind(console);Object.assign(c,g),g=null,c.thisProgram&&(_=c.thisProgram),c.wasmBinary&&(M=c.wasmBinary);c.noExitRuntime;"object"!=typeof WebAssembly&&$("no native wasm support detected");var S,j,P,T,I,L,R,C,A,k=!1,N="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function D(t,e,r){var n=e+r;for(r=e;t[r]&&!(r>=n);)++r;if(16<r-e&&t.buffer&&N)return N.decode(t.subarray(e,r));for(n="";e<r;){var i=t[e++];if(128&i){var o=63&t[e++];if(192==(224&i))n+=String.fromCharCode((31&i)<<6|o);else{var a=63&t[e++];65536>(i=224==(240&i)?(15&i)<<12|o<<6|a:(7&i)<<18|o<<12|a<<6|63&t[e++])?n+=String.fromCharCode(i):(i-=65536,n+=String.fromCharCode(55296|i>>10,56320|1023&i))}}else n+=String.fromCharCode(i)}return n}function F(t,e){return t?D(T,t,e):""}function B(t,e,r,n){if(!(0<n))return 0;var i=r;n=r+n-1;for(var o=0;o<t.length;++o){var a=t.charCodeAt(o);if(55296<=a&&57343>=a)a=65536+((1023&a)<<10)|1023&t.charCodeAt(++o);if(127>=a){if(r>=n)break;e[r++]=a}else{if(2047>=a){if(r+1>=n)break;e[r++]=192|a>>6}else{if(65535>=a){if(r+2>=n)break;e[r++]=224|a>>12}else{if(r+3>=n)break;e[r++]=240|a>>18,e[r++]=128|a>>12&63}e[r++]=128|a>>6&63}e[r++]=128|63&a}}return e[r]=0,r-i}function U(t){for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);127>=n?e++:2047>=n?e+=2:55296<=n&&57343>=n?(e+=4,++r):e+=3}return e}function G(){var t=S.buffer;j=t,c.HEAP8=P=new Int8Array(t),c.HEAP16=I=new Int16Array(t),c.HEAP32=L=new Int32Array(t),c.HEAPU8=T=new Uint8Array(t),c.HEAPU16=new Uint16Array(t),c.HEAPU32=R=new Uint32Array(t),c.HEAPF32=C=new Float32Array(t),c.HEAPF64=A=new Float64Array(t)}var z,W=[],X=[],q=[];function V(){var t=c.preRun.shift();W.unshift(t)}var Y,Z,K,H=0,J=null,Q=null;function $(t){throw c.onAbort&&c.onAbort(t),x(t="Aborted("+t+")"),k=!0,new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info.")}function tt(){return Y.startsWith("data:application/octet-stream;base64,")}if(Y="sql-wasm.wasm",!tt()){var et=Y;Y=c.locateFile?c.locateFile(et,w):w+et}function rt(){var t=Y;try{if(t==Y&&M)return new Uint8Array(M);if(p)return p(t);throw"both async and sync fetching of the wasm failed"}catch(t){$(t)}}function nt(t){for(;0<t.length;)t.shift()(c)}function it(t,e="i8"){switch(e.endsWith("*")&&(e="*"),e){case"i1":case"i8":return P[t>>0];case"i16":return I[t>>1];case"i32":case"i64":return L[t>>2];case"float":return C[t>>2];case"double":return A[t>>3];case"*":return R[t>>2];default:$("invalid type for getValue: "+e)}return null}function ot(t){var e="i32";switch(e.endsWith("*")&&(e="*"),e){case"i1":case"i8":P[t>>0]=0;break;case"i16":I[t>>1]=0;break;case"i32":L[t>>2]=0;break;case"i64":K=[0,(Z=0,1<=+Math.abs(Z)?0<Z?(0|Math.min(+Math.floor(Z/4294967296),4294967295))>>>0:~~+Math.ceil((Z-+(~~Z>>>0))/4294967296)>>>0:0)],L[t>>2]=K[0],L[t+4>>2]=K[1];break;case"float":C[t>>2]=0;break;case"double":A[t>>3]=0;break;case"*":R[t>>2]=0;break;default:$("invalid type for setValue: "+e)}}var at=(t,e)=>{for(var r=0,n=t.length-1;0<=n;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r;r--)t.unshift("..");return t},st=t=>{var e="/"===t.charAt(0),r="/"===t.substr(-1);return(t=at(t.split("/").filter(t=>!!t),!e).join("/"))||e||(t="."),t&&r&&(t+="/"),(e?"/":"")+t},ct=t=>{var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1);return t=e[0],e=e[1],t||e?(e&&(e=e.substr(0,e.length-1)),t+e):"."},lt=t=>{if("/"===t)return"/";var e=(t=(t=st(t)).replace(/\/$/,"")).lastIndexOf("/");return-1===e?t:t.substr(e+1)};function ut(){for(var t="",e=!1,r=arguments.length-1;-1<=r&&!e;r--){if("string"!=typeof(e=0<=r?arguments[r]:"/"))throw new TypeError("Arguments to path.resolve must be strings");if(!e)return"";t=e+"/"+t,e="/"===e.charAt(0)}return(e?"/":"")+(t=at(t.split("/").filter(t=>!!t),!e).join("/"))||"."}function ht(t,e){var r=Array(U(t)+1);return t=B(t,r,0,r.length),e&&(r.length=t),r}var ft=[];function pt(t,e){ft[t]={input:[],output:[],Xa:e},Wt(t,_t)}var dt,mt,yt,gt,_t={open:function(t){var e=ft[t.node.rdev];if(!e)throw new Pt(43);t.tty=e,t.seekable=!1},close:function(t){t.tty.Xa.fsync(t.tty)},fsync:function(t){t.tty.Xa.fsync(t.tty)},read:function(t,e,r,n){if(!t.tty||!t.tty.Xa.tb)throw new Pt(60);for(var i=0,o=0;o<n;o++){try{var a=t.tty.Xa.tb(t.tty)}catch(t){throw new Pt(29)}if(void 0===a&&0===i)throw new Pt(6);if(null==a)break;i++,e[r+o]=a}return i&&(t.node.timestamp=Date.now()),i},write:function(t,e,r,n){if(!t.tty||!t.tty.Xa.jb)throw new Pt(60);try{for(var i=0;i<n;i++)t.tty.Xa.jb(t.tty,e[r+i])}catch(t){throw new Pt(29)}return n&&(t.node.timestamp=Date.now()),i}},bt={tb:function(t){if(!t.input.length){var r=null;if(O){var n=i.alloc(256),o=0;try{o=d.readSync(e.stdin.fd,n,0,256,-1)}catch(t){if(!t.toString().includes("EOF"))throw t;o=0}r=0<o?n.slice(0,o).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(r=window.prompt("Input: "))&&(r+="\n"):"function"==typeof readline&&(null!==(r=readline())&&(r+="\n"));if(!r)return null;t.input=ht(r,!0)}return t.input.shift()},jb:function(t,e){null===e||10===e?(E(D(t.output,0)),t.output=[]):0!=e&&t.output.push(e)},fsync:function(t){t.output&&0<t.output.length&&(E(D(t.output,0)),t.output=[])}},vt={jb:function(t,e){null===e||10===e?(x(D(t.output,0)),t.output=[]):0!=e&&t.output.push(e)},fsync:function(t){t.output&&0<t.output.length&&(x(D(t.output,0)),t.output=[])}},Ot={Qa:null,Ra:function(){return Ot.createNode(null,"/",16895,0)},createNode:function(t,e,r,n){if(24576==(61440&r)||4096==(61440&r))throw new Pt(63);return Ot.Qa||(Ot.Qa={dir:{node:{Pa:Ot.Ga.Pa,Oa:Ot.Ga.Oa,lookup:Ot.Ga.lookup,ab:Ot.Ga.ab,rename:Ot.Ga.rename,unlink:Ot.Ga.unlink,rmdir:Ot.Ga.rmdir,readdir:Ot.Ga.readdir,symlink:Ot.Ga.symlink},stream:{Ta:Ot.Ha.Ta}},file:{node:{Pa:Ot.Ga.Pa,Oa:Ot.Ga.Oa},stream:{Ta:Ot.Ha.Ta,read:Ot.Ha.read,write:Ot.Ha.write,lb:Ot.Ha.lb,bb:Ot.Ha.bb,cb:Ot.Ha.cb}},link:{node:{Pa:Ot.Ga.Pa,Oa:Ot.Ga.Oa,readlink:Ot.Ga.readlink},stream:{}},pb:{node:{Pa:Ot.Ga.Pa,Oa:Ot.Ga.Oa},stream:zt}}),16384==(61440&(r=kt(t,e,r,n)).mode)?(r.Ga=Ot.Qa.dir.node,r.Ha=Ot.Qa.dir.stream,r.Ia={}):32768==(61440&r.mode)?(r.Ga=Ot.Qa.file.node,r.Ha=Ot.Qa.file.stream,r.Ma=0,r.Ia=null):40960==(61440&r.mode)?(r.Ga=Ot.Qa.link.node,r.Ha=Ot.Qa.link.stream):8192==(61440&r.mode)&&(r.Ga=Ot.Qa.pb.node,r.Ha=Ot.Qa.pb.stream),r.timestamp=Date.now(),t&&(t.Ia[e]=r,t.timestamp=r.timestamp),r},Jb:function(t){return t.Ia?t.Ia.subarray?t.Ia.subarray(0,t.Ma):new Uint8Array(t.Ia):new Uint8Array(0)},qb:function(t,e){var r=t.Ia?t.Ia.length:0;r>=e||(e=Math.max(e,r*(1048576>r?2:1.125)>>>0),0!=r&&(e=Math.max(e,256)),r=t.Ia,t.Ia=new Uint8Array(e),0<t.Ma&&t.Ia.set(r.subarray(0,t.Ma),0))},Gb:function(t,e){if(t.Ma!=e)if(0==e)t.Ia=null,t.Ma=0;else{var r=t.Ia;t.Ia=new Uint8Array(e),r&&t.Ia.set(r.subarray(0,Math.min(e,t.Ma))),t.Ma=e}},Ga:{Pa:function(t){var e={};return e.dev=8192==(61440&t.mode)?t.id:1,e.ino=t.id,e.mode=t.mode,e.nlink=1,e.uid=0,e.gid=0,e.rdev=t.rdev,16384==(61440&t.mode)?e.size=4096:32768==(61440&t.mode)?e.size=t.Ma:40960==(61440&t.mode)?e.size=t.link.length:e.size=0,e.atime=new Date(t.timestamp),e.mtime=new Date(t.timestamp),e.ctime=new Date(t.timestamp),e.Ab=4096,e.blocks=Math.ceil(e.size/e.Ab),e},Oa:function(t,e){void 0!==e.mode&&(t.mode=e.mode),void 0!==e.timestamp&&(t.timestamp=e.timestamp),void 0!==e.size&&Ot.Gb(t,e.size)},lookup:function(){throw Tt[44]},ab:function(t,e,r,n){return Ot.createNode(t,e,r,n)},rename:function(t,e,r){if(16384==(61440&t.mode)){try{var n=At(e,r)}catch(t){}if(n)for(var i in n.Ia)throw new Pt(55)}delete t.parent.Ia[t.name],t.parent.timestamp=Date.now(),t.name=r,e.Ia[r]=t,e.timestamp=t.parent.timestamp,t.parent=e},unlink:function(t,e){delete t.Ia[e],t.timestamp=Date.now()},rmdir:function(t,e){var r,n=At(t,e);for(r in n.Ia)throw new Pt(55);delete t.Ia[e],t.timestamp=Date.now()},readdir:function(t){var e,r=[".",".."];for(e in t.Ia)t.Ia.hasOwnProperty(e)&&r.push(e);return r},symlink:function(t,e,r){return(t=Ot.createNode(t,e,41471,0)).link=r,t},readlink:function(t){if(40960!=(61440&t.mode))throw new Pt(28);return t.link}},Ha:{read:function(t,e,r,n,i){var o=t.node.Ia;if(i>=t.node.Ma)return 0;if(8<(t=Math.min(t.node.Ma-i,n))&&o.subarray)e.set(o.subarray(i,i+t),r);else for(n=0;n<t;n++)e[r+n]=o[i+n];return t},write:function(t,e,r,n,i,o){if(e.buffer===P.buffer&&(o=!1),!n)return 0;if((t=t.node).timestamp=Date.now(),e.subarray&&(!t.Ia||t.Ia.subarray)){if(o)return t.Ia=e.subarray(r,r+n),t.Ma=n;if(0===t.Ma&&0===i)return t.Ia=e.slice(r,r+n),t.Ma=n;if(i+n<=t.Ma)return t.Ia.set(e.subarray(r,r+n),i),n}if(Ot.qb(t,i+n),t.Ia.subarray&&e.subarray)t.Ia.set(e.subarray(r,r+n),i);else for(o=0;o<n;o++)t.Ia[i+o]=e[r+o];return t.Ma=Math.max(t.Ma,i+n),n},Ta:function(t,e,r){if(1===r?e+=t.position:2===r&&32768==(61440&t.node.mode)&&(e+=t.node.Ma),0>e)throw new Pt(28);return e},lb:function(t,e,r){Ot.qb(t.node,e+r),t.node.Ma=Math.max(t.node.Ma,e+r)},bb:function(t,e,r,n,i){if(32768!=(61440&t.node.mode))throw new Pt(43);if(t=t.node.Ia,2&i||t.buffer!==j){if((0<r||r+e<t.length)&&(t=t.subarray?t.subarray(r,r+e):Array.prototype.slice.call(t,r,r+e)),r=!0,e=65536*Math.ceil(e/65536),(i=ke(65536,e))?(T.fill(0,i,i+e),e=i):e=0,!e)throw new Pt(48);P.set(t,e)}else r=!1,e=t.byteOffset;return{Fb:e,vb:r}},cb:function(t,e,r,n,i){if(32768!=(61440&t.node.mode))throw new Pt(43);return 2&i||Ot.Ha.write(t,e,0,n,r,!1),0}}},wt=null,Mt={},Et=[],xt=1,St=null,jt=!0,Pt=null,Tt={},It=(t,e={})=>{if(!(t=ut("/",t)))return{path:"",node:null};if(8<(e=Object.assign({rb:!0,kb:0},e)).kb)throw new Pt(32);t=at(t.split("/").filter(t=>!!t),!1);for(var r=wt,n="/",i=0;i<t.length;i++){var o=i===t.length-1;if(o&&e.parent)break;if(r=At(r,t[i]),n=st(n+"/"+t[i]),r.Va&&(!o||o&&e.rb)&&(r=r.Va.root),!o||e.Sa)for(o=0;40960==(61440&r.mode);)if(r=Jt(n),n=ut(ct(n),r),r=It(n,{kb:e.kb+1}).node,40<o++)throw new Pt(32)}return{path:n,node:r}},Lt=t=>{for(var e;;){if(t===t.parent)return t=t.Ra.ub,e?"/"!==t[t.length-1]?t+"/"+e:t+e:t;e=e?t.name+"/"+e:t.name,t=t.parent}},Rt=(t,e)=>{for(var r=0,n=0;n<e.length;n++)r=(r<<5)-r+e.charCodeAt(n)|0;return(t+r>>>0)%St.length},Ct=t=>{var e=Rt(t.parent.id,t.name);if(St[e]===t)St[e]=t.Wa;else for(e=St[e];e;){if(e.Wa===t){e.Wa=t.Wa;break}e=e.Wa}},At=(t,e)=>{var r;if(r=(r=Ft(t,"x"))?r:t.Ga.lookup?0:2)throw new Pt(r,t);for(r=St[Rt(t.id,e)];r;r=r.Wa){var n=r.name;if(r.parent.id===t.id&&n===e)return r}return t.Ga.lookup(t,e)},kt=(t,e,r,n)=>(t=new Te(t,e,r,n),e=Rt(t.parent.id,t.name),t.Wa=St[e],St[e]=t),Nt={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},Dt=t=>{var e=["r","w","rw"][3&t];return 512&t&&(e+="w"),e},Ft=(t,e)=>jt?0:!e.includes("r")||292&t.mode?e.includes("w")&&!(146&t.mode)||e.includes("x")&&!(73&t.mode)?2:0:2,Bt=(t,e)=>{try{return At(t,e),20}catch(t){}return Ft(t,"wx")},Ut=(t,e,r)=>{try{var n=At(t,e)}catch(t){return t.Ka}if(t=Ft(t,"wx"))return t;if(r){if(16384!=(61440&n.mode))return 54;if(n===n.parent||"/"===Lt(n))return 10}else if(16384==(61440&n.mode))return 31;return 0},Gt=(t,e)=>(yt||((yt=function(){this.$a={}}).prototype={},Object.defineProperties(yt.prototype,{object:{get:function(){return this.node},set:function(t){this.node=t}},flags:{get:function(){return this.$a.flags},set:function(t){this.$a.flags=t}},position:{get:function(){return this.$a.position},set:function(t){this.$a.position=t}}})),t=Object.assign(new yt,t),e=((t=0)=>{for(;4096>=t;t++)if(!Et[t])return t;throw new Pt(33)})(e),t.fd=e,Et[e]=t),zt={open:t=>{t.Ha=Mt[t.node.rdev].Ha,t.Ha.open&&t.Ha.open(t)},Ta:()=>{throw new Pt(70)}},Wt=(t,e)=>{Mt[t]={Ha:e}},Xt=(t,e)=>{var r="/"===e,n=!e;if(r&&wt)throw new Pt(10);if(!r&&!n){var i=It(e,{rb:!1});if(e=i.path,(i=i.node).Va)throw new Pt(10);if(16384!=(61440&i.mode))throw new Pt(54)}e={type:t,Kb:{},ub:e,Eb:[]},(t=t.Ra(e)).Ra=e,e.root=t,r?wt=t:i&&(i.Va=e,i.Ra&&i.Ra.Eb.push(e))},qt=(t,e,r)=>{var n=It(t,{parent:!0}).node;if(!(t=lt(t))||"."===t||".."===t)throw new Pt(28);var i=Bt(n,t);if(i)throw new Pt(i);if(!n.Ga.ab)throw new Pt(63);return n.Ga.ab(n,t,e,r)},Vt=(t,e)=>qt(t,1023&(void 0!==e?e:511)|16384,0),Yt=(t,e,r)=>{void 0===r&&(r=e,e=438),qt(t,8192|e,r)},Zt=(t,e)=>{if(!ut(t))throw new Pt(44);var r=It(e,{parent:!0}).node;if(!r)throw new Pt(44);e=lt(e);var n=Bt(r,e);if(n)throw new Pt(n);if(!r.Ga.symlink)throw new Pt(63);r.Ga.symlink(r,e,t)},Kt=t=>{var e=It(t,{parent:!0}).node;t=lt(t);var r=At(e,t),n=Ut(e,t,!0);if(n)throw new Pt(n);if(!e.Ga.rmdir)throw new Pt(63);if(r.Va)throw new Pt(10);e.Ga.rmdir(e,t),Ct(r)},Ht=t=>{var e=It(t,{parent:!0}).node;if(!e)throw new Pt(44);t=lt(t);var r=At(e,t),n=Ut(e,t,!1);if(n)throw new Pt(n);if(!e.Ga.unlink)throw new Pt(63);if(r.Va)throw new Pt(10);e.Ga.unlink(e,t),Ct(r)},Jt=t=>{if(!(t=It(t).node))throw new Pt(44);if(!t.Ga.readlink)throw new Pt(28);return ut(Lt(t.parent),t.Ga.readlink(t))},Qt=(t,e)=>{if(!(t=It(t,{Sa:!e}).node))throw new Pt(44);if(!t.Ga.Pa)throw new Pt(63);return t.Ga.Pa(t)},$t=t=>Qt(t,!0),te=(t,e)=>{if(!(t="string"==typeof t?It(t,{Sa:!0}).node:t).Ga.Oa)throw new Pt(63);t.Ga.Oa(t,{mode:4095&e|-4096&t.mode,timestamp:Date.now()})},ee=(t,e)=>{if(0>e)throw new Pt(28);if(!(t="string"==typeof t?It(t,{Sa:!0}).node:t).Ga.Oa)throw new Pt(63);if(16384==(61440&t.mode))throw new Pt(31);if(32768!=(61440&t.mode))throw new Pt(28);var r=Ft(t,"w");if(r)throw new Pt(r);t.Ga.Oa(t,{size:e,timestamp:Date.now()})},re=(t,e,r)=>{if(""===t)throw new Pt(44);if("string"==typeof e){var n=Nt[e];if(void 0===n)throw Error("Unknown file open mode: "+e);e=n}if(r=64&e?4095&(void 0===r?438:r)|32768:0,"object"==typeof t)var i=t;else{t=st(t);try{i=It(t,{Sa:!(131072&e)}).node}catch(t){}}if(n=!1,64&e)if(i){if(128&e)throw new Pt(20)}else i=qt(t,r,0),n=!0;if(!i)throw new Pt(44);if(8192==(61440&i.mode)&&(e&=-513),65536&e&&16384!=(61440&i.mode))throw new Pt(54);if(!n&&(r=i?40960==(61440&i.mode)?32:16384==(61440&i.mode)&&("r"!==Dt(e)||512&e)?31:Ft(i,Dt(e)):44))throw new Pt(r);return 512&e&&!n&&ee(i,0),e&=-131713,(i=Gt({node:i,path:Lt(i),flags:e,seekable:!0,position:0,Ha:i.Ha,Ib:[],error:!1})).Ha.open&&i.Ha.open(i),!c.logReadFiles||1&e||(gt||(gt={}),t in gt||(gt[t]=1)),i},ne=t=>{if(null===t.fd)throw new Pt(8);t.hb&&(t.hb=null);try{t.Ha.close&&t.Ha.close(t)}catch(t){throw t}finally{Et[t.fd]=null}t.fd=null},ie=(t,e,r)=>{if(null===t.fd)throw new Pt(8);if(!t.seekable||!t.Ha.Ta)throw new Pt(70);if(0!=r&&1!=r&&2!=r)throw new Pt(28);t.position=t.Ha.Ta(t,e,r),t.Ib=[]},oe=(t,e,r,n,i)=>{if(0>n||0>i)throw new Pt(28);if(null===t.fd)throw new Pt(8);if(1==(2097155&t.flags))throw new Pt(8);if(16384==(61440&t.node.mode))throw new Pt(31);if(!t.Ha.read)throw new Pt(28);var o=void 0!==i;if(o){if(!t.seekable)throw new Pt(70)}else i=t.position;return e=t.Ha.read(t,e,r,n,i),o||(t.position+=e),e},ae=(t,e,r,n,i)=>{if(0>n||0>i)throw new Pt(28);if(null===t.fd)throw new Pt(8);if(0==(2097155&t.flags))throw new Pt(8);if(16384==(61440&t.node.mode))throw new Pt(31);if(!t.Ha.write)throw new Pt(28);t.seekable&&1024&t.flags&&ie(t,0,2);var o=void 0!==i;if(o){if(!t.seekable)throw new Pt(70)}else i=t.position;return e=t.Ha.write(t,e,r,n,i,void 0),o||(t.position+=e),e},se=t=>{var e;var r=re(t,r||0);t=Qt(t).size;var n=new Uint8Array(t);return oe(r,n,0,t,0),e=n,ne(r),e},ce=()=>{Pt||((Pt=function(t,e){this.node=e,this.Hb=function(t){this.Ka=t},this.Hb(t),this.message="FS error"}).prototype=Error(),Pt.prototype.constructor=Pt,[44].forEach(t=>{Tt[t]=new Pt(t),Tt[t].stack="<generic error, no stack>"}))},le=(t,e)=>{var r=0;return t&&(r|=365),e&&(r|=146),r},ue=(t,e,r)=>{t=st("/dev/"+t);var n=le(!!e,!!r);mt||(mt=64);var i=mt++<<8|0;Wt(i,{open:t=>{t.seekable=!1},close:()=>{r&&r.buffer&&r.buffer.length&&r(10)},read:(t,r,n,i)=>{for(var o=0,a=0;a<i;a++){try{var s=e()}catch(t){throw new Pt(29)}if(void 0===s&&0===o)throw new Pt(6);if(null==s)break;o++,r[n+a]=s}return o&&(t.node.timestamp=Date.now()),o},write:(t,e,n,i)=>{for(var o=0;o<i;o++)try{r(e[n+o])}catch(t){throw new Pt(29)}return i&&(t.node.timestamp=Date.now()),o}}),Yt(t,n,i)},he={};function fe(t,e,r){if("/"===e.charAt(0))return e;if(t=-100===t?"/":ge(t).path,0==e.length){if(!r)throw new Pt(44);return t}return st(t+"/"+e)}function pe(t,e,r){try{var n=t(e)}catch(t){if(t&&t.node&&st(e)!==st(Lt(t.node)))return-54;throw t}return L[r>>2]=n.dev,L[r+8>>2]=n.ino,L[r+12>>2]=n.mode,R[r+16>>2]=n.nlink,L[r+20>>2]=n.uid,L[r+24>>2]=n.gid,L[r+28>>2]=n.rdev,K=[n.size>>>0,(Z=n.size,1<=+Math.abs(Z)?0<Z?(0|Math.min(+Math.floor(Z/4294967296),4294967295))>>>0:~~+Math.ceil((Z-+(~~Z>>>0))/4294967296)>>>0:0)],L[r+40>>2]=K[0],L[r+44>>2]=K[1],L[r+48>>2]=4096,L[r+52>>2]=n.blocks,K=[Math.floor(n.atime.getTime()/1e3)>>>0,(Z=Math.floor(n.atime.getTime()/1e3),1<=+Math.abs(Z)?0<Z?(0|Math.min(+Math.floor(Z/4294967296),4294967295))>>>0:~~+Math.ceil((Z-+(~~Z>>>0))/4294967296)>>>0:0)],L[r+56>>2]=K[0],L[r+60>>2]=K[1],R[r+64>>2]=0,K=[Math.floor(n.mtime.getTime()/1e3)>>>0,(Z=Math.floor(n.mtime.getTime()/1e3),1<=+Math.abs(Z)?0<Z?(0|Math.min(+Math.floor(Z/4294967296),4294967295))>>>0:~~+Math.ceil((Z-+(~~Z>>>0))/4294967296)>>>0:0)],L[r+72>>2]=K[0],L[r+76>>2]=K[1],R[r+80>>2]=0,K=[Math.floor(n.ctime.getTime()/1e3)>>>0,(Z=Math.floor(n.ctime.getTime()/1e3),1<=+Math.abs(Z)?0<Z?(0|Math.min(+Math.floor(Z/4294967296),4294967295))>>>0:~~+Math.ceil((Z-+(~~Z>>>0))/4294967296)>>>0:0)],L[r+88>>2]=K[0],L[r+92>>2]=K[1],R[r+96>>2]=0,K=[n.ino>>>0,(Z=n.ino,1<=+Math.abs(Z)?0<Z?(0|Math.min(+Math.floor(Z/4294967296),4294967295))>>>0:~~+Math.ceil((Z-+(~~Z>>>0))/4294967296)>>>0:0)],L[r+104>>2]=K[0],L[r+108>>2]=K[1],0}var de,me=void 0;function ye(){return L[(me+=4)-4>>2]}function ge(t){if(!(t=Et[t]))throw new Pt(8);return t}function _e(t){return R[t>>2]+4294967296*L[t+4>>2]}function be(t){var e=U(t)+1,r=Re(e);return r&&B(t,P,r,e),r}de=O?()=>{var t=e.hrtime();return 1e3*t[0]+t[1]/1e6}:()=>performance.now();var ve={};function Oe(){if(!we){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:_||"./this.program"};for(t in ve)void 0===ve[t]?delete e[t]:e[t]=ve[t];var r=[];for(t in e)r.push(t+"="+e[t]);we=r}return we}var we,Me=void 0,Ee=[];function xe(t,e){if(!Me){Me=new WeakMap;var r=z.length;if(Me)for(var n=0;n<0+r;n++){var i=z.get(n);i&&Me.set(i,n)}}if(Me.has(t))return Me.get(t);if(Ee.length)r=Ee.pop();else{try{z.grow(1)}catch(t){if(!(t instanceof RangeError))throw t;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}r=z.length-1}try{z.set(r,t)}catch(s){if(!(s instanceof TypeError))throw s;if("function"==typeof WebAssembly.Function){n=WebAssembly.Function,i={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"};for(var o={parameters:[],results:"v"==e[0]?[]:[i[e[0]]]},a=1;a<e.length;++a)o.parameters.push(i[e[a]]);e=new n(o,t)}else{for(n=[1,96],i=e.slice(0,1),o={i:127,p:127,j:126,f:125,d:124},128>(a=(e=e.slice(1)).length)?n.push(a):n.push(a%128|128,a>>7),a=0;a<e.length;++a)n.push(o[e[a]]);"v"==i?n.push(0):n.push(1,o[i]),e=[0,97,115,109,1,0,0,0,1],128>(i=n.length)?e.push(i):e.push(i%128|128,i>>7),e.push.apply(e,n),e.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),e=new WebAssembly.Module(new Uint8Array(e)),e=new WebAssembly.Instance(e,{e:{f:t}}).exports.f}z.set(r,e)}return Me.set(t,r),r}function Se(t){Me.delete(z.get(t)),Ee.push(t)}function je(t){var e=Re(t.length);return t.subarray||t.slice||(t=new Uint8Array(t)),T.set(t,e),e}function Pe(t,e,r,n){var i={string:t=>{var e=0;if(null!=t&&0!==t){var r=1+(t.length<<2);e=Fe(r),B(t,T,e,r)}return e},array:t=>{var e=Fe(t.length);return P.set(t,e),e}};t=c["_"+t];var o,a=[],s=0;if(n)for(var l=0;l<n.length;l++){var u=i[r[l]];u?(0===s&&(s=Ne()),a[l]=u(n[l])):a[l]=n[l]}return r=t.apply(null,a),o=r,0!==s&&De(s),"string"===e?F(o):"boolean"===e?!!o:o}function Te(t,e,r,n){t||(t=this),this.parent=t,this.Ra=t.Ra,this.Va=null,this.id=xt++,this.name=e,this.mode=r,this.Ga={},this.Ha={},this.rdev=n}Object.defineProperties(Te.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(t){t?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(t){t?this.mode|=146:this.mode&=-147}}}),ce(),St=Array(4096),Xt(Ot,"/"),Vt("/tmp"),Vt("/home"),Vt("/home/web_user"),(()=>{Vt("/dev"),Wt(259,{read:()=>0,write:(t,e,r,n)=>n}),Yt("/dev/null",259),pt(1280,bt),pt(1536,vt),Yt("/dev/tty",1280),Yt("/dev/tty1",1536);var t=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(O)try{var e=r(697);return()=>e.randomBytes(1)[0]}catch(t){}return()=>$("randomDevice")}();ue("random",t),ue("urandom",t),Vt("/dev/shm"),Vt("/dev/shm/tmp")})(),(()=>{Vt("/proc");var t=Vt("/proc/self");Vt("/proc/self/fd"),Xt({Ra:()=>{var e=kt(t,"fd",16895,73);return e.Ga={lookup:(t,e)=>{var r=Et[+e];if(!r)throw new Pt(8);return(t={parent:null,Ra:{ub:"fake"},Ga:{readlink:()=>r.path}}).parent=t}},e}},"/proc/self/fd")})();var Ie={a:function(t,e,r,n){$("Assertion failed: "+F(t)+", at: "+[e?F(e):"unknown filename",r,n?F(n):"unknown function"])},h:function(t,e){try{return t=F(t),te(t,e),0}catch(t){if(void 0===he||!(t instanceof Pt))throw t;return-t.Ka}},H:function(t,e,r){try{if(e=fe(t,e=F(e)),-8&r)return-28;var n=It(e,{Sa:!0}).node;return n?(t="",4&r&&(t+="r"),2&r&&(t+="w"),1&r&&(t+="x"),t&&Ft(n,t)?-2:0):-44}catch(t){if(void 0===he||!(t instanceof Pt))throw t;return-t.Ka}},i:function(t,e){try{var r=Et[t];if(!r)throw new Pt(8);return te(r.node,e),0}catch(t){if(void 0===he||!(t instanceof Pt))throw t;return-t.Ka}},g:function(t){try{var e=Et[t];if(!e)throw new Pt(8);var r=e.node,n="string"==typeof r?It(r,{Sa:!0}).node:r;if(!n.Ga.Oa)throw new Pt(63);return n.Ga.Oa(n,{timestamp:Date.now()}),0}catch(t){if(void 0===he||!(t instanceof Pt))throw t;return-t.Ka}},b:function(t,e,r){me=r;try{var n=ge(t);switch(e){case 0:var i=ye();return 0>i?-28:Gt(n,i).fd;case 1:case 2:return 0;case 3:return n.flags;case 4:return i=ye(),n.flags|=i,0;case 5:return i=ye(),I[i+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return L[Le()>>2]=28,-1;default:return-28}}catch(t){if(void 0===he||!(t instanceof Pt))throw t;return-t.Ka}},G:function(t,e){try{var r=ge(t);return pe(Qt,r.path,e)}catch(t){if(void 0===he||!(t instanceof Pt))throw t;return-t.Ka}},l:function(t,e,r){try{if(e=r+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*r:NaN,isNaN(e))return-61;var n=Et[t];if(!n)throw new Pt(8);if(0==(2097155&n.flags))throw new Pt(28);return ee(n.node,e),0}catch(t){if(void 0===he||!(t instanceof Pt))throw t;return-t.Ka}},B:function(t,e){try{if(0===e)return-28;var r=U("/")+1;return e<r?-68:(B("/",T,t,e),r)}catch(t){if(void 0===he||!(t instanceof Pt))throw t;return-t.Ka}},E:function(t,e){try{return t=F(t),pe($t,t,e)}catch(t){if(void 0===he||!(t instanceof Pt))throw t;return-t.Ka}},y:function(t,e,r){try{return e=fe(t,e=F(e)),"/"===(e=st(e))[e.length-1]&&(e=e.substr(0,e.length-1)),Vt(e,r),0}catch(t){if(void 0===he||!(t instanceof Pt))throw t;return-t.Ka}},D:function(t,e,r,n){try{e=F(e);var i=256&n;return e=fe(t,e,4096&n),pe(i?$t:Qt,e,r)}catch(t){if(void 0===he||!(t instanceof Pt))throw t;return-t.Ka}},v:function(t,e,r,n){me=n;try{e=fe(t,e=F(e));var i=n?ye():0;return re(e,r,i).fd}catch(t){if(void 0===he||!(t instanceof Pt))throw t;return-t.Ka}},t:function(t,e,r,n){try{if(e=fe(t,e=F(e)),0>=n)return-28;var i=Jt(e),o=Math.min(n,U(i)),a=P[r+o];return B(i,T,r,n+1),P[r+o]=a,o}catch(t){if(void 0===he||!(t instanceof Pt))throw t;return-t.Ka}},s:function(t){try{return t=F(t),Kt(t),0}catch(t){if(void 0===he||!(t instanceof Pt))throw t;return-t.Ka}},F:function(t,e){try{return t=F(t),pe(Qt,t,e)}catch(t){if(void 0===he||!(t instanceof Pt))throw t;return-t.Ka}},p:function(t,e,r){try{return e=fe(t,e=F(e)),0===r?Ht(e):512===r?Kt(e):$("Invalid flags passed to unlinkat"),0}catch(t){if(void 0===he||!(t instanceof Pt))throw t;return-t.Ka}},o:function(t,e,r){try{if(e=fe(t,e=F(e),!0),r){var n=_e(r),i=L[r+8>>2];o=1e3*n+i/1e6,a=1e3*(n=_e(r+=16))+(i=L[r+8>>2])/1e6}else var o=Date.now(),a=o;t=o;var s=It(e,{Sa:!0}).node;return s.Ga.Oa(s,{timestamp:Math.max(t,a)}),0}catch(t){if(void 0===he||!(t instanceof Pt))throw t;return-t.Ka}},e:function(){return Date.now()},j:function(t,e){t=new Date(1e3*_e(t)),L[e>>2]=t.getSeconds(),L[e+4>>2]=t.getMinutes(),L[e+8>>2]=t.getHours(),L[e+12>>2]=t.getDate(),L[e+16>>2]=t.getMonth(),L[e+20>>2]=t.getFullYear()-1900,L[e+24>>2]=t.getDay();var r=new Date(t.getFullYear(),0,1);L[e+28>>2]=(t.getTime()-r.getTime())/864e5|0,L[e+36>>2]=-60*t.getTimezoneOffset();var n=new Date(t.getFullYear(),6,1).getTimezoneOffset();r=r.getTimezoneOffset(),L[e+32>>2]=0|(n!=r&&t.getTimezoneOffset()==Math.min(r,n))},w:function(t,e,r,n,i,o){try{var a=ge(n);if(0!=(2&e)&&0==(2&r)&&2!=(2097155&a.flags))throw new Pt(2);if(1==(2097155&a.flags))throw new Pt(2);if(!a.Ha.bb)throw new Pt(43);var s=a.Ha.bb(a,t,i,e,r),c=s.Fb;return L[o>>2]=s.vb,c}catch(t){if(void 0===he||!(t instanceof Pt))throw t;return-t.Ka}},x:function(t,e,r,n,i,o){try{var a=ge(i);if(2&r){var s=T.slice(t,t+e);a&&a.Ha.cb&&a.Ha.cb(a,s,o,e,n)}}catch(t){if(void 0===he||!(t instanceof Pt))throw t;return-t.Ka}},n:function t(e,r,n){t.Bb||(t.Bb=!0,function(t,e,r){function n(t){return(t=t.toTimeString().match(/\(([A-Za-z ]+)\)$/))?t[1]:"GMT"}var i=(new Date).getFullYear(),o=new Date(i,0,1),a=new Date(i,6,1);i=o.getTimezoneOffset();var s=a.getTimezoneOffset();L[t>>2]=60*Math.max(i,s),L[e>>2]=Number(i!=s),t=n(o),e=n(a),t=be(t),e=be(e),s<i?(R[r>>2]=t,R[r+4>>2]=e):(R[r>>2]=e,R[r+4>>2]=t)}(e,r,n))},q:function(){return 2147483648},d:de,c:function(t){var e=T.length;if(2147483648<(t>>>=0))return!1;for(var r=1;4>=r;r*=2){var n=e*(1+.2/r);n=Math.min(n,t+100663296);var i=Math;n=Math.max(t,n),i=i.min.call(i,2147483648,n+(65536-n%65536)%65536);t:{try{S.grow(i-j.byteLength+65535>>>16),G();var o=1;break t}catch(t){}o=void 0}if(o)return!0}return!1},z:function(t,e){var r=0;return Oe().forEach((function(n,i){var o=e+r;for(i=R[t+4*i>>2]=o,o=0;o<n.length;++o)P[i++>>0]=n.charCodeAt(o);P[i>>0]=0,r+=n.length+1})),0},A:function(t,e){var r=Oe();R[t>>2]=r.length;var n=0;return r.forEach((function(t){n+=t.length+1})),R[e>>2]=n,0},f:function(t){try{var e=ge(t);return ne(e),0}catch(t){if(void 0===he||!(t instanceof Pt))throw t;return t.Ka}},m:function(t,e){try{var r=ge(t);return P[e>>0]=r.tty?2:16384==(61440&r.mode)?3:40960==(61440&r.mode)?7:4,0}catch(t){if(void 0===he||!(t instanceof Pt))throw t;return t.Ka}},u:function(t,e,r,n){try{t:{var i=ge(t);t=e;for(var o=e=0;o<r;o++){var a=R[t>>2],s=R[t+4>>2];t+=8;var c=oe(i,P,a,s);if(0>c){var l=-1;break t}if(e+=c,c<s)break}l=e}return R[n>>2]=l,0}catch(t){if(void 0===he||!(t instanceof Pt))throw t;return t.Ka}},k:function(t,e,r,n,i){try{if(e=r+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*r:NaN,isNaN(e))return 61;var o=ge(t);return ie(o,e,n),K=[o.position>>>0,(Z=o.position,1<=+Math.abs(Z)?0<Z?(0|Math.min(+Math.floor(Z/4294967296),4294967295))>>>0:~~+Math.ceil((Z-+(~~Z>>>0))/4294967296)>>>0:0)],L[i>>2]=K[0],L[i+4>>2]=K[1],o.hb&&0===e&&0===n&&(o.hb=null),0}catch(t){if(void 0===he||!(t instanceof Pt))throw t;return t.Ka}},C:function(t){try{var e=ge(t);return e.Ha&&e.Ha.fsync?e.Ha.fsync(e):0}catch(t){if(void 0===he||!(t instanceof Pt))throw t;return t.Ka}},r:function(t,e,r,n){try{t:{var i=ge(t);t=e;for(var o=e=0;o<r;o++){var a=R[t>>2],s=R[t+4>>2];t+=8;var c=ae(i,P,a,s);if(0>c){var l=-1;break t}e+=c}l=e}return R[n>>2]=l,0}catch(t){if(void 0===he||!(t instanceof Pt))throw t;return t.Ka}}};!function(){function t(t){c.asm=t.exports,S=c.asm.I,G(),z=c.asm.Aa,X.unshift(c.asm.J),H--,c.monitorRunDependencies&&c.monitorRunDependencies(H),0==H&&(null!==J&&(clearInterval(J),J=null),Q&&(t=Q,Q=null,t()))}function e(e){t(e.instance)}function r(t){return function(){if(!M&&(b||v)){if("function"==typeof fetch&&!Y.startsWith("file://"))return fetch(Y,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+Y+"'";return t.arrayBuffer()})).catch((function(){return rt()}));if(f)return new Promise((function(t,e){f(Y,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return rt()}))}().then((function(t){return WebAssembly.instantiate(t,n)})).then((function(t){return t})).then(t,(function(t){x("failed to asynchronously prepare wasm: "+t),$(t)}))}var n={a:Ie};if(H++,c.monitorRunDependencies&&c.monitorRunDependencies(H),c.instantiateWasm)try{return c.instantiateWasm(n,t)}catch(t){return x("Module.instantiateWasm callback failed with error: "+t),!1}M||"function"!=typeof WebAssembly.instantiateStreaming||tt()||Y.startsWith("file://")||O||"function"!=typeof fetch?r(e):fetch(Y,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,n).then(e,(function(t){return x("wasm streaming compile failed: "+t),x("falling back to ArrayBuffer instantiation"),r(e)}))}))}(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.J).apply(null,arguments)},c._sqlite3_free=function(){return(c._sqlite3_free=c.asm.K).apply(null,arguments)},c._sqlite3_value_double=function(){return(c._sqlite3_value_double=c.asm.L).apply(null,arguments)},c._sqlite3_value_text=function(){return(c._sqlite3_value_text=c.asm.M).apply(null,arguments)};var Le=c.___errno_location=function(){return(Le=c.___errno_location=c.asm.N).apply(null,arguments)};c._sqlite3_prepare_v2=function(){return(c._sqlite3_prepare_v2=c.asm.O).apply(null,arguments)},c._sqlite3_step=function(){return(c._sqlite3_step=c.asm.P).apply(null,arguments)},c._sqlite3_finalize=function(){return(c._sqlite3_finalize=c.asm.Q).apply(null,arguments)},c._sqlite3_reset=function(){return(c._sqlite3_reset=c.asm.R).apply(null,arguments)},c._sqlite3_value_int=function(){return(c._sqlite3_value_int=c.asm.S).apply(null,arguments)},c._sqlite3_clear_bindings=function(){return(c._sqlite3_clear_bindings=c.asm.T).apply(null,arguments)},c._sqlite3_value_blob=function(){return(c._sqlite3_value_blob=c.asm.U).apply(null,arguments)},c._sqlite3_value_bytes=function(){return(c._sqlite3_value_bytes=c.asm.V).apply(null,arguments)},c._sqlite3_value_type=function(){return(c._sqlite3_value_type=c.asm.W).apply(null,arguments)},c._sqlite3_result_blob=function(){return(c._sqlite3_result_blob=c.asm.X).apply(null,arguments)},c._sqlite3_result_double=function(){return(c._sqlite3_result_double=c.asm.Y).apply(null,arguments)},c._sqlite3_result_error=function(){return(c._sqlite3_result_error=c.asm.Z).apply(null,arguments)},c._sqlite3_result_int=function(){return(c._sqlite3_result_int=c.asm._).apply(null,arguments)},c._sqlite3_result_int64=function(){return(c._sqlite3_result_int64=c.asm.$).apply(null,arguments)},c._sqlite3_result_null=function(){return(c._sqlite3_result_null=c.asm.aa).apply(null,arguments)},c._sqlite3_result_text=function(){return(c._sqlite3_result_text=c.asm.ba).apply(null,arguments)},c._sqlite3_sql=function(){return(c._sqlite3_sql=c.asm.ca).apply(null,arguments)},c._sqlite3_aggregate_context=function(){return(c._sqlite3_aggregate_context=c.asm.da).apply(null,arguments)},c._sqlite3_column_count=function(){return(c._sqlite3_column_count=c.asm.ea).apply(null,arguments)},c._sqlite3_data_count=function(){return(c._sqlite3_data_count=c.asm.fa).apply(null,arguments)},c._sqlite3_column_blob=function(){return(c._sqlite3_column_blob=c.asm.ga).apply(null,arguments)},c._sqlite3_column_bytes=function(){return(c._sqlite3_column_bytes=c.asm.ha).apply(null,arguments)},c._sqlite3_column_double=function(){return(c._sqlite3_column_double=c.asm.ia).apply(null,arguments)},c._sqlite3_column_text=function(){return(c._sqlite3_column_text=c.asm.ja).apply(null,arguments)},c._sqlite3_column_type=function(){return(c._sqlite3_column_type=c.asm.ka).apply(null,arguments)},c._sqlite3_column_name=function(){return(c._sqlite3_column_name=c.asm.la).apply(null,arguments)},c._sqlite3_bind_blob=function(){return(c._sqlite3_bind_blob=c.asm.ma).apply(null,arguments)},c._sqlite3_bind_double=function(){return(c._sqlite3_bind_double=c.asm.na).apply(null,arguments)},c._sqlite3_bind_int=function(){return(c._sqlite3_bind_int=c.asm.oa).apply(null,arguments)},c._sqlite3_bind_text=function(){return(c._sqlite3_bind_text=c.asm.pa).apply(null,arguments)},c._sqlite3_bind_parameter_index=function(){return(c._sqlite3_bind_parameter_index=c.asm.qa).apply(null,arguments)},c._sqlite3_normalized_sql=function(){return(c._sqlite3_normalized_sql=c.asm.ra).apply(null,arguments)},c._sqlite3_errmsg=function(){return(c._sqlite3_errmsg=c.asm.sa).apply(null,arguments)},c._sqlite3_exec=function(){return(c._sqlite3_exec=c.asm.ta).apply(null,arguments)},c._sqlite3_changes=function(){return(c._sqlite3_changes=c.asm.ua).apply(null,arguments)},c._sqlite3_close_v2=function(){return(c._sqlite3_close_v2=c.asm.va).apply(null,arguments)},c._sqlite3_create_function_v2=function(){return(c._sqlite3_create_function_v2=c.asm.wa).apply(null,arguments)},c._sqlite3_open=function(){return(c._sqlite3_open=c.asm.xa).apply(null,arguments)};var Re=c._malloc=function(){return(Re=c._malloc=c.asm.ya).apply(null,arguments)},Ce=c._free=function(){return(Ce=c._free=c.asm.za).apply(null,arguments)};c._RegisterExtensionFunctions=function(){return(c._RegisterExtensionFunctions=c.asm.Ba).apply(null,arguments)};var Ae,ke=c._emscripten_builtin_memalign=function(){return(ke=c._emscripten_builtin_memalign=c.asm.Ca).apply(null,arguments)},Ne=c.stackSave=function(){return(Ne=c.stackSave=c.asm.Da).apply(null,arguments)},De=c.stackRestore=function(){return(De=c.stackRestore=c.asm.Ea).apply(null,arguments)},Fe=c.stackAlloc=function(){return(Fe=c.stackAlloc=c.asm.Fa).apply(null,arguments)};function Be(){function t(){if(!Ae&&(Ae=!0,c.calledRun=!0,!k)){if(c.noFSInit||dt||(dt=!0,ce(),c.stdin=c.stdin,c.stdout=c.stdout,c.stderr=c.stderr,c.stdin?ue("stdin",c.stdin):Zt("/dev/tty","/dev/stdin"),c.stdout?ue("stdout",null,c.stdout):Zt("/dev/tty","/dev/stdout"),c.stderr?ue("stderr",null,c.stderr):Zt("/dev/tty1","/dev/stderr"),re("/dev/stdin",0),re("/dev/stdout",1),re("/dev/stderr",1)),jt=!1,nt(X),c.onRuntimeInitialized&&c.onRuntimeInitialized(),c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;){var t=c.postRun.shift();q.unshift(t)}nt(q)}}if(!(0<H)){if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)V();nt(W),0<H||(c.setStatus?(c.setStatus("Running..."),setTimeout((function(){setTimeout((function(){c.setStatus("")}),1),t()}),1)):t())}}if(c.UTF8ToString=F,c.stackAlloc=Fe,c.stackSave=Ne,c.stackRestore=De,c.cwrap=function(t,e,r,n){var i=(r=r||[]).every(t=>"number"===t||"boolean"===t);return"string"!==e&&i&&!n?c["_"+t]:function(){return Pe(t,e,r,arguments)}},Q=function t(){Ae||Be(),Ae||(Q=t)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return Be(),l})))};t.exports=a,t.exports.default=a}).call(this,r(193)(t),r(121),"/",r(94).Buffer)},function(t,e){t.exports='<div id="m-attributions-container" class="m-control m-container m-attributions">\n    <button id=\'close-button\' class="{{icon}}"></button>\n    <header>\n        <h1>Attributions</h1>\n    </header>\n</div>'},function(t,e){t.exports='<div>\n   <h2 style="text-align: center; color: #fff; background-color: #364b5f; padding: 8px 10px;">ATTRIBUTIONS</h2>\n   <div>\n      <p>{{translations.help1}}</p>\n      <p>{{translations.help2}}</p>\n      <img src="{{urlImages}}/attributions.png" style="margin: 0 auto; display: block">\n   </div>\n</div>'},function(t,e){t.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wgARCAAwADADAREAAhEBAxEB/8QAGwAAAwADAQEAAAAAAAAAAAAAAgQGAAMFBwj/xAAaAQACAwEBAAAAAAAAAAAAAAABAwACBQQG/9oADAMBAAIQAxAAAAH6nAjsJBGa6wjLHdfHYSKvZeqmvnvmeW03ujmclCMS56qpDj7We++Xx06aCfzF5J29Bj3RYKgROx3M3XMzkpERpxsd18dhIIzJBEsd1/8A/8QAHBAAAwEBAQEBAQAAAAAAAAAAAgMFBAEAEwYU/9oACAEBAAEFAiLg8Oppos5Cc33Y5p4FTTOYJcLlQzo7UIDMqi5mfHzC183D3tSdLM522Fz66aFrQLc1Rj/H+aLvkZ15hu8+WmSPfpn0BIsbNa69U6blulVia27366agHO2/y5aGTPNQhOrNsx08AtW2WB0dpDwuHL0zmcuuV7t1zfBL00WCPB5//8QAIBEAAgEEAwEBAQAAAAAAAAAAAQIAERIhIgMTMRAyQv/aAAgBAwEBPwGXlsJOsn0yynhl5XD/AB9jYIBTAjGgqJaSt1Yu67RNTYZx5JMbkOVgcmikTqgAHk5MEGJ/SwGx8xje2JeRqsR64M5MkCPqbxKKwxAgApCGVqiLX9tE2N5+WFcpOwj0TsJ8EsLZf5//xAAoEQABBAEDAwQCAwAAAAAAAAACAAEDBBESIUExUWEFFSIzExQjMkL/2gAIAQIBAT8Bd2ZsuiuTWi0VG27r26Q/tldPRIN4pnZDcmqlottt3TOztllcIrUzVA6cqOMYhYAbZWjOKFzDq3dfrnJXe1r844Vd3uV/58PlUyKrM9Q+nC9O+cksvlWr8rEddh34worhyaKsgZfnKL0p3zguenGFHEETYBsL1H4SRS+VSb5T1843UUo0bZa31eVPMN20Oh9PlFbkAxggyTj1zyqd0jJ4pv75XqPzkii8q4JVZmth05X4YLMTuH+lHUijAQxnCmisQWfyxPqcvCrMYkVycsd2wqYlame2fThOzO2HRU5qpa6j7dl7jIH2xOvcZD+qJ0NOa0Wu2+3ZMzM2GX//xAAlEAABAwIGAwEBAQAAAAAAAAABAAIDBBEFEhMhMUEiMlEUQiP/2gAIAQEABj8CJJsB2jFh7PEczv4V6iulcfjUXQYi9ttvI7XQixBnieJ2cIEG4PaZh8Rs32lKbHG3KwdKSSMtDm7+fCkrv0Wu4y6X83V6kMeJOm9J+Hym7faIquqDy6TKFUUYh/0OzCw72UFBNTB7rgO1U+0oAMlxH/OVZYmBg5sFQ1A5bJlKxKkzFjsxsRypNV5qBbKZO1BpOMA9dQ8qGmptSeWK4kDx7J1PUB/6Mx2y7NCoaccukzFMxCIXb6yhSGMNyz7l4G91FHka/T3DiO/qbUQO15JrjKW2ACmxGql0dy17MvKfiEos31iCIIuD0jLh7/E8wP4VqihlafrVanoZXH65CXEH+I4gZwgALAdL/8QAIBABAAIBBQEBAQEAAAAAAAAAAQARITFBUXHwYcGBof/aAAgBAQABPyEGxrVoErNNRMOvX8mTK3aD3Uvhexf8HMvNNRMu/X8gNjWDRI4U8PY49ukPsWgQg3/YcdxUFIAyD3rM7VfN+McK+Xuce3GanEJwHiZmdd0I17qN3TltoZuneWOplXW0ftRenthouaHAJyPmGyKtMGyz/I7iEDNsff5NJkDFbMLdyg6m9/vUDGbaWoqanABwHmOFfD3OfbhMM8ofZ2S00dBuBIGrTCqFvg+aQ3Od9IKAe604jhTy9jn26wGxqVokvNNbMuvX9mDK2bH3cyZWzQe7lZprZh36/sBsagaBP//aAAwDAQACAAMAAAAQo4FGBA7SvIwnAyQo/F//xAAdEQEBAAIDAQEBAAAAAAAAAAABABGBITFBYXFR/9oACAEDAQE/EFxyyvBu9nL5WLwbhzyST2QGGeMh+2LL6JL6Lc4qBzcwn7L5w+9fIXAxbnHnoibLMJ9PsoMincq97c4J7LNvqKYdXedYhUx/YL6JM8MryavZ3s4Xk1Bjgv/EACIRAQABAwQDAQEBAAAAAAAAAAERACExQVFhcYHB8LHhkf/aAAgBAgEBPxBEkBSC3ZePHy8FF292LH76odjjF2Sdm/qgF+wcefh4aBJI0g8ZPjb7VNqj4ClFC5s67cHND9GV5g9xO1uKmADSaHpH/KQecnxt9qO9CfyxOif5V3rskzCZ7i9oisy4ErgvMOsbzPmpbEMy7JrrMfaiY4b23oR+SD0x/acuCUJkmSfFqSnEQ5M23cmG9HrDErM358F6GSSAIs1nJuPVE03LRYMx13xelH5ZPRH9oB5wPG/2ob1DQi9QJnfs/ZpgHKKEzvR68ZDAAiBZ2M2bVl8U1AQEPcREzGaAeMDxv9qu1IgkaQX7Lx4+HloszO5c/PdNm53bH57oBbsHHn5eSgQQFf/EACAQAQACAgIDAQEBAAAAAAAAAAERIQAxQVFhcZGBobH/2gAIAQEAAT8QTtB2AWq8GCJrqeglfoodN5zBhY7xKn8Zpp6KkEgAZQhHeCJvqegF/gANt4HaDsosR5MIyQ/phPKJGNPQc/0ACRXldq7yF3EzgMvsKPKYgZRAxGSmrFPBzImVkJYGgbpRaarCMEv7ZXwkFjR2DNrBDalj4/OOoUT4gQCVKaiJ8YKEllTEEgLuZjV5UGvGh5N2qoJuR5z5kIBY9B8zSwQ2oY+H3hA6OtTzAP8AcD15MbErKsRVvPrCI2DdxCA1bBZbxhvy/ugNKhakjtOsh6thgYJLAsFnZbOaWCG1BPx+cIyQftgPCYCdHYcZCYkxClOk4eZ5XF6Qd6bLtf8ADrI2LMXISFBcp7S41YIXgyJ6AgzSbcIwSfpkfKBSdPQMTtA2UUicmCJvqewt/qANtZxBhY7xIH9ZxBgY7zAn8YIGup7A1+Kh01gdoGwCgDgz/9k="},function(t,e){t.exports='<div class="m-toast {{severity}}">\n    <span class="{{icon}}"></span>\n    <div class="m-toast-message" tabindex="{{order}}">{{{message}}}</div>\n    <button type="button" class="g-cartografia-cancelar m-toast-button" tabindex="{{order}}" title="{{translations.close}}"></button>\n</div>'},function(t,e,r){var n=r(793);e.Processor=n},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){"use strict";var n=r(660);t.exports=function(t){var e=new n(t).file(/.+/),r={};return e.forEach((function(t){"shp"===t.name.slice(-3).toLowerCase()||"dbf"===t.name.slice(-3).toLowerCase()?r[t.name]=t.asNodeBuffer():r[t.name]=t.asText()})),r}},function(t,e,r){"use strict";var n=r(426);function i(t,e){if(!(this instanceof i))return new i(t,e);this.files=Object.create(null),this.comment=null,this.root="",t&&this.load(t,e),this.clone=function(){var t=new i;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}i.prototype=r(427),i.prototype.load=r(674),i.support=r(250),i.defaults=r(466),i.utils=r(678),i.base64={encode:function(t){return n.encode(t)},decode:function(t){return n.decode(t)}},i.compressions=r(428),t.exports=i},function(t,e,r){"use strict";e.byteLength=function(t){var e=l(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,n=l(t),a=n[0],s=n[1],c=new o(function(t,e,r){return 3*(e+r)/4-r}(0,a,s)),u=0,h=s>0?a-4:a;for(r=0;r<h;r+=4)e=i[t.charCodeAt(r)]<<18|i[t.charCodeAt(r+1)]<<12|i[t.charCodeAt(r+2)]<<6|i[t.charCodeAt(r+3)],c[u++]=e>>16&255,c[u++]=e>>8&255,c[u++]=255&e;2===s&&(e=i[t.charCodeAt(r)]<<2|i[t.charCodeAt(r+1)]>>4,c[u++]=255&e);1===s&&(e=i[t.charCodeAt(r)]<<10|i[t.charCodeAt(r+1)]<<4|i[t.charCodeAt(r+2)]>>2,c[u++]=e>>8&255,c[u++]=255&e);return c},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(u(t,a,a+16383>s?s:a+16383));1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function u(t,e,r){for(var i,o,a=[],s=e;s<r;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=r(453);e.uncompressInputType=n?"uint8array":"array",e.compressInputType=n?"uint8array":"array",e.magic="\b\0",e.compress=function(t,e){return i.deflateRaw(t,{level:e.level||-1})},e.uncompress=function(t){return i.inflateRaw(t)}},function(t,e,r){"use strict";var n=r(664),i=r(207),o=r(462),a=r(429),s=r(463),c=Object.prototype.toString;function l(t){if(!(this instanceof l))return new l(t);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==r)throw new Error(a[r]);if(e.header&&n.deflateSetHeader(this.strm,e.header),e.dictionary){var u;if(u="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(r=n.deflateSetDictionary(this.strm,u)))throw new Error(a[r]);this._dict_set=!0}}function u(t,e){var r=new l(e);if(r.push(t,!0),r.err)throw r.msg||a[r.err];return r.result}l.prototype.push=function(t,e){var r,a,s=this.strm,l=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=o.string2buf(t):"[object ArrayBuffer]"===c.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(l),s.next_out=0,s.avail_out=l),1!==(r=n.deflate(s,a))&&0!==r)return this.onEnd(r),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==r);return 4===a?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):2!==a||(this.onEnd(0),s.avail_out=0,!0)},l.prototype.onData=function(t){this.chunks.push(t)},l.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=l,e.deflate=u,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,u(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,u(t,e)}},function(t,e,r){"use strict";var n,i=r(207),o=r(665),a=r(460),s=r(461),c=r(429);function l(t,e){return t.msg=c[e],e}function u(t){return(t<<1)-(t>4?9:0)}function h(t){for(var e=t.length;--e>=0;)t[e]=0}function f(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(i.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function p(t,e){o._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,f(t.strm)}function d(t,e){t.pending_buf[t.pending++]=e}function m(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function y(t,e){var r,n,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,c=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,l=t.window,u=t.w_mask,h=t.prev,f=t.strstart+258,p=l[o+a-1],d=l[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(l[(r=e)+a]===d&&l[r+a-1]===p&&l[r]===l[o]&&l[++r]===l[o+1]){o+=2,r++;do{}while(l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&o<f);if(n=258-(f-o),o=f-258,n>a){if(t.match_start=e,a=n,n>=s)break;p=l[o+a-1],d=l[o+a]}}}while((e=h[e&u])>c&&0!=--i);return a<=t.lookahead?a:t.lookahead}function g(t){var e,r,n,o,c,l,u,h,f,p,d=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-262)){i.arraySet(t.window,t.window,d,d,0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=r=t.hash_size;do{n=t.head[--e],t.head[e]=n>=d?n-d:0}while(--r);e=r=d;do{n=t.prev[--e],t.prev[e]=n>=d?n-d:0}while(--r);o+=d}if(0===t.strm.avail_in)break;if(l=t.strm,u=t.window,h=t.strstart+t.lookahead,f=o,p=void 0,(p=l.avail_in)>f&&(p=f),r=0===p?0:(l.avail_in-=p,i.arraySet(u,l.input,l.next_in,p,h),1===l.state.wrap?l.adler=a(l.adler,u,p,h):2===l.state.wrap&&(l.adler=s(l.adler,u,p,h)),l.next_in+=p,l.total_in+=p,p),t.lookahead+=r,t.lookahead+t.insert>=3)for(c=t.strstart-t.insert,t.ins_h=t.window[c],t.ins_h=(t.ins_h<<t.hash_shift^t.window[c+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[c+3-1])&t.hash_mask,t.prev[c&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=c,c++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)}function _(t,e){for(var r,n;;){if(t.lookahead<262){if(g(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-262&&(t.match_length=y(t,r)),t.match_length>=3)if(n=o._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(p(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(p(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(p(t,!1),0===t.strm.avail_out)?1:2}function b(t,e){for(var r,n,i;;){if(t.lookahead<262){if(g(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-262&&(t.match_length=y(t,r),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(p(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=o._tr_tally(t,0,t.window[t.strstart-1]))&&p(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(p(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(p(t,!1),0===t.strm.avail_out)?1:2}function v(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}function O(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),h(this.dyn_ltree),h(this.dyn_dtree),h(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),h(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),h(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=0,o._tr_init(e),0):l(t,-2)}function M(t){var e,r=w(t);return 0===r&&((e=t.state).window_size=2*e.w_size,h(e.head),e.max_lazy_match=n[e.level].max_lazy,e.good_match=n[e.level].good_length,e.nice_match=n[e.level].nice_length,e.max_chain_length=n[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),r}function E(t,e,r,n,o,a){if(!t)return-2;var s=1;if(-1===e&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),o<1||o>9||8!==r||n<8||n>15||e<0||e>9||a<0||a>4)return l(t,-2);8===n&&(n=9);var c=new O;return t.state=c,c.strm=t,c.wrap=s,c.gzhead=null,c.w_bits=n,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new i.Buf8(2*c.w_size),c.head=new i.Buf16(c.hash_size),c.prev=new i.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new i.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=e,c.strategy=a,c.method=r,M(t)}n=[new v(0,0,0,0,(function(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(g(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,p(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-262&&(p(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(p(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(p(t,!1),t.strm.avail_out),1)})),new v(4,4,8,4,_),new v(4,5,16,8,_),new v(4,6,32,32,_),new v(4,4,16,16,b),new v(8,16,32,32,b),new v(8,16,128,128,b),new v(8,32,128,256,b),new v(32,128,258,1024,b),new v(32,258,258,4096,b)],e.deflateInit=function(t,e){return E(t,e,8,15,8,0)},e.deflateInit2=E,e.deflateReset=M,e.deflateResetKeep=w,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?-2:(t.state.gzhead=e,0):-2},e.deflate=function(t,e){var r,i,a,c;if(!t||!t.state||e>5||e<0)return t?l(t,-2):-2;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&4!==e)return l(t,0===t.avail_out?-5:-2);if(i.strm=t,r=i.last_flush,i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,d(i,31),d(i,139),d(i,8),i.gzhead?(d(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),d(i,255&i.gzhead.time),d(i,i.gzhead.time>>8&255),d(i,i.gzhead.time>>16&255),d(i,i.gzhead.time>>24&255),d(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),d(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(d(i,255&i.gzhead.extra.length),d(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=s(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(d(i,0),d(i,0),d(i,0),d(i,0),d(i,0),d(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),d(i,3),i.status=113);else{var y=8+(i.w_bits-8<<4)<<8;y|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(y|=32),y+=31-y%31,i.status=113,m(i,y),0!==i.strstart&&(m(i,t.adler>>>16),m(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),f(t),a=i.pending,i.pending!==i.pending_buf_size));)d(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),f(t),a=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,d(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===c&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),f(t),a=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,d(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===c&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&f(t),i.pending+2<=i.pending_buf_size&&(d(i,255&t.adler),d(i,t.adler>>8&255),t.adler=0,i.status=113)):i.status=113),0!==i.pending){if(f(t),0===t.avail_out)return i.last_flush=-1,0}else if(0===t.avail_in&&u(e)<=u(r)&&4!==e)return l(t,-5);if(666===i.status&&0!==t.avail_in)return l(t,-5);if(0!==t.avail_in||0!==i.lookahead||0!==e&&666!==i.status){var _=2===i.strategy?function(t,e){for(var r;;){if(0===t.lookahead&&(g(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(p(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(p(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(p(t,!1),0===t.strm.avail_out)?1:2}(i,e):3===i.strategy?function(t,e){for(var r,n,i,a,s=t.window;;){if(t.lookahead<=258){if(g(t),t.lookahead<=258&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=s[i=t.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){a=t.strstart+258;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);t.match_length=258-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=o._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(p(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(p(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(p(t,!1),0===t.strm.avail_out)?1:2}(i,e):n[i.level].func(i,e);if(3!==_&&4!==_||(i.status=666),1===_||3===_)return 0===t.avail_out&&(i.last_flush=-1),0;if(2===_&&(1===e?o._tr_align(i):5!==e&&(o._tr_stored_block(i,0,0,!1),3===e&&(h(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),f(t),0===t.avail_out))return i.last_flush=-1,0}return 4!==e?0:i.wrap<=0?1:(2===i.wrap?(d(i,255&t.adler),d(i,t.adler>>8&255),d(i,t.adler>>16&255),d(i,t.adler>>24&255),d(i,255&t.total_in),d(i,t.total_in>>8&255),d(i,t.total_in>>16&255),d(i,t.total_in>>24&255)):(m(i,t.adler>>>16),m(i,65535&t.adler)),f(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},e.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?l(t,-2):(t.state=null,113===e?l(t,-3):0):-2},e.deflateSetDictionary=function(t,e){var r,n,o,s,c,l,u,f,p=e.length;if(!t||!t.state)return-2;if(2===(s=(r=t.state).wrap)||1===s&&42!==r.status||r.lookahead)return-2;for(1===s&&(t.adler=a(t.adler,e,p,0)),r.wrap=0,p>=r.w_size&&(0===s&&(h(r.head),r.strstart=0,r.block_start=0,r.insert=0),f=new i.Buf8(r.w_size),i.arraySet(f,e,p-r.w_size,r.w_size,0),e=f,p=r.w_size),c=t.avail_in,l=t.next_in,u=t.input,t.avail_in=p,t.next_in=0,t.input=e,g(r);r.lookahead>=3;){n=r.strstart,o=r.lookahead-2;do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+3-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--o);r.strstart=n,r.lookahead=2,g(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=l,t.input=u,t.avail_in=c,r.wrap=s,0},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,r){"use strict";var n=r(207);function i(t){for(var e=t.length;--e>=0;)t[e]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],c=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],l=new Array(576);i(l);var u=new Array(60);i(u);var h=new Array(512);i(h);var f=new Array(256);i(f);var p=new Array(29);i(p);var d,m,y,g=new Array(30);function _(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}function b(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function v(t){return t<256?h[t]:h[256+(t>>>7)]}function O(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function w(t,e,r){t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,O(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function M(t,e,r){w(t,r[2*e],r[2*e+1])}function E(t,e){var r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1}function x(t,e,r){var n,i,o=new Array(16),a=0;for(n=1;n<=15;n++)o[n]=a=a+r[n-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=E(o[s]++,s))}}function S(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function j(t){t.bi_valid>8?O(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function P(t,e,r,n){var i=2*e,o=2*r;return t[i]<t[o]||t[i]===t[o]&&n[e]<=n[r]}function T(t,e,r){for(var n=t.heap[r],i=r<<1;i<=t.heap_len&&(i<t.heap_len&&P(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!P(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n}function I(t,e,r){var n,i,s,c,l=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*l]<<8|t.pending_buf[t.d_buf+2*l+1],i=t.pending_buf[t.l_buf+l],l++,0===n?M(t,i,e):(M(t,(s=f[i])+256+1,e),0!==(c=o[s])&&w(t,i-=p[s],c),M(t,s=v(--n),r),0!==(c=a[s])&&w(t,n-=g[s],c))}while(l<t.last_lit);M(t,256,e)}function L(t,e){var r,n,i,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,c=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=573,r=0;r<c;r++)0!==o[2*r]?(t.heap[++t.heap_len]=l=r,t.depth[r]=0):o[2*r+1]=0;for(;t.heap_len<2;)o[2*(i=t.heap[++t.heap_len]=l<2?++l:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=a[2*i+1]);for(e.max_code=l,r=t.heap_len>>1;r>=1;r--)T(t,o,r);i=c;do{r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],T(t,o,1),n=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=n,o[2*i]=o[2*r]+o[2*n],t.depth[i]=(t.depth[r]>=t.depth[n]?t.depth[r]:t.depth[n])+1,o[2*r+1]=o[2*n+1]=i,t.heap[1]=i++,T(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var r,n,i,o,a,s,c=e.dyn_tree,l=e.max_code,u=e.stat_desc.static_tree,h=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,d=e.stat_desc.max_length,m=0;for(o=0;o<=15;o++)t.bl_count[o]=0;for(c[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<573;r++)(o=c[2*c[2*(n=t.heap[r])+1]+1]+1)>d&&(o=d,m++),c[2*n+1]=o,n>l||(t.bl_count[o]++,a=0,n>=p&&(a=f[n-p]),s=c[2*n],t.opt_len+=s*(o+a),h&&(t.static_len+=s*(u[2*n+1]+a)));if(0!==m){do{for(o=d-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[d]--,m-=2}while(m>0);for(o=d;0!==o;o--)for(n=t.bl_count[o];0!==n;)(i=t.heap[--r])>l||(c[2*i+1]!==o&&(t.opt_len+=(o-c[2*i+1])*c[2*i],c[2*i+1]=o),n--)}}(t,e),x(o,l,t.bl_count)}function R(t,e,r){var n,i,o=-1,a=e[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=e[2*(n+1)+1],++s<c&&i===a||(s<l?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,o=i,0===a?(c=138,l=3):i===a?(c=6,l=3):(c=7,l=4))}function C(t,e,r){var n,i,o=-1,a=e[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),n=0;n<=r;n++)if(i=a,a=e[2*(n+1)+1],!(++s<c&&i===a)){if(s<l)do{M(t,i,t.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(M(t,i,t.bl_tree),s--),M(t,16,t.bl_tree),w(t,s-3,2)):s<=10?(M(t,17,t.bl_tree),w(t,s-3,3)):(M(t,18,t.bl_tree),w(t,s-11,7));s=0,o=i,0===a?(c=138,l=3):i===a?(c=6,l=3):(c=7,l=4)}}i(g);var A=!1;function k(t,e,r,i){w(t,0+(i?1:0),3),function(t,e,r,i){j(t),i&&(O(t,r),O(t,~r)),n.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}(t,e,r,!0)}e._tr_init=function(t){A||(!function(){var t,e,r,n,i,c=new Array(16);for(r=0,n=0;n<28;n++)for(p[n]=r,t=0;t<1<<o[n];t++)f[r++]=n;for(f[r-1]=n,i=0,n=0;n<16;n++)for(g[n]=i,t=0;t<1<<a[n];t++)h[i++]=n;for(i>>=7;n<30;n++)for(g[n]=i<<7,t=0;t<1<<a[n]-7;t++)h[256+i++]=n;for(e=0;e<=15;e++)c[e]=0;for(t=0;t<=143;)l[2*t+1]=8,t++,c[8]++;for(;t<=255;)l[2*t+1]=9,t++,c[9]++;for(;t<=279;)l[2*t+1]=7,t++,c[7]++;for(;t<=287;)l[2*t+1]=8,t++,c[8]++;for(x(l,287,c),t=0;t<30;t++)u[2*t+1]=5,u[2*t]=E(t,5);d=new _(l,o,257,286,15),m=new _(u,a,0,30,15),y=new _(new Array(0),s,0,19,7)}(),A=!0),t.l_desc=new b(t.dyn_ltree,d),t.d_desc=new b(t.dyn_dtree,m),t.bl_desc=new b(t.bl_tree,y),t.bi_buf=0,t.bi_valid=0,S(t)},e._tr_stored_block=k,e._tr_flush_block=function(t,e,r,n){var i,o,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),L(t,t.l_desc),L(t,t.d_desc),a=function(t){var e;for(R(t,t.dyn_ltree,t.l_desc.max_code),R(t,t.dyn_dtree,t.d_desc.max_code),L(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*c[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==e?k(t,e,r,n):4===t.strategy||o===i?(w(t,2+(n?1:0),3),I(t,l,u)):(w(t,4+(n?1:0),3),function(t,e,r,n){var i;for(w(t,e-257,5),w(t,r-1,5),w(t,n-4,4),i=0;i<n;i++)w(t,t.bl_tree[2*c[i]+1],3);C(t,t.dyn_ltree,e-1),C(t,t.dyn_dtree,r-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),I(t,t.dyn_ltree,t.dyn_dtree)),S(t),n&&j(t)},e._tr_tally=function(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(f[r]+256+1)]++,t.dyn_dtree[2*v(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){w(t,2,3),M(t,256,l),function(t){16===t.bi_valid?(O(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,r){"use strict";var n=r(667),i=r(207),o=r(462),a=r(464),s=r(429),c=r(463),l=r(670),u=Object.prototype.toString;function h(t){if(!(this instanceof h))return new h(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,e.windowBits);if(r!==a.Z_OK)throw new Error(s[r]);if(this.header=new l,n.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=o.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=n.inflateSetDictionary(this.strm,e.dictionary))!==a.Z_OK))throw new Error(s[r])}function f(t,e){var r=new h(e);if(r.push(t,!0),r.err)throw r.msg||s[r.err];return r.result}h.prototype.push=function(t,e){var r,s,c,l,h,f=this.strm,p=this.options.chunkSize,d=this.options.dictionary,m=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof t?f.input=o.binstring2buf(t):"[object ArrayBuffer]"===u.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new i.Buf8(p),f.next_out=0,f.avail_out=p),(r=n.inflate(f,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&d&&(r=n.inflateSetDictionary(this.strm,d)),r===a.Z_BUF_ERROR&&!0===m&&(r=a.Z_OK,m=!1),r!==a.Z_STREAM_END&&r!==a.Z_OK)return this.onEnd(r),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&r!==a.Z_STREAM_END&&(0!==f.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(c=o.utf8border(f.output,f.next_out),l=f.next_out-c,h=o.buf2string(f.output,c),f.next_out=l,f.avail_out=p-l,l&&i.arraySet(f.output,f.output,c,l,0),this.onData(h)):this.onData(i.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((f.avail_in>0||0===f.avail_out)&&r!==a.Z_STREAM_END);return r===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),f.avail_out=0,!0)},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=h,e.inflate=f,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},e.ungzip=f},function(t,e,r){"use strict";var n=r(207),i=r(460),o=r(461),a=r(668),s=r(669);function c(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function l(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function u(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new n.Buf32(852),e.distcode=e.distdyn=new n.Buf32(592),e.sane=1,e.back=-1,0):-2}function h(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,u(t)):-2}function f(t,e){var r,n;return t&&t.state?(n=t.state,e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?-2:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,h(t))):-2}function p(t,e){var r,n;return t?(n=new l,t.state=n,n.window=null,0!==(r=f(t,e))&&(t.state=null),r):-2}var d,m,y=!0;function g(t){if(y){var e;for(d=new n.Buf32(512),m=new n.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(1,t.lens,0,288,d,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(2,t.lens,0,32,m,0,t.work,{bits:5}),y=!1}t.lencode=d,t.lenbits=9,t.distcode=m,t.distbits=5}function _(t,e,r,i){var o,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new n.Buf8(a.wsize)),i>=a.wsize?(n.arraySet(a.window,e,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),n.arraySet(a.window,e,r-i,o,a.wnext),(i-=o)?(n.arraySet(a.window,e,r-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}e.inflateReset=h,e.inflateReset2=f,e.inflateResetKeep=u,e.inflateInit=function(t){return p(t,15)},e.inflateInit2=p,e.inflate=function(t,e){var r,l,u,h,f,p,d,m,y,b,v,O,w,M,E,x,S,j,P,T,I,L,R,C,A=0,k=new n.Buf8(4),N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return-2;12===(r=t.state).mode&&(r.mode=13),f=t.next_out,u=t.output,d=t.avail_out,h=t.next_in,l=t.input,p=t.avail_in,m=r.hold,y=r.bits,b=p,v=d,L=0;t:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;y<16;){if(0===p)break t;p--,m+=l[h++]<<y,y+=8}if(2&r.wrap&&35615===m){r.check=0,k[0]=255&m,k[1]=m>>>8&255,r.check=o(r.check,k,2,0),m=0,y=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&m)<<8)+(m>>8))%31){t.msg="incorrect header check",r.mode=30;break}if(8!=(15&m)){t.msg="unknown compression method",r.mode=30;break}if(y-=4,I=8+(15&(m>>>=4)),0===r.wbits)r.wbits=I;else if(I>r.wbits){t.msg="invalid window size",r.mode=30;break}r.dmax=1<<I,t.adler=r.check=1,r.mode=512&m?10:12,m=0,y=0;break;case 2:for(;y<16;){if(0===p)break t;p--,m+=l[h++]<<y,y+=8}if(r.flags=m,8!=(255&r.flags)){t.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=m>>8&1),512&r.flags&&(k[0]=255&m,k[1]=m>>>8&255,r.check=o(r.check,k,2,0)),m=0,y=0,r.mode=3;case 3:for(;y<32;){if(0===p)break t;p--,m+=l[h++]<<y,y+=8}r.head&&(r.head.time=m),512&r.flags&&(k[0]=255&m,k[1]=m>>>8&255,k[2]=m>>>16&255,k[3]=m>>>24&255,r.check=o(r.check,k,4,0)),m=0,y=0,r.mode=4;case 4:for(;y<16;){if(0===p)break t;p--,m+=l[h++]<<y,y+=8}r.head&&(r.head.xflags=255&m,r.head.os=m>>8),512&r.flags&&(k[0]=255&m,k[1]=m>>>8&255,r.check=o(r.check,k,2,0)),m=0,y=0,r.mode=5;case 5:if(1024&r.flags){for(;y<16;){if(0===p)break t;p--,m+=l[h++]<<y,y+=8}r.length=m,r.head&&(r.head.extra_len=m),512&r.flags&&(k[0]=255&m,k[1]=m>>>8&255,r.check=o(r.check,k,2,0)),m=0,y=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((O=r.length)>p&&(O=p),O&&(r.head&&(I=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,l,h,O,I)),512&r.flags&&(r.check=o(r.check,l,O,h)),p-=O,h+=O,r.length-=O),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===p)break t;O=0;do{I=l[h+O++],r.head&&I&&r.length<65536&&(r.head.name+=String.fromCharCode(I))}while(I&&O<p);if(512&r.flags&&(r.check=o(r.check,l,O,h)),p-=O,h+=O,I)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===p)break t;O=0;do{I=l[h+O++],r.head&&I&&r.length<65536&&(r.head.comment+=String.fromCharCode(I))}while(I&&O<p);if(512&r.flags&&(r.check=o(r.check,l,O,h)),p-=O,h+=O,I)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;y<16;){if(0===p)break t;p--,m+=l[h++]<<y,y+=8}if(m!==(65535&r.check)){t.msg="header crc mismatch",r.mode=30;break}m=0,y=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=12;break;case 10:for(;y<32;){if(0===p)break t;p--,m+=l[h++]<<y,y+=8}t.adler=r.check=c(m),m=0,y=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=f,t.avail_out=d,t.next_in=h,t.avail_in=p,r.hold=m,r.bits=y,2;t.adler=r.check=1,r.mode=12;case 12:if(5===e||6===e)break t;case 13:if(r.last){m>>>=7&y,y-=7&y,r.mode=27;break}for(;y<3;){if(0===p)break t;p--,m+=l[h++]<<y,y+=8}switch(r.last=1&m,y-=1,3&(m>>>=1)){case 0:r.mode=14;break;case 1:if(g(r),r.mode=20,6===e){m>>>=2,y-=2;break t}break;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=30}m>>>=2,y-=2;break;case 14:for(m>>>=7&y,y-=7&y;y<32;){if(0===p)break t;p--,m+=l[h++]<<y,y+=8}if((65535&m)!=(m>>>16^65535)){t.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&m,m=0,y=0,r.mode=15,6===e)break t;case 15:r.mode=16;case 16:if(O=r.length){if(O>p&&(O=p),O>d&&(O=d),0===O)break t;n.arraySet(u,l,h,O,f),p-=O,h+=O,d-=O,f+=O,r.length-=O;break}r.mode=12;break;case 17:for(;y<14;){if(0===p)break t;p--,m+=l[h++]<<y,y+=8}if(r.nlen=257+(31&m),m>>>=5,y-=5,r.ndist=1+(31&m),m>>>=5,y-=5,r.ncode=4+(15&m),m>>>=4,y-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;y<3;){if(0===p)break t;p--,m+=l[h++]<<y,y+=8}r.lens[N[r.have++]]=7&m,m>>>=3,y-=3}for(;r.have<19;)r.lens[N[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,R={bits:r.lenbits},L=s(0,r.lens,0,19,r.lencode,0,r.work,R),r.lenbits=R.bits,L){t.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;x=(A=r.lencode[m&(1<<r.lenbits)-1])>>>16&255,S=65535&A,!((E=A>>>24)<=y);){if(0===p)break t;p--,m+=l[h++]<<y,y+=8}if(S<16)m>>>=E,y-=E,r.lens[r.have++]=S;else{if(16===S){for(C=E+2;y<C;){if(0===p)break t;p--,m+=l[h++]<<y,y+=8}if(m>>>=E,y-=E,0===r.have){t.msg="invalid bit length repeat",r.mode=30;break}I=r.lens[r.have-1],O=3+(3&m),m>>>=2,y-=2}else if(17===S){for(C=E+3;y<C;){if(0===p)break t;p--,m+=l[h++]<<y,y+=8}y-=E,I=0,O=3+(7&(m>>>=E)),m>>>=3,y-=3}else{for(C=E+7;y<C;){if(0===p)break t;p--,m+=l[h++]<<y,y+=8}y-=E,I=0,O=11+(127&(m>>>=E)),m>>>=7,y-=7}if(r.have+O>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=30;break}for(;O--;)r.lens[r.have++]=I}}if(30===r.mode)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,R={bits:r.lenbits},L=s(1,r.lens,0,r.nlen,r.lencode,0,r.work,R),r.lenbits=R.bits,L){t.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,R={bits:r.distbits},L=s(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,R),r.distbits=R.bits,L){t.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===e)break t;case 20:r.mode=21;case 21:if(p>=6&&d>=258){t.next_out=f,t.avail_out=d,t.next_in=h,t.avail_in=p,r.hold=m,r.bits=y,a(t,v),f=t.next_out,u=t.output,d=t.avail_out,h=t.next_in,l=t.input,p=t.avail_in,m=r.hold,y=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;x=(A=r.lencode[m&(1<<r.lenbits)-1])>>>16&255,S=65535&A,!((E=A>>>24)<=y);){if(0===p)break t;p--,m+=l[h++]<<y,y+=8}if(x&&0==(240&x)){for(j=E,P=x,T=S;x=(A=r.lencode[T+((m&(1<<j+P)-1)>>j)])>>>16&255,S=65535&A,!(j+(E=A>>>24)<=y);){if(0===p)break t;p--,m+=l[h++]<<y,y+=8}m>>>=j,y-=j,r.back+=j}if(m>>>=E,y-=E,r.back+=E,r.length=S,0===x){r.mode=26;break}if(32&x){r.back=-1,r.mode=12;break}if(64&x){t.msg="invalid literal/length code",r.mode=30;break}r.extra=15&x,r.mode=22;case 22:if(r.extra){for(C=r.extra;y<C;){if(0===p)break t;p--,m+=l[h++]<<y,y+=8}r.length+=m&(1<<r.extra)-1,m>>>=r.extra,y-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;x=(A=r.distcode[m&(1<<r.distbits)-1])>>>16&255,S=65535&A,!((E=A>>>24)<=y);){if(0===p)break t;p--,m+=l[h++]<<y,y+=8}if(0==(240&x)){for(j=E,P=x,T=S;x=(A=r.distcode[T+((m&(1<<j+P)-1)>>j)])>>>16&255,S=65535&A,!(j+(E=A>>>24)<=y);){if(0===p)break t;p--,m+=l[h++]<<y,y+=8}m>>>=j,y-=j,r.back+=j}if(m>>>=E,y-=E,r.back+=E,64&x){t.msg="invalid distance code",r.mode=30;break}r.offset=S,r.extra=15&x,r.mode=24;case 24:if(r.extra){for(C=r.extra;y<C;){if(0===p)break t;p--,m+=l[h++]<<y,y+=8}r.offset+=m&(1<<r.extra)-1,m>>>=r.extra,y-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===d)break t;if(O=v-d,r.offset>O){if((O=r.offset-O)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=30;break}O>r.wnext?(O-=r.wnext,w=r.wsize-O):w=r.wnext-O,O>r.length&&(O=r.length),M=r.window}else M=u,w=f-r.offset,O=r.length;O>d&&(O=d),d-=O,r.length-=O;do{u[f++]=M[w++]}while(--O);0===r.length&&(r.mode=21);break;case 26:if(0===d)break t;u[f++]=r.length,d--,r.mode=21;break;case 27:if(r.wrap){for(;y<32;){if(0===p)break t;p--,m|=l[h++]<<y,y+=8}if(v-=d,t.total_out+=v,r.total+=v,v&&(t.adler=r.check=r.flags?o(r.check,u,v,f-v):i(r.check,u,v,f-v)),v=d,(r.flags?m:c(m))!==r.check){t.msg="incorrect data check",r.mode=30;break}m=0,y=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;y<32;){if(0===p)break t;p--,m+=l[h++]<<y,y+=8}if(m!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=30;break}m=0,y=0}r.mode=29;case 29:L=1;break t;case 30:L=-3;break t;case 31:return-4;case 32:default:return-2}return t.next_out=f,t.avail_out=d,t.next_in=h,t.avail_in=p,r.hold=m,r.bits=y,(r.wsize||v!==t.avail_out&&r.mode<30&&(r.mode<27||4!==e))&&_(t,t.output,t.next_out,v-t.avail_out)?(r.mode=31,-4):(b-=t.avail_in,v-=t.avail_out,t.total_in+=b,t.total_out+=v,r.total+=v,r.wrap&&v&&(t.adler=r.check=r.flags?o(r.check,u,v,t.next_out-v):i(r.check,u,v,t.next_out-v)),t.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0===b&&0===v||4===e)&&0===L&&(L=-5),L)},e.inflateEnd=function(t){if(!t||!t.state)return-2;var e=t.state;return e.window&&(e.window=null),t.state=null,0},e.inflateGetHeader=function(t,e){var r;return t&&t.state?0==(2&(r=t.state).wrap)?-2:(r.head=e,e.done=!1,0):-2},e.inflateSetDictionary=function(t,e){var r,n=e.length;return t&&t.state?0!==(r=t.state).wrap&&11!==r.mode?-2:11===r.mode&&i(1,e,n,0)!==r.check?-3:_(t,e,n,n)?(r.mode=31,-4):(r.havedict=1,0):-2},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,r){"use strict";t.exports=function(t,e){var r,n,i,o,a,s,c,l,u,h,f,p,d,m,y,g,_,b,v,O,w,M,E,x,S;r=t.state,n=t.next_in,x=t.input,i=n+(t.avail_in-5),o=t.next_out,S=t.output,a=o-(e-t.avail_out),s=o+(t.avail_out-257),c=r.dmax,l=r.wsize,u=r.whave,h=r.wnext,f=r.window,p=r.hold,d=r.bits,m=r.lencode,y=r.distcode,g=(1<<r.lenbits)-1,_=(1<<r.distbits)-1;t:do{d<15&&(p+=x[n++]<<d,d+=8,p+=x[n++]<<d,d+=8),b=m[p&g];e:for(;;){if(p>>>=v=b>>>24,d-=v,0===(v=b>>>16&255))S[o++]=65535&b;else{if(!(16&v)){if(0==(64&v)){b=m[(65535&b)+(p&(1<<v)-1)];continue e}if(32&v){r.mode=12;break t}t.msg="invalid literal/length code",r.mode=30;break t}O=65535&b,(v&=15)&&(d<v&&(p+=x[n++]<<d,d+=8),O+=p&(1<<v)-1,p>>>=v,d-=v),d<15&&(p+=x[n++]<<d,d+=8,p+=x[n++]<<d,d+=8),b=y[p&_];r:for(;;){if(p>>>=v=b>>>24,d-=v,!(16&(v=b>>>16&255))){if(0==(64&v)){b=y[(65535&b)+(p&(1<<v)-1)];continue r}t.msg="invalid distance code",r.mode=30;break t}if(w=65535&b,d<(v&=15)&&(p+=x[n++]<<d,(d+=8)<v&&(p+=x[n++]<<d,d+=8)),(w+=p&(1<<v)-1)>c){t.msg="invalid distance too far back",r.mode=30;break t}if(p>>>=v,d-=v,w>(v=o-a)){if((v=w-v)>u&&r.sane){t.msg="invalid distance too far back",r.mode=30;break t}if(M=0,E=f,0===h){if(M+=l-v,v<O){O-=v;do{S[o++]=f[M++]}while(--v);M=o-w,E=S}}else if(h<v){if(M+=l+h-v,(v-=h)<O){O-=v;do{S[o++]=f[M++]}while(--v);if(M=0,h<O){O-=v=h;do{S[o++]=f[M++]}while(--v);M=o-w,E=S}}}else if(M+=h-v,v<O){O-=v;do{S[o++]=f[M++]}while(--v);M=o-w,E=S}for(;O>2;)S[o++]=E[M++],S[o++]=E[M++],S[o++]=E[M++],O-=3;O&&(S[o++]=E[M++],O>1&&(S[o++]=E[M++]))}else{M=o-w;do{S[o++]=S[M++],S[o++]=S[M++],S[o++]=S[M++],O-=3}while(O>2);O&&(S[o++]=S[M++],O>1&&(S[o++]=S[M++]))}break}}break}}while(n<i&&o<s);n-=O=d>>3,p&=(1<<(d-=O<<3))-1,t.next_in=n,t.next_out=o,t.avail_in=n<i?i-n+5:5-(n-i),t.avail_out=o<s?s-o+257:257-(o-s),r.hold=p,r.bits=d}},function(t,e,r){"use strict";var n=r(207),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,r,c,l,u,h,f){var p,d,m,y,g,_,b,v,O,w=f.bits,M=0,E=0,x=0,S=0,j=0,P=0,T=0,I=0,L=0,R=0,C=null,A=0,k=new n.Buf16(16),N=new n.Buf16(16),D=null,F=0;for(M=0;M<=15;M++)k[M]=0;for(E=0;E<c;E++)k[e[r+E]]++;for(j=w,S=15;S>=1&&0===k[S];S--);if(j>S&&(j=S),0===S)return l[u++]=20971520,l[u++]=20971520,f.bits=1,0;for(x=1;x<S&&0===k[x];x++);for(j<x&&(j=x),I=1,M=1;M<=15;M++)if(I<<=1,(I-=k[M])<0)return-1;if(I>0&&(0===t||1!==S))return-1;for(N[1]=0,M=1;M<15;M++)N[M+1]=N[M]+k[M];for(E=0;E<c;E++)0!==e[r+E]&&(h[N[e[r+E]]++]=E);if(0===t?(C=D=h,_=19):1===t?(C=i,A-=257,D=o,F-=257,_=256):(C=a,D=s,_=-1),R=0,E=0,M=x,g=u,P=j,T=0,m=-1,y=(L=1<<j)-1,1===t&&L>852||2===t&&L>592)return 1;for(;;){b=M-T,h[E]<_?(v=0,O=h[E]):h[E]>_?(v=D[F+h[E]],O=C[A+h[E]]):(v=96,O=0),p=1<<M-T,x=d=1<<P;do{l[g+(R>>T)+(d-=p)]=b<<24|v<<16|O|0}while(0!==d);for(p=1<<M-1;R&p;)p>>=1;if(0!==p?(R&=p-1,R+=p):R=0,E++,0==--k[M]){if(M===S)break;M=e[r+h[E]]}if(M>j&&(R&y)!==m){for(0===T&&(T=j),g+=x,I=1<<(P=M-T);P+T<S&&!((I-=k[P+T])<=0);)P++,I<<=1;if(L+=1<<P,1===t&&L>852||2===t&&L>592)return 1;l[m=R&y]=j<<24|P<<16|g-u|0}}return 0!==R&&(l[g+R]=M-T<<24|64<<16|0),f.bits=j,0}},function(t,e,r){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(t,e,r){"use strict";var n=r(165),i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];t.exports=function(t,e){if(void 0===t||!t.length)return 0;var r="string"!==n.getTypeOf(t);void 0===e&&(e=0);var o=0;e^=-1;for(var a=0,s=t.length;a<s;a++)o=r?t[a]:t.charCodeAt(a),e=e>>>8^i[255&(e^o)];return-1^e}},function(t,e,r){"use strict";var n=r(165),i=function(){this.data=[]};i.prototype={append:function(t){t=n.transformTo("string",t),this.data.push(t)},finalize:function(){return this.data.join("")}},t.exports=i},function(t,e,r){"use strict";var n=r(165),i=function(t){this.data=new Uint8Array(t),this.index=0};i.prototype={append:function(t){0!==t.length&&(t=n.transformTo("uint8array",t),this.data.set(t,this.index),this.index+=t.length)},finalize:function(){return this.data}},t.exports=i},function(t,e,r){"use strict";var n=r(426),i=r(468),o=r(165),a=r(675);t.exports=function(t,e){var r,s,c,l;for((e=o.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode})).base64&&(t=n.decode(t)),r=(s=new a(t,e)).files,c=0;c<r.length;c++)l=r[c],this.file(l.fileNameStr,l.decompressed,{binary:!0,optimizedBinaryString:!0,date:l.date,dir:l.dir,comment:l.fileCommentStr.length?l.fileCommentStr:null,unixPermissions:l.unixPermissions,dosPermissions:l.dosPermissions,createFolders:e.createFolders});return s.zipComment.length&&(this.comment=s.zipComment),this}},function(t,e,r){"use strict";var n=r(469),i=r(676),o=r(471),a=r(472),s=r(165),c=r(465),l=r(677),u=r(250);r(427);function h(t,e){this.files=[],this.loadOptions=e,t&&this.load(t)}h.prototype={checkSignature:function(t){var e=this.reader.readString(4);if(e!==t)throw new Error("Corrupted zip or bug : unexpected signature ("+s.pretty(e)+", expected "+s.pretty(t)+")")},isSignature:function(t,e){var r=this.reader.index;this.reader.setIndex(t);var n=this.reader.readString(4)===e;return this.reader.setIndex(r),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=u.uint8array?"uint8array":"array",r=s.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,r,n=this.zip64EndOfCentralSize-44;0<n;)t=this.reader.readInt(2),e=this.reader.readInt(4),r=this.reader.readString(e),this.zip64ExtensibleData[t]={id:t,length:e,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===c.CENTRAL_FILE_HEADER;)(t=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(t<0)throw!this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip : can't find end of central directory");this.reader.setIndex(t);var e=t;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var n=e-r;if(n>0)this.isSignature(e,c.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(t){var e=s.getTypeOf(t);if(s.checkSupport(e),"string"!==e||u.uint8array)if("nodebuffer"===e)this.reader=new i(t);else if(u.uint8array)this.reader=new o(s.transformTo("uint8array",t));else{if(!u.array)throw new Error("Unexpected error: unsupported type '"+e+"'");this.reader=new a(s.transformTo("array",t))}else this.reader=new n(t,this.loadOptions.optimizedBinaryString)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=h},function(t,e,r){"use strict";var n=r(471);function i(t){this.data=t,this.length=this.data.length,this.index=0,this.zero=0}i.prototype=new n,i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=i},function(t,e,r){"use strict";var n=r(469),i=r(165),o=r(467),a=r(427),s=r(250);function c(t,e){this.options=t,this.loadOptions=e}c.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},prepareCompressedContent:function(t,e,r){return function(){var n=t.index;t.setIndex(e);var i=t.readData(r);return t.setIndex(n),i}},prepareContent:function(t,e,r,n,o){return function(){var t=i.transformTo(n.uncompressInputType,this.getCompressedContent()),e=n.uncompress(t);if(e.length!==o)throw new Error("Bug : uncompressed data size mismatch");return e}},readLocalPart:function(t){var e,r;if(t.skip(22),this.fileNameLength=t.readInt(2),r=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(r),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(null===(e=i.findCompression(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");if(this.decompressed=new o,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(t,t.index,this.compressedSize,e),this.decompressed.getContent=this.prepareContent(t,t.index,this.compressedSize,e,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=i.transformTo("string",this.decompressed.getContent()),a.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(t){if(this.versionMadeBy=t.readInt(2),this.versionNeeded=t.readInt(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4),this.fileNameLength=t.readInt(2),this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=t.readData(this.fileNameLength),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=new n(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,r,n,i=t.index;for(this.extraFields=this.extraFields||{};t.index<i+this.extraFieldsLength;)e=t.readInt(2),r=t.readInt(2),n=t.readString(r),this.extraFields[e]={id:e,length:r,value:n}},handleUTF8:function(){var t=s.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var r=i.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var o=i.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=new n(t.value);return 1!==e.readInt(1)||a.crc32(this.fileName)!==e.readInt(4)?null:a.utf8decode(e.readString(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=new n(t.value);return 1!==e.readInt(1)||a.crc32(this.fileComment)!==e.readInt(4)?null:a.utf8decode(e.readString(t.length-5))}return null}},t.exports=c},function(t,e,r){"use strict";var n=r(165);e.string2binary=function(t){return n.string2binary(t)},e.string2Uint8Array=function(t){return n.transformTo("uint8array",t)},e.uint8Array2String=function(t){return n.transformTo("string",t)},e.string2Blob=function(t){var e=n.transformTo("arraybuffer",t);return n.arrayBuffer2Blob(e)},e.arrayBuffer2Blob=function(t){return n.arrayBuffer2Blob(t)},e.transformTo=function(t,e){return n.transformTo(t,e)},e.getTypeOf=function(t){return n.getTypeOf(t)},e.checkSupport=function(t){return n.checkSupport(t)},e.MAX_VALUE_16BITS=n.MAX_VALUE_16BITS,e.MAX_VALUE_32BITS=n.MAX_VALUE_32BITS,e.pretty=function(t){return n.pretty(t)},e.findCompression=function(t){return n.findCompression(t)},e.isRegExp=function(t){return n.isRegExp(t)}},function(t,e,r){"use strict";(function(e){var n=r(680),i=r(94).Buffer;t.exports=async function(t){if(!e.fetch)return n(t);var r=t.slice(-3).toLowerCase(),o="prj"===r||"cpg"===r;try{if((a=await fetch(t)).status>399)throw new Error(a.statusText);if(o)return a.text();var a=await a.arrayBuffer();return i.from(a)}catch(t){if(o)return!1;throw t}}}).call(this,r(120))},function(t,e,r){"use strict";var n=r(473),i=r(94).Buffer;t.exports=function(t){return new n((function(e,r){var n=t.slice(-3),o=new XMLHttpRequest;o.open("GET",t,!0),"prj"!==n&&"cpg"!==n&&(o.responseType="arraybuffer"),o.addEventListener("load",(function(){return o.status>399?"prj"===n||"cpg"===n?e(!1):r(new Error(o.status)):e("prj"!==n&&"cpg"!==n?i.from(o.response):o.response)}),!1),o.send()}))}},function(t,e,r){"use strict";(function(e){var r,n,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,a=new i(u),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),r=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var c=new e.MessageChannel;c.port1.onmessage=u,r=function(){c.port2.postMessage(0)}}var l=[];function u(){var t,e;n=!0;for(var r=l.length;r;){for(e=l,l=[],t=-1;++t<r;)e[t]();r=l.length}n=!1}t.exports=function(t){1!==l.push(t)||n||r()}}).call(this,r(120))},function(t,e,r){"use strict";function n(t,e){return!function(t){for(var e,r,n=0,i=1,o=t.length;i<o;)e=r||t[0],n+=((r=t[i])[0]-e[0])*(r[1]+e[1]),i++;return n>0}(e)&&t.length?t[t.length-1].push(e):t.push([e]),t}o.prototype.parsePoint=function(t){return{type:"Point",coordinates:this.parseCoord(t,0)}},o.prototype.parseZPoint=function(t){var e=this.parsePoint(t);return e.coordinates.push(t.readDoubleLE(16)),e},o.prototype.parsePointArray=function(t,e,r){for(var n=[],i=0;i<r;)n.push(this.parseCoord(t,e)),e+=16,i++;return n},o.prototype.parseZPointArray=function(t,e,r,n){for(var i=0;i<r;)n[i].push(t.readDoubleLE(e)),i++,e+=8;return n},o.prototype.parseArrayGroup=function(t,e,r,n,i){for(var o,a,s=[],c=0,l=0;c<n;)r+=4,o=l,(a=(l=++c===n?i:t.readInt32LE(r))-o)&&(s.push(this.parsePointArray(t,e,a)),e+=a<<4);return s},o.prototype.parseZArrayGroup=function(t,e,r,n){for(var i=0;i<r;)n[i]=this.parseZPointArray(t,e,n[i].length,n[i]),e+=n[i].length<<3,i++;return n},o.prototype.parseMultiPoint=function(t){var e={},r=this.parseCoord(t,0),n=this.parseCoord(t,16);e.bbox=[r[0],r[1],n[0],n[1]];var i=t.readInt32LE(32,!0);return 1===i?(e.type="Point",e.coordinates=this.parseCoord(t,36)):(e.type="MultiPoint",e.coordinates=this.parsePointArray(t,36,i)),e},o.prototype.parseZMultiPoint=function(t){var e,r=this.parseMultiPoint(t);if("Point"===r.type)return r.coordinates.push(t.readDoubleLE(72)),r;var n=52+((e=r.coordinates.length)<<4);return r.coordinates=this.parseZPointArray(t,n,e,r.coordinates),r},o.prototype.parsePolyline=function(t){var e={},r=this.parseCoord(t,0),n=this.parseCoord(t,16);e.bbox=[r[0],r[1],n[0],n[1]];var i,o=t.readInt32LE(32),a=t.readInt32LE(36);return 1===o?(e.type="LineString",i=44,e.coordinates=this.parsePointArray(t,i,a)):(e.type="MultiLineString",i=40+(o<<2),40,e.coordinates=this.parseArrayGroup(t,i,40,o,a)),e},o.prototype.parseZPolyline=function(t){var e,r=this.parsePolyline(t),n=r.coordinates.length;return"LineString"===r.type?(e=60+(n<<4),r.coordinates=this.parseZPointArray(t,e,n,r.coordinates),r):(e=56+(r.coordinates.reduce((function(t,e){return t+e.length}),0)<<4)+(n<<2),r.coordinates=this.parseZArrayGroup(t,e,n,r.coordinates),r)},o.prototype.polyFuncs=function(t){return"LineString"===t.type?(t.type="Polygon",t.coordinates=[t.coordinates],t):(t.coordinates=t.coordinates.reduce(n,[]),1===t.coordinates.length?(t.type="Polygon",t.coordinates=t.coordinates[0],t):(t.type="MultiPolygon",t))},o.prototype.parsePolygon=function(t){return this.polyFuncs(this.parsePolyline(t))},o.prototype.parseZPolygon=function(t){return this.polyFuncs(this.parseZPolyline(t))};var i={1:"parsePoint",3:"parsePolyline",5:"parsePolygon",8:"parseMultiPoint",11:"parseZPoint",13:"parseZPolyline",15:"parseZPolygon",18:"parseZMultiPoint"};function o(t,e){if(!(this instanceof o))return new o(t,e);this.buffer=t,this.shpFuncs(e),this.rows=this.getRows()}o.prototype.shpFuncs=function(t){var e,r=this.getShpCode();if(r>20&&(r-=20),!(r in i))throw new Error("I don't know that shp type");this.parseFunc=this[i[r]],this.parseCoord=(e=t)?function(t,r){return e.inverse([t.readDoubleLE(r),t.readDoubleLE(r+8)])}:function(t,e){return[t.readDoubleLE(e),t.readDoubleLE(e+8)]}},o.prototype.getShpCode=function(){return this.parseHeader().shpCode},o.prototype.parseHeader=function(){var t=this.buffer.slice(0,100);return{length:t.readInt32BE(24),version:t.readInt32LE(28),shpCode:t.readInt32LE(32),bbox:[t.readDoubleLE(36),t.readDoubleLE(44),t.readDoubleLE(52),t.readDoubleLE(52)]}},o.prototype.getRows=function(){for(var t,e=100,r=this.buffer.byteLength,n=[];e<r;)t=this.getRow(e),e+=8,e+=t.len,t.type?n.push(this.parseFunc(t.data)):n.push(null);return n},o.prototype.getRow=function(t){var e=this.buffer.slice(t,t+12),r=e.readInt32BE(4)<<1,n=this.buffer.slice(t+12,t+r+8);return{id:e.readInt32BE(0),len:r,data:n,type:e.readInt32LE(8)}},t.exports=function(t,e){return new o(t,e).rows}},function(t,e,r){var n=r(684);function i(t,e,r,n,i){var o=i(t.slice(e,e+r));switch(n){case"N":case"F":case"O":return parseFloat(o,10);case"D":return new Date(o.slice(0,4),parseInt(o.slice(4,6),10)-1,o.slice(6,8));case"L":return"y"===o.toLowerCase()||"t"===o.toLowerCase();default:return o}}function o(t,e,r,n){for(var o,a,s={},c=0,l=r.length;c<l;)o=i(t,e,(a=r[c]).len,a.dataType,n),e+=a.len,void 0!==o&&(s[a.name]=o),c++;return s}t.exports=function(t,e){for(var r=n(e),i=function(t){var e={};return e.lastUpdated=new Date(t.readUInt8(1)+1900,t.readUInt8(2),t.readUInt8(3)),e.records=t.readUInt32LE(4),e.headerLen=t.readUInt16LE(8),e.recLen=t.readUInt16LE(10),e}(t),a=function(t,e,r){for(var n=[],i=32;i<e&&(n.push({name:r(t.slice(i,i+11)),dataType:String.fromCharCode(t.readUInt8(i+11)),len:t.readUInt8(i+16),decimal:t.readUInt8(i+17)}),13!==t.readUInt8(i+32));)i+=32;return n}(t,i.headerLen-1,r),s=2+(a.length+1<<5),c=i.recLen,l=i.records,u=[];l;)u.push(o(t,s,a,r)),s+=c,l--;return u}},function(t,e,r){r(685);var n=r(251).StringDecoder;function i(t){var e=new n;return(e.write(t)+e.end()).replace(/\0/g,"").trim()}t.exports=function t(e,r){if(!e)return i;try{new TextDecoder(e.trim())}catch(a){var n=o.exec(e);return n&&!r?t("windows-"+n[1],!0):i}return function(t){var r=new TextDecoder(e);return(r.decode(t,{stream:!0})+r.decode()).replace(/\0/g,"").trim()}};var o=/^(?:ANSI\s)?(\d+)$/m},function(t,e,r){t.exports=r(686)},function(t,e,r){!function(e){"use strict";function n(t,e,r){return e<=t&&t<=r}t.exports&&!e["encoding-indexes"]&&r(687);var i=Math.floor;function o(t){if(void 0===t)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function a(t){return 0<=t&&t<=127}var s=a;function c(t){this.tokens=[].slice.call(t),this.tokens.reverse()}c.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.pop():-1},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.pop());else this.tokens.push(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.shift());else this.tokens.unshift(t)}};function l(t,e){if(t)throw TypeError("Decoder error");return e||65533}function u(t){throw TypeError("The code point "+t+" could not be encoded.")}function h(t){return t=String(t).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(p,t)?p[t]:null}var f=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"UTF-8"}],heading:"The Encoding"},{encodings:[{labels:["866","cp866","csibm866","ibm866"],name:"IBM866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso88592","iso_8859-2","iso_8859-2:1987","l2","latin2"],name:"ISO-8859-2"},{labels:["csisolatin3","iso-8859-3","iso-ir-109","iso8859-3","iso88593","iso_8859-3","iso_8859-3:1988","l3","latin3"],name:"ISO-8859-3"},{labels:["csisolatin4","iso-8859-4","iso-ir-110","iso8859-4","iso88594","iso_8859-4","iso_8859-4:1988","l4","latin4"],name:"ISO-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso-ir-144","iso8859-5","iso88595","iso_8859-5","iso_8859-5:1988"],name:"ISO-8859-5"},{labels:["arabic","asmo-708","csiso88596e","csiso88596i","csisolatinarabic","ecma-114","iso-8859-6","iso-8859-6-e","iso-8859-6-i","iso-ir-127","iso8859-6","iso88596","iso_8859-6","iso_8859-6:1987"],name:"ISO-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso-ir-126","iso8859-7","iso88597","iso_8859-7","iso_8859-7:1987","sun_eu_greek"],name:"ISO-8859-7"},{labels:["csiso88598e","csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-e","iso-ir-138","iso8859-8","iso88598","iso_8859-8","iso_8859-8:1988","visual"],name:"ISO-8859-8"},{labels:["csiso88598i","iso-8859-8-i","logical"],name:"ISO-8859-8-I"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","iso885910","l6","latin6"],name:"ISO-8859-10"},{labels:["iso-8859-13","iso8859-13","iso885913"],name:"ISO-8859-13"},{labels:["iso-8859-14","iso8859-14","iso885914"],name:"ISO-8859-14"},{labels:["csisolatin9","iso-8859-15","iso8859-15","iso885915","iso_8859-15","l9"],name:"ISO-8859-15"},{labels:["iso-8859-16"],name:"ISO-8859-16"},{labels:["cskoi8r","koi","koi8","koi8-r","koi8_r"],name:"KOI8-R"},{labels:["koi8-ru","koi8-u"],name:"KOI8-U"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["dos-874","iso-8859-11","iso8859-11","iso885911","tis-620","windows-874"],name:"windows-874"},{labels:["cp1250","windows-1250","x-cp1250"],name:"windows-1250"},{labels:["cp1251","windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ansi_x3.4-1968","ascii","cp1252","cp819","csisolatin1","ibm819","iso-8859-1","iso-ir-100","iso8859-1","iso88591","iso_8859-1","iso_8859-1:1987","l1","latin1","us-ascii","windows-1252","x-cp1252"],name:"windows-1252"},{labels:["cp1253","windows-1253","x-cp1253"],name:"windows-1253"},{labels:["cp1254","csisolatin5","iso-8859-9","iso-ir-148","iso8859-9","iso88599","iso_8859-9","iso_8859-9:1989","l5","latin5","windows-1254","x-cp1254"],name:"windows-1254"},{labels:["cp1255","windows-1255","x-cp1255"],name:"windows-1255"},{labels:["cp1256","windows-1256","x-cp1256"],name:"windows-1256"},{labels:["cp1257","windows-1257","x-cp1257"],name:"windows-1257"},{labels:["cp1258","windows-1258","x-cp1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gb_2312","gb_2312-80","gbk","iso-ir-58","x-gbk"],name:"GBK"},{labels:["gb18030"],name:"gb18030"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"Big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"EUC-JP"},{labels:["csiso2022jp","iso-2022-jp"],name:"ISO-2022-JP"},{labels:["csshiftjis","ms932","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"Shift_JIS"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"EUC-KR"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["csiso2022kr","hz-gb-2312","iso-2022-cn","iso-2022-cn-ext","iso-2022-kr"],name:"replacement"},{labels:["utf-16be"],name:"UTF-16BE"},{labels:["utf-16","utf-16le"],name:"UTF-16LE"},{labels:["x-user-defined"],name:"x-user-defined"}],heading:"Legacy miscellaneous encodings"}],p={};f.forEach((function(t){t.encodings.forEach((function(t){t.labels.forEach((function(e){p[e]=t}))}))}));var d,m,y={},g={};function _(t,e){return e&&e[t]||null}function b(t,e){var r=e.indexOf(t);return-1===r?null:r}function v(t){if(!("encoding-indexes"in e))throw Error("Indexes missing. Did you forget to include encoding-indexes.js first?");return e["encoding-indexes"][t]}function O(t,e){if(!(this instanceof O))throw TypeError("Called as a function. Did you forget 'new'?");t=void 0!==t?String(t):"utf-8",e=o(e),this._encoding=null,this._decoder=null,this._ignoreBOM=!1,this._BOMseen=!1,this._error_mode="replacement",this._do_not_flush=!1;var r=h(t);if(null===r||"replacement"===r.name)throw RangeError("Unknown encoding: "+t);if(!g[r.name])throw Error("Decoder not present. Did you forget to include encoding-indexes.js first?");return this._encoding=r,Boolean(e.fatal)&&(this._error_mode="fatal"),Boolean(e.ignoreBOM)&&(this._ignoreBOM=!0),Object.defineProperty||(this.encoding=this._encoding.name.toLowerCase(),this.fatal="fatal"===this._error_mode,this.ignoreBOM=this._ignoreBOM),this}function w(t,r){if(!(this instanceof w))throw TypeError("Called as a function. Did you forget 'new'?");r=o(r),this._encoding=null,this._encoder=null,this._do_not_flush=!1,this._fatal=Boolean(r.fatal)?"fatal":"replacement";if(Boolean(r.NONSTANDARD_allowLegacyEncoding)){var n=h(t=void 0!==t?String(t):"utf-8");if(null===n||"replacement"===n.name)throw RangeError("Unknown encoding: "+t);if(!y[n.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js first?");this._encoding=n}else this._encoding=h("utf-8"),void 0!==t&&"console"in e&&console.warn("TextEncoder constructor called with encoding label, which is ignored.");return Object.defineProperty||(this.encoding=this._encoding.name.toLowerCase()),this}function M(t){var e=t.fatal,r=0,i=0,o=0,a=128,s=191;this.handler=function(t,c){if(-1===c&&0!==o)return o=0,l(e);if(-1===c)return-1;if(0===o){if(n(c,0,127))return c;if(n(c,194,223))o=1,r=31&c;else if(n(c,224,239))224===c&&(a=160),237===c&&(s=159),o=2,r=15&c;else{if(!n(c,240,244))return l(e);240===c&&(a=144),244===c&&(s=143),o=3,r=7&c}return null}if(!n(c,a,s))return r=o=i=0,a=128,s=191,t.prepend(c),l(e);if(a=128,s=191,r=r<<6|63&c,(i+=1)!==o)return null;var u=r;return r=o=i=0,u}}function E(t){t.fatal;this.handler=function(t,e){if(-1===e)return-1;if(s(e))return e;var r,i;n(e,128,2047)?(r=1,i=192):n(e,2048,65535)?(r=2,i=224):n(e,65536,1114111)&&(r=3,i=240);for(var o=[(e>>6*r)+i];r>0;){var a=e>>6*(r-1);o.push(128|63&a),r-=1}return o}}function x(t,e){var r=e.fatal;this.handler=function(e,n){if(-1===n)return-1;if(a(n))return n;var i=t[n-128];return null===i?l(r):i}}function S(t,e){e.fatal;this.handler=function(e,r){if(-1===r)return-1;if(s(r))return r;var n=b(r,t);return null===n&&u(r),n+128}}function j(t){var e=t.fatal,r=0,i=0,o=0;this.handler=function(t,s){if(-1===s&&0===r&&0===i&&0===o)return-1;var c;if(-1!==s||0===r&&0===i&&0===o||(r=0,i=0,o=0,l(e)),0!==o){c=null,n(s,48,57)&&(c=function(t){if(t>39419&&t<189e3||t>1237575)return null;if(7457===t)return 59335;var e,r=0,n=0,i=v("gb18030-ranges");for(e=0;e<i.length;++e){var o=i[e];if(!(o[0]<=t))break;r=o[0],n=o[1]}return n+t-r}(10*(126*(10*(r-129)+i-48)+o-129)+s-48));var u=[i,o,s];return r=0,i=0,o=0,null===c?(t.prepend(u),l(e)):c}if(0!==i)return n(s,129,254)?(o=s,null):(t.prepend([i,s]),r=0,i=0,l(e));if(0!==r){if(n(s,48,57))return i=s,null;var h=r,f=null;r=0;var p=s<127?64:65;return(n(s,64,126)||n(s,128,254))&&(f=190*(h-129)+(s-p)),null===(c=null===f?null:_(f,v("gb18030")))&&a(s)&&t.prepend(s),null===c?l(e):c}return a(s)?s:128===s?8364:n(s,129,254)?(r=s,null):l(e)}}function P(t,e){t.fatal;this.handler=function(t,r){if(-1===r)return-1;if(s(r))return r;if(58853===r)return u(r);if(e&&8364===r)return 128;var n=b(r,v("gb18030"));if(null!==n){var o=n%190;return[i(n/190)+129,o+(o<63?64:65)]}if(e)return u(r);n=function(t){if(59335===t)return 7457;var e,r=0,n=0,i=v("gb18030-ranges");for(e=0;e<i.length;++e){var o=i[e];if(!(o[1]<=t))break;r=o[1],n=o[0]}return n+t-r}(r);var a=i(n/10/126/10),c=i((n-=10*a*126*10)/10/126),l=i((n-=10*c*126)/10);return[a+129,c+48,l+129,n-10*l+48]}}function T(t){var e=t.fatal,r=0;this.handler=function(t,i){if(-1===i&&0!==r)return r=0,l(e);if(-1===i&&0===r)return-1;if(0!==r){var o=r,s=null;r=0;var c=i<127?64:98;switch((n(i,64,126)||n(i,161,254))&&(s=157*(o-129)+(i-c)),s){case 1133:return[202,772];case 1135:return[202,780];case 1164:return[234,772];case 1166:return[234,780]}var u=null===s?null:_(s,v("big5"));return null===u&&a(i)&&t.prepend(i),null===u?l(e):u}return a(i)?i:n(i,129,254)?(r=i,null):l(e)}}function I(t){t.fatal;this.handler=function(t,e){if(-1===e)return-1;if(s(e))return e;var r=function(t){var e=m=m||v("big5").map((function(t,e){return e<5024?null:t}));return 9552===t||9566===t||9569===t||9578===t||21313===t||21317===t?e.lastIndexOf(t):b(t,e)}(e);if(null===r)return u(e);var n=i(r/157)+129;if(n<161)return u(e);var o=r%157;return[n,o+(o<63?64:98)]}}function L(t){var e=t.fatal,r=!1,i=0;this.handler=function(t,o){if(-1===o&&0!==i)return i=0,l(e);if(-1===o&&0===i)return-1;if(142===i&&n(o,161,223))return i=0,65216+o;if(143===i&&n(o,161,254))return r=!0,i=o,null;if(0!==i){var s=i;i=0;var c=null;return n(s,161,254)&&n(o,161,254)&&(c=_(94*(s-161)+(o-161),v(r?"jis0212":"jis0208"))),r=!1,n(o,161,254)||t.prepend(o),null===c?l(e):c}return a(o)?o:142===o||143===o||n(o,161,254)?(i=o,null):l(e)}}function R(t){t.fatal;this.handler=function(t,e){if(-1===e)return-1;if(s(e))return e;if(165===e)return 92;if(8254===e)return 126;if(n(e,65377,65439))return[142,e-65377+161];8722===e&&(e=65293);var r=b(e,v("jis0208"));return null===r?u(e):[i(r/94)+161,r%94+161]}}function C(t){var e=t.fatal,r=0,i=1,o=2,a=3,s=4,c=5,u=6,h=r,f=r,p=0,d=!1;this.handler=function(t,m){switch(h){default:case r:return 27===m?(h=c,null):n(m,0,127)&&14!==m&&15!==m&&27!==m?(d=!1,m):-1===m?-1:(d=!1,l(e));case i:return 27===m?(h=c,null):92===m?(d=!1,165):126===m?(d=!1,8254):n(m,0,127)&&14!==m&&15!==m&&27!==m&&92!==m&&126!==m?(d=!1,m):-1===m?-1:(d=!1,l(e));case o:return 27===m?(h=c,null):n(m,33,95)?(d=!1,65344+m):-1===m?-1:(d=!1,l(e));case a:return 27===m?(h=c,null):n(m,33,126)?(d=!1,p=m,h=s,null):-1===m?-1:(d=!1,l(e));case s:if(27===m)return h=c,l(e);if(n(m,33,126)){h=a;var y=_(94*(p-33)+m-33,v("jis0208"));return null===y?l(e):y}return-1===m?(h=a,t.prepend(m),l(e)):(h=a,l(e));case c:return 36===m||40===m?(p=m,h=u,null):(t.prepend(m),d=!1,h=f,l(e));case u:var g=p;p=0;var b=null;if(40===g&&66===m&&(b=r),40===g&&74===m&&(b=i),40===g&&73===m&&(b=o),36!==g||64!==m&&66!==m||(b=a),null!==b){h=h=b;var O=d;return d=!0,O?l(e):null}return t.prepend([g,m]),d=!1,h=f,l(e)}}}function A(t){t.fatal;var e=0,r=1,n=2,o=e;this.handler=function(t,a){if(-1===a&&o!==e)return t.prepend(a),o=e,[27,40,66];if(-1===a&&o===e)return-1;if(!(o!==e&&o!==r||14!==a&&15!==a&&27!==a))return u(65533);if(o===e&&s(a))return a;if(o===r&&(s(a)&&92!==a&&126!==a||165==a||8254==a)){if(s(a))return a;if(165===a)return 92;if(8254===a)return 126}if(s(a)&&o!==e)return t.prepend(a),o=e,[27,40,66];if((165===a||8254===a)&&o!==r)return t.prepend(a),o=r,[27,40,74];8722===a&&(a=65293);var c=b(a,v("jis0208"));return null===c?u(a):o!==n?(t.prepend(a),o=n,[27,36,66]):[i(c/94)+33,c%94+33]}}function k(t){var e=t.fatal,r=0;this.handler=function(t,i){if(-1===i&&0!==r)return r=0,l(e);if(-1===i&&0===r)return-1;if(0!==r){var o=r,s=null;r=0;var c=i<127?64:65,u=o<160?129:193;if((n(i,64,126)||n(i,128,252))&&(s=188*(o-u)+i-c),n(s,8836,10715))return 48508+s;var h=null===s?null:_(s,v("jis0208"));return null===h&&a(i)&&t.prepend(i),null===h?l(e):h}return a(i)||128===i?i:n(i,161,223)?65216+i:n(i,129,159)||n(i,224,252)?(r=i,null):l(e)}}function N(t){t.fatal;this.handler=function(t,e){if(-1===e)return-1;if(s(e)||128===e)return e;if(165===e)return 92;if(8254===e)return 126;if(n(e,65377,65439))return e-65377+161;8722===e&&(e=65293);var r=function(t){return(d=d||v("jis0208").map((function(t,e){return n(e,8272,8835)?null:t}))).indexOf(t)}(e);if(null===r)return u(e);var o=i(r/188),a=r%188;return[o+(o<31?129:193),a+(a<63?64:65)]}}function D(t){var e=t.fatal,r=0;this.handler=function(t,i){if(-1===i&&0!==r)return r=0,l(e);if(-1===i&&0===r)return-1;if(0!==r){var o=r,s=null;r=0,n(i,65,254)&&(s=190*(o-129)+(i-65));var c=null===s?null:_(s,v("euc-kr"));return null===s&&a(i)&&t.prepend(i),null===c?l(e):c}return a(i)?i:n(i,129,254)?(r=i,null):l(e)}}function F(t){t.fatal;this.handler=function(t,e){if(-1===e)return-1;if(s(e))return e;var r=b(e,v("euc-kr"));return null===r?u(e):[i(r/190)+129,r%190+65]}}function B(t,e){var r=t>>8,n=255&t;return e?[r,n]:[n,r]}function U(t,e){var r=e.fatal,i=null,o=null;this.handler=function(e,a){if(-1===a&&(null!==i||null!==o))return l(r);if(-1===a&&null===i&&null===o)return-1;if(null===i)return i=a,null;var s;if(s=t?(i<<8)+a:(a<<8)+i,i=null,null!==o){var c=o;return o=null,n(s,56320,57343)?65536+1024*(c-55296)+(s-56320):(e.prepend(B(s,t)),l(r))}return n(s,55296,56319)?(o=s,null):n(s,56320,57343)?l(r):s}}function G(t,e){e.fatal;this.handler=function(e,r){if(-1===r)return-1;if(n(r,0,65535))return B(r,t);var i=B(55296+(r-65536>>10),t),o=B(56320+(r-65536&1023),t);return i.concat(o)}}function z(t){t.fatal;this.handler=function(t,e){return-1===e?-1:a(e)?e:63360+e-128}}function W(t){t.fatal;this.handler=function(t,e){return-1===e?-1:s(e)?e:n(e,63360,63487)?e-63360+128:u(e)}}Object.defineProperty&&(Object.defineProperty(O.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),Object.defineProperty(O.prototype,"fatal",{get:function(){return"fatal"===this._error_mode}}),Object.defineProperty(O.prototype,"ignoreBOM",{get:function(){return this._ignoreBOM}})),O.prototype.decode=function(t,e){var r;r="object"==typeof t&&t instanceof ArrayBuffer?new Uint8Array(t):"object"==typeof t&&"buffer"in t&&t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e=o(e),this._do_not_flush||(this._decoder=g[this._encoding.name]({fatal:"fatal"===this._error_mode}),this._BOMseen=!1),this._do_not_flush=Boolean(e.stream);for(var n,i=new c(r),a=[];;){var s=i.read();if(-1===s)break;if(-1===(n=this._decoder.handler(i,s)))break;null!==n&&(Array.isArray(n)?a.push.apply(a,n):a.push(n))}if(!this._do_not_flush){do{if(-1===(n=this._decoder.handler(i,i.read())))break;null!==n&&(Array.isArray(n)?a.push.apply(a,n):a.push(n))}while(!i.endOfStream());this._decoder=null}return function(t){var e,r;return e=["UTF-8","UTF-16LE","UTF-16BE"],r=this._encoding.name,-1===e.indexOf(r)||this._ignoreBOM||this._BOMseen||(t.length>0&&65279===t[0]?(this._BOMseen=!0,t.shift()):t.length>0&&(this._BOMseen=!0)),function(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode(55296+(n>>10),56320+(1023&n)))}return e}(t)}.call(this,a)},Object.defineProperty&&Object.defineProperty(w.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),w.prototype.encode=function(t,e){t=void 0===t?"":String(t),e=o(e),this._do_not_flush||(this._encoder=y[this._encoding.name]({fatal:"fatal"===this._fatal})),this._do_not_flush=Boolean(e.stream);for(var r,n=new c(function(t){for(var e=String(t),r=e.length,n=0,i=[];n<r;){var o=e.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(n===r-1)i.push(65533);else{var a=e.charCodeAt(n+1);if(56320<=a&&a<=57343){var s=1023&o,c=1023&a;i.push(65536+(s<<10)+c),n+=1}else i.push(65533)}n+=1}return i}(t)),i=[];;){var a=n.read();if(-1===a)break;if(-1===(r=this._encoder.handler(n,a)))break;Array.isArray(r)?i.push.apply(i,r):i.push(r)}if(!this._do_not_flush){for(;-1!==(r=this._encoder.handler(n,n.read()));)Array.isArray(r)?i.push.apply(i,r):i.push(r);this._encoder=null}return new Uint8Array(i)},y["UTF-8"]=function(t){return new E(t)},g["UTF-8"]=function(t){return new M(t)},"encoding-indexes"in e&&f.forEach((function(t){"Legacy single-byte encodings"===t.heading&&t.encodings.forEach((function(t){var e=t.name,r=v(e.toLowerCase());g[e]=function(t){return new x(r,t)},y[e]=function(t){return new S(r,t)}}))})),g.GBK=function(t){return new j(t)},y.GBK=function(t){return new P(t,!0)},y.gb18030=function(t){return new P(t)},g.gb18030=function(t){return new j(t)},y.Big5=function(t){return new I(t)},g.Big5=function(t){return new T(t)},y["EUC-JP"]=function(t){return new R(t)},g["EUC-JP"]=function(t){return new L(t)},y["ISO-2022-JP"]=function(t){return new A(t)},g["ISO-2022-JP"]=function(t){return new C(t)},y.Shift_JIS=function(t){return new N(t)},g.Shift_JIS=function(t){return new k(t)},y["EUC-KR"]=function(t){return new F(t)},g["EUC-KR"]=function(t){return new D(t)},y["UTF-16BE"]=function(t){return new G(!0,t)},g["UTF-16BE"]=function(t){return new U(!0,t)},y["UTF-16LE"]=function(t){return new G(!1,t)},g["UTF-16LE"]=function(t){return new U(!1,t)},y["x-user-defined"]=function(t){return new W(t)},g["x-user-defined"]=function(t){return new z(t)},e.TextEncoder||(e.TextEncoder=w),e.TextDecoder||(e.TextDecoder=O),t.exports&&(t.exports={TextEncoder:e.TextEncoder,TextDecoder:e.TextDecoder,EncodingIndexes:e["encoding-indexes"]})}(this||{})},function(t,e){},function(t,e,r){!function(){function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function r(){return 1}t.exports?t.exports=o:this.LRUCache=o;var n=!1;function i(t){n||"string"==typeof t||"number"==typeof t||(n=!0,console.error(new TypeError("LRU: key must be a string or number. Almost certainly a bug! "+typeof t).stack))}function o(t){if(!(this instanceof o))return new o(t);"number"==typeof t&&(t={max:t}),t||(t={}),this._max=t.max,(!this._max||"number"!=typeof this._max||this._max<=0)&&(this._max=1/0),this._lengthCalculator=t.length||r,"function"!=typeof this._lengthCalculator&&(this._lengthCalculator=r),this._allowStale=t.stale||!1,this._maxAge=t.maxAge||null,this._dispose=t.dispose,this.reset()}function a(t,e,r){i(e);var n=t._cache[e];return n&&(s(t,n)?(u(t,n),t._allowStale||(n=void 0)):r&&function(t,e){l(t,e),e.lu=t._mru++,t._lruList[e.lu]=e}(t,n),n&&(n=n.value)),n}function s(t,e){if(!e||!e.maxAge&&!t._maxAge)return!1;var r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t._maxAge&&r>t._maxAge}function c(t){for(;t._lru<t._mru&&t._length>t._max;)u(t,t._lruList[t._lru])}function l(t,e){for(delete t._lruList[e.lu];t._lru<t._mru&&!t._lruList[t._lru];)t._lru++}function u(t,e){e&&(t._dispose&&t._dispose(e.key,e.value),t._length-=e.length,t._itemCount--,delete t._cache[e.key],l(t,e))}function h(t,e,r,n,i,o){this.key=t,this.value=e,this.lu=r,this.length=n,this.now=i,o&&(this.maxAge=o)}Object.defineProperty(o.prototype,"max",{set:function(t){(!t||"number"!=typeof t||t<=0)&&(t=1/0),this._max=t,this._length>this._max&&c(this)},get:function(){return this._max},enumerable:!0}),Object.defineProperty(o.prototype,"lengthCalculator",{set:function(t){if("function"!=typeof t)for(var e in this._lengthCalculator=r,this._length=this._itemCount,this._cache)this._cache[e].length=1;else for(var e in this._lengthCalculator=t,this._length=0,this._cache)this._cache[e].length=this._lengthCalculator(this._cache[e].value),this._length+=this._cache[e].length;this._length>this._max&&c(this)},get:function(){return this._lengthCalculator},enumerable:!0}),Object.defineProperty(o.prototype,"length",{get:function(){return this._length},enumerable:!0}),Object.defineProperty(o.prototype,"itemCount",{get:function(){return this._itemCount},enumerable:!0}),o.prototype.forEach=function(t,e){e=e||this;for(var r=0,n=this._itemCount,i=this._mru-1;i>=0&&r<n;i--)if(this._lruList[i]){r++;var o=this._lruList[i];s(this,o)&&(u(this,o),this._allowStale||(o=void 0)),o&&t.call(e,o.value,o.key,this)}},o.prototype.keys=function(){for(var t=new Array(this._itemCount),e=0,r=this._mru-1;r>=0&&e<this._itemCount;r--)if(this._lruList[r]){var n=this._lruList[r];t[e++]=n.key}return t},o.prototype.values=function(){for(var t=new Array(this._itemCount),e=0,r=this._mru-1;r>=0&&e<this._itemCount;r--)if(this._lruList[r]){var n=this._lruList[r];t[e++]=n.value}return t},o.prototype.reset=function(){if(this._dispose&&this._cache)for(var t in this._cache)this._dispose(t,this._cache[t].value);this._cache=Object.create(null),this._lruList=Object.create(null),this._mru=0,this._lru=0,this._length=0,this._itemCount=0},o.prototype.dump=function(){for(var t=[],e=0,r=this._mru-1;r>=0&&e<this._itemCount;r--)if(this._lruList[r]){var n=this._lruList[r];s(this,n)||(++e,t.push({k:n.key,v:n.value,e:n.now+(n.maxAge||0)}))}return t},o.prototype.dumpLru=function(){return this._lruList},o.prototype.set=function(t,r,n){n=n||this._maxAge,i(t);var o=n?Date.now():0,a=this._lengthCalculator(r);if(e(this._cache,t))return a>this._max?(u(this,this._cache[t]),!1):(this._dispose&&this._dispose(t,this._cache[t].value),this._cache[t].now=o,this._cache[t].maxAge=n,this._cache[t].value=r,this._length+=a-this._cache[t].length,this._cache[t].length=a,this.get(t),this._length>this._max&&c(this),!0);var s=new h(t,r,this._mru++,a,o,n);return s.length>this._max?(this._dispose&&this._dispose(t,r),!1):(this._length+=s.length,this._lruList[s.lu]=this._cache[t]=s,this._itemCount++,this._length>this._max&&c(this),!0)},o.prototype.has=function(t){return i(t),!!e(this._cache,t)&&!s(this,this._cache[t])},o.prototype.get=function(t){return i(t),a(this,t,!0)},o.prototype.peek=function(t){return i(t),a(this,t,!1)},o.prototype.pop=function(){var t=this._lruList[this._lru];return u(this,t),t||null},o.prototype.del=function(t){i(t),u(this,this._cache[t])},o.prototype.load=function(t){this.reset();for(var e=Date.now(),r=t.length-1;r>=0;r--){var n=t[r];i(n.k);var o=n.e||0;if(0===o)this.set(n.k,n.v);else{var a=o-e;a>0&&this.set(n.k,n.v,a)}}}}()},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e){},function(t,e,r){"use strict";e.randomBytes=e.rng=e.pseudoRandomBytes=e.prng=r(252),e.createHash=e.Hash=r(308),e.createHmac=e.Hmac=r(491);var n=r(721),i=Object.keys(n),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);e.getHashes=function(){return o};var a=r(494);e.pbkdf2=a.pbkdf2,e.pbkdf2Sync=a.pbkdf2Sync;var s=r(723);e.Cipher=s.Cipher,e.createCipher=s.createCipher,e.Cipheriv=s.Cipheriv,e.createCipheriv=s.createCipheriv,e.Decipher=s.Decipher,e.createDecipher=s.createDecipher,e.Decipheriv=s.Decipheriv,e.createDecipheriv=s.createDecipheriv,e.getCiphers=s.getCiphers,e.listCiphers=s.listCiphers;var c=r(738);e.DiffieHellmanGroup=c.DiffieHellmanGroup,e.createDiffieHellmanGroup=c.createDiffieHellmanGroup,e.getDiffieHellman=c.getDiffieHellman,e.createDiffieHellman=c.createDiffieHellman,e.DiffieHellman=c.DiffieHellman;var l=r(745);e.createSign=l.createSign,e.Sign=l.Sign,e.createVerify=l.createVerify,e.Verify=l.Verify,e.createECDH=r(778);var u=r(781);e.publicEncrypt=u.publicEncrypt,e.privateEncrypt=u.privateEncrypt,e.publicDecrypt=u.publicDecrypt,e.privateDecrypt=u.privateDecrypt;var h=r(785);e.randomFill=h.randomFill,e.randomFillSync=h.randomFillSync,e.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},e.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(t,e){},function(t,e,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function o(t,e,r){return(e=s(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function s(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}var c=r(94).Buffer,l=r(700).inspect,u=l&&l.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,r,n;return e=t,(r=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r}},{key:"concat",value:function(t){if(0===this.length)return c.alloc(0);for(var e,r,n,i=c.allocUnsafe(t>>>0),o=this.head,a=0;o;)e=o.data,r=i,n=a,c.prototype.copy.call(e,r,n),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,r=1,n=e.data;for(t-=n.length;e=e.next;){var i=e.data,o=t>i.length?i.length:t;if(o===i.length?n+=i:n+=i.slice(0,t),0==(t-=o)){o===i.length?(++r,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(t){var e=c.allocUnsafe(t),r=this.head,n=1;for(r.data.copy(e),t-=r.data.length;r=r.next;){var i=r.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),0==(t-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,e}},{key:u,value:function(t,e){return l(this,i(i({},e),{},{depth:0,customInspect:!1}))}}])&&a(e.prototype,r),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e){},function(t,e,r){"use strict";(function(e){var n;function i(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var o=r(432),a=Symbol("lastResolve"),s=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),u=Symbol("lastPromise"),h=Symbol("handlePromise"),f=Symbol("stream");function p(t,e){return{value:t,done:e}}function d(t){var e=t[a];if(null!==e){var r=t[f].read();null!==r&&(t[u]=null,t[a]=null,t[s]=null,e(p(r,!1)))}}function m(t){e.nextTick(d,t)}var y=Object.getPrototypeOf((function(){})),g=Object.setPrototypeOf((i(n={get stream(){return this[f]},next:function(){var t=this,r=this[c];if(null!==r)return Promise.reject(r);if(this[l])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise((function(r,n){e.nextTick((function(){t[c]?n(t[c]):r(p(void 0,!0))}))}));var n,i=this[u];if(i)n=new Promise(function(t,e){return function(r,n){t.then((function(){e[l]?r(p(void 0,!0)):e[h](r,n)}),n)}}(i,this));else{var o=this[f].read();if(null!==o)return Promise.resolve(p(o,!1));n=new Promise(this[h])}return this[u]=n,n}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var t=this;return new Promise((function(e,r){t[f].destroy(null,(function(t){t?r(t):e(p(void 0,!0))}))}))})),n),y);t.exports=function(t){var e,r=Object.create(g,(i(e={},f,{value:t,writable:!0}),i(e,a,{value:null,writable:!0}),i(e,s,{value:null,writable:!0}),i(e,c,{value:null,writable:!0}),i(e,l,{value:t._readableState.endEmitted,writable:!0}),i(e,h,{value:function(t,e){var n=r[f].read();n?(r[u]=null,r[a]=null,r[s]=null,t(p(n,!1))):(r[a]=t,r[s]=e)},writable:!0}),e));return r[u]=null,o(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[s];return null!==e&&(r[u]=null,r[a]=null,r[s]=null,e(t)),void(r[c]=t)}var n=r[a];null!==n&&(r[u]=null,r[a]=null,r[s]=null,n(p(void 0,!0))),r[l]=!0})),t.on("readable",m.bind(null,r)),r}}).call(this,r(121))},function(t,e){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(t,e,r){"use strict";t.exports=i;var n=r(484);function i(t){if(!(this instanceof i))return new i(t);n.call(this,t)}r(46)(i,n),i.prototype._transform=function(t,e,r){r(null,t)}},function(t,e,r){"use strict";var n;var i=r(253).codes,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(t){if(t)throw t}function c(t,e,i,o){o=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(o);var s=!1;t.on("close",(function(){s=!0})),void 0===n&&(n=r(432)),n(t,{readable:e,writable:i},(function(t){if(t)return o(t);s=!0,o()}));var c=!1;return function(e){if(!s&&!c)return c=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void o(e||new a("pipe"))}}function l(t){t()}function u(t,e){return t.pipe(e)}function h(t){return t.length?"function"!=typeof t[t.length-1]?s:t.pop():s}t.exports=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,i=h(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new o("streams");var a=e.map((function(t,r){var o=r<e.length-1;return c(t,o,r>0,(function(t){n||(n=t),t&&a.forEach(l),o||(a.forEach(l),i(n))}))}));return e.reduce(u)}},function(t,e,r){var n=r(46),i=r(255),o=r(48).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,i.call(this,64,56)}function l(t){return t<<30|t>>>2}function u(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}n(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,h=0;h<16;++h)r[h]=t.readInt32BE(4*h);for(;h<80;++h)r[h]=r[h-3]^r[h-8]^r[h-14]^r[h-16];for(var f=0;f<80;++f){var p=~~(f/20),d=0|((e=n)<<5|e>>>27)+u(p,i,o,s)+c+r[f]+a[p];c=s,s=o,o=l(i),i=n,n=d}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=c},function(t,e,r){var n=r(46),i=r(255),o=r(48).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,i.call(this,64,56)}function l(t){return t<<5|t>>>27}function u(t){return t<<30|t>>>2}function h(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}n(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,f=0;f<16;++f)r[f]=t.readInt32BE(4*f);for(;f<80;++f)r[f]=(e=r[f-3]^r[f-8]^r[f-14]^r[f-16])<<1|e>>>31;for(var p=0;p<80;++p){var d=~~(p/20),m=l(n)+h(d,i,o,s)+c+r[p]+a[d]|0;c=s,s=o,o=u(i),i=n,n=m}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=c},function(t,e,r){var n=r(46),i=r(485),o=r(255),a=r(48).Buffer,s=new Array(64);function c(){this.init(),this._w=s,o.call(this,64,56)}n(c,i),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var t=a.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=c},function(t,e,r){var n=r(46),i=r(486),o=r(255),a=r(48).Buffer,s=new Array(160);function c(){this.init(),this._w=s,o.call(this,128,112)}n(c,i),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var t=a.allocUnsafe(48);function e(e,r,n){t.writeInt32BE(e,n),t.writeInt32BE(r,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=c},function(t,e,r){t.exports=i;var n=r(309).EventEmitter;function i(){n.call(this)}r(46)(i,n),i.Readable=r(435),i.Writable=r(716),i.Duplex=r(717),i.Transform=r(718),i.PassThrough=r(719),i.Stream=i,i.prototype.pipe=function(t,e){var r=this;function i(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),t.on("drain",o),t._isStdio||e&&!1===e.end||(r.on("end",s),r.on("close",c));var a=!1;function s(){a||(a=!0,t.end())}function c(){a||(a=!0,"function"==typeof t.destroy&&t.destroy())}function l(t){if(u(),0===n.listenerCount(this,"error"))throw t}function u(){r.removeListener("data",i),t.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",c),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",u),r.removeListener("close",u),t.removeListener("close",u)}return r.on("error",l),t.on("error",l),r.on("end",u),r.on("close",u),t.on("close",u),t.emit("pipe",r),t}},function(t,e){},function(t,e,r){"use strict";var n=r(436).Buffer,i=r(712);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return n.alloc(0);for(var e,r,i,o=n.allocUnsafe(t>>>0),a=this.head,s=0;a;)e=a.data,r=o,i=s,e.copy(r,i),s+=a.data.length,a=a.next;return o},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,r){(function(t){var n=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},r(714),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,r(120))},function(t,e,r){(function(t,e){!function(t,r){"use strict";if(!t.setImmediate){var n,i,o,a,s,c=1,l={},u=!1,h=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick((function(){d(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){d(t.data)},n=function(t){o.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(i=h.documentElement,n=function(t){var e=h.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):n=function(t){setTimeout(d,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&d(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),n=function(e){t.postMessage(a+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var i={callback:t,args:e};return l[c]=i,n(c),c++},f.clearImmediate=p}function p(t){delete l[t]}function d(t){if(u)setTimeout(d,0,t);else{var e=l[t];if(e){u=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(void 0,r)}}(e)}finally{p(t),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,r(120),r(121))},function(t,e,r){"use strict";t.exports=o;var n=r(490),i=Object.create(r(310));function o(t){if(!(this instanceof o))return new o(t);n.call(this,t)}i.inherits=r(46),i.inherits(o,n),o.prototype._transform=function(t,e,r){r(null,t)}},function(t,e,r){t.exports=r(437)},function(t,e,r){t.exports=r(227)},function(t,e,r){t.exports=r(435).Transform},function(t,e,r){t.exports=r(435).PassThrough},function(t,e,r){"use strict";var n=r(46),i=r(48).Buffer,o=r(208),a=i.alloc(128);function s(t,e){o.call(this,"digest"),"string"==typeof e&&(e=i.from(e)),this._alg=t,this._key=e,e.length>64?e=t(e):e.length<64&&(e=i.concat([e,a],64));for(var r=this._ipad=i.allocUnsafe(64),n=this._opad=i.allocUnsafe(64),s=0;s<64;s++)r[s]=54^e[s],n[s]=92^e[s];this._hash=[r]}n(s,o),s.prototype._update=function(t){this._hash.push(t)},s.prototype._final=function(){var t=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,t]))},t.exports=s},function(t,e,r){t.exports=r(493)},function(t,e,r){(function(e){var n,i,o=r(48).Buffer,a=r(495),s=r(496),c=r(497),l=r(498),u=e.crypto&&e.crypto.subtle,h={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},f=[];function p(){return i||(i=e.process&&e.process.nextTick?e.process.nextTick:e.queueMicrotask?e.queueMicrotask:e.setImmediate?e.setImmediate:e.setTimeout)}function d(t,e,r,n,i){return u.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then((function(t){return u.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:i}},t,n<<3)})).then((function(t){return o.from(t)}))}t.exports=function(t,r,i,m,y,g){"function"==typeof y&&(g=y,y=void 0);var _=h[(y=y||"sha1").toLowerCase()];if(_&&"function"==typeof e.Promise){if(a(i,m),t=l(t,s,"Password"),r=l(r,s,"Salt"),"function"!=typeof g)throw new Error("No callback provided to pbkdf2");!function(t,e){t.then((function(t){p()((function(){e(null,t)}))}),(function(t){p()((function(){e(t)}))}))}(function(t){if(e.process&&!e.process.browser)return Promise.resolve(!1);if(!u||!u.importKey||!u.deriveBits)return Promise.resolve(!1);if(void 0!==f[t])return f[t];var r=d(n=n||o.alloc(8),n,10,128,t).then((function(){return!0})).catch((function(){return!1}));return f[t]=r,r}(_).then((function(e){return e?d(t,r,i,m,_):c(t,r,i,m,y)})),g)}else p()((function(){var e;try{e=c(t,r,i,m,y)}catch(t){return g(t)}g(null,e)}))}}).call(this,r(120))},function(t,e,r){var n=r(724),i=r(439),o=r(440),a=r(737),s=r(354);function c(t,e,r){if(t=t.toLowerCase(),o[t])return i.createCipheriv(t,e,r);if(a[t])return new n({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function l(t,e,r){if(t=t.toLowerCase(),o[t])return i.createDecipheriv(t,e,r);if(a[t])return new n({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}e.createCipher=e.Cipher=function(t,e){var r,n;if(t=t.toLowerCase(),o[t])r=o[t].key,n=o[t].iv;else{if(!a[t])throw new TypeError("invalid suite type");r=8*a[t].key,n=a[t].iv}var i=s(e,!1,r,n);return c(t,i.key,i.iv)},e.createCipheriv=e.Cipheriv=c,e.createDecipher=e.Decipher=function(t,e){var r,n;if(t=t.toLowerCase(),o[t])r=o[t].key,n=o[t].iv;else{if(!a[t])throw new TypeError("invalid suite type");r=8*a[t].key,n=a[t].iv}var i=s(e,!1,r,n);return l(t,i.key,i.iv)},e.createDecipheriv=e.Decipheriv=l,e.listCiphers=e.getCiphers=function(){return Object.keys(a).concat(i.getCiphers())}},function(t,e,r){var n=r(208),i=r(725),o=r(46),a=r(48).Buffer,s={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function c(t){n.call(this);var e,r=t.mode.toLowerCase(),i=s[r];e=t.decrypt?"decrypt":"encrypt";var o=t.key;a.isBuffer(o)||(o=a.from(o)),"des-ede"!==r&&"des-ede-cbc"!==r||(o=a.concat([o,o.slice(0,8)]));var c=t.iv;a.isBuffer(c)||(c=a.from(c)),this._des=i.create({key:o,iv:c,type:e})}s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],t.exports=c,o(c,n),c.prototype._update=function(t){return a.from(this._des.update(t))},c.prototype._final=function(){return a.from(this._des.final())}},function(t,e,r){"use strict";e.utils=r(499),e.Cipher=r(438),e.DES=r(500),e.CBC=r(726),e.EDE=r(727)},function(t,e,r){"use strict";var n=r(151),i=r(46),o={};function a(t){n.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}e.instantiate=function(t){function e(e){t.call(this,e),this._cbcInit()}i(e,t);for(var r=Object.keys(o),n=0;n<r.length;n++){var a=r[n];e.prototype[a]=o[a]}return e.create=function(t){return new e(t)},e},o._cbcInit=function(){var t=new a(this.options.iv);this._cbcState=t},o._update=function(t,e,r,n){var i=this._cbcState,o=this.constructor.super_.prototype,a=i.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)a[s]^=t[e+s];o._update.call(this,a,0,r,n);for(s=0;s<this.blockSize;s++)a[s]=r[n+s]}else{o._update.call(this,t,e,r,n);for(s=0;s<this.blockSize;s++)r[n+s]^=a[s];for(s=0;s<this.blockSize;s++)a[s]=t[e+s]}}},function(t,e,r){"use strict";var n=r(151),i=r(46),o=r(438),a=r(500);function s(t,e){n.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),i=e.slice(8,16),o=e.slice(16,24);this.ciphers="encrypt"===t?[a.create({type:"encrypt",key:r}),a.create({type:"decrypt",key:i}),a.create({type:"encrypt",key:o})]:[a.create({type:"decrypt",key:o}),a.create({type:"encrypt",key:i}),a.create({type:"decrypt",key:r})]}function c(t){o.call(this,t);var e=new s(this.type,this.options.key);this._edeState=e}i(c,o),t.exports=c,c.create=function(t){return new c(t)},c.prototype._update=function(t,e,r,n){var i=this._edeState;i.ciphers[0]._update(t,e,r,n),i.ciphers[1]._update(r,n,r,n),i.ciphers[2]._update(r,n,r,n)},c.prototype._pad=a.prototype._pad,c.prototype._unpad=a.prototype._unpad},function(t,e,r){var n=r(440),i=r(504),o=r(48).Buffer,a=r(505),s=r(208),c=r(353),l=r(354);function u(t,e,r){s.call(this),this._cache=new f,this._cipher=new c.AES(e),this._prev=o.from(r),this._mode=t,this._autopadding=!0}r(46)(u,s),u.prototype._update=function(t){var e,r;this._cache.add(t);for(var n=[];e=this._cache.get();)r=this._mode.encrypt(this,e),n.push(r);return o.concat(n)};var h=o.alloc(16,16);function f(){this.cache=o.allocUnsafe(0)}function p(t,e,r){var s=n[t.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"==typeof e&&(e=o.from(e)),e.length!==s.key/8)throw new TypeError("invalid key length "+e.length);if("string"==typeof r&&(r=o.from(r)),"GCM"!==s.mode&&r.length!==s.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===s.type?new a(s.module,e,r):"auth"===s.type?new i(s.module,e,r):new u(s.module,e,r)}u.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},f.prototype.add=function(t){this.cache=o.concat([this.cache,t])},f.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},f.prototype.flush=function(){for(var t=16-this.cache.length,e=o.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return o.concat([this.cache,e])},e.createCipheriv=p,e.createCipher=function(t,e){var r=n[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=l(e,!1,r.key,r.iv);return p(t,i.key,i.iv)}},function(t,e){e.encrypt=function(t,e){return t._cipher.encryptBlock(e)},e.decrypt=function(t,e){return t._cipher.decryptBlock(e)}},function(t,e,r){var n=r(311);e.encrypt=function(t,e){var r=n(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev},e.decrypt=function(t,e){var r=t._prev;t._prev=e;var i=t._cipher.decryptBlock(e);return n(i,r)}},function(t,e,r){var n=r(48).Buffer,i=r(311);function o(t,e,r){var o=e.length,a=i(e,t._cache);return t._cache=t._cache.slice(o),t._prev=n.concat([t._prev,r?e:a]),a}e.encrypt=function(t,e,r){for(var i,a=n.allocUnsafe(0);e.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=n.allocUnsafe(0)),!(t._cache.length<=e.length)){a=n.concat([a,o(t,e,r)]);break}i=t._cache.length,a=n.concat([a,o(t,e.slice(0,i),r)]),e=e.slice(i)}return a}},function(t,e,r){var n=r(48).Buffer;function i(t,e,r){var i=t._cipher.encryptBlock(t._prev)[0]^e;return t._prev=n.concat([t._prev.slice(1),n.from([r?e:i])]),i}e.encrypt=function(t,e,r){for(var o=e.length,a=n.allocUnsafe(o),s=-1;++s<o;)a[s]=i(t,e[s],r);return a}},function(t,e,r){var n=r(48).Buffer;function i(t,e,r){for(var n,i,a=-1,s=0;++a<8;)n=e&1<<7-a?128:0,s+=(128&(i=t._cipher.encryptBlock(t._prev)[0]^n))>>a%8,t._prev=o(t._prev,r?n:i);return s}function o(t,e){var r=t.length,i=-1,o=n.allocUnsafe(t.length);for(t=n.concat([t,n.from([e])]);++i<r;)o[i]=t[i]<<1|t[i+1]>>7;return o}e.encrypt=function(t,e,r){for(var o=e.length,a=n.allocUnsafe(o),s=-1;++s<o;)a[s]=i(t,e[s],r);return a}},function(t,e,r){(function(t){var n=r(311);function i(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}e.encrypt=function(e,r){for(;e._cache.length<r.length;)e._cache=t.concat([e._cache,i(e)]);var o=e._cache.slice(0,r.length);return e._cache=e._cache.slice(r.length),n(r,o)}}).call(this,r(94).Buffer)},function(t,e,r){var n=r(48).Buffer,i=n.alloc(16,0);function o(t){var e=n.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function a(t){this.h=t,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}a.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},a.prototype._multiply=function(){for(var t,e,r,n=[(t=this.h).readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)],i=[0,0,0,0],a=-1;++a<128;){for(0!=(this.state[~~(a/8)]&1<<7-a%8)&&(i[0]^=n[0],i[1]^=n[1],i[2]^=n[2],i[3]^=n[3]),r=0!=(1&n[3]),e=3;e>0;e--)n[e]=n[e]>>>1|(1&n[e-1])<<31;n[0]=n[0]>>>1,r&&(n[0]=n[0]^225<<24)}this.state=o(i)},a.prototype.update=function(t){var e;for(this.cache=n.concat([this.cache,t]);this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)},a.prototype.final=function(t,e){return this.cache.length&&this.ghash(n.concat([this.cache,i],16)),this.ghash(o([0,t,0,e])),this.state},t.exports=a},function(t,e,r){var n=r(504),i=r(48).Buffer,o=r(440),a=r(505),s=r(208),c=r(353),l=r(354);function u(t,e,r){s.call(this),this._cache=new h,this._last=void 0,this._cipher=new c.AES(e),this._prev=i.from(r),this._mode=t,this._autopadding=!0}function h(){this.cache=i.allocUnsafe(0)}function f(t,e,r){var s=o[t.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=i.from(r)),"GCM"!==s.mode&&r.length!==s.iv)throw new TypeError("invalid iv length "+r.length);if("string"==typeof e&&(e=i.from(e)),e.length!==s.key/8)throw new TypeError("invalid key length "+e.length);return"stream"===s.type?new a(s.module,e,r,!0):"auth"===s.type?new n(s.module,e,r,!0):new u(s.module,e,r)}r(46)(u,s),u.prototype._update=function(t){var e,r;this._cache.add(t);for(var n=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),n.push(r);return i.concat(n)},u.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return function(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");var r=-1;for(;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(16===e)return;return t.slice(0,16-e)}(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},h.prototype.add=function(t){this.cache=i.concat([this.cache,t])},h.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},e.createDecipher=function(t,e){var r=o[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=l(e,!1,r.key,r.iv);return f(t,n.key,n.iv)},e.createDecipheriv=f},function(t,e){e["des-ecb"]={key:8,iv:0},e["des-cbc"]=e.des={key:8,iv:8},e["des-ede3-cbc"]=e.des3={key:24,iv:8},e["des-ede3"]={key:24,iv:0},e["des-ede-cbc"]={key:16,iv:8},e["des-ede"]={key:16,iv:0}},function(t,e,r){(function(t){var n=r(506),i=r(743),o=r(744);var a={binary:!0,hex:!0,base64:!0};e.DiffieHellmanGroup=e.createDiffieHellmanGroup=e.getDiffieHellman=function(e){var r=new t(i[e].prime,"hex"),n=new t(i[e].gen,"hex");return new o(r,n)},e.createDiffieHellman=e.DiffieHellman=function e(r,i,s,c){return t.isBuffer(i)||void 0===a[i]?e(r,"binary",i,s):(i=i||"binary",c=c||"binary",s=s||new t([2]),t.isBuffer(s)||(s=new t(s,c)),"number"==typeof r?new o(n(r,s),s,!0):(t.isBuffer(r)||(r=new t(r,i)),new o(r,s,!0)))}}).call(this,r(94).Buffer)},function(t,e){},function(t,e,r){(function(t){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var a;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(741).Buffer}catch(t){}function s(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function c(t,e,r){var n=s(t,r);return r-1>=e&&(n|=s(t,r-1)<<4),n}function l(t,e,r,n){for(var i=0,o=Math.min(t.length,r),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=c(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=c(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,s=Math.min(o,o-a)+r,c=0,u=r;u<s;u+=n)c=l(t,u,u+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var h=1;for(c=l(t,u,t.length,e),u=0;u<a;u++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function p(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,c=a/67108864|0;r.words[0]=s;for(var l=1;l<n;l++){for(var u=c>>>26,h=67108863&c,f=Math.min(l,e.length-1),p=Math.max(0,l-t.length+1);p<=f;p++){var d=l-p|0;u+=(a=(i=0|t.words[d])*(o=0|e.words[p])+h)/67108864|0,h=67108863&a}r.words[l]=0|h,c=0|u}return 0!==c?r.words[l]=0|c:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<i|o)).toString(16);r=0!==(o=s>>>24-i&16777215)||a!==this.length-1?u[6-c.length]+c+r:c+r,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=h[t],p=f[t];r="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modn(p).toString(t);r=(d=d.idivn(p)).isZero()?m+r:u[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==a),this.toArrayLike(a,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var a,s,c="le"===e,l=new t(o),u=this.clone();if(c){for(s=0;!u.isZero();s++)a=u.andln(255),u.iushrn(8),l[s]=a;for(;s<o;s++)l[s]=0}else{for(s=0;s<o-i;s++)l[s]=0;for(s=0;!u.isZero();s++)a=u.andln(255),u.iushrn(8),l[o-s-1]=a}return l},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,a=0;a<n.length;a++)o=(e=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var n,i,o,a=t.words,s=e.words,c=r.words,l=0,u=0|a[0],h=8191&u,f=u>>>13,p=0|a[1],d=8191&p,m=p>>>13,y=0|a[2],g=8191&y,_=y>>>13,b=0|a[3],v=8191&b,O=b>>>13,w=0|a[4],M=8191&w,E=w>>>13,x=0|a[5],S=8191&x,j=x>>>13,P=0|a[6],T=8191&P,I=P>>>13,L=0|a[7],R=8191&L,C=L>>>13,A=0|a[8],k=8191&A,N=A>>>13,D=0|a[9],F=8191&D,B=D>>>13,U=0|s[0],G=8191&U,z=U>>>13,W=0|s[1],X=8191&W,q=W>>>13,V=0|s[2],Y=8191&V,Z=V>>>13,K=0|s[3],H=8191&K,J=K>>>13,Q=0|s[4],$=8191&Q,tt=Q>>>13,et=0|s[5],rt=8191&et,nt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ct=8191&st,lt=st>>>13,ut=0|s[8],ht=8191&ut,ft=ut>>>13,pt=0|s[9],dt=8191&pt,mt=pt>>>13;r.negative=t.negative^e.negative,r.length=19;var yt=(l+(n=Math.imul(h,G))|0)+((8191&(i=(i=Math.imul(h,z))+Math.imul(f,G)|0))<<13)|0;l=((o=Math.imul(f,z))+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(d,G),i=(i=Math.imul(d,z))+Math.imul(m,G)|0,o=Math.imul(m,z);var gt=(l+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,q)|0)+Math.imul(f,X)|0))<<13)|0;l=((o=o+Math.imul(f,q)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(g,G),i=(i=Math.imul(g,z))+Math.imul(_,G)|0,o=Math.imul(_,z),n=n+Math.imul(d,X)|0,i=(i=i+Math.imul(d,q)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,q)|0;var _t=(l+(n=n+Math.imul(h,Y)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,Z)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(v,G),i=(i=Math.imul(v,z))+Math.imul(O,G)|0,o=Math.imul(O,z),n=n+Math.imul(g,X)|0,i=(i=i+Math.imul(g,q)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,q)|0,n=n+Math.imul(d,Y)|0,i=(i=i+Math.imul(d,Z)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,Z)|0;var bt=(l+(n=n+Math.imul(h,H)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(f,H)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(M,G),i=(i=Math.imul(M,z))+Math.imul(E,G)|0,o=Math.imul(E,z),n=n+Math.imul(v,X)|0,i=(i=i+Math.imul(v,q)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,q)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,Z)|0,n=n+Math.imul(d,H)|0,i=(i=i+Math.imul(d,J)|0)+Math.imul(m,H)|0,o=o+Math.imul(m,J)|0;var vt=(l+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,$)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(S,G),i=(i=Math.imul(S,z))+Math.imul(j,G)|0,o=Math.imul(j,z),n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,q)|0)+Math.imul(E,X)|0,o=o+Math.imul(E,q)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,Z)|0,n=n+Math.imul(g,H)|0,i=(i=i+Math.imul(g,J)|0)+Math.imul(_,H)|0,o=o+Math.imul(_,J)|0,n=n+Math.imul(d,$)|0,i=(i=i+Math.imul(d,tt)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,tt)|0;var Ot=(l+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(T,G),i=(i=Math.imul(T,z))+Math.imul(I,G)|0,o=Math.imul(I,z),n=n+Math.imul(S,X)|0,i=(i=i+Math.imul(S,q)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,q)|0,n=n+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,Z)|0,n=n+Math.imul(v,H)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(O,H)|0,o=o+Math.imul(O,J)|0,n=n+Math.imul(g,$)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(d,rt)|0,i=(i=i+Math.imul(d,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var wt=(l+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,at)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,at)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(R,G),i=(i=Math.imul(R,z))+Math.imul(C,G)|0,o=Math.imul(C,z),n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,q)|0)+Math.imul(I,X)|0,o=o+Math.imul(I,q)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(j,Y)|0,o=o+Math.imul(j,Z)|0,n=n+Math.imul(M,H)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(E,H)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(g,rt)|0,i=(i=i+Math.imul(g,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(d,ot)|0,i=(i=i+Math.imul(d,at)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0;var Mt=(l+(n=n+Math.imul(h,ct)|0)|0)+((8191&(i=(i=i+Math.imul(h,lt)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(k,G),i=(i=Math.imul(k,z))+Math.imul(N,G)|0,o=Math.imul(N,z),n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,q)|0)+Math.imul(C,X)|0,o=o+Math.imul(C,q)|0,n=n+Math.imul(T,Y)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(I,Y)|0,o=o+Math.imul(I,Z)|0,n=n+Math.imul(S,H)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(j,H)|0,o=o+Math.imul(j,J)|0,n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,at)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,at)|0,n=n+Math.imul(d,ct)|0,i=(i=i+Math.imul(d,lt)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,lt)|0;var Et=(l+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(f,ht)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(F,G),i=(i=Math.imul(F,z))+Math.imul(B,G)|0,o=Math.imul(B,z),n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,q)|0)+Math.imul(N,X)|0,o=o+Math.imul(N,q)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,Z)|0,n=n+Math.imul(T,H)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(I,H)|0,o=o+Math.imul(I,J)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(j,$)|0,o=o+Math.imul(j,tt)|0,n=n+Math.imul(M,rt)|0,i=(i=i+Math.imul(M,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,n=n+Math.imul(g,ct)|0,i=(i=i+Math.imul(g,lt)|0)+Math.imul(_,ct)|0,o=o+Math.imul(_,lt)|0,n=n+Math.imul(d,ht)|0,i=(i=i+Math.imul(d,ft)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,ft)|0;var xt=(l+(n=n+Math.imul(h,dt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(f,dt)|0))<<13)|0;l=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(F,X),i=(i=Math.imul(F,q))+Math.imul(B,X)|0,o=Math.imul(B,q),n=n+Math.imul(k,Y)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,Z)|0,n=n+Math.imul(R,H)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(C,H)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(j,rt)|0,o=o+Math.imul(j,nt)|0,n=n+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,at)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,at)|0,n=n+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(O,ct)|0,o=o+Math.imul(O,lt)|0,n=n+Math.imul(g,ht)|0,i=(i=i+Math.imul(g,ft)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,ft)|0;var St=(l+(n=n+Math.imul(d,dt)|0)|0)+((8191&(i=(i=i+Math.imul(d,mt)|0)+Math.imul(m,dt)|0))<<13)|0;l=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(F,Y),i=(i=Math.imul(F,Z))+Math.imul(B,Y)|0,o=Math.imul(B,Z),n=n+Math.imul(k,H)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(N,H)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(I,rt)|0,o=o+Math.imul(I,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,at)|0)+Math.imul(j,ot)|0,o=o+Math.imul(j,at)|0,n=n+Math.imul(M,ct)|0,i=(i=i+Math.imul(M,lt)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,lt)|0,n=n+Math.imul(v,ht)|0,i=(i=i+Math.imul(v,ft)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,ft)|0;var jt=(l+(n=n+Math.imul(g,dt)|0)|0)+((8191&(i=(i=i+Math.imul(g,mt)|0)+Math.imul(_,dt)|0))<<13)|0;l=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(jt>>>26)|0,jt&=67108863,n=Math.imul(F,H),i=(i=Math.imul(F,J))+Math.imul(B,H)|0,o=Math.imul(B,J),n=n+Math.imul(k,$)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(T,ot)|0,i=(i=i+Math.imul(T,at)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,at)|0,n=n+Math.imul(S,ct)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(j,ct)|0,o=o+Math.imul(j,lt)|0,n=n+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,ft)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,ft)|0;var Pt=(l+(n=n+Math.imul(v,dt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(O,dt)|0))<<13)|0;l=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(F,$),i=(i=Math.imul(F,tt))+Math.imul(B,$)|0,o=Math.imul(B,tt),n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,at)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,at)|0,n=n+Math.imul(T,ct)|0,i=(i=i+Math.imul(T,lt)|0)+Math.imul(I,ct)|0,o=o+Math.imul(I,lt)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(j,ht)|0,o=o+Math.imul(j,ft)|0;var Tt=(l+(n=n+Math.imul(M,dt)|0)|0)+((8191&(i=(i=i+Math.imul(M,mt)|0)+Math.imul(E,dt)|0))<<13)|0;l=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(F,rt),i=(i=Math.imul(F,nt))+Math.imul(B,rt)|0,o=Math.imul(B,nt),n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,at)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,at)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(C,ct)|0,o=o+Math.imul(C,lt)|0,n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,ft)|0)+Math.imul(I,ht)|0,o=o+Math.imul(I,ft)|0;var It=(l+(n=n+Math.imul(S,dt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(j,dt)|0))<<13)|0;l=((o=o+Math.imul(j,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(F,ot),i=(i=Math.imul(F,at))+Math.imul(B,ot)|0,o=Math.imul(B,at),n=n+Math.imul(k,ct)|0,i=(i=i+Math.imul(k,lt)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,lt)|0,n=n+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(C,ht)|0,o=o+Math.imul(C,ft)|0;var Lt=(l+(n=n+Math.imul(T,dt)|0)|0)+((8191&(i=(i=i+Math.imul(T,mt)|0)+Math.imul(I,dt)|0))<<13)|0;l=((o=o+Math.imul(I,mt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,n=Math.imul(F,ct),i=(i=Math.imul(F,lt))+Math.imul(B,ct)|0,o=Math.imul(B,lt),n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,ft)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,ft)|0;var Rt=(l+(n=n+Math.imul(R,dt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(C,dt)|0))<<13)|0;l=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(F,ht),i=(i=Math.imul(F,ft))+Math.imul(B,ht)|0,o=Math.imul(B,ft);var Ct=(l+(n=n+Math.imul(k,dt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(N,dt)|0))<<13)|0;l=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863;var At=(l+(n=Math.imul(F,dt))|0)+((8191&(i=(i=Math.imul(F,mt))+Math.imul(B,dt)|0))<<13)|0;return l=((o=Math.imul(B,mt))+(i>>>13)|0)+(At>>>26)|0,At&=67108863,c[0]=yt,c[1]=gt,c[2]=_t,c[3]=bt,c[4]=vt,c[5]=Ot,c[6]=wt,c[7]=Mt,c[8]=Et,c[9]=xt,c[10]=St,c[11]=jt,c[12]=Pt,c[13]=Tt,c[14]=It,c[15]=Lt,c[16]=Rt,c[17]=Ct,c[18]=At,0!==l&&(c[19]=l,r.length++),r};function m(t,e,r){return(new y).mulp(t,e,r)}function y(t,e){this.x=t,this.y=e}Math.imul||(d=p),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?d(this,t,e):r<63?p(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,c=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=c;l++){var u=o-l,h=(0|t.words[u])*(0|e.words[l]),f=67108863&h;s=67108863&(f=f+s|0),i+=(a=(a=a+(h/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):m(this,t,e)},y.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},y.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},y.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},y.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),u=0;u<i;u+=s)for(var h=c,f=l,p=0;p<a;p++){var d=r[u+p],m=n[u+p],y=r[u+p+a],g=n[u+p+a],_=h*y-f*g;g=h*g+f*y,y=_,r[u+p]=d+y,n[u+p]=m+g,r[u+p+a]=d-y,n[u+p+a]=m-g,p!==s&&(_=c*h-l*f,f=c*f+l*h,h=_)}},y.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},y.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},y.prototype.convert13b=function(t,e,r,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)r[a]=0;n(0===o),n(0==(-8192&o))},y.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},y.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),c=new Array(n),l=new Array(n),u=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,l,n),this.transform(a,o,s,c,n,i),this.transform(l,o,u,h,n,i);for(var p=0;p<n;p++){var d=s[p]*u[p]-c[p]*h[p];c[p]=s[p]*h[p]+c[p]*u[p],s[p]=d}return this.conjugate(s,c,n),this.transform(s,c,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),m(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,c=(0|this.words[e])-s<<r;this.words[e]=c|a,a=s>>>26-r}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,c=r;if(i-=a,i=Math.max(0,i),c){for(var l=0;l<a;l++)c.words[l]=this.words[l];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=i);l--){var h=0|this.words[l];this.words[l]=u<<26-o|h>>>o,u=h&s}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,a=t.length+r;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+s;var c=(0|t.words[i])*e;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this.strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var s,c=n.length-i.length;if("mod"!==e){(s=new o(null)).length=c+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var u=n.clone()._ishlnsubmul(i,1,c);0===u.negative&&(n=u,s&&(s.words[c]=1));for(var h=c-1;h>=0;h--){var f=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(f=Math.min(f/a|0,67108863),n._ishlnsubmul(i,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);s&&(s.words[h]=f)}return s&&s.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),c=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var u=r.clone(),h=e.clone();!e.isZero();){for(var f=0,p=1;0==(e.words[0]&p)&&f<26;++f,p<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(u),a.isub(h)),i.iushrn(1),a.iushrn(1);for(var d=0,m=1;0==(r.words[0]&m)&&d<26;++d,m<<=1);if(d>0)for(r.iushrn(d);d-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(u),c.isub(h)),s.iushrn(1),c.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(s),a.isub(c)):(r.isub(e),s.isub(i),c.isub(a))}return{a:s,b:c,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),c=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,u=1;0==(e.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(e.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var h=0,f=1;0==(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);e.cmp(r)>=0?(e.isub(r),a.isub(s)):(r.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new M(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function E(t){M.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(b,_),b.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(v,_),i(O,_),i(w,_),w.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new v;else if("p192"===t)e=new O;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new w}return g[t]=e,e},M.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},M.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},M.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},M.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},M.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},M.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},M.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},M.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},M.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},M.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},M.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},M.prototype.isqr=function(t){return this.imul(t,t.clone())},M.prototype.sqr=function(t){return this.mul(t,t)},M.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),c=s.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new o(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var h=this.pow(u,i),f=this.pow(t,i.addn(1).iushrn(1)),p=this.pow(t,i),d=a;0!==p.cmp(s);){for(var m=p,y=0;0!==m.cmp(s);y++)m=m.redSqr();n(y<d);var g=this.pow(h,new o(1).iushln(d-y-1));f=f.redMul(g),h=g.redSqr(),p=p.redMul(h),d=y}return f},M.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},M.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],a=0,s=0,c=e.bitLength()%26;for(0===c&&(c=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],u=c-1;u>=0;u--){var h=l>>u&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===n&&0===u)&&(i=this.mul(i,r[a]),s=0,a=0)):s=0}c=26}return i},M.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},M.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new E(t)},i(E,M),E.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},E.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},E.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},E.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},E.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,r(193)(t))},function(t,e){},function(t,e){},function(t){t.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},function(t,e,r){(function(e){var n=r(507),i=new(r(508)),o=new n(24),a=new n(11),s=new n(10),c=new n(3),l=new n(7),u=r(506),h=r(252);function f(t,r){return r=r||"utf8",e.isBuffer(t)||(t=new e(t,r)),this._pub=new n(t),this}function p(t,r){return r=r||"utf8",e.isBuffer(t)||(t=new e(t,r)),this._priv=new n(t),this}t.exports=m;var d={};function m(t,e,r){this.setGenerator(e),this.__prime=new n(t),this._prime=n.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=f,this.setPrivateKey=p):this._primeCode=8}function y(t,r){var n=new e(t.toArray());return r?n.toString(r):n}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(t,e){var r=e.toString("hex"),n=[r,t.toString(16)].join("_");if(n in d)return d[n];var h,f=0;if(t.isEven()||!u.simpleSieve||!u.fermatTest(t)||!i.test(t))return f+=1,f+="02"===r||"05"===r?8:4,d[n]=f,f;switch(i.test(t.shrn(1))||(f+=2),r){case"02":t.mod(o).cmp(a)&&(f+=8);break;case"05":(h=t.mod(s)).cmp(c)&&h.cmp(l)&&(f+=8);break;default:f+=4}return d[n]=f,f}(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new n(h(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(t){var r=(t=(t=new n(t)).toRed(this._prime)).redPow(this._priv).fromRed(),i=new e(r.toArray()),o=this.getPrime();if(i.length<o.length){var a=new e(o.length-i.length);a.fill(0),i=e.concat([a,i])}return i},m.prototype.getPublicKey=function(t){return y(this._pub,t)},m.prototype.getPrivateKey=function(t){return y(this._priv,t)},m.prototype.getPrime=function(t){return y(this.__prime,t)},m.prototype.getGenerator=function(t){return y(this._gen,t)},m.prototype.setGenerator=function(t,r){return r=r||"utf8",e.isBuffer(t)||(t=new e(t,r)),this.__gen=t,this._gen=new n(t),this}}).call(this,r(94).Buffer)},function(t,e,r){var n=r(48).Buffer,i=r(308),o=r(477),a=r(46),s=r(746),c=r(777),l=r(493);function u(t){o.Writable.call(this);var e=l[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=i(e.hash),this._tag=e.id,this._signType=e.sign}function h(t){o.Writable.call(this);var e=l[t];if(!e)throw new Error("Unknown message digest");this._hash=i(e.hash),this._tag=e.id,this._signType=e.sign}function f(t){return new u(t)}function p(t){return new h(t)}Object.keys(l).forEach((function(t){l[t].id=n.from(l[t].id,"hex"),l[t.toLowerCase()]=l[t]})),a(u,o.Writable),u.prototype._write=function(t,e,r){this._hash.update(t),r()},u.prototype.update=function(t,e){return"string"==typeof t&&(t=n.from(t,e)),this._hash.update(t),this},u.prototype.sign=function(t,e){this.end();var r=this._hash.digest(),n=s(r,t,this._hashType,this._signType,this._tag);return e?n.toString(e):n},a(h,o.Writable),h.prototype._write=function(t,e,r){this._hash.update(t),r()},h.prototype.update=function(t,e){return"string"==typeof t&&(t=n.from(t,e)),this._hash.update(t),this},h.prototype.verify=function(t,e,r){"string"==typeof e&&(e=n.from(e,r)),this.end();var i=this._hash.digest();return c(e,i,t,this._signType,this._tag)},t.exports={Sign:f,Verify:p,createSign:f,createVerify:p}},function(t,e,r){var n=r(48).Buffer,i=r(491),o=r(442),a=r(444).ec,s=r(443),c=r(356),l=r(520);function u(t,e,r,o){if((t=n.from(t.toArray())).length<e.byteLength()){var a=n.alloc(e.byteLength()-t.length);t=n.concat([a,t])}var s=r.length,c=function(t,e){t=(t=h(t,e)).mod(e);var r=n.from(t.toArray());if(r.length<e.byteLength()){var i=n.alloc(e.byteLength()-r.length);r=n.concat([i,r])}return r}(r,e),l=n.alloc(s);l.fill(1);var u=n.alloc(s);return u=i(o,u).update(l).update(n.from([0])).update(t).update(c).digest(),l=i(o,u).update(l).digest(),{k:u=i(o,u).update(l).update(n.from([1])).update(t).update(c).digest(),v:l=i(o,u).update(l).digest()}}function h(t,e){var r=new s(t),n=(t.length<<3)-e.bitLength();return n>0&&r.ishrn(n),r}function f(t,e,r){var o,a;do{for(o=n.alloc(0);8*o.length<t.bitLength();)e.v=i(r,e.k).update(e.v).digest(),o=n.concat([o,e.v]);a=h(o,t),e.k=i(r,e.k).update(e.v).update(n.from([0])).digest(),e.v=i(r,e.k).update(e.v).digest()}while(-1!==a.cmp(t));return a}function p(t,e,r,n){return t.toRed(s.mont(r)).redPow(e).fromRed().mod(n)}t.exports=function(t,e,r,i,d){var m=c(e);if(m.curve){if("ecdsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");return function(t,e){var r=l[e.curve.join(".")];if(!r)throw new Error("unknown curve "+e.curve.join("."));var i=new a(r).keyFromPrivate(e.privateKey).sign(t);return n.from(i.toDER())}(t,m)}if("dsa"===m.type){if("dsa"!==i)throw new Error("wrong private key type");return function(t,e,r){var i,o=e.params.priv_key,a=e.params.p,c=e.params.q,l=e.params.g,d=new s(0),m=h(t,c).mod(c),y=!1,g=u(o,c,t,r);for(;!1===y;)i=f(c,g,r),d=p(l,i,a,c),0===(y=i.invm(c).imul(m.add(o.mul(d))).mod(c)).cmpn(0)&&(y=!1,d=new s(0));return function(t,e){t=t.toArray(),e=e.toArray(),128&t[0]&&(t=[0].concat(t));128&e[0]&&(e=[0].concat(e));var r=[48,t.length+e.length+4,2,t.length];return r=r.concat(t,[2,e.length],e),n.from(r)}(d,y)}(t,m,r)}if("rsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");t=n.concat([d,t]);for(var y=m.modulus.byteLength(),g=[0,1];t.length+g.length+1<y;)g.push(255);g.push(0);for(var _=-1;++_<t.length;)g.push(t[_]);return o(g,m)},t.exports.getKey=u,t.exports.makeKey=f},function(t,e){},function(t){t.exports=JSON.parse('{"_args":[["elliptic@6.5.4","/docker/idee_visualizadores/vis_com-apicnig/00_python_despliegue_GIT/repositorioCompilacion/vis_com_APICNIG/api-ign-js"]],"_development":true,"_from":"elliptic@6.5.4","_id":"elliptic@6.5.4","_inBundle":false,"_integrity":"sha512-iLhC6ULemrljPZb+QutR5TQGB+pdW6KGD5RSegS+8sorOZT+rdQFbsQFJgvN3eRqNALqJer4oQ16YvJHlU8hzQ==","_location":"/elliptic","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"elliptic@6.5.4","name":"elliptic","escapedName":"elliptic","rawSpec":"6.5.4","saveSpec":null,"fetchSpec":"6.5.4"},"_requiredBy":["/browserify-sign","/create-ecdh"],"_resolved":"https://registry.npmjs.org/elliptic/-/elliptic-6.5.4.tgz","_spec":"6.5.4","_where":"/docker/idee_visualizadores/vis_com-apicnig/00_python_despliegue_GIT/repositorioCompilacion/vis_com_APICNIG/api-ign-js","author":{"name":"Fedor Indutny","email":"fedor@indutny.com"},"bugs":{"url":"https://github.com/indutny/elliptic/issues"},"dependencies":{"bn.js":"^4.11.9","brorand":"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1","inherits":"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},"description":"EC cryptography","devDependencies":{"brfs":"^2.0.2","coveralls":"^3.1.0","eslint":"^7.6.0","grunt":"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1","istanbul":"^0.4.5","mocha":"^8.0.1"},"files":["lib"],"homepage":"https://github.com/indutny/elliptic","keywords":["EC","Elliptic","curve","Cryptography"],"license":"MIT","main":"lib/elliptic.js","name":"elliptic","repository":{"type":"git","url":"git+ssh://git@github.com/indutny/elliptic.git"},"scripts":{"lint":"eslint lib test","lint:fix":"npm run lint -- --fix","test":"npm run lint && npm run unit","unit":"istanbul test _mocha --reporter=spec test/index.js","version":"grunt dist && git add dist/"},"version":"6.5.4"}')},function(t,e){},function(t,e,r){"use strict";var n=r(152),i=r(194),o=r(46),a=r(355),s=n.assert;function c(t){a.call(this,"short",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function l(t,e,r,n){a.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(e,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(t,e,r,n){a.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(e,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(c,a),t.exports=c,c.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new i(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new i(t.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(e))?r=o[0]:(r=o[1],s(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new i(t.a,16),b:new i(t.b,16)}})):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:i.mont(t),r=new i(2).toRed(e).redInvm(),n=r.redNeg(),o=new i(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(o).fromRed(),n.redSub(o).fromRed()]},c.prototype._getEndoBasis=function(t){for(var e,r,n,o,a,s,c,l,u,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=t,p=this.n.clone(),d=new i(1),m=new i(0),y=new i(0),g=new i(1),_=0;0!==f.cmpn(0);){var b=p.div(f);l=p.sub(b.mul(f)),u=y.sub(b.mul(d));var v=g.sub(b.mul(m));if(!n&&l.cmp(h)<0)e=c.neg(),r=d,n=l.neg(),o=u;else if(n&&2==++_)break;c=l,p=f,f=l,y=d,d=u,g=m,m=v}a=l.neg(),s=u;var O=n.sqr().add(o.sqr());return a.sqr().add(s.sqr()).cmp(O)>=0&&(a=e,s=r),n.negative&&(n=n.neg(),o=o.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:n,b:o},{a:a,b:s}]},c.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),a=i.mul(r.a),s=o.mul(n.a),c=i.mul(r.b),l=o.mul(n.b);return{k1:t.sub(a).sub(s),k2:c.add(l).neg()}},c.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var o=n.fromRed().isOdd();return(e&&!o||!e&&o)&&(n=n.redNeg()),this.point(t,n)},c.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var a=this._endoSplit(e[o]),s=t[o],c=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),n[2*o]=s,n[2*o+1]=c,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var l=this._wnafMulAdd(1,n,i,2*o,r),u=0;u<2*o;u++)n[u]=null,i[u]=null;return l},o(l,a.BasePoint),c.prototype.point=function(t,e,r){return new l(this,t,e,r)},c.prototype.pointFromJSON=function(t,e){return l.fromJSON(this,t,e)},l.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},l.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},l.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.inf},l.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},l.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},l.prototype.getX=function(){return this.x.fromRed()},l.prototype.getY=function(){return this.y.fromRed()},l.prototype.mul=function(t){return t=new i(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},l.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},l.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},l.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},l.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},l.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(u,a.BasePoint),c.prototype.jpoint=function(t,e,r){return new u(this,t,e,r)},u.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),a=t.y.redMul(r.redMul(this.z)),s=n.redSub(i),c=o.redSub(a);if(0===s.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),u=l.redMul(s),h=n.redMul(l),f=c.redSqr().redIAdd(u).redISub(h).redISub(h),p=c.redMul(h.redISub(f)).redISub(o.redMul(u)),d=this.z.redMul(t.z).redMul(s);return this.curve.jpoint(f,p,d)},u.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),a=r.redSub(n),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),l=c.redMul(a),u=r.redMul(c),h=s.redSqr().redIAdd(l).redISub(u).redISub(u),f=s.redMul(u.redISub(h)).redISub(i.redMul(l)),p=this.z.redMul(a);return this.curve.jpoint(h,f,p)},u.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,c=s.redSqr().redSqr(),l=a.redAdd(a);for(e=0;e<t;e++){var u=o.redSqr(),h=l.redSqr(),f=h.redSqr(),p=u.redAdd(u).redIAdd(u).redIAdd(n.redMul(c)),d=o.redMul(h),m=p.redSqr().redISub(d.redAdd(d)),y=d.redISub(m),g=p.redMul(y);g=g.redIAdd(g).redISub(f);var _=l.redMul(s);e+1<t&&(c=c.redMul(f)),o=m,s=_,l=g}return this.curve.jpoint(o,l.redMul(i),s)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n),c=s.redSqr().redISub(a).redISub(a),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=c,e=s.redMul(a.redISub(c)).redISub(l),r=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),h=this.y.redSqr(),f=h.redSqr(),p=this.x.redAdd(h).redSqr().redISub(u).redISub(f);p=p.redIAdd(p);var d=u.redAdd(u).redIAdd(u),m=d.redSqr(),y=f.redIAdd(f);y=(y=y.redIAdd(y)).redIAdd(y),t=m.redISub(p).redISub(p),e=d.redMul(p.redISub(t)).redISub(y),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},u.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=s.redSqr().redISub(a).redISub(a);t=c;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=s.redMul(a.redISub(c)).redISub(l),r=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),p=this.x.redSub(u).redMul(this.x.redAdd(u));p=p.redAdd(p).redIAdd(p);var d=f.redIAdd(f),m=(d=d.redIAdd(d)).redAdd(d);t=p.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(u);var y=h.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),e=p.redMul(d.redISub(t)).redISub(y)}return this.curve.jpoint(t,e,r)},u.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),a=r.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),c=e.redAdd(e),l=(c=c.redIAdd(c)).redMul(a),u=s.redSqr().redISub(l.redAdd(l)),h=l.redISub(u),f=a.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var p=s.redMul(h).redISub(f),d=r.redAdd(r).redMul(n);return this.curve.jpoint(u,p,d)},u.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),a=this.x.redAdd(e).redSqr().redISub(t).redISub(n),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var l=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(c),u=e.redMul(l);u=(u=u.redIAdd(u)).redIAdd(u);var h=this.x.redMul(s).redISub(u);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.y.redMul(l.redMul(c.redISub(l)).redISub(a.redMul(s)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var p=this.z.redAdd(a).redSqr().redISub(r).redISub(s);return this.curve.jpoint(h,f,p)},u.prototype.mul=function(t,e){return t=new i(t,e),this.curve._wnafMul(this,t)},u.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},u.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(t,e,r){"use strict";var n=r(194),i=r(46),o=r(355),a=r(152);function s(t){o.call(this,"mont",t),this.a=new n(t.a,16).toRed(this.red),this.b=new n(t.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(t,e,r){o.BasePoint.call(this,t,"projective"),null===e&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(e,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(s,o),t.exports=s,s.prototype.validate=function(t){var e=t.normalize().x,r=e.redSqr(),n=r.redMul(e).redAdd(r.redMul(this.a)).redAdd(e);return 0===n.redSqrt().redSqr().cmp(n)},i(c,o.BasePoint),s.prototype.decodePoint=function(t,e){return this.point(a.toArray(t,e),1)},s.prototype.point=function(t,e){return new c(this,t,e)},s.prototype.pointFromJSON=function(t){return c.fromJSON(this,t)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(t,e){return new c(t,e[0],e[1]||t.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),r=t.redSub(e),n=t.redMul(e),i=r.redMul(e.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(t,e){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=t.x.redAdd(t.z),o=t.x.redSub(t.z).redMul(r),a=i.redMul(n),s=e.z.redMul(o.redAdd(a).redSqr()),c=e.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,c)},c.prototype.mul=function(t){for(var e=t.clone(),r=this,n=this.curve.point(null,null),i=[];0!==e.cmpn(0);e.iushrn(1))i.push(e.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(t,e,r){"use strict";var n=r(152),i=r(194),o=r(46),a=r(355),s=n.assert;function c(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,a.call(this,"edwards",t),this.a=new i(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function l(t,e,r,n,o){a.BasePoint.call(this,t,"projective"),null===e&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(e,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(c,a),t.exports=c,c.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},c.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},c.prototype.jpoint=function(t,e,r,n){return this.point(t,e,r,n)},c.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=this.c2.redSub(this.a.redMul(r)),o=this.one.redSub(this.c2.redMul(this.d).redMul(r)),a=n.redMul(o.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var c=s.fromRed().isOdd();return(e&&!c||!e&&c)&&(s=s.redNeg()),this.point(t,s)},c.prototype.pointFromY=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=r.redSub(this.c2),o=r.redMul(this.d).redMul(this.c2).redSub(this.a),a=n.redMul(o.redInvm());if(0===a.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==e&&(s=s.redNeg()),this.point(s,t)},c.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),n=e.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return 0===n.cmp(i)},o(l,a.BasePoint),c.prototype.pointFromJSON=function(t){return l.fromJSON(this,t)},c.prototype.point=function(t,e,r,n){return new l(this,t,e,r,n)},l.fromJSON=function(t,e){return new l(t,e[0],e[1],e[2])},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},l.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),o=n.redAdd(e),a=o.redSub(r),s=n.redSub(e),c=i.redMul(a),l=o.redMul(s),u=i.redMul(s),h=a.redMul(o);return this.curve.point(c,l,h,u)},l.prototype._projDbl=function(){var t,e,r,n,i,o,a=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var l=(n=this.curve._mulA(s)).redAdd(c);this.zOne?(t=a.redSub(s).redSub(c).redMul(l.redSub(this.curve.two)),e=l.redMul(n.redSub(c)),r=l.redSqr().redSub(l).redSub(l)):(i=this.z.redSqr(),o=l.redSub(i).redISub(i),t=a.redSub(s).redISub(c).redMul(o),e=l.redMul(n.redSub(c)),r=l.redMul(o))}else n=s.redAdd(c),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),t=this.curve._mulC(a.redISub(n)).redMul(o),e=this.curve._mulC(n).redMul(s.redISub(c)),r=n.redMul(o);return this.curve.point(t,e,r)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},l.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),n=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),o=r.redSub(e),a=i.redSub(n),s=i.redAdd(n),c=r.redAdd(e),l=o.redMul(a),u=s.redMul(c),h=o.redMul(c),f=a.redMul(s);return this.curve.point(l,u,f,h)},l.prototype._projAdd=function(t){var e,r,n=this.z.redMul(t.z),i=n.redSqr(),o=this.x.redMul(t.x),a=this.y.redMul(t.y),s=this.curve.d.redMul(o).redMul(a),c=i.redSub(s),l=i.redAdd(s),u=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(o).redISub(a),h=n.redMul(c).redMul(u);return this.curve.twisted?(e=n.redMul(l).redMul(a.redSub(this.curve._mulA(o))),r=c.redMul(l)):(e=n.redMul(l).redMul(a.redSub(o)),r=this.curve._mulC(c).redMul(l)),this.curve.point(h,e,r)},l.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},l.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},l.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!1)},l.prototype.jmulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!0)},l.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},l.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()},l.prototype.getY=function(){return this.normalize(),this.y.fromRed()},l.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},l.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var r=t.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(n),0===this.x.cmp(e))return!0}},l.prototype.toP=l.prototype.normalize,l.prototype.mixedAdd=l.prototype.add},function(t,e,r){"use strict";e.sha1=r(754),e.sha224=r(755),e.sha256=r(512),e.sha384=r(756),e.sha512=r(513)},function(t,e,r){"use strict";var n=r(171),i=r(312),o=r(511),a=n.rotl32,s=n.sum32,c=n.sum32_5,l=o.ft_1,u=i.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(f,u),t.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=a(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],u=this.h[2],f=this.h[3],p=this.h[4];for(n=0;n<r.length;n++){var d=~~(n/20),m=c(a(i,5),l(d,o,u,f),p,r[n],h[d]);p=f,f=u,u=a(o,30),o=i,i=m}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],u),this.h[3]=s(this.h[3],f),this.h[4]=s(this.h[4],p)},f.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(t,e,r){"use strict";var n=r(171),i=r(512);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,i),t.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},function(t,e,r){"use strict";var n=r(171),i=r(513);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,i),t.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},function(t,e,r){"use strict";var n=r(171),i=r(312),o=n.rotl32,a=n.sum32,s=n.sum32_3,c=n.sum32_4,l=i.BlockHash;function u(){if(!(this instanceof u))return new u;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function f(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function p(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}n.inherits(u,l),e.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],l=this.h[3],u=this.h[4],_=r,b=n,v=i,O=l,w=u,M=0;M<80;M++){var E=a(o(c(r,h(M,n,i,l),t[d[M]+e],f(M)),y[M]),u);r=u,u=l,l=o(i,10),i=n,n=E,E=a(o(c(_,h(79-M,b,v,O),t[m[M]+e],p(M)),g[M]),w),_=w,w=O,O=o(v,10),v=b,b=E}E=s(this.h[1],i,O),this.h[1]=s(this.h[2],l,w),this.h[2]=s(this.h[3],u,_),this.h[3]=s(this.h[4],r,b),this.h[4]=s(this.h[0],n,v),this.h[0]=E},u.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(t,e,r){"use strict";var n=r(171),i=r(151);function o(t,e,r){if(!(this instanceof o))return new o(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(e,r))}t.exports=o,o.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),i(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},o.prototype.update=function(t,e){return this.inner.update(t,e),this},o.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},function(t,e){t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(t,e,r){"use strict";var n=r(194),i=r(761),o=r(152),a=r(445),s=r(441),c=o.assert,l=r(762),u=r(763);function h(t){if(!(this instanceof h))return new h(t);"string"==typeof t&&(c(Object.prototype.hasOwnProperty.call(a,t),"Unknown curve "+t),t=a[t]),t instanceof a.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}t.exports=h,h.prototype.keyPair=function(t){return new l(this,t)},h.prototype.keyFromPrivate=function(t,e){return l.fromPrivate(this,t,e)},h.prototype.keyFromPublic=function(t,e){return l.fromPublic(this,t,e)},h.prototype.genKeyPair=function(t){t||(t={});for(var e=new i({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||s(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new n(2));;){var a=new n(e.generate(r));if(!(a.cmp(o)>0))return a.iaddn(1),this.keyFromPrivate(a)}},h.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},h.prototype.sign=function(t,e,r,o){"object"==typeof r&&(o=r,r=null),o||(o={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new n(t,16));for(var a=this.n.byteLength(),s=e.getPrivate().toArray("be",a),c=t.toArray("be",a),l=new i({hash:this.hash,entropy:s,nonce:c,pers:o.pers,persEnc:o.persEnc||"utf8"}),h=this.n.sub(new n(1)),f=0;;f++){var p=o.k?o.k(f):new n(l.generate(this.n.byteLength()));if(!((p=this._truncateToN(p,!0)).cmpn(1)<=0||p.cmp(h)>=0)){var d=this.g.mul(p);if(!d.isInfinity()){var m=d.getX(),y=m.umod(this.n);if(0!==y.cmpn(0)){var g=p.invm(this.n).mul(y.mul(e.getPrivate()).iadd(t));if(0!==(g=g.umod(this.n)).cmpn(0)){var _=(d.getY().isOdd()?1:0)|(0!==m.cmp(y)?2:0);return o.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),_^=1),new u({r:y,s:g,recoveryParam:_})}}}}}},h.prototype.verify=function(t,e,r,i){t=this._truncateToN(new n(t,16)),r=this.keyFromPublic(r,i);var o=(e=new u(e,"hex")).r,a=e.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,c=a.invm(this.n),l=c.mul(t).umod(this.n),h=c.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(l,r.getPublic(),h)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(l,r.getPublic(),h)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},h.prototype.recoverPubKey=function(t,e,r,i){c((3&r)===r,"The recovery param is more than two bits"),e=new u(e,i);var o=this.n,a=new n(t),s=e.r,l=e.s,h=1&r,f=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");s=f?this.curve.pointFromX(s.add(this.curve.n),h):this.curve.pointFromX(s,h);var p=e.r.invm(o),d=o.sub(a).mul(p).umod(o),m=l.mul(p).umod(o);return this.g.mulAdd(d,s,m)},h.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new u(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},function(t,e,r){"use strict";var n=r(446),i=r(509),o=r(151);function a(t){if(!(this instanceof a))return new a(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=i.toArray(t.entropy,t.entropyEnc||"hex"),r=i.toArray(t.nonce,t.nonceEnc||"hex"),n=i.toArray(t.pers,t.persEnc||"hex");o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}t.exports=a,a.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},a.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=i.toArray(t,e),r=i.toArray(r,n),o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},a.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var o=[];o.length<t;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,t);return this._update(r),this._reseed++,i.encode(a,e)}},function(t,e,r){"use strict";var n=r(194),i=r(152).assert;function o(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}t.exports=o,o.fromPublic=function(t,e,r){return e instanceof o?e:new o(t,{pub:e,pubEnc:r})},o.fromPrivate=function(t,e,r){return e instanceof o?e:new o(t,{priv:e,privEnc:r})},o.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},o.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(t,e){this.priv=new n(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?i(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},o.prototype.derive=function(t){return t.validate()||i(t.validate(),"public point not validated"),t.mul(this.priv).getX()},o.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},o.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(t,e,r){"use strict";var n=r(194),i=r(152),o=i.assert;function a(t,e){if(t instanceof a)return t;this._importDER(t,e)||(o(t.r&&t.s,"Signature without r or s"),this.r=new n(t.r,16),this.s=new n(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function s(){this.place=0}function c(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,a=e.place;o<n;o++,a++)i<<=8,i|=t[a],i>>>=0;return!(i<=127)&&(e.place=a,i)}function l(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function u(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}t.exports=a,a.prototype._importDER=function(t,e){t=i.toArray(t,e);var r=new s;if(48!==t[r.place++])return!1;var o=c(t,r);if(!1===o)return!1;if(o+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var a=c(t,r);if(!1===a)return!1;var l=t.slice(r.place,a+r.place);if(r.place+=a,2!==t[r.place++])return!1;var u=c(t,r);if(!1===u)return!1;if(t.length!==u+r.place)return!1;var h=t.slice(r.place,u+r.place);if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}if(0===h[0]){if(!(128&h[1]))return!1;h=h.slice(1)}return this.r=new n(l),this.s=new n(h),this.recoveryParam=null,!0},a.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=l(e),r=l(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];u(n,e.length),(n=n.concat(e)).push(2),u(n,r.length);var o=n.concat(r),a=[48];return u(a,o.length),a=a.concat(o),i.encode(a,t)}},function(t,e,r){"use strict";var n=r(446),i=r(445),o=r(152),a=o.assert,s=o.parseBytes,c=r(765),l=r(766);function u(t){if(a("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof u))return new u(t);t=i[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=n.sha512}t.exports=u,u.prototype.sign=function(t,e){t=s(t);var r=this.keyFromSecret(e),n=this.hashInt(r.messagePrefix(),t),i=this.g.mul(n),o=this.encodePoint(i),a=this.hashInt(o,r.pubBytes(),t).mul(r.priv()),c=n.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:o})},u.prototype.verify=function(t,e,r){t=s(t),e=this.makeSignature(e);var n=this.keyFromPublic(r),i=this.hashInt(e.Rencoded(),n.pubBytes(),t),o=this.g.mul(e.S());return e.R().add(n.pub().mul(i)).eq(o)},u.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return o.intFromLE(t.digest()).umod(this.curve.n)},u.prototype.keyFromPublic=function(t){return c.fromPublic(this,t)},u.prototype.keyFromSecret=function(t){return c.fromSecret(this,t)},u.prototype.makeSignature=function(t){return t instanceof l?t:new l(this,t)},u.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},u.prototype.decodePoint=function(t){var e=(t=o.parseBytes(t)).length-1,r=t.slice(0,e).concat(-129&t[e]),n=0!=(128&t[e]),i=o.intFromLE(r);return this.curve.pointFromY(i,n)},u.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},u.prototype.decodeInt=function(t){return o.intFromLE(t)},u.prototype.isPoint=function(t){return t instanceof this.pointClass}},function(t,e,r){"use strict";var n=r(152),i=n.assert,o=n.parseBytes,a=n.cachedProperty;function s(t,e){this.eddsa=t,this._secret=o(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=o(e.pub)}s.fromPublic=function(t,e){return e instanceof s?e:new s(t,{pub:e})},s.fromSecret=function(t,e){return e instanceof s?e:new s(t,{secret:e})},s.prototype.secret=function(){return this._secret},a(s,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),a(s,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),a(s,"privBytes",(function(){var t=this.eddsa,e=this.hash(),r=t.encodingLength-1,n=e.slice(0,t.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),a(s,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),a(s,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),a(s,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),s.prototype.sign=function(t){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},s.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},s.prototype.getSecret=function(t){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),t)},s.prototype.getPublic=function(t){return n.encode(this.pubBytes(),t)},t.exports=s},function(t,e,r){"use strict";var n=r(194),i=r(152),o=i.assert,a=i.cachedProperty,s=i.parseBytes;function c(t,e){this.eddsa=t,"object"!=typeof e&&(e=s(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),o(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof n&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}a(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),a(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),a(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),a(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},t.exports=c},function(t,e,r){"use strict";var n=r(514);e.certificate=r(774);var i=n.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));e.RSAPrivateKey=i;var o=n.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));e.RSAPublicKey=o;var a=n.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}));e.PublicKey=a;var s=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),c=n.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())}));e.PrivateKey=c;var l=n.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));e.EncryptedPrivateKey=l;var u=n.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));e.DSAPrivateKey=u,e.DSAparam=n.define("DSAparam",(function(){this.int()}));var h=n.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(f),this.key("publicKey").optional().explicit(1).bitstr())}));e.ECPrivateKey=h;var f=n.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));e.signature=n.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},function(t,e){},function(t,e,r){"use strict";const n=r(516),i=r(518),o=r(46);function a(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new a(t,e)},a.prototype._createNamed=function(t){const e=this.name;function r(t){this._initNamed(t,e)}return o(r,t),r.prototype._initNamed=function(e,r){t.call(this,e,r)},new r(this)},a.prototype._getDecoder=function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(i[t])),this.decoders[t]},a.prototype.decode=function(t,e,r){return this._getDecoder(e).decode(t,r)},a.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(n[t])),this.encoders[t]},a.prototype.encode=function(t,e,r){return this._getEncoder(e).encode(t,r)}},function(t,e,r){"use strict";const n=r(46),i=r(517);function o(t){i.call(this,t),this.enc="pem"}n(o,i),t.exports=o,o.prototype.encode=function(t,e){const r=i.prototype.encode.call(this,t).toString("base64"),n=["-----BEGIN "+e.label+"-----"];for(let t=0;t<r.length;t+=64)n.push(r.slice(t,t+64));return n.push("-----END "+e.label+"-----"),n.join("\n")}},function(t,e,r){"use strict";const n=r(46),i=r(447).Buffer,o=r(519);function a(t){o.call(this,t),this.enc="pem"}n(a,o),t.exports=a,a.prototype.decode=function(t,e){const r=t.toString().split(/[\r\n]+/g),n=e.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/;let s=-1,c=-1;for(let t=0;t<r.length;t++){const e=r[t].match(a);if(null!==e&&e[2]===n){if(-1!==s){if("END"!==e[1])break;c=t;break}if("BEGIN"!==e[1])break;s=t}}if(-1===s||-1===c)throw new Error("PEM section not found for: "+n);const l=r.slice(s+1,c).join("");l.replace(/[^a-z0-9+/=]+/gi,"");const u=i.from(l,"base64");return o.prototype.decode.call(this,u,e)}},function(t,e,r){"use strict";const n=e;n.Reporter=r(449).Reporter,n.DecoderBuffer=r(313).DecoderBuffer,n.EncoderBuffer=r(313).EncoderBuffer,n.Node=r(448)},function(t,e,r){"use strict";const n=e;n._reverse=function(t){const e={};return Object.keys(t).forEach((function(r){(0|r)==r&&(r|=0);const n=t[r];e[n]=r})),e},n.der=r(450)},function(t,e,r){"use strict";var n=r(514),i=n.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),o=n.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),a=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),s=n.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())})),c=n.define("RelativeDistinguishedName",(function(){this.setof(o)})),l=n.define("RDNSequence",(function(){this.seqof(c)})),u=n.define("Name",(function(){this.choice({rdnSequence:this.use(l)})})),h=n.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))})),f=n.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),p=n.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(u),this.key("validity").use(h),this.key("subject").use(u),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(f).optional())})),d=n.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(p),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())}));t.exports=d},function(t){t.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')},function(t,e,r){var n=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,a=r(354),s=r(439),c=r(48).Buffer;t.exports=function(t,e){var r,l=t.toString(),u=l.match(n);if(u){var h="aes"+u[1],f=c.from(u[2],"hex"),p=c.from(u[3].replace(/[\r\n]/g,""),"base64"),d=a(e,f.slice(0,8),parseInt(u[1],10)).key,m=[],y=s.createDecipheriv(h,d,f);m.push(y.update(p)),m.push(y.final()),r=c.concat(m)}else{var g=l.match(o);r=c.from(g[2].replace(/[\r\n]/g,""),"base64")}return{tag:l.match(i)[1],data:r}}},function(t,e,r){var n=r(48).Buffer,i=r(443),o=r(444).ec,a=r(356),s=r(520);function c(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}t.exports=function(t,e,r,l,u){var h=a(r);if("ec"===h.type){if("ecdsa"!==l&&"ecdsa/rsa"!==l)throw new Error("wrong public key type");return function(t,e,r){var n=s[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var i=new o(n),a=r.data.subjectPrivateKey.data;return i.verify(e,t,a)}(t,e,h)}if("dsa"===h.type){if("dsa"!==l)throw new Error("wrong public key type");return function(t,e,r){var n=r.data.p,o=r.data.q,s=r.data.g,l=r.data.pub_key,u=a.signature.decode(t,"der"),h=u.s,f=u.r;c(h,o),c(f,o);var p=i.mont(n),d=h.invm(o);return 0===s.toRed(p).redPow(new i(e).mul(d).mod(o)).fromRed().mul(l.toRed(p).redPow(f.mul(d).mod(o)).fromRed()).mod(n).mod(o).cmp(f)}(t,e,h)}if("rsa"!==l&&"ecdsa/rsa"!==l)throw new Error("wrong public key type");e=n.concat([u,e]);for(var f=h.modulus.byteLength(),p=[1],d=0;e.length+p.length+2<f;)p.push(255),d++;p.push(0);for(var m=-1;++m<e.length;)p.push(e[m]);p=n.from(p);var y=i.mont(h.modulus);t=(t=new i(t).toRed(y)).redPow(new i(h.publicExponent)),t=n.from(t.fromRed().toArray());var g=d<8?1:0;for(f=Math.min(t.length,p.length),t.length!==p.length&&(g=1),m=-1;++m<f;)g|=t[m]^p[m];return 0===g}},function(t,e,r){(function(e){var n=r(444),i=r(779);t.exports=function(t){return new a(t)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(t){this.curveType=o[t],this.curveType||(this.curveType={name:t}),this.curve=new n.ec(this.curveType.name),this.keys=void 0}function s(t,r,n){Array.isArray(t)||(t=t.toArray());var i=new e(t);if(n&&i.length<n){var o=new e(n-i.length);o.fill(0),i=e.concat([o,i])}return r?i.toString(r):i}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,a.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)},a.prototype.computeSecret=function(t,r,n){return r=r||"utf8",e.isBuffer(t)||(t=new e(t,r)),s(this.curve.keyFromPublic(t).getPublic().mul(this.keys.getPrivate()).getX(),n,this.curveType.byteLength)},a.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic("compressed"===e,!0);return"hybrid"===e&&(r[r.length-1]%2?r[0]=7:r[0]=6),s(r,t)},a.prototype.getPrivateKey=function(t){return s(this.keys.getPrivate(),t)},a.prototype.setPublicKey=function(t,r){return r=r||"utf8",e.isBuffer(t)||(t=new e(t,r)),this.keys._importPublic(t),this},a.prototype.setPrivateKey=function(t,r){r=r||"utf8",e.isBuffer(t)||(t=new e(t,r));var n=new i(t);return n=n.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(n),this}}).call(this,r(94).Buffer)},function(t,e,r){(function(t){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var a;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(780).Buffer}catch(t){}function s(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function c(t,e,r){var n=s(t,r);return r-1>=e&&(n|=s(t,r-1)<<4),n}function l(t,e,r,n){for(var i=0,o=Math.min(t.length,r),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=c(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=c(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,s=Math.min(o,o-a)+r,c=0,u=r;u<s;u+=n)c=l(t,u,u+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var h=1;for(c=l(t,u,t.length,e),u=0;u<a;u++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function p(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,c=a/67108864|0;r.words[0]=s;for(var l=1;l<n;l++){for(var u=c>>>26,h=67108863&c,f=Math.min(l,e.length-1),p=Math.max(0,l-t.length+1);p<=f;p++){var d=l-p|0;u+=(a=(i=0|t.words[d])*(o=0|e.words[p])+h)/67108864|0,h=67108863&a}r.words[l]=0|h,c=0|u}return 0!==c?r.words[l]=0|c:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<i|o)).toString(16);r=0!==(o=s>>>24-i&16777215)||a!==this.length-1?u[6-c.length]+c+r:c+r,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=h[t],p=f[t];r="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modn(p).toString(t);r=(d=d.idivn(p)).isZero()?m+r:u[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==a),this.toArrayLike(a,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var a,s,c="le"===e,l=new t(o),u=this.clone();if(c){for(s=0;!u.isZero();s++)a=u.andln(255),u.iushrn(8),l[s]=a;for(;s<o;s++)l[s]=0}else{for(s=0;s<o-i;s++)l[s]=0;for(s=0;!u.isZero();s++)a=u.andln(255),u.iushrn(8),l[o-s-1]=a}return l},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,a=0;a<n.length;a++)o=(e=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var n,i,o,a=t.words,s=e.words,c=r.words,l=0,u=0|a[0],h=8191&u,f=u>>>13,p=0|a[1],d=8191&p,m=p>>>13,y=0|a[2],g=8191&y,_=y>>>13,b=0|a[3],v=8191&b,O=b>>>13,w=0|a[4],M=8191&w,E=w>>>13,x=0|a[5],S=8191&x,j=x>>>13,P=0|a[6],T=8191&P,I=P>>>13,L=0|a[7],R=8191&L,C=L>>>13,A=0|a[8],k=8191&A,N=A>>>13,D=0|a[9],F=8191&D,B=D>>>13,U=0|s[0],G=8191&U,z=U>>>13,W=0|s[1],X=8191&W,q=W>>>13,V=0|s[2],Y=8191&V,Z=V>>>13,K=0|s[3],H=8191&K,J=K>>>13,Q=0|s[4],$=8191&Q,tt=Q>>>13,et=0|s[5],rt=8191&et,nt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ct=8191&st,lt=st>>>13,ut=0|s[8],ht=8191&ut,ft=ut>>>13,pt=0|s[9],dt=8191&pt,mt=pt>>>13;r.negative=t.negative^e.negative,r.length=19;var yt=(l+(n=Math.imul(h,G))|0)+((8191&(i=(i=Math.imul(h,z))+Math.imul(f,G)|0))<<13)|0;l=((o=Math.imul(f,z))+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(d,G),i=(i=Math.imul(d,z))+Math.imul(m,G)|0,o=Math.imul(m,z);var gt=(l+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,q)|0)+Math.imul(f,X)|0))<<13)|0;l=((o=o+Math.imul(f,q)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(g,G),i=(i=Math.imul(g,z))+Math.imul(_,G)|0,o=Math.imul(_,z),n=n+Math.imul(d,X)|0,i=(i=i+Math.imul(d,q)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,q)|0;var _t=(l+(n=n+Math.imul(h,Y)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,Z)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(v,G),i=(i=Math.imul(v,z))+Math.imul(O,G)|0,o=Math.imul(O,z),n=n+Math.imul(g,X)|0,i=(i=i+Math.imul(g,q)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,q)|0,n=n+Math.imul(d,Y)|0,i=(i=i+Math.imul(d,Z)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,Z)|0;var bt=(l+(n=n+Math.imul(h,H)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(f,H)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(M,G),i=(i=Math.imul(M,z))+Math.imul(E,G)|0,o=Math.imul(E,z),n=n+Math.imul(v,X)|0,i=(i=i+Math.imul(v,q)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,q)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,Z)|0,n=n+Math.imul(d,H)|0,i=(i=i+Math.imul(d,J)|0)+Math.imul(m,H)|0,o=o+Math.imul(m,J)|0;var vt=(l+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,$)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(S,G),i=(i=Math.imul(S,z))+Math.imul(j,G)|0,o=Math.imul(j,z),n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,q)|0)+Math.imul(E,X)|0,o=o+Math.imul(E,q)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,Z)|0,n=n+Math.imul(g,H)|0,i=(i=i+Math.imul(g,J)|0)+Math.imul(_,H)|0,o=o+Math.imul(_,J)|0,n=n+Math.imul(d,$)|0,i=(i=i+Math.imul(d,tt)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,tt)|0;var Ot=(l+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(T,G),i=(i=Math.imul(T,z))+Math.imul(I,G)|0,o=Math.imul(I,z),n=n+Math.imul(S,X)|0,i=(i=i+Math.imul(S,q)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,q)|0,n=n+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,Z)|0,n=n+Math.imul(v,H)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(O,H)|0,o=o+Math.imul(O,J)|0,n=n+Math.imul(g,$)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(d,rt)|0,i=(i=i+Math.imul(d,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var wt=(l+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,at)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,at)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(R,G),i=(i=Math.imul(R,z))+Math.imul(C,G)|0,o=Math.imul(C,z),n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,q)|0)+Math.imul(I,X)|0,o=o+Math.imul(I,q)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(j,Y)|0,o=o+Math.imul(j,Z)|0,n=n+Math.imul(M,H)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(E,H)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(g,rt)|0,i=(i=i+Math.imul(g,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(d,ot)|0,i=(i=i+Math.imul(d,at)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0;var Mt=(l+(n=n+Math.imul(h,ct)|0)|0)+((8191&(i=(i=i+Math.imul(h,lt)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(k,G),i=(i=Math.imul(k,z))+Math.imul(N,G)|0,o=Math.imul(N,z),n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,q)|0)+Math.imul(C,X)|0,o=o+Math.imul(C,q)|0,n=n+Math.imul(T,Y)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(I,Y)|0,o=o+Math.imul(I,Z)|0,n=n+Math.imul(S,H)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(j,H)|0,o=o+Math.imul(j,J)|0,n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,at)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,at)|0,n=n+Math.imul(d,ct)|0,i=(i=i+Math.imul(d,lt)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,lt)|0;var Et=(l+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(f,ht)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(F,G),i=(i=Math.imul(F,z))+Math.imul(B,G)|0,o=Math.imul(B,z),n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,q)|0)+Math.imul(N,X)|0,o=o+Math.imul(N,q)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,Z)|0,n=n+Math.imul(T,H)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(I,H)|0,o=o+Math.imul(I,J)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(j,$)|0,o=o+Math.imul(j,tt)|0,n=n+Math.imul(M,rt)|0,i=(i=i+Math.imul(M,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,n=n+Math.imul(g,ct)|0,i=(i=i+Math.imul(g,lt)|0)+Math.imul(_,ct)|0,o=o+Math.imul(_,lt)|0,n=n+Math.imul(d,ht)|0,i=(i=i+Math.imul(d,ft)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,ft)|0;var xt=(l+(n=n+Math.imul(h,dt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(f,dt)|0))<<13)|0;l=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(F,X),i=(i=Math.imul(F,q))+Math.imul(B,X)|0,o=Math.imul(B,q),n=n+Math.imul(k,Y)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,Z)|0,n=n+Math.imul(R,H)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(C,H)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(j,rt)|0,o=o+Math.imul(j,nt)|0,n=n+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,at)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,at)|0,n=n+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(O,ct)|0,o=o+Math.imul(O,lt)|0,n=n+Math.imul(g,ht)|0,i=(i=i+Math.imul(g,ft)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,ft)|0;var St=(l+(n=n+Math.imul(d,dt)|0)|0)+((8191&(i=(i=i+Math.imul(d,mt)|0)+Math.imul(m,dt)|0))<<13)|0;l=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(F,Y),i=(i=Math.imul(F,Z))+Math.imul(B,Y)|0,o=Math.imul(B,Z),n=n+Math.imul(k,H)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(N,H)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(I,rt)|0,o=o+Math.imul(I,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,at)|0)+Math.imul(j,ot)|0,o=o+Math.imul(j,at)|0,n=n+Math.imul(M,ct)|0,i=(i=i+Math.imul(M,lt)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,lt)|0,n=n+Math.imul(v,ht)|0,i=(i=i+Math.imul(v,ft)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,ft)|0;var jt=(l+(n=n+Math.imul(g,dt)|0)|0)+((8191&(i=(i=i+Math.imul(g,mt)|0)+Math.imul(_,dt)|0))<<13)|0;l=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(jt>>>26)|0,jt&=67108863,n=Math.imul(F,H),i=(i=Math.imul(F,J))+Math.imul(B,H)|0,o=Math.imul(B,J),n=n+Math.imul(k,$)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(T,ot)|0,i=(i=i+Math.imul(T,at)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,at)|0,n=n+Math.imul(S,ct)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(j,ct)|0,o=o+Math.imul(j,lt)|0,n=n+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,ft)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,ft)|0;var Pt=(l+(n=n+Math.imul(v,dt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(O,dt)|0))<<13)|0;l=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(F,$),i=(i=Math.imul(F,tt))+Math.imul(B,$)|0,o=Math.imul(B,tt),n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,at)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,at)|0,n=n+Math.imul(T,ct)|0,i=(i=i+Math.imul(T,lt)|0)+Math.imul(I,ct)|0,o=o+Math.imul(I,lt)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(j,ht)|0,o=o+Math.imul(j,ft)|0;var Tt=(l+(n=n+Math.imul(M,dt)|0)|0)+((8191&(i=(i=i+Math.imul(M,mt)|0)+Math.imul(E,dt)|0))<<13)|0;l=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(F,rt),i=(i=Math.imul(F,nt))+Math.imul(B,rt)|0,o=Math.imul(B,nt),n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,at)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,at)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(C,ct)|0,o=o+Math.imul(C,lt)|0,n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,ft)|0)+Math.imul(I,ht)|0,o=o+Math.imul(I,ft)|0;var It=(l+(n=n+Math.imul(S,dt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(j,dt)|0))<<13)|0;l=((o=o+Math.imul(j,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(F,ot),i=(i=Math.imul(F,at))+Math.imul(B,ot)|0,o=Math.imul(B,at),n=n+Math.imul(k,ct)|0,i=(i=i+Math.imul(k,lt)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,lt)|0,n=n+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(C,ht)|0,o=o+Math.imul(C,ft)|0;var Lt=(l+(n=n+Math.imul(T,dt)|0)|0)+((8191&(i=(i=i+Math.imul(T,mt)|0)+Math.imul(I,dt)|0))<<13)|0;l=((o=o+Math.imul(I,mt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,n=Math.imul(F,ct),i=(i=Math.imul(F,lt))+Math.imul(B,ct)|0,o=Math.imul(B,lt),n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,ft)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,ft)|0;var Rt=(l+(n=n+Math.imul(R,dt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(C,dt)|0))<<13)|0;l=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(F,ht),i=(i=Math.imul(F,ft))+Math.imul(B,ht)|0,o=Math.imul(B,ft);var Ct=(l+(n=n+Math.imul(k,dt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(N,dt)|0))<<13)|0;l=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863;var At=(l+(n=Math.imul(F,dt))|0)+((8191&(i=(i=Math.imul(F,mt))+Math.imul(B,dt)|0))<<13)|0;return l=((o=Math.imul(B,mt))+(i>>>13)|0)+(At>>>26)|0,At&=67108863,c[0]=yt,c[1]=gt,c[2]=_t,c[3]=bt,c[4]=vt,c[5]=Ot,c[6]=wt,c[7]=Mt,c[8]=Et,c[9]=xt,c[10]=St,c[11]=jt,c[12]=Pt,c[13]=Tt,c[14]=It,c[15]=Lt,c[16]=Rt,c[17]=Ct,c[18]=At,0!==l&&(c[19]=l,r.length++),r};function m(t,e,r){return(new y).mulp(t,e,r)}function y(t,e){this.x=t,this.y=e}Math.imul||(d=p),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?d(this,t,e):r<63?p(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,c=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=c;l++){var u=o-l,h=(0|t.words[u])*(0|e.words[l]),f=67108863&h;s=67108863&(f=f+s|0),i+=(a=(a=a+(h/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):m(this,t,e)},y.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},y.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},y.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},y.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),u=0;u<i;u+=s)for(var h=c,f=l,p=0;p<a;p++){var d=r[u+p],m=n[u+p],y=r[u+p+a],g=n[u+p+a],_=h*y-f*g;g=h*g+f*y,y=_,r[u+p]=d+y,n[u+p]=m+g,r[u+p+a]=d-y,n[u+p+a]=m-g,p!==s&&(_=c*h-l*f,f=c*f+l*h,h=_)}},y.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},y.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},y.prototype.convert13b=function(t,e,r,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)r[a]=0;n(0===o),n(0==(-8192&o))},y.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},y.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),c=new Array(n),l=new Array(n),u=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,l,n),this.transform(a,o,s,c,n,i),this.transform(l,o,u,h,n,i);for(var p=0;p<n;p++){var d=s[p]*u[p]-c[p]*h[p];c[p]=s[p]*h[p]+c[p]*u[p],s[p]=d}return this.conjugate(s,c,n),this.transform(s,c,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),m(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,c=(0|this.words[e])-s<<r;this.words[e]=c|a,a=s>>>26-r}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,c=r;if(i-=a,i=Math.max(0,i),c){for(var l=0;l<a;l++)c.words[l]=this.words[l];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=i);l--){var h=0|this.words[l];this.words[l]=u<<26-o|h>>>o,u=h&s}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,a=t.length+r;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+s;var c=(0|t.words[i])*e;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this.strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var s,c=n.length-i.length;if("mod"!==e){(s=new o(null)).length=c+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var u=n.clone()._ishlnsubmul(i,1,c);0===u.negative&&(n=u,s&&(s.words[c]=1));for(var h=c-1;h>=0;h--){var f=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(f=Math.min(f/a|0,67108863),n._ishlnsubmul(i,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);s&&(s.words[h]=f)}return s&&s.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),c=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var u=r.clone(),h=e.clone();!e.isZero();){for(var f=0,p=1;0==(e.words[0]&p)&&f<26;++f,p<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(u),a.isub(h)),i.iushrn(1),a.iushrn(1);for(var d=0,m=1;0==(r.words[0]&m)&&d<26;++d,m<<=1);if(d>0)for(r.iushrn(d);d-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(u),c.isub(h)),s.iushrn(1),c.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(s),a.isub(c)):(r.isub(e),s.isub(i),c.isub(a))}return{a:s,b:c,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),c=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,u=1;0==(e.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(e.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var h=0,f=1;0==(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);e.cmp(r)>=0?(e.isub(r),a.isub(s)):(r.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new M(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function E(t){M.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(b,_),b.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(v,_),i(O,_),i(w,_),w.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new v;else if("p192"===t)e=new O;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new w}return g[t]=e,e},M.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},M.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},M.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},M.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},M.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},M.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},M.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},M.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},M.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},M.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},M.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},M.prototype.isqr=function(t){return this.imul(t,t.clone())},M.prototype.sqr=function(t){return this.mul(t,t)},M.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),c=s.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new o(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var h=this.pow(u,i),f=this.pow(t,i.addn(1).iushrn(1)),p=this.pow(t,i),d=a;0!==p.cmp(s);){for(var m=p,y=0;0!==m.cmp(s);y++)m=m.redSqr();n(y<d);var g=this.pow(h,new o(1).iushln(d-y-1));f=f.redMul(g),h=g.redSqr(),p=p.redMul(h),d=y}return f},M.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},M.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],a=0,s=0,c=e.bitLength()%26;for(0===c&&(c=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],u=c-1;u>=0;u--){var h=l>>u&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===n&&0===u)&&(i=this.mul(i,r[a]),s=0,a=0)):s=0}c=26}return i},M.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},M.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new E(t)},i(E,M),E.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},E.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},E.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},E.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},E.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,r(193)(t))},function(t,e){},function(t,e,r){e.publicEncrypt=r(782),e.privateDecrypt=r(784),e.privateEncrypt=function(t,r){return e.publicEncrypt(t,r,!0)},e.publicDecrypt=function(t,r){return e.privateDecrypt(t,r,!0)}},function(t,e,r){var n=r(356),i=r(252),o=r(308),a=r(521),s=r(522),c=r(451),l=r(523),u=r(442),h=r(48).Buffer;t.exports=function(t,e,r){var f;f=t.padding?t.padding:r?1:4;var p,d=n(t);if(4===f)p=function(t,e){var r=t.modulus.byteLength(),n=e.length,l=o("sha1").update(h.alloc(0)).digest(),u=l.length,f=2*u;if(n>r-f-2)throw new Error("message too long");var p=h.alloc(r-n-f-2),d=r-u-1,m=i(u),y=s(h.concat([l,p,h.alloc(1,1),e],d),a(m,d)),g=s(m,a(y,u));return new c(h.concat([h.alloc(1),g,y],r))}(d,e);else if(1===f)p=function(t,e,r){var n,o=e.length,a=t.modulus.byteLength();if(o>a-11)throw new Error("message too long");n=r?h.alloc(a-o-3,255):function(t){var e,r=h.allocUnsafe(t),n=0,o=i(2*t),a=0;for(;n<t;)a===o.length&&(o=i(2*t),a=0),(e=o[a++])&&(r[n++]=e);return r}(a-o-3);return new c(h.concat([h.from([0,r?1:2]),n,h.alloc(1),e],a))}(d,e,r);else{if(3!==f)throw new Error("unknown padding");if((p=new c(e)).cmp(d.modulus)>=0)throw new Error("data too long for modulus")}return r?u(p,d):l(p,d)}},function(t,e){},function(t,e,r){var n=r(356),i=r(521),o=r(522),a=r(451),s=r(442),c=r(308),l=r(523),u=r(48).Buffer;t.exports=function(t,e,r){var h;h=t.padding?t.padding:r?1:4;var f,p=n(t),d=p.modulus.byteLength();if(e.length>d||new a(e).cmp(p.modulus)>=0)throw new Error("decryption error");f=r?l(new a(e),p):s(e,p);var m=u.alloc(d-f.length);if(f=u.concat([m,f],d),4===h)return function(t,e){var r=t.modulus.byteLength(),n=c("sha1").update(u.alloc(0)).digest(),a=n.length;if(0!==e[0])throw new Error("decryption error");var s=e.slice(1,a+1),l=e.slice(a+1),h=o(s,i(l,a)),f=o(l,i(h,r-a-1));if(function(t,e){t=u.from(t),e=u.from(e);var r=0,n=t.length;t.length!==e.length&&(r++,n=Math.min(t.length,e.length));var i=-1;for(;++i<n;)r+=t[i]^e[i];return r}(n,f.slice(0,a)))throw new Error("decryption error");var p=a;for(;0===f[p];)p++;if(1!==f[p++])throw new Error("decryption error");return f.slice(p)}(p,f);if(1===h)return function(t,e,r){var n=e.slice(0,2),i=2,o=0;for(;0!==e[i++];)if(i>=e.length){o++;break}var a=e.slice(2,i-1);("0002"!==n.toString("hex")&&!r||"0001"!==n.toString("hex")&&r)&&o++;a.length<8&&o++;if(o)throw new Error("decryption error");return e.slice(i)}(0,f,r);if(3===h)return f;throw new Error("unknown padding")}},function(t,e,r){"use strict";(function(t,n){function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=r(48),a=r(252),s=o.Buffer,c=o.kMaxLength,l=t.crypto||t.msCrypto,u=Math.pow(2,32)-1;function h(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>u||t<0)throw new TypeError("offset must be a uint32");if(t>c||t>e)throw new RangeError("offset out of range")}function f(t,e,r){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>u||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>c)throw new RangeError("buffer too small")}function p(t,e,r,i){if(n.browser){var o=t.buffer,s=new Uint8Array(o,e,r);return l.getRandomValues(s),i?void n.nextTick((function(){i(null,t)})):t}if(!i)return a(r).copy(t,e),t;a(r,(function(r,n){if(r)return i(r);n.copy(t,e),i(null,t)}))}l&&l.getRandomValues||!n.browser?(e.randomFill=function(e,r,n,i){if(!(s.isBuffer(e)||e instanceof t.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof r)i=r,r=0,n=e.length;else if("function"==typeof n)i=n,n=e.length-r;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return h(r,e.length),f(n,r,e.length),p(e,r,n,i)},e.randomFillSync=function(e,r,n){void 0===r&&(r=0);if(!(s.isBuffer(e)||e instanceof t.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');h(r,e.length),void 0===n&&(n=e.length-r);return f(n,r,e.length),p(e,r,n)}):(e.randomFill=i,e.randomFillSync=i)}).call(this,r(120),r(121))},function(t,e,r){},function(t,e,r){},function(t,e,r){var n,i;
/*!
 * getSize v2.0.3
 * measure size of elements
 * MIT license
 */window,void 0===(i="function"==typeof(n=function(){"use strict";function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}var e="undefined"==typeof console?function(){}:function(t){console.error(t)},r=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],n=r.length;function i(t){var r=getComputedStyle(t);return r||e("Style returned "+r+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),r}var o,a=!1;function s(e){if(function(){if(!a){a=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var r=document.body||document.documentElement;r.appendChild(e);var n=i(e);o=200==Math.round(t(n.width)),s.isBoxSizeOuter=o,r.removeChild(e)}}(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var c=i(e);if("none"==c.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<n;e++)t[r[e]]=0;return t}();var l={};l.width=e.offsetWidth,l.height=e.offsetHeight;for(var u=l.isBorderBox="border-box"==c.boxSizing,h=0;h<n;h++){var f=r[h],p=c[f],d=parseFloat(p);l[f]=isNaN(d)?0:d}var m=l.paddingLeft+l.paddingRight,y=l.paddingTop+l.paddingBottom,g=l.marginLeft+l.marginRight,_=l.marginTop+l.marginBottom,b=l.borderLeftWidth+l.borderRightWidth,v=l.borderTopWidth+l.borderBottomWidth,O=u&&o,w=t(c.width);!1!==w&&(l.width=w+(O?0:m+b));var M=t(c.height);return!1!==M&&(l.height=M+(O?0:y+v)),l.innerWidth=l.width-(m+b),l.innerHeight=l.height-(y+v),l.outerWidth=l.width+g,l.outerHeight=l.height+_,l}}return s})?n.call(e,r,e,t):n)||(t.exports=i)},function(t,e,r){var n,i;
/*!
 * Unidragger v2.4.0
 * Draggable base class
 * MIT license
 */!function(o,a){n=[r(790)],void 0===(i=function(t){return function(t,e){"use strict";function r(){}var n=r.prototype=Object.create(e.prototype);n.bindHandles=function(){this._bindHandles(!0)},n.unbindHandles=function(){this._bindHandles(!1)},n._bindHandles=function(e){for(var r=(e=void 0===e||e)?"addEventListener":"removeEventListener",n=e?this._touchActionValue:"",i=0;i<this.handles.length;i++){var o=this.handles[i];this._bindStartEvent(o,e),o[r]("click",this),t.PointerEvent&&(o.style.touchAction=n)}},n._touchActionValue="none",n.pointerDown=function(t,e){this.okayPointerDown(t)&&(this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},t.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e]))};var i={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},o={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return n.okayPointerDown=function(t){var e=i[t.target.nodeName],r=o[t.target.type],n=!e||r;return n||this._pointerReset(),n},n.pointerDownBlur=function(){var t=document.activeElement;t&&t.blur&&t!=document.body&&t.blur()},n.pointerMove=function(t,e){var r=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,r]),this._dragMove(t,e,r)},n._dragPointerMove=function(t,e){var r={x:e.pageX-this.pointerDownPointer.pageX,y:e.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(r)&&this._dragStart(t,e),r},n.hasDragStarted=function(t){return Math.abs(t.x)>3||Math.abs(t.y)>3},n.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},n._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},n._dragStart=function(t,e){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(t,e)},n.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},n._dragMove=function(t,e,r){this.isDragging&&this.dragMove(t,e,r)},n.dragMove=function(t,e,r){t.preventDefault(),this.emitEvent("dragMove",[t,e,r])},n._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},n.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},n.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},n._staticClick=function(t,e){this.isIgnoringMouseUp&&"mouseup"==t.type||(this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},n.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},r.getPointerPoint=e.getPointerPoint,r}(o,t)}.apply(e,n))||(t.exports=i)}(window)},function(t,e,r){var n,i;
/*!
 * Unipointer v2.4.0
 * base class for doing one thing with pointer event
 * MIT license
 */!function(o,a){n=[r(791)],void 0===(i=function(t){return function(t,e){"use strict";function r(){}var n=r.prototype=Object.create(e.prototype);n.bindStartEvent=function(t){this._bindStartEvent(t,!0)},n.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},n._bindStartEvent=function(e,r){var n=(r=void 0===r||r)?"addEventListener":"removeEventListener",i="mousedown";"ontouchstart"in t?i="touchstart":t.PointerEvent&&(i="pointerdown"),e[n](i,this)},n.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},n.getTouch=function(t){for(var e=0;e<t.length;e++){var r=t[e];if(r.identifier==this.pointerIdentifier)return r}},n.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},n.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},n.onpointerdown=function(t){this._pointerDown(t,t)},n._pointerDown=function(t,e){t.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},n.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var i={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return n._bindPostStartEvents=function(e){if(e){var r=i[e.type];r.forEach((function(e){t.addEventListener(e,this)}),this),this._boundPointerEvents=r}},n._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach((function(e){t.removeEventListener(e,this)}),this),delete this._boundPointerEvents)},n.onmousemove=function(t){this._pointerMove(t,t)},n.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},n.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},n._pointerMove=function(t,e){this.pointerMove(t,e)},n.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},n.onmouseup=function(t){this._pointerUp(t,t)},n.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},n.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},n._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},n.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},n._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},n._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},n.pointerDone=function(){},n.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},n.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},n._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},n.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},r.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},r}(o,t)}.apply(e,n))||(t.exports=i)}(window)},function(t,e,r){var n,i;"undefined"!=typeof window&&window,void 0===(i="function"==typeof(n=function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var r=this._events=this._events||{},n=r[t]=r[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var r=this._onceEvents=this._onceEvents||{};return(r[t]=r[t]||{})[e]=!0,this}},e.off=function(t,e){var r=this._events&&this._events[t];if(r&&r.length){var n=r.indexOf(e);return-1!=n&&r.splice(n,1),this}},e.emitEvent=function(t,e){var r=this._events&&this._events[t];if(r&&r.length){r=r.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],i=0;i<r.length;i++){var o=r[i];n&&n[o]&&(this.off(t,o),delete n[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t})?n.call(e,r,e,t):n)||(t.exports=i)},function(t,e,r){},function(t,e,r){var n=r(794).newImageData;function i(t){var e=!0;try{new ImageData(10,10)}catch(t){e=!1}function r(t,r,n){return e?new ImageData(t,r,n):{data:t,width:r,height:n}}return function(e){var n,i,o=e.buffers,a=e.meta,s=e.imageOps,c=e.width,l=e.height,u=o.length,h=o[0].byteLength;if(s){var f=new Array(u);for(i=0;i<u;++i)f[i]=r(new Uint8ClampedArray(o[i]),c,l);n=t(f,a).data}else{n=new Uint8ClampedArray(h);var p=new Array(u),d=new Array(u);for(i=0;i<u;++i)p[i]=new Uint8ClampedArray(o[i]),d[i]=[0,0,0,0];for(var m=0;m<h;m+=4){for(var y=0;y<u;++y){var g=p[y];d[y][0]=g[m],d[y][1]=g[m+1],d[y][2]=g[m+2],d[y][3]=g[m+3]}var _=t(d,a);n[m]=_[0],n[m+1]=_[1],n[m+2]=_[2],n[m+3]=_[3]}}return n.buffer}}function o(t,e){var r=Object.keys(t.lib||{}).map((function(e){return"var "+e+" = "+t.lib[e].toString()+";"})).concat(["var __minion__ = ("+i.toString()+")(",t.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),n=new Blob(r,{type:"text/javascript"}),o=URL.createObjectURL(n),a=new Worker(o);return a.addEventListener("message",e),a}function a(t){var e;this._imageOps=!!t.imageOps;var r=[];if(e=0===t.threads?0:this._imageOps?1:t.threads||1)for(var n=0;n<e;++n)r[n]=o(t,this._onWorkerMessage.bind(this,n));else r[0]=function(t,e){var r=i(t.operation);return{postMessage:function(t){setTimeout((function(){e({data:{buffer:r(t),meta:t.meta}})}),0)}}}(t,this._onWorkerMessage.bind(this,0));this._workers=r,this._queue=[],this._maxQueueLength=t.queue||1/0,this._running=0,this._dataLookup={},this._job=null}a.prototype.process=function(t,e,r){this._enqueue({inputs:t,meta:e,callback:r}),this._dispatch()},a.prototype.destroy=function(){for(var t in this)this[t]=null;this._destroyed=!0},a.prototype._enqueue=function(t){for(this._queue.push(t);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,null)},a.prototype._dispatch=function(){if(0===this._running&&this._queue.length>0){var t=this._job=this._queue.shift(),e=t.inputs[0].width,r=t.inputs[0].height,n=t.inputs.map((function(t){return t.data.buffer})),i=this._workers.length;if(this._running=i,1===i)this._workers[0].postMessage({buffers:n,meta:t.meta,imageOps:this._imageOps,width:e,height:r},n);else for(var o=t.inputs[0].data.length,a=4*Math.ceil(o/4/i),s=0;s<i;++s){for(var c=s*a,l=[],u=0,h=n.length;u<h;++u)l.push(n[s].slice(c,c+a));this._workers[s].postMessage({buffers:l,meta:t.meta,imageOps:this._imageOps,width:e,height:r},l)}}},a.prototype._onWorkerMessage=function(t,e){this._destroyed||(this._dataLookup[t]=e.data,--this._running,0===this._running&&this._resolveJob())},a.prototype._resolveJob=function(){var t,e,r=this._job,i=this._workers.length;if(1===i)t=new Uint8ClampedArray(this._dataLookup[0].buffer),e=this._dataLookup[0].meta;else{var o=r.inputs[0].data.length;t=new Uint8ClampedArray(o),e=new Array(o);for(var a=4*Math.ceil(o/4/i),s=0;s<i;++s){var c=this._dataLookup[s].buffer,l=s*a;t.set(new Uint8ClampedArray(c),l),e[s]=this._dataLookup[s].meta}}this._job=null,this._dataLookup={},r.callback(null,n(t,r.inputs[0].width,r.inputs[0].height),e),this._dispatch()},t.exports=a},function(t,e){var r=!0;try{new ImageData(10,10)}catch(t){r=!1}var n=document.createElement("canvas").getContext("2d");e.newImageData=function(t,e,i){if(r)return new ImageData(t,e,i);var o=n.createImageData(e,i);return o.data.set(t),o}},function(t,e,r){"use strict";r.r(e);var n=r(268),i=r(74),o=r(91),a=r(326),s=r(51),c=r(384),l=r(105),u=r(84),h=r(78),f=r(0),p=r(3),d=r(9),m=r(6);function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==y(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===y(o)?o:String(o)),n)}var i,o}function b(t,e){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=w(t);if(e){var i=w(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return O(this,r)}}function O(t,e){if(e&&("object"===y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var M=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(o,t);var e,r,n,i=v(o);function o(){return g(this,o),i.apply(this,arguments)}return e=o,(r=[{key:"addTo",value:function(t){var e=this;Object(f.X)(t)&&Object(p.a)(Object(m.e)("exception").no_map);var r=this.getImpl();Object(f.ab)(r.addTo)&&Object(p.a)(Object(m.e)("exception").addto_method);var n=this.createView(t);n instanceof Promise?n.then((function(n){r.addTo(t,n),e.fire(d.i)})):(r.addTo(t,n),this.fire(d.i))}},{key:"createView",value:function(t){}},{key:"getControls",value:function(){}}])&&_(e.prototype,r),n&&_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(h.a),E=r(75),x=r(411),S=r(69),j=r(205),P=r(306),T=r(224),I=r(327),L=r(299),R=r(302),C=r(220),A=r(300),k=r(330),N=r(301),D=r(366),F=r(367),B=r(286),U=r(138),G=r(248),z=r(180),W=r(422),X=r(322),q=r(410),V=r(22),Y=r(131),Z=r(68),K=r(213),H=r(409),J=r(107),Q=r(23),$=r(216),tt=r(43),et=r(53),rt=r(148),nt=r(25),it=r(44),ot=r(28),at=r(90),st=r(41),ct=r(66),lt=r(126),ut=r(117),ht=r(178);function ft(t){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==ft(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ft(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===ft(o)?o:String(o)),n)}var i,o}function dt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mt(t,e){return(mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=_t(t);if(e){var i=_t(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return gt(this,r)}}function gt(t,e){if(e&&("object"===ft(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _t(t){return(_t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mt(t,e)}(o,t);var e,r,n,i=yt(o);function o(){return dt(this,o),i.apply(this,arguments)}return e=o,r&&pt(e.prototype,r),n&&pt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(ht.a),vt=r(5),Ot=r(36);function wt(t){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Et(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Et(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function St(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==wt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==wt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===wt(o)?o:String(o)),n)}var i,o}function jt(t,e){return(jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=It(t);if(e){var i=It(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Tt(this,r)}}function Tt(t,e){if(e&&("object"===wt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function It(t){return(It=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Lt=function(t){var e=t;if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return i.filter((function(t){return null!=t})).forEach((function(t){return Object.keys(t).forEach((function(r){Object.prototype.hasOwnProperty.call(t,r)&&!Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=t[r])}))})),r},Rt=function(t,e,r,n){var i;return i="0"===(i="function"==typeof t.text?t.text(n,r.data,e):"".concat(vt.a.getValue(t.text,e))||"")?"":i},Ct=function(t,e,r){var n=0,i=null,o=e.variables,a=e.data,s=t.concat(e.data.map((function(s,c){var l=o.length===a.length?o[c]:o[0],u=l.label||{};if(!l.label)return null;var h=Rt(u,r,e,s),p=vt.a.getValue(u.font,r);Object(f.X)(i)?i=t[0].getImage().getImage().height/2-6:i-=15,n=n+9+6;var d=-t[0].getImage().getImage().width/2-(1+e.offsetX)||0;return new ut.a({text:new at.a({text:"string"==typeof h?"".concat(h):"",offsetY:i+e.offsetY||0,offsetX:d,textBaseline:"middle",rotateWithView:!1,textAlign:"center",stroke:u.stroke?new it.a({}):void 0,font:"9px ".concat(p),scale:"number"==typeof u.scale?vt.a.getValue(u.scale,r):void 0,fill:new tt.a({color:e.scheme[c%e.scheme.length]})})})}))),c=s.filter((function(t){return null!=t}));n=Math.max(n,1);var l=-t[0].getImage().getImage().width/2+10+e.offsetX,u=t[0].getImage().getImage().height/2+e.offsetY,h=new ct.a({anchor:[l,u],anchorOrigin:"bottom-right",offsetOrigin:"bottom-left",anchorXUnits:"pixels",anchorYUnits:"pixels",rotateWithView:!1,src:"data:image/svg+xml;base64,".concat(window.btoa('<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(t[0].getImage().getImage().width/2,'" height="').concat(n,'"><rect width="').concat(s[0].getImage().getImage().width/2,'" height="').concat(n,'" fill="rgba(255, 255, 255, 0.75)" stroke-width="0" stroke="rgba(0, 0, 0, 0.34)"/></svg>'))),size:[s[0].getImage().getImage().width/2,n]});return c.push(new st.c({image:h})),c},At=function(t,e,r){var n=0,i=e.data.reduce((function(t,e){return t+e})),o=e.variables,a=e.data;return t.concat(e.data.map((function(t,s){var c=o.length===a.length?o[s]:o[0],l=c.label||{},u=l.radius?l.radius:e.radius,h=(2*n+t)/i*Math.PI-Math.PI/2;if(n+=t,!c.label)return null;var p="number"==typeof l.radiusIncrement?l.radiusIncrement:3,d="function"==typeof l.textAlign?l.textAlign(h):null;Object(f.X)(d)&&(d=l.textAlign||(h<Math.PI/2?"left":"right"));var m=Rt(l,r,e,t),y=vt.a.getValue(l.font,r),g=new tt.a({color:vt.a.getValue(l.fill,r)||"#000"}),_=new it.a({color:vt.a.getValue(l.stroke.color,r)||"#000",width:vt.a.getValue(l.stroke.width,r)||1}),b=Math.cos(h)*(u+p+e.offsetX)||0,v=Math.sin(h)*(u+p+e.offsetY)||0,O=new at.a({text:"string"==typeof m?"".concat(m):"",offsetX:"number"==typeof l.offsetX?vt.a.getValue(l.offsetX,r):b,offsetY:"number"==typeof l.offsetY?vt.a.getValue(l.offsetY,r):v,textAlign:vt.a.getValue(d,r),textBaseline:vt.a.getValue(l.textBaseline,r)||"middle",stroke:l.stroke?_:void 0,font:/^([1-9])[0-9]*px ./.test(y)?y:"12px ".concat(y),scale:"number"==typeof l.scale?vt.a.getValue(l.scale,r):void 0,fill:g});return new ut.a({text:O})}))).filter((function(t){return null!=t}))},kt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jt(t,e)}(o,t);var e,r,n,i=Pt(o);function o(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return xt(this,o),Lt(e,re.DEFAULT),(t=i.call(this,e)).variables_=e.variables||[],t.colorsScheme_=e.scheme||[],t}return e=o,(r=[{key:"updateCanvas",value:function(t){if(!Object(f.X)(t)){var e=t.getContext("2d");this.drawGeometryToCanvas(e)}}},{key:"drawGeometryToCanvas",value:function(t){var e=this,r=t;if(!Object(f.X)(r)&&!Object(f.X)(r.canvas)){var n=o.CANVAS_PROPS.fixedProps,i=o.CANVAS_PROPS.width;r.canvas.setAttribute("width",i),r.width=i;var a=[],s={};Object.keys(o.CANVAS_PROPS.percentages).forEach((function(t){s[t]=i*(o.CANVAS_PROPS.percentages[t]/100)}));var c=[s.left_right_content,n.top_content],l=c[0],u=c[1],h=function(t,i,o){var c=Mt(t,2),l=c[0],u=c[1];u+=n.item_top_margin,a.push(function(t){var e=t.context;e.beginPath(),e.strokeStyle=t.strokeColor,e.lineWidth=t.width,e.fillStyle=t.color,e.rect(t.x,t.y,t.rectSize,t.rectSize),e.closePath(),e.stroke(),e.fill()}.bind(e,{context:r,strokeColor:"#000",width:n.rect_border_width,color:o,x:l,y:u,rectSize:n.rect_size})),l+=s.item_side_margin+n.rect_size;var h=(u+=n.rect_size/1.5)+n.item_top_margin,f=function(t,i,o,s,c){var l=o.split(" "),u="",h=i[0],f=i[1];return a.push(function(t){var e=t.context;e.font="".concat(t.fontSize,"px ").concat(t.fontFamily),e.strokeStyle=t.strokeColor,e.strokeWidth=t.strokeWidth,e.fillStyle=t.textColor}.bind(e,{context:r,fontSize:n.font_size,fontFamily:n.font_family,strokeColor:n.text_stroke_color,strokeWidth:n.text_stroke_width,textColor:n.text_color})),l.forEach((function(t,n){r.measureText("".concat(u+t)).width>s&&n>0?(a.push(function(t,e,r,n){t.strokeText(e,r,n),t.fillText(e,r,n)}.bind(e,r,u,h,f)),u="".concat(t," "),f+=c):u="".concat(u+t," ")})),a.push(function(t,e,r,n){t.strokeText(e,r,n),t.fillText(e,r,n)}.bind(e,r,u,h,f)),[h,f]}(0,[l,u],i,s.max_text_width,s.max_text_line_height);return[f[0],f[1]>h?f[1]:h]};this.variables_.forEach((function(t,r){var n=Object(f.X)(t.legend)?t.attribute:t.legend,i=Object(f.X)(t.fillColor)?e.colorsScheme_[r%e.colorsScheme_.length]||e.colorsScheme_[0]:t.fillColor,o=Mt(h([l,u],n,i),2);l=o[0],u=o[1],l=s.left_right_content})),u+=n.top_content,r.canvas.setAttribute("height",u),r.save(),a.forEach((function(t){return t()})),r.restore()}}},{key:"updateFacadeOptions",value:function(t){var e=this,r=t;r.rotateWithView=!1,this.olStyleFn_=function(t,n){var i=t;i instanceof nt.a||(i=e);var o=e.formatDataRecursively_(r,i),a=[];if(e.variables_.forEach((function(t){var e=i.get(t.attribute);e=parseFloat(e),a=a.concat(e instanceof Array?e:[e]).filter((function(t){return null!=t}))})),0===a.length)throw new Error("cannot draw an empty data chart");o.data=a,Object(f.X)(r.stroke)||(o.stroke=new it.a(r.stroke));var s=[new ut.a({geometry:function(t){var e=Ot.a.getCentroid(t.getGeometry());return new ot.a(e)},image:new ue(o)})];return"bar"!==o.type?1!==r.variables.length&&r.variables.length!==a.length||(s=s.concat(At(s,o,i))):"bar"===o.type&&(s=s.concat(Ct(s,o,i))),function(t,e,r){if(!Object(f.X)(t.label)){var n=new st.c,i=vt.a.getValue(t.label.text,r),o=vt.a.getValue(t.label.align,r),a=vt.a.getValue(t.label.baseline,r),s=t.label.offset?t.label.offset[0]:void 0,c=t.label.offset?t.label.offset[1]:void 0,l=new tt.a({color:vt.a.getValue(t.label.color||"#000000",r)}),u=new at.a({font:vt.a.getValue(t.label.font,r),rotateWithView:vt.a.getValue(t.label.rotate,r),scale:vt.a.getValue(t.label.scale,r),offsetX:vt.a.getValue(s,r),offsetY:vt.a.getValue(c,r),fill:l,textAlign:Object.values(rt).includes(o)?o:"center",textBaseline:Object.values(lt).includes(a)?a:"top",text:void 0===i?void 0:String(i),rotation:vt.a.getValue(t.label.rotation,r)});Object(f.X)(t.label.stroke)||u.setStroke(new it.a({color:vt.a.getValue(t.label.stroke.color,r),width:vt.a.getValue(t.label.stroke.width,r),lineCap:vt.a.getValue(t.label.stroke.linecap,r),lineJoin:vt.a.getValue(t.label.stroke.linejoin,r),lineDash:vt.a.getValue(t.label.stroke.linedash,r),lineDashOffset:vt.a.getValue(t.label.stroke.linedashoffset,r),miterLimit:vt.a.getValue(t.label.stroke.miterlimit,r)})),n.setText(u),e.push(n)}}(o,s,i),s}}},{key:"applyToLayer",value:function(t){t.getFeatures().forEach(this.applyToFeature,this)}},{key:"applyToFeature",value:function(t){t.getImpl().getOLFeature().setStyle(this.olStyleFn_)}},{key:"formatDataRecursively_",value:function(t,e){var r=this;return Object.keys(t).reduce((function(n,i,o){var a=n;return"object"!==wt(n)&&(a={},"object"!==wt(t[n])&&r.setVal(a,t,n,e)),r.setVal(a,t,i),a}))}},{key:"setVal",value:function(t,e,r,n){var i=t;i[r]=vt.a.getValue(e[r],n),!Object(f.Y)(e[r])||e[r]instanceof Array||(i[r]=this.formatDataRecursively_(e[r],n))}}])&&St(e.prototype,r),n&&St(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(bt);kt.CANVAS_PROPS={width:200,percentages:{left_right_content:5,item_side_margin:5,max_text_width:70},fixedProps:{rect_border_width:2,font_size:10,font_family:"sans-serif",text_stroke_color:"#fff",text_stroke_width:1,text_color:"#000",top_content:10,item_top_margin:10,text_line_height:15,rect_size:15}};var Nt=kt,Dt=r(218);function Ft(t){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ut(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==Ft(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ft(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===Ft(o)?o:String(o)),n)}var i,o}var Gt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Bt(this,t),this.attributeName_=e.attribute||null,this.label_=e.label||null,this.fillColor_=e.fill||null,this.legend_=e.legend||null}var e,r,n;return e=t,(r=[{key:"attribute",get:function(){return this.attributeName_},set:function(t){this.attributeName_=t}},{key:"label",get:function(){return this.label_},set:function(t){this.label_=t}},{key:"fillColor",get:function(){return this.fillColor_},set:function(t){this.fillColor_=t}},{key:"legend",get:function(){return this.legend_},set:function(t){this.legend_=t}}])&&Ut(e.prototype,r),n&&Ut(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),zt={DONUT:"donut",PIE_3D:"pie3D",PIE:"pie",BAR:"bar"},Wt={Custom:"m.style.chart.types.custom_scheme",Classic:["#ffa500","blue","red","green","cyan","magenta","yellow","#0f0"],Dark:["#960","#003","#900","#060","#099","#909","#990","#090"],Pale:["#fd0","#369","#f64","#3b7","#880","#b5d","#666"],Pastel:["#fb4","#79c","#f66","#7d7","#acc","#fdd","#ff9","#b9b"],Neon:["#ff0","#0ff","#0f0","#f0f","#f00","#00f"]};function Xt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||Vt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qt(t){return function(t){if(Array.isArray(t))return Yt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Vt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(t,e){if(t){if("string"==typeof t)return Yt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yt(t,e):void 0}}function Yt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zt(t){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ht(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==Zt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Zt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===Zt(o)?o:String(o)),n)}var i,o}function Jt(t,e){return(Jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Qt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=te(t);if(e){var i=te(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return $t(this,r)}}function $t(t,e){if(e&&("object"===Zt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function te(t){return(te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ee=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jt(t,e)}(o,t);var e,r,n,i=Qt(o);function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Kt(this,o);var e=t,r=e.variables||null;if(Object.values(zt).includes(e.type)||(e.type=o.DEFAULT.type),Object(f.X)(r)||(r instanceof Array?e.variables=r.filter((function(t){return null!=t})).map((function(t){return o.formatVariable(t)})):"string"==typeof r||"object"===Zt(r)?e.variables=[o.formatVariable(r)]:e.variables=[]),Object(f.X)(e.scheme))e.scheme=o.DEFAULT.scheme;else if("string"==typeof e.scheme){var n=e.variables.some((function(t){return null!=t.fillColor}));e.scheme===Wt.Custom&&n?e.scheme=e.variables.map((function(t){return t.fillColor?t.fillColor:""})):e.scheme=Wt[e.scheme]||o.DEFAULT.scheme}else e.scheme instanceof Array&&e.scheme.every((function(t){return"string"==typeof t}))||(e.scheme=o.DEFAULT.scheme);var a=new Nt(e);return i.call(this,e,a)}return e=o,n=[{key:"formatVariable",value:function(t){return null==t?null:t instanceof Gt?t:new Gt("string"==typeof t?{attribute:t}:t)}},{key:"deserialize",value:function(t){var e=Xt(t,1)[0],r=e;return r.variables=e.variables.map((function(t){return new Gt(Object(f.k)(t))})),new Function(["options"],"return new M.style.Chart(options)")(r)}}],(r=[{key:"updateCanvas",value:function(){Object(f.X)(this.getImpl())&&Object(f.X)(this.canvas_)||this.getImpl().updateCanvas(this.canvas_)}},{key:"apply",value:function(t){var e=this;this.layer_=t,t.getFeatures().forEach((function(t){return t.setStyle(e.clone())})),this.updateCanvas()}},{key:"ORDER",get:function(){return 1}},{key:"toJSON",value:function(){var t=this.getOptions();return{parameters:[{type:t.type,radius:t.radius,donutRadio:t.donutRadio,offsetX:t.offsetX,offsetY:t.offsetY,stroke:Object(f.X)(t.stroke)?void 0:Object(f.u)({},t.stroke),fill3DColor:t.fill3DColor,scheme:Object(f.R)(t.scheme)?qt(t.scheme):t.scheme,label:Object(f.X)(t.label)?void 0:Object(f.u)({},t.label),rotateWithView:t.rotateWithView,variables:t.variables.map((function(t){var e;return Object(f.X)(t.label)||(e=Object(f.u)({},t.label),e=Object(f.kb)(e)),{attribute:t.attribute,legend:t.legend,fill:t.fillColor,label:e}}))}],deserializedMethod:"M.style.Chart.deserialize"}}}])&&Ht(e.prototype,r),n&&Ht(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(Dt.a);ee.DEFAULT={shadow3dColor:"#369",type:zt.PIE,scheme:Wt.Classic,radius:20,donutRatio:.5,offsetX:0,offsetY:0,animationStep:1};var re=ee;function ne(t){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==ne(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ne(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===ne(o)?o:String(o)),n)}var i,o}function ae(t,e){return(ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function se(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=le(t);if(e){var i=le(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return ce(this,r)}}function ce(t,e){if(e&&("object"===ne(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function le(t){return(le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ue=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ae(t,e)}(o,t);var e,r,n,i=se(o);function o(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ie(this,o);var r=Object(f.X)(e.stroke)?0:e.stroke.getWidth();return t=i.call(this,{radius:("number"==typeof e.radius?e.radius:0)+r,fill:new tt.a({color:[0,0,0]}),rotation:"number"==typeof e.rotation?e.rotation:0,snapToPixel:"boolean"==typeof e.snapToPixel&&e.snapToPixel}),e.scale&&t.setScale(e.scale),t.variables_=e.variables||[],t.stroke_=e.stroke||null,t.radius_=e.radius||0,t.donutRatio_=e.donutRatio||0,t.type_=e.type||null,t.offset_=[e.offsetX?e.offsetX:0,e.offsetY?e.offsetY:0],t.animation_={animate:"number"==typeof e.animation,step:"number"==typeof e.animation?e.animation:re.DEFAULT.animationStep},t.data_=e.data||null,t.colors_=e.scheme instanceof Array?e.scheme:[],t.fill3DColor_=e.fill3DColor||"#000",t.rotateWithView_=e.rotateWithView||!1,t.renderChart_(),t}return e=o,(r=[{key:"clone",value:function(){var t=new o({type:this.type_,radius:this.radius_,colors:this.colors_,rotation:this.getRotation(),scale:this.getScale(),donutRatio:this.donutRatio_,data:this.data_,stroke:this.stroke_,scheme:this.colors_,offsetX:this.offset_[0],offsetY:this.offset_[1],animation:this.animation_,fill3DColor:this.fill3DColor_,rotateWithView:this.rotateWithView_});return t.setScale(this.getScale()),t.setOpacity(this.getOpacity()),t}},{key:"data",get:function(){return this.data_},set:function(t){this.data_=t,this.renderChart_()}},{key:"radius",get:function(){return this.radius_},set:function(t){this.radius_=t,this.renderChart_()}},{key:"setRadius",value:function(t,e){this.donutRatio_=e||this.donutRatio_,this.radius=t}},{key:"setAnimation",value:function(t){if(!1===t){if(!1===this.animation_.animate)return;this.animation_.animate=!1}else{if(this.animation_.step===t)return;this.animation_.animate=!0,this.animation_.step=t}this.renderChart_()}},{key:"getChecksum",value:function(){var t=null!==this.stroke_?this.stroke_.getChecksum():"-";if(null===this.checksums_||t!==this.checksums_[1]||void 0!==this.checksums_[2]||this.radius_!==this.checksums_[3]||this.data_.join("|")!==this.checksums_[4]){var e=this.radius_?this.radius_.toString():"-",r="c".concat(t).concat(void 0).concat(e).concat(this.data_.join("|"));this.checksums_=[r,t,void 0,this.radius_,this.data_.join("|")]}return this.checksums_[0]}},{key:"renderChart_",value:function(t){switch(this.type_){case zt.DONUT:case zt.PIE_3D:case zt.PIE:this.renderCircleChart();break;default:this.renderBarChart()}}},{key:"renderBarChart",value:function(){var t,e=this,r=this.getImage(1),n=r.getContext("2d"),i=0,o=this.animation_.animate?this.animation_.step:1;this.stroke_&&(t=Object(et.b)(this.stroke_.getColor()),i=this.stroke_.getWidth());var a,s=Math.max.apply(null,this.data_)||0,c=Math.min(5,2*this.radius_/this.data_.length),l=r.width-(i||0),u=r.width/2,h=u-this.data_.length*c/2;t&&(n.strokeStyle=t,n.lineWidth=i),this.data_.sort((function(t,e){return t-e})).forEach((function(r,i){n.beginPath(),n.fillStyle=e.colors_[i%e.colors_.length],a=h+c;var u=r/s*2*e.radius_*o;n.rect(h,l-u,c,u),n.closePath(),n.fill(),t&&n.stroke(),h=a}));var f=this.getAnchor();f[0]=u-this.offset_[0],f[1]=u-this.offset_[1]}},{key:"renderCircleChart",value:function(){var t,e=0;this.stroke_&&(t=Object(et.b)(this.stroke_.getColor()),e=this.stroke_.getWidth());var r=this.getImage(1),n=r.getContext("2d");n.clearRect(0,0,r.width,r.height),n.lineJoin="round";var i=0;!Object(f.X)(this.data_)&&this.data_.length>0&&(i=this.data_.reduce((function(t,e){return t+e}))),n.setTransform(1,0,0,1,0,0),n.translate(0,0);var o=this.animation_.animate?this.animation_.step:1,a=Math.PI*(o-1.5),s=r.width/2;t&&(n.strokeStyle=t,n.lineWidth=e),n.save(),this.type_===zt.PIE_3D?this.drawPie3D(n,a,s,o,t,i):this.type_===zt.DONUT?this.drawDonut(n,a,s,o,t,e,i):this.drawPie(n,a,s,o,t,i),n.restore();var c=this.getAnchor();c[0]=s-this.offset_[0],c[1]=s-this.offset_[1]}},{key:"drawDonut",value:function(t,e,r,n,i,o,a){var s=t;s.save(),s.beginPath(),s.rect(0,0,2*r,2*r),s.arc(r,r,this.radius_*n*this.donutRatio_,0,2*Math.PI),s.clip("evenodd");var c=this.drawPie(s,e,r,n,i,a);s.restore(),s.beginPath(),s.strokeStyle=i,s.lineWidth=o;var l=this.radius_;s.arc(r,r,l*n*this.donutRatio_,Math.PI*(n-1.5),c),i&&s.stroke()}},{key:"drawPie3D",value:function(t,e,r,n,i,o){var a=t;a.translate(0,.3*r),a.scale(1,.7),a.beginPath(),a.fillStyle=this.fill3DColor_,a.arc(r,1.4*r,this.radius_*n,0,2*Math.PI),a.fill(),i&&a.stroke(),this.drawPie(t,e,r,n,i,o)}},{key:"drawPie",value:function(t,e,r,n,i,o){var a,s=this,c=e,l=t;return this.data_.forEach((function(t,e){l.beginPath(),l.moveTo(r,r),l.fillStyle=s.colors_[e%s.colors_.length],a=c+2*Math.PI*t/(o*n),l.arc(r,r,s.radius_*n,c,a),l.closePath(),l.fill(),i&&l.stroke(),c=a})),c}}])&&oe(e.prototype,r),n&&oe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}($.a),he=r(199),fe=r(404),pe=r(179),de=r(223),me=r(421),ye=r(328),ge=r(329),_e=r(333),be=r(321),ve=r(331),Oe=r(240),we=r(332),Me=r(294),Ee=r(288),xe=r(122),Se=r(414),je=r(348),Pe=r(214),Te=r(136),Ie=r(182);function Le(t){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==Le(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===Le(o)?o:String(o)),n)}var i,o}var Ae=function(){function t(){Re(this,t),this.parser=new Ie.a,this.capabilities=null}var e,r,n;return e=t,(r=[{key:"read",value:function(t){return this.capabilities=this.parser.read(t),this}},{key:"getMatrixSet",value:function(t,e){for(var r,n=0;n<this.capabilities.Contents.Layer.length&&void 0===r;n+=1){var i=this.capabilities.Contents.Layer[n];i.Identifier===t&&(Object(f.X)(e)||(r=i.TileMatrixSetLink.filter((function(t){return t.contains(e)}))[0]),void 0===r&&(r=i.TileMatrixSetLink[0].TileMatrixSet))}return r}},{key:"getMatrixIds",value:function(t,e){var r=[],n=this.getMatrixSet(t,e),i=this.capabilities.Contents.TileMatrixSet.filter((function(t){return t.Identifier===n}))[0];return null!=i&&i.length>0&&(r=i.TileMatrix.map((function(t){return t.Identifier}))),r}},{key:"getFormat",value:function(t){var e,r=this.capabilities.Contents.Layer.filter((function(e){return e.Identifier===t}))[0];return null!=r&&(e=r.Format[0]),e}},{key:"getOptionsFromCapabilities",value:function(t,e){return Object(Te.b)(this.capabilities,{layer:t,matrixSet:e})}}])&&Ce(e.prototype,r),n&&Ce(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),ke=r(1);function Ne(t){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function De(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==Ne(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ne(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===Ne(o)?o:String(o)),n)}var i,o}var Be=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};De(this,t),this.rootPrefix=null,this.namespaces={ol:"http://openlayers.org/context",wmc:"http://www.opengis.net/context",sld:"http://www.opengis.net/sld",xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema",ogc:"http://www.opengis.net/ogc"},this.options=e}var e,r,n;return e=t,n=[{key:"getChildValue",value:function(t,e){var r=e||"";if(t)for(var n=t.firstChild;n;n=n.nextSibling)switch(n.nodeType){case 3:case 4:r+=n.nodeValue}return r}}],(r=[{key:"read",value:function(t){var e=t;Object(f.Z)(t)&&(e=Object(ke.s)(t)),9!==e.nodeType&&Object(p.a)(Object(m.e)("exception").must_be_document);var r={};return this.readRoot(r,e),r}},{key:"readRoot",value:function(t,e){var r=t,n=e.documentElement;this.rootPrefix=n.prefix,r.version=n.getAttribute("version"),this.runChildNodes(r,n)}},{key:"runChildNodes",value:function(t,e){for(var r,n,i,o,a=e.childNodes,s=0,c=a.length;s<c;s+=1)1===(r=a[s]).nodeType&&(i=this.getNamespacePrefix(r.namespaceURI),o=r.nodeName.split(":").pop(),(n=this["read".concat(i).concat(o)])&&n.apply(this,[t,r]))}},{key:"getNamespacePrefix",value:function(t){var e=null;if(null===t)e=this.namespaces[this.defaultPrefix];else for(var r=Object.keys(this.namespaces),n=0;n<r.length&&(e=r[n],this.namespaces[e]!==t);n+=1);return e}},{key:"getAttributeNS",value:function(t,e,r){var n="";if(t.getAttributeNS)n=t.getAttributeNS(e,r)||"";else{var i=this.getAttributeNodeNS(t,e,r);i&&(n=i.nodeValue)}return n}}])&&Fe(e.prototype,r),n&&Fe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Ue=r(287),Ge=r(408),ze=r(239),We=r(86),Xe=r(58),qe=r(168),Ve=r(4);function Ye(t){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==Ye(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ye(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===Ye(o)?o:String(o)),n)}var i,o}function Ke(t,e){return(Ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function He(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Qe(t);if(e){var i=Qe(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Je(this,r)}}function Je(t,e){if(e&&("object"===Ye(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Qe(t){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $e,tr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ke(t,e)}(o,t);var e,r,n,i=He(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this)).geojsonFormatter_=new xe.a,t.name="drawLayer",t.selectedFeatures_=[],t}return e=o,(r=[{key:"addTo",value:function(t){this.map=t,this.fire(d.i),this.ol3Layer=new We.a({source:new Xe.a({}),style:new st.c({fill:new tt.a({color:"rgba(0, 158, 0, 0.1)"}),stroke:new it.a({color:"#fcfcfc",width:2}),image:new qe.a({radius:7,fill:new tt.a({color:"#009E00"}),stroke:new it.a({color:"#fcfcfc",width:2})})}),zIndex:Q.a.Z_INDEX.WFS+999}),!1!==this.options.visibility&&this.setVisible(this.inRange()),this.map.getMapImpl().addLayer(this.ol3Layer)}},{key:"selectFeatures",value:function(t){this.selectedFeatures_=t,Object(f.U)(this.selectedFeatures_[0].click)&&this.selectedFeatures_[0].click()}},{key:"unselectFeatures",value:function(){this.selectedFeatures_.length>0&&(this.selectedFeatures_.length=0,this.map.removePopup())}},{key:"drawPoints",value:function(t){var e=t;Object(f.X)(e)&&Object(p.a)(Object(m.e)("exception").no_point),Object(f.R)(e)||(e=[e]);var r=this.pointsToGeoJSON_(e);this.drawGeoJSON(r)}},{key:"drawGeoJSON",value:function(t){var e=this,r=t;Object(f.X)(r)&&Object(p.a)(Object(m.e)("exception").no_geojson),Object(f.R)(r)||(r=[r]);var n=Object(Ve.j)(this.map.getProjection().code),i=[];r.forEach((function(t){var r=e.geojsonFormatter_.readFeatures(t,{dataProjection:n});i=i.concat(r)})),this.ol3Layer.getSource().addFeatures(i)}},{key:"drawFeatures",value:function(t){var e=t;Object(f.X)(e)||(Object(f.R)(e)||(e=[e]),this.ol3Layer.getSource().addFeatures(e))}},{key:"removeFeatures",value:function(t){var e=t;if(!Object(f.X)(e)){Object(f.R)(e)||(e=[e]);var r=this.ol3Layer.getSource();e.forEach((function(t){try{r.removeFeature(t)}catch(t){throw t}}))}}},{key:"getPoints",value:function(t){var e=[],r=this.ol3Layer.getSource();return e=Object(f.X)(t)?r.getFeatures():r.getFeaturesAtCoordinate(t),this.featuresToPoints_(e)}},{key:"destroy",value:function(){var t=this.map.getMapImpl();Object(f.X)(this.ol3Layer)||(t.removeLayer(this.ol3Layer),this.ol3Layer=null),this.options=null,this.map=null}},{key:"equals",value:function(t){var e=!1;return t instanceof o&&(e=e&&this.name===t.name),e}},{key:"pointsToGeoJSON_",value:function(t){var e=this,r=Object(Ve.j)(this.map.getProjection().code);return t.map((function(t){var n=t.data,i=new ot.a([t.x,t.y]);return{type:"Feature",geometry:e.geojsonFormatter_.writeGeometryObject(i,{dataProjection:r}),properties:n,click:t.click,showPopup:t.showPopup}}))}},{key:"featuresToPoints_",value:function(t){return[]}}])&&Ze(e.prototype,r),n&&Ze(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(J.a),er=r(342),rr=r(343),nr=r(344),ir=r(52),or=r(33),ar=r(34),sr=r(14),cr=r(15),lr=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function ur(t,e){for(var r=lr.length,n=0;n<r;++n)try{var i=t.getContext(lr[n],e);if(i)return i}catch(t){}return null}var hr=r(19),fr=35044;function pr(t){switch(t){case 34962:return Float32Array;case 34963:return Uint32Array;default:return Float32Array}}var dr=function(){function t(t,e){this.array=null,this.type=t,Object(hr.a)(34962===t||34963===t,62),this.usage=void 0!==e?e:fr}return t.prototype.ofSize=function(t){this.array=new(pr(this.type))(t)},t.prototype.fromArray=function(t){this.array=pr(this.type).from(t)},t.prototype.fromArrayBuffer=function(t){this.array=new(pr(this.type))(t)},t.prototype.getType=function(){return this.type},t.prototype.getArray=function(){return this.array},t.prototype.getUsage=function(){return this.usage},t.prototype.getSize=function(){return this.array?this.array.length:0},t}(),mr=r(10),yr=r(211),gr="webglcontextlost",_r="webglcontextrestored",br=r(18);function vr(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}var Or,wr=function(){function t(t){this.gl_=t.webGlContext;var e=this.gl_;this.scaleRatio_=t.scaleRatio||1,this.renderTargetTexture_=e.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=e.createFramebuffer();var r=e.createShader(e.VERTEX_SHADER);e.shaderSource(r,t.vertexShader||"\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord = a_position * 0.5 + 0.5;\n    v_screenCoord = v_texCoord * u_screenSize;\n    gl_Position = vec4(a_position, 0.0, 1.0);\n  }\n"),e.compileShader(r);var n=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(n,t.fragmentShader||"\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor = texture2D(u_image, v_texCoord);\n  }\n"),e.compileShader(n),this.renderTargetProgram_=e.createProgram(),e.attachShader(this.renderTargetProgram_,r),e.attachShader(this.renderTargetProgram_,n),e.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),e.STATIC_DRAW),this.renderTargetAttribLocation_=e.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=e.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetTextureLocation_=e.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],t.uniforms&&Object.keys(t.uniforms).forEach(function(r){this.uniforms_.push({value:t.uniforms[r],location:e.getUniformLocation(this.renderTargetProgram_,r)})}.bind(this))}return t.prototype.getGL=function(){return this.gl_},t.prototype.init=function(t){var e=this.getGL(),r=[e.drawingBufferWidth*this.scaleRatio_,e.drawingBufferHeight*this.scaleRatio_];if(e.bindFramebuffer(e.FRAMEBUFFER,this.getFrameBuffer()),e.viewport(0,0,r[0],r[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==r[0]||this.renderTargetTextureSize_[1]!==r[1]){this.renderTargetTextureSize_=r;var n=e.RGBA,i=e.RGBA,o=e.UNSIGNED_BYTE;e.bindTexture(e.TEXTURE_2D,this.renderTargetTexture_),e.texImage2D(e.TEXTURE_2D,0,n,r[0],r[1],0,i,o,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.renderTargetTexture_,0)}},t.prototype.apply=function(t,e){var r=this.getGL(),n=t.size;r.bindFramebuffer(r.FRAMEBUFFER,e?e.getFrameBuffer():null),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,this.renderTargetTexture_),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.enable(r.BLEND),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA),r.viewport(0,0,r.drawingBufferWidth,r.drawingBufferHeight),r.bindBuffer(r.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),r.useProgram(this.renderTargetProgram_),r.enableVertexAttribArray(this.renderTargetAttribLocation_),r.vertexAttribPointer(this.renderTargetAttribLocation_,2,r.FLOAT,!1,0,0),r.uniform2f(this.renderTargetUniformLocation_,n[0],n[1]),r.uniform1i(this.renderTargetTextureLocation_,0),this.applyUniforms(t),r.drawArrays(r.TRIANGLES,0,6)},t.prototype.getFrameBuffer=function(){return this.frameBuffer_},t.prototype.applyUniforms=function(t){var e,r=this.getGL(),n=1;this.uniforms_.forEach((function(i){if((e="function"==typeof i.value?i.value(t):i.value)instanceof HTMLCanvasElement||e instanceof ImageData)i.texture||(i.texture=r.createTexture()),r.activeTexture(r["TEXTURE"+n]),r.bindTexture(r.TEXTURE_2D,i.texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),e instanceof ImageData?r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,e.width,e.height,0,r.UNSIGNED_BYTE,new Uint8Array(e.data)):r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e),r.uniform1i(i.location,n++);else if(Array.isArray(e))switch(e.length){case 2:return void r.uniform2f(i.location,e[0],e[1]);case 3:return void r.uniform3f(i.location,e[0],e[1],e[2]);case 4:return void r.uniform4f(i.location,e[0],e[1],e[2],e[3]);default:return}else"number"==typeof e&&r.uniform1f(i.location,e)}))},t}(),Mr=r(13),Er=(Or=function(t,e){return(Or=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}Or(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),xr="u_projectionMatrix",Sr="u_offsetScaleMatrix",jr="u_offsetRotateMatrix",Pr="u_time",Tr="u_zoom",Ir="u_resolution",Lr={UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_INT:5125,FLOAT:5126};function Rr(t){for(var e=0,r=0;r<t.length;r++){var n=t[r];e+=n.size*Cr(n.type)}return e}function Cr(t){switch(t){case Lr.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case Lr.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case Lr.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case Lr.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}var Ar=function(t){function e(e){var r=t.call(this)||this,n=e||{};r.boundHandleWebGLContextLost_=r.handleWebGLContextLost.bind(r),r.boundHandleWebGLContextRestored_=r.handleWebGLContextRestored.bind(r),r.canvas_=document.createElement("canvas"),r.canvas_.style.position="absolute",r.canvas_.style.left="0",r.gl_=ur(r.canvas_);var i=r.getGL();if(r.bufferCache_={},r.currentProgram_=null,Object(hr.a)(Object(Mr.f)(function(){if(!$e){var t=ur(document.createElement("canvas"));t&&($e=t.getSupportedExtensions())}return $e}(),"OES_element_index_uint"),63),i.getExtension("OES_element_index_uint"),r.canvas_.addEventListener(gr,r.boundHandleWebGLContextLost_),r.canvas_.addEventListener(_r,r.boundHandleWebGLContextRestored_),r.offsetRotateMatrix_=Object(br.d)(),r.offsetScaleMatrix_=Object(br.d)(),r.tmpMat4_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],r.uniformLocations_={},r.attribLocations_={},r.uniforms_=[],n.uniforms)for(var o in n.uniforms)r.uniforms_.push({name:o,value:n.uniforms[o]});return r.postProcessPasses_=n.postProcesses?n.postProcesses.map((function(t){return new wr({webGlContext:i,scaleRatio:t.scaleRatio,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,uniforms:t.uniforms})})):[new wr({webGlContext:i})],r.shaderCompileErrors_=null,r.startTime_=Date.now(),r}return Er(e,t),e.prototype.bindBuffer=function(t){var e=this.getGL(),r=Object(mr.c)(t),n=this.bufferCache_[r];n||(n={buffer:t,webGlBuffer:e.createBuffer()},this.bufferCache_[r]=n);e.bindBuffer(t.getType(),n.webGlBuffer)},e.prototype.flushBufferData=function(t){var e=this.getGL();this.bindBuffer(t),e.bufferData(t.getType(),t.getArray(),t.getUsage())},e.prototype.deleteBuffer=function(t){var e=this.getGL(),r=Object(mr.c)(t),n=this.bufferCache_[r];e.isContextLost()||e.deleteBuffer(n.buffer),delete this.bufferCache_[r]},e.prototype.disposeInternal=function(){this.canvas_.removeEventListener(gr,this.boundHandleWebGLContextLost_),this.canvas_.removeEventListener(_r,this.boundHandleWebGLContextRestored_)},e.prototype.prepareDraw=function(t){var e=this.getGL(),r=this.getCanvas(),n=t.size,i=t.pixelRatio;r.width=n[0]*i,r.height=n[1]*i,r.style.width=n[0]+"px",r.style.height=n[1]+"px",e.useProgram(this.currentProgram_);for(var o=this.postProcessPasses_.length-1;o>=0;o--)this.postProcessPasses_[o].init(t);e.bindTexture(e.TEXTURE_2D,null),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),e.useProgram(this.currentProgram_),this.applyFrameState(t),this.applyUniforms(t)},e.prototype.prepareDrawToRenderTarget=function(t,e,r){var n=this.getGL(),i=e.getSize();n.bindFramebuffer(n.FRAMEBUFFER,e.getFramebuffer()),n.viewport(0,0,i[0],i[1]),n.bindTexture(n.TEXTURE_2D,e.getTexture()),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.enable(n.BLEND),n.blendFunc(n.ONE,r?n.ZERO:n.ONE_MINUS_SRC_ALPHA),n.useProgram(this.currentProgram_),this.applyFrameState(t),this.applyUniforms(t)},e.prototype.drawElements=function(t,e){var r=this.getGL(),n=r.UNSIGNED_INT,i=e-t,o=4*t;r.drawElements(r.TRIANGLES,i,n,o)},e.prototype.finalizeDraw=function(t){for(var e=0;e<this.postProcessPasses_.length;e++)this.postProcessPasses_[e].apply(t,this.postProcessPasses_[e+1]||null)},e.prototype.getCanvas=function(){return this.canvas_},e.prototype.getGL=function(){return this.gl_},e.prototype.applyFrameState=function(t){var e=t.size,r=t.viewState.rotation,n=Object(br.h)(this.offsetScaleMatrix_);Object(br.j)(n,2/e[0],2/e[1]);var i=Object(br.h)(this.offsetRotateMatrix_);0!==r&&Object(br.i)(i,-r),this.setUniformMatrixValue(Sr,vr(this.tmpMat4_,n)),this.setUniformMatrixValue(jr,vr(this.tmpMat4_,i)),this.setUniformFloatValue(Pr,.001*(Date.now()-this.startTime_)),this.setUniformFloatValue(Tr,t.viewState.zoom),this.setUniformFloatValue(Ir,t.viewState.resolution)},e.prototype.applyUniforms=function(t){var e,r=this.getGL(),n=0;this.uniforms_.forEach(function(i){if((e="function"==typeof i.value?i.value(t):i.value)instanceof HTMLCanvasElement||e instanceof HTMLImageElement||e instanceof ImageData)i.texture||(i.prevValue=void 0,i.texture=r.createTexture()),r.activeTexture(r["TEXTURE"+n]),r.bindTexture(r.TEXTURE_2D,i.texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),(!(e instanceof HTMLImageElement)||e.complete)&&i.prevValue!==e&&(i.prevValue=e,r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e)),r.uniform1i(this.getUniformLocation(i.name),n++);else if(Array.isArray(e)&&6===e.length)this.setUniformMatrixValue(i.name,vr(this.tmpMat4_,e));else if(Array.isArray(e)&&e.length<=4)switch(e.length){case 2:return void r.uniform2f(this.getUniformLocation(i.name),e[0],e[1]);case 3:return void r.uniform3f(this.getUniformLocation(i.name),e[0],e[1],e[2]);case 4:return void r.uniform4f(this.getUniformLocation(i.name),e[0],e[1],e[2],e[3]);default:return}else"number"==typeof e&&r.uniform1f(this.getUniformLocation(i.name),e)}.bind(this))},e.prototype.useProgram=function(t){return t!=this.currentProgram_&&(this.getGL().useProgram(t),this.currentProgram_=t,this.uniformLocations_={},this.attribLocations_={},!0)},e.prototype.compileShader=function(t,e){var r=this.getGL(),n=r.createShader(e);return r.shaderSource(n,t),r.compileShader(n),n},e.prototype.getProgram=function(t,e){var r=this.getGL(),n=this.compileShader(t,r.FRAGMENT_SHADER),i=this.compileShader(e,r.VERTEX_SHADER);this.shaderCompileErrors_=null,r.getShaderInfoLog(n)&&(this.shaderCompileErrors_="Fragment shader compilation failed:\n"+r.getShaderInfoLog(n)),r.getShaderInfoLog(i)&&(this.shaderCompileErrors_=(this.shaderCompileErrors_||"")+"Vertex shader compilation failed:\n"+r.getShaderInfoLog(i));var o=r.createProgram();return r.attachShader(o,n),r.attachShader(o,i),r.linkProgram(o),o},e.prototype.getShaderCompileErrors=function(){return this.shaderCompileErrors_},e.prototype.getUniformLocation=function(t){return void 0===this.uniformLocations_[t]&&(this.uniformLocations_[t]=this.getGL().getUniformLocation(this.currentProgram_,t)),this.uniformLocations_[t]},e.prototype.getAttributeLocation=function(t){return void 0===this.attribLocations_[t]&&(this.attribLocations_[t]=this.getGL().getAttribLocation(this.currentProgram_,t)),this.attribLocations_[t]},e.prototype.makeProjectionTransform=function(t,e){var r=t.size,n=t.viewState.rotation,i=t.viewState.resolution,o=t.viewState.center;return Object(br.h)(e),Object(br.b)(e,0,0,2/(i*r[0]),2/(i*r[1]),-n,-o[0],-o[1]),e},e.prototype.setUniformFloatValue=function(t,e){this.getGL().uniform1f(this.getUniformLocation(t),e)},e.prototype.setUniformMatrixValue=function(t,e){this.getGL().uniformMatrix4fv(this.getUniformLocation(t),!1,e)},e.prototype.enableAttributeArray_=function(t,e,r,n,i){var o=this.getAttributeLocation(t);o<0||(this.getGL().enableVertexAttribArray(o),this.getGL().vertexAttribPointer(o,e,r,!1,n,i))},e.prototype.enableAttributes=function(t){for(var e=Rr(t),r=0,n=0;n<t.length;n++){var i=t[n];this.enableAttributeArray_(i.name,i.size,i.type||5126,e,r),r+=i.size*Cr(i.type)}},e.prototype.handleWebGLContextLost=function(){Object(cr.b)(this.bufferCache_),this.currentProgram_=null},e.prototype.handleWebGLContextRestored=function(){},e.prototype.createTexture=function(t,e,r){var n=this.getGL(),i=r||n.createTexture(),o=n.RGBA,a=n.RGBA,s=n.UNSIGNED_BYTE;return n.bindTexture(n.TEXTURE_2D,i),e?n.texImage2D(n.TEXTURE_2D,0,o,a,s,e):n.texImage2D(n.TEXTURE_2D,0,o,t[0],t[1],0,a,s,null),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),i},e}(yr.a),kr=r(8),Nr=r(376),Dr=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fr="GENERATE_BUFFERS",Br=function(t){function e(e,r){var n=t.call(this,e)||this,i=r||{};return n.helper=new Ar({postProcesses:i.postProcesses,uniforms:i.uniforms}),n}return Dr(e,t),e.prototype.disposeInternal=function(){this.helper.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getShaderCompileErrors=function(){return this.helper.getShaderCompileErrors()},e}(Nr.a);function Ur(t,e){var r=e||[];return r[0]=Math.floor(t/256/256/256)/255,r[1]=Math.floor(t/256/256)%256/255,r[2]=Math.floor(t/256)%256/255,r[3]=t%256/255,r}var Gr=Br,zr=r(57),Wr=r(2),Xr=new Blob(['var e="function"==typeof Object.assign?Object.assign:function(e,n){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1,o=arguments.length;r<o;++r){var i=arguments[r];if(null!=i)for(var f in i)i.hasOwnProperty(f)&&(t[f]=i[f])}return t},n="GENERATE_BUFFERS",t=[],r={vertexPosition:0,indexPosition:0};function o(e,n,t,r,o){e[n+0]=t,e[n+1]=r,e[n+2]=o}function i(e,n,i,f,s,u){var a=3+s,l=e[n+0],v=e[n+1],c=t;c.length=s;for(var g=0;g<c.length;g++)c[g]=e[n+2+g];var b=u?u.vertexPosition:0,h=u?u.indexPosition:0,d=b/a;return o(i,b,l,v,0),c.length&&i.set(c,b+3),o(i,b+=a,l,v,1),c.length&&i.set(c,b+3),o(i,b+=a,l,v,2),c.length&&i.set(c,b+3),o(i,b+=a,l,v,3),c.length&&i.set(c,b+3),b+=a,f[h++]=d,f[h++]=d+1,f[h++]=d+3,f[h++]=d+1,f[h++]=d+2,f[h++]=d+3,r.vertexPosition=b,r.indexPosition=h,r}var f=self;f.onmessage=function(t){var r=t.data;if(r.type===n){for(var o=r.customAttributesCount,s=2+o,u=new Float32Array(r.renderInstructions),a=u.length/s,l=4*a*(o+3),v=new Uint32Array(6*a),c=new Float32Array(l),g=null,b=0;b<u.length;b+=s)g=i(u,b,c,v,o,g);var h=e({vertexBuffer:c.buffer,indexBuffer:v.buffer,renderInstructions:u.buffer},r);f.postMessage(h,[c.buffer,v.buffer,u.buffer])}};'],{type:"application/javascript"}),qr=URL.createObjectURL(Xr);var Vr=new Uint8Array(4),Yr=function(){function t(t,e){this.helper_=t;var r=t.getGL();this.texture_=r.createTexture(),this.framebuffer_=r.createFramebuffer(),this.size_=e||[1,1],this.data_=new Uint8Array(0),this.dataCacheDirty_=!0,this.updateSize_()}return t.prototype.setSize=function(t){Object(Mr.b)(t,this.size_)||(this.size_[0]=t[0],this.size_[1]=t[1],this.updateSize_())},t.prototype.getSize=function(){return this.size_},t.prototype.clearCachedData=function(){this.dataCacheDirty_=!0},t.prototype.readAll=function(){if(this.dataCacheDirty_){var t=this.size_,e=this.helper_.getGL();e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer_),e.readPixels(0,0,t[0],t[1],e.RGBA,e.UNSIGNED_BYTE,this.data_),this.dataCacheDirty_=!1}return this.data_},t.prototype.readPixel=function(t,e){if(t<0||e<0||t>this.size_[0]||e>=this.size_[1])return Vr[0]=0,Vr[1]=0,Vr[2]=0,Vr[3]=0,Vr;this.readAll();var r=Math.floor(t)+(this.size_[1]-Math.floor(e)-1)*this.size_[0];return Vr[0]=this.data_[4*r],Vr[1]=this.data_[4*r+1],Vr[2]=this.data_[4*r+2],Vr[3]=this.data_[4*r+3],Vr},t.prototype.getTexture=function(){return this.texture_},t.prototype.getFramebuffer=function(){return this.framebuffer_},t.prototype.updateSize_=function(){var t=this.size_,e=this.helper_.getGL();this.texture_=this.helper_.createTexture(t,null,this.texture_),e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer_),e.viewport(0,0,t[0],t[1]),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture_,0),this.data_=new Uint8Array(t[0]*t[1]*4)},t}(),Zr=r(177),Kr=r(17),Hr=r(104),Jr=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qr=function(t){function e(e,r){var n=this,i=r.uniforms||{},o=Object(br.d)();i[xr]=o,(n=t.call(this,e,{uniforms:i,postProcesses:r.postProcesses})||this).sourceRevision_=-1,n.verticesBuffer_=new dr(34962,35048),n.hitVerticesBuffer_=new dr(34962,35048),n.indicesBuffer_=new dr(34963,35048),n.program_=n.helper.getProgram(r.fragmentShader,r.vertexShader),n.hitDetectionEnabled_=!(!r.hitFragmentShader||!r.hitVertexShader),n.hitProgram_=n.hitDetectionEnabled_&&n.helper.getProgram(r.hitFragmentShader,r.hitVertexShader);var a=r.attributes?r.attributes.map((function(t){return{name:"a_"+t.name,size:1,type:Lr.FLOAT}})):[];n.attributes=[{name:"a_position",size:2,type:Lr.FLOAT},{name:"a_index",size:1,type:Lr.FLOAT}].concat(a),n.hitDetectionAttributes=[{name:"a_position",size:2,type:Lr.FLOAT},{name:"a_index",size:1,type:Lr.FLOAT},{name:"a_hitColor",size:4,type:Lr.FLOAT},{name:"a_featureUid",size:1,type:Lr.FLOAT}].concat(a),n.customAttributes=r.attributes?r.attributes:[],n.previousExtent_=Object(Wr.k)(),n.currentTransform_=o,n.renderTransform_=Object(br.d)(),n.invertRenderTransform_=Object(br.d)(),n.renderInstructions_=new Float32Array(0),n.hitRenderInstructions_=new Float32Array(0),n.hitRenderTarget_=n.hitDetectionEnabled_&&new Yr(n.helper),n.worker_=new Worker(qr),n.worker_.addEventListener("message",function(t){var e=t.data;if(e.type===Fr){var r=e.projectionTransform;e.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(e.vertexBuffer),this.helper.flushBufferData(this.hitVerticesBuffer_)):(this.verticesBuffer_.fromArrayBuffer(e.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_)),this.indicesBuffer_.fromArrayBuffer(e.indexBuffer),this.helper.flushBufferData(this.indicesBuffer_),this.renderTransform_=r,Object(br.e)(this.invertRenderTransform_,this.renderTransform_),e.hitDetection?this.hitRenderInstructions_=new Float32Array(t.data.renderInstructions):this.renderInstructions_=new Float32Array(t.data.renderInstructions),this.getLayer().changed()}}.bind(n)),n.featureCache_={},n.featureCount_=0;var s=n.getLayer().getSource();return n.sourceListenKeys_=[Object(Kr.a)(s,Hr.a.ADDFEATURE,n.handleSourceFeatureAdded_,n),Object(Kr.a)(s,Hr.a.CHANGEFEATURE,n.handleSourceFeatureChanged_,n),Object(Kr.a)(s,Hr.a.REMOVEFEATURE,n.handleSourceFeatureDelete_,n),Object(Kr.a)(s,Hr.a.CLEAR,n.handleSourceFeatureClear_,n)],s.forEachFeature(function(t){this.featureCache_[Object(mr.c)(t)]={feature:t,properties:t.getProperties(),geometry:t.getGeometry()},this.featureCount_++}.bind(n)),n}return Jr(e,t),e.prototype.handleSourceFeatureAdded_=function(t){var e=t.feature;this.featureCache_[Object(mr.c)(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()},this.featureCount_++},e.prototype.handleSourceFeatureChanged_=function(t){var e=t.feature;this.featureCache_[Object(mr.c)(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()}},e.prototype.handleSourceFeatureDelete_=function(t){var e=t.feature;delete this.featureCache_[Object(mr.c)(e)],this.featureCount_--},e.prototype.handleSourceFeatureClear_=function(){this.featureCache_={},this.featureCount_=0},e.prototype.renderFrame=function(t){var e=this.indicesBuffer_.getSize();this.helper.drawElements(0,e),this.helper.finalizeDraw(t);var r=this.helper.getCanvas(),n=t.layerStatesArray[t.layerIndex].opacity;return n!==parseFloat(r.style.opacity)&&(r.style.opacity=n),this.hitDetectionEnabled_&&(this.renderHitDetection(t),this.hitRenderTarget_.clearCachedData()),r},e.prototype.prepareFrame=function(t){var e=this.getLayer(),r=e.getSource(),n=t.viewState,i=!t.viewHints[zr.a.ANIMATING]&&!t.viewHints[zr.a.INTERACTING],o=!Object(Wr.q)(this.previousExtent_,t.extent),a=this.sourceRevision_<r.getRevision();if(a&&(this.sourceRevision_=r.getRevision()),i&&(o||a)){var s=n.projection,c=n.resolution,l=e instanceof Zr.a?e.getRenderBuffer():0,u=Object(Wr.d)(t.extent,l*c);r.loadFeatures(u,c,s),this.rebuildBuffers_(t),this.previousExtent_=t.extent.slice()}return this.helper.makeProjectionTransform(t,this.currentTransform_),Object(br.g)(this.currentTransform_,this.invertRenderTransform_),this.helper.useProgram(this.program_),this.helper.prepareDraw(t),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes),!0},e.prototype.rebuildBuffers_=function(t){var e=Object(br.d)();this.helper.makeProjectionTransform(t,e);var r,n,i=(2+this.customAttributes.length)*this.featureCount_;if(this.renderInstructions_&&this.renderInstructions_.length===i||(this.renderInstructions_=new Float32Array(i)),this.hitDetectionEnabled_){var o=(7+this.customAttributes.length)*this.featureCount_;this.hitRenderInstructions_&&this.hitRenderInstructions_.length===o||(this.hitRenderInstructions_=new Float32Array(o))}var a,s=[],c=[],l=0,u=0;for(var h in this.featureCache_)if((n=(r=this.featureCache_[h]).geometry)&&n.getType()===kr.a.POINT){s[0]=n.getFlatCoordinates()[0],s[1]=n.getFlatCoordinates()[1],Object(br.a)(e,s),a=Ur(u+6,c),this.renderInstructions_[l++]=s[0],this.renderInstructions_[l++]=s[1],this.hitDetectionEnabled_&&(this.hitRenderInstructions_[u++]=s[0],this.hitRenderInstructions_[u++]=s[1],this.hitRenderInstructions_[u++]=a[0],this.hitRenderInstructions_[u++]=a[1],this.hitRenderInstructions_[u++]=a[2],this.hitRenderInstructions_[u++]=a[3],this.hitRenderInstructions_[u++]=Number(h));for(var f=void 0,p=0;p<this.customAttributes.length;p++)f=this.customAttributes[p].callback(r.feature,r.properties),this.renderInstructions_[l++]=f,this.hitDetectionEnabled_&&(this.hitRenderInstructions_[u++]=f)}var d={type:Fr,renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};if(d.projectionTransform=e,this.worker_.postMessage(d,[this.renderInstructions_.buffer]),this.renderInstructions_=null,this.hitDetectionEnabled_){var m={type:Fr,renderInstructions:this.hitRenderInstructions_.buffer,customAttributesCount:5+this.customAttributes.length};m.projectionTransform=e,m.hitDetection=!0,this.worker_.postMessage(m,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null}},e.prototype.forEachFeatureAtCoordinate=function(t,e,r,n,i){if(Object(hr.a)(this.hitDetectionEnabled_,66),this.hitRenderInstructions_){var o=Object(br.a)(e.coordinateToPixelTransform,t.slice()),a=this.hitRenderTarget_.readPixel(o[0]/2,o[1]/2),s=function(t){var e=0;return e+=Math.round(256*t[0]*256*256*255),e+=Math.round(256*t[1]*256*255),e+=Math.round(256*t[2]*255),e+=Math.round(255*t[3])}([a[0]/255,a[1]/255,a[2]/255,a[3]/255]),c=this.hitRenderInstructions_[s],l=Math.floor(c).toString(),u=this.getLayer().getSource().getFeatureByUid(l);return u?n(u,this.getLayer()):void 0}},e.prototype.renderHitDetection=function(t){if(this.hitVerticesBuffer_.getSize()){this.hitRenderTarget_.setSize([Math.floor(t.size[0]/2),Math.floor(t.size[1]/2)]),this.helper.useProgram(this.hitProgram_),this.helper.prepareDrawToRenderTarget(t,this.hitRenderTarget_,!0),this.helper.bindBuffer(this.hitVerticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.hitDetectionAttributes);var e=this.indicesBuffer_.getSize();this.helper.drawElements(0,e)}},e.prototype.disposeInternal=function(){this.worker_.terminate(),this.layer_=null,this.sourceListenKeys_.forEach((function(t){Object(Kr.c)(t)})),this.sourceListenKeys_=null,t.prototype.disposeInternal.call(this)},e}(Gr),$r=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),tn="blur",en="gradient",rn="radius",nn=["#00f","#0ff","#0f0","#ff0","#f00"];var on=function(t){function e(e){var r=this,n=e||{},i=Object(cr.a)({},n);delete i.gradient,delete i.radius,delete i.blur,delete i.weight,(r=t.call(this,i)||this).gradient_=null,r.addEventListener(Object(or.b)(en),r.handleGradientChanged_),r.setGradient(n.gradient?n.gradient:nn),r.setBlur(void 0!==n.blur?n.blur:15),r.setRadius(void 0!==n.radius?n.radius:8);var o=n.weight?n.weight:"weight";return r.weightFunction_="string"==typeof o?function(t){return t.get(o)}:o,r.setRenderOrder(null),r}return $r(e,t),e.prototype.getBlur=function(){return this.get(tn)},e.prototype.getGradient=function(){return this.get(en)},e.prototype.getRadius=function(){return this.get(rn)},e.prototype.handleGradientChanged_=function(){this.gradient_=function(t){for(var e=Object(ar.a)(1,256),r=e.createLinearGradient(0,0,1,256),n=1/(t.length-1),i=0,o=t.length;i<o;++i)r.addColorStop(i*n,t[i]);return e.fillStyle=r,e.fillRect(0,0,1,256),e.canvas}(this.getGradient())},e.prototype.setBlur=function(t){this.set(tn,t)},e.prototype.setGradient=function(t){this.set(en,t)},e.prototype.setRadius=function(t){this.set(rn,t)},e.prototype.createRenderer=function(){return new Qr(this,{attributes:[{name:"weight",callback:function(t){var e=this.weightFunction_(t);return void 0!==e?Object(sr.a)(e,0,1):1}.bind(this)}],vertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_weight = a_weight;\n        }",fragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          gl_FragColor = vec4(alpha, alpha, alpha, alpha);\n        }",hitVertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n        attribute vec4 a_hitColor;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_hitColor = a_hitColor;\n          v_weight = a_weight;\n        }",hitFragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          if (alpha < 0.05) {\n            discard;\n          }\n\n          gl_FragColor = v_hitColor;\n        }",uniforms:{u_size:function(){return 2*(this.get(rn)+this.get(tn))}.bind(this),u_blurSlope:function(){return this.get(rn)/Math.max(1,this.get(tn))}.bind(this)},postProcesses:[{fragmentShader:"\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color = texture2D(u_image, v_texCoord);\n              gl_FragColor.a = color.a;\n              gl_FragColor.rgb = texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *= gl_FragColor.a;\n            }",uniforms:{u_gradientTexture:function(){return this.gradient_}.bind(this)}}]})},e}(We.a);function an(t){return(an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==an(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==an(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===an(o)?o:String(o)),n)}var i,o}function ln(t,e){return(ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function un(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=fn(t);if(e){var i=fn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return hn(this,r)}}function hn(t,e){if(e&&("object"===an(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function fn(t){return(fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var pn,dn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ln(t,e)}(a,t);var e,r,n,i=un(a);function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};sn(this,a),t=i.call(this,e);var r,n=e.weight?e.weight:"weight";if("string"==typeof n){var s=1,c=t.getWeights(e);c.length>0?(s=c.reduce((function(t,e){return Math.max(t,e)})),t.maxWeight_=s,t.minWeight_=c.reduce((function(t,e){return Math.min(t,e)})),r=function(t){var e;return t instanceof nt.a?e=t.get(n):t instanceof o.a&&(e=t.getAttribute(n)),parseFloat(e/s)}):e.weight&&ir.info(Object(m.e)("heatmap").features,Object(m.e)("heatmap").name)}else r=n;return t.setStyle((function(e,n){var i=vt.a.getValue(r,e),o=void 0!==i?Object(sr.a)(i,0,1):1,a=255*o||0,s=t.styleCache_[a];return s||(s=[new st.c({image:new ct.a({opacity:o,src:t.circleImage_})})],t.styleCache_[a]=s),s})),t}return e=a,(r=[{key:"getMinWeight",value:function(){return this.minWeight_}},{key:"getMaxWeight",value:function(){return this.maxWeight_}},{key:"getWeights",value:function(t){var e=[],r=this.getSource();if(null!==r){var n=r.getFeatures();n.length>0&&(e=n.map((function(e){return e.get(t.weight)})).filter((function(t){return null!=t})))}return e}}])&&cn(e.prototype,r),n&&cn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(on),mn=r(336),yn=r(345),gn=r(346),_n=r(340),bn=r(341),vn=r(347),On=r(335),wn=r(99),Mn=r(337),En=r(323),xn=r(334),Sn=r(241),jn=r(206),Pn=r(420),Tn=r(413),In=r(289),Ln=r(30),Rn=r(134),Cn=r(54),An=r(62),kn=r(59),Nn=r(26),Dn=r(135),Fn=void 0,Bn=function(t,e){var r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n)},Un=function(t,e){return t[0]===e[0]&&t[1]===e[1]};!function(){function t(t,e){for(var r,n=t.length-1;n>0;n-=1)(t[n][0]>e&&t[n-1][0]<e||t[n][0]<e&&t[n-1][0]>e)&&(r=[e,(e-t[n][0])/(t[n-1][0]-t[n][0])*(t[n-1][1]-t[n][1])+t[n][1]],t.splice(n,0,r))}function e(t,e){for(var r,n=t.length-1;n>0;n-=1)(t[n][1]>e&&t[n-1][1]<e||t[n][1]<e&&t[n-1][1]>e)&&(r=[(e-t[n][1])/(t[n-1][1]-t[n][1])*(t[n-1][0]-t[n][0])+t[n][0],e],t.splice(n,0,r))}pn=function(r,n){var i="Polygon"===n.getType();if(!i&&"MultiPolygon"!==n.getType())return null;var o=n.getCoordinates();return i&&(o=[o]),o.forEach((function(n){n.forEach((function(n){t(n,r[0]),t(n,r[2]),e(n,r[1]),e(n,r[3])}))})),o.forEach((function(t){t.forEach((function(t){t.forEach((function(t){var e=t;e[0]<r[0]?e[0]=r[0]:e[0]>r[2]&&(e[0]=r[2]),e[1]<r[1]?e[1]=r[1]:e[1]>r[3]&&(e[1]=r[3])}))}))})),i?new Nn.b(o[0]):new kn.a(o)}}();var Gn=function(t,e,r,n){var i=[];!1!==n&&i.push(t);var o=Bn(t,e);if(o){var a=Math.round(o/r);if(a>1)for(var s=(e[0]-t[0])/a,c=(e[1]-t[1])/a,l=1;l<a;l+=1)i.push([t[0]+s*l,t[1]+c*l])}return i.push(e),i};Ln.a.prototype.sampleAt=function(t){for(var e=Fn.getCoordinates(),r=[],n=1;n<e.length;n+=1)r=r.concat(Gn(e[n-1],e[n],t,1===n));return new Ln.a(r)},Cn.a.prototype.sampleAt=function(t){var e=Fn.getCoordinates(),r=[];return e.forEach((function(e){for(var n=[],i=1;i<e.length;i+=1)n=n.concat(Gn(e[i-1],e[i],t,1===i));r.push(n)})),new Cn.a(r)},Nn.b.prototype.sampleAt=function(t){var e=Fn.getCoordinates(),r=[];return e.forEach((function(e){for(var n=[],i=1;i<e.length;i+=1)n=n.concat(Gn(e[i-1],e[i],t,1===i));r.push(n)})),new Nn.b(r)},kn.a.prototype.sampleAt=function(t){var e=Fn.getCoordinates(),r=[];return e.forEach((function(e){var n=[];r.push(n),e.forEach((function(e){for(var r=[],i=1;i<e.length;i+=1)r=r.concat(Gn(e[i-1],e[i],t,1===i));n.push(r)}))})),new kn.a(r)},Dn.a.prototype.intersection=function(t,e){if(t.sampleAt){var r=Object(Wr.d)(Fn.getCenter().concat(Fn.getCenter()),Fn.getRadius());t=pn(r,t).simplify(e);var n=Fn.getCenter(),i=Fn.getRadius(),o=t.sampleAt(e).getCoordinates();switch(t.getType()){case"Polygon":o=[o];case"MultiPolygon":var a=!1,s=[];return o.forEach((function(t){var e=[];s.push(e),t.forEach((function(t){var r=[];e.push(r),t.forEach((function(t){var e=Bn(n,t);e>i?(a=!0,r.push([n[0]+i/e*(t[0]-n[0]),n[1]+i/e*(t[1]-n[1])])):r.push(t)}))}))})),a?"Polygon"===t.getType()?new Nn.b(s[0]):new kn.a(s):t}}else console.warn("[ol/geom/Circle~intersection] Unsupported geometry type: ".concat(t.getType()));return t};var zn=r(198),Wn=void 0;function Xn(t){return(Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==Xn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Xn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===Xn(o)?o:String(o)),n)}var i,o}function Yn(t,e){return(Yn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Zn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Jn(t);if(e){var i=Jn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Kn(this,r)}}function Kn(t,e){if(e&&("object"===Xn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Hn(t)}function Hn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jn(t){return(Jn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Ln.a.prototype.splitAt=function(t,e){var r,n=e;if(!t)return[Wn];if(e||(n=1e-10),t.length&&t[0].length){var i=[Wn];for(r=0;r<t.length;r+=1){for(var o=[],a=0;a<i.length;a+=1){var s=i[a].splitAt(t[r],n);o=o.concat(s)}i=o}return i}if(Un(t,Wn.getFirstCoordinate())||Un(t,Wn.getLastCoordinate()))return[Wn];var c=Wn.getCoordinates(),l=[c[0]],u=[];for(r=0;r<c.length-1;r+=1){if(Un(t,c[r+1]))l.push(c[r+1]),u.push(new Ln.a(l)),l=[];else if(!Un(t,c[r])){var h=void 0,f=void 0,p=!1;c[r][0]===c[r+1][0]?(h=(c[r][1]-t[1])/(c[r][1]-c[r+1][1]),p=c[r][0]===t[0]&&h>0&&h<=1):c[r][1]===c[r+1][1]?(h=(c[r][0]-t[0])/(c[r][0]-c[r+1][0]),p=c[r][1]===t[1]&&h>0&&h<=1):(h=(c[r][0]-t[0])/(c[r][0]-c[r+1][0]),f=(c[r][1]-t[1])/(c[r][1]-c[r+1][1]),p=Math.abs(h-f)<=n&&h>0&&h<=1),p&&(l.push(t),u.push(new Ln.a(l)),l=[t])}Un(c[r],c[r+1])||l.push(c[r+1])}return l.length>1&&u.push(new Ln.a(l)),u.length?u:[Wn]};var Qn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yn(t,e)}(o,t);var e,r,n,i=Zn(o);function o(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return qn(this,o),(t=i.call(this,{stroke:e.stroke,text:e.text,zIndex:e.zIndex,geometry:e.geometry})).setRenderer(t._render.bind(Hn(t))),t._visible=!1!==e.visible,"function"==typeof e.width?t._widthFn=e.width:t.setWidth(e.width),t.setWidth2(e.width2),"function"==typeof e.color?t._colorFn=e.color:t.setColor(e.color),t.setColor2(e.color2),t.setLineCap(e.lineCap),t.setArrow(e.arrow),t.setArrowSize(e.arrowSize),t.setArrowColor(e.arrowColor),t._offset=[0,0],t.setOffset(e.offset0,0),t.setOffset(e.offset1,1),t._noOverlap=e.noOverlap,t}return e=o,(r=[{key:"setWidth",value:function(t){this._width=t||0}},{key:"setWidth2",value:function(t){this._width2=t}},{key:"getOffset",value:function(t){return this._offset[t]}},{key:"setOffset",value:function(t,e){var r=Math.max(0,parseFloat(t));switch(e){case 0:this._offset[0]=r;break;case 1:this._offset[1]=r}}},{key:"setLineCap",value:function(t){this._lineCap="round"===t?"round":"butt"}},{key:"getWidth",value:function(t,e){if(this._widthFn)return this._widthFn(t,e);var r="number"==typeof this._width2?this._width2:this._width;return this._width+(r-this._width)*e}},{key:"setColor",value:function(t){try{this._color=Object(et.a)(t)}catch(t){this._color=[0,0,0,1]}}},{key:"setColor2",value:function(t){try{this._color2=Object(et.a)(t)}catch(t){this._color2=null}}},{key:"setArrowColor",value:function(t){try{this._acolor=Object(et.b)(t)}catch(t){this._acolor=null}}},{key:"getColor",value:function(t,e){if(this._colorFn)return Object(et.b)(this._colorFn(t,e));var r=this._color,n=this._color2||this._color;return"rgba(".concat(+Math.round(r[0]+(n[0]-r[0])*e),",\n      ").concat(Math.round(r[1]+(n[1]-r[1])*e),",\n      ").concat(Math.round(r[2]+(n[2]-r[2])*e),",\n      ").concat(r[3]+(n[3]-r[3])*e,"\n      )")}},{key:"getArrow",value:function(){return this._arrow}},{key:"setArrow",value:function(t){this._arrow=parseInt(t,0),(this._arrow<-1||this._arrow>2)&&(this._arrow=0)}},{key:"getArrowSize",value:function(){return this._arrowSize||[16,16]}},{key:"setArrowSize",value:function(t){Array.isArray(t)?this._arrowSize=t:"number"==typeof t&&(this._arrowSize=[t,t])}},{key:"drawArrow",value:function(t,e,r,n,i){var o=this.getArrowSize()[0]*i,a=Bn(e,r),s=(e[0]-r[0])/a,c=(e[1]-r[1])/a,l=Math.max(this.getArrowSize()[1]/2,n/2)*i;t.beginPath(),t.moveTo(e[0],e[1]),t.lineTo(e[0]-o*s+l*c,e[1]-o*c-l*s),t.lineTo(e[0]-o*s-l*c,e[1]-o*c+l*s),t.lineTo(e[0],e[1]),t.fill()}},{key:"_render",value:function(t,e){if("LineString"===e.geometry.getType()){var r,n,i,o=e.context;if(!this._visible){var a=e.pixelRatio/e.resolution,s=Math.cos(e.rotation),c=Math.sin(e.rotation);n=e.geometry.getCoordinates();var l=t[0][0]-n[0][0]*a*s-n[0][1]*a*c,u=t[0][1]-n[0][0]*a*c+n[0][1]*a*s;for(t=[],r=0;i=n[r];r+=1)t[r]=[l+i[0]*a*s+i[1]*a*c,u+i[0]*a*c-i[1]*a*s,i[2]]}var h=this.getArrowSize()[0]*e.pixelRatio;o.save(),this.getOffset(0)&&this._splitAsize(t,this.getOffset(0)*e.pixelRatio),this.getOffset(1)&&this._splitAsize(t,this.getOffset(1)*e.pixelRatio,!0),t.length>1&&(-1===this.getArrow()||2===this.getArrow())&&(i=this._splitAsize(t,h),this._acolor?o.fillStyle=this._acolor:o.fillStyle=this.getColor(e.feature,0),this.drawArrow(o,i[0],i[1],this.getWidth(e.feature,0),e.pixelRatio)),t.length>1&&this.getArrow()>0&&(i=this._splitAsize(t,h,!0),this._acolor?o.fillStyle=this._acolor:o.fillStyle=this.getColor(e.feature,1),this.drawArrow(o,i[0],i[1],this.getWidth(e.feature,1),e.pixelRatio));var f=this._splitInto(t,255,2),p=0,d=f.length;if(o.lineJoin="round",o.lineCap=this._lineCap||"butt",f.length>1)for(p=0;p<f.length;p+=1){var m=p/d;for(n=f[p],o.lineWidth=this.getWidth(e.feature,m)*e.pixelRatio,o.strokeStyle=this.getColor(e.feature,m),o.beginPath(),o.moveTo(n[0][0],n[0][1]),r=1;i=n[r];r+=1)o.lineTo(i[0],i[1]);o.stroke()}o.restore()}}},{key:"_splitAsize",value:function(t,e,r){var n,i,o,a,s=0;for(n=o=r?t.pop():t.shift();t.length;){if(i=r?t.pop():t.shift(),s+(a=Bn(n,i))>e){n=[n[0]+(i[0]-n[0])*(e-s)/a,n[1]+(i[1]-n[1])*(e-s)/a],a=Bn(n,o),r?(t.push(i),t.push(n),t.push([n[0]+(o[0]-n[0])/a,n[1]+(o[1]-n[1])/a])):(t.unshift(i),t.unshift(n),t.unshift([n[0]+(o[0]-n[0])/a,n[1]+(o[1]-n[1])/a]));break}s+=a,n=i}return[o,n]}},{key:"_splitInto",value:function(t,e,r){var n,i,o,a=this._noOverlap?1:.9,s=[],c=0;for(n=1;i=t[n];n+=1)c+=Bn(t[n-1],i);var l=Math.max(r||2,c/(e||255)),u=t[0];c=0;var h=[u];for(n=1,i=t[1];n<t.length;){var f=i[0]-u[0],p=i[1]-u[1];if(c+(o=Math.sqrt(f*f+p*p))>l){var d=(l-c)/o;h.push([u[0]+f*d,u[1]+p*d]),s.push(h),h=[u=[u[0]+f*d*a,u[1]+p*d*a]],c=0}else c+=o,u=i,h.push(u),i=t[n+=1]}return s.push(h),s}}])&&Vn(e.prototype,r),n&&Vn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(st.c),$n=r(125),ti=r(155),ei=r(101);ti.a.prototype.cspline=function(t){var e;return this.calcCSpline?this.csplineGeometryRevision===this.getRevision()&&this.csplineOption===JSON.stringify(t)||(this.csplineGeometry_=this.calcCSpline(t),this.csplineGeometryRevision=this.getRevision(),this.csplineOption=JSON.stringify(t),e=this.csplineGeometry_):e=this,e},ei.a.prototype.calcCSpline=function(t){var e=[];return this.getGeometries().forEach((function(t){return e.push(t.cspline())})),new ei.a(e)},Cn.a.prototype.calcCSpline=function(t){var e=[];return this.getLineStrings().forEach((function(t){return e.push(t.cspline().getCoordinates())})),new Cn.a(e)},Nn.b.prototype.calcCSpline=function(t){var e=[];return this.getLineStrings().forEach((function(t){return e.push(t.cspline().getCoordinates())})),new Nn.b(e)},kn.a.prototype.calcCSpline=function(t){var e=[];return this.getLineStrings().forEach((function(t){return e.push(t.cspline().getCoordinates())})),new kn.a(e)};var ri=function(t,e,r,n){var i=r-t,o=n-e;return Math.sqrt(i*i+o*o)};Ln.a.prototype.calcCSpline=function(){var t,e,r,n,i,o,a,s,c,l,u,h,f,p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=this.getCoordinates(),m="number"==typeof p.tension?p.tension:.5,y=p.resolution||this.getLength()/d.length/(p.pointsPerSeg||10),g=[],_=d.slice(0);for(d.length>2&&d[0][0]===d[d.length-1][0]&&d[0][1]===d[d.length-1][1]?(_.unshift(d[d.length-2]),_.push(d[1])):(_.unshift(d[0]),_.push(d[d.length-1])),f=1;f<_.length-2;f+=1){var b=ri(_[f][0],_[f][1],_[f+1][0],_[f+1][1]),v=Math.round(b/y),O=1;if(p.normalize){var w=ri(_[f+1][0],_[f+1][1],_[f-1][0],_[f-1][1]),M=ri(_[f+2][0],_[f+2][1],_[f][0],_[f][1]);O=w<M?w/M:M/w}for(r=(_[f+1][0]-_[f-1][0])*m*O,n=(_[f+2][0]-_[f][0])*m*O,i=(_[f+1][1]-_[f-1][1])*m*O,o=(_[f+2][1]-_[f][1])*m*O,h=0;h<=v;h+=1)u=h/v,a=2*Math.pow(u,3)-3*Math.pow(u,2)+1,s=-2*Math.pow(u,3)+3*Math.pow(u,2),c=Math.pow(u,3)-2*Math.pow(u,2)+u,l=Math.pow(u,3)-Math.pow(u,2),t=a*_[f][0]+s*_[f+1][0]+c*r+l*n,e=a*_[f][1]+s*_[f+1][1]+c*i+l*o,g.push([t,e])}return new Ln.a(g)};var ni=r(229),ii=r(316),oi=r(417),ai=r(415),si=r(375),ci=r(373),li=r(350),ui=r(95),hi=r(71),fi=r(76),pi=r(83),di=r.n(pi),mi=r(217);function yi(t){return(yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==yi(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==yi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===yi(o)?o:String(o)),n)}var i,o}function _i(){return(_i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=bi(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function bi(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Mi(t)););return t}function vi(t,e){return(vi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Oi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Mi(t);if(e){var i=Mi(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return wi(this,r)}}function wi(t,e){if(e&&("object"===yi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Mi(t){return(Mi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ei=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vi(t,e)}(o,t);var e,r,n,i=Oi(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this,t)).olStyleFn_=e.updateFacadeOptions(t),e}return e=o,n=[{key:"getCanvasSize",value:function(){return[25,15]}}],(r=[{key:"updateFacadeOptions",value:function(t){var e=this;return function(r){var n=r;n instanceof nt.a||r instanceof fi.a||(n=e);var i,o=t.stroke,a=t.label,s=new ut.a,c=new ut.a,l=vt.a.getValue;if(!Object(f.X)(o)){var u=l(o.color,n)||"#000000",h=l(o.opacity,n);h||0===h||(h=1),s.setStroke(new it.a({color:di()(u).alpha(h).css(),width:l(o.width,n),lineDash:l(o.linedash,n),lineDashOffset:l(o.linedashoffset,n),lineCap:l(o.linecap,n),lineJoin:l(o.linejoin,n),miterLimit:l(o.miterlimit,n)}))}if(!Object(f.X)(a)){var p={text:void 0===l(a.text,n)?void 0:String(l(a.text,n)),font:l(a.font,n),fill:new tt.a({color:l(a.color||"#000000",n)}),textBaseline:(l(a.baseline,n)||"").toLowerCase(),textAlign:l(a.align,n),scale:l(a.scale,n),rotateWithView:l(a.rotate,n)||!1,overflow:l(a.textoverflow,n)||!1,minWidth:l(a.minwidth,n)||0,geometry:l(a.geometry,n),offsetX:l(t.label.offset?t.label.offset[0]:void 0,n),offsetY:l(t.label.offset?t.label.offset[1]:void 0,n)},d=new mi.a(p);Object(f.X)(a.stroke)||d.setStroke(new it.a({color:l(a.stroke.color,n),width:l(a.stroke.width,n),lineCap:l(a.stroke.linecap,n),lineJoin:l(a.stroke.linejoin,n),lineDash:l(a.stroke.linedash,n),lineDashOffset:l(a.stroke.linedashoffset,n),miterLimit:l(a.stroke.miterlimit,n)}));var m=l(a.path,n);"boolean"==typeof m&&m&&(s.textPath=d,!Object(f.X)(a.smooth)&&!0===a.smooth&&Object(f.U)(n.getGeometry)&&s.setGeometry(n.getGeometry().cspline()),d.setPlacement("line")),s.setText(d)}if(!Object(f.X)(t.fill)){var y=vt.a.getValue(t.fill.color,n,e.layer_),g=vt.a.getValue(t.fill.opacity,n,e.layer_);g||0===g||(g=1);var _=vt.a.getValue(t.fill.width,n,e.layer_);if(Object(f.X)(y)||(i=new it.a({color:di()(y).alpha(g).css(),width:_})),!Object(f.X)(t.fill.pattern)){var b="rgba(0,0,0,1)";Object(f.X)(t.fill.pattern.color)||(b=vt.a.getValue(t.fill.pattern.color,n,e.layer_)),i=new he.a({pattern:(vt.a.getValue(t.fill.pattern.name,n,e.layer_)||"").toLowerCase(),image:"Image"===vt.a.getValue(t.fill.pattern.name,n,e.layer_)?new ct.a({src:vt.a.getValue(t.fill.pattern.src,n,e.layer_),crossOrigin:"anonymous"}):void 0,color:b,width:_,size:vt.a.getValue(t.fill.pattern.size,n,e.layer_),spacing:vt.a.getValue(t.fill.pattern.spacing,n,e.layer_),angle:vt.a.getValue(t.fill.pattern.rotation,n,e.layer_),scale:vt.a.getValue(t.fill.pattern.scale,n,e.layer_),offset:vt.a.getValue(t.fill.pattern.offset,n,e.layer_),fill:i,layer:e.layer_})}}return c.setStroke(i),[s,c]}}},{key:"applyToLayer",value:function(t){_i(Mi(o.prototype),"applyToLayer",this).call(this,t);var e=t.getImpl().getOL3Layer();Object(f.X)(e)||(this.postComposeEvtKey_=e.on("postcompose",Bi,e))}},{key:"unapply",value:function(){Object(ui.b)(this.postComposeEvtKey_)}},{key:"drawGeometryToCanvas",value:function(t,e,r,n){var i=o.getCanvasSize()[0],a=o.getCanvasSize()[1];if(t.drawGeometry(new Ln.a([[0+n/2,0+n/2],[i/3,a/2-n/2],[2*i/3,0+n/2],[i-n/2,a/2-n/2]])),!Object(f.X)(r)){var s=r.width,c=e.getContext("2d");c.lineWidth=r.width,i=e.width,a=e.height,c.strokeStyle=r.color,c.beginPath(),c.lineTo(0+s,0+s),c.lineTo(i/3,a/2-s),c.lineTo(2*i/3,0+s),c.lineTo(i-s,a/2-s),c.stroke()}}},{key:"updateCanvas",value:function(t){this.updateFacadeOptions(this.options_);var e,r=o.getCanvasSize(),n=Object(hi.d)(t.getContext("2d"),{size:r}),i=this.olStyleFn_()[1];Object(f.X)(i)||Object(f.X)(i.getStroke())||(e={color:i.getStroke().getColor(),width:1});var a=this.olStyleFn_()[0];Object(f.X)(a.getText())||a.setText(null);var s,c=a.getStroke();Object(f.X)(c)||(Object(f.X)(c.getWidth())?s=1:(s=c.getWidth(),c.getWidth()>o.DEFAULT_WIDTH_LINE&&(s=o.DEFAULT_WIDTH_LINE)),e={color:a.getStroke().getColor(),width:s},a.getStroke().setWidth(s),n.setStyle(a)),this.drawGeometryToCanvas(n,t,e,s)}}])&&gi(e.prototype,r),n&&gi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(vt.a);Ei.DEFAULT_WIDTH_LINE=3;var xi=Ei,Si=r(114);function ji(t){return(ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==ji(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ji(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===ji(o)?o:String(o)),n)}var i,o}function Ti(t,e){return(Ti=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ii(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ri(t);if(e){var i=Ri(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Li(this,r)}}function Li(t,e){if(e&&("object"===ji(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ri(t){return(Ri=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ci=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ti(t,e)}(o,t);var e,r,n,i=Ii(o);function o(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var e=t;Object(f.X)(e)&&(e=o.DEFAULT_NULL),e=Object(f.u)({},e);var r=new xi(e);return i.call(this,e,r)}return e=o,(r=[{key:"unapply",value:function(t){this.getImpl().unapply(t)}},{key:"getDeserializedMethod_",value:function(){return"((serializedParameters) => M.style.Simple.deserialize(serializedParameters, 'M.style.Line'))"}}])&&Pi(e.prototype,r),n&&Pi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(Si.a);Ci.DEFAULT_NULL={fill:{color:"rgba(255, 255, 255, 0.4)",opacity:.4},stroke:{color:"#3399CC",width:1.5}};var Ai=Ci;function ki(t){return(ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ni(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==ki(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ki(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===ki(o)?o:String(o)),n)}var i,o}var Di=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n;return e=t,n=[{key:"render",value:function(t,e){for(var r=t,n=this,i=0,o=0,a=2,s=function(t,e,r,n){var i=r-t,o=n-e;return Math.sqrt(i*i+o*o)},c=function(t,e){if(!i||o+i<e)for(;a<t.length&&(i=s(t[a-2],t[a-1],t[a],t[a+1]),!(o+i>e))&&!((a+=2)>=t.length);)o+=i;var r=e-o;return a>=t.length&&(a=t.length-2),[r?t[a-2]+(t[a]-t[a-2])*r/i:t[a-2],r?t[a-1]+(t[a+1]-t[a-1])*r/i:t[a-1],Math.atan2(t[a+1]-t[a-1],t[a]-t[a-2])]},l=.25*n.measureText(" ").width,u=0,h=0,f=2;f<e.length;f+=2)h+=s(e[f-2],e[f-1],e[f],e[f+1]);if(!(h<n.minWidth)){var p=r.split(" ").length-1;if("visible"!==n.textOverflow&&h<n.measureText(r).width+(r.length-(1+p))*l){var d="ellipsis"===n.textOverflow?"":n.textOverflow;do{p=r.split(" ").length-1,r=r.slice(0,r.length-1)}while(r&&h<n.measureText(r+d).width+(r.length+(d.length-1)+p)*l);r+=d}switch(n.textJustify||n.textAlign){case!0:case"center":case"end":case"right":n.textJustify?(u=0,l=(h-n.measureText(r).width)/(t.length-(1+p))):(u=h-n.measureText(r).width-(r.length+p)*l,"center"===n.textAlign&&(u/=2))}for(var m=0;m<r.length;m+=1){var y=r[m],g=n.measureText(y).width,_=c(e,u+g/2);n.save(),n.textAlign="center",n.translate(_[0],_[1]),n.rotate(_[2]),n.lineWidth&&n.strokeText(y,0,0),n.fillText(y,0,0),n.restore(),u+=g+l*(" "===y?2:1)}}}},{key:"getPath_",value:function(t,e,r){var n=[];if(e.forEach((function(e){n.push(t[0]*e[0]+t[1]*e[1]+t[4]),n.push(t[2]*e[0]+t[3]*e[1]+t[5])})),r&&n[0]>n[n.length-2]){for(var i=[],o=n.length-2;o>=0;o-=2)i.push(n[o]),i.push(n[o+1]);return i}return n}},{key:"formatStyle",value:function(t){var e=t;return null==e?null:(void 0===e&&(e=[new st.c({text:new at.a})]),"function"==typeof e?e:function(){return[e]})}},{key:"draw",value:function(e,r,n,i){var o=this.getPath_(r,i,n.getRotateWithView());e.font=n.getFont(),e.textBaseline=n.getTextBaseline(),e.textAlign=n.getTextAlign(),e.lineWidth=n.getStroke()&&n.getStroke().getWidth()||t.DEFAULT.lineWidth,e.strokeStyle=n.getStroke()&&n.getStroke().getColor()||t.DEFAULT.lineColor,e.fillStyle=n.getFill()&&n.getFill().getColor()||t.DEFAULT.fillColor,e.textJustify="justify"===n.getTextAlign(),e.textOverflow=n.getTextOverflow?n.getTextOverflow():t.DEFAULT.textOverflow,e.minWidth=n.getMinWidth?n.getMinWidth():t.DEFAULT.minWidth,"function"==typeof e.textPath&&e.textPath(n.getText(),o),e.restore()}}],(r=null)&&Ni(e.prototype,r),n&&Ni(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();Di.DEFAULT={lineWidth:0,lineColor:"#fff",fillColor:"#000",textOverflow:"",minWidth:0};var Fi=Di,Bi=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(Object(f.ab)(window.CanvasRenderingContext2D.prototype.textPath)&&(window.CanvasRenderingContext2D.prototype.textPath=Fi.render),!(e.frameState.viewState.resolution>this.textPathMaxResolution_)){var r=e.frameState.extent,n=e.context;n.save(),n.scale(e.frameState.pixelRatio,e.frameState.pixelRatio);var i=null!=this.getSource()&&0===this.getSource().getFeatures().length;i||(this.getSource().getFeaturesInExtent(r).forEach((function(r){var i=null!=r.getStyle()?r.getStyle():t.getStyle(),o="function"==typeof i?i(r,e.frameState.viewState.resolution):i;o instanceof Array||(o=[o]),o.forEach((function(t){var i,o=(t instanceof Ai?t.getOptions().geometry:t.getGeometry())||r.getGeometry();switch("function"==typeof o&&(o=o(r)),o.getType()){case"MultiLineString":i=o.getLineString(0).getCoordinates();break;default:i=o.getCoordinates()}var a=t instanceof Ai?t.getOptions().text:t.textPath;null!=a&&a instanceof mi.a&&Fi.draw(n,e.frameState.coordinateToPixelTransform,a,i)}))})),n.restore())}};function Ui(t){return(Ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==Ui(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ui(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===Ui(o)?o:String(o)),n)}var i,o}function zi(){return(zi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=Wi(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function Wi(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Yi(t)););return t}function Xi(t,e){return(Xi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function qi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Yi(t);if(e){var i=Yi(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Vi(this,r)}}function Vi(t,e){if(e&&("object"===Ui(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Yi(t){return(Yi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Zi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xi(t,e)}(o,t);var e,r,n,i=qi(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this,t)).olStyleFn_=e.updateFacadeOptions(t),e}return e=o,n=[{key:"getCanvasSize",value:function(){return[25,15]}}],(r=[{key:"updateFacadeOptions",value:function(t){var e=this;return function(r){var n=r;n instanceof nt.a||r instanceof fi.a||(n=e);var i=t,o=new Qn,a=vt.a.getValue;return Object(f.X)(i)||(o.setColor(a(i.color,n)),o.setColor2(a(i.color2,n)),o.setArrowColor(a(i.arrowColor,n)),o.setWidth(a(i.width,n)),o.setWidth2(a(i.width2,n)),o.setArrow(a(i.arrow,n)),o.setLineCap(a(i.lineCap,n)),o.setOffset(a(i.offset0,n),0),o.setOffset(a(i.offset1,n),1)),[o]}}},{key:"applyToLayer",value:function(t){zi(Yi(o.prototype),"applyToLayer",this).call(this,t);var e=t.getImpl().getOL3Layer();Object(f.X)(e)||(this.postComposeEvtKey_=e.on("postcompose",Bi,e))}},{key:"unapply",value:function(){Object(ui.b)(this.postComposeEvtKey_)}},{key:"updateCanvas",value:function(t){this.updateFacadeOptions(this.options_);var e=o.getCanvasSize(),r=Object(hi.d)(t.getContext("2d"),{size:e}),n=this.olStyleFn_()[0];r.setStyle(n)}}])&&Gi(e.prototype,r),n&&Gi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(vt.a),Ki=r(406);function Hi(t){return(Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ji(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==Hi(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Hi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===Hi(o)?o:String(o)),n)}var i,o}function Qi(t,e){return(Qi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=eo(t);if(e){var i=eo(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return to(this,r)}}function to(t,e){if(e&&("object"===Hi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function eo(t){return(eo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ro=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qi(t,e)}(o,t);var e,r,n,i=$i(o);function o(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(n=i.call(this,{})).heatmapLayer_=null,n.attribute_=t,n.opt_options_=Object(f.u)(e,r),n.opt_options_.zIndex=999999,n.oldOLLayer_=null,n}return e=o,(r=[{key:"applyToLayer",value:function(t){if(this.layer_=t,!Object(f.X)(t)){var e=this.layer_.getImpl().getOL3Layer();e instanceof on||(this.oldOLLayer_=e);var r=this.layer_.getFeatures().map((function(t){return t.getImpl().getOLFeature()}));r.forEach((function(t){return t.setStyle(null)})),this.createHeatmapLayer_(r),this.layer_.getImpl().setOL3Layer(this.heatmapLayer_)}}},{key:"unapply",value:function(t){Object(f.X)(this.oldOLLayer_)||(this.layer_.getImpl().setOL3Layer(this.oldOLLayer_),this.layer_.redraw(),this.layer_=null,this.oldOLLayer_=null,this.heatmapLayer_=null)}},{key:"createHeatmapLayer_",value:function(t){this.opt_options_.source=new Xe.a({features:t}),this.opt_options_.name=this.layer_.name,this.heatmapLayer_=new dn(this.opt_options_)}},{key:"setOptions",value:function(t,e){this.opt_options_=Object(f.u)(t,e)}},{key:"getMinWeight",value:function(){return this.heatmapLayer_.getMinWeight()}},{key:"getMaxWeight",value:function(){return this.heatmapLayer_.getMaxWeight()}}])&&Ji(e.prototype,r),n&&Ji(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(ht.a);function no(t){return(no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function io(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==no(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==no(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===no(o)?o:String(o)),n)}var i,o}function ao(t,e){return(ao=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function so(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=lo(t);if(e){var i=lo(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return co(this,r)}}function co(t,e){if(e&&("object"===no(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function lo(t){return(lo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var uo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ao(t,e)}(o,t);var e,r,n,i=so(o);function o(){return io(this,o),i.apply(this,arguments)}return e=o,(r=[{key:"getImageSize",value:function(){return this.iconImage_.getSize()}}])&&oo(e.prototype,r),n&&oo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(ct.a),ho=r(303);function fo(t){return(fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function po(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==fo(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==fo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===fo(o)?o:String(o)),n)}var i,o}function mo(t,e){return(mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=_o(t);if(e){var i=_o(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return go(this,r)}}function go(t,e){if(e&&("object"===fo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _o(t){return(_o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mo(t,e)}(o,t);var e,r,n,i=yo(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this,t)).olStyleFn_=e.updateFacadeOptions(t),e}return e=o,n=[{key:"getCanvasSize",value:function(){return[25,15]}}],(r=[{key:"updateFacadeOptions",value:function(t){var e=this;return function(r){var n=r;n instanceof nt.a||r instanceof fi.a||(n=e);var i=new ut.a;if(Object(f.X)(t.stroke)||Object(f.X)(t.stroke.pattern)){if(!Object(f.X)(t.stroke)){var o=vt.a.getValue(t.stroke.color||"#000000",n,e.layer_),a=vt.a.getValue(t.stroke.opacity,n,e.layer_);a||0===a||(a=1),i.setStroke(new it.a({color:di()(o).alpha(a).css(),width:vt.a.getValue(t.stroke.width,n,e.layer_),lineDash:vt.a.getValue(t.stroke.linedash,n,e.layer_),lineDashOffset:vt.a.getValue(t.stroke.linedashoffset,n,e.layer_),lineCap:vt.a.getValue(t.stroke.linecap,n,e.layer_),lineJoin:vt.a.getValue(t.stroke.linejoin,n,e.layer_),miterLimit:vt.a.getValue(t.stroke.miterlimit,n,e.layer_)}))}}else{var s;if(!Object(f.X)(t.stroke.color)){var c=vt.a.getValue(t.stroke.color,n,e.layer_),l=vt.a.getValue(t.stroke.opacity,n,e.layer_);l||0===l||(l=1),Object(f.X)(c)||(s=new tt.a({color:di()(c).alpha(l).css()}))}i.setStroke(new he.a({width:vt.a.getValue(t.stroke.width,n,e.layer_),pattern:(vt.a.getValue(t.stroke.pattern.name,n,e.layer_)||"").toLowerCase(),image:"Image"===vt.a.getValue(t.stroke.pattern.name,n,e.layer_)?new ct.a({src:vt.a.getValue(t.stroke.pattern.src,n,e.layer_),crossOrigin:"anonymous"}):void 0,color:Object(f.X)(t.stroke.pattern.color)?"rgba(0,0,0,1)":vt.a.getValue(t.stroke.pattern.color,n,e.layer_),size:vt.a.getValue(t.stroke.pattern.size,n,e.layer_),spacing:vt.a.getValue(t.stroke.pattern.spacing,n,e.layer_),angle:vt.a.getValue(t.stroke.pattern.rotation,n,e.layer_),scale:vt.a.getValue(t.stroke.pattern.scale,n,e.layer_),offset:vt.a.getValue(t.stroke.pattern.offset,n,e.layer_),fill:s,layer:e.layer_}))}if(!Object(f.X)(t.label)){var u=vt.a.getValue(t.label.text,n,e.layer_),h=vt.a.getValue(t.label.align,n,e.layer_),p=vt.a.getValue(t.label.baseline,n,e.layer_),d=!!Object(f.X)(t.label.overflow,e.layer_)||t.label.overflow;i.setText(new at.a({font:vt.a.getValue(t.label.font,n,e.layer_),rotateWithView:vt.a.getValue(t.label.rotate,n,e.layer_),scale:vt.a.getValue(t.label.scale,n,e.layer_),offsetX:vt.a.getValue(t.label.offset?t.label.offset[0]:void 0,n,e.layer_),offsetY:vt.a.getValue(t.label.ofsset?t.label.offset[1]:void 0,n,e.layer_),fill:new tt.a({color:vt.a.getValue(t.label.color||"#000000",n,e.layer_)}),textAlign:Object.values(rt).includes(h)?h:"center",textBaseline:Object.values(lt).includes(p)?p:"top",text:void 0===u?void 0:String(u),rotation:vt.a.getValue(t.label.rotation,n,e.layer_),overflow:vt.a.getValue(d,n,e.layer_)})),Object(f.X)(t.label.stroke)||i.getText().setStroke(new it.a({color:vt.a.getValue(t.label.stroke.color,n,e.layer_),width:vt.a.getValue(t.label.stroke.width,n,e.layer_),lineCap:vt.a.getValue(t.label.stroke.linecap,n,e.layer_),lineJoin:vt.a.getValue(t.label.stroke.linejoin,n,e.layer_),lineDash:vt.a.getValue(t.label.stroke.linedash,n,e.layer_),lineDashOffset:vt.a.getValue(t.label.stroke.linedashoffset,n,e.layer_),miterLimit:vt.a.getValue(t.label.stroke.miterlimit,n,e.layer_)}))}if(!Object(f.X)(t.fill)){var m,y=vt.a.getValue(t.fill.color,n,e.layer_),g=vt.a.getValue(t.fill.opacity,n,e.layer_);if(g||0===g||(g=1),Object(f.X)(y)||(m=new tt.a({color:di()(y).alpha(g).css()})),Object(f.X)(t.fill.pattern))i.setFill(m);else{var _="rgba(0,0,0,1)";if(!Object(f.X)(t.fill.pattern.color)){var b=vt.a.getValue(t.fill.pattern.opacity,n,e.layer_)||1;b||0===b||(b=1),_=di()(t.fill.pattern.color).alpha(b).css()}i.setFill(new zn.a({pattern:(vt.a.getValue(t.fill.pattern.name,n,e.layer_)||"").toLowerCase(),color:_,size:vt.a.getValue(t.fill.pattern.size,n,e.layer_),spacing:vt.a.getValue(t.fill.pattern.spacing,n,e.layer_),image:"Image"===vt.a.getValue(t.fill.pattern.name,n,e.layer_)?new ct.a({src:vt.a.getValue(t.fill.pattern.src,n,e.layer_)}):void 0,angle:vt.a.getValue(t.fill.pattern.rotation,n,e.layer_),scale:vt.a.getValue(t.fill.pattern.scale,n,e.layer_),offset:vt.a.getValue(t.fill.pattern.offset,n,e.layer_),fill:m,layer:e.layer_}))}}if(t.renderer){var v=new tt.a,O=new it.a({color:vt.a.getValue(t.renderer.stroke.color,n,e.layer_),width:vt.a.getValue(t.renderer.stroke.width,n,e.layer_)});i.setRenderer((function(r,i,o){var a=new Image,s=vt.a.getValue(t.renderer.property,n,e.layer_),c=n.get(s).src?n.get(s).src:n.get(s);a.onload=function(){n.set(s,a)},a.src=c;var l=i.context,u=i.geometry.clone();u.setCoordinates(r);var h=u.getExtent(),f=Object(Wr.G)(h),p=Object(Wr.B)(h),d=i.feature.get(s).src?i.feature.get(s):void 0;if(!(!d||p<1||f<1)){l.save();var m=Object(hi.d)(l,{pixelRatio:1});m.setFillStrokeStyle(v,O),m.drawGeometry(u),l.clip();var y=Object(Wr.w)(h),g=y[0],_=y[1];l.drawImage(d,g,_,f,p),l.restore()}}))}return[i]}}},{key:"updateCanvas",value:function(t){this.updateFacadeOptions(this.options_);var e=o.getCanvasSize(),r=Object(hi.d)(t.getContext("2d"),{size:e}),n=this.olStyleFn_()[0];Object(f.X)(n.getText())||n.setText(null);var i=n.getStroke();Object(f.X)(i)||Object(f.X)(i.getWidth())||i.getWidth()>o.DEFAULT_WIDTH_POLYGON&&n.getStroke().setWidth(o.DEFAULT_WIDTH_POLYGON),r.setStyle(n),this.drawGeometryToCanvas(r)}},{key:"drawGeometryToCanvas",value:function(t){var e=o.getCanvasSize(),r=Math.floor(e[0]),n=Math.floor(e[1]),i=e[0]-r,a=e[1]-n;t.drawGeometry(new Nn.b([[[i+3,a+3],[r-3,a+3],[r-3,n-3],[i+3,n-3],[i+3,a+3]]]))}}])&&po(e.prototype,r),n&&po(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(vt.a);bo.DEFAULT_WIDTH_POLYGON=3;var vo=bo,Oo=r(200),wo=r(418),Mo=r(419),Eo=r(243),xo=r(222),So=r(304),jo=r(244),Po=r(169),To=r(247),Io=r(291),Lo=r(161),Ro=r(77),Co=r(204),Ao=r(133),ko=r(159),No=r(305),Do=r(11);function Fo(t){return(Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Bo=/MBTiles\*.*/,Uo=function(t){var e=t.parameter,r=t.attr,n=t.type,i=t.separator,o=t.normalized,a=void 0!==o&&o;return function(t,o){var s,c={boolean:function(t){return/^1|(true)$/i.test(t)},string:function(t){return t},int:function(t){return Number.parseInt(t,10)},float:function(t){return Number.parseFloat(t,10)},array_number:function(t){return t.split(i||"").map((function(t){return t.trim()})).map((function(t){return Number.parseFloat(t)}))}};if(Object(f.Z)(e)&&t.test(e)){var l=e.split("*")[o];Object(f.X)(l)||(s=c[n](l))}else Object(f.Y)(e)?s=e[r]:Object(p.a)("El parmetro no es de un tipo soportado: ".concat(Fo(e)));return Object(f.Z)(s)&&(s=s.trim()),!0===a&&(s=Object(f.db)(s)),s}},Go=function(t){var e=[];Object(f.X)(t)&&Object(p.a)(Object(m.e)("exception").no_param);var r=t;return Object(f.R)(r)||(r=[r]),e=r.map((function(t){var e,r=Uo({parameter:t,type:"string",attr:"name"}),n=Uo({parameter:t,type:"string",attr:"url"}),i=Uo({parameter:t,type:"string",attr:"legend"});return(Bo.test(t)||Object(f.Y)(t))&&(e={type:"MBTiles",name:r(Bo,3),url:n(Bo,2),legend:i(Bo,1)}),e})),Object(f.R)(t)||(e=e[0]),e};function zo(t){return(zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Wo=/MBTiles\*. */,Xo=function(t){var e=t.parameter,r=t.attr,n=t.type,i=t.separator,o=t.normalized,a=void 0!==o&&o;return function(t,o){var s,c={boolean:function(t){return/^1|(true)$/i.test(t)},string:function(t){return t},int:function(t){return Number.parseInt(t,10)},float:function(t){return Number.parseFloat(t,10)},array_number:function(t){return t.split(i||"").map((function(t){return t.trim()})).map((function(t){return Number.parseFloat(t)}))}};if(Object(f.Z)(e)&&t.test(e)){var l=e.split("*")[o];Object(f.X)(l)||(s=c[n](l))}else Object(f.Y)(e)?s=e[r]:Object(p.a)("El parmetro no es de un tipo soportado: ".concat(zo(e)));return Object(f.Z)(s)&&(s=s.trim()),!0===a&&(s=Object(f.db)(s)),s}},qo=function(t){var e=[];Object(f.X)(t)&&Object(p.a)(Object(m.e)("exception").no_param);var r=t;return Object(f.R)(r)||(r=[r]),e=r.map((function(t){var e,r=Xo({parameter:t,type:"string",attr:"name"}),n=Xo({parameter:t,type:"string",attr:"url"}),i=Xo({parameter:t,type:"string",attr:"legend"});return(Wo.test(t)||Object(f.Y)(t))&&(e={type:"MBTilesVector",name:r(Wo,3),url:n(Wo,2),legend:i(Wo,1)}),e})),Object(f.R)(t)||(e=e[0]),e},Vo=r(12);function Yo(t){return(Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Zo=/TMS\*.*/,Ko=function(t){var e=t.parameter,r=t.attr,n=t.type,i=t.separator,o=t.normalized,a=void 0!==o&&o;return function(t,o){var s,c={boolean:function(t){return/^1|(true)$/i.test(t)},string:function(t){return t},int:function(t){return Number.parseInt(t,10)},float:function(t){return Number.parseFloat(t,10)},array_number:function(t){return t.split(i||"").map((function(t){return t.trim()})).map((function(t){return Number.parseFloat(t)}))}};if(Object(f.Z)(e)&&t.test(e)){var l=e.split("*")[o];Object(f.X)(l)||(s=c[n](l))}else Object(f.Y)(e)?s=e[r]:Object(p.a)("El parmetro no es de un tipo soportado: ".concat(Yo(e)));return Object(f.Z)(s)&&(s=s.trim()),!0===a&&(s=Object(f.db)(s)),s}},Ho=function(t){var e=[];Object(f.X)(t)&&Object(p.a)(Object(m.e)("exception").no_param);var r=t;return Object(f.R)(r)||(r=[r]),e=r.map((function(t){var e,r=Vo.TMS,n=Ko({parameter:t,type:"string",attr:"name"}),i=Ko({parameter:t,type:"string",attr:"url"}),o=Ko({parameter:t,type:"string",attr:"legend"}),a=Ko({parameter:t,type:"boolean",attr:"displayInLayerSwitcher"});return(Zo.test(t)||Object(f.Y)(t))&&(e={type:r,name:n(Zo,3),url:i(Zo,2),legend:o(Zo,1),displayInLayerSwitcher:a(Zo,4)}),e})),Object(f.R)(t)||(e=e[0]),e};function Jo(t){return(Jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Qo=/XYZ\*.*/,$o=function(t){var e=t.parameter,r=t.attr,n=t.type,i=t.separator,o=t.normalized,a=void 0!==o&&o;return function(t,o){var s,c={boolean:function(t){return/^1|(true)$/i.test(t)},string:function(t){return t},int:function(t){return Number.parseInt(t,10)},float:function(t){return Number.parseFloat(t,10)},array_number:function(t){return t.split(i||"").map((function(t){return t.trim()})).map((function(t){return Number.parseFloat(t)}))}};if(Object(f.Z)(e)&&t.test(e)){var l=e.split("*")[o];Object(f.X)(l)||(s=c[n](l))}else Object(f.Y)(e)?s=e[r]:Object(p.a)("El parmetro no es de un tipo soportado: ".concat(Jo(e)));return Object(f.Z)(s)&&(s=s.trim()),!0===a&&(s=Object(f.db)(s)),s}},ta=function(t){var e=[];Object(f.X)(t)&&Object(p.a)(Object(m.e)("exception").no_param);var r=t;return Object(f.R)(r)||(r=[r]),e=r.map((function(t){var e,r=Vo.XYZ,n=$o({parameter:t,type:"string",attr:"name"}),i=$o({parameter:t,type:"string",attr:"url"}),o=$o({parameter:t,type:"string",attr:"legend"}),a=$o({parameter:t,type:"boolean",attr:"displayInLayerSwitcher"});return(Qo.test(t)||Object(f.Y)(t))&&(e={type:r,name:n(Qo,3),url:i(Qo,2),legend:o(Qo,1),displayInLayerSwitcher:a(Qo,4)}),e})),Object(f.R)(t)||(e=e[0]),e},ea=r(455),ra=r(64),na=r(349),ia=r(158),oa=r(103),aa=r(88),sa=function(t){var e=[];return t.forEach((function(t){-1===e.indexOf(t)&&e.push(t)})),e},ca=function(t){for(var e=0;e<t.length;e+=1)if(t[e]<0)return!0;return!1},la=function(t){for(var e=0;e<t.length;e+=1)if(0===parseFloat(t[e]))return!0;return!1},ua=function(t){for(var e=0,r=0;r<t.length;r+=1)e+=parseFloat(t[r]);return parseFloat(e/t.length)},ha=function(t){for(var e=0,r=ua(t),n=0;n<t.length;n+=1)e+=Math.pow(t[n]-r,2);return Math.sqrt(e/t.length)},fa=function(t,e){for(var r=[],n=[],i=0,o=0;o<t.length+1;o+=1){for(var a=[],s=[],c=0;c<e+1;c+=1)a.push(0),s.push(0);r.push(a),n.push(s)}for(var l=1;l<e+1;l+=1){r[1][l]=1,n[1][l]=0;for(var u=2;u<t.length+1;u+=1)n[u][l]=1/0}for(var h=2;h<t.length+1;h+=1){for(var f=0,p=0,d=0,m=0,y=1;y<h+1;y+=1){var g=h-y+1,_=t[g-1];if(d+=1,f+=_,i=(p+=_*_)-Math.pow(f,2)/d,0!==(m=g-1))for(var b=2;b<e+1;b+=1)n[h][b]>=i+n[m][b-1]&&(r[h][b]=g,n[h][b]=i+n[m][b-1])}r[h][1]=1,n[h][1]=i}return{lowerClassLimits:r,varianceCombinations:n}},pa=function(t,e,r){var n=t.length-1,i=[],o=r;for(i[r]=t[t.length-1],i[0]=t[0];o>1;)i[o-1]=t[e[n][o]-2],n=e[n][o]-1,o-=1;return i},da=function(t){var e=t;e=e||5;var r=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=sa(t),i=n.length<=r?n.length-1:r;t.sort((function(t,e){return t-e}));var o=fa(t,i),a=o.lowerClassLimits,s=pa(t,a,i),c=s.slice(1,s.length);return c};return Object.defineProperty(r,"name",{value:"jenks"}),r},ma=function(t){var e=t||5,r=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=sa(t),i=n.length<=r?n.length-1:r,o=t.length;t.sort((function(t,e){return t-e}));for(var a=o/i,s=[],c=0;c<i;c+=1){var l=t.slice(c*a,(c+1)*a);c===i-1&&(l=t.slice(c*a));var u=a%1==0?l.slice(-1)[0]:l.slice(0)[0];0===c&&a%1!=0||s.push(u)}return a%1!=0&&s.push(t[t.length-1]),s};return Object.defineProperty(r,"name",{value:"quantile"}),r},ya=function(t){var e=t||5,r=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=sa(t),i=n.length<=r?n.length-1:r;t.sort((function(t,e){return t-e}));for(var o=t[0],a=t[t.length-1],s=(a-o)/i,c=[],l=o,u=0;u<i;u+=1)l+=s,u===i-1&&(l=a),c.push(l);return c};return Object.defineProperty(r,"name",{value:"equal_interval"}),r},ga=function(t){var e=t||5,r=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=sa(t),i=n.length<=r?n.length-1:r;t.sort((function(t,e){return t-e}));var o=t[t.length-1],a=t[0],s=ha(t),c=ua(t),l=[];if(i%2==1){var u=Math.floor(i/2),h=u+1;l[u]=c-s,l[h]=c+s;for(var f=u-1;f>0;f-=1)l[f]=l[f+1]-s;for(var p=h+1;p<i;p+=1)l[p]=l[p-1]+s}else{var d=i/2;l[d]=c;for(var m=d-1;m>0;m-=1)l[m]=l[m+1]-s;for(var y=d+1;y<i;y+=1)l[y]=l[y-1]+s}l[0]=a,l[i]=o;var g=l.slice(1,l.length+1);return g};return Object.defineProperty(r,"name",{value:"media_sigma"}),r},_a=function(t){var e=t||5,r=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=sa(t),i=n.length<=r?n.length-1:r;t.sort((function(t,e){return t-e}));for(var o=0,a=1;a<=i;a+=1)o+=a;for(var s=t[0],c=t[t.length-1],l=(c-s)/o,u=[],h=s,f=1;f<=i;f+=1)h+=f*l,f===i&&(h=c),u.push(h);return u};return Object.defineProperty(r,"name",{value:"arithmetic_progression"}),r},ba=function(t){var e=t||5,r=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=sa(t);if(ca(n)||la(n))return[];var i=n.length<=r?n.length-1:r;t.sort((function(t,e){return t-e}));for(var o=t[0],a=t[t.length-1],s=Math.log(o)/Math.LN10,c=Math.log(a)/Math.LN10,l=(c-s)/i,u=[],h=s,f=1;f<i;f+=1)h+=l,u.push(Math.pow(10,h));return u.push(a),u};return Object.defineProperty(r,"name",{value:"geometric_progression"}),r},va=function(t,e){return new U.a((function(r){return null!=r.getAttribute(t)&&r.getAttribute(t)<=e}),{cqlFilter:"".concat(t," <= '").concat(e,"'")})},Oa=r(115);function wa(t){return(wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ma(t){return function(t){if(Array.isArray(t))return Sa(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||xa(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ea(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||xa(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xa(t,e){if(t){if("string"==typeof t)return Sa(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Sa(t,e):void 0}}function Sa(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ja(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==wa(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==wa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===wa(o)?o:String(o)),n)}var i,o}function Ta(){return(Ta="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=Ia(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function Ia(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Aa(t)););return t}function La(t,e){return(La=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ra(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Aa(t);if(e){var i=Aa(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Ca(this,r)}}function Ca(t,e){if(e&&("object"===wa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Aa(t){return(Aa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ka=function(t){var e=Math.pow(10,2);return Math.round(t*e)/e},Na=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&La(t,e)}(o,t);var e,r,n,i=Ra(o);function o(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:da(),a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return ja(this,o),r=i.call(this,a,{}),Object(f.X)(t)&&Object(p.a)(Object(m.e)("exception").no_attr_name),r.attributeName_=t,r.choroplethStyles_=e,r.quantification_=n,r.breakPoints_=[],r.borderColor=a.borderColor,r}return e=o,n=[{key:"DEFAULT_STYLE",value:function(t,e){return new aa.a({point:{fill:{color:t,opacity:1},stroke:{color:e||"black",width:1},radius:5},line:{fill:{color:t,opacity:1},stroke:{color:e||"black",width:1}},polygon:{fill:{color:t,opacity:1},stroke:{color:e||"black",width:1}}})}},{key:"deserialize",value:function(t){var e,r=Ea(t,5),n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],c=n,l=i.map((function(t){return S.a.deserialize(t)}));e="jenks"===o?da():"quantile"===o?ma():"equal_interval"===o?ya():"geometric_progression"===o?ba():"arithmetic_progression"===o?_a():"media_sigma"===o?ga():Object(f.k)(o);var u=Object(f.k)(a),h=new Function(["attributeName","styles","quantification","options"],"return new M.style.Choropleth(attributeName, styles, quantification, options)")(c,l,e,u),p=s.map((function(t){return S.a.deserialize(t)}));return h.add(p),h}}],(r=[{key:"applyInternal",value:function(t){this.layer_=t,this.update_()}},{key:"getAttributeName",value:function(){return this.attributeName_}},{key:"setAttributeName",value:function(t){return this.attributeName_=t,this.update_(),this.refresh(),this}},{key:"getQuantification",value:function(){return this.quantification_}},{key:"setQuantification",value:function(t){if(this.quantification_=t,!this.choroplethStyles_.some((function(t){return Object(f.Z)(t)}))){if(this.choroplethStyles_.length<this.quantification_().length){var e=Ea(this.choroplethStyles_,2),r=e[0],n=e[1],i=r.get("fill.color"),o=n.get("fill.color");Object(f.X)(i)&&(i=r.get("stroke.color")),Object(f.X)(o)&&(o=n.get("stroke.color")),this.choroplethStyles_=[i,o]}else this.choroplethStyles_=this.choroplethStyles_.slice(0,this.quantification_().length);this.update_(),this.refresh()}return this}},{key:"getChoroplethStyles",value:function(){return this.choroplethStyles_}},{key:"setStyles",value:function(t){var e=t;return Object(f.R)(e)||(e=[e]),this.choroplethStyles_=e,this.update_(),this.refresh(),this}},{key:"updateCanvas",value:function(){var t=this;if(!Object(f.X)(this.choroplethStyles_)&&this.breakPoints_.length>0){var e=[];this.updateCanvasPromise_=new Promise((function(r,n){return t.loadCanvasImages_(0,e,r)}))}}},{key:"loadCanvasImages_",value:function(t,e,r){var n=this;if(t===this.choroplethStyles_.length)this.drawGeometryToCanvas(e,r);else{var i=-1;t>0&&(i=Number(this.breakPoints_[t-1].toFixed(1)));var o=Number(this.breakPoints_[t].toFixed(1)),a=new Image;a.crossOrigin="Anonymous",a.onload=function(){e.push({image:a,startLimit:ka(i),endLimit:ka(o)}),n.loadCanvasImages_(t+1,e,r)},a.onerror=function(){e.push({startLimit:ka(i),endLimit:ka(o)}),n.loadCanvasImages_(t+1,e,r)},this.choroplethStyles_[t].updateCanvas();var s=this.choroplethStyles_[t].toImage();Object(f.Z)(s)?a.src=s:s.then((function(t){a.src=t}))}}},{key:"drawGeometryToCanvas",value:function(t,e){var r=this,n=t.map((function(t){return t.image.height})),i=t.map((function(t){return t.image.width})),o=this.canvas_.getContext("2d");o.canvas.height=n.reduce((function(t,e){return t+e+5})),o.textBaseline="middle";var a=Math.max.apply(i,i);t.forEach((function(t,e){var i=t.image,s=t.startLimit,c=t.endLimit,l=0,u=n.slice(0,e);Object(f.X)(u)||(l=u.reduce((function(t,e){return t+e+5})),l+=5);var h=0;Object(f.X)(i)||(h=i.height,o.drawImage(i,0,l)),s<0?o.fillText(" x  <=  ".concat(c),a+5,l+h/2):"media_sigma"===r.quantification_.name&&c===Number(Math.max.apply(Math,Ma(r.getValues())).toFixed(1))?o.fillText("".concat(s," <= x"),a+5,l+h/2):o.fillText("".concat(s," <  x  <=  ").concat(c),a+5,l+h/2)}),this),e()}},{key:"getValues",value:function(){var t=this,e=[];return Object(f.X)(this.layer_)||this.layer_.getFeatures().forEach((function(r){try{var n=parseFloat(r.getAttribute(t.attributeName_));Number.isNaN(n)||e.push(n)}catch(t){}}),this),e}},{key:"update_",value:function(){var t,e,r=this;if(!Object(f.X)(this.layer_)){var n=this.layer_.getFeatures();if(!Object(f.X)(n)){var i=this.getValues();if(Object(f.X)(this.choroplethStyles_)||!Object(f.X)(this.choroplethStyles_)&&(Object(f.Z)(this.choroplethStyles_[0])||Object(f.Z)(this.choroplethStyles_[1]))){this.breakPoints_=this.quantification_(i);var a=this.choroplethStyles_||[];Object(f.ab)(a[0])&&a.push(o.START_COLOR_DEFAULT),Object(f.ab)(a[1])&&a.push(o.END_COLOR_DEFAULT);var s=this.breakPoints_.length,c=Object(f.x)(a,s);Object(f.R)(c)||(c=[c]),this.choroplethStyles_=(t=c,e=o.DEFAULT_STYLE,t.map((function(t){return e(t,r.borderColor)})))}else this.breakPoints_=this.quantification_(i,this.choroplethStyles_.length)}for(var l=function(t){new va(r.attributeName_,r.breakPoints_[t]).execute(n).forEach((function(e){return e.setStyle(r.choroplethStyles_[t])}))},u=this.breakPoints_.length-1;u>-1;u-=1)l(u);this.updateCanvas()}}},{key:"add",value:function(t){var e=t;return Object(f.R)(e)||(e=[e]),e=e.filter((function(t){return t instanceof Oa.a||t instanceof Ja})),Ta(Aa(o.prototype),"add",this).call(this,e)}},{key:"ORDER",get:function(){return 2}},{key:"toJSON",value:function(){var t=this.getAttributeName(),e=this.getChoroplethStyles().map((function(t){return t.serialize()})),r=this.getQuantification();r=Object(f.X)(r.name)?Object(f.kb)(r):r.name;var n=Object(f.u)({},this.getOptions());return{parameters:[t,e,r,n=Object(f.kb)(n),this.getStyles().map((function(t){return t.serialize()}))],deserializedMethod:"M.style.Choropleth.deserialize"}}}])&&Pa(e.prototype,r),n&&Pa(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(ia.a);Na.START_COLOR_DEFAULT="red",Na.END_COLOR_DEFAULT="brown";var Da=Na;function Fa(t){return(Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ba(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Ua(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ua(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ua(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ga(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function za(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==Fa(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Fa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===Fa(o)?o:String(o)),n)}var i,o}function Wa(t,e){return(Wa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Xa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Va(t);if(e){var i=Va(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return qa(this,r)}}function qa(t,e){if(e&&("object"===Fa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Va(t){return(Va=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ya=function(t,e){var r=void 0,n=void 0,i=t.filter((function(t){return![NaN,void 0,null].includes(t.getAttribute(e))})).map((function(t){return parseInt(t.getAttribute(e),10)})),o=1;if(!Object(f.X)(i))for(r=i[0],n=i[0];o<i.length-1;){var a=i[o+1];r=r<a?r:a,n=n<a?a:n,o+=1}return[r,n]},Za=function(t,e,r,n,i){var o=.57*Math.log(t);return Math.exp(o)/(Math.exp(.57*Math.log(r))/i)},Ka=function(t,e,r,n,i){return(t-e)*(i-n)/(r-e)+n},Ha=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wa(t,e)}(o,t);var e,r,n,i=Xa(o);function o(t,e,r,n,a){var s,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return Ga(this,o),s=i.call(this,c,{}),Object(f.X)(t)&&Object(p.a)(Object(m.e)("exception").no_attr_name),s.attributeName_=t,s.minRadius_=parseInt(e,10)||5,s.maxRadius_=parseInt(r,10)||15,s.style_=n,s.proportionalFunction_=a||(!0===s.options_.flannery?Za:Ka),s.maxRadius_<s.minRadius_&&(s.minRadius_=r,s.maxRadius_=e),Object(f.X)(s.style_)||s.styles_.push(s.style_),s}return e=o,n=[{key:"getSizeAttribute",value:function(t){var e="radius";return Object(f.X)(t.get("icon"))||(e=Object(f.X)(t.get("icon.src"))?"icon.radius":"icon.scale"),e}},{key:"deserialize",value:function(t){var e=Ba(t,6),r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],c=r,l=n,u=i,h=Object(f.k)(a),p=Object(f.k)(s),d=new Function(["attributeName","minRadius","maxRadius","style","proportionalFunction","options"],"return new M.style.Proportional(attributeName,\n    minRadius, maxRadius, style, proportionalFunction, options)")(c,l,u,void 0,h,p),m=o.map((function(t){return S.a.deserialize(t)}));return d.add(m),d}}],(r=[{key:"applyInternal",value:function(t){this.layer_=t,this.update_()}},{key:"applyToFeature",value:function(t,e){var r=this.style_;if(Object(f.X)(r)&&(r=t.getStyle()?t.getStyle():this.layer_.getStyle()),!Object(f.X)(r)){r instanceof aa.a?r=new oa.a(r.getOptions().point):!(r instanceof oa.a)&&r instanceof Si.a||r instanceof Da?r=new oa.a(r.getOptions()):r instanceof ia.a&&(r=new oa.a(r.getOldStyle().getOptions()));var n=this.calculateStyle_(t,{minRadius:this.minRadius_,maxRadius:this.maxRadius_,minValue:this.minValue_,maxValue:this.maxValue_},r);t.setStyle(n)}}},{key:"update_",value:function(){var t=this;if(!Object(f.X)(this.layer_)){Object(f.X)(this.style_)||this.layer_.setStyle(this.style_,!0),this.layer_.getStyle()instanceof Da?this.oldStyle_=this.layer_.getStyle():this.layer_.getStyle()instanceof ia.a?this.oldStyle_=this.layer_.getStyle().getOldStyle():this.oldStyle_=this.layer_.getStyle();var e=Ba(Ya(this.layer_.getFeatures(),this.attributeName_),2);this.minValue_=e[0],this.maxValue_=e[1],this.layer_.getFeatures().forEach((function(e){return t.applyToFeature(e,1)}));var r=this.oldStyle_.clone();r instanceof Si.a&&(r.set("zindex",(function(e){return t.maxValue_-parseFloat(e.getAttribute(t.attributeName_))})),r.set(o.getSizeAttribute(r),(function(e){var r=o.SCALE_PROPORTION,n=e.getAttribute(t.attributeName_),i=[n,t.minValue_,t.maxValue_,t.minRadius_,t.maxRadius_],a=t.proportionalFunction_.apply(t,i);if("icon.scale"===o.getSizeAttribute(t.oldStyle_)){var s=t.minRadius_/r,c=t.maxRadius_/r,l=[n,t.minValue_,t.maxValue_,s,c];a=t.proportionalFunction_.apply(t,l)}return a})),this.updateCanvas())}}},{key:"getAttributeName",value:function(){return this.attributeName_}},{key:"setAttributeName",value:function(t){return this.attributeName_=t,this.update_(),this}},{key:"getStyle",value:function(){return console.warn("Deprecated function: Use getStyles instead."),this.style_}},{key:"setStyle",value:function(t){return this.style_=t,this.update_(),this}},{key:"getMinRadius",value:function(){return this.minRadius_}},{key:"setProportionalFunction",value:function(t){this.proportionalFunction_=t,this.update_()}},{key:"getProportionalFunction",value:function(){return this.proportionalFunction_}},{key:"setMinRadius",value:function(t){return this.minRadius_=parseInt(t,10),t>=this.maxRadius_&&Object(p.a)(Object(m.e)("exception").min_gt_max),this.update_(),this}},{key:"getMaxRadius",value:function(){return this.maxRadius_}},{key:"setMaxRadius",value:function(t){return this.maxRadius_=parseInt(t,10),t<=this.minRadius_&&Object(p.a)(Object(m.e)("exception").max_lt_min),this.update_(),this}},{key:"updateCanvas",value:function(){var t=this;this.updateCanvasPromise_=new Promise((function(e,r){if(!Object(f.X)(t.layer_)){var n=t.styles_.filter((function(t){return t instanceof Si.a}))[0],i=Object(f.X)(n)?t.layer_.getStyle():n;if((i=Object(f.X)(i)?t.style_:i)instanceof Si.a){var a=i.clone();a instanceof aa.a?a=new oa.a(a.getOptions().point):a instanceof oa.a||(a=new oa.a(a.getOptions()));var s=o.getSizeAttribute(a),c=a.clone(),l=a.clone(),u=t.getMaxRadius(),h=t.getMinRadius();c.set(s,u),l.set(s,h),t.loadCanvasImage(u,c.toImage(),(function(r){t.loadCanvasImage(h,l.toImage(),(function(n){t.drawGeometryToCanvas(r,n,e)}))}))}else Object(f.X)(i)||(t.canvas_=i.canvas,e())}}))}},{key:"loadCanvasImage",value:function(t,e,r){var n=new Image;n.crossOrigin="Anonymous",n.onload=function(){r({image:n,value:t})},n.onerror=function(){r({value:t})},n.src=e}},{key:"drawGeometryToCanvas",value:function(t,e,r){var n=t.image,i=e.image;this.canvas_.height=n.height+5+i.height+5;var o=this.canvas_.getContext("2d");o.textBaseline="middle";var a=0,s=0;if(Object(f.X)(n)||(a=n.width+5,s=n.height/2,/^https?:\/\//i.test(n.src)?(this.canvas_.height=130,o.fillText("  max: ".concat(this.maxValue_),85,40),o.drawImage(n,0,0,80,80)):(o.fillText("  max: ".concat(this.maxValue_),a,s),o.drawImage(n,0,0))),!Object(f.X)(i)){var c=0;Object(f.X)(n)||(c=n.width/2-i.width/2);var l=n.height+5;s=l+i.height/2,/^https?:\/\//i.test(i.src)?(o.fillText("  min: ".concat(this.minValue_),85,105),o.drawImage(i,20,85,40,40)):(o.fillText("  min: ".concat(this.minValue_),a,s),o.drawImage(i,c,l))}r()}},{key:"calculateStyle_",value:function(t,e,r){var n=this.proportionalFunction_,i=r;if(!Object(f.X)(i)){i=i.clone();var a=[e.minRadius,e.maxRadius],s=a[0],c=a[1];Object(f.X)(i.get("icon.src"))||(s=e.minRadius/o.SCALE_PROPORTION,c=e.maxRadius/o.SCALE_PROPORTION);var l=t.getAttribute(this.attributeName_);null==l&&console.warn("Warning: ".concat(this.attributeName_," value is null or empty."));var u=n(l,e.minValue,e.maxValue,s,c),h=e.maxValue-parseFloat(t.getAttribute(this.attributeName_));i.set("".concat(o.getSizeAttribute(i)),u),i.set("zindex",h)}return i}},{key:"ORDER",get:function(){return 3}},{key:"toJSON",value:function(){var t=this.getAttributeName(),e=this.getMinRadius(),r=this.getMaxRadius(),n=this.getStyles().map((function(t){return t.serialize()})),i=Object(f.kb)(this.getProportionalFunction()),o=Object(f.u)({},this.getOptions());return{parameters:[t,e,r,n,i,o=Object(f.kb)(o)],deserializedMethod:"M.style.Proportional.deserialize"}}}])&&za(e.prototype,r),n&&za(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(ia.a);Ha.SCALE_PROPORTION=20;var Ja=Ha;function Qa(t){return(Qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ts(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==Qa(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Qa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===Qa(o)?o:String(o)),n)}var i,o}function es(t,e){return(es=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function rs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=is(t);if(e){var i=is(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return ns(this,r)}}function ns(t,e){if(e&&("object"===Qa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function is(t){return(is=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var os=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&es(t,e)}(o,t);var e,r,n,i=rs(o);function o(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};$a(this,o);var r=e,n=new vo(r);return t=i.call(this,r,n),Object(f.X)(r)&&(r=o.DEFAULT_NULL),r=Object(f.u)({},r),t}return e=o,(r=[{key:"getDeserializedMethod_",value:function(){return"((serializedParameters) => M.style.Simple.deserialize(serializedParameters, 'M.style.Polygon'))"}}])&&ts(e.prototype,r),n&&ts(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(Si.a);os.DEFAULT_NULL={fill:{color:"rgba(255, 255, 255, 0.4)",opacity:.4},stroke:{color:"#3399CC",width:1.5}};var as=os,ss={generateStyleLayer:function(t,e){var r;switch(e.getGeometryType()){case"Point":case"MultiPoint":r=new oa.a(t);break;case"LineString":case"MultiLineString":r=new Ai(t);break;case"Polygon":case"MultiPolygon":r=new as(t);break;default:return null}return r},generateRandomGenericStyle:function(t){var e=t.radius,r=di.a.random().hex(),n=t.strokeColor,i=t.strokeWidth,o={point:{radius:e,fill:{color:r},stroke:{color:n,width:i}},line:{fill:{color:r},stroke:{color:n,width:i}},polygon:{fill:{color:r},stroke:{color:n,width:i}}};return new aa.a(o)}};function cs(t){return(cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ls(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return us(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return us(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function us(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fs(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==cs(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==cs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===cs(o)?o:String(o)),n)}var i,o}function ps(){return(ps="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=ds(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function ds(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_s(t)););return t}function ms(t,e){return(ms=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ys(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=_s(t);if(e){var i=_s(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return gs(this,r)}}function gs(t,e){if(e&&("object"===cs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _s(t){return(_s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ms(t,e)}(o,t);var e,r,n,i=ys(o);function o(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return hs(this,o),r=i.call(this,n,{}),Object(f.X)(t)&&Object(p.a)(Object(m.e)("exception").no_attr_name),r.attributeName_=t,r.categoryStyles_=e,r}return e=o,n=[{key:"deserialize",value:function(t){var e=ls(t,4),r=e[0],n=e[1],i=e[2],o=e[3],a=r,s=n;Object.keys(n).forEach((function(t){s[t]=S.a.deserialize(n[t])}));var c=Object(f.k)(i),l=new Function(["attributeName","categoryStyles","options"],"return new M.style.Category(attributeName, categoryStyles, options)")(a,s,c),u=o.map((function(t){return S.a.deserialize(t)}));return l.add(u),l}}],(r=[{key:"ORDER",get:function(){return 2}},{key:"applyInternal",value:function(t){this.layer_=t,this.update_()}},{key:"getAttributeName",value:function(){return this.attributeName_}},{key:"setAttributeName",value:function(t){return this.attributeName_=t,this.update_(),this.refresh(),this}},{key:"getCategories",value:function(){return this.categoryStyles_}},{key:"setCategories",value:function(t){return this.categoryStyles_=t,this.update_(),this.refresh(),this}},{key:"getStyleForCategory",value:function(t){return this.categoryStyles_[t]}},{key:"setStyleForCategory",value:function(t,e){return this.categoryStyles_[t]=e,this.update_(),this.refresh(),this}},{key:"updateCanvas",value:function(){var t=this,e=[];this.updateCanvasPromise_=new Promise((function(r,n){return t.loadCanvasImages_(0,e,r)}))}},{key:"loadCanvasImages_",value:function(t,e,r){var n=this,i=this.getCategories(),o=Object.keys(i);if(t===o.length)this.drawGeometryToCanvas(e,r);else{var a=o[t],s=this.getStyleForCategory(a),c=new Image;if(c.crossOrigin="Anonymous",c.onload=function(){e.push({image:c,categoryName:a}),n.loadCanvasImages_(t+1,e,r)},c.onerror=function(){e.push({categoryName:a}),n.loadCanvasImages_(t+1,e,r)},s.updateCanvas(),s.get("icon.src"))Object(f.E)(s.get("icon.src")).then((function(t){c.width=s.get("icon.scale")?t.width*s.get("icon.scale"):t.width,c.height=s.get("icon.scale")?t.height*s.get("icon.scale"):t.height,s.toImage().then((function(t){c.src=t}))}));else{var l=s.toImage();l instanceof Promise?l.then((function(t){c.src=t})):c.src=l}}}},{key:"drawGeometryToCanvas",value:function(t,e){var r=t.map((function(t){return t.image.height})),n=t.map((function(t){return t.image.width})),i=this.canvas_.getContext("2d");i.canvas.height=r.reduce((function(t,e){return t+e+5})),i.textBaseline="middle";var o=Math.max.apply(n,n);t.forEach((function(t,e){var n=t.image,a=t.categoryName,s=0,c=r.slice(0,e);Object(f.X)(c)||(s=c.reduce((function(t,e){return t+e+5})),s+=5);var l=0;if(!Object(f.X)(n)){l=n.height;var u=(o-n.width)/2;i.drawImage(n,u,s,n.width,n.height)}i.fillText(a,o+5,s+l/2)})),e()}},{key:"update_",value:function(){var t=this;if(!Object(f.X)(this.layer_)){(Object(f.X)(this.categoryStyles_)||0===Object.keys(this.categoryStyles_).length)&&(this.categoryStyles_=this.generateRandomCategories_());var e=this.categoryStyles_.other;this.layer_.getFeatures().forEach((function(r){var n=r.getAttribute(t.attributeName_),i=t.categoryStyles_[n];Object(f.X)(i)?Object(f.X)(e)||r.setStyle(e):r.setStyle(i)})),this.updateCanvas()}}},{key:"add",value:function(t){var e=t;return Object(f.R)(e)||(e=[e]),e=e.filter((function(t){return t instanceof Oa.a||t instanceof Ja})),ps(_s(o.prototype),"add",this).call(this,e)}},{key:"generateRandomCategories_",value:function(){var t=this,e={};return Object(f.X)(this.layer_)||this.layer_.getFeatures().forEach((function(r){var n=r.getAttribute(t.attributeName_);Object.prototype.hasOwnProperty.call(e,n)||(e[n]=ss.generateRandomGenericStyle({radius:o.RANDOM_RADIUS_OPTION,strokeColor:o.RANDOM_STROKE_COLOR_OPTION,strokeWidth:o.RANDOM_STROKE_WIDTH_OPTION}))})),e}},{key:"toJSON",value:function(){var t=this.getAttributeName(),e=this.getCategories(),r={};Object.keys(e).forEach((function(t){r[t]=e[t].serialize()}));var n=Object(f.u)({},this.getOptions());n=Object(f.kb)(n);var i=this.getStyles().map((function(t){return t.serialize()}));return{parameters:[t,r,n,i],deserializedMethod:"M.style.Category.deserialize"}}}])&&fs(e.prototype,r),n&&fs(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(ia.a);bs.RANDOM_RADIUS_OPTION=10,bs.RANDOM_STROKE_WIDTH_OPTION=1,bs.RANDOM_STROKE_COLOR_OPTION="black";var vs=bs;function Os(t){return(Os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ws(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==Os(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Os(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===Os(o)?o:String(o)),n)}var i,o}function Ms(t,e){return(Ms=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Es(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ss(t);if(e){var i=Ss(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return xs(this,r)}}function xs(t,e){if(e&&("object"===Os(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ss(t){return(Ss=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var js=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ms(t,e)}(o,t);var e,r,n,i=Es(o);function o(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var e=t;Object(f.X)(e)&&(e=o.DEFAULT_NULL),e=Object(f.u)({},e);var r=new Zi(e);return i.call(this,e,r)}return e=o,(r=[{key:"unapply",value:function(t){this.getImpl().unapply(t)}},{key:"getDeserializedMethod_",value:function(){return"((serializedParameters) => M.style.Simple.deserialize(serializedParameters, 'M.style.FlowLine'))"}}])&&ws(e.prototype,r),n&&ws(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(Si.a);js.DEFAULT_NULL={color:"red",color2:"yellow",arrowColor:"",width:2,width2:25,arrow:0,lineCap:"butt"};var Ps=js;function Ts(t){return(Ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Is(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==Ts(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ts(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===Ts(o)?o:String(o)),n)}var i,o}var Ls=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n;return e=t,n=[{key:"addSymbol",value:function(t,e){return $n.a.addDefs(t,e)}}],(r=null)&&Is(e.prototype,r),n&&Is(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Rs(t){return(Rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cs(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||ks(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function As(t){return function(t){if(Array.isArray(t))return Ns(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ks(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ks(t,e){if(t){if("string"==typeof t)return Ns(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ns(t,e):void 0}}function Ns(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ds(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fs(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==Rs(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Rs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===Rs(o)?o:String(o)),n)}var i,o}function Bs(t,e){return(Bs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Us(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=zs(t);if(e){var i=zs(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Gs(this,r)}}function Gs(t,e){if(e&&("object"===Rs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function zs(t){return(zs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ws=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bs(t,e)}(o,t);var e,r,n,i=Us(o);function o(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ds(this,o);var a=r,s=n;if(!t||Object(f.Z)(t)||Object(f.U)(t)||Object(p.a)(Object(m.e)("exception").no_empty),Object(f.X)(a.gradient)||Object(f.R)(a.gradient)||(a.gradient=[a.gradient]),a.gradient=a.gradient||o.DEFAULT_OPTIONS.gradient,a.gradient.length<2){var c=Object(f.Q)(a.gradient[0]);a.gradient.push(c)}a.blur=Object(f.X)(a.blur)?o.DEFAULT_OPTIONS.blur:parseFloat(a.blur),a.radius=Object(f.X)(a.radius)?o.DEFAULT_OPTIONS.radius:parseFloat(a.radius),a.weight=t,s.opacity=Number.isNaN(parseFloat(s.opacity))?1:parseFloat(s.opacity);var l=new ro(t,a,s);return(e=i.call(this,a,l)).attribute_=t,e.options_=a,e.vendorOptions_=s,e}return e=o,n=[{key:"deserialize",value:function(t){var e=Cs(t,3),r=e[0],n=e[1],i=e[2],o=r,a=Object(f.k)(n),s=Object(f.k)(i);return new Function(["attribute","options","vendorOptions"],"return new M.style.Heatmap(attribute, options, vendorOptions)")(o,a,s)}}],(r=[{key:"unapply",value:function(t){this.layer_=null,this.getImpl().unapply(t)}},{key:"getAttributeName",value:function(){return this.attribute_}},{key:"setAttributeName",value:function(t){this.attribute_=t,this.options_.weight=this.attribute_,this.update_()}},{key:"getGradient",value:function(){return this.options_.gradient}},{key:"setGradient",value:function(t){var e=t;if(Object(f.R)(e)||(e=[e]),e.length<2){var r=Object(f.Q)(e[0]);e.push(r)}this.options_.gradient=e,this.update_()}},{key:"getRadius",value:function(){return this.options_.radius}},{key:"setRadius",value:function(t){this.options_.radius=t,this.update_()}},{key:"getBlurSize",value:function(){return this.options_.blur}},{key:"setBlurSize",value:function(t){this.options_.blur=t,this.update_()}},{key:"update_",value:function(){var t=this.getImpl();t.unapply(this.layer_),t.setOptions(this.options_,this.vendorOptions_),t.applyToLayer(this.layer_)}},{key:"drawGeometryToCanvas",value:function(){var t=[this.getImpl().getMinWeight(),this.getImpl().getMaxWeight()],e=t[0],r=t[1],n=this.canvas_.getContext("2d"),i=n.createLinearGradient(0,150,200,150),o=Object(f.y)([0,1],this.options_.gradient.length);this.options_.gradient.forEach((function(t,e){return i.addColorStop(o[e],t)})),n.fillStyle=i,n.fillRect(0,20,200,30),n.fillStyle="#000",n.font="10px sans-serif",n.fillText(e,0,60),n.fillText(r,199,60)}},{key:"updateCanvas",value:function(){this.drawGeometryToCanvas()}},{key:"toJSON",value:function(){var t=this.getAttributeName(),e=this.getOptions();return{parameters:[t,{gradient:As(e.gradient),blur:e.blur,radius:e.radius,weight:e.weight},this.vendorOptions_],deserializedMethod:"M.style.Heatmap.deserialize"}}}])&&Fs(e.prototype,r),n&&Fs(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(S.a);Ws.DEFAULT_OPTIONS={gradient:["#00f","#0ff","#0f0","#ff0","#f00"],blur:15,radius:10};var Xs=Ws,qs=r(31),Vs=r(141),Ys=r(150),Zs=r(127),Ks=r(226),Hs=r(339),Js=r(129),Qs=r(49),$s=r(92),tc=r(324),ec=(r(792),r(653)),rc=r.n(ec),nc=function(t){var e=t.parentElement;e.removeChild(t),e.children&&0!==e.children.length||e.remove()},ic=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4e3,o={message:t,severity:e,icon:r,order:n,translations:{close:Object(m.e)("toast").close}},a=Object(qs.c)(rc.a,{vars:o}),s=document.querySelector("div.m-mapea-container"),c=document.querySelector("div.m-toasts-container");c||((c=document.createElement("div")).classList.add("m-toasts-container"),s.appendChild(c));var l=setTimeout((function(){nc(a)}),i),u=a.querySelector("button.m-toast-button");u.addEventListener("click",(function(){nc(a),clearTimeout(l)})),c.appendChild(a)},oc=r(81),ac=r(225),sc=r(269),cc=r(67),lc=r(412),uc=r(382),hc=r(379),fc=r(280),pc=r(284),dc=r(293),mc=r(181),yc=r(173),gc=r(82),_c=r(357),bc=r(358),vc=r(359),Oc=r(257),wc=r(265),Mc=r(209),Ec=r(256),xc=r(360),Sc=r(40),jc=r(230),Pc=r(21),Tc=r(106),Ic=r(162),Lc=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rc={};Rc[kr.a.POINT]=function(t){var e;e=void 0!==t.m&&void 0!==t.z?new ot.a([t.x,t.y,t.z,t.m],Pc.a.XYZM):void 0!==t.z?new ot.a([t.x,t.y,t.z],Pc.a.XYZ):void 0!==t.m?new ot.a([t.x,t.y,t.m],Pc.a.XYM):new ot.a([t.x,t.y]);return e},Rc[kr.a.LINE_STRING]=function(t){var e=kc(t);return new Ln.a(t.paths[0],e)},Rc[kr.a.POLYGON]=function(t){var e=kc(t);return new Nn.b(t.rings,e)},Rc[kr.a.MULTI_POINT]=function(t){var e=kc(t);return new An.a(t.points,e)},Rc[kr.a.MULTI_LINE_STRING]=function(t){var e=kc(t);return new Cn.a(t.paths,e)},Rc[kr.a.MULTI_POLYGON]=function(t){var e=kc(t);return new kn.a(t.rings,e)};var Cc={};function Ac(t,e){var r,n,i;if(!t)return null;if("number"==typeof t.x&&"number"==typeof t.y)i=kr.a.POINT;else if(t.points)i=kr.a.MULTI_POINT;else if(t.paths){i=1===t.paths.length?kr.a.LINE_STRING:kr.a.MULTI_LINE_STRING}else if(t.rings){var o=t,a=kc(o),s=function(t,e){var r,n,i=[],o=[],a=[];for(r=0,n=t.length;r<n;++r){i.length=0,Object(Tc.b)(i,0,t[r],e.length),Object(Ic.a)(i,0,i.length,e.length)?o.push([t[r]]):a.push(t[r])}for(;a.length;){var s=a.shift(),c=!1;for(r=o.length-1;r>=0;r--){var l=o[r][0];if(Object(Wr.h)(new Rn.a(l).getExtent(),new Rn.a(s).getExtent())){o[r].push(s),c=!0;break}}c||o.push([s.reverse()])}return o}(o.rings,a);1===s.length?(i=kr.a.POLYGON,t=Object.assign({},t,((r={}).rings=s[0],r))):(i=kr.a.MULTI_POLYGON,t=Object.assign({},t,((n={}).rings=s,n)))}var c=Rc[i];return Object(Sc.c)(c(t),!1,e)}function kc(t){var e=Pc.a.XY;return!0===t.hasZ&&!0===t.hasM?e=Pc.a.XYZM:!0===t.hasZ?e=Pc.a.XYZ:!0===t.hasM&&(e=Pc.a.XYM),e}function Nc(t){var e=t.getLayout();return{hasZ:e===Pc.a.XYZ||e===Pc.a.XYZM,hasM:e===Pc.a.XYM||e===Pc.a.XYZM}}function Dc(t,e){return(0,Cc[t.getType()])(Object(Sc.c)(t,!0,e),e)}Cc[kr.a.POINT]=function(t,e){var r,n=t.getCoordinates(),i=t.getLayout();i===Pc.a.XYZ?r={x:n[0],y:n[1],z:n[2]}:i===Pc.a.XYM?r={x:n[0],y:n[1],m:n[2]}:i===Pc.a.XYZM?r={x:n[0],y:n[1],z:n[2],m:n[3]}:i===Pc.a.XY?r={x:n[0],y:n[1]}:Object(hr.a)(!1,34);return r},Cc[kr.a.LINE_STRING]=function(t,e){var r=Nc(t);return{hasZ:r.hasZ,hasM:r.hasM,paths:[t.getCoordinates()]}},Cc[kr.a.POLYGON]=function(t,e){var r=Nc(t);return{hasZ:r.hasZ,hasM:r.hasM,rings:t.getCoordinates(!1)}},Cc[kr.a.MULTI_POINT]=function(t,e){var r=Nc(t);return{hasZ:r.hasZ,hasM:r.hasM,points:t.getCoordinates()}},Cc[kr.a.MULTI_LINE_STRING]=function(t,e){var r=Nc(t);return{hasZ:r.hasZ,hasM:r.hasM,paths:t.getCoordinates()}},Cc[kr.a.MULTI_POLYGON]=function(t,e){for(var r=Nc(t),n=t.getCoordinates(!1),i=[],o=0;o<n.length;o++)for(var a=n[o].length-1;a>=0;a--)i.push(n[o][a]);return{hasZ:r.hasZ,hasM:r.hasM,rings:i}};var Fc=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this)||this).geometryName_=n.geometryName,r}return Lc(e,t),e.prototype.readFeatureFromObject=function(t,e){var r=t,n=Ac(r.geometry,e),i=new nt.a;return this.geometryName_&&i.setGeometryName(this.geometryName_),i.setGeometry(n),e&&e.idField&&r.attributes[e.idField]&&i.setId(r.attributes[e.idField]),r.attributes&&i.setProperties(r.attributes,!0),i},e.prototype.readFeaturesFromObject=function(t,e){var r=e||{};if(t.features){var n=[],i=t.features;r.idField=t.objectIdFieldName;for(var o=0,a=i.length;o<a;++o)n.push(this.readFeatureFromObject(i[o],r));return n}return[this.readFeatureFromObject(t,r)]},e.prototype.readGeometryFromObject=function(t,e){return Ac(t,e)},e.prototype.readProjectionFromObject=function(t){if(t.spatialReference&&void 0!==t.spatialReference.wkid){var e=t.spatialReference.wkid;return Object(Ve.j)("EPSG:"+e)}return null},e.prototype.writeGeometryObject=function(t,e){return Dc(t,this.adaptOptions(e))},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var r={},n=t.getGeometry();n&&(r.geometry=Dc(n,e),e&&e.featureProjection&&(r.geometry.spatialReference={wkid:Number(Object(Ve.j)(e.featureProjection).getCode().split(":").pop())}));var i=t.getProperties();return delete i[t.getGeometryName()],Object(cr.d)(i)?r.attributes={}:r.attributes=i,r},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var r=[],n=0,i=t.length;n<i;++n)r.push(this.writeFeatureObject(t[n],e));return{features:r}},e}(jc.a),Bc=r(187),Uc=r(157),Gc=r(37),zc=r(338),Wc=r(385),Xc=r(281),qc=r(232),Vc=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yc="barometric",Zc="gps",Kc="none",Hc=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,Jc=/^H.([A-Z]{3}).*?:(.*)/,Qc=/^HFDTE(\d{2})(\d{2})(\d{2})/,$c=/\r\n|\r|\n/,tl=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.dataProjection=Object(Ve.j)("EPSG:4326"),r.altitudeMode_=n.altitudeMode?n.altitudeMode:Kc,r}return Vc(e,t),e.prototype.readFeatureFromText=function(t,e){var r,n,i=this.altitudeMode_,o=t.split($c),a={},s=[],c=2e3,l=0,u=1,h=-1;for(r=0,n=o.length;r<n;++r){var f=o[r],p=void 0;if("B"==f.charAt(0)){if(p=Hc.exec(f)){var d=parseInt(p[1],10),m=parseInt(p[2],10),y=parseInt(p[3],10),g=parseInt(p[4],10)+parseInt(p[5],10)/6e4;"S"==p[6]&&(g=-g);var _=parseInt(p[7],10)+parseInt(p[8],10)/6e4;if("W"==p[9]&&(_=-_),s.push(_,g),i!=Kc){var b=void 0;b=i==Zc?parseInt(p[11],10):i==Yc?parseInt(p[12],10):0,s.push(b)}var v=Date.UTC(c,l,u,d,m,y);v<h&&(v=Date.UTC(c,l,u+1,d,m,y)),s.push(v/1e3),h=v}}else"H"==f.charAt(0)&&((p=Qc.exec(f))?(u=parseInt(p[1],10),l=parseInt(p[2],10)-1,c=2e3+parseInt(p[3],10)):(p=Jc.exec(f))&&(a[p[1]]=p[2].trim()))}if(0===s.length)return null;var O=i==Kc?Pc.a.XYM:Pc.a.XYZM,w=new Ln.a(s,O),M=new nt.a(Object(Sc.c)(w,!1,e));return M.setProperties(a,!0),M},e.prototype.readFeaturesFromText=function(t,e){var r=this.readFeatureFromText(t,e);return r?[r]:[]},e}(qc.a),el="version1",rl="version2",nl="version3",il={};il[el]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["native","color","grey","bitonal"]}},il[rl]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByDistortedWh","sizeByWh"],formats:["jpg","png"],qualities:["default","bitonal"]}},il[nl]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionSquare","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["default"]}},il.none={none:{supports:[],formats:[],qualities:[]}};var ol=new RegExp("^https?://library.stanford.edu/iiif/image-api/(1.1/)?compliance.html#level[0-2]$"),al=new RegExp("^https?://iiif.io/api/image/2/level[0-2](.json)?$"),sl=new RegExp("(^https?://iiif.io/api/image/3/level[0-2](.json)?$)|(^level[0-2]$)");var cl={};cl[el]=function(t){var e=t.getComplianceLevelSupportedFeatures();return void 0===e&&(e=il[el].level0),{url:void 0===t.imageInfo["@id"]?void 0:t.imageInfo["@id"].replace(/\/?(info.json)?$/g,""),supports:e.supports,formats:e.formats.concat([void 0===t.imageInfo.formats?[]:t.imageInfo.formats]),qualities:e.qualities.concat([void 0===t.imageInfo.qualities?[]:t.imageInfo.qualities]),resolutions:t.imageInfo.scale_factors,tileSize:void 0!==t.imageInfo.tile_width?void 0!==t.imageInfo.tile_height?[t.imageInfo.tile_width,t.imageInfo.tile_height]:[t.imageInfo.tile_width,t.imageInfo.tile_width]:null!=t.imageInfo.tile_height?[t.imageInfo.tile_height,t.imageInfo.tile_height]:void 0}},cl[rl]=function(t){var e=t.getComplianceLevelSupportedFeatures(),r=Array.isArray(t.imageInfo.profile)&&t.imageInfo.profile.length>1,n=r&&t.imageInfo.profile[1].supports?t.imageInfo.profile[1].supports:[],i=r&&t.imageInfo.profile[1].formats?t.imageInfo.profile[1].formats:[],o=r&&t.imageInfo.profile[1].qualities?t.imageInfo.profile[1].qualities:[];return{url:t.imageInfo["@id"].replace(/\/?(info.json)?$/g,""),sizes:void 0===t.imageInfo.sizes?void 0:t.imageInfo.sizes.map((function(t){return[t.width,t.height]})),tileSize:void 0===t.imageInfo.tiles?void 0:[t.imageInfo.tiles.map((function(t){return t.width}))[0],t.imageInfo.tiles.map((function(t){return void 0===t.height?t.width:t.height}))[0]],resolutions:void 0===t.imageInfo.tiles?void 0:t.imageInfo.tiles.map((function(t){return t.scaleFactors}))[0],supports:e.supports.concat(n),formats:e.formats.concat(i),qualities:e.qualities.concat(o)}},cl[nl]=function(t){var e=t.getComplianceLevelSupportedFeatures(),r=void 0===t.imageInfo.extraFormats?e.formats:e.formats.concat(t.imageInfo.extraFormats),n=void 0!==t.imageInfo.preferredFormats&&Array.isArray(t.imageInfo.preferredFormats)&&t.imageInfo.preferredFormats.length>0?t.imageInfo.preferredFormats.filter((function(t){return["jpg","png","gif"].includes(t)})).reduce((function(t,e){return void 0===t&&r.includes(e)?e:t}),void 0):void 0;return{url:t.imageInfo.id,sizes:void 0===t.imageInfo.sizes?void 0:t.imageInfo.sizes.map((function(t){return[t.width,t.height]})),tileSize:void 0===t.imageInfo.tiles?void 0:[t.imageInfo.tiles.map((function(t){return t.width}))[0],t.imageInfo.tiles.map((function(t){return t.height}))[0]],resolutions:void 0===t.imageInfo.tiles?void 0:t.imageInfo.tiles.map((function(t){return t.scaleFactors}))[0],supports:void 0===t.imageInfo.extraFeatures?e.supports:e.supports.concat(t.imageInfo.extraFeatures),formats:r,qualities:void 0===t.imageInfo.extraQualities?e.qualities:e.qualities.concat(t.imageInfo.extraQualities),preferredFormat:n}};var ll=function(){function t(t){this.setImageInfo(t)}return t.prototype.setImageInfo=function(t){this.imageInfo="string"==typeof t?JSON.parse(t):t},t.prototype.getImageApiVersion=function(){if(void 0!==this.imageInfo){var t=this.imageInfo["@context"]||"ol-no-context";"string"==typeof t&&(t=[t]);for(var e=0;e<t.length;e++)switch(t[e]){case"http://library.stanford.edu/iiif/image-api/1.1/context.json":case"http://iiif.io/api/image/1/context.json":return el;case"http://iiif.io/api/image/2/context.json":return rl;case"http://iiif.io/api/image/3/context.json":return nl;case"ol-no-context":if(this.getComplianceLevelEntryFromProfile(el)&&this.imageInfo.identifier)return el}Object(hr.a)(!1,61)}},t.prototype.getComplianceLevelEntryFromProfile=function(t){if(void 0!==this.imageInfo&&void 0!==this.imageInfo.profile)switch(void 0===t&&(t=this.getImageApiVersion()),t){case el:if(ol.test(this.imageInfo.profile))return this.imageInfo.profile;break;case nl:if(sl.test(this.imageInfo.profile))return this.imageInfo.profile;break;case rl:if("string"==typeof this.imageInfo.profile&&al.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&this.imageInfo.profile.length>0&&"string"==typeof this.imageInfo.profile[0]&&al.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0]}},t.prototype.getComplianceLevelFromProfile=function(t){var e=this.getComplianceLevelEntryFromProfile(t);if(void 0!==e){var r=e.match(/level[0-2](\.json)?$/g);return Array.isArray(r)?r[0].replace(".json",""):void 0}},t.prototype.getComplianceLevelSupportedFeatures=function(){if(void 0!==this.imageInfo){var t=this.getImageApiVersion(),e=this.getComplianceLevelFromProfile(t);return void 0===e?il.none.none:il[t][e]}},t.prototype.getTileSourceOptions=function(t){var e=t||{},r=this.getImageApiVersion();if(void 0!==r){var n=void 0===r?void 0:cl[r](this);if(void 0!==n)return{url:n.url,version:r,size:[this.imageInfo.width,this.imageInfo.height],sizes:n.sizes,format:void 0!==e.format&&n.formats.includes(e.format)?e.format:void 0!==n.preferredFormat?n.preferredFormat:"jpg",supports:n.supports,quality:e.quality&&n.qualities.includes(e.quality)?e.quality:n.qualities.includes("native")?"native":"default",resolutions:Array.isArray(n.resolutions)?n.resolutions.sort((function(t,e){return e-t})):void 0,tileSize:n.tileSize}}},t}(),ul=r(283),hl=r(242),fl=r(145),pl=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),dl=[null],ml=Object(ke.r)(dl,{nd:function(t,e){e[e.length-1].ndrefs.push(t.getAttribute("ref"))},tag:bl}),yl=Object(ke.r)(dl,{node:function(t,e){var r=e[0],n=e[e.length-1],i=t.getAttribute("id"),o=[parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))];n.nodes[i]=o;var a=Object(ke.u)({tags:{}},_l,t,e);if(!Object(cr.d)(a.tags)){var s=new ot.a(o);Object(Sc.c)(s,!1,r);var c=new nt.a(s);c.setId(i),c.setProperties(a.tags,!0),n.features.push(c)}},way:function(t,e){var r=t.getAttribute("id"),n=Object(ke.u)({id:r,ndrefs:[],tags:{}},ml,t,e);e[e.length-1].ways.push(n)}}),gl=function(t){function e(){var e=t.call(this)||this;return e.dataProjection=Object(Ve.j)("EPSG:4326"),e}return pl(e,t),e.prototype.readFeaturesFromNode=function(t,e){var r=this.getReadOptions(t,e);if("osm"==t.localName){for(var n=Object(ke.u)({nodes:{},ways:[],features:[]},yl,t,[r]),i=0;i<n.ways.length;i++){for(var o=n.ways[i],a=[],s=0,c=o.ndrefs.length;s<c;s++){var l=n.nodes[o.ndrefs[s]];Object(Mr.c)(a,l)}var u=void 0;u=o.ndrefs[0]==o.ndrefs[o.ndrefs.length-1]?new Nn.b(a,Pc.a.XY,[a.length]):new Ln.a(a,Pc.a.XY),Object(Sc.c)(u,!1,r);var h=new nt.a(u);h.setId(o.id),h.setProperties(o.tags,!0),n.features.push(h)}if(n.features)return n.features}return[]},e}(fl.a),_l=Object(ke.r)(dl,{tag:bl});function bl(t,e){e[e.length-1].tags[t.getAttribute("k")]=t.getAttribute("v")}var vl=gl,Ol=r(89);function wl(t,e,r,n,i,o){var a,s;void 0!==i?(a=i,s=void 0!==o?o:0):(a=[],s=0);for(var c=e;c<r;){var l=t[c++];a[s++]=t[c++],a[s++]=l;for(var u=2;u<n;++u)a[s++]=t[c++]}return a.length=s,a}var Ml=r(109),El=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function xl(t,e,r){var n,i=r||1e5,o=new Array(e);for(n=0;n<e;++n)o[n]=0;for(var a=0,s=t.length;a<s;)for(n=0;n<e;++n,++a){var c=t[a],l=c-o[n];o[n]=c,t[a]=l}return jl(t,i)}function Sl(t,e,r){var n,i=r||1e5,o=new Array(e);for(n=0;n<e;++n)o[n]=0;for(var a=Pl(t,i),s=0,c=a.length;s<c;)for(n=0;n<e;++n,++s)o[n]+=a[s],a[s]=o[n];return a}function jl(t,e){for(var r=e||1e5,n=0,i=t.length;n<i;++n)t[n]=Math.round(t[n]*r);return function(t){for(var e=0,r=t.length;e<r;++e){var n=t[e];t[e]=n<0?~(n<<1):n<<1}return function(t){for(var e="",r=0,n=t.length;r<n;++r)e+=Tl(t[r]);return e}(t)}(t)}function Pl(t,e){for(var r=e||1e5,n=function(t){for(var e=function(t){for(var e=[],r=0,n=0,i=0,o=t.length;i<o;++i){var a=t.charCodeAt(i)-63;r|=(31&a)<<n,a<32?(e.push(r),r=0,n=0):n+=5}return e}(t),r=0,n=e.length;r<n;++r){var i=e[r];e[r]=1&i?~(i>>1):i>>1}return e}(t),i=0,o=n.length;i<o;++i)n[i]/=r;return n}function Tl(t){for(var e,r="";t>=32;)e=63+(32|31&t),r+=String.fromCharCode(e),t>>=5;return e=t+63,r+=String.fromCharCode(e)}var Il=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.dataProjection=Object(Ve.j)("EPSG:4326"),r.factor_=n.factor?n.factor:1e5,r.geometryLayout_=n.geometryLayout?n.geometryLayout:Pc.a.XY,r}return El(e,t),e.prototype.readFeatureFromText=function(t,e){var r=this.readGeometryFromText(t,e);return new nt.a(r)},e.prototype.readFeaturesFromText=function(t,e){return[this.readFeatureFromText(t,e)]},e.prototype.readGeometryFromText=function(t,e){var r=Object(Ol.b)(this.geometryLayout_),n=Sl(t,r,this.factor_);wl(n,0,n.length,r,n);var i=Object(Ml.a)(n,0,n.length,r),o=new Ln.a(i,this.geometryLayout_);return Object(Sc.c)(o,!1,this.adaptOptions(e))},e.prototype.writeFeatureText=function(t,e){var r=t.getGeometry();return r?this.writeGeometryText(r,e):(Object(hr.a)(!1,40),"")},e.prototype.writeFeaturesText=function(t,e){return this.writeFeatureText(t[0],e)},e.prototype.writeGeometryText=function(t,e){var r=(t=Object(Sc.c)(t,!0,this.adaptOptions(e))).getFlatCoordinates(),n=t.getStride();return wl(r,0,r.length,n,r),xl(r,n,this.factor_)},e}(qc.a),Ll=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rl=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.layerName_=n.layerName,r.layers_=n.layers?n.layers:null,r.dataProjection=Object(Ve.j)(n.dataProjection?n.dataProjection:"EPSG:4326"),r}return Ll(e,t),e.prototype.readFeaturesFromObject=function(t,e){if("Topology"==t.type){var r=t,n=void 0,i=null,o=null;r.transform&&(i=(n=r.transform).scale,o=n.translate);var a=r.arcs;n&&function(t,e,r){for(var n=0,i=t.length;n<i;++n)Dl(t[n],e,r)}(a,i,o);var s=[],c=r.objects,l=this.layerName_,u=void 0;for(var h in c)this.layers_&&-1==this.layers_.indexOf(h)||("GeometryCollection"===c[h].type?(u=c[h],s.push.apply(s,kl(u,a,i,o,l,h,e))):(u=c[h],s.push(Nl(u,a,i,o,l,h,e))));return s}return[]},e.prototype.readProjectionFromObject=function(t){return this.dataProjection},e}(jc.a),Cl={Point:function(t,e,r){var n=t.coordinates;e&&r&&Fl(n,e,r);return new ot.a(n)},LineString:function(t,e){var r=Al(t.arcs,e);return new Ln.a(r)},Polygon:function(t,e){for(var r=[],n=0,i=t.arcs.length;n<i;++n)r[n]=Al(t.arcs[n],e);return new Nn.b(r)},MultiPoint:function(t,e,r){var n=t.coordinates;if(e&&r)for(var i=0,o=n.length;i<o;++i)Fl(n[i],e,r);return new An.a(n)},MultiLineString:function(t,e){for(var r=[],n=0,i=t.arcs.length;n<i;++n)r[n]=Al(t.arcs[n],e);return new Cn.a(r)},MultiPolygon:function(t,e){for(var r=[],n=0,i=t.arcs.length;n<i;++n){for(var o=t.arcs[n],a=[],s=0,c=o.length;s<c;++s)a[s]=Al(o[s],e);r[n]=a}return new kn.a(r)}};function Al(t,e){for(var r,n,i=[],o=0,a=t.length;o<a;++o)r=t[o],o>0&&i.pop(),n=r>=0?e[r]:e[~r].slice().reverse(),i.push.apply(i,n);for(var s=0,c=i.length;s<c;++s)i[s]=i[s].slice();return i}function kl(t,e,r,n,i,o,a){for(var s=t.geometries,c=[],l=0,u=s.length;l<u;++l)c[l]=Nl(s[l],e,r,n,i,o,a);return c}function Nl(t,e,r,n,i,o,a){var s,c=t.type,l=Cl[c];s="Point"===c||"MultiPoint"===c?l(t,r,n):l(t,e);var u=new nt.a;u.setGeometry(Object(Sc.c)(s,!1,a)),void 0!==t.id&&u.setId(t.id);var h=t.properties;return i&&(h||(h={}),h[i]=o),h&&u.setProperties(h,!0),u}function Dl(t,e,r){for(var n=0,i=0,o=0,a=t.length;o<a;++o){var s=t[o];n+=s[0],i+=s[1],s[0]=n,s[1]=i,Fl(s,e,r)}}function Fl(t,e,r){t[0]=t[0]*e[0]+r[0],t[1]=t[1]*e[1]+r[1]}var Bl=Rl,Ul=r(185),Gl=r(423),zl=r(372),Wl=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xl=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.featureNS_="http://mapserver.gis.umn.edu/mapserver",r.gmlFormat_=new Uc.a,r.layers_=n.layers?n.layers:null,r}return Wl(e,t),e.prototype.getLayers=function(){return this.layers_},e.prototype.setLayers=function(t){this.layers_=t},e.prototype.readFeatures_=function(t,e){t.setAttribute("namespaceURI",this.featureNS_);var r=t.localName,n=[];if(0===t.childNodes.length)return n;if("msGMLOutput"==r)for(var i=0,o=t.childNodes.length;i<o;i++){var a=t.childNodes[i];if(a.nodeType===Node.ELEMENT_NODE){var s=a,c=e[0],l=s.localName.replace("_layer","");if(!this.layers_||Object(Mr.f)(this.layers_,l)){var u=l+"_feature";c.featureType=u,c.featureNS=this.featureNS_;var h={};h[u]=Object(ke.j)(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var f=Object(ke.r)([c.featureNS,null],h);s.setAttribute("namespaceURI",this.featureNS_);var p=Object(ke.u)([],f,s,e,this.gmlFormat_);p&&Object(Mr.c)(n,p)}}}if("FeatureCollection"==r){var d=Object(ke.u)([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,t,[{}],this.gmlFormat_);d&&(n=d)}return n},e.prototype.readFeaturesFromNode=function(t,e){var r={};return e&&Object(cr.a)(r,this.getReadOptions(t,e)),this.readFeatures_(t,[r])},e}(fl.a),ql=r(389),Vl=r(390),Yl=r(402),Zl=r(393),Kl=r(397),Hl=r(398),Jl=r(391),Ql=r(400),$l=r(401),tu=r(399),eu=r(395),ru=r(396),nu=r(388),iu=r(394),ou=r(387),au=r(392),su=r(210),cu=r(361),lu=r(267),uu=r(259),hu=r(258),fu=r(362),pu=r(264),du=r(233),mu=r(363),yu=r(85),gu=r(266),_u=r(262),bu=r(314),vu=r(263),Ou=r(260),wu=r(261),Mu=r(70),Eu=r(231),xu=r(364),Su=r(315),ju=r(275),Pu=r(378),Tu=r(377),Iu=r(29);function Lu(t,e,r){for(var n,i,o,a,s,c,l=[],u=t(0),h=t(1),f=e(u),p=e(h),d=[h,u],m=[p,f],y=[1,0],g={},_=1e5;--_>0&&y.length>0;)o=y.pop(),u=d.pop(),f=m.pop(),(c=o.toString())in g||(l.push(f[0],f[1]),g[c]=!0),a=y.pop(),h=d.pop(),p=m.pop(),i=e(n=t(s=(o+a)/2)),Object(sr.g)(i[0],i[1],f[0],f[1],p[0],p[1])<r?(l.push(p[0],p[1]),g[c=a.toString()]=!0):(y.push(a,s,s,o),m.push(p,i,i,f),d.push(h,n,n,u));return l}var Ru=r(147),Cu=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Au=new it.a({color:"rgba(0,0,0,0.2)"}),ku=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001],Nu=function(t){function e(e){var r=this,n=e||{},i=Object(cr.a)({updateWhileAnimating:!0,updateWhileInteracting:!0,renderBuffer:0},n);return delete i.maxLines,delete i.strokeStyle,delete i.targetSize,delete i.showLabels,delete i.lonLabelFormatter,delete i.latLabelFormatter,delete i.lonLabelPosition,delete i.latLabelPosition,delete i.lonLabelStyle,delete i.latLabelStyle,delete i.intervals,(r=t.call(this,i)||this).projection_=null,r.maxLat_=1/0,r.maxLon_=1/0,r.minLat_=-1/0,r.minLon_=-1/0,r.maxX_=1/0,r.maxY_=1/0,r.minX_=-1/0,r.minY_=-1/0,r.targetSize_=void 0!==n.targetSize?n.targetSize:100,r.maxLines_=void 0!==n.maxLines?n.maxLines:100,r.meridians_=[],r.parallels_=[],r.strokeStyle_=void 0!==n.strokeStyle?n.strokeStyle:Au,r.fromLonLatTransform_=void 0,r.toLonLatTransform_=void 0,r.projectionCenterLonLat_=null,r.bottomLeft_=null,r.bottomRight_=null,r.topLeft_=null,r.topRight_=null,r.meridiansLabels_=null,r.parallelsLabels_=null,n.showLabels&&(r.lonLabelFormatter_=null==n.lonLabelFormatter?Iu.e.bind(r,"EW"):n.lonLabelFormatter,r.latLabelFormatter_=null==n.latLabelFormatter?Iu.e.bind(r,"NS"):n.latLabelFormatter,r.lonLabelPosition_=null==n.lonLabelPosition?0:n.lonLabelPosition,r.latLabelPosition_=null==n.latLabelPosition?1:n.latLabelPosition,r.lonLabelStyleBase_=new st.c({text:void 0!==n.lonLabelStyle?n.lonLabelStyle.clone():new at.a({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new tt.a({color:"rgba(0,0,0,1)"}),stroke:new it.a({color:"rgba(255,255,255,1)",width:3})})}),r.lonLabelStyle_=function(t){var e=t.get("graticule_label");return this.lonLabelStyleBase_.getText().setText(e),this.lonLabelStyleBase_}.bind(r),r.latLabelStyleBase_=new st.c({text:void 0!==n.latLabelStyle?n.latLabelStyle.clone():new at.a({font:"12px Calibri,sans-serif",textAlign:"right",fill:new tt.a({color:"rgba(0,0,0,1)"}),stroke:new it.a({color:"rgba(255,255,255,1)",width:3})})}),r.latLabelStyle_=function(t){var e=t.get("graticule_label");return this.latLabelStyleBase_.getText().setText(e),this.latLabelStyleBase_}.bind(r),r.meridiansLabels_=[],r.parallelsLabels_=[],r.addEventListener(Ru.a.POSTRENDER,r.drawLabels_.bind(r))),r.intervals_=void 0!==n.intervals?n.intervals:ku,r.setSource(new Xe.a({loader:r.loaderFunction.bind(r),strategy:r.strategyFunction.bind(r),features:new cc.a,overlaps:!1,useSpatialIndex:!1,wrapX:n.wrapX})),r.featurePool_=[],r.lineStyle_=new st.c({stroke:r.strokeStyle_}),r.loadedExtent_=null,r.renderedExtent_=null,r.setRenderOrder(null),r}return Cu(e,t),e.prototype.strategyFunction=function(t,e){var r=t.slice();return this.projection_&&this.getSource().getWrapX()&&Object(Wr.M)(r,this.projection_),this.loadedExtent_&&(Object(Wr.b)(this.loadedExtent_,r,e)?r=this.loadedExtent_.slice():this.getSource().removeLoadedExtent(this.loadedExtent_)),[r]},e.prototype.loaderFunction=function(t,e,r){this.loadedExtent_=t;var n=this.getSource(),i=this.getExtent()||[-1/0,-1/0,1/0,1/0],o=Object(Wr.C)(i,t);if(!(this.renderedExtent_&&Object(Wr.q)(this.renderedExtent_,o)||(this.renderedExtent_=o,Object(Wr.J)(o)))){var a=Object(Wr.y)(o),s=e*e/4;(!this.projection_||!Object(Ve.f)(this.projection_,r))&&this.updateProjectionInfo_(r),this.createGraticule_(o,a,e,s);var c,l=this.meridians_.length+this.parallels_.length;for(this.meridiansLabels_&&(l+=this.meridians_.length),this.parallelsLabels_&&(l+=this.parallels_.length);l>this.featurePool_.length;)c=new nt.a,this.featurePool_.push(c);var u=n.getFeaturesCollection();u.clear();var h,f,p=0;for(h=0,f=this.meridians_.length;h<f;++h)(c=this.featurePool_[p++]).setGeometry(this.meridians_[h]),c.setStyle(this.lineStyle_),u.push(c);for(h=0,f=this.parallels_.length;h<f;++h)(c=this.featurePool_[p++]).setGeometry(this.parallels_[h]),c.setStyle(this.lineStyle_),u.push(c)}},e.prototype.addMeridian_=function(t,e,r,n,i,o){var a=this.getMeridian_(t,e,r,n,o);if(Object(Wr.H)(a.getExtent(),i)){if(this.meridiansLabels_){var s=this.lonLabelFormatter_(t);o in this.meridiansLabels_?this.meridiansLabels_[o].text=s:this.meridiansLabels_[o]={geom:new ot.a([]),text:s}}this.meridians_[o++]=a}return o},e.prototype.addParallel_=function(t,e,r,n,i,o){var a=this.getParallel_(t,e,r,n,o);if(Object(Wr.H)(a.getExtent(),i)){if(this.parallelsLabels_){var s=this.latLabelFormatter_(t);o in this.parallelsLabels_?this.parallelsLabels_[o].text=s:this.parallelsLabels_[o]={geom:new ot.a([]),text:s}}this.parallels_[o++]=a}return o},e.prototype.drawLabels_=function(t){var e=t.frameState.viewState.rotation,r=t.frameState.extent,n=Object(Wr.y)(r),i=r;if(e){var o=Object(Wr.G)(r),a=Object(Wr.B)(r),s=Math.abs(Math.cos(e)),c=Math.abs(Math.sin(e)),l=(c*a-s*o)/(c*c-s*s),u=(c*o-s*a)/(c*c-s*s);i=[n[0]-l/2,n[1]-u/2,n[0]+l/2,n[1]+u/2]}var h=0,f=0,p=this.latLabelPosition_<.5,d=this.projection_.getExtent(),m=Object(Wr.G)(d);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!Object(Wr.h)(d,r)&&(h=Math.floor((r[0]-d[0])/m),f=Math.ceil((r[2]-d[2])/m),p=p!==Math.abs(e)>Math.PI/2);for(var y=Object(hi.b)(t),g=h;g<=f;++g){var _=this.meridians_.length+this.parallels_.length,b=void 0,v=void 0,O=void 0,w=void 0;if(this.meridiansLabels_)for(v=0,O=this.meridiansLabels_.length;v<O;++v){var M=this.meridians_[v];if(e||0!==g)(E=M.clone()).translate(g*m,0),E.rotate(-e,n),(w=this.getMeridianPoint_(E,i,v)).rotate(e,n);else w=this.getMeridianPoint_(M,r,v);(b=this.featurePool_[_++]).setGeometry(w),b.set("graticule_label",this.meridiansLabels_[v].text),y.drawFeature(b,this.lonLabelStyle_(b))}if(this.parallelsLabels_&&(g===h&&p||g===f&&!p))for(v=0,O=this.parallels_.length;v<O;++v){var E;M=this.parallels_[v];if(e||0!==g)(E=M.clone()).translate(g*m,0),E.rotate(-e,n),(w=this.getParallelPoint_(E,i,v)).rotate(e,n);else w=this.getParallelPoint_(M,r,v);(b=this.featurePool_[_++]).setGeometry(w),b.set("graticule_label",this.parallelsLabels_[v].text),y.drawFeature(b,this.latLabelStyle_(b))}}},e.prototype.createGraticule_=function(t,e,r,n){var i=this.getInterval_(r);if(-1==i)return this.meridians_.length=0,this.parallels_.length=0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),void(this.parallelsLabels_&&(this.parallelsLabels_.length=0));var o=!1,a=this.projection_.getExtent(),s=Object(Wr.G)(a);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!Object(Wr.h)(a,t)&&(Object(Wr.G)(t)>=s?(t[0]=a[0],t[2]=a[2]):o=!0);var c=[Object(sr.a)(e[0],this.minX_,this.maxX_),Object(sr.a)(e[1],this.minY_,this.maxY_)],l=this.toLonLatTransform_(c);isNaN(l[1])&&(l[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_);var u,h,f,p,d=Object(sr.a)(l[0],this.minLon_,this.maxLon_),m=Object(sr.a)(l[1],this.minLat_,this.maxLat_),y=this.maxLines_,g=t;o||(g=[Object(sr.a)(t[0],this.minX_,this.maxX_),Object(sr.a)(t[1],this.minY_,this.maxY_),Object(sr.a)(t[2],this.minX_,this.maxX_),Object(sr.a)(t[3],this.minY_,this.maxY_)]);var _=Object(Wr.a)(g,this.toLonLatTransform_,void 0,8),b=_[3],v=_[2],O=_[1],w=_[0];if(o||(Object(Wr.g)(g,this.bottomLeft_)&&(w=this.minLon_,O=this.minLat_),Object(Wr.g)(g,this.bottomRight_)&&(v=this.maxLon_,O=this.minLat_),Object(Wr.g)(g,this.topLeft_)&&(w=this.minLon_,b=this.maxLat_),Object(Wr.g)(g,this.topRight_)&&(v=this.maxLon_,b=this.maxLat_),b=Object(sr.a)(b,m,this.maxLat_),v=Object(sr.a)(v,d,this.maxLon_),O=Object(sr.a)(O,this.minLat_,m),w=Object(sr.a)(w,this.minLon_,d)),d=Math.floor(d/i)*i,p=Object(sr.a)(d,this.minLon_,this.maxLon_),h=this.addMeridian_(p,O,b,n,t,0),u=0,o)for(;(p-=i)>=w&&u++<y;)h=this.addMeridian_(p,O,b,n,t,h);else for(;p!=this.minLon_&&u++<y;)p=Math.max(p-i,this.minLon_),h=this.addMeridian_(p,O,b,n,t,h);if(p=Object(sr.a)(d,this.minLon_,this.maxLon_),u=0,o)for(;(p+=i)<=v&&u++<y;)h=this.addMeridian_(p,O,b,n,t,h);else for(;p!=this.maxLon_&&u++<y;)p=Math.min(p+i,this.maxLon_),h=this.addMeridian_(p,O,b,n,t,h);for(this.meridians_.length=h,this.meridiansLabels_&&(this.meridiansLabels_.length=h),m=Math.floor(m/i)*i,f=Object(sr.a)(m,this.minLat_,this.maxLat_),h=this.addParallel_(f,w,v,n,t,0),u=0;f!=this.minLat_&&u++<y;)f=Math.max(f-i,this.minLat_),h=this.addParallel_(f,w,v,n,t,h);for(f=Object(sr.a)(m,this.minLat_,this.maxLat_),u=0;f!=this.maxLat_&&u++<y;)f=Math.min(f+i,this.maxLat_),h=this.addParallel_(f,w,v,n,t,h);this.parallels_.length=h,this.parallelsLabels_&&(this.parallelsLabels_.length=h)},e.prototype.getInterval_=function(t){for(var e=this.projectionCenterLonLat_[0],r=this.projectionCenterLonLat_[1],n=-1,i=Math.pow(this.targetSize_*t,2),o=[],a=[],s=0,c=this.intervals_.length;s<c;++s){var l=Object(sr.a)(this.intervals_[s]/2,0,90),u=Object(sr.a)(r,-90+l,90-l);if(o[0]=e-l,o[1]=u-l,a[0]=e+l,a[1]=u+l,this.fromLonLatTransform_(o,o),this.fromLonLatTransform_(a,a),Math.pow(a[0]-o[0],2)+Math.pow(a[1]-o[1],2)<=i)break;n=this.intervals_[s]}return n},e.prototype.getMeridian_=function(t,e,r,n,i){var o=function(t,e,r,n,i){var o=Object(Ve.j)("EPSG:4326");return Lu((function(n){return[t,e+(r-e)*n]}),Object(Ve.l)(o,n),i)}(t,e,r,this.projection_,n),a=this.meridians_[i];return a?(a.setFlatCoordinates(Pc.a.XY,o),a.changed()):(a=new Ln.a(o,Pc.a.XY),this.meridians_[i]=a),a},e.prototype.getMeridianPoint_=function(t,e,r){var n=t.getFlatCoordinates(),i=1,o=n.length-1;n[i]>n[o]&&(i=o,o=1);var a=Math.max(e[1],n[i]),s=Math.min(e[3],n[o]),c=Object(sr.a)(e[1]+Math.abs(e[1]-e[3])*this.lonLabelPosition_,a,s),l=[n[i-1]+(n[o-1]-n[i-1])*(c-n[i])/(n[o]-n[i]),c],u=this.meridiansLabels_[r].geom;return u.setCoordinates(l),u},e.prototype.getMeridians=function(){return this.meridians_},e.prototype.getParallel_=function(t,e,r,n,i){var o=function(t,e,r,n,i){var o=Object(Ve.j)("EPSG:4326");return Lu((function(n){return[e+(r-e)*n,t]}),Object(Ve.l)(o,n),i)}(t,e,r,this.projection_,n),a=this.parallels_[i];return a?(a.setFlatCoordinates(Pc.a.XY,o),a.changed()):a=new Ln.a(o,Pc.a.XY),a},e.prototype.getParallelPoint_=function(t,e,r){var n=t.getFlatCoordinates(),i=0,o=n.length-2;n[i]>n[o]&&(i=o,o=0);var a=Math.max(e[0],n[i]),s=Math.min(e[2],n[o]),c=Object(sr.a)(e[0]+Math.abs(e[0]-e[2])*this.latLabelPosition_,a,s),l=[c,n[i+1]+(n[o+1]-n[i+1])*(c-n[i])/(n[o]-n[i])],u=this.parallelsLabels_[r].geom;return u.setCoordinates(l),u},e.prototype.getParallels=function(){return this.parallels_},e.prototype.updateProjectionInfo_=function(t){var e=Object(Ve.j)("EPSG:4326"),r=t.getWorldExtent();this.maxLat_=r[3],this.maxLon_=r[2],this.minLat_=r[1],this.minLon_=r[0];var n=Object(Ve.l)(t,e);if(this.minLon_<this.maxLon_)this.toLonLatTransform_=n;else{var i=this.minLon_+this.maxLon_/2;this.maxLon_+=360,this.toLonLatTransform_=function(t,e,r){for(var o=r||2,a=n(t,e,o),s=0,c=a.length;s<c;s+=o)a[s]<i&&(a[s]+=360);return a}}this.fromLonLatTransform_=Object(Ve.l)(e,t);var o=Object(Wr.a)([this.minLon_,this.minLat_,this.maxLon_,this.maxLat_],this.fromLonLatTransform_,void 0,8);this.minX_=o[0],this.maxX_=o[2],this.minY_=o[1],this.maxY_=o[3],this.bottomLeft_=this.fromLonLatTransform_([this.minLon_,this.minLat_]),this.bottomRight_=this.fromLonLatTransform_([this.maxLon_,this.minLat_]),this.topLeft_=this.fromLonLatTransform_([this.minLon_,this.maxLat_]),this.topRight_=this.fromLonLatTransform_([this.maxLon_,this.maxLat_]),this.projectionCenterLonLat_=this.toLonLatTransform_(Object(Wr.y)(t.getExtent())),isNaN(this.projectionCenterLonLat_[1])&&(this.projectionCenterLonLat_[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_),this.projection_=t},e}(We.a),Du=r(383),Fu=r(276),Bu=r(113),Uu=r(100),Gu=r(271),zu=r(35),Wu=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xu=function(t){function e(e,r,n,i,o){var a=this,s=void 0!==o?zu.a.IDLE:zu.a.LOADED;return(a=t.call(this,e,r,n,s)||this).loader_=void 0!==o?o:null,a.canvas_=i,a.error_=null,a}return Wu(e,t),e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=zu.a.ERROR):this.state=zu.a.LOADED,this.changed()},e.prototype.load=function(){this.state==zu.a.IDLE&&(this.state=zu.a.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(Gu.a),qu=r(277),Vu=r(285),Yu=r(16),Zu=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ku=function(t){function e(e){var r=t.call(this,e)||this;return r.vectorRenderer_=new Vu.a(e),r.layerImageRatio_=e.getImageRatio(),r.coordinateToVectorPixelTransform_=Object(br.d)(),r.renderedPixelToCoordinateTransform_=null,r}return Zu(e,t),e.prototype.disposeInternal=function(){this.vectorRenderer_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getFeatures=function(t){if(this.vectorRenderer_){var e=Object(br.a)(this.coordinateToVectorPixelTransform_,Object(br.a)(this.renderedPixelToCoordinateTransform_,t.slice()));return this.vectorRenderer_.getFeatures(e)}return new Promise((function(t,e){t([])}))},e.prototype.handleFontsChanged=function(){this.vectorRenderer_.handleFontsChanged()},e.prototype.prepareFrame=function(t){var e=t.pixelRatio,r=t.viewState,n=r.resolution,i=t.viewHints,o=this.vectorRenderer_,a=t.extent;1!==this.layerImageRatio_&&(a=a.slice(0),Object(Wr.L)(a,this.layerImageRatio_));var s=Object(Wr.G)(a)/n,c=Object(Wr.B)(a)/n;if(!i[zr.a.ANIMATING]&&!i[zr.a.INTERACTING]&&!Object(Wr.J)(a)){o.useContainer(null,null,1);var l=o.context,u=Object(cr.a)({},t,{declutterItems:[],extent:a,size:[s,c],viewState:Object(cr.a)({},t.viewState,{rotation:0})}),h=new Xu(a,n,e,l.canvas,(function(t){o.prepareFrame(u)&&o.replayGroupChanged&&(o.renderFrame(u,null),Object(hi.c)(u,null),t())}));h.addEventListener(Yu.a.CHANGE,function(){h.getState()===zu.a.LOADED&&(this.image_=h)}.bind(this)),h.load()}if(this.image_){var f=this.image_,p=f.getResolution()*e/f.getPixelRatio();this.renderedResolution=p,this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice(),this.coordinateToVectorPixelTransform_=Object(br.b)(this.coordinateToVectorPixelTransform_,s/2,c/2,1/p,-1/p,0,-r.center[0],-r.center[1])}return!!this.image_},e.prototype.preRender=function(){},e.prototype.postRender=function(){},e.prototype.forEachFeatureAtCoordinate=function(e,r,n,i,o){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,r,n,i,o):t.prototype.forEachFeatureAtCoordinate.call(this,e,r,n,i,o)},e}(qu.a),Hu=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ju=function(t){function e(e){var r=this,n=e||{},i=Object(cr.a)({},n);return delete i.imageRatio,(r=t.call(this,i)||this).imageRatio_=void 0!==n.imageRatio?n.imageRatio:1,r}return Hu(e,t),e.prototype.getImageRatio=function(){return this.imageRatio_},e.prototype.createRenderer=function(){return new Ku(this)},e}(Zr.a),Qu=r(290),$u=r(116),th=r(279),eh=r(292),rh=r(273),nh=r(416),ih=r(102);function oh(t,e,r,n){var i=document.createElement("script"),o="olc_"+Object(mr.c)(e);function a(){delete window[o],i.parentNode.removeChild(i)}i.async=!0,i.src=t+(-1==t.indexOf("?")?"?":"&")+(n||"callback")+"="+o;var s=setTimeout((function(){a(),r&&r()}),1e4);window[o]=function(t){clearTimeout(s),a(),e(t)},document.getElementsByTagName("head")[0].appendChild(i)}var ah=r(61),sh=r(108),ch=r(63),lh=r(87),uh=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();var hh=function(t){function e(e){var r=this,n=void 0!==e.hidpi&&e.hidpi;return(r=t.call(this,{cacheSize:e.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:Object(Ve.j)("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:ah.a.LOADING,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:n?2:1,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition})||this).hidpi_=n,r.culture_=void 0!==e.culture?e.culture:"en-us",r.maxZoom_=void 0!==e.maxZoom?e.maxZoom:-1,r.apiKey_=e.key,r.imagerySet_=e.imagerySet,oh("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+r.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+r.apiKey_+"&c="+r.culture_,r.handleImageryMetadataResponse.bind(r),void 0,"jsonp"),r}return uh(e,t),e.prototype.getApiKey=function(){return this.apiKey_},e.prototype.getImagerySet=function(){return this.imagerySet_},e.prototype.handleImageryMetadataResponse=function(t){if(200==t.statusCode&&"OK"==t.statusDescription&&"ValidCredentials"==t.authenticationResultCode&&1==t.resourceSets.length&&1==t.resourceSets[0].resources.length){var e=t.resourceSets[0].resources[0],r=-1==this.maxZoom_?e.zoomMax:this.maxZoom_,n=this.getProjection(),i=Object(lh.c)(n),o=this.hidpi_?2:1,a=e.imageWidth==e.imageHeight?e.imageWidth/o:[e.imageWidth/o,e.imageHeight/o],s=Object(lh.b)({extent:i,minZoom:e.zoomMin,maxZoom:r,tileSize:a});this.tileGrid=s;var c=this.culture_,l=this.hidpi_;if(this.tileUrlFunction=Object(ih.b)(e.imageUrlSubdomains.map((function(t){var r=[0,0,0],n=e.imageUrl.replace("{subdomain}",t).replace("{culture}",c);return function(t,e,i){if(t){Object(ch.a)(t[0],t[1],t[2],r);var o=n;return l&&(o+="&dpi=d1&device=mobile"),o.replace("{quadkey}",function(t){var e,r,n=t[0],i=new Array(n),o=1<<n-1;for(e=0;e<n;++e)r=48,t[1]&o&&(r+=1),t[2]&o&&(r+=2),i[e]=String.fromCharCode(r),o>>=1;return i.join("")}(r))}}}))),e.imageryProviders){var u=Object(Ve.m)(Object(Ve.j)("EPSG:4326"),this.getProjection());this.setAttributions(function(t){var r=[],n=t.viewState,i=this.getTileGrid(),o=i.getZForResolution(n.resolution,this.zDirection),a=i.getTileCoordForCoordAndZ(n.center,o)[0];return e.imageryProviders.map((function(e){for(var n=!1,i=e.coverageAreas,o=0,s=i.length;o<s;++o){var c=i[o];if(a>=c.zoomMin&&a<=c.zoomMax){var l=c.bbox,h=[l[1],l[0],l[3],l[2]],f=Object(Wr.a)(h,u);if(Object(Wr.H)(f,t.extent)){n=!0;break}}}n&&r.push(e.attribution)})),r.push('<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html" target="_blank">Terms of Use</a>'),r}.bind(this))}this.setState(ah.a.READY)}else this.setState(ah.a.ERROR)},e}(sh.a),fh=r(146),ph=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),dh=function(t){function e(e){var r=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,maxZoom:void 0!==e.maxZoom?e.maxZoom:18,minZoom:e.minZoom,projection:e.projection,wrapX:e.wrapX})||this;return r.account_=e.account,r.mapId_=e.map||"",r.config_=e.config||{},r.templateCache_={},r.initializeMap_(),r}return ph(e,t),e.prototype.getConfig=function(){return this.config_},e.prototype.updateConfig=function(t){Object(cr.a)(this.config_,t),this.initializeMap_()},e.prototype.setConfig=function(t){this.config_=t||{},this.initializeMap_()},e.prototype.initializeMap_=function(){var t=JSON.stringify(this.config_);if(this.templateCache_[t])this.applyTemplate_(this.templateCache_[t]);else{var e="https://"+this.account_+".carto.com/api/v1/map";this.mapId_&&(e+="/named/"+this.mapId_);var r=new XMLHttpRequest;r.addEventListener("load",this.handleInitResponse_.bind(this,t)),r.addEventListener("error",this.handleInitError_.bind(this)),r.open("POST",e),r.setRequestHeader("Content-type","application/json"),r.send(JSON.stringify(this.config_))}},e.prototype.handleInitResponse_=function(t,e){var r=e.target;if(!r.status||r.status>=200&&r.status<300){var n=void 0;try{n=JSON.parse(r.responseText)}catch(t){return void this.setState(ah.a.ERROR)}this.applyTemplate_(n),this.templateCache_[t]=n,this.setState(ah.a.READY)}else this.setState(ah.a.ERROR)},e.prototype.handleInitError_=function(t){this.setState(ah.a.ERROR)},e.prototype.applyTemplate_=function(t){var e="https://"+t.cdn_url.https+"/"+this.account_+"/api/v1/map/"+t.layergroupid+"/{z}/{x}/{y}.png";this.setUrl(e)},e}(fh.a),mh=r(298),yh=r(156),gh=r(318),_h=r(20),bh=r(56),vh=r(112),Oh=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),wh="default",Mh="truncated",Eh=function(t){function e(e,r,n,i,o,a,s){var c=t.call(this,r,n,i,o,a,s)||this;return c.zoomifyImage_=null,c.tileSize_=e,c}return Oh(e,t),e.prototype.getImage=function(){if(this.zoomifyImage_)return this.zoomifyImage_;var e=t.prototype.getImage.call(this);if(this.state==_h.a.LOADED){var r=this.tileSize_;if(e.width==r[0]&&e.height==r[1])return this.zoomifyImage_=e,e;var n=Object(ar.a)(r[0],r[1]);return n.drawImage(e,0,0),this.zoomifyImage_=n.canvas,n.canvas}return e},e}(gh.a),xh=function(t){function e(e){var r=this,n=e,i=n.size,o=void 0!==n.tierSizeCalculation?n.tierSizeCalculation:wh,a=n.tilePixelRatio||1,s=i[0],c=i[1],l=[],u=n.tileSize||yh.b,h=u*a;switch(o){case wh:for(;s>h||c>h;)l.push([Math.ceil(s/h),Math.ceil(c/h)]),h+=h;break;case Mh:for(var f=s,p=c;f>h||p>h;)l.push([Math.ceil(f/h),Math.ceil(p/h)]),f>>=1,p>>=1;break;default:Object(hr.a)(!1,53)}l.push([1,1]),l.reverse();for(var d=[a],m=[0],y=1,g=l.length;y<g;y++)d.push(a<<y),m.push(l[y-1][0]*l[y-1][1]+m[y-1]);d.reverse();var _=new vh.a({tileSize:u,extent:n.extent||[0,-c,s,0],resolutions:d}),b=n.url;b&&-1==b.indexOf("{TileGroup}")&&-1==b.indexOf("{tileIndex}")&&(b+="{TileGroup}/{z}-{x}-{y}.jpg");var v=Object(ih.c)(b),O=u*a;var w=Object(ih.b)(v.map((function(t){return function(e,r,n){if(e){var i=e[0],o=e[1],a=e[2],s=o+a*l[i][0],c={z:i,x:o,y:a,tileIndex:s,TileGroup:"TileGroup"+((s+m[i])/O|0)};return t.replace(/\{(\w+?)\}/g,(function(t,e){return c[e]}))}}}))),M=Eh.bind(null,Object(bh.d)(u*a));(r=t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,projection:n.projection,tilePixelRatio:a,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileClass:M,tileGrid:_,tileUrlFunction:w,transition:n.transition})||this).zDirection=n.zDirection;var E=w(_.getTileCoordForCoordAndResolution(Object(Wr.y)(_.getExtent()),d[d.length-1]),1,null),x=new Image;return x.addEventListener("error",function(){O=u,this.changed()}.bind(r)),x.src=E,r}return Oh(e,t),e}(sh.a),Sh=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function jh(t){return t.toLocaleString("en",{maximumFractionDigits:10})}var Ph=function(t){function e(e){var r=this,n=e||{},i=n.url||"";i+=i.lastIndexOf("/")===i.length-1||""===i?"":"/";var o=n.version||rl,a=n.sizes||[],s=n.size;Object(hr.a)(null!=s&&Array.isArray(s)&&2==s.length&&!isNaN(s[0])&&s[0]>0&&!isNaN(s[1])&&s[1]>0,60);var c,l,u,h=s[0],f=s[1],p=n.tileSize,d=n.tilePixelRatio||1,m=n.format||"jpg",y=n.quality||(n.version==el?"native":"default"),g=n.resolutions||[],_=n.supports||[],b=n.extent||[0,-f,h,0],v=null!=a&&Array.isArray(a)&&a.length>0,O=void 0!==p&&("number"==typeof p&&Number.isInteger(p)&&p>0||Array.isArray(p)&&p.length>0),w=null!=_&&Array.isArray(_)&&(_.includes("regionByPx")||_.includes("regionByPct"))&&(_.includes("sizeByWh")||_.includes("sizeByH")||_.includes("sizeByW")||_.includes("sizeByPct"));if(g.sort((function(t,e){return e-t})),O||w)if(null!=p&&("number"==typeof p&&Number.isInteger(p)&&p>0?(c=p,l=p):Array.isArray(p)&&p.length>0&&((1==p.length||null==p[1]&&Number.isInteger(p[0]))&&(c=p[0],l=p[0]),2==p.length&&(Number.isInteger(p[0])&&Number.isInteger(p[1])?(c=p[0],l=p[1]):null==p[0]&&Number.isInteger(p[1])&&(c=p[1],l=p[1])))),void 0!==c&&void 0!==l||(c=yh.b,l=yh.b),0==g.length)for(var M=u=Math.max(Math.ceil(Math.log(h/c)/Math.LN2),Math.ceil(Math.log(f/l)/Math.LN2));M>=0;M--)g.push(Math.pow(2,M));else{var E=Math.max.apply(Math,g);u=Math.round(Math.log(E)/Math.LN2)}else if(c=h,l=f,g=[],v){a.sort((function(t,e){return t[0]-e[0]})),u=-1;var x=[];for(M=0;M<a.length;M++){var S=h/a[M][0];g.length>0&&g[g.length-1]==S?x.push(M):(g.push(S),u++)}if(x.length>0)for(M=0;M<x.length;M++)a.splice(x[M]-M,1)}else g.push(1),a.push([h,f]),u=0;var j=new vh.a({tileSize:[c,l],extent:b,origin:Object(Wr.E)(b),resolutions:g}),P=Eh.bind(null,Object(bh.d)(p||256).map((function(t){return t*d})));return(r=t.call(this,{attributions:n.attributions,attributionsCollapsible:n.attributionsCollapsible,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,projection:n.projection,reprojectionErrorThreshold:n.reprojectionErrorThreshold,state:n.state,tileClass:P,tileGrid:j,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:function(t,e,r){var n,s,p=t[0];if(!(p>u)){var d=t[1],b=t[2],M=g[p];if(!(void 0===d||void 0===b||void 0===M||d<0||Math.ceil(h/M/c)<=d||b<0||Math.ceil(f/M/l)<=b)){if(w||O){var E=d*c*M,x=b*l*M,S=c*M,j=l*M,P=c,T=l;if(E+S>h&&(S=h-E),x+j>f&&(j=f-x),E+c*M>h&&(P=Math.floor((h-E+M-1)/M)),x+l*M>f&&(T=Math.floor((f-x+M-1)/M)),0==E&&S==h&&0==x&&j==f)n="full";else if(!w||_.includes("regionByPx"))n=E+","+x+","+S+","+j;else if(_.includes("regionByPct")){n="pct:"+jh(E/h*100)+","+jh(x/f*100)+","+jh(S/h*100)+","+jh(j/f*100)}o!=nl||w&&!_.includes("sizeByWh")?!w||_.includes("sizeByW")?s=P+",":_.includes("sizeByH")?s=","+T:_.includes("sizeByWh")?s=P+","+T:_.includes("sizeByPct")&&(s="pct:"+jh(100/M)):s=P+","+T}else if(n="full",v){var I=a[p][0],L=a[p][1];s=o==nl?I==h&&L==f?"max":I+","+L:I==h?"full":I+","}else s=o==nl?"max":"full";return i+n+"/"+s+"/0/"+y+"."+m}}},transition:n.transition})||this).zDirection=n.zDirection,r}return Sh(e,t),e}(sh.a),Th=r(96),Ih=r(143),Lh=r(123),Rh=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ch=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this,{attributions:n.attributions,projection:n.projection,resolutions:n.resolutions})||this).crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null,r.hidpi_=void 0===n.hidpi||n.hidpi,r.url_=n.url,r.imageLoadFunction_=void 0!==n.imageLoadFunction?n.imageLoadFunction:Th.b,r.params_=n.params||{},r.image_=null,r.imageSize_=[0,0],r.renderedRevision_=0,r.ratio_=void 0!==n.ratio?n.ratio:1.5,r}return Rh(e,t),e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,r,n){if(void 0===this.url_)return null;e=this.findNearestResolution(e),r=this.hidpi_?r:1;var i=this.image_;if(i&&this.renderedRevision_==this.getRevision()&&i.getResolution()==e&&i.getPixelRatio()==r&&Object(Wr.h)(i.getExtent(),t))return i;var o={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};Object(cr.a)(o,this.params_);var a=((t=t.slice())[0]+t[2])/2,s=(t[1]+t[3])/2;if(1!=this.ratio_){var c=this.ratio_*Object(Wr.G)(t)/2,l=this.ratio_*Object(Wr.B)(t)/2;t[0]=a-c,t[1]=s-l,t[2]=a+c,t[3]=s+l}var u=e/r,h=Math.ceil(Object(Wr.G)(t)/u),f=Math.ceil(Object(Wr.B)(t)/u);t[0]=a-u*h/2,t[2]=a+u*h/2,t[1]=s-u*f/2,t[3]=s+u*f/2,this.imageSize_[0]=h,this.imageSize_[1]=f;var p=this.getRequestUrl_(t,this.imageSize_,r,n,o);return this.image_=new Ih.a(t,e,r,p,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(Yu.a.CHANGE,this.handleImageChange.bind(this)),this.image_},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.getRequestUrl_=function(t,e,r,n,i){var o=n.getCode().split(":").pop();i.SIZE=e[0]+","+e[1],i.BBOX=t.join(","),i.BBOXSR=o,i.IMAGESR=o,i.DPI=Math.round(90*r);var a=this.url_,s=a.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return s==a&&Object(hr.a)(!1,50),Object(Lh.a)(s,i)},e.prototype.getUrl=function(){return this.url_},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},e.prototype.updateParams=function(t){Object(cr.a)(this.params_,t),this.image_=null,this.changed()},e}(Th.a),Ah=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),kh=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this,{attributions:n.attributions,projection:n.projection,resolutions:n.resolutions,state:n.state})||this).canvasFunction_=n.canvasFunction,r.canvas_=null,r.renderedRevision_=0,r.ratio_=void 0!==n.ratio?n.ratio:1.5,r}return Ah(e,t),e.prototype.getImageInternal=function(t,e,r,n){e=this.findNearestResolution(e);var i=this.canvas_;if(i&&this.renderedRevision_==this.getRevision()&&i.getResolution()==e&&i.getPixelRatio()==r&&Object(Wr.h)(i.getExtent(),t))return i;t=t.slice(),Object(Wr.L)(t,this.ratio_);var o=[Object(Wr.G)(t)/e*r,Object(Wr.B)(t)/e*r],a=this.canvasFunction_.call(this,t,e,r,o,n);return a&&(i=new Xu(t,e,r,a)),this.canvas_=i,this.renderedRevision_=this.getRevision(),i},e}(Th.a),Nh=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();var Dh=function(t){function e(e){var r=t.call(this,{projection:e.projection,resolutions:e.resolutions})||this;return r.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null,r.displayDpi_=void 0!==e.displayDpi?e.displayDpi:96,r.params_=e.params||{},r.url_=e.url,r.imageLoadFunction_=void 0!==e.imageLoadFunction?e.imageLoadFunction:Th.b,r.hidpi_=void 0===e.hidpi||e.hidpi,r.metersPerUnit_=void 0!==e.metersPerUnit?e.metersPerUnit:1,r.ratio_=void 0!==e.ratio?e.ratio:1,r.useOverlay_=void 0!==e.useOverlay&&e.useOverlay,r.image_=null,r.renderedRevision_=0,r}return Nh(e,t),e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,r,n){e=this.findNearestResolution(e),r=this.hidpi_?r:1;var i=this.image_;if(i&&this.renderedRevision_==this.getRevision()&&i.getResolution()==e&&i.getPixelRatio()==r&&Object(Wr.h)(i.getExtent(),t))return i;1!=this.ratio_&&(t=t.slice(),Object(Wr.L)(t,this.ratio_));var o=[Object(Wr.G)(t)/e*r,Object(Wr.B)(t)/e*r];if(void 0!==this.url_){var a=this.getUrl(this.url_,this.params_,t,o,n);(i=new Ih.a(t,e,r,a,this.crossOrigin_,this.imageLoadFunction_)).addEventListener(Yu.a.CHANGE,this.handleImageChange.bind(this))}else i=null;return this.image_=i,this.renderedRevision_=this.getRevision(),i},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.updateParams=function(t){Object(cr.a)(this.params_,t),this.changed()},e.prototype.getUrl=function(t,e,r,n,i){var o=function(t,e,r,n){var i=Object(Wr.G)(t),o=Object(Wr.B)(t),a=e[0],s=e[1],c=.0254/n;return s*i>a*o?i*r/(a*c):o*r/(s*c)}(r,n,this.metersPerUnit_,this.displayDpi_),a=Object(Wr.y)(r),s={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol/source/ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(n[0]),SETDISPLAYHEIGHT:Math.round(n[1]),SETVIEWSCALE:o,SETVIEWCENTERX:a[0],SETVIEWCENTERY:a[1]};return Object(cr.a)(s,e),Object(Lh.a)(t,s)},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e}(Th.a),Fh=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bh=function(t){function e(e){var r=this,n=void 0!==e.crossOrigin?e.crossOrigin:null,i=void 0!==e.imageLoadFunction?e.imageLoadFunction:Th.b;return(r=t.call(this,{attributions:e.attributions,projection:Object(Ve.j)(e.projection)})||this).url_=e.url,r.imageExtent_=e.imageExtent,r.image_=new Ih.a(r.imageExtent_,void 0,1,r.url_,n,i),r.imageSize_=e.imageSize?e.imageSize:null,r.image_.addEventListener(Yu.a.CHANGE,r.handleImageChange.bind(r)),r}return Fh(e,t),e.prototype.getImageExtent=function(){return this.imageExtent_},e.prototype.getImageInternal=function(t,e,r,n){return Object(Wr.H)(t,this.image_.getExtent())?this.image_:null},e.prototype.getUrl=function(){return this.url_},e.prototype.handleImageChange=function(e){if(this.image_.getState()==zu.a.LOADED){var r=this.image_.getExtent(),n=this.image_.getImage(),i=void 0,o=void 0;this.imageSize_?(i=this.imageSize_[0],o=this.imageSize_[1]):(i=n.width,o=n.height);var a=Object(Wr.B)(r)/o,s=Math.ceil(Object(Wr.G)(r)/a);if(s!=i){var c=Object(ar.a)(s,o),l=c.canvas;c.drawImage(n,0,0,i,o,0,0,l.width,l.height),this.image_.setImage(l)}}t.prototype.handleImageChange.call(this,e)},e}(Th.a),Uh=r(196),Gh=r(219),zh=r(351),Wh=r(50),Xh=r(654),qh=r(172),Vh=r(166),Yh=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zh="beforeoperations",Kh="afteroperations",Hh="pixel",Jh="image",Qh=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.extent=r.extent,i.resolution=r.viewState.resolution/r.pixelRatio,i.data=n,i}return Yh(e,t),e}(Wh.a),$h=function(t){function e(e){var r=t.call(this,{projection:null})||this;r.worker_=null,r.operationType_=void 0!==e.operationType?e.operationType:Hh,r.threads_=void 0!==e.threads?e.threads:1,r.layers_=function(t){for(var e=t.length,r=new Array(e),n=0;n<e;++n)r[n]=rf(t[n]);return r}(e.sources);for(var n,i=r.changed.bind(r),o=0,a=r.layers_.length;o<a;++o)r.layers_[o].addEventListener(Yu.a.CHANGE,i);return r.tileQueue_=new zh.a((function(){return 1}),r.changed.bind(r)),r.requestedFrameState_,r.renderedImageCanvas_=null,r.renderedRevision_,r.frameState_={animate:!1,coordinateToPixelTransform:Object(br.d)(),extent:null,index:0,layerIndex:0,layerStatesArray:(n=r.layers_,n.map((function(t){return t.getLayerState()}))),pixelRatio:1,pixelToCoordinateTransform:Object(br.d)(),postRenderFunctions:[],size:[0,0],tileQueue:r.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{},declutterItems:[]},r.setAttributions((function(t){for(var r=[],n=0,i=e.sources.length;n<i;++n){var o=e.sources[n],a=(o instanceof Vh.a?o:o.getSource()).getAttributions();if("function"==typeof a){var s=a(t);r.push.apply(r,s)}}return 0!==r.length?r:null})),void 0!==e.operation&&r.setOperation(e.operation,e.lib),r}return Yh(e,t),e.prototype.setOperation=function(t,e){this.worker_=new Xh.Processor({operation:t,imageOps:this.operationType_===Jh,queue:1,lib:e,threads:this.threads_}),this.changed()},e.prototype.updateFrameState_=function(t,e,r){var n=Object(cr.a)({},this.frameState_);n.viewState=Object(cr.a)({},n.viewState);var i=Object(Wr.y)(t);n.extent=t.slice(),n.size[0]=Math.round(Object(Wr.G)(t)/e),n.size[1]=Math.round(Object(Wr.B)(t)/e),n.time=1/0;var o=n.viewState;return o.center=i,o.projection=r,o.resolution=e,n},e.prototype.allSourcesReady_=function(){for(var t=!0,e=0,r=this.layers_.length;e<r;++e)if(this.layers_[e].getSource().getState()!==ah.a.READY){t=!1;break}return t},e.prototype.getImage=function(t,e,r,n){if(!this.allSourcesReady_())return null;var i=this.updateFrameState_(t,e,n);if(this.requestedFrameState_=i,this.renderedImageCanvas_){var o=this.renderedImageCanvas_.getResolution(),a=this.renderedImageCanvas_.getExtent();e===o&&Object(Wr.q)(t,a)||(this.renderedImageCanvas_=null)}return this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_(),i.tileQueue.loadMoreTiles(16,16),i.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_},e.prototype.processSources_=function(){for(var t=this.requestedFrameState_,e=this.layers_.length,r=new Array(e),n=0;n<e;++n){t.layerIndex=n;var i=ef(this.layers_[n],t);if(!i)return;r[n]=i}var o={};this.dispatchEvent(new Qh(Zh,t,o)),this.worker_.process(r,o,this.onWorkerComplete_.bind(this,t))},e.prototype.onWorkerComplete_=function(t,e,r,n){if(!e&&r){var i=t.extent,o=t.viewState.resolution;if(o===this.requestedFrameState_.viewState.resolution&&Object(Wr.q)(i,this.requestedFrameState_.extent)){var a;if(this.renderedImageCanvas_)a=this.renderedImageCanvas_.getImage().getContext("2d");else{var s=Math.round(Object(Wr.G)(i)/o),c=Math.round(Object(Wr.B)(i)/o);a=Object(ar.a)(s,c),this.renderedImageCanvas_=new Xu(i,o,1,a.canvas)}a.putImageData(r,0,0),this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new Qh(Kh,t,n))}}},e.prototype.getImageInternal=function(){return null},e}(Th.a),tf=null;function ef(t,e){var r=t.getRenderer();if(!r)throw new Error("Unsupported layer type: "+t);if(!r.prepareFrame(e))return null;var n,i=e.size[0],o=e.size[1],a=r.renderFrame(e,null);if(a&&(n=a.firstElementChild),!(n instanceof HTMLCanvasElement))throw new Error("Unsupported rendered element: "+n);if(n.width===i&&n.height===o)return n.getContext("2d").getImageData(0,0,i,o);if(tf){var s=tf.canvas;s.width!==i||s.height!==o?tf=Object(ar.a)(i,o):tf.clearRect(0,0,i,o)}else tf=Object(ar.a)(i,o);return tf.drawImage(n,0,0,i,o),tf.getImageData(0,0,i,o)}function rf(t){var e;return t instanceof Vh.a?t instanceof qh.b?e=new Uu.a({source:t}):t instanceof Th.a&&(e=new Fu.a({source:t})):e=t,e}var nf=$h,of=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),af=['Map tiles by <a href="https://stamen.com/" target="_blank">Stamen Design</a>, under <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC BY 3.0</a>.',Gh.a],sf={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",opaque:!1},"terrain-lines":{extension:"png",opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},cf={terrain:{minZoom:0,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:0,maxZoom:18}},lf=function(t){function e(e){var r=e.layer.indexOf("-"),n=-1==r?e.layer:e.layer.slice(0,r),i=cf[n],o=sf[e.layer],a=void 0!==e.url?e.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+e.layer+"/{z}/{x}/{y}."+o.extension;return t.call(this,{attributions:af,cacheSize:e.cacheSize,crossOrigin:"anonymous",maxZoom:null!=e.maxZoom?e.maxZoom:i.maxZoom,minZoom:null!=e.minZoom?e.minZoom:i.minZoom,opaque:o.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:a,wrapX:e.wrapX})||this}return of(e,t),e}(fh.a),uf=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function hf(t,e,r){var n=this.getTileGrid();if(n||(n=this.getTileGridForProjection(r)),!(n.getResolutions().length<=t[0])){1==e||this.hidpi_||(e=1);var i=n.getTileCoordExtent(t,this.tmpExtent_),o=Object(bh.d)(n.getTileSize(t[0]),this.tmpSize);1!=e&&(o=Object(bh.c)(o,e,this.tmpSize));var a={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return Object(cr.a)(a,this.params_),this.getRequestUrl_(t,o,i,e,r,a)}}var ff=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,projection:n.projection,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:n.tileGrid,tileLoadFunction:n.tileLoadFunction,tileUrlFunction:hf,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition})||this).params_=n.params||{},r.hidpi_=void 0===n.hidpi||n.hidpi,r.tmpExtent_=Object(Wr.k)(),r.setKey(r.getKeyForParams_()),r}return uf(e,t),e.prototype.getKeyForParams_=function(){var t=0,e=[];for(var r in this.params_)e[t++]=r+"-"+this.params_[r];return e.join("/")},e.prototype.getParams=function(){return this.params_},e.prototype.getRequestUrl_=function(t,e,r,n,i,o){var a=this.urls;if(a){var s,c=i.getCode().split(":").pop();if(o.SIZE=e[0]+","+e[1],o.BBOX=r.join(","),o.BBOXSR=c,o.IMAGESR=c,o.DPI=Math.round(o.DPI?o.DPI*n:90*n),1==a.length)s=a[0];else s=a[Object(sr.d)(Object(ch.e)(t),a.length)];var l=s.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return Object(Lh.a)(l,o)}},e.prototype.getTilePixelRatio=function(t){return this.hidpi_?t:1},e.prototype.updateParams=function(t){Object(cr.a)(this.params_,t),this.setKey(this.getKeyForParams_())},e}(sh.a),pf=r(144),df=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),mf=function(t){function e(e,r,n){var i=t.call(this,e,_h.a.LOADED)||this;return i.tileSize_=r,i.text_=n,i.canvas_=null,i}return df(e,t),e.prototype.getImage=function(){if(this.canvas_)return this.canvas_;var t=this.tileSize_,e=Object(ar.a)(t[0],t[1]);return e.strokeStyle="grey",e.strokeRect(.5,.5,t[0]+.5,t[1]+.5),e.fillStyle="grey",e.strokeStyle="white",e.textAlign="center",e.textBaseline="middle",e.font="24px sans-serif",e.lineWidth=4,e.strokeText(this.text_,t[0]/2,t[1]/2,t[0]),e.fillText(this.text_,t[0]/2,t[1]/2,t[0]),this.canvas_=e.canvas,e.canvas},e.prototype.load=function(){},e}(pf.a),yf=function(t){function e(e){var r=e||{};return t.call(this,{opaque:!1,projection:r.projection,tileGrid:r.tileGrid,wrapX:void 0===r.wrapX||r.wrapX,zDirection:r.zDirection})||this}return df(e,t),e.prototype.getTile=function(t,e,r){var n=Object(ch.d)(t,e,r);if(this.tileCache.containsKey(n))return this.tileCache.get(n);var i=Object(bh.d)(this.tileGrid.getTileSize(t)),o=[t,e,r],a=this.getTileCoordForTileUrlFunction(o),s=void 0;s=a?"z:"+a[0]+" x:"+a[1]+" y:"+a[2]:"none";var c=new mf(o,i,s);return this.tileCache.set(n,c),c},e}(fh.a),gf=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),_f=function(t){function e(e){var r=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,projection:Object(Ve.j)("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:ah.a.LOADING,tileLoadFunction:e.tileLoadFunction,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition})||this;if(r.tileJSON_=null,r.tileSize_=e.tileSize,e.url)if(e.jsonp)oh(e.url,r.handleTileJSONResponse.bind(r),r.handleTileJSONError.bind(r));else{var n=new XMLHttpRequest;n.addEventListener("load",r.onXHRLoad_.bind(r)),n.addEventListener("error",r.onXHRError_.bind(r)),n.open("GET",e.url),n.send()}else e.tileJSON?r.handleTileJSONResponse(e.tileJSON):Object(hr.a)(!1,51);return r}return gf(e,t),e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var r=void 0;try{r=JSON.parse(e.responseText)}catch(t){return void this.handleTileJSONError()}this.handleTileJSONResponse(r)}else this.handleTileJSONError()},e.prototype.onXHRError_=function(t){this.handleTileJSONError()},e.prototype.getTileJSON=function(){return this.tileJSON_},e.prototype.handleTileJSONResponse=function(t){var e,r=Object(Ve.j)("EPSG:4326"),n=this.getProjection();if(void 0!==t.bounds){var i=Object(Ve.m)(r,n);e=Object(Wr.a)(t.bounds,i)}var o=t.minzoom||0,a=t.maxzoom||22,s=Object(lh.b)({extent:Object(lh.c)(n),maxZoom:a,minZoom:o,tileSize:this.tileSize_});if(this.tileGrid=s,this.tileUrlFunction=Object(ih.a)(t.tiles,s),void 0!==t.attribution&&!this.getAttributions()){var c=void 0!==e?e:r.getExtent();this.setAttributions((function(e){return Object(Wr.H)(c,e.extent)?[t.attribution]:null}))}this.tileJSON_=t,this.setState(ah.a.READY)},e.prototype.handleTileJSONError=function(){this.setState(ah.a.ERROR)},e}(sh.a),bf=r(195),vf=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Of=function(t){function e(e,r,n,i,o,a){var s=t.call(this,e,r)||this;return s.src_=n,s.extent_=i,s.preemptive_=o,s.grid_=null,s.keys_=null,s.data_=null,s.jsonp_=a,s}return vf(e,t),e.prototype.getImage=function(){return null},e.prototype.getData=function(t){if(!this.grid_||!this.keys_)return null;var e=(t[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0]),r=(t[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]),n=this.grid_[Math.floor((1-r)*this.grid_.length)];if("string"!=typeof n)return null;var i=n.charCodeAt(Math.floor(e*n.length));i>=93&&i--,i>=35&&i--;var o=null;if((i-=32)in this.keys_){var a=this.keys_[i];o=this.data_&&a in this.data_?this.data_[a]:a}return o},e.prototype.forDataAtCoordinate=function(t,e,r){this.state==_h.a.EMPTY&&!0===r?(this.state=_h.a.IDLE,Object(Kr.b)(this,Yu.a.CHANGE,(function(r){e(this.getData(t))}),this),this.loadInternal_()):!0===r?setTimeout(function(){e(this.getData(t))}.bind(this),0):e(this.getData(t))},e.prototype.getKey=function(){return this.src_},e.prototype.handleError_=function(){this.state=_h.a.ERROR,this.changed()},e.prototype.handleLoad_=function(t){this.grid_=t.grid,this.keys_=t.keys,this.data_=t.data,this.state=_h.a.LOADED,this.changed()},e.prototype.loadInternal_=function(){if(this.state==_h.a.IDLE)if(this.state=_h.a.LOADING,this.jsonp_)oh(this.src_,this.handleLoad_.bind(this),this.handleError_.bind(this));else{var t=new XMLHttpRequest;t.addEventListener("load",this.onXHRLoad_.bind(this)),t.addEventListener("error",this.onXHRError_.bind(this)),t.open("GET",this.src_),t.send()}},e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var r=void 0;try{r=JSON.parse(e.responseText)}catch(t){return void this.handleError_()}this.handleLoad_(r)}else this.handleError_()},e.prototype.onXHRError_=function(t){this.handleError_()},e.prototype.load=function(){this.preemptive_?this.loadInternal_():this.setState(_h.a.EMPTY)},e}(pf.a),wf=function(t){function e(e){var r=t.call(this,{projection:Object(Ve.j)("EPSG:3857"),state:ah.a.LOADING})||this;if(r.preemptive_=void 0===e.preemptive||e.preemptive,r.tileUrlFunction_=ih.d,r.template_=void 0,r.jsonp_=e.jsonp||!1,e.url)if(r.jsonp_)oh(e.url,r.handleTileJSONResponse.bind(r),r.handleTileJSONError.bind(r));else{var n=new XMLHttpRequest;n.addEventListener("load",r.onXHRLoad_.bind(r)),n.addEventListener("error",r.onXHRError_.bind(r)),n.open("GET",e.url),n.send()}else e.tileJSON?r.handleTileJSONResponse(e.tileJSON):Object(hr.a)(!1,51);return r}return vf(e,t),e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var r=void 0;try{r=JSON.parse(e.responseText)}catch(t){return void this.handleTileJSONError()}this.handleTileJSONResponse(r)}else this.handleTileJSONError()},e.prototype.onXHRError_=function(t){this.handleTileJSONError()},e.prototype.getTemplate=function(){return this.template_},e.prototype.forDataAtCoordinateAndResolution=function(t,e,r,n){if(this.tileGrid){var i=this.tileGrid.getZForResolution(e,this.zDirection),o=this.tileGrid.getTileCoordForCoordAndZ(t,i);this.getTile(o[0],o[1],o[2],1,this.getProjection()).forDataAtCoordinate(t,r,n)}else!0===n?setTimeout((function(){r(null)}),0):r(null)},e.prototype.handleTileJSONError=function(){this.setState(ah.a.ERROR)},e.prototype.handleTileJSONResponse=function(t){var e,r=Object(Ve.j)("EPSG:4326"),n=this.getProjection();if(void 0!==t.bounds){var i=Object(Ve.m)(r,n);e=Object(Wr.a)(t.bounds,i)}var o=t.minzoom||0,a=t.maxzoom||22,s=Object(lh.b)({extent:Object(lh.c)(n),maxZoom:a,minZoom:o});this.tileGrid=s,this.template_=t.template;var c=t.grids;if(c){if(this.tileUrlFunction_=Object(ih.a)(c,s),void 0!==t.attribution){var l=void 0!==e?e:r.getExtent();this.setAttributions((function(e){return Object(Wr.H)(l,e.extent)?[t.attribution]:null}))}this.setState(ah.a.READY)}else this.setState(ah.a.ERROR)},e.prototype.getTile=function(t,e,r,n,i){var o=Object(ch.d)(t,e,r);if(this.tileCache.containsKey(o))return this.tileCache.get(o);var a=[t,e,r],s=this.getTileCoordForTileUrlFunction(a,i),c=this.tileUrlFunction_(s,n,i),l=new Of(a,void 0!==c?_h.a.IDLE:_h.a.EMPTY,void 0!==c?c:"",this.tileGrid.getTileCoordExtent(a),this.preemptive_,this.jsonp_);return this.tileCache.set(o,l),l},e.prototype.useTile=function(t,e,r){var n=Object(ch.d)(t,e,r);this.tileCache.containsKey(n)&&this.tileCache.get(n)},e}(qh.b),Mf=r(295),Ef=r(215),xf=r(167),Sf=r(118),jf=r(380),Pf=r(65),Tf=r(32),If=r(221),Lf=r(93),Rf=r(60),Cf=r(381),Af=r(186),kf=r(55),Nf=r(365),Df=r(24),Ff=r(128),Bf=r(201),Uf=r(79),Gf=r(197),zf=r(80),Wf=window.M={},Xf=window.ol={};Wf.ClusteredFeature=n.a,Wf.Control=i.a,Wf.Feature=o.a,Wf.Label=a.a,Wf.Layer=s.a,Wf.Map=c.a,Wf.Object=l.a,Wf.Parameters=u.a,Wf.Parameters.parseBbox=u.b,Wf.Parameters.parseCenter=u.c,Wf.Parameters.parseContainer=u.d,Wf.Parameters.parseControls=u.e,Wf.Parameters.parseGetFeatureInfo=u.f,Wf.Parameters.parseKML=u.g,Wf.Parameters.parseLabel=u.h,Wf.Parameters.parseLayers=u.i,Wf.Parameters.parseMaxExtent=u.j,Wf.Parameters.parseMaxZoom=u.k,Wf.Parameters.parseMinZoom=u.l,Wf.Parameters.parseProjection=u.m,Wf.Parameters.parseResolutions=u.n,Wf.Parameters.parseTicket=u.o,Wf.Parameters.parseViewExtent=u.p,Wf.Parameters.parseWMC=u.q,Wf.Parameters.parseWMS=u.r,Wf.Parameters.parseWMTS=u.s,Wf.Parameters.parseZoom=u.t,Wf.Parameters.parseZoomConstrains=u.u,Wf.Plugin=M,Wf.Popup=E.a,Wf.RenderFeature=x.a,Wf.Style=S.a,Wf.Tile=j.b,Wf.addQuickLayers=Zs.a,Wf.config=Zs.b,Wf.control={},Wf.control.Attributions=P.a,Wf.control.BackgroundLayers=T.a,Wf.control.GetFeatureInfo=I.a,Wf.control.Location=L.a,Wf.control.Panzoom=R.a,Wf.control.Panzoombar=C.a,Wf.control.Rotate=A.a,Wf.control.Scale=k.a,Wf.control.ScaleLine=N.a,Wf.dialog={},Wf.dialog.error=ir.error,Wf.dialog.info=ir.info,Wf.dialog.remove=ir.remove,Wf.dialog.removeElement=ir.removeElement,Wf.dialog.show=ir.show,Wf.dialog.success=ir.success,Wf.evt={},Wf.evt.ACTIVATED=d.a,Wf.evt.ADDED_KML=d.b,Wf.evt.ADDED_LAYER=d.c,Wf.evt.ADDED_MBTILES=d.d,Wf.evt.ADDED_MBTILES_VECTOR=d.e,Wf.evt.ADDED_OGCAPIFEATURES=d.f,Wf.evt.ADDED_QUICK_LAYERS=d.g,Wf.evt.ADDED_TMS=d.h,Wf.evt.ADDED_TO_MAP=d.i,Wf.evt.ADDED_TO_PANEL=d.j,Wf.evt.ADDED_VECTOR_TILE=d.k,Wf.evt.ADDED_WFS=d.l,Wf.evt.ADDED_WMS=d.m,Wf.evt.ADDED_WMTS=d.n,Wf.evt.ADDED_XYZ=d.o,Wf.evt.CHANGE=d.p,Wf.evt.CHANGE_PROJ=d.q,Wf.evt.CHANGE_STYLE=d.r,Wf.evt.CHANGE_ZOOM=d.s,Wf.evt.CLICK=d.t,Wf.evt.COMPLETED=d.u,Wf.evt.DEACTIVATED=d.v,Wf.evt.DESTROY=d.w,Wf.evt.EventsManager=D.a,Wf.evt.HIDE=d.x,Wf.evt.HOVER_FEATURES=d.y,Wf.evt.LEAVE_FEATURES=d.z,Wf.evt.LOAD=d.A,Wf.evt.Listener=F.a,Wf.evt.MOVE=d.B,Wf.evt.MOVE_MOUSE=d.C,Wf.evt.REMOVED_FROM_MAP=d.D,Wf.evt.REMOVED_LAYER=d.E,Wf.evt.SELECT_FEATURES=d.F,Wf.evt.SHOW=d.G,Wf.evt.UNSELECT_FEATURES=d.H,Wf.exception=p.a,Wf.facade={},Wf.facade.Base=h.a,Wf.filter={},Wf.filter.AND=function(t){var e="",r=t.length;return t.forEach((function(t,n){e+="(".concat(t.toCQL(),")"),n<r-1&&(e+=" AND ")})),new U.a((function(e){return t.every((function(t){return t.getFunctionFilter()(e)}))}),{cqlFilter:e})},Wf.filter.Base=B.a,Wf.filter.EQUAL=function(t,e){return new U.a((function(r){return Object.is(r.getAttribute(t),e)}),{cqlFilter:"".concat(t,"='").concat(e,"'")})},Wf.filter.Function=U.a,Wf.filter.GT=function(t,e){return new U.a((function(r){return null!=r.getAttribute(t)&&r.getAttribute(t)>e}),{cqlFilter:"".concat(t," > '").concat(e,"'")})},Wf.filter.GTE=function(t,e){return new U.a((function(r){return null!=r.getAttribute(t)&&r.getAttribute(t)>=e}),{cqlFilter:"".concat(t," >= '").concat(e,"'")})},Wf.filter.LIKE=function(t,e){return new U.a((function(r){return r.getAttribute(t).toString().match(new RegExp(e))}),{cqlFilter:"".concat(t," LIKE '%").concat(e,"%'")})},Wf.filter.LT=function(t,e){return new U.a((function(r){return null!=r.getAttribute(t)&&r.getAttribute(t)<e}),{cqlFilter:"".concat(t," < '").concat(e,"'")})},Wf.filter.LTE=va,Wf.filter.NOT=function(t){return new U.a((function(e){return!t.getFunctionFilter()(e)}),{cqlFilter:"NOT ".concat(t.toCQL())})},Wf.filter.OR=function(t){var e=t.length,r="";return t.forEach((function(t,n){r+="(".concat(t.toCQL(),")"),n<e-1&&(r+=" OR ")})),new U.a((function(e){return t.some((function(t){return t.getFunctionFilter()(e)}))}),{cqlFilter:r})},Wf.filter.Spatial=G.a,Wf.filter.spatial={},Wf.filter.spatial.CONTAIN=Ks.a,Wf.filter.spatial.DISJOINT=Ks.b,Wf.filter.spatial.INTERSECT=Ks.c,Wf.filter.spatial.WITHIN=Ks.d,Wf.filter.spatial.parseParamToGeometries=Ks.e,Wf.format={},Wf.format.GeoJSON=z.a,Wf.format.WKT=W.a,Wf.geom={},Wf.geom.geojson={},Wf.geom.geojson.type={},Wf.geom.geojson.type.GEOMETRY_COLLECTION="GeometryCollection",Wf.geom.geojson.type.LINE_STRING="LineString",Wf.geom.geojson.type.MULTI_LINE_STRING="MultiLineString",Wf.geom.geojson.type.MULTI_POINT="MultiPoint",Wf.geom.geojson.type.MULTI_POLYGON="MultiPolygon",Wf.geom.geojson.type.POINT="Point",Wf.geom.geojson.type.POLYGON="Polygon",Wf.geom.parse=Hs.a,Wf.geom.parseWFS=Hs.b,Wf.geom.wfs={},Wf.geom.wfs.type={},Wf.geom.wfs.type.LINE=Js.LINE,Wf.geom.wfs.type.MLINE=Js.MLINE,Wf.geom.wfs.type.MPOINT=Js.MPOINT,Wf.geom.wfs.type.MPOLYGON=Js.MPOLYGON,Wf.geom.wfs.type.POINT=Js.POINT,Wf.geom.wfs.type.POLYGON=Js.POLYGON,Wf.geom.wkt={},Wf.geom.wkt.type={},Wf.geom.wkt.type.CIRCLE=Qs.a,Wf.geom.wkt.type.GEOMETRY=Qs.b,Wf.geom.wkt.type.GEOMETRY_COLLECTION=Qs.c,Wf.geom.wkt.type.LINEAR_RING=Qs.d,Wf.geom.wkt.type.LINE_STRING=Qs.e,Wf.geom.wkt.type.MULTI_LINE_STRING=Qs.f,Wf.geom.wkt.type.MULTI_POINT=Qs.g,Wf.geom.wkt.type.MULTI_POLYGON=Qs.h,Wf.geom.wkt.type.POINT=Qs.i,Wf.geom.wkt.type.POLYGON=Qs.j,Wf.getQuickLayers=Zs.c,Wf.handlebarshelpers=X.a,Wf.handler={},Wf.handler.Feature=q.a,Wf.i18n={},Wf.i18n.plugins=V.a,Wf.impl={},Wf.impl.Control=Y.a,Wf.impl.Feature=Z.a,Wf.impl.GetCapabilities=K.a,Wf.impl.Label=H.a,Wf.impl.Layer=J.a,Wf.impl.Map=Q.a,Wf.impl.OLChart=ue,Wf.impl.OLStyleStrokePattern=he.a,Wf.impl.Popup=fe.a,Wf.impl.RenderFeature=pe.a,Wf.impl.Style=ht.a,Wf.impl.View=de.a,Wf.impl.control={},Wf.impl.control.Attributions=me.a,Wf.impl.control.GetFeatureInfo=ye.a,Wf.impl.control.Location=ge.a,Wf.impl.control.Panzoom=_e.a,Wf.impl.control.Panzoombar=be.a,Wf.impl.control.Rotate=ve.a,Wf.impl.control.Scale=Oe.a,Wf.impl.control.Scale.formatLongNumber=Oe.b,Wf.impl.control.ScaleLine=we.a,Wf.impl.format={},Wf.impl.format.DescribeFeatureType=Me.a,Wf.impl.format.GML=Ee.a,Wf.impl.format.GeoJSON=xe.a,Wf.impl.format.KML=Se.a,Wf.impl.format.WKT=je.a,Wf.impl.format.WMSCapabilities=Pe.a,Wf.impl.format.WMTSCapabilities=Ae,Wf.impl.format.XML=Be,Wf.impl.handler={},Wf.impl.handler.Feature=Ue.a,Wf.impl.handler.Feature.getFacadeFeature=Ue.b,Wf.impl.interaction={},Wf.impl.interaction.SelectCluster=Ge.a,Wf.impl.layer={},Wf.impl.layer.AnimatedCluster=ze.a,Wf.impl.layer.Draw=tr,Wf.impl.layer.GenericRaster=er.a,Wf.impl.layer.GenericVector=rr.a,Wf.impl.layer.GeoJSON=nr.a,Wf.impl.layer.Heatmap=dn,Wf.impl.layer.KML=mn.a,Wf.impl.layer.MBTiles=yn.a,Wf.impl.layer.MBTilesVector=gn.a,Wf.impl.layer.MVT=_n.a,Wf.impl.layer.OGCAPIFeatures=bn.a,Wf.impl.layer.OSM=vn.a,Wf.impl.layer.TMS=On.a,Wf.impl.layer.Vector=wn.a,Wf.impl.layer.WFS=Mn.a,Wf.impl.layer.WMS=En.a,Wf.impl.layer.WMTS=xn.a,Wf.impl.layer.XYZ=Sn.a,Wf.impl.loadFiles=jn.a,Wf.impl.loader={},Wf.impl.loader.JSONP=Pn.a,Wf.impl.loader.KML=Tn.a,Wf.impl.loader.WFS=In.a,Wf.impl.ol={},Wf.impl.ol.js={},Wf.impl.ol.js.ext={},Wf.impl.ol.js.ext.GeomUtils=void 0,Wf.impl.ol.js.ext.OLStyleFillPattern=zn.a,Wf.impl.ol.js.ext.OLStyleFlowLine=Qn,Wf.impl.ol.js.ext.OLStyleFontSymbol=$n.a,Wf.impl.ol.js.ext.cspline=void 0,Wf.impl.ol.js.patches=ni.a,Wf.impl.ol.js.patches.optionsFromCapabilities=ni.b,Wf.impl.ol.js.projections=ii.a,Wf.impl.service={},Wf.impl.service.OGCAPIFeatures=oi.a,Wf.impl.service.WFS=ai.a,Wf.impl.source={},Wf.impl.source.ImageWMS=si.a,Wf.impl.source.TileWMS=ci.a,Wf.impl.style={},Wf.impl.style.Centroid=ut.a,Wf.impl.style.Chart=Nt,Wf.impl.style.Chart.extend=Lt,Wf.impl.style.Chart.generateTextBarChart=Ct,Wf.impl.style.Chart.generateTextCircleChart=At,Wf.impl.style.Chart.getTextData=Rt,Wf.impl.style.Cluster=li.a,Wf.impl.style.Feature=bt,Wf.impl.style.FlowLine=Zi,Wf.impl.style.Generic=Ki.a,Wf.impl.style.Heatmap=ro,Wf.impl.style.Icon=uo,Wf.impl.style.Line=xi,Wf.impl.style.Path=mi.a,Wf.impl.style.Point=ho.a,Wf.impl.style.Polygon=vo,Wf.impl.style.Simple=vt.a,Wf.impl.style.builder={},Wf.impl.style.builder.getFill=$s.a,Wf.impl.style.builder.getFillPatern=$s.b,Wf.impl.style.builder.getIconForm=$s.c,Wf.impl.style.builder.getIconSrc=$s.d,Wf.impl.style.builder.getLabel=$s.e,Wf.impl.style.builder.getLineStroke=$s.f,Wf.impl.style.builder.getLineStyle=$s.g,Wf.impl.style.builder.getLineText=$s.h,Wf.impl.style.builder.getPointStyle=$s.i,Wf.impl.style.builder.getPolygonStyle=$s.j,Wf.impl.style.builder.getStroke=$s.k,Wf.impl.style.builder.getStrokePatern=$s.l,Wf.impl.style.builder.iconCache=$s.m,Wf.impl.util={},Wf.impl.util.TextPath=Fi,Wf.impl.util.wmtscapabilities=Oo.a,Wf.impl.util.wmtscapabilities=Oo.a,Wf.impl.util.wmtscapabilities.getLayers=Oo.b,Wf.impl.utils=Ot.a,Wf.impl.utils=Ot.a,Wf.impl.utils.geojsonTo4326=Ot.b,Wf.language={},Wf.language.addTranslation=m.a,Wf.language.configuration=m.b,Wf.language.getLang=m.c,Wf.language.getTranslation=m.d,Wf.language.getValue=m.e,Wf.language.setLang=m.f,Wf.layer={},Wf.layer.GenericRaster=wo.a,Wf.layer.GenericVector=Mo.a,Wf.layer.GeoJSON=Eo.a,Wf.layer.KML=xo.a,Wf.layer.MBTiles=So.a,Wf.layer.MBTilesVector=jo.a,Wf.layer.MBTilesVector.mode=jo.b,Wf.layer.MVT=Po.a,Wf.layer.MVT.mode=Po.b,Wf.layer.OGCAPIFeatures=To.a,Wf.layer.OSM=Io.a,Wf.layer.TMS=Lo.a,Wf.layer.Vector=Ro.a,Wf.layer.WFS=Co.a,Wf.layer.WMS=Ao.a,Wf.layer.WMTS=ko.a,Wf.layer.XYZ=No.a,Wf.layer.type={},Wf.layer.type.GenericRaster=Vo.GenericRaster,Wf.layer.type.GenericVector=Vo.GenericVector,Wf.layer.type.GeoJSON=Vo.GeoJSON,Wf.layer.type.KML=Vo.KML,Wf.layer.type.MBTiles=Vo.MBTiles,Wf.layer.type.MBTilesVector=Vo.MBTilesVector,Wf.layer.type.MVT=Vo.MVT,Wf.layer.type.OGCAPIFeatures=Vo.OGCAPIFeatures,Wf.layer.type.OSM=Vo.OSM,Wf.layer.type.TMS=Vo.TMS,Wf.layer.type.Vector=Vo.Vector,Wf.layer.type.WFS=Vo.WFS,Wf.layer.type.WMS=Vo.WMS,Wf.layer.type.WMTS=Vo.WMTS,Wf.layer.type.XYZ=Vo.XYZ,Wf.loadFiles={},Wf.loadFiles.addFileToMap=tc.a,Wf.loadFiles.loadFeaturesFromSource=tc.b,Wf.map=Zs.d,Wf.parameter=Do.b,Wf.parameter=Do.b,Wf.parameter.geojson=Do.c,Wf.parameter.getCQLWFS=Do.d,Wf.parameter.getConditionalOGC=Do.e,Wf.parameter.getDisplayInLayerSwitcherWMS=Do.f,Wf.parameter.getDisplayInLayerSwitcherWMTS=Do.g,Wf.parameter.getExtraParameter=Do.h,Wf.parameter.getExtractGeoJSON=Do.i,Wf.parameter.getExtractKML=Do.j,Wf.parameter.getExtractMBTilesVector=Do.k,Wf.parameter.getExtractOGC=Do.l,Wf.parameter.getExtractWFS=Do.m,Wf.parameter.getFormatWMTS=Do.n,Wf.parameter.getGeometryWFS=Do.o,Wf.parameter.getIdsWFS=Do.p,Wf.parameter.getLabelKML=Do.q,Wf.parameter.getLegendGeoJSON=Do.r,Wf.parameter.getLegendKML=Do.s,Wf.parameter.getLegendMBTiles=Do.t,Wf.parameter.getLegendMBTilesVector=Do.u,Wf.parameter.getLegendMVT=Do.v,Wf.parameter.getLegendWFS=Do.w,Wf.parameter.getLegendWMS=Do.x,Wf.parameter.getLegendWMTS=Do.y,Wf.parameter.getMatrixSetWMTS=Do.z,Wf.parameter.getMaxExtentMBTiles=Do.A,Wf.parameter.getMaxExtentMBTilesVector=Do.B,Wf.parameter.getMaxExtentWMS=Do.C,Wf.parameter.getMaxZoomLevelMBTiles=Do.D,Wf.parameter.getNameKML=Do.E,Wf.parameter.getNameMBTiles=Do.F,Wf.parameter.getNameMBTilesVector=Do.G,Wf.parameter.getNameMVT=Do.H,Wf.parameter.getNameTMS=Do.I,Wf.parameter.getNameWFS=Do.J,Wf.parameter.getNameWMS=Do.K,Wf.parameter.getNameWMTS=Do.L,Wf.parameter.getNameXYZ=Do.M,Wf.parameter.getNamespaceWFS=Do.N,Wf.parameter.getOpacityMBTiles=Do.O,Wf.parameter.getOptionsWFS=Do.P,Wf.parameter.getOptionsWMS=Do.Q,Wf.parameter.getOptionsWMTS=Do.R,Wf.parameter.getQueryableWMS=Do.S,Wf.parameter.getQueryableWMTS=Do.T,Wf.parameter.getSourceGeoJSON=Do.U,Wf.parameter.getSourceMBTiles=Do.V,Wf.parameter.getSourceMBTilesVector=Do.W,Wf.parameter.getStyleGeoJSON=Do.X,Wf.parameter.getStyleMBTilesVector=Do.Y,Wf.parameter.getStyleOGC=Do.Z,Wf.parameter.getStyleWFS=Do.ab,Wf.parameter.getTileLoadFunctionMBTiles=Do.bb,Wf.parameter.getTileLoadFunctionMBTilesVector=Do.cb,Wf.parameter.getTileSizeMBTiles=Do.db,Wf.parameter.getTileSizeMBTilesVector=Do.eb,Wf.parameter.getTiledWMS=Do.fb,Wf.parameter.getTransparentMBTiles=Do.gb,Wf.parameter.getTransparentWMS=Do.hb,Wf.parameter.getTransparentWMTS=Do.ib,Wf.parameter.getType=Do.jb,Wf.parameter.getURLGeoJSON=Do.kb,Wf.parameter.getURLKML=Do.lb,Wf.parameter.getURLMBTiles=Do.mb,Wf.parameter.getURLMBTilesVector=Do.nb,Wf.parameter.getURLMVT=Do.ob,Wf.parameter.getURLWFS=Do.pb,Wf.parameter.getURLWMS=Do.qb,Wf.parameter.getURLWMTS=Do.rb,Wf.parameter.getURLXYZSource=Do.sb,Wf.parameter.getUseCapabilitiesWMS=Do.tb,Wf.parameter.getVersionWFS=Do.ub,Wf.parameter.getVersionWMS=Do.vb,Wf.parameter.getVisibilityKML=Do.wb,Wf.parameter.getVisibilityMBTiles=Do.xb,Wf.parameter.getVisibilityMBTilesVector=Do.yb,Wf.parameter.getVisibilityWMS=Do.zb,Wf.parameter.getVisibilityWMTS=Do.Ab,Wf.parameter.kml=Do.Bb,Wf.parameter.layer=Do.Cb,Wf.parameter.maxExtent=Do.Db,Wf.parameter.maxZoom=Do.Eb,Wf.parameter.mbtiles=Go,Wf.parameter.mbtiles=Do.Fb,Wf.parameter.mbtilesvector=qo,Wf.parameter.mbtilesvector=Do.Gb,Wf.parameter.minZoom=Do.Hb,Wf.parameter.mvt=Do.Ib,Wf.parameter.ogcapifeatures=Do.Jb,Wf.parameter.projection=Do.Kb,Wf.parameter.resolutions=Do.Lb,Wf.parameter.tms=Ho,Wf.parameter.tms=Do.Mb,Wf.parameter.wfs=Do.Nb,Wf.parameter.wms=Do.Ob,Wf.parameter.wmts=Do.Pb,Wf.parameter.xyz=ta,Wf.parameter.xyz=Do.Qb,Wf.parameter.zoom=Do.Rb,Wf.polyfill=ea.a,Wf.proxy=Zs.e,Wf.remote=ra.a,Wf.remote.Response=na.a,Wf.remote.get=ra.b,Wf.remote.method=ra.c,Wf.remote.post=ra.d,Wf.style={},Wf.style.Category=vs,Wf.style.Chart=re,Wf.style.Choropleth=Da,Wf.style.Cluster=Oa.a,Wf.style.Composite=ia.a,Wf.style.Feature=Dt.a,Wf.style.FlowLine=Ps,Wf.style.Font=Ls,Wf.style.Generic=aa.a,Wf.style.Heatmap=Xs,Wf.style.Line=Ai,Wf.style.Point=oa.a,Wf.style.Polygon=as,Wf.style.Proportional=Ja,Wf.style.Proportional.getMinMaxValues=Ya,Wf.style.Simple=Si.a,Wf.style.align={},Wf.style.align.CENTER=rt.CENTER,Wf.style.align.JUSTIFY=rt.JUSTIFY,Wf.style.align.LEFT=rt.LEFT,Wf.style.align.RIGHT=rt.RIGHT,Wf.style.baseline={},Wf.style.baseline.ALPHABETIC=lt.ALPHABETIC,Wf.style.baseline.BOTTOM=lt.BOTTOM,Wf.style.baseline.HANGING=lt.HANGING,Wf.style.baseline.IDEOGRAPHIC=lt.IDEOGRAPHIC,Wf.style.baseline.MIDDLE=lt.MIDDLE,Wf.style.baseline.TOP=lt.TOP,Wf.style.chart={},Wf.style.chart.Variable=Gt,Wf.style.chart.schemes=Wt,Wf.style.chart.types=zt,Wf.style.form={},Wf.style.form.BAN="BAN",Wf.style.form.BLAZON="BLAZON",Wf.style.form.BUBBLE="BUBBLE",Wf.style.form.CIRCLE="CIRCLE",Wf.style.form.LOZENGE="LOZENGE",Wf.style.form.MARKER="MARKER",Wf.style.form.NONE="none",Wf.style.form.SHIELD="SHIELD",Wf.style.form.SIGN="SIGN",Wf.style.form.SQUARE="SQUARE",Wf.style.form.TRIANGLE="TRIANGLE",Wf.style.pattern={},Wf.style.pattern.BRECCIA="BRECCIA",Wf.style.pattern.BRICK="BRICK",Wf.style.pattern.CAPS="CAPS",Wf.style.pattern.CEMETRY="CEMETRY",Wf.style.pattern.CHAOS="CHAOS",Wf.style.pattern.CHARACTER="CHARACTER",Wf.style.pattern.CIRCLE="CIRCLE",Wf.style.pattern.CLAY="CLAY",Wf.style.pattern.COAL="COAL",Wf.style.pattern.CONGLOMERATE="CONGLOMERATE",Wf.style.pattern.CROSS="CROSS",Wf.style.pattern.CROSSES="CROSSES",Wf.style.pattern.DOLOMITE="DOLOMITE",Wf.style.pattern.DOT="DOT",Wf.style.pattern.FLOODED="FLOODED",Wf.style.pattern.FOREST="FOREST",Wf.style.pattern.GRASS="GRASS",Wf.style.pattern.GRAVEL="GRAVEL",Wf.style.pattern.HATCH="HATCH",Wf.style.pattern.HEXAGON="HEXAGON",Wf.style.pattern.ICON="ICON",Wf.style.pattern.IMAGE="IMAGE",Wf.style.pattern.NYLON="NYLON",Wf.style.pattern.PINE="PINE",Wf.style.pattern.PINES="PINES",Wf.style.pattern.ROCK="ROCK",Wf.style.pattern.ROCKS="ROCKS",Wf.style.pattern.SAND="SAND",Wf.style.pattern.SCRUB="SCRUB",Wf.style.pattern.SQUARE="SQUARE",Wf.style.pattern.SWAMP="SWAMP",Wf.style.pattern.TILE="TILE",Wf.style.pattern.TREE="TREE",Wf.style.pattern.VINE="VINE",Wf.style.pattern.WAVE="WAVE",Wf.style.pattern.WOVEN="WOVEN",Wf.style.quantification={},Wf.style.quantification.ARITHMETIC_PROGRESSION=_a,Wf.style.quantification.EQUAL_INTERVAL=ya,Wf.style.quantification.GEOMETRIC_PROGRESSION=ba,Wf.style.quantification.JENKS=da,Wf.style.quantification.MEDIA_SIGMA=ga,Wf.style.quantification.QUANTILE=ma,Wf.style.quantification.hasNegativeValue=ca,Wf.style.quantification.uniqueArray=sa,Wf.style.state={},Wf.style.state.DEFAULT="default",Wf.style.state.NEW="new",Wf.style.state.SELECTED="selected",Wf.style.textoverflow={},Wf.style.textoverflow.ELLIPSIS="ellipsis",Wf.style.textoverflow.HIDDEN="",Wf.style.textoverflow.VISIBLE="visible",Wf.template=qs.d,Wf.template.add=qs.a,Wf.template.compile=qs.b,Wf.template.compileSync=qs.c,Wf.template.get=qs.e,Wf.toast={},Wf.toast.error=function(t,e,r){return ic(t,"error","g-cartografia-notification",e,r)},Wf.toast.info=function(t,e,r){return ic(t,"info","g-cartografia-info",e,r)},Wf.toast.remove=function(){var t=document.querySelector("div.m-toasts-container");t&&t.remove()},Wf.toast.removeElement=nc,Wf.toast.show=ic,Wf.toast.success=function(t,e,r){return ic(t,"success","g-cartografia-check",e,r)},Wf.toast.warning=function(t,e,r){return ic(t,"warning","g-cartografia-warning",e,r)},Wf.ui={},Wf.ui.Panel=Vs.a,Wf.ui.position={},Wf.ui.position.BL=oc.BL,Wf.ui.position.BR=oc.BR,Wf.ui.position.TL=oc.TL,Wf.ui.position.TR=oc.TR,Wf.units={},Wf.units.DOTS_PER_INCH=ac.a,Wf.units.INCHES_PER_UNIT=ac.b,Wf.useproxy=Zs.f,Wf.utils={},Wf.utils.ObjectToArrayExtent=f.a,Wf.utils.addParameters=f.b,Wf.utils.beautifyAttribute=f.c,Wf.utils.beautifyAttributeName=f.d,Wf.utils.beautifyString=f.e,Wf.utils.bytesToBase64=f.f,Wf.utils.concatUrlPaths=f.g,Wf.utils.copyImageClipBoard=f.h,Wf.utils.decodeBase64=f.i,Wf.utils.decodeHtml=f.j,Wf.utils.defineFunctionFromString=f.k,Wf.utils.dragElement=f.l,Wf.utils.draggabillyElement=f.m,Wf.utils.draggabillyPlugin=f.n,Wf.utils.drawDynamicStyle=f.o,Wf.utils.enableTouchScroll=f.p,Wf.utils.encodeBase64=f.q,Wf.utils.escapeJSCode=f.r,Wf.utils.escapeXSS=f.s,Wf.utils.extend=f.t,Wf.utils.extendsObj=f.u,Wf.utils.fillResolutions=f.v,Wf.utils.findUrls=f.w,Wf.utils.generateColorScale=f.x,Wf.utils.generateIntervals=f.y,Wf.utils.generateRandom=f.z,Wf.utils.generateResolutionsFromExtent=f.A,Wf.utils.generateResolutionsFromScales=f.B,Wf.utils.getEnvolvedExtent=f.C,Wf.utils.getImageMap=f.D,Wf.utils.getImageSize=f.E,Wf.utils.getOpacityFromRgba=f.F,Wf.utils.getParameterValue=f.G,Wf.utils.getResolutionFromScale=f.H,Wf.utils.getRgba=f.I,Wf.utils.getScaleFromResolution=f.J,Wf.utils.getTextFromHtml=f.K,Wf.utils.getWMSGetCapabilitiesUrl=f.M,Wf.utils.getWMTSGetCapabilitiesUrl=f.N,Wf.utils.htmlToString=f.O,Wf.utils.includes=f.P,Wf.utils.inverseColor=f.Q,Wf.utils.isArray=f.R,Wf.utils.isBoolean=f.S,Wf.utils.isDynamic=f.T,Wf.utils.isFunction=f.U,Wf.utils.isGeometryType=f.V,Wf.utils.isNull=f.W,Wf.utils.isNullOrEmpty=f.X,Wf.utils.isObject=f.Y,Wf.utils.isString=f.Z,Wf.utils.isUndefined=f.ab,Wf.utils.isUrl=f.bb,Wf.utils.modifySVG=f.cb,Wf.utils.normalize=f.db,Wf.utils.returnPositionHtmlElement=f.eb,Wf.utils.rgbToHex=f.fb,Wf.utils.rgbaToHex=f.gb,Wf.utils.sameUrl=f.hb,Wf.utils.setDynamicLegend=f.ib,Wf.utils.stringToHtml=f.jb,Wf.utils.stringifyFunctions=f.kb,Wf.utils.styleComparator=f.lb,Wf.utils.transfomContent=f.mb,Wf.window=Ys.a,Xf.AssertionError=sc.a,Xf.Collection=cc.a,Xf.Feature=nt.a,Xf.Geolocation=lc.a,Xf.Kinetic=uc.a,Xf.Map=hc.a,Xf.MapBrowserEvent=fc.a,Xf.Object=or.a,Xf.Observable=ui.a,Xf.Observable.unByKey=ui.b,Xf.Overlay=pc.a,Xf.PluggableMap=dc.a,Xf.View=mc.a,Xf.array={},Xf.array.stableSort=Mr.k,Xf.color={},Xf.color.asArray=et.a,Xf.color.asString=et.b,Xf.colorlike={},Xf.colorlike.asColorLike=Sf.a,Xf.control={},Xf.control.Attribution=yc.a,Xf.control.Control=gc.a,Xf.control.FullScreen=_c.a,Xf.control.MousePosition=bc.a,Xf.control.OverviewMap=vc.a,Xf.control.Rotate=Oc.a,Xf.control.ScaleLine=wc.a,Xf.control.Zoom=Mc.a,Xf.control.ZoomSlider=Ec.a,Xf.control.ZoomToExtent=xc.a,Xf.control.defaults=jf.a,Xf.coordinate={},Xf.coordinate.add=Iu.a,Xf.coordinate.createStringXY=Iu.d,Xf.coordinate.format=Iu.h,Xf.coordinate.rotate=Iu.i,Xf.coordinate.toStringHDMS=Iu.m,Xf.coordinate.toStringXY=Iu.n,Xf.easing={},Xf.easing.easeIn=Pf.easeIn,Xf.easing.easeOut=Pf.easeOut,Xf.easing.inAndOut=Pf.inAndOut,Xf.easing.linear=Pf.linear,Xf.easing.upAndDown=Pf.upAndDown,Xf.events={},Xf.events.condition={},Xf.events.condition.altKeyOnly=Tf.a,Xf.events.condition.altShiftKeysOnly=Tf.b,Xf.events.condition.always=Tf.c,Xf.events.condition.click=Tf.d,Xf.events.condition.doubleClick=Tf.e,Xf.events.condition.focus=Tf.f,Xf.events.condition.mouseOnly=Tf.h,Xf.events.condition.never=Tf.i,Xf.events.condition.noModifierKeys=Tf.j,Xf.events.condition.penOnly=Tf.k,Xf.events.condition.platformModifierKeyOnly=Tf.l,Xf.events.condition.pointerMove=Tf.m,Xf.events.condition.primaryAction=Tf.n,Xf.events.condition.shiftKeyOnly=Tf.o,Xf.events.condition.singleClick=Tf.p,Xf.events.condition.targetNotEditable=Tf.q,Xf.events.condition.touchOnly=Tf.r,Xf.extent={},Xf.extent.applyTransform=Wr.a,Xf.extent.boundingExtent=Wr.c,Xf.extent.buffer=Wr.d,Xf.extent.containsCoordinate=Wr.g,Xf.extent.containsExtent=Wr.h,Xf.extent.containsXY=Wr.i,Xf.extent.createEmpty=Wr.k,Xf.extent.equals=Wr.q,Xf.extent.extend=Wr.r,Xf.extent.getArea=Wr.v,Xf.extent.getBottomLeft=Wr.w,Xf.extent.getBottomRight=Wr.x,Xf.extent.getCenter=Wr.y,Xf.extent.getHeight=Wr.B,Xf.extent.getIntersection=Wr.C,Xf.extent.getSize=Wr.D,Xf.extent.getTopLeft=Wr.E,Xf.extent.getTopRight=Wr.F,Xf.extent.getWidth=Wr.G,Xf.extent.intersects=Wr.H,Xf.extent.isEmpty=Wr.J,Xf.featureloader={},Xf.featureloader.setWithCredentials=If.b,Xf.featureloader.xhr=If.c,Xf.format={},Xf.format.EsriJSON=Fc,Xf.format.Feature=Sc.a,Xf.format.GML=Bc.a,Xf.format.GML2=Uc.a,Xf.format.GML3=Gc.a,Xf.format.GML32=zc.a,Xf.format.GPX=Wc.a,Xf.format.GeoJSON=Xc.a,Xf.format.IGC=tl,Xf.format.IIIFInfo=ll,Xf.format.KML=ul.a,Xf.format.MVT=hl.a,Xf.format.OSMXML=vl,Xf.format.Polyline=Il,Xf.format.Polyline.decodeDeltas=Sl,Xf.format.Polyline.decodeFloats=Pl,Xf.format.Polyline.encodeDeltas=xl,Xf.format.Polyline.encodeFloats=jl,Xf.format.TopoJSON=Bl,Xf.format.WFS=Ul.a,Xf.format.WFS.writeFilter=Ul.b,Xf.format.WKT=Gl.a,Xf.format.WMSCapabilities=zl.a,Xf.format.WMSGetFeatureInfo=Xl,Xf.format.WMTSCapabilities=Ie.a,Xf.format.filter={},Xf.format.filter.Bbox=ql.a,Xf.format.filter.Contains=Vl.a,Xf.format.filter.During=Yl.a,Xf.format.filter.EqualTo=Zl.a,Xf.format.filter.GreaterThan=Kl.a,Xf.format.filter.GreaterThanOrEqualTo=Hl.a,Xf.format.filter.Intersects=Jl.a,Xf.format.filter.IsBetween=Ql.a,Xf.format.filter.IsLike=$l.a,Xf.format.filter.IsNull=tu.a,Xf.format.filter.LessThan=eu.a,Xf.format.filter.LessThanOrEqualTo=ru.a,Xf.format.filter.Not=nu.a,Xf.format.filter.NotEqualTo=iu.a,Xf.format.filter.Or=ou.a,Xf.format.filter.Within=au.a,Xf.format.filter.and=Lf.a,Xf.format.filter.bbox=Lf.b,Xf.format.filter.between=Lf.c,Xf.format.filter.contains=Lf.d,Xf.format.filter.during=Lf.e,Xf.format.filter.equalTo=Lf.f,Xf.format.filter.greaterThan=Lf.g,Xf.format.filter.greaterThanOrEqualTo=Lf.h,Xf.format.filter.intersects=Lf.i,Xf.format.filter.isNull=Lf.j,Xf.format.filter.lessThan=Lf.k,Xf.format.filter.lessThanOrEqualTo=Lf.l,Xf.format.filter.like=Lf.m,Xf.format.filter.not=Lf.n,Xf.format.filter.notEqualTo=Lf.o,Xf.format.filter.or=Lf.p,Xf.format.filter.within=Lf.q,Xf.geom={},Xf.geom.Circle=Dn.a,Xf.geom.Geometry=ti.a,Xf.geom.GeometryCollection=ei.a,Xf.geom.LineString=Ln.a,Xf.geom.LinearRing=Rn.a,Xf.geom.MultiLineString=Cn.a,Xf.geom.MultiPoint=An.a,Xf.geom.MultiPolygon=kn.a,Xf.geom.Point=ot.a,Xf.geom.Polygon=Nn.b,Xf.geom.Polygon.circular=Nn.a,Xf.geom.Polygon.fromCircle=Nn.c,Xf.geom.Polygon.fromExtent=Nn.d,Xf.geom.SimpleGeometry=Ol.a,Xf.has={},Xf.has.DEVICE_PIXEL_RATIO=Rf.a,Xf.interaction={},Xf.interaction.DoubleClickZoom=su.a,Xf.interaction.DragAndDrop=cu.a,Xf.interaction.DragBox=lu.a,Xf.interaction.DragPan=uu.a,Xf.interaction.DragRotate=hu.a,Xf.interaction.DragRotateAndZoom=fu.a,Xf.interaction.DragZoom=pu.a,Xf.interaction.Draw=du.c,Xf.interaction.Draw.createBox=du.a,Xf.interaction.Draw.createRegularPolygon=du.b,Xf.interaction.Extent=mu.a,Xf.interaction.Interaction=yu.a,Xf.interaction.KeyboardPan=gu.a,Xf.interaction.KeyboardZoom=_u.a,Xf.interaction.Modify=bu.a,Xf.interaction.MouseWheelZoom=vu.a,Xf.interaction.PinchRotate=Ou.a,Xf.interaction.PinchZoom=wu.a,Xf.interaction.Pointer=Mu.b,Xf.interaction.Select=Eu.a,Xf.interaction.Snap=xu.a,Xf.interaction.Translate=Su.a;Xf.interaction.defaults=Cf.a,Xf.layer={},Xf.layer.Base=ju.a,Xf.layer.BaseImage=Pu.a,Xf.layer.BaseTile=Tu.a,Xf.layer.BaseVector=Zr.a,Xf.layer.Graticule=Nu,Xf.layer.Group=Du.a,Xf.layer.Heatmap=on,Xf.layer.Image=Fu.a,Xf.layer.Layer=Bu.a,Xf.layer.Tile=Uu.a,Xf.layer.Vector=We.a,Xf.layer.VectorImage=Ju,Xf.layer.VectorTile=Qu.a,Xf.loadingstrategy={},Xf.loadingstrategy.all=Af.a,Xf.loadingstrategy.bbox=Af.b,Xf.loadingstrategy.tile=Af.c,Xf.proj={},Xf.proj.Projection=$u.a,Xf.proj.Units={},Xf.proj.Units.METERS_PER_UNIT=kf.a,Xf.proj.addCoordinateTransforms=Ve.b,Xf.proj.addEquivalentProjections=Ve.c,Xf.proj.addProjection=Ve.d,Xf.proj.equivalent=Ve.f,Xf.proj.fromLonLat=Ve.g,Xf.proj.get=Ve.j,Xf.proj.getPointResolution=Ve.k,Xf.proj.getTransform=Ve.l,Xf.proj.proj4={},Xf.proj.proj4.register=Nf.a,Xf.proj.toLonLat=Ve.p,Xf.proj.transform=Ve.s,Xf.proj.transformExtent=Ve.t,Xf.render={},Xf.render.VectorContext=th.a,Xf.render.canvas={},Xf.render.canvas.labelCache=Df.p,Xf.render.getRenderPixel=hi.a,Xf.render.getVectorContext=hi.b,Xf.render.toContext=hi.d,Xf.renderer={},Xf.renderer.Composite=eh.a,Xf.renderer.canvas={},Xf.renderer.canvas.ImageLayer=qu.a,Xf.renderer.canvas.TileLayer=rh.a,Xf.renderer.canvas.VectorImageLayer=Ku,Xf.renderer.canvas.VectorLayer=Vu.a,Xf.renderer.canvas.VectorTileLayer=nh.a,Xf.renderer.webgl={},Xf.renderer.webgl.PointsLayer=Qr,Xf.size={},Xf.size.toSize=bh.d,Xf.source={},Xf.source.BingMaps=hh,Xf.source.CartoDB=dh,Xf.source.Cluster=mh.a,Xf.source.IIIF=Ph,Xf.source.Image=Th.a,Xf.source.ImageArcGISRest=Ch,Xf.source.ImageCanvas=kh,Xf.source.ImageMapGuide=Dh,Xf.source.ImageStatic=Bh,Xf.source.ImageWMS=Uh.a,Xf.source.OSM=Gh.b,Xf.source.OSM.ATTRIBUTION=Gh.a,Xf.source.Raster=nf,Xf.source.Source=Vh.a,Xf.source.Stamen=lf,Xf.source.Tile=qh.b,Xf.source.TileArcGISRest=ff,Xf.source.TileDebug=yf,Xf.source.TileImage=sh.a,Xf.source.TileJSON=_f,Xf.source.TileWMS=bf.a,Xf.source.UTFGrid=wf,Xf.source.Vector=Xe.a,Xf.source.VectorTile=Mf.a,Xf.source.WMSServerType={},Xf.source.WMSServerType.CARMENTA_SERVER=Ff.CARMENTA_SERVER,Xf.source.WMSServerType.GEOSERVER=Ff.GEOSERVER,Xf.source.WMSServerType.MAPSERVER=Ff.MAPSERVER,Xf.source.WMSServerType.QGIS=Ff.QGIS,Xf.source.WMTS=Te.a,Xf.source.WMTS.optionsFromCapabilities=Te.b,Xf.source.XYZ=fh.a,Xf.source.Zoomify=xh,Xf.sphere={},Xf.sphere.getArea=Bf.a,Xf.sphere.getDistance=Bf.b,Xf.sphere.getLength=Bf.c,Xf.style={},Xf.style.Circle=qe.a,Xf.style.Fill=tt.a,Xf.style.Icon=ct.a,Xf.style.IconAnchorUnits={},Xf.style.IconAnchorUnits.FRACTION=Uf.FRACTION,Xf.style.IconAnchorUnits.PIXELS=Uf.PIXELS,Xf.style.IconImageCache={},Xf.style.IconImageCache.shared=Gf.a,Xf.style.IconOrigin={},Xf.style.IconOrigin.BOTTOM_LEFT=zf.BOTTOM_LEFT,Xf.style.IconOrigin.BOTTOM_RIGHT=zf.BOTTOM_RIGHT,Xf.style.IconOrigin.TOP_LEFT=zf.TOP_LEFT,Xf.style.IconOrigin.TOP_RIGHT=zf.TOP_RIGHT,Xf.style.Image=Ef.a,Xf.style.RegularShape=$.a,Xf.style.Stroke=it.a,Xf.style.Style=st.c,Xf.style.Text=at.a,Xf.tilegrid={},Xf.tilegrid.TileGrid=vh.a,Xf.tilegrid.WMTS=xf.b,Xf.tilegrid.WMTS.createFromCapabilitiesMatrixSet=xf.a,Xf.tilegrid.createXYZ=lh.b,Xf.transform={},Xf.transform.composeCssTransform=br.c,Xf.util={},Xf.util.getUid=mr.c,Xf.webgl={},Xf.webgl.ARRAY_BUFFER=34962,Xf.webgl.Buffer=dr,Xf.webgl.DYNAMIC_DRAW=35048,Xf.webgl.ELEMENT_ARRAY_BUFFER=34963,Xf.webgl.Helper=Ar,Xf.webgl.Helper.computeAttributesStride=Rr,Xf.webgl.PostProcessingPass=wr,Xf.webgl.RenderTarget=Yr,Xf.webgl.STATIC_DRAW=35044,Xf.webgl.STREAM_DRAW=35040,Xf.xml={},Xf.xml.getAllTextContent=ke.d,Xf.xml.parse=ke.s,Xf.xml.registerDocument=ke.w,Xf.xml.registerXMLSerializer=ke.x,window.Handlebars=r(368),window.proj4=r(317),Wf.plugin={}}]);
//# sourceMappingURL=apiign-4.9.0.ol.min.js.map