{{#*inline "fulltocLayer"}}
  {{#each layers}}
    <li class="m-layer {{#if outOfRange}}disabled{{/if}}{{#if visible}} visible{{/if}}">
      <div class="m-title-container">
        <div class="m-visible-control">
          <span data-layer-name="{{id}}" data-layer-url="{{url}}" class="m-check {{#if visible}}icon-ver{{^}}icon-ocultar{{/if}}"></span>
        </div>
        <div class="m-title">
          <span class="m-layer-type">{{type}}</span>
          <span>{{title}}</span>
        </div>
      </div>
      {{#if visible}}
        <div class="m-tools">
          <div class="m-opacity-container">
            <input type="range" data-layer-name="{{id}}" data-layer-url="{{url}}" class="m-fulltoc-transparency" min="0" max="1" step="0.1" value="{{opacity}}" {{#unless visible}} disabled {{/unless}}
              {{#if outOfRange}} disabled {{/if}} />
          </div>
          <div class="m-action-tools">
            <span title="{{../translations.show_hide}}" data-layer-name="{{id}}" data-layer-url="{{url}}" class="icon-leyenda m-fulltoc-legend"></span>
            <span title="{{../translations.zoom}}" data-layer-name="{{id}}" data-layer-url="{{url}}" class="icon-localizacion3 m-fulltoc-zoom"></span>
            {{#if metadata}}
              <span title="{{../translations.info_metadata}}" data-layer-name="{{id}}" data-layer-url="{{url}}" class="icon-info m-fulltoc-info"></span>
            {{/if}}
            {{#if hasStyles}}
              <span title="{{../translations.change_style}}" data-layer-name="{{id}}" data-layer-url="{{url}}" class="icon-pincel m-fulltoc-config"></span>
            {{/if}}
            <span title="{{../translations.remove_layer}}" data-layer-name="{{id}}" data-layer-url="{{url}}" class="icon-papelera m-fulltoc-remove"></span>
          </div>
        </div>
        <div class="m-legend">
          <img data-layer-name="{{id}}" data-layer-url="{{url}}" src="{{legend}}"></img>
        </div>
      {{/if}}
    </li>
  {{/each}}
  {{/inline}}
    <div class="m-control m-fulltoc-container">
      <div class="m-layersiwtcher-panel" id="m-fulltoc-panel">
        <ul>
          <li class="m-group">
            <div class="m-title">
              <span class="span-title">{{translations.layers}}</span>
              <span title="{{translations.add_service}}" class="icon-add m-fulltoc-addservice"></span>
            </div>
            {{#gt overlayLayers.length 0}}
              <ul class="m-layers" title="{{translations.drag_drop}}">
                {{> fulltocLayer layers=overlayLayers}}
              </ul>
            {{/gt}}
          </li>
        </ul>
      </div>
    </div>
