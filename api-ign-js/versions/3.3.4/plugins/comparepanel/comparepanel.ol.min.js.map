{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/templates/comparepanel.html","webpack:///./src/templates/cpmirrorpanel.html","webpack:///./src/templates/cptimeline.html","webpack:///./src/templates/cplyrcompare.html","webpack:///./src/templates/cptransparency.html","webpack:///./src/impl/ol/js/comparepanelcontrol.js","webpack:///./src/facade/js/i18n/language.js","webpack:///./src/impl/ol/js/cpmirrorpanel.js","webpack:///./src/facade/js/cpmirrorpanelcontrol.js","webpack:///./src/facade/js/cpmirrorpanel.js","webpack:///./src/impl/ol/js/cptimelinecontrol.js","webpack:///./src/facade/js/cptimelinecontrol.js","webpack:///./src/facade/js/cptimeline.js","webpack:///./src/impl/ol/js/cplyrcompareinteraction.js","webpack:///./src/impl/ol/js/cplyrcomparecontrol.js","webpack:///./src/facade/js/cplyrcomparecontrol.js","webpack:///./src/facade/js/cplyrcompare.js","webpack:///./src/impl/ol/js/cptransparentInteraction.js","webpack:///./src/impl/ol/js/cptransparencycontrol.js","webpack:///./src/facade/js/cptransparencycontrol.js","webpack:///./src/facade/js/cptransparency.js","webpack:///./src/facade/js/comparepanelcontrol.js","webpack:///./src/facade/js/comparepanel.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","ComparepanelControl","M","impl","Control","map","html","this","olMap","getMapImpl","translations","en","es","getLang","res","language","getTranslation","lang","getValue","keyPath","translation","utils","isNullOrEmpty","console","warn","split","reduce","prev","current","CompareMirrorpanel","getInteractions","forEach","interaction","ol","DoubleClickZoom","dblClickInteraction_","values","isUndefined","MirrorpanelImplControl","exception","template","modeViz","enabledPlugins","showCursors","mapL","A","B","C","D","lyrCursor","featureLyrCursor","oldClass","styleCursor","style","Point","icon","form","CIRCLE","fontsize","radius","rotation","rotate","offset","color","fill","gradientcolor","opacity","defaultBaseLyrs","mirrorLayers","backImgLayersParams","createMapContainers","compileSync","string","options","parseToHtml","templateVars","vars","htmlText","Handlebars","compile","templateFn","stringToHtml","length","addLayers","getLayers","zindex_","setVisible","addLayerCursor","Promise","success","fail","templateOptions","jsonp","titleMirrorpanel","getValueTranslate","modViz0","modViz1","modViz2","modViz3","modViz4","modViz5","modViz6","modViz7","modViz8","modViz9","querySelectorAll","button","addEventListener","evt","manageVisionPanelByCSSGrid","params","layerId","paramsSeparate","idsArray","titlesArray","previewArray","layersArray","lyrs","baseLayer","idx","backgroundLayers","urlLayer","layer","WMTS","mapeaLyrsObject","id","title","preview","layers","push","position","collapsible","collapsed","layerVisibility","columnsNumber","layerOpts","bigContainer","document","createElement","classList","add","mapjsA","getElementById","toString","body","insertBefore","appendChild","mapjsB","mapjsC","mapjsD","oldModeViz","display","querySelector","remove","includes","createMapObjects","map_","refresh","mapLyr","plugin4map","mpBILmap","getPlugins","itemPlug","metadata_","plugin","FullTOC","http","https","precharged","BackImgLayer","copyBackImgLayersParams","container","center","getCenter","projection","getProjection","code","units","zoom","getZoom","defLyr","setMap","setView","getView","addPlugin","Vector","displayInLayerSwitcher","Feature","type","properties","geometry","coordinates","addFeatures","setStyle","setZIndex","on","event","keys","k","setGeometry","coordinate","lienzo","parentElement","control","Mirrorpanel","name_","controls_","className","undefined","enabledKeyFunctions","Array","isArray","isObject","bIL","getAPIRest","replace","tooltip_","tooltip","api","metadata","Plugin","pluginOnLeft","control_","MirrorpanelControl","panel_","ui","Panel","collapsedButtonClass","addControls","addPanels","getControls","dialog","error","zEvent","ctrlKey","shiftKey","keyStr","altKey","metaKey","removeEventListener","removeMaps","destroyMapsContainer","removeControls","activate","deactivate","TimelineControl","TimelineImplControl","running","animation","speed","intervals","interval","transformToLayers","copy","getMapLayer","removeLayers","iv","number","tag","service","titleTimeline","play","parseInt","dataset","append","setProperty","slider","setAttribute","e","changeSlider","clearTimeout","playTimeline","newLayer","layerByObject","filter","isValidLayer","indexOf","toUpperCase","WMS","url","layerByName","elem","left","min","max","step","parseFloat","innerHTML","layerSearch","getImpl","legend","next","end","setTimeout","clearInterval","Timeline","isString","JSON","parse","removeTimelineLayers","LyrcompareInteraction","layers_","swipeClicked","Pointer","handleDownEvent","setPosition","handleUpEvent","handleMoveEvent","optionsE","pos","opacityVal","layerA","lyrA","getOL3Layer","addLayerA","layerB","lyrB","addLayerB","lyrC","lyrD","layerC","addLayerC","layerD","addLayerD","getMap","precompose","Observable","unByKey","postcompose","renderSync","createSwipeControl","precomposeA_","postcomposeA_","precomposeB_","postcomposeB_","precomposeC_","postcomposeC_","precomposeD_","postcomposeD_","setOpacity","staticDivision","updatePosition","comparisonMode","splice","pixel","pointerEvent","buttons","lienzoMapa","getSize","moveSwipeControl","swipeControl","offsetWidth","top","offsetHeight","ctx","context","ratio","frameState","pixelRatio","save","beginPath","rect","canvas","width","clip","restore","height","swipeIcon","b","Lyrcomparecontrol","transparentInteraction_","addInteraction","setComparisonMode","setStaticDivision","setVisibilityLayersCD","addLayer","removeInteraction","removeLayer","unique","a","LyrCompareControl","LyrcompareImplControl","layerSelectedA","layerSelectedB","layerSelectedC","layerSelectedD","defaultLyrA","defaultLyrB","defaultLyrC","defaultLyrD","ADDED_TO_MAP","activateCurtain","isLoad","allLayerLoad","setFunctionsAndCompile","idInterval","setInterval","tooltip_vcurtain","tooltip_hcurtain","tooltip_multicurtain","static","dynamic","mixed","opacity_tooltip","static_tooltip","dynamic_tooltip","mixed_tooltip","lyrLeftSelect_tooltip","lyrRightSelect_tooltip","registerHelper","v1","v2","fn","inverse","setEventsAndValues","updateControls","deactivateCurtain","Number","target","checked","item","lstLayers","checkLayersAreDifferent","info","removeEffectsComparison","effectSelectedCurtain","lyerA","lyerB","lyerC","lyerD","compLyers","activeDefault","selectedIndex","removeEffectsCurtain","removeActivate","activateByMode","swapControl","disabled","layerByUrl","load","transform","facadeLayer_","LyrCompare","error_","interface","removePlugins","removeCurtainLayers","getLayersNames","TransparentInteraction","precompose_","postcompose_","arc","Math","PI","TransparencyControl","setRadius","TransparencyImplControl","layerSelected","names","transparency","removeEffects","effectSelected","Transparency","isNaN","separatorApiJson","separator","removeTransparencyLayers","ComparepanelImplControl","baseLayers","mirrorpanelParams","timelineParams","lyrcompareParams","transparencyParams","mirrorpanel","timeline","lyrcompare","panels","plugins","tooltipLyr","tooltipMirrorpanel","tooltipTimeline","tooltipTransparency","addComparators","_element","element","_className","addButtonEvents","deactivateAndActivate","toggle","contains","Comparepanel","vertical","stringify","window","M$plugin$Comparepanel","M$control$ComparepanelControl","M$plugin$LyrCompare","M$control$LyrCompareControl","M$plugin$Mirrorpanel","M$control$CompareMirrorpanel","M$plugin$Timeline","M$control$TimelineControl","M$plugin$Transparency","M$control$TransparencyControl","M$impl$control$ComparepanelControl","M$impl$control$Lyrcomparecontrol","M$impl$control$LyrcompareInteraction","M$impl$control$CompareMirrorpanel","M$impl$control$TimelineControl","M$impl$control$TransparencyControl","M$impl$control$TransparentInteraction"],"mappings":"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","file":"comparepanel.ol.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n","module.exports = \"<div id=\\\"div-contenedor\\\" class=\\\"m-comparepanel-container\\\">\\r\\n    <div id='m-cp-mirrorpanel'>\\r\\n        <button class=\\\"cp-button cp-icon\\\" title=\\\"{{translations.tooltipMirrorpanel}}\\\"></button>\\r\\n    </div>\\r\\n    <div id='m-cp-lyrcompare'>\\r\\n        <button class=\\\"cp-button cp-columns\\\" title=\\\"{{translations.tooltipLyr}}\\\"></button>\\r\\n    </div>\\r\\n    <div id='m-cp-timeline'>\\r\\n        <button class=\\\"cp-button cp-gestion-reloj2\\\" title=\\\"{{translations.tooltipTimeline}}\\\"></button>\\r\\n    </div>\\r\\n    <div id='m-cp-transparency'>\\r\\n        <button class=\\\"cp-button cp-transparency-icon\\\" title=\\\"{{translations.tooltipTransparency}}\\\"></button>\\r\\n    </div>\\r\\n</div>\\r\\n\";","module.exports = \"<div id=\\\"div-contenedor\\\" class=\\\"m-mirrorpanel-container\\\">\\r\\n  <div class=\\\"div-m-mirrorpanel-panel\\\">\\r\\n    <div class=\\\"m-mirrorpanel-effect-buttoms\\\">\\r\\n      <button id=\\\"set-mirror-0\\\" class=\\\"big-button\\\" title=\\\"{{translations.modViz0}}\\\"><i class=\\\"cp-modeviz0\\\"></i></button>\\r\\n      <button id=\\\"set-mirror-1\\\" class=\\\"big-button\\\" title=\\\"{{translations.modViz1}}\\\"><i class=\\\"cp-modeviz1\\\"></i></button>\\r\\n      <button id=\\\"set-mirror-2\\\" class=\\\"big-button\\\" title=\\\"{{translations.modViz2}}\\\"><i class=\\\"cp-modeviz2\\\"></i></button>\\r\\n      <button id=\\\"set-mirror-3\\\" class=\\\"big-button\\\" title=\\\"{{translations.modViz3}}\\\"><i class=\\\"cp-modeviz3\\\"></i></button>\\r\\n      <button id=\\\"set-mirror-4\\\" class=\\\"big-button\\\" title=\\\"{{translations.modViz4}}\\\"><i class=\\\"cp-modeviz4\\\"></i></button>\\r\\n      <button id=\\\"set-mirror-5\\\" class=\\\"big-button\\\" title=\\\"{{translations.modViz5}}\\\"><i class=\\\"cp-modeviz5\\\"></i></button>\\r\\n      <button id=\\\"set-mirror-6\\\" class=\\\"big-button\\\" title=\\\"{{translations.modViz6}}\\\"><i class=\\\"cp-modeviz6\\\"></i></button>\\r\\n      <button id=\\\"set-mirror-7\\\" class=\\\"big-button\\\" title=\\\"{{translations.modViz7}}\\\"><i class=\\\"cp-modeviz7\\\"></i></button>\\r\\n      <button id=\\\"set-mirror-8\\\" class=\\\"big-button\\\" title=\\\"{{translations.modViz8}}\\\"><i class=\\\"cp-modeviz8\\\"></i></button>\\r\\n      <button id=\\\"set-mirror-9\\\" class=\\\"big-button\\\" title=\\\"{{translations.modViz9}}\\\"><i class=\\\"cp-modeviz9\\\"></i></button>\\r\\n    </div>\\r\\n    \\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n\";","module.exports = \"<div id=\\\"div-contenedor\\\" class=\\\"m-timeline-container\\\">\\r\\n    <div class=\\\"div-m-timeline-panel\\\">\\r\\n        <div class=\\\"div-m-timeline-slider\\\">\\r\\n            <input type=\\\"range\\\" min=\\\"0\\\" max=\\\"100\\\" value=\\\"0\\\" step=\\\"any\\\" id=\\\"input-slider\\\"></input>\\r\\n            <div class='slider-tags'></div>\\r\\n        </div>\\r\\n        <div class=\\\"m-timeline-names\\\">\\r\\n            \\r\\n        </div>\\r\\n        <div class=\\\"m-timeline-button\\\">\\r\\n            <button id=\\\"m-timeline-play\\\" class=\\\"cp-control-siguiente\\\" title=\\\"Iniciar paso del tiempo\\\"></button>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\";","module.exports = \"<div id=\\\"div-contenedor\\\" class=\\\"m-lyrcompare-container\\\">\\n    <div class=\\\"div-m-lyrcompare-panel\\\">\\n        <div class=\\\"m-lyrcompare-effect-buttoms\\\">\\n            <button id=\\\"m-lyrcompare-vcurtain\\\" class=\\\"big-buttom\\\" title=\\\"{{translations.tooltip_vcurtain}}\\\"><i class=\\\"cp-columns\\\"></i></button>\\n            <button id=\\\"m-lyrcompare-hcurtain\\\" class=\\\"big-buttom\\\" title=\\\"{{translations.tooltip_hcurtain}}\\\"><i class=\\\"cp-columns-rotate\\\"></i></button>\\n            <button id=\\\"m-lyrcompare-multicurtain\\\" class=\\\"big-buttom\\\" title=\\\"{{translations.tooltip_multicurtain}}\\\"><i class=\\\"cp-th-large\\\"></i></button>\\n        </div>\\n        <div class=\\\"div-m-lyrcompare-transparent-opacity\\\">\\n            <label for=\\\"input-transparent-opacity\\\" title=\\\"{{translations.opacity_tooltip}}\\\">{{translations.opacity}}: </label>\\n            <input type=\\\"range\\\" min=\\\"0\\\" max=\\\"100\\\" value=\\\"100\\\" id=\\\"input-transparent-opacity\\\" title=\\\"{{translations.opacity_tooltip}}\\\"></input>\\n        </div>\\n        <div class=\\\"div-m-lyrcompare-transparent-static\\\">\\n            <input type=\\\"radio\\\" id=\\\"div-m-lyrcompare-transparent-dynamic\\\" name=\\\"staticDivision\\\" value=\\\"0\\\"><label for=\\\"div-m-lyrcompare-transparent-dynamic\\\" title=\\\"{{translations.dynamic_tooltip}}\\\">{{translations.dynamic}}</label>\\n            <input type=\\\"radio\\\" id=\\\"div-m-lyrcompare-transparent-static\\\" name=\\\"staticDivision\\\" value=\\\"1\\\"><label for=\\\"div-m-lyrcompare-transparent-static\\\" title=\\\"{{translations.static_tooltip}}\\\">{{translations.static}}</label>\\n            <input type=\\\"radio\\\" id=\\\"div-m-lyrcompare-transparent-mixed\\\" name=\\\"staticDivision\\\" value=\\\"2\\\"><label for=\\\"div-m-lyrcompare-transparent-mixed\\\" title=\\\"{{translations.mixed_tooltip}}\\\">{{translations.mixed}}</label>\\n        </div>\\n        <hr />\\n        {{#if options}}\\n            <div class=\\\"m-lyrcompare-select\\\" id=\\\"m-lyrcompare-lyrA-cont\\\">\\n                <label id=\\\"m-lyrcompare-lyrA-lbl\\\" for=\\\"m-lyrcompare-lyrA\\\" title=\\\"{{translations.lyrLeftSelect_tooltip}}\\\"></label>\\n                <select disabled id=\\\"m-lyrcompare-lyrA\\\">\\n                    {{#each options}}\\n                        <option value='{{this.name}}'>{{this.legend}}</option>\\n                    {{/each}}\\n                </select>\\n                <div class=\\\"m-lyrcompare-select_arrow\\\"></div>\\n            </div>\\n            <div class=\\\"m-lyrcompare-select\\\" id=\\\"m-lyrcompare-lyrB-cont\\\">\\n                <label id=\\\"m-lyrcompare-lyrB-lbl\\\" for=\\\"m-lyrcompare-lyrB\\\" title=\\\"{{translations.lyrRightSelect_tooltip}}\\\"></label>\\n                <select disabled id=\\\"m-lyrcompare-lyrB\\\">\\n                    {{#each options}}\\n                        <option value='{{this.name}}'>{{this.legend}}</option>\\n                    {{/each}}\\n                </select>\\n                <div class=\\\"m-lyrcompare-select_arrow\\\">\\n                </div>\\n            </div>\\n            <!--Multi Curtain-->\\n            <div class=\\\"m-lyrcompare-select\\\" id=\\\"m-lyrcompare-lyrC-cont\\\">\\n                <label id=\\\"m-lyrcompare-lyrC-lbl\\\" for=\\\"m-lyrcompare-lyrC\\\" title=\\\"{{translations.lyrLeftSelect_tooltip}}\\\"></label>\\n                <select disabled id=\\\"m-lyrcompare-lyrC\\\">\\n                    {{#each options}}\\n                        <option value='{{this.name}}'>{{this.legend}}</option>\\n                    {{/each}}\\n                </select>\\n                <div class=\\\"m-lyrcompare-select_arrow\\\"></div>\\n            </div>\\n            <div class=\\\"m-lyrcompare-select\\\" id=\\\"m-lyrcompare-lyrD-cont\\\">\\n                <label id=\\\"m-lyrcompare-lyrD-lbl\\\" for=\\\"m-lyrcompare-lyrD\\\" title=\\\"{{translations.lyrRightSelect_tooltip}}\\\"></label>\\n                <select disabled id=\\\"m-lyrcompare-lyrD\\\">\\n                    {{#each options}}\\n                        <option value='{{this.name}}'>{{this.legend}}</option>\\n                    {{/each}}\\n                </select>\\n                <div class=\\\"m-lyrcompare-select_arrow\\\">\\n                </div>\\n            </div>\\n        {{/if}}\\n    </div>\\n</div>\";","module.exports = \"<div id=\\\"div-contenedor\\\" class=\\\"m-transparency-container\\\">\\r\\n    <div class=\\\"div-m-transparency-panel\\\">\\r\\n        <div class=\\\"div-m-transparency-transparent-radius\\\">\\r\\n            <p>{{translations.radius}}:</p>\\r\\n            <input type=\\\"range\\\" min=\\\"30\\\" max=\\\"200\\\" value=\\\"100\\\" id=\\\"input-transparent-radius\\\"></input>\\r\\n        </div>\\r\\n        {{#if options}}\\r\\n            <div class=\\\"m-transparency-select\\\">\\r\\n                <p>{{translations.layers}}: </p>\\r\\n                <select disabled>\\r\\n                    {{#each options}}\\r\\n                        <option>{{name}}</option>\\r\\n                    {{/each}}\\r\\n                </select>\\r\\n                <div class=\\\"m-transparency-select_arrow\\\">\\r\\n                </div>\\r\\n            </div>\\r\\n        {{/if}}\\r\\n    </div>\\r\\n</div>\";","/**\r\n * @module M/impl/control/ComparepanelControl\r\n */\r\n\r\nexport default class ComparepanelControl extends M.impl.Control {\r\n  /**\r\n   * This function adds the control to the specified map\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Map} map to add the plugin\r\n   * @param {HTMLElement} html of the plugin\r\n   * @api stable\r\n   */\r\n  addTo(map, html) {\r\n    this.map = map;\r\n    this.olMap = map.getMapImpl();\r\n\r\n    super.addTo(map, html);\r\n  }\r\n}\r\n","import en from './en';\nimport es from './es';\n\n/**\n * Default object with es and en translate.\n *\n * @const\n * @type {object}\n */\nconst translations = {\n  en,\n  es,\n};\n\nconst getLang = () => {\n  let res = 'es';\n  if (typeof M.language.getLang === 'function') {\n    res = M.language.getLang();\n  }\n\n  return res;\n};\n\n/**\n * This function sets a new language translate.\n * @param {string} lang\n * @param {JSON} json\n * @public\n * @api\n */\nexport const addTranslation = (lang, json) => {\n  translations[lang] = json;\n};\n\n/**\n * This function gets a language translate.\n *\n * @param {string} lang\n * @return {JSON}\n * @public\n * @api\n */\nexport const getTranslation = (lang) => {\n  return translations[lang];\n};\n\n/**\n * This function gets a language value from key\n *\n * @public\n * @param {string}\n * @param {string}\n * @return {string}\n * @public\n * @api\n */\n\nexport const getValue = (keyPath, lang = getLang()) => {\n  const translation = getTranslation(lang);\n  let value = '';\n  if (M.utils.isNullOrEmpty(translation)) {\n    /* eslint-disable no-console */\n    console.warn(`The translation '${lang}' has not been defined.`);\n  } else {\n    value = keyPath.split('.').reduce((prev, current) => prev[current], translation);\n  }\n\n  return value;\n};\n","/**\r\n * @module M/impl/control/CompareMirrorpanel\r\n */\r\nexport default class CompareMirrorpanel extends M.impl.Control {\r\n  /**\r\n   * This function adds the control to the specified map\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Map} map to add the plugin\r\n   * @param {HTMLElement} html of the plugin\r\n   * @api stable\r\n   */\r\n  addTo(map, html) {\r\n    // obtengo la interaccin por defecto del dblclick para manejarla\r\n    const olMap = map.getMapImpl();\r\n    olMap.getInteractions().forEach((interaction) => {\r\n      if (interaction instanceof ol.interaction.DoubleClickZoom) {\r\n        this.dblClickInteraction_ = interaction;\r\n      }\r\n    });\r\n    super.addTo(map, html);\r\n  }\r\n}\r\n","/**\r\n * @module M/control/CompareMirrorpanel\r\n */\r\n\r\nimport MirrorpanelImplControl from 'impl/cpmirrorpanel';\r\nimport template from 'templates/cpmirrorpanel';\r\nimport { getValue as getValueTranslate } from './i18n/language';\r\n\r\nexport default class CompareMirrorpanel extends M.Control {\r\n  /**\r\n   * @classdesc\r\n   * Main constructor of the class. Creates a PluginControl\r\n   * control\r\n   *\r\n   * @constructor\r\n   * @extends {M.Control}\r\n   * @api stable\r\n   */\r\n  constructor(values) {\r\n    // 1. checks if the implementation can create PluginControl\r\n    if (M.utils.isUndefined(MirrorpanelImplControl)) {\r\n      M.exception('La implementacin usada no puede crear controles CompareMirrorpanel');\r\n    }\r\n    // 2. implementation of this control\r\n    const impl = new MirrorpanelImplControl();\r\n    super(impl, 'Mirrorpanel');\r\n\r\n    /**\r\n     * Template\r\n     * @public\r\n     * @type { HTMLElement }\r\n     */\r\n    this.template = null;\r\n\r\n    /**\r\n     * Visual mode\r\n     * @private\r\n     * @type {Number}\r\n     */\r\n    this.modeViz = values.modeViz;\r\n\r\n    /**\r\n     * Mirror maps with plugins\r\n     * @private\r\n     * @type {boolean}\r\n     */\r\n    this.enabledPlugins = values.enabledPlugins;\r\n\r\n    /**\r\n     * Mirror maps with plugins\r\n     * @private\r\n     * @type {boolean}\r\n     */\r\n    this.showCursors = values.showCursors;\r\n\r\n    /**\r\n     * Defining mirror maps variables\r\n     */\r\n    this.mapL = { A: null, B: null, C: null, D: null }\r\n    this.lyrCursor = { A: null, B: null, C: null, D: null }\r\n    this.featureLyrCursor = { A: null, B: null, C: null, D: null }\r\n    this.oldClass = '';\r\n\r\n    /**\r\n     * Defining cursor style\r\n     */\r\n    this.styleCursor = new M.style.Point({\r\n      icon: {\r\n        form: M.style.form.CIRCLE,\r\n        fontsize: 0.5,\r\n        radius: 5,\r\n        rotation: 0,\r\n        rotate: false,\r\n        offset: [0, 0],\r\n        color: 'black',\r\n        fill: 'red',\r\n        gradientcolor: '#088A85',\r\n        opacity: 0.8\r\n      }\r\n    });\r\n\r\n    /**\r\n     * Default layers for mirror maps\r\n     * @public\r\n     * @public {Array}\r\n     */\r\n    this.defaultBaseLyrs = values.defaultBaseLyrs;\r\n\r\n    /**\r\n     * All layers\r\n     * @public\r\n     * @public {Array}\r\n     */\r\n    this.mirrorLayers = values.mirrorLayers;\r\n\r\n    /**\r\n     * BackImgLayers' Parameters\r\n     * @public\r\n     * @public {Object}\r\n     */\r\n    this.backImgLayersParams = values.backImgLayersParams;\r\n\r\n    this.createMapContainers();\r\n  }\r\n\r\n\r\n  /**\r\n   * This function creates the view\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Map} map to add the control\r\n   * @api stable\r\n   */\r\n  createView(map) {\r\n    if (!M.template.compileSync) {\r\n      M.template.compileSync = (string, options) => {\r\n        let templateCompiled;\r\n        let templateVars = {};\r\n        let parseToHtml;\r\n        if (!M.utils.isUndefined(options)) {\r\n          templateVars = M.utils.extends(templateVars, options.vars);\r\n          parseToHtml = options.parseToHtml;\r\n        }\r\n        const templateFn = Handlebars.compile(string);\r\n        const htmlText = templateFn(templateVars);\r\n        if (parseToHtml !== false) {\r\n          templateCompiled = M.utils.stringToHtml(htmlText);\r\n        } else {\r\n          templateCompiled = htmlText;\r\n        }\r\n        return templateCompiled;\r\n      };\r\n    }\r\n\r\n    this.mapL['A'] = map;\r\n    if (this.mirrorLayers.length > 0) {\r\n\r\n      this.mapL['A'].addLayers(this.mirrorLayers);\r\n      this.mapL['A'].getLayers().forEach((l) => {\r\n        if (l.zindex_ !== 0) { l.setVisible(false); }\r\n      });\r\n      this.mapL['A'].addLayers(this.defaultBaseLyrs[0]);\r\n      \r\n    }\r\n    if (this.showCursors) { this.addLayerCursor('A'); }\r\n    return new Promise((success, fail) => {\r\n      let templateOptions = '';\r\n      templateOptions = {\r\n        jsonp: true,\r\n        vars: {\r\n          translations: {\r\n            titleMirrorpanel: getValueTranslate('titleMirrorpanel'),\r\n            modViz0: getValueTranslate('modViz0'),\r\n            modViz1: getValueTranslate('modViz1'),\r\n            modViz2: getValueTranslate('modViz2'),\r\n            modViz3: getValueTranslate('modViz3'),\r\n            modViz4: getValueTranslate('modViz4'),\r\n            modViz5: getValueTranslate('modViz5'),\r\n            modViz6: getValueTranslate('modViz6'),\r\n            modViz7: getValueTranslate('modViz7'),\r\n            modViz8: getValueTranslate('modViz8'),\r\n            modViz9: getValueTranslate('modViz9')\r\n          }\r\n        }\r\n      };\r\n\r\n      this.template = M.template.compileSync(template, templateOptions);\r\n\r\n      // Button's click events\r\n      this.template.querySelectorAll('button[id^=\"set-mirror-\"]')\r\n        .forEach((button, modeViz) => {\r\n          button.addEventListener('click', evt => {\r\n            this.manageVisionPanelByCSSGrid(modeViz);\r\n          })\r\n        });\r\n\r\n      // Apply default vision\r\n      this.manageVisionPanelByCSSGrid(this.modeViz);\r\n      success(this.template);\r\n    });\r\n\r\n  }\r\n\r\n  /**\r\n   * This function is called on the control activation\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   */\r\n  activate() {\r\n    super.activate();\r\n  }\r\n  /**\r\n   * This function is called on the control deactivation\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   */\r\n  deactivate() {\r\n    this.manageVisionPanelByCSSGrid(0);\r\n  }\r\n\r\n  /**\r\n  * Parse backImgLayers parameters and copy them for each mirror map.\r\n  * \r\n  */\r\n  copyBackImgLayersParams(params, layerId) {\r\n    let copy = params;\r\n    const paramsSeparate = params.split('!!');\r\n    const idsArray = paramsSeparate[6].split(',');\r\n    const titlesArray = paramsSeparate[7].split(',');\r\n    const previewArray = paramsSeparate[8].split(',');\r\n    const layersArray = paramsSeparate[9].split(',');\r\n    let lyrs = [];\r\n    layersArray.forEach((baseLayer, idx) => {\r\n      let backgroundLayers = baseLayer.split('sumar');\r\n      backgroundLayers = backgroundLayers.map((urlLayer) => {\r\n        const mapeaLayer = new M.layer.WMTS(urlLayer);\r\n        return mapeaLayer;\r\n      });\r\n      const mapeaLyrsObject = { \r\n        id: idsArray[idx],\r\n        title: titlesArray[idx],\r\n        preview: previewArray[idx],\r\n        layers: backgroundLayers,\r\n      };\r\n      lyrs.push(mapeaLyrsObject);\r\n    });\r\n    copy = {\r\n      position: paramsSeparate[0],\r\n      collapsible: paramsSeparate[1] === 'true' ? true : false,\r\n      collapsed: paramsSeparate[2] === 'true' ? true : false,\r\n      layerId: layerId === 'A' ? 0 : layerId === 'B' ? 1 : layerId == 'C' ? 2 : 3,\r\n      layerVisibility: paramsSeparate[3] === 'true' ? true : false,\r\n      columnsNumber: paramsSeparate[5],\r\n      layerOpts: lyrs\r\n    }\r\n    return copy;\r\n  }\r\n\r\n  /**\r\n   * Initial configurations for applying CSS grid.\r\n   * \r\n   */\r\n  createMapContainers() {\r\n    const bigContainer = document.createElement('div');\r\n    bigContainer.id = \"lienzo\";\r\n    bigContainer.classList.add('mirrorpanel-grid');\r\n\r\n    const mapjsA = document.getElementById(\"mapjs\") || document.getElementById(\"map\");\r\n    this.oldClass = mapjsA.classList.toString();\r\n    document.body.insertBefore(bigContainer, mapjsA);\r\n    mapjsA.classList.add('mirror1');\r\n    bigContainer.appendChild(mapjsA);\r\n\r\n    const mapjsB = document.createElement('div');\r\n    mapjsB.id = \"mapjsB\";\r\n    mapjsB.classList.add('mirror2');\r\n    bigContainer.appendChild(mapjsB);\r\n\r\n    const mapjsC = document.createElement('div');\r\n    mapjsC.id = \"mapjsC\";\r\n    mapjsC.classList.add('mirror3');\r\n    bigContainer.appendChild(mapjsC);\r\n\r\n    const mapjsD = document.createElement('div');\r\n    mapjsD.id = \"mapjsD\";\r\n    mapjsD.classList.add('mirror4');\r\n    bigContainer.appendChild(mapjsD);\r\n  }\r\n\r\n  /**\r\n   * This function shows/hides panel for differents viz options.\r\n   * The mirror maps are launched from here\r\n   * \r\n   */\r\n  manageVisionPanelByCSSGrid(modeViz) {\r\n    let oldModeViz = this.modeViz;\r\n    let map0 = document.getElementById('mapjs') || document.getElementById('map');\r\n    map0.style.display = 'none';\r\n    document.getElementById('mapjsB').style.display = 'none';\r\n    document.getElementById('mapjsC').style.display = 'none';\r\n    document.getElementById('mapjsD').style.display = 'none';\r\n    this.template.querySelector('#set-mirror-' + oldModeViz).classList.remove('buttom-pressed');\r\n\r\n    for (let i = 0; i < 10; i++) {\r\n      document.getElementById('lienzo').classList.remove('modeViz' + i);\r\n    }\r\n    document.getElementById('lienzo').classList.add('modeViz' + modeViz);\r\n\r\n    //Create map objects by modeviz\r\n    if ([1, 2].includes(modeViz)) {\r\n      if (this.mapL['B'] == null) {\r\n        this.createMapObjects('B');//Create MapB\r\n      }\r\n    }\r\n    if ([3, 7, 8, 9].includes(modeViz)) {\r\n      if (this.mapL['B'] == null) {\r\n        this.createMapObjects('B');//Create MapB\r\n      }\r\n      if (this.mapL['C'] == null) {\r\n        this.createMapObjects('C');//Create MapC\r\n      }\r\n    }\r\n    if ([4, 5, 6].includes(modeViz)) {\r\n      if (this.mapL['B'] == null) {\r\n        this.createMapObjects('B');//Create MapB\r\n      }\r\n      if (this.mapL['C'] == null) {\r\n        this.createMapObjects('C');//Create MapC\r\n      }\r\n      if (this.mapL['D'] == null) {\r\n        this.createMapObjects('D');//Create MapD\r\n      }\r\n    }\r\n\r\n    this.modeViz = modeViz;\r\n    this.template.querySelector('#set-mirror-' + modeViz).classList.add('buttom-pressed');\r\n    this.map_.refresh();\r\n    if (this.mapL['B'] !== null) { this.mapL['B'].refresh(); }\r\n    if (this.mapL['C'] !== null) { this.mapL['C'].refresh(); }\r\n    if (this.mapL['D'] !== null) { this.mapL['D'].refresh(); }\r\n  }\r\n\r\n  /**\r\n   * Create mirror map object synchro with the main map\r\n   */\r\n  createMapObjects(mapLyr) {\r\n    let plugin4map = null;\r\n    let mpBILmap = null;\r\n\r\n    if (this.enabledPlugins) {\r\n      //Get main map plugins\r\n      const listaPlugs = this.map_.getPlugins();\r\n\r\n      listaPlugs.forEach((itemPlug) => {\r\n        if (itemPlug.metadata_) {\r\n          if (itemPlug.metadata_.name === \"FullTOC\") {\r\n            //FullTOC\r\n            plugin4map = new M.plugin.FullTOC({\r\n              http: itemPlug.http,\r\n              https: itemPlug.https,\r\n              precharged: itemPlug.precharged\r\n            });\r\n          }\r\n          if (itemPlug.metadata_.name === \"backimglayer\") {\r\n            //BackImgLayer\r\n            mpBILmap = new M.plugin.BackImgLayer(this.copyBackImgLayersParams(this.backImgLayersParams, mapLyr));\r\n          }\r\n        }\r\n      });\r\n    }\r\n    this.mapL[mapLyr] = M.map({\r\n      container: 'mapjs' + mapLyr,\r\n      center: this.map_.getCenter(),\r\n      projection: this.map_.getProjection().code + '*' + this.map_.getProjection().units,\r\n      zoom: this.map_.getZoom(),\r\n    });\r\n    let defLyr = null;\r\n    switch (mapLyr) {\r\n      case 'B':\r\n        if (this.defaultBaseLyrs[1]) defLyr = this.defaultBaseLyrs[1];\r\n        break;\r\n      case 'C':\r\n        if (this.defaultBaseLyrs[2]) defLyr = this.defaultBaseLyrs[2];\r\n        break;\r\n      case 'D':\r\n        if (this.defaultBaseLyrs[3]) defLyr = this.defaultBaseLyrs[3];\r\n        break;\r\n      default:\r\n        defLyr = this.map_.getLayers()[0].setMap(this);\r\n        break;\r\n    }\r\n    this.mapL[mapLyr].addLayers(defLyr);\r\n    this.mapL[mapLyr].getMapImpl().setView(this.map_.getMapImpl().getView());\r\n\r\n    if (plugin4map !== null) {\r\n      this.mapL[mapLyr].addPlugin(plugin4map);\r\n    }\r\n\r\n    if (mpBILmap !== null) {\r\n      this.mapL[mapLyr].addPlugin(mpBILmap);\r\n    }\r\n\r\n    // Plugins enabled\r\n    if (this.enabledPlugins) {\r\n      // If there is layers for mirror map\r\n      if (this.mirrorLayers.length > 0) {\r\n        this.mapL[mapLyr].addLayers(this.mirrorLayers);\r\n        this.mapL[mapLyr].getLayers().forEach((l) => {\r\n          if (l.zindex_ !== 0) { l.setVisible(false); }\r\n        });\r\n      }\r\n    }\r\n    if (this.showCursors) { this.addLayerCursor(mapLyr); }\r\n    this.mapL[mapLyr].refresh();\r\n  }\r\n\r\n  /**\r\n   * Adding a layer for cursor on Map\r\n   */\r\n  addLayerCursor(mapLyr) {\r\n    // Cursor Layer\r\n    this.lyrCursor[mapLyr] = new M.layer.Vector({\r\n      name: 'Coordenadas centro ' + mapLyr,\r\n    }, { displayInLayerSwitcher: false });\r\n\r\n    this.featureLyrCursor[mapLyr] = new M.Feature('Center' + mapLyr, {\r\n      type: 'Feature',\r\n      properties: {},\r\n      geometry: {\r\n        type: 'Point',\r\n        coordinates: this.mapL[mapLyr].getCenter(),\r\n      },\r\n    });\r\n\r\n    this.lyrCursor[mapLyr].addFeatures([this.featureLyrCursor[mapLyr]]);\r\n    this.lyrCursor[mapLyr].setStyle(this.styleCursor);\r\n    this.lyrCursor[mapLyr].setZIndex(5000);\r\n    this.mapL[mapLyr].addLayers(this.lyrCursor[mapLyr]);\r\n\r\n    this.mapL[mapLyr].getMapImpl().on('pointermove', (event) => {\r\n      this.lyrCursor[mapLyr].setVisible(false);\r\n      Object.keys(this.featureLyrCursor).forEach(k => {\r\n        if (k != mapLyr) {\r\n          if (this.featureLyrCursor[k] !== null) {\r\n            this.lyrCursor[k].setVisible(true);\r\n            this.featureLyrCursor[k].setGeometry({\r\n              type: 'Point',\r\n              coordinates: event.coordinate,\r\n            });\r\n          }\r\n        }\r\n      })\r\n    });\r\n  }\r\n\r\n  /**\r\n   * This function is called to remove the effects\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   */\r\n  removeMaps() {\r\n    this.mapL['B'] = null;\r\n    this.mapL['C'] = null;\r\n    this.mapL['D'] = null;\r\n  }\r\n\r\n  destroyMapsContainer() {\r\n    this.manageVisionPanelByCSSGrid(0);\r\n    // Remove mirrors containers\r\n    document.getElementById(\"mapjsB\").remove();\r\n    document.getElementById(\"mapjsC\").remove();\r\n    document.getElementById(\"mapjsD\").remove();\r\n    // Take the main map out of the container\r\n    const lienzo = document.getElementById(\"lienzo\");\r\n    const mapjsA = document.querySelector('.mirror1');\r\n    lienzo.parentElement.insertBefore(mapjsA, lienzo);\r\n    mapjsA.style.display = \"block\";\r\n    mapjsA.classList.remove('mirror1');\r\n    mapjsA.classList = this.oldClass;\r\n    // Load the main container\r\n    document.getElementById(\"lienzo\").remove();\r\n  }\r\n\r\n  /**\r\n   * This function compares controls\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Control} control to compare\r\n   * @api stable\r\n   */\r\n  equals(control) {\r\n    return control instanceof CompareMirrorpanel;\r\n  }\r\n}\r\n","/**\r\n * @module M/plugin/Mirrorpanel\r\n */\r\nimport 'assets/css/cpmirrorpanel';\r\nimport MirrorpanelControl from './cpmirrorpanelcontrol';\r\nimport api from '../../api';\r\nimport { getValue } from './i18n/language';   //e2m: Multilanguage support\r\n\r\nexport default class Mirrorpanel extends M.Plugin {\r\n  /**\r\n   * @classdesc\r\n   * Main facade plugin object. This class creates a plugin\r\n   * object which has an implementation Object\r\n   *\r\n   * @constructor\r\n   * @extends {M.Plugin}\r\n   * @param {Object} impl implementation object\r\n   * @api stable\r\n   */\r\n  constructor(options = {}) {\r\n    super();\r\n\r\n    /**\r\n     * Name plugin\r\n     * @private\r\n     * @type {String}\r\n     */\r\n    this.name_ = 'mirrorpanel';\r\n\r\n    /**\r\n     * Facade of the map\r\n     * @private\r\n     * @type {M.Map}\r\n     */\r\n    this.map_ = null;\r\n\r\n    /**\r\n     * Array of controls\r\n     * @private\r\n     * @type {Array<M.Control>}\r\n     */\r\n    this.controls_ = [];\r\n\r\n    /**\r\n     * Class name of the html view Plugin\r\n     * @public\r\n     * @type {string}\r\n     */\r\n    this.className = 'm-plugin-mirrorpanel';\r\n\r\n    /**\r\n     * Position of the Plugin\r\n     * @public\r\n     * @type {String}\r\n     */\r\n    this.position = options.position;\r\n\r\n    /**\r\n     * Collapsed attribute\r\n     * @public\r\n     * @type {boolean}\r\n     */\r\n    this.collapsed = true;\r\n\r\n    /**\r\n     * Collapsible attribute\r\n     * @public\r\n     * @type {boolean}\r\n     */\r\n    this.collapsible = true;\r\n\r\n    /**\r\n     * Modo de visualizacin\r\n     * Value: number in range 0 - 9\r\n     * @type {number}\r\n     * @public\r\n     */\r\n    this.modeViz = options.modeViz;\r\n    if (this.modeViz === undefined) this.modeViz = 0;\r\n\r\n    /**\r\n     * Mirror maps with plugins\r\n     * @type {boolean}\r\n     * @public\r\n     */\r\n    this.enabledPlugins = options.enabledPlugins;\r\n    if (this.enabledPlugins === undefined) this.enabledPlugins = true;\r\n\r\n    /**\r\n     * Enabled key functions\r\n     * @type {boolean}\r\n     * @public\r\n     */\r\n    this.enabledKeyFunctions = options.enabledKeyFunctions;\r\n    if (this.enabledKeyFunctions === undefined) this.enabledKeyFunctions = true;\r\n\r\n    /**\r\n     * Enabled synchro cursors\r\n     * @type {boolean}\r\n     * @public\r\n     */\r\n    this.showCursors = options.showCursors;\r\n    if (this.showCursors === undefined) this.showCursors = true;\r\n\r\n    /**\r\n     * Layer names that will have effects\r\n     * @public\r\n     * Value: the names separated with coma\r\n     * @type {string}\r\n     */\r\n\r\n    this.mirrorLayers = [];\r\n    if (options.mirrorLayers !== undefined) {\r\n      if (Array.isArray(options.mirrorLayers)) {\r\n        this.mirrorLayers = options.mirrorLayers;\r\n      } else {\r\n        this.mirrorLayers = options.mirrorLayers.split(\",\");\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Layer base for the three mirror maps\r\n     * @public\r\n     * Value: the names separated with coma\r\n     * @type {string}\r\n     */\r\n\r\n    this.defaultBaseLyrs = [];\r\n    if (options.defaultBaseLyrs !== undefined) {\r\n      if (Array.isArray(options.defaultBaseLyrs)) {\r\n        this.defaultBaseLyrs = options.defaultBaseLyrs;\r\n      } else {\r\n        this.defaultBaseLyrs = options.defaultBaseLyrs.split(\",\");\r\n      }\r\n    }\r\n\r\n    /**\r\n     * BackImgLayers' Parameters\r\n     * @public\r\n     * Value: object with backimglayers' parameters\r\n     * @type {Object}\r\n     */\r\n    this.backImgLayersParams = options.backImgLayersParams;\r\n    if (options.backImgLayersParams !== undefined) {\r\n      if (M.utils.isObject(options.backImgLayersParams)) {\r\n        let bIL = new M.plugin.BackImgLayer(options.backImgLayersParams);\r\n        this.backImgLayersParams = bIL.getAPIRest().replace('backimglayer=', '').replace(/\\*!/g, '!!');\r\n      }\r\n\r\n    }\r\n\r\n    /** \r\n     * Show interface\r\n     *@public\r\n     *@type{boolean}\r\n     */\r\n    this.interface = options.interface === undefined ? true : options.interface;\r\n\r\n\r\n    /**\r\n     *@private\r\n     *@type { string }\r\n     */\r\n    this.tooltip_ = options.tooltip || getValue('tooltip');\r\n\r\n\r\n    /**\r\n     * Metadata from api.json\r\n     * @private\r\n     * @type {Object}\r\n     */\r\n    this.metadata_ = api.metadata;\r\n  }\r\n\r\n  /**\r\n   * This function adds this plugin into the map\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Map} map the map to add the plugin\r\n   * @api stable\r\n   */\r\n  addTo(map) {\r\n    const pluginOnLeft = !!(['TL', 'BL'].includes(this.position));\r\n\r\n    const values = {\r\n      pluginOnLeft,\r\n      collapsible: this.collapsible,\r\n      collapsed: this.collapsed,\r\n      modeViz: this.modeViz,\r\n      enabledPlugins: this.enabledPlugins,\r\n      showCursors: this.showCursors,\r\n      mirrorLayers: this.mirrorLayers,\r\n      defaultBaseLyrs: this.defaultBaseLyrs,\r\n      backImgLayersParams: this.backImgLayersParams\r\n    };\r\n\r\n    this.control_ = new MirrorpanelControl(values);\r\n    this.controls_.push(this.control_);\r\n    this.map_ = map;\r\n\r\n    this.panel_ = new M.ui.Panel('panelMirrorpanel', {\r\n      collapsible: this.collapsible,\r\n      collapsed: this.collapsed,\r\n      position: M.ui.position[this.position],\r\n      modeViz: this.modeViz,\r\n      enabledPlugins: this.enabledPlugins,\r\n      showCursors: this.showCursors,\r\n      className: this.interface ? 'm-plugin-panelMirrorpanel' : 'm-plugin-panelMirrorpanel hidden',\r\n      collapsedButtonClass: 'mirrorpanel-icon',\r\n      tooltip: this.tooltip_,\r\n    });\r\n    this.panel_.addControls(this.controls_);\r\n    map.addPanels(this.panel_);\r\n\r\n    // Check if backimglayer is main map and backImgLayersParams is defined. If not, throw a error.\r\n    if (this.map_.getControls(\"BackImgLayer\").length > 0 && this.backImgLayersParams === undefined) {\r\n      M.dialog.error(getValue('backimglayersparams_undefined'));\r\n    }\r\n    // Keybindings for Ctrl + Shift + (F1-F8) / ESC\r\n    document.addEventListener('keydown', (zEvent) => {\r\n      if (!this.enabledKeyFunctions) {\r\n        return;\r\n      }\r\n      for (let i = 0; i < 10; i++) {\r\n        if (zEvent.ctrlKey && zEvent.shiftKey && zEvent.key === \"F\" + (i + 1)) {  // case sensitive\r\n          this.control_.manageVisionPanelByCSSGrid(i);\r\n        }\r\n      }\r\n      var keyStr = [\"Control\", \"Shift\", \"Alt\", \"Meta\"].includes(zEvent.key) ? \"\" : zEvent.key;\r\n\r\n      var combinedKeys = (zEvent.ctrlKey ? \"Control \" : \"\") +\r\n        (zEvent.shiftKey ? \"Shift \" : \"\") +\r\n        (zEvent.altKey ? \"Alt \" : \"\") +\r\n        (zEvent.metaKey ? \"Meta \" : \"\") + keyStr;\r\n      if (combinedKeys === \"Escape\") {\r\n        this.control_.manageVisionPanelByCSSGrid(0);\r\n      }\r\n\r\n    });\r\n\r\n  }\r\n\r\n  /**\r\n   * This function destroys this plugin\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   */\r\n  destroy() {\r\n    document.removeEventListener('keydown', (zEvent) => { });\r\n    this.control_.removeMaps();\r\n    this.control_.destroyMapsContainer();\r\n    this.map_.removeControls([this.control_]);\r\n    [this.control_, this.panel_, this.map_, this.collapsible, this.collapsed, this.modeViz, this.enabledPlugins, this.enabledKeyFunctions, this.showCursors, this.mirrorLayers, this.defaultBaseLyrs, this.backImgLayersParams, this.interface] = [null, null, null, null, null, null, null, null, null, null, null, null, null];\r\n  }\r\n\r\n  /**\r\n   * This function gets name plugin\r\n   * @getter\r\n   * @public\r\n   * @returns {string}\r\n   * @api stable\r\n   */\r\n  get name() {\r\n    return this.name_;\r\n  }\r\n\r\n  /**\r\n   * This function gets metadata plugin\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   */\r\n  getMetadata() {\r\n    return this.metadata_;\r\n  }\r\n\r\n  /**\r\n   * Activate plugin\r\n   *\r\n   * @function\r\n   * @public\r\n   * @api\r\n   */\r\n  activate() {\r\n    this.control_.activate();\r\n  }\r\n\r\n  /**\r\n   * Desactivate plugin\r\n   *\r\n   * @function\r\n   * @public\r\n   * @api\r\n   */\r\n  deactivate() {\r\n    this.control_.deactivate();\r\n  }\r\n\r\n\r\n}\r\n","/**\r\n * @module M/impl/control/TimelineControl\r\n */\r\n\r\nexport default class TimelineControl extends M.impl.Control {\r\n  /**\r\n   * This function adds the control to the specified map\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Map} map to add the plugin\r\n   * @param {HTMLElement} html of the plugin\r\n   * @api stable\r\n   */\r\n  addTo(map, html) {\r\n    this.map = map;\r\n    this.olMap = map.getMapImpl();\r\n\r\n    super.addTo(map, html);\r\n  }\r\n}\r\n","/**\r\n * @module M/control/TimelineControl\r\n */\r\n\r\nimport TimelineImplControl from 'impl/cptimelinecontrol';\r\nimport template from 'templates/cptimeline';\r\nimport { getValue } from './i18n/language';\r\n\r\nexport default class TimelineControl extends M.Control {\r\n  /**\r\n   * @classdesc\r\n   * Main constructor of the class. Creates a PluginControl\r\n   * control\r\n   *\r\n   * @constructor\r\n   * @extends {M.Control}\r\n   * @api stable\r\n   */\r\n  constructor(options) {\r\n    // 1. checks if the implementation can create PluginControl\r\n    if (M.utils.isUndefined(TimelineImplControl)) {\r\n      M.exception(getValue('exception'));\r\n    }\r\n    // 2. implementation of this control\r\n    const impl = new TimelineImplControl();\r\n    super(impl, 'Timeline');\r\n    this.running = false;\r\n    this.animation = options.animation;\r\n    this.speed = options.speed;\r\n    this.intervals = options.intervals;\r\n    /**\r\n     * Template\r\n     * @public\r\n     * @type { HTMLElement }\r\n     */\r\n    this.template = null;\r\n  }\r\n\r\n  /**\r\n   * This function creates the view\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Map} map to add the control\r\n   * @api stable\r\n   */\r\n  createView(map) {\r\n    this.map = map;\r\n    return new Promise((success, fail) => {\r\n      let intervals = [];\r\n      this.intervals.forEach((interval, k) => {\r\n        const layer = this.transformToLayers(interval[2]);\r\n        const copy = this.getMapLayer(layer);\r\n        if (copy !== undefined) {\r\n          this.map.removeLayers(copy);\r\n        }\r\n        this.map.addLayers(layer);\r\n        let iv = {\r\n          number: k,\r\n          name: interval[0],\r\n          tag: interval[1],\r\n          service: layer\r\n        }\r\n        intervals.push(iv);\r\n      });\r\n      this.intervals = intervals;\r\n      this.template = M.template.compileSync(template, {\r\n        vars: {\r\n          translations: {\r\n            titleTimeline: getValue('titleTimeline'),\r\n            play: getValue('play'),\r\n          }\r\n        }\r\n      });\r\n      this.intervals.forEach((interval, k) => {\r\n        let tag = document.createElement('div');\r\n        if (k != 0 && k != this.intervals.length - 1 && k != parseInt(this.intervals.length / 2)) {\r\n          tag.dataset.tag = '';\r\n        } else {\r\n          tag.dataset.tag = interval.tag;\r\n        }\r\n        this.template.querySelector('.slider-tags').append(tag);\r\n      });\r\n      this.template.querySelector('.div-m-timeline-panel').style.setProperty('--num', this.intervals.length);\r\n      const slider = this.template.querySelector('#input-slider');\r\n      slider.setAttribute('max', intervals.length - 1);\r\n      slider.addEventListener('input', (e) => this.changeSlider(slider));\r\n      slider.addEventListener('change', (e) => {\r\n        document.querySelector('.m-timeline-button button').classList.add('cp-control-siguiente');\r\n        document.querySelector('.m-timeline-button button').classList.remove('cp-control-pausa');\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--opacity', '0');\r\n        clearTimeout(this.running);\r\n        this.running = false;\r\n      });\r\n      const play = this.template.querySelector('#m-timeline-play');\r\n      play.addEventListener('click', (e) => this.playTimeline(false));\r\n      success(this.template);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Transform StringLayers to Mapea M.Layer\r\n   * \r\n   * WMTS*http://www.ign.es/wmts/pnoa-ma?*OI.OrthoimageCoverage*EPSG:25830*PNOA\r\n   * WMS*IGN*http://www.ign.es/wms-inspire/ign-base*IGNBaseTodo\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   * @param {string}\r\n   * @return\r\n   */\r\n  transformToLayers(layer) {\r\n    let newLayer = null;\r\n    if (!(layer instanceof Object)) {\r\n      if (layer.indexOf('*') >= 0) {\r\n        const urlLayer = layer.split('*');\r\n        if (urlLayer[0].toUpperCase() == 'WMS') {\r\n          newLayer = new M.layer.WMS({\r\n            url: urlLayer[2],\r\n            name: urlLayer[3]\r\n          });\r\n        } else if (urlLayer[0].toUpperCase() == 'WMTS') {\r\n          newLayer = new M.layer.WMTS({\r\n            url: urlLayer[2],\r\n            name: urlLayer[3]\r\n          });\r\n        }\r\n      } else {\r\n        const layerByName = this.map.getLayers().filter(l => layer.includes(l.name))[0];\r\n        newLayer = this.isValidLayer(layerByName) ? layerByName : null;\r\n      }\r\n    } else if (layer instanceof Object) {\r\n      const layerByObject = this.map.getLayers().filter(l => layer.name.includes(l.name))[0];\r\n      newLayer = this.isValidLayer(layerByObject) ? layerByObject : null;\r\n    }\r\n    if (newLayer !== null) {\r\n      newLayer.displayInLayerSwitcher = false;\r\n      newLayer.setVisible(false);\r\n      return newLayer\r\n    } else {\r\n      this.map.removeLayers(layer);\r\n    }\r\n  }\r\n\r\n  /** This function change layers and show layer name when slider moves\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   * @return\r\n   */\r\n  changeSlider(elem) {\r\n    document.querySelector('.div-m-timeline-slider').style.setProperty('--opacity', '0');\r\n    const left = (((elem.value - elem.min) / (elem.max - elem.min)) * ((256 - 5) - 5)) + 5;\r\n    document.querySelector('.div-m-timeline-slider').style.setProperty('--left', left + 'px');\r\n    if(this.animation || this.intervals[0].name !== ''){\r\n      document.querySelector('.m-timeline-names').style.display = 'block';\r\n    }\r\n    if (this.animation) {\r\n      document.querySelector('.m-timeline-button').style.display = 'block';\r\n    }\r\n    let step = parseFloat(elem.value);\r\n    this.intervals.forEach((interval) => {\r\n      this.getMapLayer(interval.service).setVisible(false);\r\n      document.querySelector('.m-timeline-names').innerHTML = '';\r\n    });\r\n    if (step % 1 == 0) {\r\n      document.querySelector('.div-m-timeline-slider').style.setProperty('--left', left + 20 + 'px');\r\n      this.getMapLayer(this.intervals[step].service).setVisible(true);\r\n      document.querySelector('.m-timeline-names').innerHTML = this.intervals[step].name;\r\n      document.querySelector('.div-m-timeline-panel').style.setProperty('--valor', '\"' + this.intervals[step].tag + '\"')\r\n      if (this.intervals[step].tag !== '') {\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--opacity', '1');\r\n      } else {\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--opacity', '0');\r\n      }\r\n    } else {\r\n      this.getMapLayer(this.intervals[parseInt(step)].service).setVisible(true);\r\n      this.getMapLayer(this.intervals[parseInt(step) + 1].service).setVisible(true);\r\n      if (this.intervals[parseInt(step)].tag !== '' && this.intervals[parseInt(step) + 1].tag !== '') {\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--left', left + 'px');\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--opacity', '1');\r\n        document.querySelector('.div-m-timeline-panel').style.setProperty('--valor', '\"' + this.intervals[parseInt(step)].tag + ' - ' + this.intervals[parseInt(step) + 1].tag + '\"');\r\n        document.querySelector('.m-timeline-names').innerHTML = this.intervals[parseInt(step)].name + ' y ' + this.intervals[parseInt(step) + 1].name;\r\n      } else if (this.intervals[parseInt(step)].tag === '' && this.intervals[parseInt(step) + 1].tag === '') {\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--opacity', '0');\r\n      } else {\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--left', left + 20 + 'px');\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--opacity', '10');\r\n        document.querySelector('.m-timeline-names').innerHTML = this.intervals[parseInt(step)].name + this.intervals[parseInt(step) + 1].name;\r\n        document.querySelector('.div-m-timeline-panel').style.setProperty('--valor', '\"' + this.intervals[parseInt(step)].tag + this.intervals[parseInt(step) + 1].tag + '\"');\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  /** This function search a layer in the map\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   * @return\r\n   */\r\n  getMapLayer(layerSearch) {\r\n    return this.map.getLayers().filter(layer => layer.getImpl().legend === layerSearch.getImpl().legend)[0];\r\n  }\r\n\r\n  /** This function make the play animation\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   * @return\r\n   */\r\n  playTimeline(next) {\r\n    const start = 0;\r\n    const end = this.intervals.length - 1;\r\n    const slider = document.querySelector('#input-slider');\r\n    let step = parseInt(slider.value);\r\n    if (this.running) {\r\n      document.querySelector('.m-timeline-button button').classList.add('cp-control-siguiente');\r\n      document.querySelector('.m-timeline-button button').classList.remove('cp-control-pausa');\r\n      clearTimeout(this.running);\r\n    }\r\n    if (!next) {\r\n      if (step > start && step < end && this.running) {\r\n        this.running = false;\r\n        return;\r\n      }\r\n      if (step > end) {\r\n        step = start;\r\n      }\r\n    }\r\n    if (step >= end) {\r\n      slider.value = 0;\r\n      this.changeSlider(slider);\r\n      return;\r\n    }\r\n    if (step < start) {\r\n      step = start;\r\n    }\r\n    slider.value = parseFloat(slider.value) + 1;\r\n    this.changeSlider(slider);\r\n    this.running = setTimeout((e) => this.playTimeline(true), this.speed * 1000);\r\n  }\r\n\r\n  /**\r\n   * This function remove the timeline layers\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   */\r\n  removeTimelineLayers() {\r\n    clearInterval(this.running);\r\n    this.intervals.forEach((interval) => {\r\n      this.map.removeLayers(this.getMapLayer(interval.service));\r\n    })\r\n  }\r\n\r\n  \r\n  /**\r\n   * Activate plugin\r\n   *\r\n   * @function\r\n   * @public\r\n   * @api\r\n   */\r\n  activate() {\r\n    clearInterval(this.running);\r\n    this.running = false;\r\n    document.querySelector('.m-timeline-button button').classList.add('cp-control-siguiente');\r\n    document.querySelector('.m-timeline-button button').classList.remove('cp-control-pausa');\r\n  }\r\n\r\n  /**\r\n   * Desactivate plugin\r\n   *\r\n   * @function\r\n   * @public\r\n   * @api\r\n   */\r\n  deactivate() {\r\n    clearInterval(this.running);\r\n    this.running = false;\r\n    this.intervals.forEach((interval) => {\r\n      this.getMapLayer(interval.service).setVisible(false);\r\n    })\r\n  }\r\n\r\n  /**\r\n   * This function compares controls\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Control} control to compare\r\n   * @api stable\r\n   * @return {Boolean}\r\n   */\r\n  equals(control) {\r\n    return control instanceof TimelineControl;\r\n  }\r\n}\r\n","/**\r\n * @module M/plugin/Timeline\r\n */\r\nimport 'assets/css/cptimeline';\r\nimport TimelineControl from './cptimelinecontrol';\r\nimport api from '../../api';\r\nimport { getValue } from './i18n/language';\r\n\r\nexport default class Timeline extends M.Plugin {\r\n  /**\r\n   * @classdesc\r\n   * Main facade plugin object. This class creates a plugin\r\n   * object which has an implementation Object\r\n   *\r\n   * @constructor\r\n   * @extends {M.Plugin}\r\n   * @param {Object} impl implementation object\r\n   * @api stable\r\n   */\r\n  constructor(options = {}) {\r\n    super();\r\n\r\n    /**\r\n     * Name plugin\r\n     * @private\r\n     * @type {String}\r\n     */\r\n    this.name_ = 'timeline';\r\n\r\n    /**\r\n     * Facade of the map\r\n     * @private\r\n     * @type {M.Map}\r\n     */\r\n    this.map_ = null;\r\n\r\n    /**\r\n     * Array of controls\r\n     * @private\r\n     * @type {Array<M.Control>}\r\n     */\r\n    this.controls_ = [];\r\n\r\n    /**\r\n     * Class name of the html view Plugin\r\n     * @public\r\n     * @type {string}\r\n     */\r\n    this.className = 'm-plugin-timeline';\r\n\r\n    /**\r\n     * Position of the Plugin\r\n     * @public\r\n     * @type {String}\r\n     */\r\n    this.position = options.position;\r\n\r\n    /**\r\n     * Intervals\r\n     * @public\r\n     * Value: Array with each interval attributes [name, tag, service]\r\n     * @type {String}\r\n     */\r\n    if (options !== undefined) {\r\n      if (M.utils.isString(options.intervals)) {\r\n        this.intervals = JSON.parse(options.intervals.replace(/!!/g, '[').replace(//g, ']'));\r\n      } else if (M.utils.isArray(options.intervals)) {\r\n        this.intervals = options.intervals;\r\n      } else {\r\n        M.dialog.error(getValue('intervals_error'));\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Animation of the timeline\r\n     * @public\r\n     * Value: true / false\r\n     * @type {boolean}\r\n     */\r\n    this.animation = options.animation;\r\n    if (this.animation === undefined) this.animation = true;\r\n\r\n    /**\r\n     * Speed of animation\r\n     * @public\r\n     * Value: 1 - 100\r\n     * @type {number}\r\n     */\r\n    this.speed = parseFloat(options.speed) || 1;\r\n\r\n    /**\r\n     * Metadata from api.json\r\n     * @private\r\n     * @type {Object}\r\n     */\r\n    this.metadata_ = api.metadata;\r\n\r\n    /**\r\n     *@private\r\n     *@type { string }\r\n     */\r\n    this.tooltip_ = options.tooltip || getValue('tooltip');\r\n  }\r\n\r\n  /**\r\n   * This function adds this plugin into the map\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Map} map the map to add the plugin\r\n   * @api stable\r\n   */\r\n  addTo(map) {\r\n    this.control_ = new TimelineControl({\r\n      intervals: this.intervals,\r\n      animation: this.animation,\r\n      speed: this.speed,\r\n    });\r\n    this.controls_.push(this.control_);\r\n    this.map_ = map;\r\n    this.panel_ = new M.ui.Panel('panelTimeline', {\r\n      collapsible: true,\r\n      position: M.ui.position[this.position],\r\n      className: this.className,\r\n      collapsedButtonClass: 'timeline-gestion-reloj2',\r\n      tooltip: this.tooltip_,\r\n    });\r\n    this.panel_.addControls(this.controls_);\r\n    map.addPanels(this.panel_);\r\n  }\r\n\r\n\r\n  /**\r\n   * This function destroys this plugin\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   */\r\n  destroy() {\r\n    this.control_.removeTimelineLayers();\r\n    this.map_.removeControls([this.control_]);\r\n    [this.control_, this.panel_, this.map_, this.layers, this.radius] = [null, null, null, null, null];\r\n  }\r\n\r\n  /**\r\n   * This function gets name plugin\r\n   * @getter\r\n   * @public\r\n   * @returns {string}\r\n   * @api stable\r\n   */\r\n  get name() {\r\n    return this.name_;\r\n  }\r\n\r\n  /**\r\n   * This function gets metadata plugin\r\n   *\r\n   * @public\r\n   * @getter\r\n   * @api stable\r\n   * @return {Object}\r\n   */\r\n  getMetadata() {\r\n    return this.metadata_;\r\n  }\r\n  \r\n  /**\r\n   * Activate plugin\r\n   *\r\n   * @function\r\n   * @public\r\n   * @api\r\n   */\r\n  activate() {\r\n    this.control_.activate();\r\n  }\r\n\r\n  /**\r\n   * Desactivate plugin\r\n   *\r\n   * @function\r\n   * @public\r\n   * @api\r\n   */\r\n  deactivate() {\r\n    this.control_.deactivate();\r\n  }\r\n\r\n  /**\r\n   * This\r\n   function compare\r\n   if pluging recieved by param is instance of M.plugin.Timeline\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.plugin} plugin to compare\r\n   * @api stable\r\n   */\r\n  equals(plugin) {\r\n    if (plugin instanceof Timeline) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n}\r\n","/**\n * @module M/impl/control/LyrcompareInteraction\n\n */\nexport default class LyrcompareInteraction extends ol.interaction.Pointer {\n  /**\n   * @classdesc\n   * Main constructor of the LyrcompareInteraction.\n   *\n   * @constructor\n   * @extends {ol.interaction.Pointer}\n   * @api stable\n   */\n  constructor(options) {\n    super(options);\n    this.layers_ = [];\n\n    this.swipeClicked = false;\n\n    ol.interaction.Pointer.call(this, {\n      handleDownEvent: this.setPosition,\n      handleUpEvent: () => this.swipeClicked = false,\n      handleMoveEvent: this.setPosition,\n    });\n\n    // Default options\n    const optionsE = options || {};\n\n    this.pos = false;\n    this.opacityVal = (optionsE.opacityVal || 100);\n\n    const layerA = [optionsE.lyrA].map(layer => layer.getImpl().getOL3Layer()).filter(layer => layer != null);\n    this.addLayerA(layerA);\n\n    const layerB = [optionsE.lyrB].map(layer => layer.getImpl().getOL3Layer()).filter(layer => layer != null);\n    this.addLayerB(layerB);\n\n    if (optionsE.lyrC !== undefined && optionsE.lyrD !== undefined) {\n      const layerC = [optionsE.lyrC].map(layer => layer.getImpl().getOL3Layer()).filter(layer => layer != null);\n      this.addLayerC(layerC);\n\n      const layerD = [optionsE.lyrD].map(layer => layer.getImpl().getOL3Layer()).filter(layer => layer != null);\n      this.addLayerD(layerD);\n    }\n  }\n\n  /** Set the map > start postcompose\n   */\n\n  setMap(map) {\n    if (this.getMap()) {\n      for (let i = 0; i < this.layers_.length; i += 1) {\n        if (this.layers_[i].precompose) ol.Observable.unByKey(this.layers_[i].precompose);\n        if (this.layers_[i].postcompose) ol.Observable.unByKey(this.layers_[i].postcompose);\n        this.layers_[i].precompose = this.layers_[i].postcompose = null;\n      }\n      this.getMap().renderSync();\n    }\n    ol.interaction.Pointer.prototype.setMap.call(this, map);\n    if (map) {\n      this.createSwipeControl();\n      this.layers_[0].precompose = this.layers_[0].on('precompose', this.precomposeA_.bind(this));\n      this.layers_[0].postcompose = this.layers_[0].on('postcompose', this.postcomposeA_.bind(this));\n      this.layers_[1].precompose = this.layers_[1].on('precompose', this.precomposeB_.bind(this));\n      this.layers_[1].postcompose = this.layers_[1].on('postcompose', this.postcomposeB_.bind(this));\n      if (this.layers_[2] !== undefined && this.layers_[3] !== undefined) {\n        this.layers_[2].precompose = this.layers_[2].on('precompose', this.precomposeC_.bind(this));\n        this.layers_[2].postcompose = this.layers_[2].on('postcompose', this.postcomposeC_.bind(this));\n        this.layers_[3].precompose = this.layers_[3].on('precompose', this.precomposeD_.bind(this));\n        this.layers_[3].postcompose = this.layers_[3].on('postcompose', this.postcomposeD_.bind(this));\n      }\n      map.renderSync();\n    }\n  }\n\n  /** \n   * Set opacity level\n   * \n   * @param {integer} opacityVal\n   */\n  setOpacity(opacityVal) {\n    this.opacityVal = opacityVal;\n    if (this.getMap()) {\n      for (let i = 0; i < this.layers_.length; i += 1) {\n        this.layers_[i].setOpacity(this.opacityVal / 100);\n      }\n    }\n  }\n\n  /** \n   * Set param staticDivision\n   * \n   * @param {integer} staticDivision\n   */\n  setStaticDivision(staticDivision) {\n    this.staticDivision = staticDivision;\n    this.updatePosition();\n  }\n\n  /** \n   * Set param comparisonMode\n   * \n   * @param {integer} comparisonMode\n   */\n  setComparisonMode(comparisonMode) {\n    this.comparisonMode = comparisonMode;\n    this.updatePosition();\n  }\n\n  /**\n   * Set Visibility on layers C & D\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  setVisibilityLayersCD() {\n    if ((this.layers_[2] !== undefined && this.layers_[3] !== undefined) && (this.comparisonMode === 1 || this.comparisonMode === 2)) {\n      this.layers_[2].setVisible(false);\n      this.layers_[3].setVisible(false);\n    } else if (this.layers_[2] !== undefined && this.layers_[3] !== undefined) {\n      this.layers_[2].setVisible(true);\n      this.layers_[3].setVisible(true);\n    }\n  }\n\n\n  /** \n   * Add Layer A to clip\n   * \n   * @param {ol.layer|Array<ol.layer>} layer to clip\n   */\n  addLayerA(layers) {\n\n    if (!(layers instanceof Array)) layers = [layers];\n    const l = {\n      layer: layers[0]\n    };\n    if (this.getMap()) {\n      l.precompose = layers[0].on('precompose', this.precomposeA_.bind(this));\n      l.postcompose = layers[0].on('postcompose', this.postcomposeA_.bind(this));\n      this.getMap().renderSync();\n    }\n    this.layers_.push(layers[0]);\n  }\n\n  /** \n   * Add Layer B to clip\n   * \n   * @param {ol.layer|Array<ol.layer>} layer to clip\n   */\n  addLayerB(layers) {\n    if (!(layers instanceof Array)) layers = [layers];\n    const l = {\n      layer: layers[0]\n    };\n    if (this.getMap()) {\n      l.precompose = layers[0].on('precompose', this.precomposeB_.bind(this));\n      l.postcompose = layers[0].on('postcompose', this.postcomposeB_.bind(this));\n      this.getMap().renderSync();\n    }\n    this.layers_.push(layers[0]);\n  }\n\n  /** \n   * Add Layer C to clip\n   * \n   * @param {ol.layer|Array<ol.layer>} layer to clip\n   */\n  addLayerC(layers) {\n    if (!(layers instanceof Array)) layers = [layers];\n    const l = {\n      layer: layers[0]\n    };\n    if (this.getMap()) {\n      l.precompose = layers[0].on('precompose', this.precomposeC_.bind(this));\n      l.postcompose = layers[0].on('postcompose', this.postcomposeC_.bind(this));\n      this.getMap().renderSync();\n    }\n    this.layers_.push(layers[0]);\n  }\n\n  /** \n   * Add Layer C to clip\n   * \n   * @param {ol.layer|Array<ol.layer>} layer to clip\n   */\n  addLayerD(layers) {\n    if (!(layers instanceof Array)) layers = [layers];\n    const l = {\n      layer: layers[0]\n    };\n    if (this.getMap()) {\n      l.precompose = layers[0].on('precompose', this.precomposeD_.bind(this));\n      l.postcompose = layers[0].on('postcompose', this.postcomposeD_.bind(this));\n      this.getMap().renderSync();\n    }\n    this.layers_.push(layers[0]);\n\n  }\n\n  /**\n   *  Remove a layer to clip\n   * \n   * @param {ol.layer|Array<ol.layer>} layer to clip\n   */\n  removeLayer(layers) {\n\n    if (!(layers instanceof Array)) {\n      layers = [layers];\n    }\n    for (let i = 0; i < layers.length; i += 1) {\n      let k;\n      for (k = 0; k < this.layers_.length; k += 1) {\n        if (this.layers_[k] === layers[i]) {\n          break;\n        }\n      }\n      if (k !== this.layers_.length && this.getMap()) {\n        if (this.layers_[k].precompose) ol.Observable.unByKey(this.layers_[k].precompose);\n        if (this.layers_[k].postcompose) ol.Observable.unByKey(this.layers_[k].postcompose);\n        this.layers_.splice(k, 1);\n        this.getMap().renderSync();\n      }\n    }\n  }\n\n  /**\n   *  Set position of the clip\n   * \n   * @param {ol.Pixel|ol.MapBrowserEvent}\n   */\n  setPosition(e) {\n    if ((this.staticDivision === 2 && this.swipeClicked) || this.staticDivision !== 2) {\n      if (e.pixel) {\n        this.pos = e.pixel;\n      } else if (e && e instanceof Array) {\n        this.pos = e;\n      } else {\n        e = [-10000000, -10000000];\n      }\n      if (this.staticDivision === 2 && e.pointerEvent.buttons !== 1) {\n        const lienzoMapa = this.map_.getSize();\n        this.pos = [lienzoMapa[0] / 2, lienzoMapa[1] / 2];\n        this.swipeClicked = false;\n      }\n      if (this.getMap()) this.getMap().renderSync();\n      this.moveSwipeControl();\n    }\n  }\n  /**\n   *  Update position of the clip\n   * \n   */\n  updatePosition() {\n    const swipeControl = document.querySelector('.lyrcompare-swipe-control');\n    if (swipeControl) {\n      if (this.comparisonMode == 1) {\n        swipeControl.classList = 'lyrcompare-swipe-control vertical' + (this.staticDivision == 1 ? ' static' : ' dynamic');\n      } else if (this.comparisonMode == 2) {\n        swipeControl.classList = 'lyrcompare-swipe-control horizontal' + (this.staticDivision == 1 ? ' static' : ' dynamic');\n      } else if (this.comparisonMode == 3) {\n        swipeControl.classList = 'lyrcompare-swipe-control vertical horizontal' + (this.staticDivision == 1 ? ' static' : ' dynamic');\n      }\n    }\n    if (this.getMap()) {\n      const lienzoMapa = this.map_.getSize();\n      swipeControl.style.left = (lienzoMapa[0] / 2) - (swipeControl.offsetWidth / 2) + 'px';\n      swipeControl.style.top = (lienzoMapa[1] / 2) - (swipeControl.offsetHeight / 2) + 'px';\n      this.pos = [lienzoMapa[0] / 2, lienzoMapa[1] / 2];\n      this.swipeClicked = false;\n      this.getMap().renderSync();\n    }\n  }\n\n  /* @private\n     */\n  precomposeA_(e) {\n    const ctx = e.context;\n    const ratio = e.frameState.pixelRatio;\n    const lienzoMapa = this.map_.getSize();\n    let margenClip = 0; //Stroke size in pixels.\n    //e2m: Canvas size --> lienzoMapa\n    //e2m: Mouse coordinates --> this.pos\n    ctx.save();\n    ctx.beginPath();\n    if (this.staticDivision == 1) {\n      if (this.comparisonMode == 1) {\n        ctx.rect(0, 0, lienzoMapa[0] / 2 * ratio - margenClip * ratio, lienzoMapa[1]); //e2m: left fixed\n      } else if (this.comparisonMode == 2) {\n        ctx.rect(0, 0, lienzoMapa[0], lienzoMapa[1] * ratio / 2 - margenClip * ratio);//e2m: up fixed\n      } else if (this.comparisonMode == 3) {\n        ctx.rect(0, 0, lienzoMapa[0] / 2 * ratio - margenClip * ratio, lienzoMapa[1] / 2);//e2m: up&left fixed\n      }\n    }\n    else {\n      if (this.comparisonMode == 1) {\n        ctx.rect(0, 0, this.pos[0] - margenClip * ratio, lienzoMapa[1]); //e2m: left dynamic\n      } else if (this.comparisonMode == 2) {\n        ctx.rect(0, 0, ctx.canvas.width, this.pos[1] * ratio - margenClip * ratio);  //e2m: up dynamic\n      } else if (this.comparisonMode == 3) {\n        ctx.rect(0, 0, this.pos[0] - margenClip * ratio, this.pos[1] - margenClip * ratio);  //e2m: up&left dynamic\n      }\n    }\n\n    /**\n     * \n     * e2m: con esto podemos pintar una lnea de color para contornear la capa. Pero no queda bien\n     * \n     */\n    if (margenClip > 0) {\n      ctx.lineWidth = 2 * margenClip * ratio;\n      ctx.strokeStyle = 'rgba(0, 102, 204, 0.9)';\n      ctx.stroke();\n    }\n    ctx.clip();\n  }\n\n  /* @private\n   */\n  postcomposeA_(e) {\n    e.context.restore();\n  }\n\n  /* @private\n   */\n  precomposeB_(e) {\n\n    const ctx = e.context;\n    const ratio = e.frameState.pixelRatio;\n    const lienzoMapa = this.map_.getSize();\n    let margenClip = 0; //Stroke size in pixels.\n    //e2m: Canvas size --> lienzoMapa\n    //e2m: Mouse coordinates --> this.pos\n    ctx.save();\n    ctx.beginPath();\n    if (this.staticDivision == 1) {\n      if (this.comparisonMode == 1) {\n        ctx.rect(lienzoMapa[0] * ratio / 2 + margenClip * ratio, 0, ctx.canvas.width - lienzoMapa[0] * ratio / 2, lienzoMapa[1]); //e2m: Right fixed\n      } else if (this.comparisonMode == 2) {\n        ctx.rect(0, lienzoMapa[1] * ratio / 2 + margenClip * ratio, ctx.canvas.width, ctx.canvas.height - lienzoMapa[1] * ratio / 2); //e2m: Down fixed\n      } else if (this.comparisonMode == 3) {\n        ctx.rect(lienzoMapa[0] * ratio / 2, 0, ctx.canvas.width - lienzoMapa[0] * ratio / 2, lienzoMapa[1] / 2); //e2m: up&right fixed\n      }\n    } else {\n      if (this.comparisonMode == 1) {\n        ctx.rect(this.pos[0], 0, lienzoMapa[0] - this.pos[0], lienzoMapa[1]); //e2m: Right dynamic\n      } else if (this.comparisonMode == 2) {\n        ctx.rect(0, this.pos[1], ctx.canvas.width, ctx.canvas.height - this.pos[1]); //e2m: Down dynamic\n      } else if (this.comparisonMode == 3) {\n        //ctx.rect(this.pos[0], 0, lienzoMapa[0] - this.pos[0], lienzoMapa[1]); //e2m: split screen three. maybe\n        ctx.rect(this.pos[0], 0, lienzoMapa[0] - this.pos[0], this.pos[1]); //e2m: up&right dynamic\n      }\n\n    }\n    if (margenClip > 0) {\n      ctx.lineWidth = 2 * margenClip * ratio;\n      ctx.strokeStyle = 'rgba(0, 102, 204, 0.9)';\n      ctx.stroke();\n    }\n    ctx.clip();\n\n\n  }\n\n  /* @private\n   */\n  postcomposeB_(e) {\n    e.context.restore();\n  }\n\n  precomposeC_(e) {\n    const ctx = e.context;\n    const ratio = e.frameState.pixelRatio;\n    const lienzoMapa = this.map_.getSize();\n    let margenClip = 0; //Stroke size in pixels.\n    //e2m: Canvas size --> lienzoMapa\n    //e2m: Mouse coordinates --> this.pos\n\n    ctx.save();\n    ctx.beginPath();\n    if (this.staticDivision == 1) {\n      if (this.comparisonMode == 3) {\n        ctx.rect(0, lienzoMapa[1] * ratio / 2, lienzoMapa[0] / 2 * ratio - margenClip * ratio, lienzoMapa[1]);  //e2m: down&left fixed\n      }\n    }\n    else {\n      if (this.comparisonMode == 3) {\n        ctx.rect(0, this.pos[1] * ratio, this.pos[0] * ratio - margenClip * ratio, (lienzoMapa[1] - this.pos[1]) * ratio - margenClip * ratio);  //e2m: down&left dynamic\n      }\n    }\n    if (margenClip > 0) {\n      ctx.lineWidth = 2 * margenClip * ratio;\n      ctx.strokeStyle = 'rgba(0, 102, 204, 0.9)';\n      ctx.stroke();\n    }\n    ctx.clip();\n  }\n\n  /* @private\n   */\n  postcomposeC_(e) {\n    e.context.restore();\n  }\n\n  precomposeD_(e) {\n    const ctx = e.context;\n    const ratio = e.frameState.pixelRatio;\n    const lienzoMapa = this.map_.getSize();\n    let margenClip = 0; //Stroke size in pixels.\n    //e2m: Canvas size --> lienzoMapa\n    //e2m: Mouse coordinates --> this.pos\n\n    ctx.save();\n    ctx.beginPath();\n    if (this.staticDivision == 1) {\n      if (this.comparisonMode == 3) {\n        ctx.rect(lienzoMapa[0] * ratio / 2, lienzoMapa[1] * ratio / 2, ctx.canvas.width * ratio / 2 - margenClip * ratio, ctx.canvas.height * ratio / 2 - margenClip * ratio); //e2m: down&right fixed\n      }\n    }\n    else {\n      if (this.comparisonMode == 3) {\n        ctx.rect(this.pos[0] * ratio, this.pos[1] * ratio, (ctx.canvas.width - this.pos[0]) * ratio - margenClip * ratio, (ctx.canvas.height - this.pos[1]) * ratio - margenClip * ratio); //e2m: down&right dynamic\n      }\n    }\n    if (margenClip > 0) {\n      ctx.lineWidth = 2 * margenClip * ratio;\n      ctx.strokeStyle = 'rgba(0, 102, 204, 0.9)';\n      ctx.stroke();\n    }\n    ctx.clip();\n  }\n\n  /* @private\n   */\n  postcomposeD_(e) {\n    e.context.restore();\n  }\n  /**\n   * Create the swipe indicator\n   * \n   */\n  createSwipeControl() {\n    let swipeControl;\n    let swipeIcon;\n    if (document.querySelector('.lyrcompare-swipe-control') == null) {\n      swipeControl = document.createElement('div');\n      swipeControl.classList.add('lyrcompare-swipe-control');\n      swipeIcon = document.createElement('div');\n      swipeIcon.classList.add('control-icon');\n      swipeControl.append(swipeIcon);\n      document.querySelector('.ol-overlaycontainer-stopevent').append(swipeControl);\n    } else {\n      swipeControl = document.querySelector('.lyrcompare-swipe-control');\n      swipeIcon = document.querySelector('.lyrcompare-swipe-control .control-icon');\n    }\n    swipeControl.addEventListener('mousedown', () => this.swipeClicked = true);\n    swipeControl.addEventListener('mouseup', () => this.swipeClicked = false);\n    swipeControl.addEventListener('touchstart', () => this.swipeClicked = true);\n    swipeControl.addEventListener('touchend', () => this.swipeClicked = false);\n    this.updatePosition();\n  }\n\n  /**\n  * Move the swipe indicator\n  * \n  */\n  moveSwipeControl() {\n    const lienzoMapa = this.map_.getSize();\n    const swipeControl = document.querySelector('.lyrcompare-swipe-control');\n    if (swipeControl && this.getMap()) {\n      if (this.staticDivision == 0 || this.staticDivision == 2) {\n        if (this.comparisonMode == 1) {\n          swipeControl.style.top = (lienzoMapa[1] / 2) - (swipeControl.offsetHeight / 2) + 'px';\n          swipeControl.style.left = (this.pos[0]) - (swipeControl.offsetWidth / 2) + 'px';\n        } else if (this.comparisonMode == 2) {\n          swipeControl.style.left = (lienzoMapa[0] / 2) - (swipeControl.offsetWidth / 2) + 'px';\n          swipeControl.style.top = (this.pos[1]) - (swipeControl.offsetHeight / 2) + 'px';\n        } else if (this.comparisonMode == 3) {\n          swipeControl.style.left = (this.pos[0]) - (swipeControl.offsetWidth / 2) + 'px';\n          swipeControl.style.top = (this.pos[1]) - (swipeControl.offsetHeight / 2) + 'px';\n        }\n      } else {\n        swipeControl.style.left = (lienzoMapa[0] / 2) - (swipeControl.offsetWidth / 2) + 'px';\n        swipeControl.style.top = (lienzoMapa[1] / 2) - (swipeControl.offsetHeight / 2) + 'px';\n      }\n    }\n  }\n\n  /**\n   * Activate or deactivate the interaction.\n   * @param {boolean} active Active.\n   * @observable\n   * @api\n   */\n  setActive(b) {\n    super.setActive(b);\n  }\n}","/**\n * @module M/impl/control/Lyrcomparecontrol\n */\nimport LyrcompareInteraction from 'impl/cplyrcompareinteraction';\n\n\nexport default class Lyrcomparecontrol extends M.impl.Control {\n  /**\n   * This function adds the control to the specified map\n   *\n   * @public\n   * @function\n   * @param {M.Map} map to add the plugin\n   * @param {HTMLElement} html of the plugin\n   * @api stable\n   */\n  addTo(map, html) {\n    // super addTo - don't delete\n    this.map = map;\n    this.olMap = map.getMapImpl();\n\n    super.addTo(map, html);\n  }\n\n  /**\n   * Effects on the layer\n   *\n   * @public\n   * @function\n   * @param { M.Layer } layer layer to which to assign an effect\n   * @param { Number } opacityVal nivel de opacidad\n   * @api stable\n   */\n  effectSelectedCurtain(lyrA, lyrB, lyrC, lyrD, opacityVal, staticDivision, comparisonMode) {\n\n    lyrA.setVisible(true);\n    lyrB.setVisible(true);\n\n    this.transparentInteraction_ = new LyrcompareInteraction({\n      opacityVal,\n      lyrA,\n      lyrB,\n      lyrC,\n      lyrD\n    });\n\n    this.olMap.addInteraction(this.transparentInteraction_);\n    this.setOpacity(opacityVal);\n    this.setComparisonMode(comparisonMode);\n    this.setStaticDivision(staticDivision);\n  }\n\n  /**\n   * Layer visibility\n   *\n   * @public\n   * @function\n   * @param { Number } opacityVal opacidad de las capas\n   * @api stable\n   */\n  setVisibilityLayersCD() {\n\n    if (this.transparentInteraction_ !== undefined) this.transparentInteraction_.setVisibilityLayersCD();\n\n  }\n\n  /**\n   * Layers opacity\n   *\n   * @public\n   * @function\n   * @param { Number } opacityVal opacidad de las capas\n   * @api stable\n   */\n  setOpacity(opacityVal) {\n\n    if (this.transparentInteraction_ !== undefined) this.transparentInteraction_.setOpacity(opacityVal);\n\n  }\n\n  /**\n     * Layers comparison mode\n     *\n     * @public\n     * @function\n     * @param { Number } comparisonMode opacidad de las capas\n     * @api stable\n     */\n  setComparisonMode(comparisonMode) {\n    if (this.transparentInteraction_ !== undefined) this.transparentInteraction_.setComparisonMode(comparisonMode);\n    this.setVisibilityLayersCD();\n\n  }\n\n  /**\n   * Set staticDivision\n   *\n   * @public\n   * @function\n   * @param { Number } staticDivision establece el tipo de divisin\n   * @api stable\n   */\n\n  setStaticDivision(staticDivision) {\n    if (this.transparentInteraction_ !== undefined) this.transparentInteraction_.setStaticDivision(staticDivision);\n  }\n\n  /**\n   * Set layer\n   *\n   * @public\n   * @function\n   * @param { M.layer } layer layer to assign effect\n   * @api stable\n   */\n  addLayer(layer) {\n    this.transparentInteraction_.addLayer(layer.getImpl().getOL3Layer());\n  }\n\n  /**\n   * Remove effects\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  removeEffectsCurtain() {\n    this.olMap.removeInteraction(this.transparentInteraction_);\n\n  }\n\n\n  /**\n   * Remove layer\n   *\n   * @public\n   * @function\n   * @param { M.layer } layer to remove\n   * @api stable\n   */\n  removeLayer(layer) {\n    this.transparentInteraction_.removeLayer(layer.getImpl().getOL3Layer());\n\n  }\n\n}\n","/**\n * @module M/control/LyrCompareControl\n */\n\nimport LyrcompareImplControl from 'impl/cplyrcomparecontrol';\nimport template from 'templates/cplyrcompare';\nimport {\n  getValue as getValueTranslate\n} from './i18n/language';\n\nArray.prototype.unique = function (a) {\n  return function () {\n    return this.filter(a)\n  }\n}(function (a, b, c) {\n  return c.indexOf(a, b + 1) < 0\n});\n\nexport default class LyrCompareControl extends M.Control {\n  /**\n   * @classdesc\n   * Main constructor of the class. Creates a PluginControl\n   * control\n   *\n   * @constructor\n   * @extends {M.Control}\n   * @api stable\n   */\n  constructor(values) {\n    // 1. checks if the implementation can create PluginControl\n    if (M.utils.isUndefined(LyrcompareImplControl)) {\n      M.exception('La implementacin usada no puede crear controles LyrCompareControl');\n    }\n    // 2. implementation of this control\n    const impl = new LyrcompareImplControl();\n    super(impl, 'LyrCompare');\n\n    /**\n     * All layers\n     * @public\n     * @public {Array}\n     */\n    this.layers = values.layers;\n\n    /**\n     * Nivel de opacidad\n     * @private\n     * @type {Number}\n     */\n    this.opacityVal = values.opacityVal;\n\n    /**\n     * Layer selected A\n     * @public\n     * @type {M.layer}\n     */\n    this.layerSelectedA = null;\n\n    /**\n     * Layer selected B\n     * @public\n     * @type {M.layer}\n     */\n    this.layerSelectedB = null;\n\n    /**\n     * Layer selected C\n     * @public\n     * @type {M.layer}\n     */\n    this.layerSelectedC = null;\n\n    /**\n     * Layer selected D\n     * @public\n     * @type {M.layer}\n     */\n    this.layerSelectedD = null;\n\n    /**\n     * Template\n     * @public\n     * @type { HTMLElement }\n     */\n    this.template = null;\n\n    /**\n     * Static Division selected\n     * @private\n     * @type {Number}\n     */\n    this.staticDivision = values.staticDivision;\n\n    /**\n     * Opacity Value\n     * @private\n     * @type {Number}\n     */\n    this.opacityVal = values.opacityVal;\n\n    /**\n     * Comparison mode\n     * @private\n     * @type {Number}\n     */\n    this.comparisonMode = values.comparisonMode;\n\n    /**\n     * Layer A default\n     * @private\n     * @type {Number}\n     */\n    this.defaultLyrA = values.defaultLyrA;\n\n    /**\n     * Layer B default\n     * @private\n     * @type {Number}\n     */\n    this.defaultLyrB = values.defaultLyrB;\n\n    /**\n     * Layer C default\n     * @private\n     * @type {Number}\n     */\n    this.defaultLyrC = values.defaultLyrC;\n\n    /**\n     * Layer D default\n     * @private\n     * @type {Number}\n     */\n    this.defaultLyrD = values.defaultLyrD;\n\n    /** Show interface\n     *@public\n     *@type{boolean}\n     */\n    this.interface = values.interface;\n  }\n\n  /**\n   * This function creates the view\n   *\n   * @public\n   * @function\n   * @param {M.Map} map to add the control\n   * @api stable\n   */\n  createView(map) {\n    if (this.interface === false || this.comparisonMode > 0) {\n      this.on(M.evt.ADDED_TO_MAP, (e) => {\n        this.activateCurtain();\n      })\n    }\n    this.map = map;\n    return new Promise((success, fail) => {\n      this.layers = this.transformToLayers(this.layers);\n      if (this.layers.length >= 2) {\n        if (this.comparisonMode === 3 && this.layers.length < 4) {\n          M.dialog.error(getValueTranslate('no_layers_plugin'), 'lyrcompare');\n          this.comparisonMode = 0;\n        }\n        let isLoad = this.allLayerLoad();\n        if (isLoad) {\n          this.setFunctionsAndCompile(success);\n        } else {\n          const idInterval = setInterval(() => {\n            isLoad = this.allLayerLoad();\n            if (isLoad) {\n              clearInterval(idInterval);\n              this.setFunctionsAndCompile(success);\n            }\n          },\n            200);\n        }\n      } else {\n        M.dialog.error(getValueTranslate('no_layers_plugin'), 'lyrcompare');\n      }\n    });\n  }\n\n  /**\n   * This function set plugin behavior and compile template\n   *\n   * @public\n   * @function\n   * @param { function } success to promise\n   * @api stable\n   */\n  setFunctionsAndCompile(success) {\n    let layers = this.layers.map(function (layer) {\n      return layer instanceof Object ? {\n        name: layer.name,\n        legend: layer.legend\n      } : {\n          name: layer,\n          legend: layer\n        };\n    });\n\n    const options = {\n      jsonp: true,\n      vars: {\n        options: layers,\n        comparisonMode: this.comparisonMode,\n        translations: {\n          tooltip_vcurtain: getValueTranslate('tooltip_vcurtain'),\n          tooltip_hcurtain: getValueTranslate('tooltip_hcurtain'),\n          tooltip_multicurtain: getValueTranslate('tooltip_multicurtain'),\n          opacity: getValueTranslate('opacity'),\n          static: getValueTranslate('static'),\n          dynamic: getValueTranslate('dynamic'),\n          mixed: getValueTranslate('mixed'),\n          layer: getValueTranslate('layer'),\n          opacity_tooltip: getValueTranslate('opacity_tooltip'),\n          static_tooltip: getValueTranslate('static_tooltip'),\n          dynamic_tooltip: getValueTranslate('dynamic_tooltip'),\n          mixed_tooltip: getValueTranslate('mixed_tooltip'),\n          lyrLeftSelect_tooltip: getValueTranslate('lyrLeftSelect_tooltip'),\n          lyrRightSelect_tooltip: getValueTranslate('lyrRightSelect_tooltip')\n        }\n      }\n    }\n\n    //config a helper in Handlebars for embedding conditionals in template\n    Handlebars.registerHelper('ifCond', function (v1, v2, options) {\n      if (v1 === v2) {\n        return options.fn(this);\n      }\n      return options.inverse(this);\n    });\n\n    //template with default options\n    this.template = M.template.compileSync(template, options);\n    this.setEventsAndValues();\n    this.updateControls();\n\n    if (this.layers.length == 0) {\n      M.dialog.error(getValueTranslate('no_layers_plugin'));\n    } else {\n      //e2m: Toogle activate/desactivate vcurtain, hcurtain, multicurtain ---> comparisonMode = 1, 2, 3\n      this.template.querySelectorAll('button[id^=\"m-lyrcompare-\"]')\n        .forEach((button, i) => {\n          button.addEventListener('click', evt => {\n            if (this.comparisonMode === 0) {\n              this.comparisonMode = i + 1;\n              this.activateCurtain();\n              return;\n            } else if (this.comparisonMode === i + 1) {\n              this.comparisonMode = 0;\n              this.deactivateCurtain();\n              return;\n            } else {\n              //Cambiamos de modo de visualizacin sin apagar/encender la interaccin\n              this.comparisonMode = i + 1;\n              this.updateControls();\n              this.getImpl().setComparisonMode(this.comparisonMode);\n            }\n          })\n        });\n    }\n    return success(this.template);\n  }\n\n\n  /**\n   * This function set events and values to template\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  setEventsAndValues() {\n    //opacity control\n    this.template.querySelector('#input-transparent-opacity').value = this.opacityVal;\n    this.template.querySelector('#input-transparent-opacity').addEventListener('input', (evt) => {\n      this.opacityVal = Number(evt.target.value);\n      this.getImpl().setOpacity(this.opacityVal);\n    });\n\n    //division selector\n    if (this.staticDivision === 1) {\n      this.template.querySelector('#div-m-lyrcompare-transparent-static').checked = true;\n    } else if (this.staticDivision === 0) {\n      this.template.querySelector('#div-m-lyrcompare-transparent-dynamic').checked = true;\n    } else {\n      this.template.querySelector('#div-m-lyrcompare-transparent-mixed').checked = true;\n    }\n\n    this.template.querySelector('#div-m-lyrcompare-transparent-dynamic').addEventListener('change', (evt) => {\n      this.staticDivision = Number(evt.target.value);\n      this.getImpl().setStaticDivision(this.staticDivision);\n    });\n\n    this.template.querySelector('#div-m-lyrcompare-transparent-static').addEventListener('change', (evt) => {\n      this.staticDivision = Number(evt.target.value);\n      this.getImpl().setStaticDivision(this.staticDivision);\n    });\n\n    this.template.querySelector('#div-m-lyrcompare-transparent-mixed').addEventListener('change', (evt) => {\n      this.staticDivision = Number(evt.target.value);\n      this.getImpl().setStaticDivision(this.staticDivision);\n    });\n\n    this.template.querySelectorAll('select[id^=\"m-lyrcompare-\"]').forEach(item => {\n\n      item.addEventListener('change', evt => {\n\n        const layer = this.layers.filter(function (layer) {\n\n          return layer.name === evt.target.value\n\n        });\n\n        let lstLayers = [];\n\n        if (item.id === \"m-lyrcompare-lyrA\") {\n\n          lstLayers = [layer[0].name, this.layerSelectedB.name, this.layerSelectedC.name, this.layerSelectedD.name];\n\n        } else if (item.id === \"m-lyrcompare-lyrB\") {\n\n          lstLayers = [this.layerSelectedA.name, layer[0].name, this.layerSelectedC.name, this.layerSelectedD.name];\n\n        } else if (item.id === \"m-lyrcompare-lyrC\") {\n\n          lstLayers = [this.layerSelectedA.name, this.layerSelectedB.name, layer[0].name, this.layerSelectedD.name];\n\n        } else if (item.id === \"m-lyrcompare-lyrD\") {\n\n          lstLayers = [this.layerSelectedA.name, this.layerSelectedB.name, this.layerSelectedC.name, layer[0].name];\n\n        }\n\n        //e2m: de esta forma pasamos los parmetros en forma de array\n\n        if (this.checkLayersAreDifferent(...lstLayers) === false) {\n          M.dialog.info(getValueTranslate('advice_sameLayer'));\n          if (item.id === \"m-lyrcompare-lyrA\") {\n            this.template.querySelector('#' + item.id).value = this.layerSelectedA.name\n          } else if (item.id === \"m-lyrcompare-lyrB\") {\n            this.template.querySelector('#' + item.id).value = this.layerSelectedB.name\n          } else if (item.id === \"m-lyrcompare-lyrC\") {\n            this.template.querySelector('#' + item.id).value = this.layerSelectedC.name\n          } else if (item.id === \"m-lyrcompare-lyrD\") {\n            this.template.querySelector('#' + item.id).value = this.layerSelectedD.name\n          }\n          return false;\n        }\n\n        if (item.id === \"m-lyrcompare-lyrA\") {\n          if (layer[0].name === this.layerSelectedC.name) {\n            this.layerSelectedC.setVisible(false);\n            this.layerSelectedC = this.layerSelectedA;\n            this.template.querySelector('#m-lyrcompare-lyrC').value = this.layerSelectedA.name\n          }\n\n          if (layer[0].name === this.layerSelectedD.name) {\n            this.layerSelectedD.setVisible(false);\n            this.layerSelectedD = this.layerSelectedA;\n            this.template.querySelector('#m-lyrcompare-lyrD').value = this.layerSelectedA.name\n          }\n\n        } else if (item.id === \"m-lyrcompare-lyrB\") {\n          if (layer[0].name === this.layerSelectedC.name) {\n            this.layerSelectedC.setVisible(false);\n            this.layerSelectedC = this.layerSelectedB;\n            this.template.querySelector('#m-lyrcompare-lyrC').value = this.layerSelectedB.name\n          }\n\n          if (layer[0].name === this.layerSelectedD.name) {\n            this.layerSelectedD.setVisible(false);\n            this.layerSelectedD = this.layerSelectedB;\n            this.template.querySelector('#m-lyrcompare-lyrD').value = this.layerSelectedB.name\n          }\n\n        }\n        if (item.id === \"m-lyrcompare-lyrA\") {\n          this.layerSelectedA.setVisible(false);\n          this.layerSelectedA = layer[0];\n        } else if (item.id === \"m-lyrcompare-lyrB\") {\n          this.layerSelectedB.setVisible(false);\n          this.layerSelectedB = layer[0];\n\n        } else if (item.id === \"m-lyrcompare-lyrC\") {\n          this.layerSelectedC.setVisible(false);\n          this.layerSelectedC = layer[0];\n        } else if (item.id === \"m-lyrcompare-lyrD\") {\n          this.layerSelectedD.setVisible(false);\n          this.layerSelectedD = layer[0];\n        }\n        this.removeEffectsComparison();\n        this.getImpl().effectSelectedCurtain(this.layerSelectedA, this.layerSelectedB, this.layerSelectedC, this.layerSelectedD, this.opacityVal, this.staticDivision, this.comparisonMode);\n\n      })\n    })\n  }\n\n  /**\n   * This function checks selected layers are diferent\n   *\n   * @public\n   * @function\n   * @api stable\n   * @param { string } lyerA layer 1\n   * @param { string } lyerB layer 2\n   * @param { string } lyerC layer 3\n   * @param { string } lyerD layer 4\n\n   * @return {Boolean}\n   */\n  checkLayersAreDifferent(lyerA, lyerB, lyerC, lyerD) {\n    if ((this.comparisonMode === 1) || (this.comparisonMode === 2)) {\n      if (lyerA === lyerB) {\n        return false\n      }\n    } else {\n      let compLyers = [lyerA, lyerB, lyerC, lyerD];\n      if (compLyers.length !== compLyers.unique().length) {\n        return false\n      }\n    }\n    return true;\n  }\n\n  /**\n   * Activate Select/Input\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  activateCurtain() {\n    this.activeDefault();\n    this.getImpl().effectSelectedCurtain(this.layerSelectedA, this.layerSelectedB, this.layerSelectedC, this.layerSelectedD, this.opacityVal, this.staticDivision, this.comparisonMode);\n    this.updateControls();\n  }\n\n  /**\n   * Activate default values\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  activeDefault() {\n    if (this.layerSelectedA === null) {\n      this.layerSelectedA = this.layers[this.defaultLyrA];\n      this.template.querySelector('#m-lyrcompare-lyrA').selectedIndex = this.defaultLyrA;\n    }\n    if (this.layerSelectedB === null) {\n      this.layerSelectedB = this.layers[this.defaultLyrB];\n      this.template.querySelector('#m-lyrcompare-lyrB').selectedIndex = this.defaultLyrB;\n    }\n    if (this.layerSelectedC === null) {\n      this.layerSelectedC = this.layers[this.defaultLyrC];\n      this.template.querySelector('#m-lyrcompare-lyrC').selectedIndex = this.defaultLyrC;\n    }\n    if (this.layerSelectedD === null) {\n      this.layerSelectedD = this.layers[this.defaultLyrD];\n      this.template.querySelector('#m-lyrcompare-lyrD').selectedIndex = this.defaultLyrD;\n    }\n  }\n\n  /**\n   * Deactivate Select/Input\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  deactivateCurtain() {\n    const swipeControl = document.querySelector('.lyrcompare-swipe-control');\n    if (swipeControl) {\n      swipeControl.classList.display = 'none !important';\n    }\n    this.comparisonMode = 0;\n    if (this.layerSelectedA !== null && this.layerSelectedB !== null) {\n      this.layerSelectedA.setVisible(false);\n      this.layerSelectedB.setVisible(false);\n    }\n    if (this.layerSelectedC !== null && this.layerSelectedD !== null && this.layerSelectedC !== undefined && this.layerSelectedD !== undefined) {\n      this.layerSelectedC.setVisible(false);\n      this.layerSelectedD.setVisible(false);\n    }\n    this.removeEffectsComparison();\n    this.updateControls();\n  }\n\n\n  /**\n   * This function is called to remove the effects\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  removeEffectsComparison() {\n    this.getImpl().removeEffectsCurtain();\n  }\n\n  /**\n   * This procedure updates texts in controls\n   *\n   */\n  updateControls() {\n\n    this.removeActivate();\n    this.activateByMode();\n\n    const swapControl = document.querySelector('.lyrcompare-swipe-control');\n    if (this.comparisonMode == 0) {\n      this.template.querySelectorAll('select[id^=\"m-lyrcompare-\"]').forEach(item => {\n        item.disabled = true;\n      });\n      this.template.querySelector('input').disabled = true; //Deshabilita el range del radio\n      return;\n    } else if (this.comparisonMode === 1) {\n      if (swapControl) swapControl.style.opacity = '1';\n      this.template.querySelector('#m-lyrcompare-lyrA-lbl').classList.add(\"cp-columns-2\");\n      this.template.querySelector('#m-lyrcompare-lyrB-lbl').classList.add(\"cp-columns-1\");\n      this.template.querySelector('#m-lyrcompare-lyrA-cont').style.display = 'block';\n      this.template.querySelector('#m-lyrcompare-lyrB-cont').style.display = 'block';\n      this.template.querySelector('#m-lyrcompare-lyrA').disabled = false;\n      this.template.querySelector('#m-lyrcompare-lyrB').disabled = false;\n    } else if (this.comparisonMode === 2) {\n      if (swapControl) swapControl.style.opacity = '1';\n      this.template.querySelector('#m-lyrcompare-lyrA-lbl').classList.add(\"cp-columns-4\");\n      this.template.querySelector('#m-lyrcompare-lyrB-lbl').classList.add(\"cp-columns-3\");\n      this.template.querySelector('#m-lyrcompare-lyrA-cont').style.display = 'block';\n      this.template.querySelector('#m-lyrcompare-lyrB-cont').style.display = 'block';\n      this.template.querySelector('#m-lyrcompare-lyrA').disabled = false;\n      this.template.querySelector('#m-lyrcompare-lyrB').disabled = false;\n    } else if (this.comparisonMode === 3) {\n      if (swapControl) swapControl.style.opacity = '1';\n      this.template.querySelectorAll('select[id^=\"m-lyrcompare-\"]').forEach(item => {\n        item.disabled = false;\n      });\n      this.template.querySelector('#m-lyrcompare-lyrA-lbl').classList.add(\"cp-th-large-1\");\n      this.template.querySelector('#m-lyrcompare-lyrB-lbl').classList.add(\"cp-th-large-2\");\n      this.template.querySelector('#m-lyrcompare-lyrC-lbl').classList.add(\"cp-th-large-3\");\n      this.template.querySelector('#m-lyrcompare-lyrD-lbl').classList.add(\"cp-th-large-4\");\n\n      this.template.querySelector('#m-lyrcompare-lyrA-cont').style.display = 'block';\n      this.template.querySelector('#m-lyrcompare-lyrB-cont').style.display = 'block';\n      this.template.querySelector('#m-lyrcompare-lyrC-cont').style.display = 'block';\n      this.template.querySelector('#m-lyrcompare-lyrD-cont').style.display = 'block';\n    }\n    this.template.querySelector('input').disabled = false; //Habilita el range del radio\n  }\n\n  activateByMode() {\n    if (this.comparisonMode === 1) {\n      this.template.querySelector('#m-lyrcompare-vcurtain').classList.add('buttom-pressed-vcurtain'); //VCurtain pulsado\n    } else if (this.comparisonMode === 2) {\n      this.template.querySelector('#m-lyrcompare-hcurtain').classList.add('buttom-pressed-hcurtain'); //HCurtain pulsado\n    } else if (this.comparisonMode === 3) {\n      this.template.querySelector('#m-lyrcompare-multicurtain').classList.add('buttom-pressed-multicurtain'); //MultiCurtain pulsado\n    }\n  }\n\n\n  removeActivate() {\n    this.template.querySelector('#m-lyrcompare-vcurtain').classList.remove('buttom-pressed-vcurtain');\n    this.template.querySelector('#m-lyrcompare-hcurtain').classList.remove('buttom-pressed-hcurtain');\n    this.template.querySelector('#m-lyrcompare-multicurtain').classList.remove('buttom-pressed-multicurtain');\n    this.template.querySelectorAll('select[id^=\"m-lyrcompare-\"]').disabled = true;\n    this.template.querySelector('#m-lyrcompare-lyrA-cont').style.display = 'none';\n    this.template.querySelector('#m-lyrcompare-lyrB-cont').style.display = 'none';\n    this.template.querySelector('#m-lyrcompare-lyrC-cont').style.display = 'none';\n    this.template.querySelector('#m-lyrcompare-lyrD-cont').style.display = 'none';\n    this.template.querySelector('#m-lyrcompare-lyrA-lbl').classList = '';\n    this.template.querySelector('#m-lyrcompare-lyrB-lbl').classList = '';\n    const swapControl = document.querySelector('.lyrcompare-swipe-control');\n    if (swapControl) {\n      swapControl.style.opacity = '0';\n    }\n  }\n\n  /**\n   * This function remove the Curtain layers\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  removeCurtainLayers(layers) {\n    layers.forEach(layer => {\n      if (!(layer instanceof Object)) {\n        if (layer.indexOf('*') >= 0) {\n          const urlLayer = layer.split('*');\n          let name = urlLayer[3]\n          const layerByUrl = this.map.getLayers().filter(l => name.includes(l.name))[this.map.getLayers().filter(l => name.includes(l.name)).length - 1];\n          this.map.removeLayers(layerByUrl);\n\n        } else {\n          const layerByName = this.map.getLayers().filter(l => layer.includes(l.name))[this.map.getLayers().filter(l => layer.includes(l.name)).length - 1];\n          this.map.removeLayers(layerByName);\n        }\n      } else if (layer instanceof Object) {\n        const layerByObject = this.map.getLayers().filter(l => layer.name.includes(l.name))[this.map.getLayers().filter(l => layer.name.includes(l.name)).length - 1];\n        this.map.removeLayers(layerByObject);\n      }\n    });\n  }\n\n  allLayerLoad() {\n    if (this.layers[0].load === undefined || this.layers[1].load === undefined &&\n      (this.layers[2] !== undefined && this.layers[3] !== undefined && (this.layers[2].load === undefined || this.layers[3].load === undefined))) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  /**\n   * Transform StringLayers to Mapea M.Layer\n   * @public\n   * @function\n   * @api stable\n   * @param {string}\n   * @return\n   */\n  transformToLayers(layers) {\n    const transform = layers.map(function (layer) {\n      let newLayer = null;\n      if (!(layer instanceof Object)) {\n        if (layer.indexOf('*') >= 0) {\n          const urlLayer = layer.split('*');\n          if (urlLayer[0].toUpperCase() == 'WMS') {\n            newLayer = new M.layer.WMS({\n              url: urlLayer[2],\n              name: urlLayer[3]\n            });\n            if (this.map.getLayers().filter(l => newLayer.name.includes(l.name)).length > 0) {\n              newLayer = this.map.getLayers().filter(l => newLayer.name.includes(l.name))[0];\n            }else{\n              this.map.addLayers(newLayer);\n            }\n            \n          } else if (urlLayer[0].toUpperCase() == 'WMTS') {\n            newLayer = new M.layer.WMTS({\n              url: urlLayer[1],\n              name: urlLayer[2]\n            });\n            this.map.addLayers(newLayer);\n          }\n        } else {\n          const layerByName = this.map.getLayers().filter(l => layer.includes(l.name))[0];\n          newLayer = this.isValidLayer(layerByName) ? layerByName : null;\n        }\n      } else if (layer instanceof Object) {\n        const layerByObject = this.map.getLayers().filter(l => layer.name.includes(l.name))[0];\n        newLayer = this.isValidLayer(layerByObject) ? layerByObject : null;\n      }\n\n      if (newLayer !== null) {\n        if (newLayer.getImpl().getOL3Layer() === null) {\n          setTimeout(() => {\n            if (newLayer.type === 'WMS') {\n              newLayer.load = true;\n            } else if (newLayer.type === 'WMTS') {\n              newLayer.facadeLayer_.load = true;\n            }\n          }, 1000);\n        } else {\n          newLayer.load = true;\n        }\n        newLayer.displayInLayerSwitcher = false;\n        newLayer.setVisible(false);\n        return newLayer\n      } else {\n        this.layers.remove(layer);\n      }\n\n    }, this);\n    return (transform[0] === undefined) ? [] : transform;\n  }\n  /**\n   * This function transform string to M.Layer\n   *\n   * @public\n   * @function\n   * @api stable\n   * @param {string}\n   * @return {Boolean}\n   */\n  isValidLayer(layer) {\n    return layer.type === 'WMTS' || layer.type === 'WMS';\n  }\n\n  /**\n   * This function compares controls\n   *\n   * @public\n   * @function\n   * @param {M.Control} control to compare\n   * @api stable\n   * @return {Boolean}\n   */\n  equals(control) {\n    return control instanceof LyrCompareControl;\n  }\n\n  getLayersNames() {\n    return this.layers.map(l => l.name);\n  }\n\n\n}","/**\n * @module M/plugin/LyrCompare\n */\nimport 'assets/css/cplyrcompare';\nimport LyrCompareControl from './cplyrcomparecontrol';\nimport api from '../../api';\nimport {\n  getValue\n} from './i18n/language';\n\nexport default class LyrCompare extends M.Plugin {\n  /**\n   * @classdesc\n   * Main facade plugin object. This class creates a plugin\n   * object which has an implementation Object\n   *\n   * @constructor\n   * @extends {M.Plugin}\n   * @param {Object} options plugin configuration options\n   * @api stable\n   */\n  constructor(options = {}) {\n    super();\n\n    /**\n     * Name plugin\n     * @private\n     * @type {String}\n     */\n    this.name_ = 'lyrcompare';\n\n    /** Error control\n     *@private\n     *@type{boolean}\n     */\n    this.error_ = false;\n\n    /**\n     * Layer names that will have effects\n     * @public\n     * Value: the names separated with commas\n     * @type {Array<String>}\n     */\n    this.layers = [];\n    if (options.layers === undefined || options.layers.length < 2) {\n      M.dialog.error(getValue('no_layers_plugin'), 'lyrcompare');\n      this.error_ = true;\n    } else {\n      if (Array.isArray(options.layers)) {\n        this.layers = options.layers;\n      } else {\n        this.layers = options.layers.split(\",\");\n      }\n    }\n\n    /**\n     * Array of controls\n     * @private\n     * @type {Array<M.Control>}\n     */\n    this.controls_ = [];\n\n\n    /**\n     * Facade of the map\n     * @private\n     * @type {M.Map}\n     */\n    this.map_ = null;\n\n    if (this.error_ === false) {\n\n      /**\n       * Position of the Plugin\n       * @public\n       * @type {String}\n       */\n      this.position = options.position;\n\n      /**\n       * Collapsed attribute\n       * @public\n       * @type {boolean}\n       */\n      this.collapsed = true;\n\n      /**\n       * Collapsible attribute\n       * @public\n       * @type {boolean}\n       */\n      this.collapsible = true;\n\n      /**\n       * staticDivision\n       * Value: number in range 0 - 1\n       * @type {number}\n       * @public\n       */\n      this.staticDivision = options.staticDivision === undefined ? 1 : parseInt(options.staticDivision);\n\n      /**\n       * Opacity\n       * Value: number in range 0 - 100\n       * @type {number}\n       * @public\n       */\n      if (options.opacityVal === undefined) {\n        this.opacityVal = 100;\n      } else {\n        this.opacityVal = parseInt(options.opacityVal);\n        if (this.opacityVal <= 0) {\n          this.opacityVal = 0;\n        } else if (this.opacityVal >= 100) {\n          this.opacityVal = 100;\n        }\n      }\n\n      /**\n       * Comparison Mode\n       * Value: number in range 0 - 3\n       * @type {number}\n       * @public\n       */\n      if (options.comparisonMode === undefined) {\n        this.comparisonMode = 0;\n      } else {\n        this.comparisonMode = parseInt(options.comparisonMode);\n        if (this.comparisonMode <= 0 || this.comparisonMode > 3) {\n          this.comparisonMode = 0;\n        }\n      }\n\n      /**\n       * Metadata from api.json\n       * @private\n       * @type {Object}\n       */\n      this.metadata_ = api.metadata;\n\n      /**\n       *@private\n       *@type { string }\n       */\n      this.tooltip_ = options.tooltip || getValue('tooltip');\n\n      /** Show interface\n       *@public\n       *@type{boolean}\n       */\n      this.interface = options.interface === undefined ? true : options.interface;\n\n      /**\n       * Default Layer A\n       * @type {number}\n       * @public\n       */\n      if (options.defaultLyrA === undefined) {\n        this.defaultLyrA = 0;\n      } else {\n        this.defaultLyrA = parseInt(options.defaultLyrA);\n      }\n\n      /**\n       * Default Layer B\n       * @type {number}\n       * @public\n       */\n      if (options.defaultLyrB === undefined) {\n        this.defaultLyrB = this.defaultLyrA !== 0 ? 0 : 1;\n      } else {\n        this.defaultLyrB = parseInt(options.defaultLyrB);\n      }\n      if (this.defaultLyrA === this.defaultLyrB) {\n        M.dialog.error(getValue('repeated_layers'), 'lyrcompare');\n        this.error_ = true;\n      }\n\n      /**\n       * Default Layer C\n       * @type {number}\n       * @public\n       */\n      if (options.defaultLyrC === undefined) {\n        this.defaultLyrC = 2;\n      } else {\n        this.defaultLyrC = parseInt(options.defaultLyrC);\n      }\n      if ((this.defaultLyrA === this.defaultLyrC) || (this.defaultLyrB === this.defaultLyrC)) {\n        M.dialog.error(getValue('repeated_layers'), 'lyrcompare');\n        this.error_ = true;\n      }\n\n      /**\n       * Default Layer D\n       * @type {number}\n       * @public\n       */\n      if (options.defaultLyrD === undefined) {\n        this.defaultLyrD = 3;\n      } else {\n        this.defaultLyrD = parseInt(options.defaultLyrD);\n      }\n      if ((this.defaultLyrA === this.defaultLyrD) || (this.defaultLyrB === this.defaultLyrD) || (this.defaultLyrC === this.defaultLyrD)) {\n        M.dialog.error(getValue('repeated_layers'), 'lyrcompare');\n        this.error_ = true;\n      }\n    }\n  }\n\n  /**\n   * This function adds this plugin into the map\n   *\n   * @public\n   * @function\n   * @param {M.Map} map the map to add the plugin\n   * @api stable\n   */\n  addTo(map) {\n    this.map_ = map;\n    const values = {\n      layers: this.layers,\n      collapsible: this.collapsible,\n      collapsed: this.collapsed,\n      staticDivision: this.staticDivision,\n      opacityVal: this.opacityVal,\n      comparisonMode: this.comparisonMode,\n      defaultLyrA: this.defaultLyrA,\n      defaultLyrB: this.defaultLyrB,\n      defaultLyrC: this.defaultLyrC,\n      defaultLyrD: this.defaultLyrD,\n      interface: this.interface,\n    };\n    this.control_ = new LyrCompareControl(values);\n    this.controls_.push(this.control_);\n    if (this.error_) {\n      const plugin = map.getPlugins('lyrcompare');\n      if (plugin.length !== 0) map.removePlugins(map.getPlugins('lyrcompare'))\n    } else {\n      if (this.interface) {\n        this.panel_ = new M.ui.Panel('panelLyrcompare', {\n          collapsible: this.collapsible,\n          collapsed: this.collapsed,\n          position: M.ui.position[this.position],\n          className: 'm-plugin-lyrcompare',\n          collapsedButtonClass: 'cp-icon',\n          tooltip: this.tooltip_,\n        });\n      } else {\n        this.panel_ = new M.ui.Panel('panelLyrcompare', {\n          collapsible: false,\n          collapsed: true,\n          position: M.ui.position[this.position],\n          className: 'm-plugin-lyrcompare-hidden',\n        });\n      }\n      this.panel_.addControls(this.controls_);\n      map.addPanels(this.panel_);\n    }\n  }\n\n\n  /**\n   * This function destroys this plugin\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  destroy() {\n    this.deactivate();\n    const swipeControl = document.querySelector('.lyrcompare-swipe-control');\n    if (swipeControl) {\n      swipeControl.remove();\n    }\n    this.map_.removeControls([this.control_]);\n    this.control_.removeCurtainLayers(this.control_.getLayersNames());\n    [this.name_, this.error_, this.layers, this.controls_, this.map_, this.position, this.collapsed, this.collapsible,\n      this.staticDivision, this.opacityVal, this.comparisonMode, this.metadata_, this.tooltip_, this.interface, this.defaultLyrA,\n      this.defaultLyrB, this.defaultLyrC, this.defaultLyrD\n    ] = [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null];\n  }\n\n  /**\n   * This function gets name plugin\n   * @getter\n   * @public\n   * @returns {string}\n   * @api stable\n   */\n  get name() {\n    return this.name_;\n  }\n\n  /**\n   * This function gets metadata plugin\n   *\n   * @public\n   * @getter\n   * @api stable\n   * @return {Object}\n   */\n  getMetadata() {\n    return this.metadata_;\n  }\n\n\n  /**\n   * Activate plugin\n   *\n   * @function\n   * @public\n   * @api\n   */\n  activate() {\n    this.control_.activateCurtain();\n  }\n\n  /**\n   * Desactivate plugin\n   *\n   * @function\n   * @public\n   * @api\n   */\n  deactivate() {\n    this.control_.deactivateCurtain();\n  }\n\n  /**\n   * This\n   function compare\n   *\n   * @public\n   * @function\n   * @param {M.plugin} plugin to compare\n   * @api stable\n   */\n  equals(plugin) {\n    if (plugin instanceof LyrCompare) {\n      return true;\n    }\n    return false;\n  }\n}","/**\n * @module M/impl/control/TransparentInteraction\n\n */\nexport default class TransparentInteraction extends ol.interaction.Pointer {\n  /**\n   * @classdesc\n   * Main constructor of the TransparentInteraction.\n   *\n   * @constructor\n   * @extends {ol.interaction.Pointer}\n   * @api stable\n   */\n  constructor(options) {\n    super(options);\n    this.layers_ = [];\n\n    ol.interaction.Pointer.call(this, {\n      handleDownEvent: this.setPosition,\n      handleMoveEvent: this.setPosition,\n    });\n\n    // Default options\n    const optionsE = options || {};\n\n    this.pos = false;\n    this.radius = (optionsE.radius || 100);\n\n    if (optionsE.layers) {\n      optionsE.layers = [optionsE.layers];\n      const layer = optionsE.layers.map(layer => layer.getImpl().getOL3Layer())\n        .filter(layer => layer != null);\n      this.addLayer(layer);\n    }\n  }\n\n  /** Set the map > start postcompose\n   */\n  setMap(map) {\n    let i;\n    if (this.getMap()) {\n      for (i = 0; i < this.layers_.length; i += 1) {\n        if (this.layers_[i].precompose) ol.Observable.unByKey(this.layers_[i].precompose);\n        if (this.layers_[i].postcompose) ol.Observable.unByKey(this.layers_[i].postcompose);\n        /* eslint-disable */\n        this.layers_[i].precompose = this.layers_[i].postcompose = null;\n        /* eslint-enable */\n      }\n      this.getMap().renderSync();\n    }\n\n    ol.interaction.Pointer.prototype.setMap.call(this, map);\n\n    if (map) {\n      for (i = 0; i < this.layers_.length; i += 1) {\n        this.layers_[i].precompose = this.layers_[i].on('precompose', this.precompose_.bind(this));\n        this.layers_[i].postcompose = this.layers_[i].on('postcompose', this.postcompose_.bind(this));\n      }\n      map.renderSync();\n    }\n  }\n\n  /** Set clip radius\n   * @param {integer} radius\n   */\n  setRadius(radius) {\n    this.radius = radius;\n    if (this.getMap()) this.getMap().renderSync();\n  }\n\n  /** Add a layer to clip\n   * @param {ol.layer|Array<ol.layer>} layer to clip\n   */\n  addLayer(layers) {\n    /* eslint-disable */\n    if (!(layers instanceof Array)) layers = [layers];\n    /* eslint-enable */\n    for (let i = 0; i < layers.length; i += 1) {\n      const l = { layer: layers[i] };\n      if (this.getMap()) {\n        l.precompose = layers[i].on('precompose', this.precompose_.bind(this));\n        l.postcompose = layers[i].on('postcompose', this.postcompose_.bind(this));\n        this.getMap().renderSync();\n      }\n      this.layers_.push(layers[i]);\n    }\n  }\n\n  /** Remove a layer to clip\n   * @param {ol.layer|Array<ol.layer>} layer to clip\n   */\n  removeLayer(layers) {\n    /* eslint-disable */\n    if (!(layers instanceof Array)) layers = [layers];\n    /* eslint-enable */\n    for (let i = 0; i < layers.length; i += 1) {\n      let k;\n      for (k = 0; k < this.layers_.length; k += 1) {\n        if (this.layers_[k] === layers[i]) {\n          break;\n        }\n      }\n      if (k !== this.layers_.length && this.getMap()) {\n        if (this.layers_[k].precompose) ol.Observable.unByKey(this.layers_[k].precompose);\n        if (this.layers_[k].postcompose) ol.Observable.unByKey(this.layers_[k].postcompose);\n        this.layers_.splice(k, 1);\n        this.getMap().renderSync();\n      }\n    }\n  }\n\n  /** Set position of the clip\n   * @param {ol.Pixel|ol.MapBrowserEvent}\n   */\n  setPosition(e) {\n    if (e.pixel) {\n      this.pos = e.pixel;\n    } else if (e && e instanceof Array) {\n      this.pos = e;\n    } else {\n      /* eslint-disable */\n      e = [-10000000, -10000000];\n      /* eslint-enable */\n    }\n    if (this.getMap()) this.getMap().renderSync();\n  }\n\n  /* @private\n   */\n  precompose_(e) {\n    const ctx = e.context;\n    const ratio = e.frameState.pixelRatio;\n\n    ctx.save();\n    ctx.beginPath();\n    ctx.arc(this.pos[0] * ratio, this.pos[1] * ratio, this.radius * ratio, 0, 2 * Math.PI);\n    ctx.clip();\n  }\n\n  /* @private\n   */\n  postcompose_(e) {\n    e.context.restore();\n  }\n\n  /**\n   * Activate or deactivate the interaction.\n   * @param {boolean} active Active.\n   * @observable\n   * @api\n   */\n  setActive(b) {\n    super.setActive(b);\n  }\n}\n","/* eslint-disable no-console */\r\n/**\r\n * @module M/impl/control/TransparencyControl\r\n */\r\nimport TransparentInteraction from 'impl/cptransparentInteraction';\r\n\r\n\r\nexport default class TransparencyControl extends M.impl.Control {\r\n  /**\r\n   * This function adds the control to the specified map\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Map} map to add the plugin\r\n   * @param {HTMLElement} html of the plugin\r\n   * @api stable\r\n   */\r\n  addTo(map, html) {\r\n    // super addTo - don't delete\r\n    this.map = map;\r\n    this.olMap = map.getMapImpl();\r\n\r\n    super.addTo(map, html);\r\n  }\r\n\r\n  /**\r\n   * Effects on the layer\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param { M.Layer } layer layer to which to assign an effect\r\n   * @param { Number } radius radius to assign\r\n   * @api stable\r\n   */\r\n  effectSelected(layers, radius) {\r\n    layers.setVisible(true);\r\n    layers.setZIndex(90000);\r\n    this.transparentInteraction_ = new TransparentInteraction({\r\n      radius,\r\n      layers,\r\n    });\r\n\r\n    this.olMap.addInteraction(this.transparentInteraction_);\r\n  }\r\n\r\n  /**\r\n   * Set radius\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param { Number } radius radius to assign\r\n   * @api stable\r\n   */\r\n  setRadius(radius) {\r\n    if (this.transparentInteraction_ !== undefined) this.transparentInteraction_.setRadius(radius);\r\n  }\r\n\r\n  /**\r\n   * Set layer\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param { M.layer } layer layer to assign effect\r\n   * @api stable\r\n   */\r\n  addLayer(layer) {\r\n    this.transparentInteraction_.addLayer(layer.getImpl().getOL3Layer());\r\n  }\r\n\r\n  /**\r\n   * Remove effects\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   */\r\n  removeEffects() {\r\n    this.olMap.removeInteraction(this.transparentInteraction_);\r\n  }\r\n\r\n\r\n  /**\r\n   * Remove layer\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param { M.layer } layer to remove\r\n   * @api stable\r\n   */\r\n  removeLayer(layer) {\r\n    this.transparentInteraction_.removeLayer(layer.getImpl().getOL3Layer());\r\n  }\r\n}\r\n","/**\r\n * @module M/control/TransparencyControl\r\n */\r\n\r\nimport TransparencyImplControl from 'impl/cptransparencycontrol';\r\nimport template from 'templates/cptransparency';\r\nimport { getValue } from './i18n/language';\r\n\r\nexport default class TransparencyControl extends M.Control {\r\n  /**\r\n   * @classdesc\r\n   * Main constructor of the class. Creates a PluginControl\r\n   * control\r\n   *\r\n   * @constructor\r\n   * @extends {M.Control}\r\n   * @api stable\r\n   */\r\n  constructor(values) {\r\n    // 1. checks if the implementation can create PluginControl\r\n    if (M.utils.isUndefined(TransparencyImplControl)) {\r\n      M.exception(getValue('exception'));\r\n    }\r\n    // 2. implementation of this control\r\n    const impl = new TransparencyImplControl();\r\n    super(impl, 'Transparency');\r\n\r\n    /**\r\n     * All layers\r\n     * @public\r\n     * @public {Array}\r\n     */\r\n    this.layers = values.layers;\r\n    /**\r\n     * Radius selected\r\n     * @private\r\n     * @type {Number}\r\n     */\r\n    this.radius = values.radius;\r\n    /**\r\n     * Layer selected\r\n     * @public\r\n     * @type {M.layer}\r\n     */\r\n    this.layerSelected = null;\r\n\r\n    /**\r\n     * Template\r\n     * @public\r\n     * @type { HTMLElement }\r\n     */\r\n    this.template = null;\r\n  }\r\n\r\n  /**\r\n   * This function creates the view\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Map} map to add the control\r\n   * @api stable\r\n   */\r\n  createView(map) {\r\n    this.map = map;\r\n    return new Promise((success, fail) => {\r\n      this.layers = this.transformToLayers(this.layers);\r\n      let names = this.layers.map(function (layer) {\r\n        return layer instanceof Object ? { name: layer.name } : { name: layer };\r\n      });\r\n\r\n      let options = {\r\n        jsonp: true,\r\n        vars: {\r\n          translations: {\r\n            transparency: getValue('transparency'),\r\n            radius: getValue('radius'),\r\n            layers: getValue('layers'),\r\n          }\r\n        }\r\n      };\r\n\r\n      if (names.length >= 1) {\r\n        options.vars.options = names;\r\n      }\r\n\r\n      this.template = M.template.compileSync(template, options);\r\n\r\n      // Radius\r\n      this.template.querySelector('#input-transparent-radius').value = this.radius;\r\n      this.template.querySelector('#input-transparent-radius').addEventListener('change', (evt) => {\r\n        this.radius = Number(evt.target.value);\r\n        this.getImpl().setRadius(this.radius);\r\n      });\r\n\r\n      if (this.layers.length == 0 || this.layers == '') {\r\n        M.dialog.error(getValue('errorLayer'));\r\n      } else {\r\n        if (options !== '') {\r\n          this.template.querySelector('select').disabled = true;\r\n          this.template.querySelector('input').disabled = true;\r\n          this.template.querySelector('select').addEventListener('change', (evt) => {\r\n            this.layerSelected.setVisible(false);\r\n            this.removeEffects();\r\n            const layer = this.layers.filter(function (layer) {\r\n              return layer.name === evt.target.value\r\n            });\r\n            this.layerSelected = layer[0];\r\n            this.getImpl().effectSelected(this.layerSelected, this.radius);\r\n          });\r\n        }\r\n      }\r\n      success(this.template);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Activate Select/Input\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   */\r\n  activate() {\r\n    if (this.layerSelected === null) this.layerSelected = this.layers[0];\r\n    let names = this.layers.map(function (layer) {\r\n      return layer instanceof Object ? { name: layer.name } : { name: layer };\r\n    });\r\n    this.getImpl().effectSelected(this.layerSelected, this.radius);\r\n    if (names.length >= 1) {\r\n      this.template.querySelector('select').disabled = false;\r\n      this.template.querySelector('input').disabled = false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Deactivate Select/Input\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   */\r\n  deactivate() {\r\n    if (this.layerSelected === null) this.layerSelected = this.layers[0];\r\n    let names = this.layers.map(function (layer) {\r\n      return layer instanceof Object ? { name: layer.name } : { name: layer };\r\n    });\r\n    this.removeEffects();\r\n    this.layerSelected.setVisible(false);\r\n    if (names.length >= 1) {\r\n      this.template.querySelector('select').disabled = true;\r\n      this.template.querySelector('input').disabled = true;\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * This function is called to remove the effects\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   */\r\n  removeEffects() {\r\n    this.getImpl().removeEffects();\r\n  }\r\n\r\n  /**\r\n   * This function remove the transparency layers\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   */\r\n  removeTransparencyLayers(layers) {\r\n    layers.forEach(layer => {\r\n      if (!(layer instanceof Object)) {\r\n        if (layer.indexOf('*') >= 0) {\r\n          const urlLayer = layer.split('*');\r\n          let name = urlLayer[3]\r\n          const layerByUrl = this.map.getLayers().filter(l => name.includes(l.name))[0];\r\n          this.map.removeLayers(layerByUrl);\r\n        } else {\r\n          const layerByName = this.map.getLayers().filter(l => layer.includes(l.name))[0];\r\n          this.map.removeLayers(layerByName);\r\n        }\r\n      } else if (layer instanceof Object) {\r\n        const layerByObject = this.map.getLayers().filter(l => layer.name.includes(l.name))[0];\r\n        this.map.removeLayers(layerByObject);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * This function transform string to M.Layer\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   * @param {string}\r\n   * @return\r\n   */\r\n  transformToLayers(layers) {\r\n    const transform = layers.map(function (layer) {\r\n      let newLayer = null;\r\n      if (!(layer instanceof Object)) {\r\n        if (layer.indexOf('*') >= 0) {\r\n          const urlLayer = layer.split('*');\r\n          if (urlLayer[0].toUpperCase() == 'WMS') {\r\n            newLayer = new M.layer.WMS({\r\n              url: urlLayer[2],\r\n              name: urlLayer[3]\r\n            });\r\n            if (this.map.getLayers().filter(l => newLayer.name.includes(l.name)).length > 0) {\r\n              newLayer = this.map.getLayers().filter(l => newLayer.name.includes(l.name))[0];\r\n            } else {\r\n              this.map.addLayers(newLayer);\r\n            }\r\n\r\n          } else if (urlLayer[0].toUpperCase() == 'WMTS') {\r\n            newLayer = new M.layer.WMTS({\r\n              url: urlLayer[1],\r\n              name: urlLayer[2]\r\n            });\r\n            this.map.addLayers(newLayer);\r\n          }\r\n        } else {\r\n          const layerByName = this.map.getLayers().filter(l => layer.includes(l.name))[0];\r\n          newLayer = this.isValidLayer(layerByName) ? layerByName : null;\r\n        }\r\n      } else if (layer instanceof Object) {\r\n        const layerByObject = this.map.getLayers().filter(l => layer.name.includes(l.name))[0];\r\n        newLayer = this.isValidLayer(layerByObject) ? layerByObject : null;\r\n      }\r\n\r\n      if (newLayer !== null) {\r\n        if (newLayer.getImpl().getOL3Layer() === null) {\r\n          setTimeout(() => {\r\n            if (newLayer.type === 'WMS') {\r\n              newLayer.load = true;\r\n            } else if (newLayer.type === 'WMTS') {\r\n              newLayer.facadeLayer_.load = true;\r\n            }\r\n          }, 1000);\r\n        } else {\r\n          newLayer.load = true;\r\n        }\r\n        newLayer.displayInLayerSwitcher = false;\r\n        newLayer.setVisible(false);\r\n        return newLayer\r\n      } else {\r\n        this.layers.remove(layer);\r\n      }\r\n\r\n    }, this);\r\n    return (transform[0] === undefined) ? [] : transform;\r\n  }\r\n  /**\r\n   * This function transform string to M.Layer\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   * @param {string}\r\n   * @return {Boolean}\r\n   */\r\n  isValidLayer(layer) {\r\n    return layer.type === 'WMTS' || layer.type === 'WMS';\r\n  }\r\n\r\n\r\n  /**\r\n   * This function compares controls\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Control} control to compare\r\n   * @api stable\r\n   * @return {Boolean}\r\n   */\r\n  equals(control) {\r\n    return control instanceof TransparencyControl;\r\n  }\r\n\r\n  getLayersNames() {\r\n    return this.layers.map(l => l.name);\r\n  }\r\n}\r\n","/**\n * @module M/plugin/Transparency\n */\nimport 'assets/css/cptransparency';\nimport TransparencyControl from './cptransparencycontrol';\nimport api from '../../api';\nimport { getValue } from './i18n/language';\n// import { isArray } from '../../../../../facade/js/util/Utils';\n\nexport default class Transparency extends M.Plugin {\n  /**\n   * @classdesc\n   * Main facade plugin object. This class creates a plugin\n   * object which has an implementation Object\n   *\n   * @constructor\n   * @extends {M.Plugin}\n   * @param {Object} impl implementation object\n   * @api stable\n   */\n  constructor(options = {}) {\n    super();\n\n    /**\n     * Name plugin\n     * @private\n     * @type {String}\n     */\n    this.name_ = 'transparency';\n\n    /**\n     * Facade of the map\n     * @private\n     * @type {M.Map}\n     */\n    this.map_ = null;\n\n    /**\n     * Array of controls\n     * @private\n     * @type {Array<M.Control>}\n     */\n    this.controls_ = [];\n\n    /**\n     * Class name of the html view Plugin\n     * @public\n     * @type {string}\n     */\n    this.className = 'm-plugin-transparency';\n\n    /**\n     * Position of the Plugin\n     * @public\n     * Posible values: TR | TL | BL | BR\n     * @type {String}\n     */\n    this.position = options.position;\n\n    /**\n     * Layer names that will have effects\n     * @public\n     * Value: the names separated with coma\n     * @type {string}\n     */\n    if (options.layers === undefined || options.layers === '') {\n      M.dialog.error(getValue('errorLayer'));\n      this.layers = [];\n    } else {\n      if (Array.isArray(options.layers)) {\n        this.layers = options.layers;\n      } else {\n        this.layers = options.layers.split(\",\");\n      }\n    }\n\n    /**\n     * Transparent effect radius\n     * Value: number in range 30 - 200\n     * @type {number}\n     * @public\n     */\n\n    if (!isNaN(parseInt(options.radius))) {\n\n      if (options.radius >= 30 && options.radius <= 200) {\n        this.radius = parseInt(options.radius);\n      } else if (options.radius > 200) {\n        this.radius = 200;\n      } else if (options.radius < 30) {\n        this.radius = 30;\n      }\n\n    } else {\n      this.radius = 100; // Default value\n    }\n\n\n\n    /**\n     * Metadata from api.json\n     * @private\n     * @type {Object}\n     */\n    this.metadata_ = api.metadata;\n\n    this.separatorApiJson = api.url.separator;\n\n    /**\n     *@private\n     *@type { string }\n     */\n    this.tooltip_ = options.tooltip || getValue('tooltip');\n\n    /**\n     * Collapsed attribute\n     * @public\n     * @type {boolean}\n     */\n    this.collapsed = options.collapsed || true;\n\n    /**\n     * Collapsible attribute\n     * @public\n     * @type {boolean}\n     */\n    this.collapsible = options.collapsible || true;\n  }\n\n  /**\n   * This function adds this plugin into the map\n   *\n   * @public\n   * @function\n   * @param {M.Map} map the map to add the plugin\n   * @api stable\n   */\n  addTo(map) {\n\n    const values = {\n      layers: this.layers,\n      radius: this.radius,\n    };\n    this.control_ = new TransparencyControl(values);\n    this.controls_.push(this.control_);\n    this.map_ = map;\n    this.panel_ = new M.ui.Panel('panelTransparency', {\n      collapsible: this.collapsible,\n      collapsed: this.collapsed,\n      position: M.ui.position[this.position],\n      className: this.className,\n      collapsedButtonClass: 'icon-gps4',\n      tooltip: this.tooltip_,\n    });\n    this.panel_.addControls(this.controls_);\n    map.addPanels(this.panel_);\n  }\n\n\n  /**\n   * This function destroys this plugin\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  destroy() {\n    this.control_.removeEffects();\n    this.control_.removeTransparencyLayers(this.control_.getLayersNames());\n    this.map_.removeControls([this.control_]);\n    [this.control_, this.panel_, this.map_, this.layers, this.radius] = [null, null, null, null, null];\n  }\n\n  /**\n   * This function gets name plugin\n   * @getter\n   * @public\n   * @returns {string}\n   * @api stable\n   */\n  get name() {\n    return this.name_;\n  }\n\n  /**\n   * This function gets metadata plugin\n   *\n   * @public\n   * @getter\n   * @api stable\n   * @return {Object}\n   */\n  getMetadata() {\n    return this.metadata_;\n  }\n\n  /**\n   * Activate plugin\n   *\n   * @function\n   * @public\n   * @api\n   */\n  activate() {\n    this.control_.activate();\n  }\n\n  /**\n   * Desactivate plugin\n   *\n   * @function\n   * @public\n   * @api\n   */\n  deactivate() {\n    this.control_.deactivate();\n  }\n\n  /**\n   * This\n   function compare\n   if pluging recieved by param is instance of M.plugin.Transparency\n   *\n   * @public\n   * @function\n   * @param {M.plugin} plugin to compare\n   * @api stable\n   */\n  equals(plugin) {\n    if (plugin instanceof Transparency) {\n      return true;\n    }\n    return false;\n  }\n}\n","/**\r\n * @module M/control/ComparepanelControl\r\n */\r\n\r\nimport ComparepanelImplControl from 'impl/comparepanelcontrol';\r\nimport template from 'templates/comparepanel';\r\nimport { getValue } from './i18n/language';\r\nimport Mirrorpanel from './cpmirrorpanel';\r\nimport Timeline from './cptimeline';\r\nimport LyrCompare from './cplyrcompare';\r\nimport { getValue as getValueTranslate } from './i18n/language';\r\nimport Transparency from './cptransparency';\r\n\r\nexport default class ComparepanelControl extends M.Control {\r\n  /**\r\n   * @classdesc\r\n   * Main constructor of the class. Creates a PluginControl\r\n   * control\r\n   *\r\n   * @constructor\r\n   * @extends {M.Control}\r\n   * @api stable\r\n   */\r\n  constructor(options) {\r\n    // 1. checks if the implementation can create PluginControl\r\n    if (M.utils.isUndefined(ComparepanelImplControl)) {\r\n      M.exception(getValue('exception'));\r\n    }\r\n    // 2. implementation of this control\r\n    const impl = new ComparepanelImplControl();\r\n    super(impl, 'Comparepanel');\r\n    /**\r\n     * Template\r\n     * @public\r\n     * @type { HTMLElement }\r\n     */\r\n    this.template = null;\r\n\r\n    this.baseLayers = options.baseLayers;\r\n    this.position = options.position;\r\n    this.layers = [];\r\n    this.baseLayers.forEach(e => this.layers.push(e[2]));\r\n    this.params = [options.mirrorpanelParams, options.timelineParams, options.lyrcompareParams, options.transparencyParams];\r\n    this.params.forEach(p => {\r\n      p.position = this.position;\r\n    })\r\n    options.mirrorpanelParams.defaultBaseLyrs = this.layers;\r\n    options.timelineParams.intervals = this.baseLayers;\r\n    options.lyrcompareParams.layers = this.layers;\r\n    options.transparencyParams.layers = this.layers;\r\n\r\n    this.mirrorpanel = new Mirrorpanel(options.mirrorpanelParams);\r\n    this.timeline = new Timeline(options.timelineParams);\r\n    this.lyrcompare = new LyrCompare(options.lyrcompareParams);\r\n    this.transparency = new Transparency(options.transparencyParams);\r\n    this.panels = [];\r\n\r\n    this.plugins = [this.mirrorpanel, this.timeline, this.lyrcompare, this.transparency];\r\n  }\r\n\r\n  /**\r\n   * This function creates the view\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Map} map to add the control\r\n   * @api stable\r\n   */\r\n  createView(map) {\r\n    this.map = map;\r\n    return new Promise((success, fail) => {\r\n      let options = {\r\n        jsonp: true,\r\n        vars: {\r\n          translations: {\r\n            tooltipLyr: getValueTranslate('tooltipLyr'),\r\n            tooltipMirrorpanel: getValueTranslate('tooltipMirrorpanel'),\r\n            tooltipTimeline: getValueTranslate('tooltipTimeline'),\r\n            tooltipTransparency: getValueTranslate('tooltipTransparency'),\r\n          }\r\n        }\r\n      }\r\n      this.template = M.template.compileSync(template, options);\r\n      success(this.template);\r\n      this.addComparators(map);\r\n    });\r\n  }\r\n\r\n  addComparators(map) {\r\n    this.plugins.forEach((p) => {\r\n      map.addPlugin(p);\r\n      this.panels.push(p.panel_._element);\r\n      let element = document.querySelector(\".\" + p.panel_._className + \" .m-panel-controls\");\r\n      element.classList.add('cp-' + p.name);\r\n      document.querySelector(\".\" + p.panel_._className).remove();\r\n      this.template.querySelector('#m-cp-' + p.name).append(element);\r\n    });\r\n    this.addButtonEvents();\r\n  }\r\n\r\n  addButtonEvents() {\r\n    this.plugins.forEach(p => {\r\n      this.template.querySelector('#m-cp-' + p.name + ' .cp-button').addEventListener('click', (e) => {\r\n        this.deactivateAndActivate(p);\r\n      });\r\n    });\r\n  }\r\n\r\n  deactivateAndActivate(plugin) {\r\n    this.plugins.forEach(p => {\r\n      if (p != plugin) {\r\n        this.template.querySelector('#m-cp-' + p.name + ' .cp-' + p.name).classList.remove('hide-panel');\r\n        this.template.querySelector('#m-cp-' + p.name + ' .cp-button').classList.remove('active');\r\n      }\r\n      p.deactivate();\r\n    });\r\n    this.template.querySelector('#m-cp-' + plugin.name + ' .cp-button').classList.toggle('active');\r\n    if (this.template.querySelector('#m-cp-' + plugin.name + ' .cp-button').classList.contains('active') && plugin.name == 'transparency') {\r\n      plugin.activate();\r\n    }\r\n    this.template.querySelector('#m-cp-' + plugin.name + ' .cp-' + plugin.name).classList.toggle('hide-panel');\r\n  }\r\n\r\n  deactivate() {\r\n    this.plugins.forEach((p, k) => {\r\n      p.deactivate();\r\n      document.querySelector('.m-plugin-comparepanel').parentElement.append(this.panels[k]);\r\n    });\r\n    this.map.removePlugins(this.plugins);\r\n  }\r\n  /**\r\n   * This function compares controls\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Control} control to compare\r\n   * @api stable\r\n   * @return {Boolean}\r\n   */\r\n  equals(control) {\r\n    return control instanceof ComparepanelControl;\r\n  }\r\n}\r\n","/**\r\n * @module M/plugin/Comparepanel\r\n */\r\nimport 'assets/css/comparepanel';\r\nimport ComparepanelControl from './comparepanelcontrol';\r\nimport api from '../../api';\r\nimport { getValue } from './i18n/language';\r\n\r\nexport default class Comparepanel extends M.Plugin {\r\n  /**\r\n   * @classdesc\r\n   * Main facade plugin object. This class creates a plugin\r\n   * object which has an implementation Object\r\n   *\r\n   * @constructor\r\n   * @extends {M.Plugin}\r\n   * @param {Object} impl implementation object\r\n   * @api stable\r\n   */\r\n  constructor(options = {}) {\r\n    super();\r\n\r\n    /**\r\n     * Name plugin\r\n     * @private\r\n     * @type {String}\r\n     */\r\n    this.name_ = 'comparepanel';\r\n\r\n    /**\r\n     * Facade of the map\r\n     * @private\r\n     * @type {M.Map}\r\n     */\r\n    this.map_ = null;\r\n\r\n    /**\r\n     * Array of controls\r\n     * @private\r\n     * @type {Array<M.Control>}\r\n     */\r\n    this.controls_ = [];\r\n\r\n    /**\r\n     * Class name of the html view Plugin\r\n     * @public\r\n     * @type {string}\r\n     */\r\n    this.className = 'm-plugin-comparepanel';\r\n\r\n    /**\r\n     * Position of the Plugin\r\n     * @public\r\n     * Posible values: TR | TL | BL | BR\r\n     * @type {String}\r\n     */\r\n    const positions = ['TR', 'TL', 'BL', 'BR'];\r\n    this.position = positions.includes(options.position) ? options.position : 'TR';\r\n\r\n    /**\r\n     * Collapsed attribute\r\n     * @public\r\n     * @type {boolean}\r\n     */\r\n    this.collapsed = options.collapsed;\r\n    if (this.collapsed === undefined) this.collapsed = true;\r\n\r\n    /**\r\n     * Collapsible attribute\r\n     * @public\r\n     * @type {boolean}\r\n     */\r\n    this.collapsible = options.collapsible;\r\n    if (this.collapsible === undefined) this.collapsible = true;\r\n\r\n    /**\r\n     * Vertical attribute\r\n     * @public\r\n     * Changes the plugin's orientation\r\n     * @type {boolean}\r\n     */\r\n    this.vertical = options.vertical;\r\n    if (this.vertical === undefined) this.vertical = true;\r\n\r\n    /**\r\n     * Base Layers\r\n     * @public\r\n     * Value: Array of layers with the layout [{name, tag, service},{...}]\r\n     * @type {Array}\r\n     */\r\n    if (options !== undefined) {\r\n      if (M.utils.isString(options.baseLayers)) {\r\n        this.baseLayers = JSON.parse(options.baseLayers.replace(/!!/g, '[').replace(//g, ']'));\r\n      } else if (M.utils.isArray(options.baseLayers)) {\r\n        this.baseLayers = options.baseLayers;\r\n      } else {\r\n        M.dialog.error(getValue('baseLayers_error'));\r\n      }\r\n    }\r\n\r\n    /**\r\n     * mirrorpanelParams\r\n     * @public\r\n     * Value: Object with the rest of mirrorpanel's parameters \r\n     * @type {Object}\r\n     */\r\n    this.mirrorpanelParams = options.mirrorpanelParams || {};\r\n\r\n    /**\r\n     * timelineParams\r\n     * @public\r\n     * Value: Object with the rest of timeline's parameters \r\n     * @type {Object}\r\n     */\r\n    this.timelineParams = options.timelineParams || {};\r\n\r\n    /**\r\n     * lyrcompareParams\r\n     * @public\r\n     * Value: Object with the rest of lyrcompare's parameters \r\n     * @type {Object}\r\n     */\r\n    this.lyrcompareParams = options.lyrcompareParams || {};\r\n\r\n\r\n    /**\r\n     * transparencyParams\r\n     * @public\r\n     * Value: Object with the rest of transparency's parameters \r\n     * @type {Object}\r\n     */\r\n    this.transparencyParams = options.transparencyParams || {};\r\n\r\n    /**\r\n     * Metadata from api.json\r\n     * @private\r\n     * @type {Object}\r\n     */\r\n    this.metadata_ = api.metadata;\r\n\r\n    /**\r\n     *@private\r\n     *@type { string }\r\n     */\r\n    this.tooltip_ = options.tooltip || getValue('tooltip');\r\n  }\r\n\r\n  /**\r\n   * This function adds this plugin into the map\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Map} map the map to add the plugin\r\n   * @api stable\r\n   */\r\n  addTo(map) {\r\n    this.control_ = new ComparepanelControl({\r\n      baseLayers: this.baseLayers,\r\n      mirrorpanelParams: this.mirrorpanelParams,\r\n      timelineParams: this.timelineParams,\r\n      lyrcompareParams: this.lyrcompareParams,\r\n      transparencyParams: this.transparencyParams,\r\n      position: this.position,\r\n    });\r\n    this.controls_.push(this.control_);\r\n    this.map_ = map;\r\n    this.panel_ = new M.ui.Panel('panelComparepanel', {\r\n      collapsible: this.collapsible,\r\n      collapsed: this.collapsed,\r\n      position: M.ui.position[this.position],\r\n      className: this.className,\r\n      collapsedButtonClass: 'cp-icon',\r\n      tooltip: this.tooltip_,\r\n    });\r\n    this.panel_.addControls(this.controls_);\r\n    map.addPanels(this.panel_);\r\n    this.panel_._element.classList.add(this.vertical ? 'orientation-vertical' : 'orientation-horizontal');\r\n  }\r\n\r\n\r\n  /**\r\n   * This function destroys this plugin\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   */\r\n  destroy() {\r\n    this.control_.deactivate();\r\n    this.map_.removeControls([this.control_]);\r\n    [this.control_, this.panel_, this.map_, this.baseLayers, this.vertical, this.mirrorpanelParams, this.lyrcompareParams, this.timelineParams, this.transparencyParams] = [null, null, null, null, null, null, null, null, null];\r\n    \r\n  }\r\n\r\n  /**\r\n   * This function gets name plugin\r\n   * @getter\r\n   * @public\r\n   * @returns {string}\r\n   * @api stable\r\n   */\r\n  get name() {\r\n    return this.name_;\r\n  }\r\n\r\n  /**\r\n   * This function gets metadata plugin\r\n   *\r\n   * @public\r\n   * @getter\r\n   * @api stable\r\n   * @return {Object}\r\n   */\r\n  getMetadata() {\r\n    return this.metadata_;\r\n  }\r\n\r\n  /**\r\n   * Get the API REST Parameters of the plugin\r\n   *\r\n   * @function\r\n   * @public\r\n   * @api\r\n   */\r\n  getAPIRest() {\r\n    const baseLayers = JSON.stringify(this.baseLayers).replace(/\\[/g, '!!').replace(/\\]/g, '');\r\n    return `${this.name}=${this.position}*!${this.vertical}*!${baseLayers}`;\r\n  }\r\n\r\n  /**\r\n   * Activate plugin\r\n   *\r\n   * @function\r\n   * @public\r\n   * @api\r\n   */\r\n  activate() {\r\n    this.control_.activate();\r\n  }\r\n\r\n  /**\r\n   * Desactivate plugin\r\n   *\r\n   * @function\r\n   * @public\r\n   * @api\r\n   */\r\n  deactivate() {\r\n    this.control_.deactivate();\r\n  }\r\n\r\n  /**\r\n   * This function compare if pluging recieved\r\n   * by param is instance of M.plugin.Comparepanel\r\n   * @public\r\n   * @function\r\n   * @param {M.plugin} plugin to compare\r\n   * @api stable\r\n   */\r\n  equals(plugin) {\r\n    if (plugin instanceof Comparepanel) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n}\r\n","import M$plugin$Comparepanel from '/home/jesusdiaz/Workspace/Git/mapea-plugins/mapea-lite/api-ign-js/src/plugins/comparepanel/src/facade/js/comparepanel';\nimport M$control$ComparepanelControl from '/home/jesusdiaz/Workspace/Git/mapea-plugins/mapea-lite/api-ign-js/src/plugins/comparepanel/src/facade/js/comparepanelcontrol';\nimport M$plugin$LyrCompare from '/home/jesusdiaz/Workspace/Git/mapea-plugins/mapea-lite/api-ign-js/src/plugins/comparepanel/src/facade/js/cplyrcompare';\nimport M$control$LyrCompareControl from '/home/jesusdiaz/Workspace/Git/mapea-plugins/mapea-lite/api-ign-js/src/plugins/comparepanel/src/facade/js/cplyrcomparecontrol';\nimport M$plugin$Mirrorpanel from '/home/jesusdiaz/Workspace/Git/mapea-plugins/mapea-lite/api-ign-js/src/plugins/comparepanel/src/facade/js/cpmirrorpanel';\nimport M$control$CompareMirrorpanel from '/home/jesusdiaz/Workspace/Git/mapea-plugins/mapea-lite/api-ign-js/src/plugins/comparepanel/src/facade/js/cpmirrorpanelcontrol';\nimport M$plugin$Timeline from '/home/jesusdiaz/Workspace/Git/mapea-plugins/mapea-lite/api-ign-js/src/plugins/comparepanel/src/facade/js/cptimeline';\nimport M$control$TimelineControl from '/home/jesusdiaz/Workspace/Git/mapea-plugins/mapea-lite/api-ign-js/src/plugins/comparepanel/src/facade/js/cptimelinecontrol';\nimport M$plugin$Transparency from '/home/jesusdiaz/Workspace/Git/mapea-plugins/mapea-lite/api-ign-js/src/plugins/comparepanel/src/facade/js/cptransparency';\nimport M$control$TransparencyControl from '/home/jesusdiaz/Workspace/Git/mapea-plugins/mapea-lite/api-ign-js/src/plugins/comparepanel/src/facade/js/cptransparencycontrol';\nimport M$impl$control$ComparepanelControl from '/home/jesusdiaz/Workspace/Git/mapea-plugins/mapea-lite/api-ign-js/src/plugins/comparepanel/src/impl/ol/js/comparepanelcontrol';\nimport M$impl$control$Lyrcomparecontrol from '/home/jesusdiaz/Workspace/Git/mapea-plugins/mapea-lite/api-ign-js/src/plugins/comparepanel/src/impl/ol/js/cplyrcomparecontrol';\nimport M$impl$control$LyrcompareInteraction from '/home/jesusdiaz/Workspace/Git/mapea-plugins/mapea-lite/api-ign-js/src/plugins/comparepanel/src/impl/ol/js/cplyrcompareinteraction';\nimport M$impl$control$CompareMirrorpanel from '/home/jesusdiaz/Workspace/Git/mapea-plugins/mapea-lite/api-ign-js/src/plugins/comparepanel/src/impl/ol/js/cpmirrorpanel';\nimport M$impl$control$TimelineControl from '/home/jesusdiaz/Workspace/Git/mapea-plugins/mapea-lite/api-ign-js/src/plugins/comparepanel/src/impl/ol/js/cptimelinecontrol';\nimport M$impl$control$TransparencyControl from '/home/jesusdiaz/Workspace/Git/mapea-plugins/mapea-lite/api-ign-js/src/plugins/comparepanel/src/impl/ol/js/cptransparencycontrol';\nimport M$impl$control$TransparentInteraction from '/home/jesusdiaz/Workspace/Git/mapea-plugins/mapea-lite/api-ign-js/src/plugins/comparepanel/src/impl/ol/js/cptransparentInteraction';\n\nif (!window.M.plugin) window.M.plugin = {};\nif (!window.M.control) window.M.control = {};\nif (!window.M.impl) window.M.impl = {};\nif (!window.M.impl.control) window.M.impl.control = {};\nwindow.M.plugin.Comparepanel = M$plugin$Comparepanel;\nwindow.M.control.ComparepanelControl = M$control$ComparepanelControl;\nwindow.M.plugin.LyrCompare = M$plugin$LyrCompare;\nwindow.M.control.LyrCompareControl = M$control$LyrCompareControl;\nwindow.M.plugin.Mirrorpanel = M$plugin$Mirrorpanel;\nwindow.M.control.CompareMirrorpanel = M$control$CompareMirrorpanel;\nwindow.M.plugin.Timeline = M$plugin$Timeline;\nwindow.M.control.TimelineControl = M$control$TimelineControl;\nwindow.M.plugin.Transparency = M$plugin$Transparency;\nwindow.M.control.TransparencyControl = M$control$TransparencyControl;\nwindow.M.impl.control.ComparepanelControl = M$impl$control$ComparepanelControl;\nwindow.M.impl.control.Lyrcomparecontrol = M$impl$control$Lyrcomparecontrol;\nwindow.M.impl.control.LyrcompareInteraction = M$impl$control$LyrcompareInteraction;\nwindow.M.impl.control.CompareMirrorpanel = M$impl$control$CompareMirrorpanel;\nwindow.M.impl.control.TimelineControl = M$impl$control$TimelineControl;\nwindow.M.impl.control.TransparencyControl = M$impl$control$TransparencyControl;\nwindow.M.impl.control.TransparentInteraction = M$impl$control$TransparentInteraction;\n"],"sourceRoot":""}