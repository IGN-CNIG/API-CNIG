{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/templates/timeline.html","webpack:///./src/impl/ol/js/timelinecontrol.js","webpack:///./src/facade/js/i18n/language.js","webpack:///./src/facade/js/timelinecontrol.js","webpack:///./src/facade/js/timeline.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","TimelineControl","M","impl","Control","map","html","this","olMap","getMapImpl","translations","en","es","getLang","res","language","getTranslation","lang","timeline","getValue","keyPath","translation","utils","isNullOrEmpty","console","warn","split","reduce","prev","current","options","isUndefined","TimelineImplControl","exception","running","animation","speed","intervals","template","Promise","success","fail","forEach","interval","k","layer","transformToLayers","copy","getMapLayer","undefined","removeLayers","addLayers","iv","number","tag","service","push","compileSync","vars","title","play","document","createElement","length","parseInt","dataset","querySelector","append","style","setProperty","slider","setAttribute","addEventListener","e","changeSlider","classList","add","remove","clearTimeout","playTimeline","newLayer","layerByObject","getLayers","filter","includes","isValidLayer","indexOf","urlLayer","toUpperCase","WMS","url","WMTS","layerByName","displayInLayerSwitcher","setVisible","elem","left","min","max","display","step","parseFloat","innerHTML","layerSearch","getImpl","legend","next","end","setTimeout","clearInterval","control","Timeline","name_","map_","controls_","className","position","isString","JSON","parse","replace","isArray","dialog","error","metadata_","api","metadata","tooltip_","tooltip","Plugin","control_","panel_","ui","Panel","collapsible","collapsedButtonClass","addControls","addPanels","removeTimelineLayers","removeControls","layers","radius","stringify","activate","deactivate","plugin","window","M$plugin$Timeline","M$control$TimelineControl","M$impl$control$TimelineControl"],"mappings":"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","file":"timeline.ol.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","module.exports = \"<div id=\\\"div-contenedor\\\" class=\\\"m-timeline-container\\\">\\r\\n    <div id=\\\"m-timeline-title\\\">{{translations.title}}</div>\\r\\n    <div class=\\\"div-m-timeline-panel\\\">\\r\\n        <div class=\\\"div-m-timeline-slider\\\">\\r\\n            <input type=\\\"range\\\" min=\\\"0\\\" max=\\\"100\\\" value=\\\"0\\\" step=\\\"any\\\" id=\\\"input-slider\\\"></input>\\r\\n            <div class='slider-tags'></div>\\r\\n        </div>\\r\\n        <div class=\\\"m-timeline-names\\\">\\r\\n            \\r\\n        </div>\\r\\n        <div class=\\\"m-timeline-button\\\">\\r\\n            <button id=\\\"m-timeline-play\\\" class=\\\"timeline-control-siguiente\\\" title=\\\"Iniciar paso del tiempo\\\"></button>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\";","/**\r\n * @module M/impl/control/TimelineControl\r\n */\r\n\r\nexport default class TimelineControl extends M.impl.Control {\r\n  /**\r\n   * This function adds the control to the specified map\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Map} map to add the plugin\r\n   * @param {HTMLElement} html of the plugin\r\n   * @api stable\r\n   */\r\n  addTo(map, html) {\r\n    this.map = map;\r\n    this.olMap = map.getMapImpl();\r\n\r\n    super.addTo(map, html);\r\n  }\r\n}\r\n","import en from './en';\nimport es from './es';\n\n/**\n * Default object with es and en translate.\n *\n * @const\n * @type {object}\n */\nconst translations = {\n  en,\n  es,\n};\n\nconst getLang = () => {\n  let res = 'es';\n  if (typeof M.language.getLang === 'function') {\n    res = M.language.getLang();\n  }\n\n  return res;\n};\n\n/**\n * This function sets a new language translate.\n * @param {string} lang\n * @param {JSON} json\n * @public\n * @api\n */\nexport const addTranslation = (lang, json) => {\n  translations[lang] = json;\n};\n\n/**\n * This function gets a language translate.\n *\n * @param {string} lang\n * @return {JSON}\n * @public\n * @api\n */\n export const getTranslation = (lang) => {\n  if (lang === 'es' || lang === 'en') {\n    return translations[lang];\n  }\n  return M.language.getTranslation(lang).timeline;\n};\n\n/**\n * This function gets a language value from key\n *\n * @public\n * @param {string}\n * @param {string}\n * @return {string}\n * @public\n * @api\n */\n\nexport const getValue = (keyPath, lang = getLang()) => {\n  const translation = getTranslation(lang);\n  let value = '';\n  if (M.utils.isNullOrEmpty(translation)) {\n    /* eslint-disable no-console */\n    console.warn(`The translation '${lang}' has not been defined.`);\n  } else {\n    value = keyPath.split('.').reduce((prev, current) => prev[current], translation);\n  }\n\n  return value;\n};\n","/**\r\n * @module M/control/TimelineControl\r\n */\r\n\r\nimport TimelineImplControl from 'impl/timelinecontrol';\r\nimport template from 'templates/timeline';\r\nimport { getValue } from './i18n/language';\r\n\r\nexport default class TimelineControl extends M.Control {\r\n  /**\r\n   * @classdesc\r\n   * Main constructor of the class. Creates a PluginControl\r\n   * control\r\n   *\r\n   * @constructor\r\n   * @extends {M.Control}\r\n   * @api stable\r\n   */\r\n  constructor(options) {\r\n    // 1. checks if the implementation can create PluginControl\r\n    if (M.utils.isUndefined(TimelineImplControl)) {\r\n      M.exception(getValue('exception'));\r\n    }\r\n    // 2. implementation of this control\r\n    const impl = new TimelineImplControl();\r\n    super(impl, 'Timeline');\r\n    this.running = false;\r\n    this.animation = options.animation;\r\n    this.speed = options.speed;\r\n    this.intervals = options.intervals;\r\n    /**\r\n     * Template\r\n     * @public\r\n     * @type { HTMLElement }\r\n     */\r\n    this.template = null;\r\n  }\r\n\r\n  /**\r\n   * This function creates the view\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Map} map to add the control\r\n   * @api stable\r\n   */\r\n  createView(map) {\r\n    this.map = map;\r\n    return new Promise((success, fail) => {\r\n      let intervals = [];\r\n      this.intervals.forEach((interval, k) => {\r\n        const layer = this.transformToLayers(interval[2]);\r\n        const copy = this.getMapLayer(layer);\r\n        if (copy !== undefined) {\r\n          this.map.removeLayers(copy);\r\n        }\r\n        this.map.addLayers(layer);\r\n        let iv = {\r\n          number: k,\r\n          name: interval[0],\r\n          tag: interval[1],\r\n          service: layer\r\n        }\r\n        intervals.push(iv);\r\n      });\r\n      this.intervals = intervals;\r\n      this.template = M.template.compileSync(template, {\r\n        vars: {\r\n          translations: {\r\n            title: getValue('title'),\r\n            play: getValue('play'),\r\n          }\r\n        }\r\n      });\r\n      this.intervals.forEach((interval, k) => {\r\n        let tag = document.createElement('div');\r\n        if (k != 0 && k != this.intervals.length - 1 && k != parseInt(this.intervals.length / 2)) {\r\n          tag.dataset.tag = '';\r\n        } else {\r\n          tag.dataset.tag = interval.tag;\r\n        }\r\n        this.template.querySelector('.slider-tags').append(tag);\r\n      });\r\n      this.template.querySelector('.div-m-timeline-panel').style.setProperty('--num', this.intervals.length);\r\n      const slider = this.template.querySelector('#input-slider');\r\n      slider.setAttribute('max', intervals.length - 1);\r\n      slider.addEventListener('input', (e) => this.changeSlider(slider));\r\n      slider.addEventListener('change', (e) => {\r\n        document.querySelector('.m-timeline-button button').classList.add('timeline-control-siguiente');\r\n        document.querySelector('.m-timeline-button button').classList.remove('timeline-control-pausa');\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--opacity', '0');\r\n        clearTimeout(this.running);\r\n        this.running = false;\r\n      });\r\n      const play = this.template.querySelector('#m-timeline-play');\r\n      play.addEventListener('click', (e) => this.playTimeline(false));\r\n      success(this.template);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Transform StringLayers to Mapea M.Layer\r\n   * \r\n   * WMTS*http://www.ign.es/wmts/pnoa-ma?*OI.OrthoimageCoverage*EPSG:25830*PNOA\r\n   * WMS*IGN*http://www.ign.es/wms-inspire/ign-base*IGNBaseTodo\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   * @param {string}\r\n   * @return\r\n   */\r\n  transformToLayers(layer) {\r\n    let newLayer = null;\r\n    if (!(layer instanceof Object)) {\r\n      if (layer.indexOf('*') >= 0) {\r\n        const urlLayer = layer.split('*');\r\n        if (urlLayer[0].toUpperCase() == 'WMS') {\r\n          newLayer = new M.layer.WMS({\r\n            url: urlLayer[2],\r\n            name: urlLayer[3]\r\n          });\r\n        } else if (urlLayer[0].toUpperCase() == 'WMTS') {\r\n          newLayer = new M.layer.WMTS({\r\n            url: urlLayer[2],\r\n            name: urlLayer[3]\r\n          });\r\n        }\r\n      } else {\r\n        const layerByName = this.map.getLayers().filter(l => layer.includes(l.name))[0];\r\n        newLayer = this.isValidLayer(layerByName) ? layerByName : null;\r\n      }\r\n    } else if (layer instanceof Object) {\r\n      const layerByObject = this.map.getLayers().filter(l => layer.name.includes(l.name))[0];\r\n      newLayer = this.isValidLayer(layerByObject) ? layerByObject : null;\r\n    }\r\n    if (newLayer !== null) {\r\n      newLayer.displayInLayerSwitcher = false;\r\n      newLayer.setVisible(false);\r\n      return newLayer\r\n    } else {\r\n      this.map.removeLayers(layer);\r\n    }\r\n  }\r\n\r\n  /** This function change layers and show layer name when slider moves\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   * @return\r\n   */\r\n  changeSlider(elem) {\r\n    document.querySelector('.div-m-timeline-slider').style.setProperty('--opacity', '0');\r\n    const left = (((elem.value - elem.min) / (elem.max - elem.min)) * ((256 - 5) - 5)) + 5;\r\n    document.querySelector('.div-m-timeline-slider').style.setProperty('--left', left + 'px');\r\n    if(this.animation || this.intervals[0].name !== ''){\r\n      document.querySelector('.m-timeline-names').style.display = 'block';\r\n    }\r\n    if (this.animation) {\r\n      document.querySelector('.m-timeline-button').style.display = 'block';\r\n    }\r\n    let step = parseFloat(elem.value);\r\n    this.intervals.forEach((interval) => {\r\n      this.getMapLayer(interval.service).setVisible(false);\r\n      document.querySelector('.m-timeline-names').innerHTML = '';\r\n    });\r\n    if (step % 1 == 0) {\r\n      document.querySelector('.div-m-timeline-slider').style.setProperty('--left', left + 20 + 'px');\r\n      this.getMapLayer(this.intervals[step].service).setVisible(true);\r\n      document.querySelector('.m-timeline-names').innerHTML = this.intervals[step].name;\r\n      document.querySelector('.div-m-timeline-panel').style.setProperty('--valor', '\"' + this.intervals[step].tag + '\"')\r\n      if (this.intervals[step].tag !== '') {\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--opacity', '1');\r\n      } else {\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--opacity', '0');\r\n      }\r\n    } else {\r\n      this.getMapLayer(this.intervals[parseInt(step)].service).setVisible(true);\r\n      this.getMapLayer(this.intervals[parseInt(step) + 1].service).setVisible(true);\r\n      if (this.intervals[parseInt(step)].tag !== '' && this.intervals[parseInt(step) + 1].tag !== '') {\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--left', left + 'px');\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--opacity', '1');\r\n        document.querySelector('.div-m-timeline-panel').style.setProperty('--valor', '\"' + this.intervals[parseInt(step)].tag + ' - ' + this.intervals[parseInt(step) + 1].tag + '\"');\r\n        document.querySelector('.m-timeline-names').innerHTML = this.intervals[parseInt(step)].name + ' y ' + this.intervals[parseInt(step) + 1].name;\r\n      } else if (this.intervals[parseInt(step)].tag === '' && this.intervals[parseInt(step) + 1].tag === '') {\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--opacity', '0');\r\n      } else {\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--left', left + 20 + 'px');\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--opacity', '10');\r\n        document.querySelector('.m-timeline-names').innerHTML = this.intervals[parseInt(step)].name + this.intervals[parseInt(step) + 1].name;\r\n        document.querySelector('.div-m-timeline-panel').style.setProperty('--valor', '\"' + this.intervals[parseInt(step)].tag + this.intervals[parseInt(step) + 1].tag + '\"');\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  /** This function search a layer in the map\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   * @return\r\n   */\r\n  getMapLayer(layerSearch) {\r\n    return this.map.getLayers().filter(layer => layer.getImpl().legend === layerSearch.getImpl().legend)[0];\r\n  }\r\n\r\n  /** This function make the play animation\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   * @return\r\n   */\r\n  playTimeline(next) {\r\n    const start = 0;\r\n    const end = this.intervals.length - 1;\r\n    const slider = document.querySelector('#input-slider');\r\n    let step = parseInt(slider.value);\r\n    if (this.running) {\r\n      document.querySelector('.m-timeline-button button').classList.add('timeline-control-siguiente');\r\n      document.querySelector('.m-timeline-button button').classList.remove('timeline-control-pausa');\r\n      clearTimeout(this.running);\r\n    }\r\n    if (!next) {\r\n      if (step > start && step < end && this.running) {\r\n        this.running = false;\r\n        return;\r\n      }\r\n      if (step > end) {\r\n        step = start;\r\n      }\r\n    }\r\n    if (step >= end) {\r\n      slider.value = 0;\r\n      this.changeSlider(slider);\r\n      return;\r\n    }\r\n    if (step < start) {\r\n      step = start;\r\n    }\r\n    slider.value = parseFloat(slider.value) + 1;\r\n    this.changeSlider(slider);\r\n    document.querySelector('.m-timeline-button button').classList.remove('timeline-control-siguiente');\r\n    document.querySelector('.m-timeline-button button').classList.add('timeline-control-pausa');\r\n    this.running = setTimeout((e) => this.playTimeline(true), this.speed * 1000);\r\n  }\r\n\r\n  /**\r\n   * This function remove the timeline layers\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   */\r\n  removeTimelineLayers() {\r\n    clearInterval(this.running);\r\n    this.intervals.forEach((interval) => {\r\n      this.map.removeLayers(this.getMapLayer(interval.service));\r\n    })\r\n  }\r\n\r\n  /**\r\n   * This function compares controls\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Control} control to compare\r\n   * @api stable\r\n   * @return {Boolean}\r\n   */\r\n  equals(control) {\r\n    return control instanceof TimelineControl;\r\n  }\r\n}\r\n","/**\r\n * @module M/plugin/Timeline\r\n */\r\nimport 'assets/css/timeline';\r\nimport TimelineControl from './timelinecontrol';\r\nimport api from '../../api';\r\nimport { getValue } from './i18n/language';\r\n\r\nimport es from './i18n/es';\r\nimport en from './i18n/en';\r\n\r\nexport default class Timeline extends M.Plugin {\r\n  /**\r\n   * @classdesc\r\n   * Main facade plugin object. This class creates a plugin\r\n   * object which has an implementation Object\r\n   *\r\n   * @constructor\r\n   * @extends {M.Plugin}\r\n   * @param {Object} impl implementation object\r\n   * @api stable\r\n   */\r\n  constructor(options = {}) {\r\n    super();\r\n\r\n    /**\r\n     * Name plugin\r\n     * @private\r\n     * @type {String}\r\n     */\r\n    this.name_ = 'timeline';\r\n\r\n    /**\r\n     * Facade of the map\r\n     * @private\r\n     * @type {M.Map}\r\n     */\r\n    this.map_ = null;\r\n\r\n    /**\r\n     * Array of controls\r\n     * @private\r\n     * @type {Array<M.Control>}\r\n     */\r\n    this.controls_ = [];\r\n\r\n    /**\r\n     * Class name of the html view Plugin\r\n     * @public\r\n     * @type {string}\r\n     */\r\n    this.className = 'm-plugin-timeline';\r\n\r\n    /**\r\n     * Position of the Plugin\r\n     * @public\r\n     * Posible values: TR | TL | BL | BR\r\n     * @type {String}\r\n     */\r\n    const positions = ['TR', 'TL', 'BL', 'BR'];\r\n    this.position = positions.includes(options.position) ? options.position : 'TR';\r\n\r\n    /**\r\n     * Intervals\r\n     * @public\r\n     * Value: Array with each interval attributes [name, tag, service]\r\n     * @type {String}\r\n     */\r\n    if (options !== undefined) {\r\n      if (M.utils.isString(options.intervals)) {\r\n        this.intervals = JSON.parse(options.intervals.replace(/!!/g, '[').replace(/¡¡/g, ']'));\r\n      } else if (M.utils.isArray(options.intervals)) {\r\n        this.intervals = options.intervals;\r\n      } else {\r\n        M.dialog.error(getValue('intervals_error'));\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Animation of the timeline\r\n     * @public\r\n     * Value: true / false\r\n     * @type {boolean}\r\n     */\r\n    this.animation = options.animation;\r\n    if (this.animation === undefined) this.animation = true;\r\n\r\n    /**\r\n     * Speed of animation\r\n     * @public\r\n     * Value: 1 - 100\r\n     * @type {number}\r\n     */\r\n    this.speed = parseFloat(options.speed) || 1;\r\n\r\n    /**\r\n     * Metadata from api.json\r\n     * @private\r\n     * @type {Object}\r\n     */\r\n    this.metadata_ = api.metadata;\r\n\r\n    /**\r\n     *@private\r\n     *@type { string }\r\n     */\r\n    this.tooltip_ = options.tooltip || getValue('tooltip');\r\n  }\r\n\r\n  /**\r\n   * Return plugin language\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {string} lang type language\r\n   * @api stable\r\n   */\r\n   static getJSONTranslations(lang) {\r\n    if (lang === 'en' || lang === 'es') {\r\n      return (lang === 'en') ? en : es;\r\n    }\r\n    return M.language.getTranslation(lang).timeline;\r\n  }\r\n\r\n  /**\r\n   * This function adds this plugin into the map\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Map} map the map to add the plugin\r\n   * @api stable\r\n   */\r\n  addTo(map) {\r\n    this.control_ = new TimelineControl({\r\n      intervals: this.intervals,\r\n      animation: this.animation,\r\n      speed: this.speed,\r\n    });\r\n    this.controls_.push(this.control_);\r\n    this.map_ = map;\r\n    this.panel_ = new M.ui.Panel('panelTimeline', {\r\n      collapsible: true,\r\n      position: M.ui.position[this.position],\r\n      className: this.className,\r\n      collapsedButtonClass: 'timeline-gestion-reloj2',\r\n      tooltip: this.tooltip_,\r\n    });\r\n    this.panel_.addControls(this.controls_);\r\n    map.addPanels(this.panel_);\r\n  }\r\n\r\n\r\n  /**\r\n   * This function destroys this plugin\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   */\r\n  destroy() {\r\n    this.control_.removeTimelineLayers();\r\n    this.map_.removeControls([this.control_]);\r\n    [this.control_, this.panel_, this.map_, this.layers, this.radius] = [null, null, null, null, null];\r\n  }\r\n\r\n  /**\r\n   * This function gets name plugin\r\n   * @getter\r\n   * @public\r\n   * @returns {string}\r\n   * @api stable\r\n   */\r\n  get name() {\r\n    return this.name_;\r\n  }\r\n\r\n  /**\r\n   * This function gets metadata plugin\r\n   *\r\n   * @public\r\n   * @getter\r\n   * @api stable\r\n   * @return {Object}\r\n   */\r\n  getMetadata() {\r\n    return this.metadata_;\r\n  }\r\n\r\n  /**\r\n   * Get the API REST Parameters of the plugin\r\n   *\r\n   * @function\r\n   * @public\r\n   * @api\r\n   */\r\n  getAPIRest() {\r\n    const intervals = JSON.stringify(this.intervals).replace(/\\[/g, '!!').replace(/\\]/g, '¡¡');\r\n    return `${this.name}=${this.position}*!${intervals}*!${this.animation}*!${this.speed}`;\r\n  }\r\n\r\n  /**\r\n   * Activate plugin\r\n   *\r\n   * @function\r\n   * @public\r\n   * @api\r\n   */\r\n  activate() {\r\n    this.control_.activate();\r\n  }\r\n\r\n  /**\r\n   * Desactivate plugin\r\n   *\r\n   * @function\r\n   * @public\r\n   * @api\r\n   */\r\n  deactivate() {\r\n    this.control_.deactivate();\r\n  }\r\n\r\n  /**\r\n   * This\r\n   function compare\r\n   if pluging recieved by param is instance of M.plugin.Timeline\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.plugin} plugin to compare\r\n   * @api stable\r\n   */\r\n  equals(plugin) {\r\n    if (plugin instanceof Timeline) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n}\r\n","import M$plugin$Timeline from '/home/jesusdiaz/Workspace/Git/api-cnig/api-ign-js/src/plugins/timeline/src/facade/js/timeline';\nimport M$control$TimelineControl from '/home/jesusdiaz/Workspace/Git/api-cnig/api-ign-js/src/plugins/timeline/src/facade/js/timelinecontrol';\nimport M$impl$control$TimelineControl from '/home/jesusdiaz/Workspace/Git/api-cnig/api-ign-js/src/plugins/timeline/src/impl/ol/js/timelinecontrol';\n\nif (!window.M.plugin) window.M.plugin = {};\nif (!window.M.control) window.M.control = {};\nif (!window.M.impl) window.M.impl = {};\nif (!window.M.impl.control) window.M.impl.control = {};\nwindow.M.plugin.Timeline = M$plugin$Timeline;\nwindow.M.control.TimelineControl = M$control$TimelineControl;\nwindow.M.impl.control.TimelineControl = M$impl$control$TimelineControl;\n"],"sourceRoot":""}