!function(t){var e={};function o(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=e,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=5)}([function(t){t.exports=JSON.parse('{"exception":{"impl":"The implementation used cannot create Perfiltopografico controls."},"tooltip":"Topography Profile","title":"Topography Profile","profil":{"title":"Topographic Profile","zmin":"Min Alt.","zmax":"Max Alt.","altitude":"Alt.","distance":"Full Distance","ytitle":"Altitude (m)","xtitle":"Distance (km)"}}')},function(t){t.exports=JSON.parse('{"exception":{"impl":"La implementación no puede crear controles de Perfiltopografico."},"tooltip":"Perfil Topográfico","title":"Perfil Topográfico","profil":{"title":"Perfil Topográfico","zmin":"Alt. min","zmax":"Alt. max","altitude":"Altitud","distance":"Dist. total","ytitle":"Altitud (m)","xtitle":"Distancia (km)"}}')},function(t,e){t.exports='<div class="m-control m-container m-topographicprofile-container">\r\n    <button id=\'m-topographicprofile-btn\' class="m-topographicprofile-btn icon-chart"></button>\r\n</div>\r\n'},function(t){t.exports=JSON.parse('{"url":{"name":"topographicprofile","separator":"*"},"constructor":"M.plugin.Topographicprofile","parameters":[{"type":"object","properties":[{"type":"simple","name":"position","possibleValues":["TL","TR","BL","BR"],"position":0}]}],"files":{"ol":{"scripts":["topographicprofile.ol.min.js"],"styles":["topographicprofile.ol.min.css"]}},"metadata":{"name":"Perfil Topográfico","description":"Genera un perfil longitudinal","text":"A partir de un eje dibujado, el plugin muestra un perfil longitudinal del terreno","version":"1.0.0","date":"Enero, 2020","author":"","org":"CNIG","tags":"mapea,plugin","icon":"./facade/assets/icons/icons.svg","centralized":true}}')},function(t,e,o){},function(t,e,o){"use strict";o.r(e);o(4);var i,n,r={en:o(0),es:o(1)},a=function(){var t="es";return"function"==typeof M.language.getLang&&(t=M.language.getLang()),t},l=function(t){return r[t]},s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a(),o=l(e),i="";return M.utils.isNullOrEmpty(o)?console.warn("The translation '".concat(e,"' has not been defined.")):i=t.split(".").reduce((function(t,e){return t[e]}),o),i},c={zmin:"Zmin",zmax:"Zmax",ytitle:"Altitude (m)",xtitle:"Distance (km)",time:"Time",altitude:"Altitude",distance:"Distance",altitudeUnits:"m",distanceUnitsM:"m",distanceUnitsKM:"km"},p=function(t){var e=this,o=t||{};this.info=o.info||c;var i,n=this;if(o.target)(i=document.createElement("div")).classList.add(o.className||"ol-profil");else{(i=document.createElement("div")).className=((o.className||"ol-profil")+" ol-unselectable ol-control ol-collapsed").trim();var r=document.createElement("p");r.textContent=s("profil.title"),i.appendChild(r);var a=document.createElement("button");a.setAttribute("type","button"),a.setAttribute("class","profile-close-button");var l=function(i){t.map.removeControl(e),o.source.clear()};a.addEventListener("click",l),a.addEventListener("touchstart",l),r.appendChild(a);var p=document.createElement("button");p.setAttribute("type","button"),p.setAttribute("class","profile-download-button");var u=function(t){var o=e.getImage(),i=document.createElement("a");i.href=o,i.download="Perfil.png",i.click(),i.remove()};p.addEventListener("click",u),p.addEventListener("touchstart",u),r.appendChild(p)}var f=document.createElement("div");f.classList.add("ol-inner"),i.appendChild(f);var h=document.createElement("div");h.style.position="relative",f.appendChild(h);var d=this.ratio=2;this.canvas_=document.createElement("canvas"),this.canvas_.width=(o.width||300)*d,this.canvas_.height=(o.height||150)*d;var m={msTransform:"scale(0.5,0.5)",msTransformOrigin:"0 0",webkitTransform:"scale(0.5,0.5)",webkitTransformOrigin:"0 0",mozTransform:"scale(0.5,0.5)",mozTransformOrigin:"0 0",transform:"scale(0.5,0.5)",transformOrigin:"0 0"};Object.keys(m).forEach((function(t){t in n.canvas_.style&&(n.canvas_.style[t]=m[t])}));var y=document.createElement("div");h.appendChild(y),y.style.width=this.canvas_.width/d+"px",y.style.height=this.canvas_.height/d+"px",y.appendChild(this.canvas_),y.addEventListener("click",(function(t){n.onMove(t)})),y.addEventListener("mousemove",(function(t){n.onMove(t)})),ol.control.Control.call(this,{element:i,target:o.target}),this.margin_={top:10*d,left:40*d,bottom:30*d,right:10*d},this.info.ytitle||(this.margin_.left-=20*d),this.info.xtitle||(this.margin_.bottom-=20*d),this.bar_=document.createElement("div"),this.bar_.classList.add("ol-profilbar"),this.bar_.style.top=this.margin_.top/d+"px",this.bar_.style.height=(this.canvas_.height-this.margin_.top-this.margin_.bottom)/d+"px",h.appendChild(this.bar_),this.cursor_=document.createElement("div"),this.cursor_.classList.add("ol-profilcursor"),h.appendChild(this.cursor_),this.popup_=document.createElement("div"),this.popup_.classList.add("ol-profilpopup"),this.cursor_.appendChild(this.popup_);var _=document.createElement("table");_.cellPadding="0",_.cellSpacing="0",_.style.clientWidth=this.canvas_.width/d+"px",h.appendChild(_);var v=document.createElement("tr");v.classList.add("track-info"),_.appendChild(v);var g=document.createElement("td");g.innerHTML=(this.info.zmin||"Zmin")+': <span class="zmin">',v.appendChild(g);var b=document.createElement("td");b.innerHTML=(this.info.zmax||"Zmax")+': <span class="zmax">',v.appendChild(b);var w=document.createElement("td");w.innerHTML=(this.info.distance||"Distance")+': <span class="dist">',v.appendChild(w);var M=document.createElement("tr");M.classList.add("point-info"),_.appendChild(M);var P=document.createElement("td");P.innerHTML=(this.info.altitude||"Altitude")+': <span class="z">',M.appendChild(P);var S=document.createElement("td");S.innerHTML='Dist. parcial: <span class="dist">',M.appendChild(S);var x=document.createElement("td");x.innerHTML=(this.info.time||"Time")+': <span class="time">',M.appendChild(x),this.tab_=[],o.feature&&this.setGeometry(o.feature)};i=p,n=ol.control.Control,i.prototype=Object.create(n.prototype),i.prototype.constructor=i,p.prototype.popup=function(t){this.popup_.innerHTML=t},p.prototype.onMove=function(t){if(this.tab_.length){var e=this.canvas_.getBoundingClientRect(),o=e.top+window.pageYOffset-document.documentElement.clientTop,i=e.left+window.pageXOffset-document.documentElement.clientLeft,n=t.pageX-i,r=t.pageY-o,a=this.ratio;if(n>this.margin_.left/a&&n<(this.canvas_.width-this.margin_.right)/a&&r>this.margin_.top/a&&r<(this.canvas_.height-this.margin_.bottom)/a){this.bar_.style.left=n+"px",this.bar_.style.display="block";for(var l,s=(n*a-this.margin_.left)/this.scale_[0],c=this.tab_[0],p=1;l=this.tab_[p];p++)if(l[0]>=s){s<(l[0]+c[0])/2&&(l=c);break}l?(this.cursor_.style.left=n+"px",this.cursor_.style.top=(this.canvas_.height-this.margin_.bottom+l[1]*this.scale_[1]+this.dy_)/a+"px",this.cursor_.style.display="block"):this.cursor_.style.display="none",this.bar_.parentElement.classList.add("over"),this.element.querySelector(".point-info .z").textContent=l[1]+this.info.altitudeUnits,this.element.querySelector(".point-info .dist").textContent=(l[0]/1e3).toFixed(1)+this.info.distanceUnitsKM,this.element.querySelector(".point-info .time").textContent=l[2],n>this.canvas_.width/a/2?this.popup_.classList.add("ol-left"):this.popup_.classList.remove("ol-left"),this.dispatchEvent({type:"over",click:"click"==t.type,coord:l[3],time:l[2],distance:l[0]})}else this.bar_.parentElement.classList.contains("over")&&(this.bar_.style.display="none",this.cursor_.style.display="none",this.bar_.parentElement.classList.remove("over"),this.dispatchEvent({type:"out"}))}},p.prototype.show=function(){this.element.classList.remove("ol-collapsed"),this.dispatchEvent({type:"show",show:!0})},p.prototype.hide=function(){this.element.classList.add("ol-collapsed"),this.dispatchEvent({type:"show",show:!1})},p.prototype.toggle=function(){this.element.classList.toggle("ol-collapsed");var t=this.element.classList.contains("ol-collapsed");this.dispatchEvent({type:"show",show:!t})},p.prototype.isShown=function(){return!this.element.classList.contains("ol-collapsed")},p.prototype.setGeometry=function(t,e){e||(e={}),t instanceof ol.Feature&&(t=t.getGeometry());var o=this.canvas_,i=o.getContext("2d"),n=o.width,r=o.height;if(i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,n,r),/Z/.test(t.getLayout())){/M/.test(t.getLayout())?this.element.querySelector(".time").parentElement.style.display="block":this.element.querySelector(".time").parentElement.style.display="none";var a=t.getCoordinates();switch(t.getType()){case"LineString":break;case"MultiLineString":a=a[0];break;default:return}var l=e.projection||this.getMap().getView().getProjection();i.setTransform(1,0,0,1,this.margin_.left,r-this.margin_.bottom);var s=this.ratio;n-=this.margin_.right+this.margin_.left,r-=this.margin_.top+this.margin_.bottom,i.strokeStyle="#000",i.lineWidth=.5*s,i.beginPath(),i.moveTo(0,0),i.lineTo(0,-r),i.moveTo(0,0),i.lineTo(n,0),i.stroke();var c,p,u,f,h,d,m,y=1/0,_=-1/0,v=this.tab_=[];for(c=0;p=a[c];c++)(f=p[2])<y&&(y=f),f>_&&(_=f),0==c?u=0:u+=(d=a[c-1],m=p,ol.sphere.getDistance(ol.proj.transform(d,l,"EPSG:4326"),ol.proj.transform(m,l,"EPSG:4326"))),h=C(a[0][3],p[3]),v.push([u,f,h,p]);this.element.querySelector(".track-info .zmin").textContent=y.toFixed(2)+this.info.altitudeUnits,this.element.querySelector(".track-info .zmax").textContent=_.toFixed(2)+this.info.altitudeUnits,this.element.querySelector(".track-info .dist").textContent=u>1e3?(u/1e3).toFixed(1)+this.info.distanceUnitsKM:u.toFixed(1)+this.info.distanceUnitsM;for(var g=e.graduation||100;;){if(!(r/(((_=Math.ceil(_/g)*g)-(y=Math.floor(y/g)*g))/g)<15*s))break;g*=2}"number"==typeof e.zmin&&y>e.zmin&&(y=e.zmin),"number"==typeof e.zmax&&_<e.zmax&&(_=e.zmax);var b=e.amplitude;b&&(_=Math.max(y+b,_));var w=n/u,M=-r/(_-y),P=this.dy_=-y*M;for(this.scale_=[w,M],i.font=10*s+"px arial",i.textAlign="right",i.textBaseline="middle",i.fillStyle="#000",i.beginPath(),c=y;c<=_;c+=g)"km"!=e.zunit?i.fillText(c,-4*s,c*M+P):i.fillText((c/1e3).toFixed(1),-4*s,c*M+P),i.moveTo(-2*s,c*M+P),0!=c?i.lineTo(u*w,c*M+P):i.lineTo(0,c*M+P);i.textAlign="center",i.textBaseline="top",i.setLineDash([s,3*s]);var S,x=e.unit||"km";for(u>1e3?(S=100*Math.round(u/1e3))>1e3&&(S=1e3*Math.ceil(S/1e3)):(x="m",S=u>100?10*Math.round(u/100):u>10?Math.round(u/10):u>1?Math.round(u)/10:u),c=0;c<=u;c+=S){var T="m"==x?c:c/1e3;i.fillText(Math.round(10*T)/10,c*w,4*s),i.moveTo(c*w,2*s),i.lineTo(c*w,0)}for(i.font=12*s+"px arial",i.fillText(this.info.xtitle.replace("(km)","("+x+")"),n/2,18*s),i.save(),i.rotate(-Math.PI/2),i.fillText(this.info.ytitle,r/2,-this.margin_.left),i.restore(),i.stroke(),i.strokeStyle="#368",i.lineWidth=3,i.setLineDash([]),i.beginPath(),c=0;p=v[c];c++)0==c?i.moveTo(p[0]*w,p[1]*M+P):i.lineTo(p[0]*w,p[1]*M+P);i.stroke()}function C(t,e){if(!t||!e)return"-";var o=(e-t)/60,i=Math.trunc(o/60),n=Math.trunc(o-60*i);return i+"h"+(n<10?"0":"")+n+"mn"}},p.prototype.getImage=function(t,e){return"canvas"===t?this.canvas_:this.canvas_.toDataURL(t,e)};var u=p;function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t,e,o){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(i){var n=Object.getOwnPropertyDescriptor(i,e);return n.get?n.get.call(o):n.value}})(t,e,o||t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=function(t){function e(t){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=d(this,y(e).call(this));var i=[t.distance,"EPSG:900913",t.serviceURL,"EPSG:4326"];o.distancePoinst_=i[0],o.mercator_=i[1],o.serviceURL=i[2],o.coordEPSG4326=i[3];var n=[null,null,null,null,null,null,null,null,null,null,null,null];o.projectionMap_=n[0],o.profil_=n[1],o.facadeMap_=n[2],o.vector_=n[3],o.source_=n[4],o.vectorProfile_=n[5],o.sourceProfile_=n[6],o.draw_=n[7],o.lineCoord_=n[8],o.pointsCoord_=n[9],o.dataPoints_=n[10],o.pt=n[11];var r=[null,null,null];return o.lineString_=r[0],o.feature_=r[1],o.style_=r[2],o}var o,i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(e,M.impl.Control),o=e,(i=[{key:"addTo",value:function(t,o){this.facadeMap_=t,this.initOlLayers(),m(y(e.prototype),"addTo",this).call(this,t,o)}},{key:"initOlLayers",value:function(){this.style_=function(t){return"LineString"==t.getGeometry().getType()?[new ol.style.Style({stroke:new ol.style.Stroke({color:"#4286f4",width:2})})]:[new ol.style.Style({image:new ol.style.Circle({radius:6,fill:new ol.style.Fill({color:"#4286f4"})}),stroke:new ol.style.Stroke({color:"#4286f4",width:2}),fill:new ol.style.Fill({color:"#4286f4"})})]},this.source_=new ol.source.Vector({wrapX:!1}),this.vector_=new ol.layer.Vector({source:this.source_,style:this.style_,name:"capatopo"}),this.sourceProfile_=new ol.source.Vector,this.vectorProfile_=new ol.layer.Vector({source:this.sourceProfile_}),this.vector_.setZIndex(1e3),this.facadeMap_.getMapImpl().addLayer(this.vector_),this.projectionMap_=this.facadeMap_.getProjection().code}},{key:"findNewPoints",value:function(t,e){var o,i,n=new String,r=ol.proj.transform(t,this.projectionMap_,this.mercator_),a=ol.proj.transform(e,this.projectionMap_,this.mercator_),l=this.getAngleBetweenPoints(r,a),s=this.getDistBetweenPoints(t,e);if(!(s<50)){for(var c=s/this.distancePoinst_>this.distancePoinst_?s/this.distancePoinst_:this.distancePoinst_,p=0;p<=s/c;p++){l>=0&&l<=90?(o=1,i=1):l>=90?(o=-1,i=1):l<=0&&l>=-90?(o=1,i=-1):(o=-1,i=-1);var u=[Math.cos(l*Math.PI/180)*(c*p)+r[0],Math.sin(l*Math.PI/180)*(c*p)+r[1]],f=[Math.cos(l*Math.PI/180)*(c*p+o)+r[0],Math.sin(l*Math.PI/180)*(c*p+i)+r[1]];n+=ol.proj.transform(u,this.mercator_,this.coordEPSG4326)+",",n+=ol.proj.transform(f,this.mercator_,this.coordEPSG4326)+"|"}return n}}},{key:"getDistBetweenPoints",value:function(t,e){return new ol.geom.LineString([ol.proj.transform(t,this.projectionMap_,this.mercator_),ol.proj.transform(e,this.projectionMap_,this.mercator_)]).getLength()}},{key:"getAngleBetweenPoints",value:function(t,e){var o=t[0],i=t[1],n=e[0],r=e[1];return 180*Math.atan2(r-i,n-o)/Math.PI}},{key:"startLoad",value:function(){document.body.style.cursor="wait",this.deactivate(),document.querySelector(".m-topographicprofile.activated").style.pointerEvents="none"}},{key:"endLoad",value:function(){document.body.style.cursor="default",this.activate(),document.querySelector(".m-topographicprofile.activated").style.pointerEvents="auto"}},{key:"activate",value:function(){this.draw_||this.createIteraction("LineString"),this.facadeMap_.getMapImpl().addInteraction(this.draw_),document.querySelector("#m-topographicprofile-btn").classList.add("activated")}},{key:"createIteraction",value:function(t){this.draw_=new ol.interaction.Draw({source:this.source_,type:t}),this.draw_.on("drawstart",function(t){this.projectionMap_=this.facadeMap_.getProjection().code,this.clearLayer()}.bind(this)),this.draw_.on("drawend",function(t){this.lineCoord_=t.feature.getGeometry().getCoordinates(),this.pointsCoord_=new String;for(var e=1;e<this.lineCoord_.length;e++)this.pointsCoord_=this.pointsCoord_.concat(this.findNewPoints(this.lineCoord_[e-1],this.lineCoord_[e]));this.getDataFromGGISCore()}.bind(this))}},{key:"getDataFromGGISCore",value:function(){var t=this;if(this.pointsCoord_){var e=this.pointsCoord_.split("|"),o=[],i=[];(e=e.filter((function(t){return""!==t&&t.trim().length>3}))).forEach((function(t){var e="".concat("https://servicios.idee.es/wcs-inspire/mdt?request=GetCoverage&bbox=").concat(t).concat("&service=WCS&version=1.0.0&coverage=Elevacion4258_500&interpolationMethod=bilinear&crs=EPSG%3A4258&format=ArcGrid&width=2&height=2");i.push(M.remote.get(e))})),Promise.all(i).then((function(i){i.forEach((function(t){var e=t.text.split("dy")[1].split(" ").filter((function(t){return""!==t}))[1];o.push(parseFloat(e))}));var n=[];o.forEach((function(t,o){var i=e[o].split(","),r=ol.extent.getCenter([parseFloat(i[0]),parseFloat(i[1]),parseFloat(i[2]),parseFloat(i[3])]);n.push([r[0],r[1],t])})),t.controlProfile();var r=n.map((function(e){return ol.proj.transform(e,"EPSG:4326",t.facadeMap_.getProjection().code)}));t.lineString_.setCoordinates(r)})).catch((function(){M.dialog.error("No se han obtenido datos")}))}}},{key:"controlProfile",value:function(){if(!this.profil_){this.lineString_=new ol.geom.LineString([]),this.feature_=new ol.Feature({geometry:this.lineString_,name:"Line"}),this.sourceProfile_.addFeature(this.feature_),this.profil_=new u({info:{zmin:s("profil.zmin"),zmax:s("profil.zmax"),altitude:s("profil.altitude"),distance:s("profil.distance"),ytitle:s("profil.ytitle"),xtitle:s("profil.xtitle"),altitudeUnits:"m",distanceUnitsM:"m",distanceUnitsKM:"km"},projection:this.facadeMap_.getProjection().code,map:this.facadeMap_.getMapImpl(),source:this.source_}),this.facadeMap_.getMapImpl().addControl(this.profil_);var t=function(t){this.pt&&("over"==t.type?(this.pt.setGeometry(new ol.geom.Point(t.coord)),this.pt.setStyle([new ol.style.Style({image:new ol.style.Circle({radius:7,fill:new ol.style.Fill({color:"#ff0000"})})})])):this.pt.setStyle([]))}.bind(this);this.sourceProfile_.once("change",function(t){"ready"===this.sourceProfile_.getState()&&(this.profil_.setGeometry(this.sourceProfile_.getFeatures()[0]),this.pt=new ol.Feature(new ol.geom.Point([0,0])),this.pt.setStyle([]),this.source_.addFeature(this.pt))}.bind(this)),this.profil_.on(["over","out"],function(e){"over"==e.type&&this.profil_.popup(e.coord[2]+" m"),t(e)}.bind(this))}this.profil_.show()}},{key:"deactivate",value:function(){this.draw_&&(this.facadeMap_.getMapImpl().removeInteraction(this.draw_),this.clearLayer(),document.querySelector("#m-topographicprofile-btn").classList.remove("activated"))}},{key:"clearLayer",value:function(){this.source_.clear(),this.profil_&&(this.profil_.hide(),this.sourceProfile_.clear(),this.facadeMap_.getMapImpl().removeControl(this.profil_),this.profil_=null)}},{key:"removeLayer",value:function(){this.deactivate(),this.clearLayer(),this.facadeMap_.getMapImpl().removeLayer(this.vector_)}},{key:"destroy",value:function(){this.removeLayer(),this.facadeMap_.getMapImpl().removeControl(this)}},{key:"toggle",value:function(){this.profil_&&this.profil_.toggle()}}])&&h(o.prototype,i),n&&h(o,n),e}(),g=o(2),b=o.n(g);function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function S(t,e){return!e||"object"!==w(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function x(t,e,o){return(x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=T(t)););return t}(t,e);if(i){var n=Object.getOwnPropertyDescriptor(i,e);return n.get?n.get.call(o):n.value}})(t,e,o||t)}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var E=function(t){function e(t){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),M.utils.isUndefined(v)&&M.exception("La implementación usada no puede crear controles TopographicprofileControl");var i=new v(t),n=[null,null,null,null,null,i,t];return(o=S(this,T(e).call(this,i,"Topographicprofile"))).btnData_=n[0],o.btnRemove_=n[1],o.facadeMap_=n[2],o.html_=n[3],o.drawCtrl_=n[4],o.opts=n[5],o}var o,i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(e,M.Control),o=e,(i=[{key:"createView",value:function(t){var e=this;return M.template.compileSync||(M.template.compileSync=function(t,e){var o,i={};M.utils.isUndefined(e)||(i=M.utils.extends(i,e.vars),o=e.parseToHtml);var n=Handlebars.compile(t)(i);return!1!==o?M.utils.stringToHtml(n):n}),this.facadeMap_=t,new Promise((function(t,o){var i=M.template.compileSync(b.a);e.template_=i,i.querySelector("#m-topographicprofile-btn").title=s("title"),t(i)}))}},{key:"getActivationButton",value:function(t){return t.querySelector("#m-topographicprofile-btn")}},{key:"deactivate",value:function(){x(T(e.prototype),"deactivate",this).call(this)}},{key:"equals",value:function(t){return t instanceof e}}])&&P(o.prototype,i),n&&P(o,n),e}(),L=o(3);function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function z(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var G=function(t){function e(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return j(this,e),(t=z(this,I(e).call(this))).map_=null,t.controls_=[],t.position_=o.position?o.position:"TR",t.metadata_=L.metadata,t.facadeMap_=null,t.panel_=null,t.control_=null,t.options_=o,t.options_.distance=o.distance||30,t}var o,i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}(e,M.Plugin),o=e,(i=[{key:"addTo",value:function(t){this.controls_.push(new E(this.options_)),this.map_=t,this.panel_=new M.ui.Panel("panelTopographicprofile",{className:"m-topographicprofile",collapsedButtonClass:"icon-chart",position:M.ui.position[this.position_],tooltip:s("tooltip")}),this.panel_.addControls(this.controls_),t.addPanels(this.panel_)}},{key:"getMetadata",value:function(){return this.metadata_}},{key:"getAPIRest",value:function(){return"".concat(this.name,"=").concat(this.position_)}},{key:"destroy",value:function(){this.map_.removeControls(this.controls_);var t=[null,null,null];this.map_=t[0],this.controls_=t[1],this.panel_=t[2]}},{key:"name",get:function(){return"topographicprofile"}}])&&O(o.prototype,i),n&&O(o,n),e}();window.M.plugin||(window.M.plugin={}),window.M.control||(window.M.control={}),window.M.impl||(window.M.impl={}),window.M.impl.control||(window.M.impl.control={}),window.M.plugin.Topographicprofile=G,window.M.control.Topographicprofilecontrol=E,window.M.impl.control.TopographicprofileControl=v}]);
//# sourceMappingURL=topographicprofile.ol.min.js.map