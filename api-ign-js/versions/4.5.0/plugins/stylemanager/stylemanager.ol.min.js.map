{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/chroma-js/chroma.js","webpack:///./src/templates/attributestemplate.html","webpack:///./src/templates/categorystyles.html","webpack:///./src/templates/simpleoptions.html","webpack:///./src/templates/stylemanager.html","webpack:///./src/templates/selectlayer.html","webpack:///./src/templates/stylesimple.html","webpack:///./src/templates/styleproportional.html","webpack:///./src/templates/stylecluster.html","webpack:///./src/templates/stylechoropleth.html","webpack:///./src/templates/stylecategory.html","webpack:///./src/templates/styleheatmap.html","webpack:///./src/templates/stylechart.html","webpack:///./src/templates/buttonoptions.html","webpack:///./src/templates/gradientheatmap.html","webpack:///./src/templates/colorchoropleth.html","webpack:///./src/templates/buttonoptions2.html","webpack:///./src/templates/variablechart.html","webpack:///./src/templates/paginationchart.html","webpack:///./src/templates/attributeschart.html","webpack:///./src/templates/styleflowline.html","webpack:///./src/impl/ol/js/stylemanagerControl.js","webpack:///./src/facade/js/i18n/language.js","webpack:///./src/facade/js/binding/binding.js","webpack:///./src/facade/js/binding/simplebinding.js","webpack:///./src/facade/js/binding/proportionalbinding.js","webpack:///./src/facade/js/binding/clusterbinding.js","webpack:///./src/facade/js/binding/heatmapbinding.js","webpack:///./src/facade/js/binding/choroplethbinding.js","webpack:///./src/facade/js/binding/simplecategorybinding.js","webpack:///./src/facade/js/binding/categorybinding.js","webpack:///./src/facade/js/binding/chartbinding.js","webpack:///./src/facade/js/binding/flowlinebinding.js","webpack:///./src/facade/js/bindingcontroller.js","webpack:///./src/facade/js/stylemanagerControl.js","webpack:///./src/facade/js/utils/colorpicker.js","webpack:///./src/facade/js/stylemanager.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","limit$2","x","min","max","limit$1","classToType","i$1","list$1","length","toLowerCase","type$p","obj","toString","type$o","type$n","PI$2","Math","PI","utils","clip_rgb","rgb","_clipped","_unclipped","slice","limit","type","unpack","args","keyOrder","Array","split","filter","k","undefined","map","last","TWOPI","PITHIRD","DEG2RAD","RAD2DEG","input$h","format","autodetect","last$3","clip_rgb$2","type$m","_input","Color$D","len","arguments","me","this","constructor","sorted","sort","a","b","list","chk","test","apply","Error","_rgb","push","hex","join","Color_1","chroma$k","Function","Color","concat","version","chroma_1","unpack$A","max$2","unpack$z","cmyk2rgb_1","y","alpha","chroma$j","Color$C","input$g","unpack$y","type$l","rgb2cmyk","ref","g","f","cmyk","unpack$x","last$2","rnd","round","unpack$w","rgb2hsl_1","h","Number","NaN","unpack$v","last$1","hsl2css","hsla","rgb2hsl$2","round$6","rgb2css_1","rgba","substr","unpack$u","round$5","hsl2rgb_1","assign","t3","t2","t1","h_","hsl2rgb","input$f","RE_RGB","RE_RGBA","RE_RGB_PCT","RE_RGBA_PCT","RE_HSL","RE_HSLA","round$4","css2rgb$1","css","trim","named","e","match","rgb$1","rgb$2","i$2","rgb$3","i$3","hsl","rgb$4","hsl$1","rgb$5","chroma$i","Color$B","input$e","type$k","rgb2css","css2rgb","rest","Color$A","chroma$h","unpack$t","gl","unpack$s","rgb2hcg_1","delta","_g","unpack$r","floor$3","floor","hcg2rgb_1","assign$1","assign$2","assign$3","assign$4","assign$5","_c","q","v","unpack$q","type$j","chroma$g","Color$z","input$c","rgb2hcg","hcg","unpack$p","round$3","rgb2hex_1","u","str","hxa","RE_HEX","RE_HEXA","hex2rgb_1","parseInt","u$1","chroma$f","Color$y","type$i","input$b","rgb2hex$1","indexOf","unpack$o","TWOPI$2","min$2","sqrt$4","sqrt","acos","rgb2hsi_1","min_","unpack$n","TWOPI$1","cos$4","cos","hsi2rgb_1","isNaN","unpack$m","type$h","chroma$e","Color$x","input$a","rgb2hsi","hsi","unpack$l","type$g","chroma$d","Color$w","input$9","rgb2hsl$1","unpack$k","min$1","max$1","rgb2hsv$1","max_","unpack$j","floor$2","hsv2rgb_1","unpack$i","type$f","chroma$c","Color$v","input$8","rgb2hsv","hsv","labConstants","Kn","Xn","Yn","Zn","t0","LAB_CONSTANTS$3","unpack$h","pow$a","pow","rgb_xyz","xyz_lab","rgb2xyz","rgb2lab_1","ref$1","z","LAB_CONSTANTS$2","unpack$g","pow$9","xyz_rgb","lab_xyz","lab2rgb_1","unpack$f","type$e","chroma$b","Color$u","input$7","rgb2lab$1","lab","unpack$e","sqrt$3","atan2$2","atan2","round$2","lab2lch_1","unpack$d","rgb2lab","lab2lch$1","rgb2lch_1","b_","unpack$c","sin$3","sin","cos$3","lch2lab_1","unpack$b","lch2lab$1","lab2rgb","lch2rgb_1","L","unpack$a","lch2rgb","hcl2rgb_1","hcl","reverse","unpack$9","type$d","chroma$a","Color$t","input$6","rgb2lch","lch","forEach","w3cx11_1","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflower","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","laserlemon","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrod","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","maroon2","maroon3","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","purple2","purple3","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","input$5","type$c","w3cx11","hex2rgb","rgb2hex","keys","unpack$8","type$b","num2rgb_1","num","chroma$9","Color$r","input$4","type$a","rgb2num","chroma$8","Color$q","input$3","unpack$7","type$9","round$1","log$1","log","temperature2rgb_1","kelvin","temp","temperature2rgb","unpack$6","chroma$7","Color$p","input$2","rgb2temperature","minTemp","maxTemp","eps","temperature","unpack$5","cbrt","pow$8","sign$1","sign","rgb2oklab_1","rgb2lrgb","lr","lg","lb","abs","unpack$4","pow$7","oklab2rgb_1","lrgb2rgb","unpack$3","type$8","chroma$6","Color$o","input$1","rgb2oklab$1","oklab","unpack$2","rgb2oklab","lab2lch","unpack$1","lch2lab","oklab2rgb","oklch2rgb_1","type$7","chroma$5","Color$n","input","rgb2oklch","oklch","Color$m","type$6","mutate","clipped","Color$k","LAB_CONSTANTS$1","darken","amount","brighten","darker","brighter","mc","channel","src","Color$i","type$5","pow$6","luminance","lum","cur_lum","max_iter","low","high","mid","interpolate","lm","rgb2luminance","luminance_x","interpolator$1","Color$h","type$4","interpolator","mix$1","col1","col2","Color$g","mix","Color$f","premultiply","Color$e","LAB_CONSTANTS","saturate","desaturate","Color$d","type$3","set","charAt","out","Color$c","xyz0","xyz1","Color$b","sqrt$2","pow$5","lrgb","x1","y1","z1","x2","y2","z2","Color$a","Color$9","_hsx","hue0","hue1","sat0","sat1","lbv0","lbv1","sat","hue","lbv","interpolate_hsx$5","Color$8","c1","c2","interpolate_hsx$4","interpolate_hsx$3","interpolate_hsx$2","interpolate_hsx$1","Color$7","interpolate_hsx","Color$6","clip_rgb$1","pow$4","sqrt$1","PI$1","cos$2","sin$2","atan2$1","_average_lrgb","colors","weights","xyz","col","chroma$4","type$2","pow$3","scale$2","_mode","_nacol","_spread","_domain","_pos","_padding","_classes","_colors","_out","_min","_max","_correctLightness","_colorCache","_useCache","_gamma","setColors","brewer","c$1","resetCache","tMapLightness","tMapDomain","getColor","val","bypassMap","getClass","classes","analyze","limits","domain","from","tOut","tBreaks","every","_m","range","_o","spread","correctLightness","L0","L1","pol","L_actual","L_ideal","L_diff","padding","numColors","result","dm","dd","__range__","samples","end","asc","cache","gamma","nodata","left","right","inclusive","ascending","Color$5","scale$1","bezier","I","lab0","lab1","lab2","lab3","RangeError","labs","row","newrow","j","binom_row","reduce","sum","el","chroma$3","blend","bottom","top","blend_f","c0","each","normal","multiply","screen","overlay","lighten","dodge","burn","blend_1","type$1","pow$2","sin$1","cos$1","chroma$2","Color$4","floor$1","random","pow$1","abs$1","data","MAX_VALUE","values","count","min_log","LOG10E","max_log","pb","pr","cluster","assignments","clusterSizes","repeat","nb_iters","centroids","i$4","mindist","best","j$1","dist","newCentroids","j$2","i$5","j$3","j$4","kClusters","j$5","i$6","tmpKMeansBreaks","j$6","i$7","analyze_1","Color$3","Color$2","exp","Color$1","chroma$1","scale","scales","cool","hot","colorbrewer","OrRd","PuBu","BuPu","Oranges","BuGn","YlOrBr","YlGn","Reds","RdPu","Greens","YlGnBu","Purples","GnBu","Greys","YlOrRd","PuRd","Blues","PuBuGn","Viridis","Spectral","RdYlGn","RdBu","PiYG","PRGn","RdYlBu","BrBG","RdGy","PuOr","Set2","Accent","Set1","Set3","Dark2","Paired","Pastel2","Pastel1","colorbrewer_1","chroma","average","w","first","shift","cnt","dx","dy","A","ci","xyz2","A$1","cubehelix","start","rotations","lightness","dl","dh","fract","amp","cos_a","sin_a","code","contrast","l1","l2","deltaE","Kl","Kc","Kh","rad2deg","rad","deg2rad","deg","a1","b1","L2","a2","b2","avgL","C1","C2","avgC","G","a1p","a2p","C1p","C2p","avgCp","arctan1","arctan2","h1p","h2p","avgHp","T","deltaHp","deltaL","deltaCp","sl","sc","sh","deltaTheta","Rt","distance","sum_sq","valid","factory","StyleManagerControl","_M$impl$Control","_inherits","M","impl","Control","_super","_createSuper","_classCallCheck","html","_get","_getPrototypeOf","translations","en","es","getLang","res","language","getTranslation","lang","fulltoc","getValue","keyPath","translation","isNullOrEmpty","console","warn","prev","current","Binding","htmlParent","styleType","style","layer","translations_","options","pointOptions","lineOptions","polygonOptions","opacity","radius","width","pattern","size","space","rotation","none","text","font","horizontalAlignment","verticalAlignment","enableRotation","fitGeometry","minimumWidth","smooth","overflow","hidden","visible","ellipsis","labelStroke","stroke","label","anchorage","form","family","iconSize","gradient","iconColor","legend","showLabel","fill","border","bulk","attributes","minimumRadius","maximumRadius","attribute","addColor","blur","ranks","rank","numberRanks","ranges","adjust","since","until","envelope","quantity","selectable","animated","points","fanDistance","textColor","algorithm","arithmeticProgression","equalIntervals","geometricProgression","meanSigma","naturalBreaks","quantile","colorRamp","cake","tDcake","donut","graphic","classic","dark","pale","neon","pie","xAxis","yAxis","addAttribute","initial","final","arrow","arrowColor","modifySVG","htmlParent_","htmlTemplate_","html_","activated_","selected_","disabled_","layer_","activateButton_","querySelector","selectButton_","style_","styleType_","compilePromise_","initializeView","path","isArray","keyLength","_toConsumableArray","isObject","createObj","htmlName","opt","_objectSpread","Promise","resolve","template","compileSync","vars","_this","optsTemplate","getOptionsTemplate","compileTemplate","then","appendChild","callback","innerHTML","styleOpts","querySelectorAllForEach","element","prop","dataset","checked","parseFloat","id","flag","classList","replace","unhide","hide","disabled","add","setSelected","setActivated","remove","getTemplate","selector","querySelectorAll","scope","getParentTemplate","querySelectorAllParent","_this2","Vector","attributeNames","filterAttributesFeature","selectElement","attributestemplate","deactivateBinding","activateBinding","getAllFeaturesAttributes","getFeatures","getAttributes","allFeatures","getFeaturesAttributes","fs","option","addEventListener","document","createElement","innerText","removeChild","SimpleBinding","_Binding","styleParams","controller","controller_","infoListener","selected","arrayId","arrayName","index","def","color","spacing","offset","linedash","linedashoffset","linecap","linejoin","align","baseline","rotate","icon","anchor","class","refresh","refreshTemplate","geometry","GEOMETRIES","includes","geometry_","node","refreshOptionsButtons","addLabelPathListener","OPTIONS_POINT_SUBMENU","addOptionsButtons","compatibleSectionListener","dialog","info","_this3","parentHtml","hideAllOptionsSections","addTemplate","buttonoptions","buttonsParams","toggleCheckOptionSection","activateOptionSection","activateOptionsStyle","addEventCheckFromSubmenu","_this4","querySelectorAllForEachParent","selectPanel","iconSelect","replaceWith","cloneNode","eventOpenIconSelector","eventSelectIcon","familySelect","changeFamilyFont","famSelector","fmSIcon","fmSIconArray","fam","dispatchEvent","window","Event","FlowLine","getOptions","valuesFillPoint","point","valuesFillLine","line","valuesFillPolygon","polygon","checkOptionSection","disableOption","ev","iconDialog","target","contains","iconSelected","display","elem","_this5","pathCheckLine","togglePathSection","_this6","event","toggleCheckOptSectionListener","activateOption","inputSection","_this7","querySelectorParent","checkbox","activateLabel","displaySectionOption","showOptionSection","_this8","isEmptyValue","value1S","value2S","value2","labelOptPoint","labelOptPolygon","labelOptLine","fontSizePoint","fontFamilyPoint","fontPoint","fontSizePolygon","fontFamilyPolygon","fontPolygon","fontSizeLine","fontFamilyLine","fontLine","iconOpts","processOptions","styleOptsClone","checkedFill","isChecked","checkedStroke","checkedLabel","checkedIcon","checkedForm","styleOptions","generateOptions","Generic","optionEnable","optionDisable","_this9","enableOption","clickable","hideOptionSection","DEFAULT_OPTIONS_STYLE","patternValids","alignValues","baselineValues","formValues","linejoins","linecapstrokes","alings","arrayDataToTemplate","baseLines","labelTextValues","labelTextSelectedPoint","labelTextSelectedPolygon","labelTextSelectedLine","imgId_","funct","generateStyle","clone","Point","RADIUS_OPTION","ICON_RADIUS_OPTION","img","updateCanvas","dataURL","toImage","ProportionalBinding","opts","attributeName","scaledName","flannery","Proportional","minRadius","maxRadius","pfunction","options_","getAttributeName","getMinRadius","getMaxRadius","proportionalFunction","ClusterBinding","addEventRangeListener","addPaginationListener","Cluster","distanceSelectFeatures","rangesInput","numRanges","NUMBER_RANGES","setAttribute","removeAttribute","pagerElement","paginationListener","oldElement","oldId","oldRange","setRanges","rangeOpt","lastRange","maxVar","minVar","hoverInteraction","displayAmount","selectInteraction","maxFeaturesToSelect","HeatmapBinding","removeGradientListener","addGradientListener","numberAddedColors_","parentElement","parent","htmlgradient","htmlg","MAX_NUMBER_COLORS","setRandomColor","inputColor","randomColor","Heatmap","getRadius","getBlurSize","getGradient","ChoroplethBinding","addColorListener","rangesButton","number","rangesArray","quantification","ARITHMETIC_PROGRESSION","EQUAL_INTERVAL","GEOMETRIC_PROGRESSION","MEDIA_SIGMA","JENKS","QUANTILE","Choropleth","numberColors","addColorTemplate","colorchoropleth","numbercolor","append","children","addColors","startColorVar","getChoroplethStyles","endColorVar","getQuantification","startColor","endColor","SimpleCategoryBinding","binding","fill_","stroke_","label_","form_","icon_","binding_","gradientcolor","getGeometry","hiddenGeometries","section","geo","pathCheck","labelOpt","fontSize","fontFamily","Line","Polygon","error","labelTextSelected","bool","HTMLDivElement","refreshLegend","HTMLSelectElement","CategoryBinding","styleCategories_","renderAttributeOptions","selectedCategory_","clickedOnTable_","setAttributes","toggleCategory","OPTIONS_SUBMENU","buttonoptions2","addEventOptionListener","addEventCheckListener","deactivateSubmenu","setCompatibleStylePanels","showActivePanel","simpleBinding","activateSubmenu","checkInput","showCompatibleSections","simpleBin","setLayer","selectButton","attributeExists","getAllValuesAttribute","valu","splice","MAXNUMBER_CATEGORIES","removeCategories","createCategories","addCategoriesView","categorystyles","addEventClickListener","addEventSelectedListener","addLegendListenerAll","categoriesStyle","getCategories","categoryStyle","simpleoptions","setGeometryCategory","otherCategory","destroy","_this10","category","_this11","hideSection","showSection","activeSection","_this12","checkSection","_this13","setSelectedRow","_this14","feature","getAttribute","pos","arr","_this15","styleCategories","Category","_this16","imgId","addLegendListener","ChartBinding","variables_","variables","variable","addKeyEnterListener","addRenderCompatibleListener","addAttributeListener","refreshVariables","renderAttributes","attr","attr2","addVariableTemplate","refreshPagination","addAttributeFromParamenter","addAttributeFromInput","keyEnterListener","evt","DEFAULT_OPTIONS_VARIABLE","find","vari","variablechart","removeElement","addRemoveVarSectionListener","addLabelOptionListener","removeVariableTemplate","removeVariableSection","removeVarSectionListener","paginationchart","addClickPagerListener","firstAttr","showVariableSection","element2","clickPagerListener","activePageListener","selectType","selectedOptions","renderCompatibleOpts","renderCompatibleListener","attributeschart","toggleLabelOptions","optVars","labelshow","tot","curr","varsOpts","generateVariableOptions","scheme","chart","schemes","Chart","donutRadio","donutRadius","offsetX","offsetY","Variable","fill3DColor","getSchemeName","nameAux","schemesChart","array","array2","include","include2","donutRatio","rotateWithView","radiusIncrement","FlowLineBinding","color2","width2","lineCap","offset0","offset1","ar","BindingController","activePanel_","selectedPanels_","renderViews","stylesimple","styleproportional","stylechoropleth","stylecategory","stylecluster","styleheatmap","stylechart","styleflowline","generic","Simple","styleBinding","getStyle","Composite","getStyles","styleEl","bindings_","getCompilePromise","addSelectOnChangeListener","addEventSubtitle","allCompilePromises_","getBindings","promises","all","toggleDisplaySubmenu","addSelectedPanel","style2","setDisabled","destroyViews","renderViewsPromise","resetOptions","setCompatiblePanels","initBindings","addActiveListener","addSelectListener","setGeometry","getKeysBindings","enablePanel","disablePanel","deactivateAll","unselectAll","styles","parseStyleToName","showCompatiblePanel","activeLastSelected","GEOMETRY_COMPATIBLE_OPTIONS","bindLayer","disableAll","getCompatibles","compatibleGeometry","setActivePanel","lastSelected","removeSelectedPanel","bindingStyle","getSelectButton","activeButton","getActivateButton","flap","getSelectedPanels","mainStyle","getMainStyle","getIndividualStyles","equals","isCompatibleAll","STYLE_COMPATIBLE_OPTIONS","isCompatible","currentTarget","nextElementSibling","firstElementChild","_M$Control","isUndefined","StyleManagerImplControl","exception","facadeMap_","layers","getWFS","getMVT","getKML","getLayers","success","fail","stylemanager","jsonp","selectLayer","applyStyle","clearStyle","generateSerialized","heatMap","choropleths","proportional","statistic","flowLine","htmlSelect","container","bindinController_","subscribeAddedLayer","addApplyBtnListener","addClearBtnListener","addSerializedBtnListener","renderOptionsLayerParam","loadFonts","getAllCompilePromises","renderOptions","htmlRes","selectlayer","serializedStyle","on","ADDED_LAYER","MBTilesVector","addLayerOption","isNotAdded","htmlOption","layerName","some","getLayerByName","features","selectedIndex","change","showBoxes","addOpenAttribute","setStyle","serialize","body","select","execCommand","Font","addSymbol","copyright","prefi","control","ColorPickerPolyfill","nativeColorPicker","started","inputs","hasNativeColorSupport","init","inputId","getElementById","unselectable","backgroundColor","borderWidth","cursor","onfocus","onFocus","objectElement","classid","height","off","ChooseColorDlg","substring","props","StyleManager","_M$Plugin","Plugin","map_","controls_","position_","position","collapsed_","collapsed","collapsible_","collapsible","panel_","tooltip_","tooltip","extendsObj","ui","Panel","NAME","className","collapsedButtonClass","addControls","addPanels","encodeBase64","removeControls","_ref","control_","plugin","M$plugin$StyleManager"],"mappings":"aACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QAKfF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,I;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxBchC,EAAOD,QAGjE,WAAe,aA2BpB,IAzBA,IAAIkC,EAAU,SAAUC,EAAGC,EAAKC,GAI5B,YAHa,IAARD,IAAiBA,EAAI,QACb,IAARC,IAAiBA,EAAI,GAEnBF,EAAIC,EAAMA,EAAMD,EAAIE,EAAMA,EAAMF,GAGvCG,EAAUJ,EAiBVK,EAAc,GACTC,EAAM,EAAGC,EAAS,CAAC,UAAW,SAAU,SAAU,WAAY,QAAS,OAAQ,SAAU,YAAa,QAASD,EAAMC,EAAOC,OAAQF,GAAO,EAAG,CACnJ,IAAI/B,EAAOgC,EAAOD,GAElBD,EAAa,WAAa9B,EAAO,KAAQA,EAAKkC,cAElD,IAAIC,EAAS,SAASC,GAClB,OAAON,EAAY3B,OAAOkB,UAAUgB,SAASzC,KAAKwC,KAAS,UAG3DE,EAASH,EAmBTI,EAASJ,EASTK,EAAOC,KAAKC,GAEZC,EAAQ,CACXC,SAxDgB,SAAUC,GACvBA,EAAIC,UAAW,EACfD,EAAIE,WAAaF,EAAIG,MAAM,GAC3B,IAAK,IAAIvD,EAAE,EAAGA,GAAG,EAAGA,IACZA,EAAI,IACAoD,EAAIpD,GAAK,GAAKoD,EAAIpD,GAAK,OAAOoD,EAAIC,UAAW,GACjDD,EAAIpD,GAAKoC,EAAQgB,EAAIpD,GAAI,EAAG,MACf,IAANA,IACPoD,EAAIpD,GAAKoC,EAAQgB,EAAIpD,GAAI,EAAG,IAGpC,OAAOoD,GA8CVI,MAAOxB,EACPyB,KAAMf,EACNgB,OAhCc,SAAUC,EAAMC,GAI3B,YAHkB,IAAbA,IAAsBA,EAAS,MAGhCD,EAAKnB,QAAU,EAAYqB,MAAMjC,UAAU2B,MAAMpD,KAAKwD,GAGtC,UAAnBd,EAAOc,EAAK,KAAmBC,EAC3BA,EAASE,MAAM,IACpBC,QAAO,SAAUC,GAAK,YAAsBC,IAAfN,EAAK,GAAGK,MACrCE,KAAI,SAAUF,GAAK,OAAOL,EAAK,GAAGK,MAI3BL,EAAK,IAmBfQ,KAdY,SAAUR,GACnB,GAAIA,EAAKnB,OAAS,EAAK,OAAO,KAC9B,IAAIvC,EAAI0D,EAAKnB,OAAO,EACpB,MAAuB,UAAnBM,EAAOa,EAAK1D,IAA0B0D,EAAK1D,GAAGwC,cAC3C,MAWVQ,GAAIF,EACJqB,MAAY,EAALrB,EACPsB,QAAStB,EAAK,EACduB,QAASvB,EAAO,IAChBwB,QAAS,IAAMxB,GAGZyB,EAAU,CACbC,OAAQ,GACRC,WAAY,IAGTC,EAASzB,EAAMiB,KACfS,EAAa1B,EAAMC,SACnB0B,EAAS3B,EAAMO,KACfqB,EAASN,EAETO,EAAU,WAEV,IADA,IAAIpB,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,IAAIE,EAAKC,KACT,GAAwB,WAApBN,EAAOlB,EAAK,KACZA,EAAK,GAAGyB,aACRzB,EAAK,GAAGyB,cAAgBD,KAAKC,YAE7B,OAAOzB,EAAK,GAIhB,IAAIxC,EAAOwD,EAAOhB,GACde,GAAa,EAEjB,IAAKvD,EAAM,CACPuD,GAAa,EACRI,EAAOO,SACRP,EAAOJ,WAAaI,EAAOJ,WAAWY,MAAK,SAAUC,EAAEC,GAAK,OAAOA,EAAE1D,EAAIyD,EAAEzD,KAC3EgD,EAAOO,QAAS,GAGpB,IAAK,IAAIrF,EAAI,EAAGyF,EAAOX,EAAOJ,WAAY1E,EAAIyF,EAAKjD,OAAQxC,GAAK,EAAG,CAC/D,IAAI0F,EAAMD,EAAKzF,GAGf,GADAmB,EAAOuE,EAAIC,KAAKC,MAAMF,EAAK/B,GACf,OAIpB,IAAImB,EAAOL,OAAOtD,GAId,MAAM,IAAI0E,MAAM,mBAAmBlC,GAHnC,IAAIP,EAAM0B,EAAOL,OAAOtD,GAAMyE,MAAM,KAAMlB,EAAaf,EAAOA,EAAKJ,MAAM,GAAG,IAC5E2B,EAAGY,KAAOlB,EAAWxB,GAMF,IAAnB8B,EAAGY,KAAKtD,QAAgB0C,EAAGY,KAAKC,KAAK,IAG7ChB,EAAQnD,UAAUgB,SAAW,WACzB,MAAwB,YAApBiC,EAAOM,KAAKa,KAA6Bb,KAAKa,MAC1C,IAAOb,KAAKW,KAAKG,KAAK,KAAQ,KAG1C,IAAIC,EAAUnB,EAEVoB,EAAW,WAEd,IADA,IAAIxC,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,OAAO,IAAKoB,SAASxE,UAAUJ,KAAKoE,MAAOO,EAASE,MAAO,CAAE,MAAOC,OAAQ3C,MAG7EwC,EAASE,MAAQH,EACjBC,EAASI,QAAU,QAEnB,IAAIC,EAAWL,EAEXM,EAAWvD,EAAMQ,OACjBgD,EAAQ1D,KAAKb,IAuBbwE,EAAWzD,EAAMQ,OAqBjBkD,EAnBW,WAEX,IADA,IAAIjD,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAGzC,IAAI3E,GADJsD,EAAOgD,EAAShD,EAAM,SACT,GACTvD,EAAIuD,EAAK,GACTkD,EAAIlD,EAAK,GACTK,EAAIL,EAAK,GACTmD,EAAQnD,EAAKnB,OAAS,EAAImB,EAAK,GAAK,EACxC,OAAU,IAANK,EAAkB,CAAC,EAAE,EAAE,EAAE8C,GACtB,CACHzG,GAAK,EAAI,EAAI,KAAO,EAAEA,IAAM,EAAE2D,GAC9B5D,GAAK,EAAI,EAAI,KAAO,EAAEA,IAAM,EAAE4D,GAC9B6C,GAAK,EAAI,EAAI,KAAO,EAAEA,IAAM,EAAE7C,GAC9B8C,IAMJC,EAAWP,EACXQ,EAAUd,EACVe,EAAUzC,EACV0C,EAAWhE,EAAMQ,OACjByD,EAASjE,EAAMO,KAEf2D,EAlDa,WAEb,IADA,IAAIzD,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,IAAIqC,EAAMZ,EAAS9C,EAAM,OACrB7C,EAAIuG,EAAI,GACRC,EAAID,EAAI,GACR7B,EAAI6B,EAAI,GAIRrD,EAAI,EAAI0C,EAHZ5F,GAAQ,IAGY4F,EAFpBY,GAAQ,IACR9B,GAAQ,MAEJ+B,EAAIvD,EAAI,EAAI,GAAK,EAAEA,GAAK,EACxB3D,GAAK,EAAES,EAAEkD,GAAKuD,EACdnH,GAAK,EAAEkH,EAAEtD,GAAKuD,EACdV,GAAK,EAAErB,EAAExB,GAAKuD,EAClB,MAAO,CAAClH,EAAED,EAAEyG,EAAE7C,IAoClBgD,EAAQpF,UAAU4F,KAAO,WACrB,OAAOJ,EAASjC,KAAKW,OAGzBiB,EAASS,KAAO,WAEZ,IADA,IAAI7D,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,OAAO,IAAKoB,SAASxE,UAAUJ,KAAKoE,MAAOoB,EAAS,CAAE,MAAOV,OAAQ3C,EAAM,CAAC,YAGhFsD,EAAQxC,OAAO+C,KAAOZ,EAEtBK,EAAQvC,WAAWqB,KAAK,CACpBjE,EAAG,EACH6D,KAAM,WAEF,IADA,IAAIhC,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAGzC,GADArB,EAAOuD,EAASvD,EAAM,QACD,UAAjBwD,EAAOxD,IAAqC,IAAhBA,EAAKnB,OACjC,MAAO,UAKnB,IAAIiF,EAAWvE,EAAMQ,OACjBgE,EAASxE,EAAMiB,KACfwD,EAAM,SAAUpC,GAAK,OAAOvC,KAAK4E,MAAQ,IAAFrC,GAAO,KA8B9CsC,EAAW3E,EAAMQ,OA8CjBoE,EApCY,WAEZ,IADA,IAAInE,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAGzC,IAAIlE,GADJ6C,EAAOkE,EAASlE,EAAM,SACT,GACT2D,EAAI3D,EAAK,GACT6B,EAAI7B,EAAK,GAEb7C,GAAK,IACLwG,GAAK,IACL9B,GAAK,IAEL,IAIIzD,EAAGgG,EAJH7F,EAAMc,KAAKd,IAAIpB,EAAGwG,EAAG9B,GACrBrD,EAAMa,KAAKb,IAAIrB,EAAGwG,EAAG9B,GAErBvF,GAAKkC,EAAMD,GAAO,EAgBtB,OAbIC,IAAQD,GACRH,EAAI,EACJgG,EAAIC,OAAOC,KAEXlG,EAAI9B,EAAI,IAAOkC,EAAMD,IAAQC,EAAMD,IAAQC,EAAMD,IAAQ,EAAIC,EAAMD,GAGnEpB,GAAKqB,EAAO4F,GAAKT,EAAI9B,IAAMrD,EAAMD,GAC5BoF,GAAKnF,EAAO4F,EAAI,GAAKvC,EAAI1E,IAAMqB,EAAMD,GACrCsD,GAAKrD,IAAO4F,EAAI,GAAKjH,EAAIwG,IAAMnF,EAAMD,KAE9C6F,GAAK,IACG,IAAKA,GAAK,KACdpE,EAAKnB,OAAO,QAAeyB,IAAVN,EAAK,GAAyB,CAACoE,EAAEhG,EAAE9B,EAAE0D,EAAK,IACxD,CAACoE,EAAEhG,EAAE9B,IAKZiI,EAAWhF,EAAMQ,OACjByE,EAASjF,EAAMiB,KACfiE,EAtEY,WAEZ,IADA,IAAIzE,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,IAAIqD,EAAOZ,EAAS9D,EAAM,QACtBxC,EAAOuG,EAAO/D,IAAS,MAU3B,OATA0E,EAAK,GAAKV,EAAIU,EAAK,IAAM,GACzBA,EAAK,GAAKV,EAAY,IAARU,EAAK,IAAU,IAC7BA,EAAK,GAAKV,EAAY,IAARU,EAAK,IAAU,IAChB,SAATlH,GAAoBkH,EAAK7F,OAAS,GAAK6F,EAAK,GAAG,GAC/CA,EAAK,GAAKA,EAAK7F,OAAS,EAAI6F,EAAK,GAAK,EACtClH,EAAO,QAEPkH,EAAK7F,OAAS,EAEVrB,EAAO,IAAOkH,EAAKpC,KAAK,KAAQ,KAwDxCqC,EAAYR,EACZS,EAAUvF,KAAK4E,MA6BfY,EAnBY,WAEZ,IADA,IAAI7E,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,IAAIyD,EAAOP,EAASvE,EAAM,QACtBxC,EAAOgH,EAAOxE,IAAS,MAC3B,MAAwB,OAApBxC,EAAKuH,OAAO,EAAE,GACPN,EAAQE,EAAUG,GAAOtH,IAEpCsH,EAAK,GAAKF,EAAQE,EAAK,IACvBA,EAAK,GAAKF,EAAQE,EAAK,IACvBA,EAAK,GAAKF,EAAQE,EAAK,KACV,SAATtH,GAAoBsH,EAAKjG,OAAS,GAAKiG,EAAK,GAAG,KAC/CA,EAAK,GAAKA,EAAKjG,OAAS,EAAIiG,EAAK,GAAK,EACtCtH,EAAO,QAEHA,EAAO,IAAOsH,EAAKlF,MAAM,EAAS,QAAPpC,EAAa,EAAE,GAAG8E,KAAK,KAAQ,MAKlE0C,EAAWzF,EAAMQ,OACjBkF,EAAU5F,KAAK4E,MA4CfiB,EA1CY,WAIZ,IAHA,IAAIC,EAEAnF,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,IAGIlE,EAAEwG,EAAE9B,EAHJuC,GADJpE,EAAOgF,EAAShF,EAAM,QACT,GACT5B,EAAI4B,EAAK,GACT1D,EAAI0D,EAAK,GAEb,GAAU,IAAN5B,EACAjB,EAAIwG,EAAI9B,EAAM,IAAFvF,MACT,CACH,IAAI8I,EAAK,CAAC,EAAE,EAAE,GACV1I,EAAI,CAAC,EAAE,EAAE,GACT2I,EAAK/I,EAAI,GAAMA,GAAK,EAAE8B,GAAK9B,EAAE8B,EAAE9B,EAAE8B,EACjCkH,EAAK,EAAIhJ,EAAI+I,EACbE,EAAKnB,EAAI,IACbgB,EAAG,GAAKG,EAAK,EAAE,EACfH,EAAG,GAAKG,EACRH,EAAG,GAAKG,EAAK,EAAE,EACf,IAAK,IAAIlJ,EAAE,EAAGA,EAAE,EAAGA,IACX+I,EAAG/I,GAAK,IAAK+I,EAAG/I,IAAM,GACtB+I,EAAG/I,GAAK,IAAK+I,EAAG/I,IAAM,GACtB,EAAI+I,EAAG/I,GAAK,EACVK,EAAEL,GAAKiJ,EAAiB,GAAXD,EAAKC,GAAUF,EAAG/I,GAC5B,EAAI+I,EAAG/I,GAAK,EACfK,EAAEL,GAAKgJ,EACJ,EAAID,EAAG/I,GAAK,EACfK,EAAEL,GAAKiJ,GAAMD,EAAKC,IAAQ,EAAI,EAAKF,EAAG/I,IAAM,EAE5CK,EAAEL,GAAKiJ,EAEkDnI,GAAlEgI,EAAS,CAACF,EAAa,IAALvI,EAAE,IAAQuI,EAAa,IAALvI,EAAE,IAAQuI,EAAa,IAALvI,EAAE,MAAqB,GAAIiH,EAAIwB,EAAO,GAAItD,EAAIsD,EAAO,GAEhH,OAAInF,EAAKnB,OAAS,EAEP,CAAC1B,EAAEwG,EAAE9B,EAAE7B,EAAK,IAEhB,CAAC7C,EAAEwG,EAAE9B,EAAE,IAKd2D,EAAUN,EACVO,EAAU5E,EAEV6E,EAAS,kDACTC,EAAU,wEACVC,EAAa,mFACbC,EAAc,yGACdC,EAAS,kFACTC,EAAU,wGAEVC,EAAU3G,KAAK4E,MAEfgC,EAAY,SAAUC,GAEtB,IAAIzJ,EAEJ,GAHAyJ,EAAMA,EAAIpH,cAAcqH,OAGpBV,EAAQ3E,OAAOsF,MACf,IACI,OAAOX,EAAQ3E,OAAOsF,MAAMF,GAC9B,MAAOG,IAMb,GAAK5J,EAAIyJ,EAAII,MAAMZ,GAAU,CAEzB,IADA,IAAIjG,EAAMhD,EAAEmD,MAAM,EAAE,GACXvD,EAAE,EAAGA,EAAE,EAAGA,IACfoD,EAAIpD,IAAMoD,EAAIpD,GAGlB,OADAoD,EAAI,GAAK,EACFA,EAIX,GAAKhD,EAAIyJ,EAAII,MAAMX,GAAW,CAE1B,IADA,IAAIY,EAAQ9J,EAAEmD,MAAM,EAAE,GACbjB,EAAI,EAAGA,EAAI,EAAGA,IACnB4H,EAAM5H,IAAQ4H,EAAM5H,GAExB,OAAO4H,EAIX,GAAK9J,EAAIyJ,EAAII,MAAMV,GAAc,CAE7B,IADA,IAAIY,EAAQ/J,EAAEmD,MAAM,EAAE,GACb6G,EAAI,EAAGA,EAAI,EAAGA,IACnBD,EAAMC,GAAOT,EAAqB,KAAbQ,EAAMC,IAG/B,OADAD,EAAM,GAAK,EACJA,EAIX,GAAK/J,EAAIyJ,EAAII,MAAMT,GAAe,CAE9B,IADA,IAAIa,EAAQjK,EAAEmD,MAAM,EAAE,GACb+G,EAAI,EAAGA,EAAI,EAAGA,IACnBD,EAAMC,GAAOX,EAAqB,KAAbU,EAAMC,IAG/B,OADAD,EAAM,IAAMA,EAAM,GACXA,EAIX,GAAKjK,EAAIyJ,EAAII,MAAMR,GAAU,CACzB,IAAIc,EAAMnK,EAAEmD,MAAM,EAAE,GACpBgH,EAAI,IAAM,IACVA,EAAI,IAAM,IACV,IAAIC,EAAQrB,EAAQoB,GAEpB,OADAC,EAAM,GAAK,EACJA,EAIX,GAAKpK,EAAIyJ,EAAII,MAAMP,GAAW,CAC1B,IAAIe,EAAQrK,EAAEmD,MAAM,EAAE,GACtBkH,EAAM,IAAM,IACZA,EAAM,IAAM,IACZ,IAAIC,EAAQvB,EAAQsB,GAEpB,OADAC,EAAM,IAAMtK,EAAE,GACPsK,IAIfd,EAAUjE,KAAO,SAAU5D,GACvB,OAAOsH,EAAO1D,KAAK5D,IACfuH,EAAQ3D,KAAK5D,IACbwH,EAAW5D,KAAK5D,IAChByH,EAAY7D,KAAK5D,IACjB0H,EAAO9D,KAAK5D,IACZ2H,EAAQ/D,KAAK5D,IAGrB,IAEI4I,GAAWnE,EACXoE,GAAU1E,EACV2E,GAAUrG,EACVsG,GAAS5H,EAAMO,KAEfsH,GAAUvC,EACVwC,GARYpB,EAUhBgB,GAAQhJ,UAAUiI,IAAM,SAAS1I,GAC7B,OAAO4J,GAAQ5F,KAAKW,KAAM3E,IAG9BwJ,GAASd,IAAM,WAEX,IADA,IAAIlG,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,OAAO,IAAKoB,SAASxE,UAAUJ,KAAKoE,MAAOgF,GAAS,CAAE,MAAOtE,OAAQ3C,EAAM,CAAC,WAGhFkH,GAAQpG,OAAOoF,IAAMmB,GAErBH,GAAQnG,WAAWqB,KAAK,CACpBjE,EAAG,EACH6D,KAAM,SAAUoC,GAEZ,IADA,IAAIkD,EAAO,GAAIjG,EAAMC,UAAUzC,OAAS,EAChCwC,KAAQ,GAAIiG,EAAMjG,GAAQC,UAAWD,EAAM,GAEnD,IAAKiG,EAAKzI,QAAwB,WAAdsI,GAAO/C,IAAmBiD,GAAQrF,KAAKoC,GACvD,MAAO,SAKnB,IAAImD,GAAUhF,EACViF,GAAW3E,EAEX4E,GAAWlI,EAAMQ,OADPc,EAGNC,OAAO4G,GAAK,WAEhB,IADA,IAAI1H,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,IAAI5B,EAAMgI,GAASzH,EAAM,QAIzB,OAHAP,EAAI,IAAM,IACVA,EAAI,IAAM,IACVA,EAAI,IAAM,IACHA,GAGX+H,GAASE,GAAK,WAEV,IADA,IAAI1H,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,OAAO,IAAKoB,SAASxE,UAAUJ,KAAKoE,MAAOsF,GAAS,CAAE,MAAO5E,OAAQ3C,EAAM,CAAC,UAGhFuH,GAAQtJ,UAAUyJ,GAAK,WACnB,IAAIjI,EAAM+B,KAAKW,KACf,MAAO,CAAC1C,EAAI,GAAG,IAAKA,EAAI,GAAG,IAAKA,EAAI,GAAG,IAAKA,EAAI,KAGpD,IAAIkI,GAAWpI,EAAMQ,OA4BjB6H,GA1BY,WAEZ,IADA,IAAI5H,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,IASI+C,EATAV,EAAMiE,GAAS3H,EAAM,OACrB7C,EAAIuG,EAAI,GACRC,EAAID,EAAI,GACR7B,EAAI6B,EAAI,GACRnF,EAAMc,KAAKd,IAAIpB,EAAGwG,EAAG9B,GACrBrD,EAAMa,KAAKb,IAAIrB,EAAGwG,EAAG9B,GACrBgG,EAAQrJ,EAAMD,EACd7B,EAAY,IAARmL,EAAc,IAClBC,EAAKvJ,GAAO,IAAMsJ,GAAS,IAW/B,OATc,IAAVA,EACAzD,EAAIC,OAAOC,KAEPnH,IAAMqB,IAAO4F,GAAKT,EAAI9B,GAAKgG,GAC3BlE,IAAMnF,IAAO4F,EAAI,GAAGvC,EAAI1E,GAAK0K,GAC7BhG,IAAMrD,IAAO4F,EAAI,GAAGjH,EAAIwG,GAAKkE,IACjCzD,GAAK,IACG,IAAKA,GAAK,MAEf,CAACA,EAAG1H,EAAGoL,IAKdC,GAAWxI,EAAMQ,OACjBiI,GAAU3I,KAAK4I,MA+CfC,GArCU,WAIV,IAHA,IAAI/C,EAAQgD,EAAUC,EAAUC,EAAUC,EAAUC,EAEhDvI,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,IAGIlE,EAAEwG,EAAE9B,EAHJuC,GADJpE,EAAO+H,GAAS/H,EAAM,QACT,GACTtD,EAAIsD,EAAK,GACT8H,EAAK9H,EAAK,GAEd8H,GAAU,IACV,IAAIU,EAAS,IAAJ9L,EACT,GAAU,IAANA,EACAS,EAAIwG,EAAI9B,EAAIiG,MACT,CACO,MAAN1D,IAAaA,EAAI,GACjBA,EAAI,MAAOA,GAAK,KAChBA,EAAI,IAAKA,GAAK,KAElB,IAAI/H,EAAI2L,GADR5D,GAAK,IAEDR,EAAIQ,EAAI/H,EACR8B,EAAI2J,GAAM,EAAIpL,GACd+L,EAAItK,EAAIqK,GAAM,EAAI5E,GAClBrG,EAAIY,EAAIqK,EAAK5E,EACb8E,EAAIvK,EAAIqK,EACZ,OAAQnM,GACJ,KAAK,EAAwBc,GAApBgI,EAAS,CAACuD,EAAGnL,EAAGY,IAAe,GAAIwF,EAAIwB,EAAO,GAAItD,EAAIsD,EAAO,GAAK,MAC3E,KAAK,EAA0BhI,GAAtBgL,EAAW,CAACM,EAAGC,EAAGvK,IAAiB,GAAIwF,EAAIwE,EAAS,GAAItG,EAAIsG,EAAS,GAAK,MACnF,KAAK,EAA0BhL,GAAtBiL,EAAW,CAACjK,EAAGuK,EAAGnL,IAAiB,GAAIoG,EAAIyE,EAAS,GAAIvG,EAAIuG,EAAS,GAAK,MACnF,KAAK,EAA0BjL,GAAtBkL,EAAW,CAAClK,EAAGsK,EAAGC,IAAiB,GAAI/E,EAAI0E,EAAS,GAAIxG,EAAIwG,EAAS,GAAK,MACnF,KAAK,EAA0BlL,GAAtBmL,EAAW,CAAC/K,EAAGY,EAAGuK,IAAiB,GAAI/E,EAAI2E,EAAS,GAAIzG,EAAIyG,EAAS,GAAK,MACnF,KAAK,EAA0BnL,GAAtBoL,EAAW,CAACG,EAAGvK,EAAGsK,IAAiB,GAAI9E,EAAI4E,EAAS,GAAI1G,EAAI0G,EAAS,IAGtF,MAAO,CAACpL,EAAGwG,EAAG9B,EAAG7B,EAAKnB,OAAS,EAAImB,EAAK,GAAK,IAK7C2I,GAAWpJ,EAAMQ,OACjB6I,GAASrJ,EAAMO,KACf+I,GAAWhG,EACXiG,GAAUvG,EACVwG,GAAUlI,EAEVmI,GAAUpB,GAEdkB,GAAQ7K,UAAUgL,IAAM,WACpB,OAAOD,GAAQxH,KAAKW,OAGxB0G,GAASI,IAAM,WAEX,IADA,IAAIjJ,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,OAAO,IAAKoB,SAASxE,UAAUJ,KAAKoE,MAAO6G,GAAS,CAAE,MAAOnG,OAAQ3C,EAAM,CAAC,WAGhF+I,GAAQjI,OAAOmI,IAAMf,GAErBa,GAAQhI,WAAWqB,KAAK,CACpBjE,EAAG,EACH6D,KAAM,WAEF,IADA,IAAIhC,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAGzC,GADArB,EAAO2I,GAAS3I,EAAM,OACD,UAAjB4I,GAAO5I,IAAqC,IAAhBA,EAAKnB,OACjC,MAAO,SAKnB,IAAIqK,GAAW3J,EAAMQ,OACjBS,GAAOjB,EAAMiB,KACb2I,GAAU9J,KAAK4E,MA+BfmF,GA7BY,WAEZ,IADA,IAAIpJ,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,IAAIqC,EAAMwF,GAASlJ,EAAM,QACrB7C,EAAIuG,EAAI,GACRC,EAAID,EAAI,GACR7B,EAAI6B,EAAI,GACR9B,EAAI8B,EAAI,GACRlG,EAAOgD,GAAKR,IAAS,YACfM,IAANsB,IAAmBA,EAAI,GACd,SAATpE,IACAA,EAAOoE,EAAI,EAAI,OAAS,OAK5B,IAAIyH,GAHJlM,EAAIgM,GAAQhM,KAGC,IAFbwG,EAAIwF,GAAQxF,KAEW,GADvB9B,EAAIsH,GAAQtH,IAERyH,EAAM,SAAWD,EAAEpK,SAAS,IAChCqK,EAAMA,EAAIvE,OAAOuE,EAAIzK,OAAS,GAC9B,IAAI0K,EAAM,IAAMJ,GAAY,IAAJvH,GAAS3C,SAAS,IAE1C,OADAsK,EAAMA,EAAIxE,OAAOwE,EAAI1K,OAAS,GACtBrB,EAAKsB,eACT,IAAK,OAAQ,MAAQ,IAAMwK,EAAMC,EACjC,IAAK,OAAQ,MAAQ,IAAMA,EAAMD,EACjC,QAAS,MAAQ,IAAMA,IAM3BE,GAAS,sCACTC,GAAU,sCA8CVC,GA5CY,SAAUrH,GACtB,GAAIA,EAAIiE,MAAMkD,IAAS,CAEA,IAAfnH,EAAIxD,QAA+B,IAAfwD,EAAIxD,SACxBwD,EAAMA,EAAI0C,OAAO,IAGF,IAAf1C,EAAIxD,SAEJwD,GADAA,EAAMA,EAAIlC,MAAM,KACN,GAAGkC,EAAI,GAAGA,EAAI,GAAGA,EAAI,GAAGA,EAAI,GAAGA,EAAI,IAEjD,IAAIgH,EAAIM,SAAStH,EAAK,IAItB,MAAO,CAHCgH,GAAK,GACLA,GAAK,EAAI,IACL,IAAJA,EACM,GAIlB,GAAIhH,EAAIiE,MAAMmD,IAAU,CACD,IAAfpH,EAAIxD,QAA+B,IAAfwD,EAAIxD,SAExBwD,EAAMA,EAAI0C,OAAO,IAGF,IAAf1C,EAAIxD,SAEJwD,GADAA,EAAMA,EAAIlC,MAAM,KACN,GAAGkC,EAAI,GAAGA,EAAI,GAAGA,EAAI,GAAGA,EAAI,GAAGA,EAAI,GAAGA,EAAI,GAAGA,EAAI,IAE/D,IAAIuH,EAAMD,SAAStH,EAAK,IAKxB,MAAO,CAJGuH,GAAO,GAAK,IACZA,GAAO,GAAK,IACZA,GAAO,EAAI,IACbvK,KAAK4E,OAAa,IAAN2F,GAAc,IAAO,KAAO,KAQpD,MAAM,IAAI1H,MAAO,sBAAwBG,IAKzCwH,GAAWhH,EACXiH,GAAUvH,EACVwH,GAASxK,EAAMO,KACfkK,GAAUnJ,EAEVoJ,GAAYb,GAEhBU,GAAQ7L,UAAUoE,IAAM,SAAS7E,GAC7B,OAAOyM,GAAUzI,KAAKW,KAAM3E,IAGhCqM,GAASxH,IAAM,WAEX,IADA,IAAIrC,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,OAAO,IAAKoB,SAASxE,UAAUJ,KAAKoE,MAAO6H,GAAS,CAAE,MAAOnH,OAAQ3C,EAAM,CAAC,WAGhFgK,GAAQlJ,OAAOuB,IAAMqH,GACrBM,GAAQjJ,WAAWqB,KAAK,CACpBjE,EAAG,EACH6D,KAAM,SAAUoC,GAEZ,IADA,IAAIkD,EAAO,GAAIjG,EAAMC,UAAUzC,OAAS,EAChCwC,KAAQ,GAAIiG,EAAMjG,GAAQC,UAAWD,EAAM,GAEnD,IAAKiG,EAAKzI,QAAwB,WAAdkL,GAAO3F,IAAmB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG8F,QAAQ9F,EAAEvF,SAAW,EAC/E,MAAO,SAKnB,IAAIsL,GAAW5K,EAAMQ,OACjBqK,GAAU7K,EAAMkB,MAChB4J,GAAQhL,KAAKd,IACb+L,GAASjL,KAAKkL,KACdC,GAAOnL,KAAKmL,KAmCZC,GAjCY,WAEZ,IADA,IAAIzK,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAMzC,IAOI+C,EAPAV,EAAMyG,GAASnK,EAAM,OACrB7C,EAAIuG,EAAI,GACRC,EAAID,EAAI,GACR7B,EAAI6B,EAAI,GAKRgH,EAAOL,GAJXlN,GAAK,IACLwG,GAAK,IACL9B,GAAK,KAGDxF,GAAKc,EAAEwG,EAAE9B,GAAK,EACdzD,EAAI/B,EAAI,EAAI,EAAIqO,EAAKrO,EAAI,EAY7B,OAXU,IAAN+B,EACAgG,EAAIE,KAEJF,GAAMjH,EAAEwG,GAAIxG,EAAE0E,IAAM,EACpBuC,GAAKkG,IAAQnN,EAAEwG,IAAIxG,EAAEwG,IAAMxG,EAAE0E,IAAI8B,EAAE9B,IACnCuC,EAAIoG,GAAKpG,GACLvC,EAAI8B,IACJS,EAAIgG,GAAUhG,GAElBA,GAAKgG,IAEF,CAAG,IAAFhG,EAAMhG,EAAE/B,IAKhBsO,GAAWpL,EAAMQ,OACjBF,GAAQN,EAAMM,MACd+K,GAAUrL,EAAMkB,MAChBC,GAAUnB,EAAMmB,QAChBmK,GAAQxL,KAAKyL,IAgDbC,GAzCU,WAEV,IADA,IAAI/K,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAOzC,IAGIlE,EAAEwG,EAAE9B,EAHJuC,GADJpE,EAAO2K,GAAS3K,EAAM,QACT,GACT5B,EAAI4B,EAAK,GACT3D,EAAI2D,EAAK,GA2Bb,OAxBIgL,MAAM5G,KAAMA,EAAI,GAChB4G,MAAM5M,KAAMA,EAAI,GAEhBgG,EAAI,MAAOA,GAAK,KAChBA,EAAI,IAAKA,GAAK,MAClBA,GAAK,KACG,EAAE,EAGNT,EAAI,IAFJ9B,GAAK,EAAEzD,GAAG,IACVjB,GAAK,EAAEiB,EAAEyM,GAAMD,GAAQxG,GAAGyG,GAAMnK,GAAQkK,GAAQxG,IAAI,IAE7CA,EAAI,EAAE,EAIbvC,EAAI,IAFJ1E,GAAK,EAAEiB,GAAG,IACVuF,GAAK,EAAEvF,EAAEyM,GAAMD,IAFfxG,GAAK,EAAE,IAEmByG,GAAMnK,GAAQkK,GAAQxG,IAAI,IAMpDjH,EAAI,IAFJwG,GAAK,EAAEvF,GAAG,IACVyD,GAAK,EAAEzD,EAAEyM,GAAMD,IAFfxG,GAAK,EAAE,IAEmByG,GAAMnK,GAAQkK,GAAQxG,IAAI,IAMjD,CAAG,KAHVjH,EAAI0C,GAAMxD,EAAEc,EAAE,IAGG,KAFjBwG,EAAI9D,GAAMxD,EAAEsH,EAAE,IAEU,KADxB9B,EAAIhC,GAAMxD,EAAEwF,EAAE,IACe7B,EAAKnB,OAAS,EAAImB,EAAK,GAAK,IAKzDiL,GAAW1L,EAAMQ,OACjBmL,GAAS3L,EAAMO,KACfqL,GAAWtI,EACXuI,GAAU7I,EACV8I,GAAUxK,EAEVyK,GAAUb,GAEdW,GAAQnN,UAAUsN,IAAM,WACpB,OAAOD,GAAQ9J,KAAKW,OAGxBgJ,GAASI,IAAM,WAEX,IADA,IAAIvL,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,OAAO,IAAKoB,SAASxE,UAAUJ,KAAKoE,MAAOmJ,GAAS,CAAE,MAAOzI,OAAQ3C,EAAM,CAAC,WAGhFqL,GAAQvK,OAAOyK,IAAMR,GAErBM,GAAQtK,WAAWqB,KAAK,CACpBjE,EAAG,EACH6D,KAAM,WAEF,IADA,IAAIhC,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAGzC,GADArB,EAAOiL,GAASjL,EAAM,OACD,UAAjBkL,GAAOlL,IAAqC,IAAhBA,EAAKnB,OACjC,MAAO,SAKnB,IAAI2M,GAAWjM,EAAMQ,OACjB0L,GAASlM,EAAMO,KACf4L,GAAW7I,EACX8I,GAAUpJ,EACVqJ,GAAU/K,EAEVgL,GAAY1H,EAEhBwH,GAAQ1N,UAAU2I,IAAM,WACpB,OAAOiF,GAAUrK,KAAKW,OAG1BuJ,GAAS9E,IAAM,WAEX,IADA,IAAI5G,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,OAAO,IAAKoB,SAASxE,UAAUJ,KAAKoE,MAAO0J,GAAS,CAAE,MAAOhJ,OAAQ3C,EAAM,CAAC,WAGhF4L,GAAQ9K,OAAO8F,IAAM1B,EAErB0G,GAAQ7K,WAAWqB,KAAK,CACpBjE,EAAG,EACH6D,KAAM,WAEF,IADA,IAAIhC,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAGzC,GADArB,EAAOwL,GAASxL,EAAM,OACD,UAAjByL,GAAOzL,IAAqC,IAAhBA,EAAKnB,OACjC,MAAO,SAKnB,IAAIiN,GAAWvM,EAAMQ,OACjBgM,GAAQ1M,KAAKd,IACbyN,GAAQ3M,KAAKb,IAmCbyN,GA3BU,WAEV,IADA,IAAIjM,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAGzC,IAMI+C,EAAEhG,EAAEsK,EANJvL,GADJ6C,EAAO8L,GAAS9L,EAAM,QACT,GACT2D,EAAI3D,EAAK,GACT6B,EAAI7B,EAAK,GACT0K,EAAOqB,GAAM5O,EAAGwG,EAAG9B,GACnBqK,EAAOF,GAAM7O,EAAGwG,EAAG9B,GACnBgG,EAAQqE,EAAOxB,EAcnB,OAZAhC,EAAIwD,EAAO,IACE,IAATA,GACA9H,EAAIC,OAAOC,IACXlG,EAAI,IAEJA,EAAIyJ,EAAQqE,EACR/O,IAAM+O,IAAQ9H,GAAKT,EAAI9B,GAAKgG,GAC5BlE,IAAMuI,IAAQ9H,EAAI,GAAGvC,EAAI1E,GAAK0K,GAC9BhG,IAAMqK,IAAQ9H,EAAI,GAAGjH,EAAIwG,GAAKkE,IAClCzD,GAAK,IACG,IAAKA,GAAK,MAEf,CAACA,EAAGhG,EAAGsK,IAKdyD,GAAW5M,EAAMQ,OACjBqM,GAAU/M,KAAK4I,MAuCfoE,GArCU,WAIV,IAHA,IAAIlH,EAAQgD,EAAUC,EAAUC,EAAUC,EAAUC,EAEhDvI,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,IAGIlE,EAAEwG,EAAE9B,EAHJuC,GADJpE,EAAOmM,GAASnM,EAAM,QACT,GACT5B,EAAI4B,EAAK,GACT0I,EAAI1I,EAAK,GAGb,GADA0I,GAAK,IACK,IAANtK,EACAjB,EAAIwG,EAAI9B,EAAI6G,MACT,CACO,MAANtE,IAAaA,EAAI,GACjBA,EAAI,MAAOA,GAAK,KAChBA,EAAI,IAAKA,GAAK,KAGlB,IAAI/H,EAAI+P,GAFRhI,GAAK,IAGDR,EAAIQ,EAAI/H,EACR8B,EAAIuK,GAAK,EAAItK,GACbqK,EAAIC,GAAK,EAAItK,EAAIwF,GACjBrG,EAAImL,GAAK,EAAItK,GAAK,EAAIwF,IAE1B,OAAQvH,GACJ,KAAK,EAAwBc,GAApBgI,EAAS,CAACuD,EAAGnL,EAAGY,IAAe,GAAIwF,EAAIwB,EAAO,GAAItD,EAAIsD,EAAO,GAAK,MAC3E,KAAK,EAA0BhI,GAAtBgL,EAAW,CAACM,EAAGC,EAAGvK,IAAiB,GAAIwF,EAAIwE,EAAS,GAAItG,EAAIsG,EAAS,GAAK,MACnF,KAAK,EAA0BhL,GAAtBiL,EAAW,CAACjK,EAAGuK,EAAGnL,IAAiB,GAAIoG,EAAIyE,EAAS,GAAIvG,EAAIuG,EAAS,GAAK,MACnF,KAAK,EAA0BjL,GAAtBkL,EAAW,CAAClK,EAAGsK,EAAGC,IAAiB,GAAI/E,EAAI0E,EAAS,GAAIxG,EAAIwG,EAAS,GAAK,MACnF,KAAK,EAA0BlL,GAAtBmL,EAAW,CAAC/K,EAAGY,EAAGuK,IAAiB,GAAI/E,EAAI2E,EAAS,GAAIzG,EAAIyG,EAAS,GAAK,MACnF,KAAK,EAA0BnL,GAAtBoL,EAAW,CAACG,EAAGvK,EAAGsK,IAAiB,GAAI9E,EAAI4E,EAAS,GAAI1G,EAAI0G,EAAS,IAGtF,MAAO,CAACpL,EAAEwG,EAAE9B,EAAE7B,EAAKnB,OAAS,EAAEmB,EAAK,GAAG,IAKtCsM,GAAW/M,EAAMQ,OACjBwM,GAAShN,EAAMO,KACf0M,GAAW3J,EACX4J,GAAUlK,EACVmK,GAAU7L,EAEV8L,GAAUV,GAEdQ,GAAQxO,UAAU2O,IAAM,WACpB,OAAOD,GAAQnL,KAAKW,OAGxBqK,GAASI,IAAM,WAEX,IADA,IAAI5M,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,OAAO,IAAKoB,SAASxE,UAAUJ,KAAKoE,MAAOwK,GAAS,CAAE,MAAO9J,OAAQ3C,EAAM,CAAC,WAGhF0M,GAAQ5L,OAAO8L,IAAMP,GAErBK,GAAQ3L,WAAWqB,KAAK,CACpBjE,EAAG,EACH6D,KAAM,WAEF,IADA,IAAIhC,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAGzC,GADArB,EAAOsM,GAAStM,EAAM,OACD,UAAjBuM,GAAOvM,IAAqC,IAAhBA,EAAKnB,OACjC,MAAO,SAKnB,IAAIgO,GAAe,CAEfC,GAAI,GAGJC,GAAI,OACJC,GAAI,EACJC,GAAI,QAEJC,GAAI,WACJ5H,GAAI,WACJD,GAAI,UACJD,GAAI,YAGJ+H,GAAkBN,GAClBO,GAAW7N,EAAMQ,OACjBsN,GAAQhO,KAAKiO,IAkBbC,GAAU,SAAUpQ,GACpB,OAAKA,GAAK,MAAQ,OAAkBA,EAAI,MACjCkQ,IAAOlQ,EAAI,MAAS,MAAO,MAGlCqQ,GAAU,SAAUjQ,GACpB,OAAIA,EAAI4P,GAAgB/H,GAAaiI,GAAM9P,EAAG,EAAI,GAC3CA,EAAI4P,GAAgB9H,GAAK8H,GAAgBD,IAGhDO,GAAU,SAAUtQ,EAAEwG,EAAE9B,GAOxB,OANA1E,EAAIoQ,GAAQpQ,GACZwG,EAAI4J,GAAQ5J,GACZ9B,EAAI0L,GAAQ1L,GAIL,CAHC2L,IAAS,SAAYrQ,EAAI,SAAYwG,EAAI,SAAY9B,GAAKsL,GAAgBJ,IAC1ES,IAAS,SAAYrQ,EAAI,SAAYwG,EAAI,QAAY9B,GAAKsL,GAAgBH,IAC1EQ,IAAS,SAAYrQ,EAAI,QAAYwG,EAAI,SAAY9B,GAAKsL,GAAgBF,MAIlFS,GApCY,WAEZ,IADA,IAAI1N,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,IAAIqC,EAAM0J,GAASpN,EAAM,OACrB7C,EAAIuG,EAAI,GACRC,EAAID,EAAI,GACR7B,EAAI6B,EAAI,GACRiK,EAAQF,GAAQtQ,EAAEwG,EAAE9B,GACpBvD,EAAIqP,EAAM,GACVzK,EAAIyK,EAAM,GACVC,EAAID,EAAM,GACVrR,EAAI,IAAM4G,EAAI,GAClB,MAAO,CAAC5G,EAAI,EAAI,EAAIA,EAAG,KAAOgC,EAAI4E,GAAI,KAAOA,EAAI0K,KAyBjDC,GAAkBhB,GAClBiB,GAAWvO,EAAMQ,OACjBgO,GAAQ1O,KAAKiO,IAgCbU,GAAU,SAAU7Q,GACpB,OAAO,KAAOA,GAAK,OAAU,MAAQA,EAAI,MAAQ4Q,GAAM5Q,EAAG,EAAI,KAAO,OAGrE8Q,GAAU,SAAU1Q,GACpB,OAAOA,EAAIsQ,GAAgBvI,GAAK/H,EAAIA,EAAIA,EAAIsQ,GAAgBxI,IAAM9H,EAAIsQ,GAAgBX,KAGtFgB,GAjCY,WAEZ,IADA,IAAIlO,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAGzC,IAGI/C,EAAE4E,EAAE0K,EAHJtR,GADJ0D,EAAO8N,GAAS9N,EAAM,QACT,GACT4B,EAAI5B,EAAK,GACT6B,EAAI7B,EAAK,GAeb,OAZAkD,GAAK5G,EAAI,IAAM,IACfgC,EAAI0M,MAAMpJ,GAAKsB,EAAIA,EAAItB,EAAI,IAC3BgM,EAAI5C,MAAMnJ,GAAKqB,EAAIA,EAAIrB,EAAI,IAE3BqB,EAAI2K,GAAgBb,GAAKiB,GAAQ/K,GACjC5E,EAAIuP,GAAgBd,GAAKkB,GAAQ3P,GACjCsP,EAAIC,GAAgBZ,GAAKgB,GAAQL,GAM1B,CAJHI,GAAQ,UAAY1P,EAAI,UAAY4E,EAAI,SAAY0K,GACpDI,IAAS,QAAY1P,EAAI,UAAY4E,EAAI,QAAY0K,GACpDI,GAAQ,SAAY1P,EAAI,SAAY4E,EAAI,UAAY0K,GAE1C5N,EAAKnB,OAAS,EAAImB,EAAK,GAAK,IAa3CmO,GAAW5O,EAAMQ,OACjBqO,GAAS7O,EAAMO,KACfuO,GAAWxL,EACXyL,GAAU/L,EACVgM,GAAU1N,EAEV2N,GAAYd,GAEhBY,GAAQrQ,UAAUwQ,IAAM,WACpB,OAAOD,GAAUhN,KAAKW,OAG1BkM,GAASI,IAAM,WAEX,IADA,IAAIzO,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,OAAO,IAAKoB,SAASxE,UAAUJ,KAAKoE,MAAOqM,GAAS,CAAE,MAAO3L,OAAQ3C,EAAM,CAAC,WAGhFuO,GAAQzN,OAAO2N,IAAMP,GAErBK,GAAQxN,WAAWqB,KAAK,CACpBjE,EAAG,EACH6D,KAAM,WAEF,IADA,IAAIhC,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAGzC,GADArB,EAAOmO,GAASnO,EAAM,OACD,UAAjBoO,GAAOpO,IAAqC,IAAhBA,EAAKnB,OACjC,MAAO,SAKnB,IAAI6P,GAAWnP,EAAMQ,OACjBa,GAAUrB,EAAMqB,QAChB+N,GAAStP,KAAKkL,KACdqE,GAAUvP,KAAKwP,MACfC,GAAUzP,KAAK4E,MAgBf8K,GAdY,WAEZ,IADA,IAAI/O,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,IAAIqC,EAAMgL,GAAS1O,EAAM,OACrB1D,EAAIoH,EAAI,GACR9B,EAAI8B,EAAI,GACR7B,EAAI6B,EAAI,GACRhH,EAAIiS,GAAO/M,EAAIA,EAAIC,EAAIA,GACvBuC,GAAKwK,GAAQ/M,EAAGD,GAAKhB,GAAU,KAAO,IAE1C,OADyB,IAArBkO,GAAU,IAAFpS,KAAkB0H,EAAIC,OAAOC,KAClC,CAAChI,EAAGI,EAAG0H,IAKd4K,GAAWzP,EAAMQ,OACjBkP,GAAUvB,GACVwB,GAAYH,GAiBZI,GAfY,WAEZ,IADA,IAAInP,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,IAAIqC,EAAMsL,GAAShP,EAAM,OACrB7C,EAAIuG,EAAI,GACRC,EAAID,EAAI,GACR7B,EAAI6B,EAAI,GACRiK,EAAQsB,GAAQ9R,EAAEwG,EAAE9B,GACpBvF,EAAIqR,EAAM,GACV/L,EAAI+L,EAAM,GACVyB,EAAKzB,EAAM,GACf,OAAOuB,GAAU5S,EAAEsF,EAAEwN,IAKrBC,GAAW9P,EAAMQ,OACjBY,GAAUpB,EAAMoB,QAChB2O,GAAQjQ,KAAKkQ,IACbC,GAAQnQ,KAAKyL,IAsBb2E,GApBY,WAEZ,IADA,IAAIzP,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GASzC,IAAIqC,EAAM2L,GAASrP,EAAM,OACrB1D,EAAIoH,EAAI,GACRhH,EAAIgH,EAAI,GACRU,EAAIV,EAAI,GAGZ,OAFIsH,MAAM5G,KAAMA,EAAI,GAEb,CAAC9H,EAAGkT,GADXpL,GAAQzD,IACcjE,EAAG4S,GAAMlL,GAAK1H,IAKpCgT,GAAWnQ,EAAMQ,OACjB4P,GAAYF,GACZG,GAAU1B,GAqBV2B,GAnBY,WAEZ,IADA,IAAI7P,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAGzC,IAAI/E,GADJ0D,EAAO0P,GAAS1P,EAAM,QACT,GACTtD,EAAIsD,EAAK,GACToE,EAAIpE,EAAK,GACT0D,EAAMiM,GAAWrT,EAAEI,EAAE0H,GACrB0L,EAAIpM,EAAI,GACR9B,EAAI8B,EAAI,GACR0L,EAAK1L,EAAI,GACTiK,EAAQiC,GAASE,EAAElO,EAAEwN,GACrBjS,EAAIwQ,EAAM,GACVhK,EAAIgK,EAAM,GACV9L,EAAI8L,EAAM,GACd,MAAO,CAACxQ,EAAGwG,EAAG9B,EAAG7B,EAAKnB,OAAS,EAAImB,EAAK,GAAK,IAK7C+P,GAAWxQ,EAAMQ,OACjBiQ,GAAUH,GAUVI,GARU,WAEV,IADA,IAAIjQ,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,IAAI6O,EAAMH,GAAS/P,EAAM,OAAOmQ,UAChC,OAAOH,GAAQ/N,WAAM,EAAQiO,IAK7BE,GAAW7Q,EAAMQ,OACjBsQ,GAAS9Q,EAAMO,KACfwQ,GAAWzN,EACX0N,GAAUhO,EACViO,GAAU3P,EAEV4P,GAAUtB,GAEdoB,GAAQtS,UAAUyS,IAAM,WAAa,OAAOD,GAAQjP,KAAKW,OACzDoO,GAAQtS,UAAUiS,IAAM,WAAa,OAAOO,GAAQjP,KAAKW,MAAMgO,WAE/DG,GAASI,IAAM,WAEX,IADA,IAAI1Q,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,OAAO,IAAKoB,SAASxE,UAAUJ,KAAKoE,MAAOsO,GAAS,CAAE,MAAO5N,OAAQ3C,EAAM,CAAC,WAEhFsQ,GAASJ,IAAM,WAEX,IADA,IAAIlQ,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,OAAO,IAAKoB,SAASxE,UAAUJ,KAAKoE,MAAOsO,GAAS,CAAE,MAAO5N,OAAQ3C,EAAM,CAAC,WAGhFwQ,GAAQ1P,OAAO4P,IAAMb,GACrBW,GAAQ1P,OAAOoP,IAAMD,GAErB,CAAC,MAAM,OAAOU,SAAQ,SAAUlU,GAAK,OAAO+T,GAAQzP,WAAWqB,KAAK,CAChEjE,EAAG,EACH6D,KAAM,WAEF,IADA,IAAIhC,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAGzC,GADArB,EAAOoQ,GAASpQ,EAAMvD,GACD,UAAjB4T,GAAOrQ,IAAqC,IAAhBA,EAAKnB,OACjC,OAAOpC,QAWnB,IA8JImU,GA9JW,CACXC,UAAW,UACXC,aAAc,UACdC,KAAM,UACNC,WAAY,UACZC,MAAO,UACPC,MAAO,UACPC,OAAQ,UACRC,MAAO,UACPC,eAAgB,UAChBC,KAAM,UACNC,WAAY,UACZC,MAAO,UACPC,UAAW,UACXC,UAAW,UACXC,WAAY,UACZC,UAAW,UACXC,MAAO,UACPC,WAAY,UACZC,eAAgB,UAChBC,SAAU,UACVC,QAAS,UACTC,KAAM,UACNC,SAAU,UACVC,SAAU,UACVC,cAAe,UACfC,SAAU,UACVC,UAAW,UACXC,SAAU,UACVC,UAAW,UACXC,YAAa,UACbC,eAAgB,UAChBC,WAAY,UACZC,WAAY,UACZC,QAAS,UACTC,WAAY,UACZC,aAAc,UACdC,cAAe,UACfC,cAAe,UACfC,cAAe,UACfC,cAAe,UACfC,WAAY,UACZC,SAAU,UACVC,YAAa,UACbC,QAAS,UACTC,QAAS,UACTC,WAAY,UACZC,UAAW,UACXC,YAAa,UACbC,YAAa,UACbC,QAAS,UACTC,UAAW,UACXC,WAAY,UACZC,KAAM,UACNC,UAAW,UACXC,KAAM,UACNC,MAAO,UACPC,YAAa,UACbC,KAAM,UACNC,SAAU,UACVC,QAAS,UACTC,UAAW,UACXC,OAAQ,UACRC,MAAO,UACPC,MAAO,UACPC,WAAY,UACZC,SAAU,UACVC,cAAe,UACfC,UAAW,UACXC,aAAc,UACdC,UAAW,UACXC,WAAY,UACZC,UAAW,UACXC,eAAgB,UAChBC,qBAAsB,UACtBC,UAAW,UACXC,WAAY,UACZC,UAAW,UACXC,UAAW,UACXC,YAAa,UACbC,cAAe,UACfC,aAAc,UACdC,eAAgB,UAChBC,eAAgB,UAChBC,eAAgB,UAChBC,YAAa,UACbC,KAAM,UACNC,UAAW,UACXC,MAAO,UACPC,QAAS,UACTC,OAAQ,UACRC,QAAS,UACTC,QAAS,UACTC,iBAAkB,UAClBC,WAAY,UACZC,aAAc,UACdC,aAAc,UACdC,eAAgB,UAChBC,gBAAiB,UACjBC,kBAAmB,UACnBC,gBAAiB,UACjBC,gBAAiB,UACjBC,aAAc,UACdC,UAAW,UACXC,UAAW,UACXC,SAAU,UACVC,YAAa,UACbC,KAAM,UACNC,QAAS,UACTC,MAAO,UACPC,UAAW,UACXC,OAAQ,UACRC,UAAW,UACXC,OAAQ,UACRC,cAAe,UACfC,UAAW,UACXC,cAAe,UACfC,cAAe,UACfC,WAAY,UACZC,UAAW,UACXC,KAAM,UACNC,KAAM,UACNC,KAAM,UACNC,WAAY,UACZC,OAAQ,UACRC,QAAS,UACTC,QAAS,UACTC,cAAe,UACfC,IAAK,UACLC,UAAW,UACXC,UAAW,UACXC,YAAa,UACbC,OAAQ,UACRC,WAAY,UACZC,SAAU,UACVC,SAAU,UACVC,OAAQ,UACRC,OAAQ,UACRC,QAAS,UACTC,UAAW,UACXC,UAAW,UACXC,UAAW,UACXC,KAAM,UACNC,YAAa,UACbC,UAAW,UACXC,IAAK,UACLC,KAAM,UACNC,QAAS,UACTC,OAAQ,UACRC,UAAW,UACXC,OAAQ,UACRC,MAAO,UACPC,MAAO,UACPC,WAAY,UACZC,OAAQ,UACRC,YAAa,WAMbC,GAAU3Z,EACV4Z,GAASlb,EAAMO,KAEf4a,GAAS9J,GACT+J,GAAUjR,GACVkR,GAAUxR,GANA7G,EAQNtE,UAAUrB,KAAO,WAErB,IADA,IAAIyF,EAAMuY,GAAQpZ,KAAKW,KAAM,OACpB9F,EAAI,EAAGyF,EAAO/E,OAAO8d,KAAKH,IAASre,EAAIyF,EAAKjD,OAAQxC,GAAK,EAAG,CACjE,IAAIyB,EAAIgE,EAAKzF,GAEb,GAAIqe,GAAO5c,KAAOuE,EAAO,OAAOvE,EAAEgB,cAEtC,OAAOuD,GAGXmY,GAAQ1Z,OAAOsF,MAAQ,SAAUxJ,GAE7B,GADAA,EAAOA,EAAKkC,cACR4b,GAAO9d,GAAS,OAAO+d,GAAQD,GAAO9d,IAC1C,MAAM,IAAIsF,MAAM,uBAAuBtF,IAG3C4d,GAAQzZ,WAAWqB,KAAK,CACpBjE,EAAG,EACH6D,KAAM,SAAUoC,GAEZ,IADA,IAAIkD,EAAO,GAAIjG,EAAMC,UAAUzC,OAAS,EAChCwC,KAAQ,GAAIiG,EAAMjG,GAAQC,UAAWD,EAAM,GAEnD,IAAKiG,EAAKzI,QAAwB,WAAd4b,GAAOrW,IAAmBsW,GAAOtW,EAAEtF,eACnD,MAAO,WAKnB,IAAIgc,GAAWvb,EAAMQ,OAejBgb,GAASxb,EAAMO,KAYfkb,GAVU,SAAUC,GACpB,GAAmB,UAAfF,GAAOE,IAAoBA,GAAO,GAAKA,GAAO,SAI9C,MAAO,CAHCA,GAAO,GACNA,GAAO,EAAK,IACP,IAANA,EACM,GAElB,MAAM,IAAI/Y,MAAM,sBAAsB+Y,IAKtCC,GAAWrY,EACXsY,GAAU5Y,EACV6Y,GAAUva,EACVwa,GAAS9b,EAAMO,KAEfwb,GAhCY,WAEZ,IADA,IAAItb,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,IAAIqC,EAAMoX,GAAS9a,EAAM,OACrB7C,EAAIuG,EAAI,GACRC,EAAID,EAAI,GACR7B,EAAI6B,EAAI,GACZ,OAAQvG,GAAK,KAAOwG,GAAK,GAAK9B,GA0BlCsZ,GAAQld,UAAUgd,IAAM,WACpB,OAAOK,GAAQ9Z,KAAKW,OAGxB+Y,GAASD,IAAM,WAEX,IADA,IAAIjb,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,OAAO,IAAKoB,SAASxE,UAAUJ,KAAKoE,MAAOkZ,GAAS,CAAE,MAAOxY,OAAQ3C,EAAM,CAAC,WAGhFob,GAAQta,OAAOma,IAAMD,GAErBI,GAAQra,WAAWqB,KAAK,CACpBjE,EAAG,EACH6D,KAAM,WAEF,IADA,IAAIhC,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,GAAoB,IAAhBrB,EAAKnB,QAAoC,WAApBwc,GAAOrb,EAAK,KAAoBA,EAAK,IAAM,GAAKA,EAAK,IAAM,SAChF,MAAO,SAKnB,IAAIub,GAAW1Y,EACX2Y,GAAUjZ,EACVkZ,GAAU5a,EACV6a,GAAWnc,EAAMQ,OACjB4b,GAASpc,EAAMO,KACf8b,GAAUvc,KAAK4E,MAEnBuX,GAAQvd,UAAUwB,IAAM,SAASuE,GAG7B,YAFa,IAARA,IAAiBA,GAAI,IAEd,IAARA,EAAwBxC,KAAKW,KAAKvC,MAAM,EAAE,GACvC4B,KAAKW,KAAKvC,MAAM,EAAE,GAAGW,IAAIqb,KAGpCJ,GAAQvd,UAAU6G,KAAO,SAASd,GAG9B,YAFa,IAARA,IAAiBA,GAAI,GAEnBxC,KAAKW,KAAKvC,MAAM,EAAE,GAAGW,KAAI,SAAUmI,EAAErM,GACxC,OAAOA,EAAE,GAAa,IAAR2H,EAAgB0E,EAAIkT,GAAQlT,GAAMA,MAIxD6S,GAAS9b,IAAM,WAEX,IADA,IAAIO,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,OAAO,IAAKoB,SAASxE,UAAUJ,KAAKoE,MAAOuZ,GAAS,CAAE,MAAO7Y,OAAQ3C,EAAM,CAAC,WAGhFyb,GAAQ3a,OAAOrB,IAAM,WAEjB,IADA,IAAIO,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,IAAIyD,EAAO4W,GAAS1b,EAAM,QAE1B,YADgBM,IAAZwE,EAAK,KAAoBA,EAAK,GAAK,GAChCA,GAGX2W,GAAQ1a,WAAWqB,KAAK,CACpBjE,EAAG,EACH6D,KAAM,WAEF,IADA,IAAIhC,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAGzC,GADArB,EAAO0b,GAAS1b,EAAM,QACD,UAAjB2b,GAAO3b,KAAsC,IAAhBA,EAAKnB,QAClB,IAAhBmB,EAAKnB,QAAmC,UAAnB8c,GAAO3b,EAAK,KAAmBA,EAAK,IAAM,GAAKA,EAAK,IAAM,GAC/E,MAAO,SAUnB,IAAI6b,GAAQxc,KAAKyc,IAiBbC,GAfoB,SAAUC,GAC9B,IACI7e,EAAEwG,EAAE9B,EADJoa,EAAOD,EAAS,IAWpB,OATIC,EAAO,IACP9e,EAAI,IACJwG,EAAIsY,EAAO,EAAI,GAAK,mBAAqB,oBAAuBtY,EAAIsY,EAAK,GAAK,mBAAqBJ,GAAMlY,GACzG9B,EAAIoa,EAAO,GAAK,EAA0B,mBAAsBpa,EAAIoa,EAAK,IAApD,mBAA0D,mBAAqBJ,GAAMha,KAE1G1E,EAAI,mBAAqB,kBAAqBA,EAAI8e,EAAK,IAAM,kBAAoBJ,GAAM1e,GACvFwG,EAAI,kBAAoB,oBAAuBA,EAAIsY,EAAK,IAAM,iBAAmBJ,GAAMlY,GACvF9B,EAAI,KAED,CAAC1E,EAAEwG,EAAE9B,EAAE,IAUdqa,GAAkBH,GAClBI,GAAW5c,EAAMQ,OACjBkE,GAAQ5E,KAAK4E,MA0BbmY,GAAWvZ,EACXwZ,GAAU9Z,EACV+Z,GAAUzb,EAEV0b,GA5BoB,WAEpB,IADA,IAAIvc,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAQzC,IANA,IAKI4a,EALAxc,EAAM0c,GAASnc,EAAM,OACrB7C,EAAIsC,EAAI,GAAIoC,EAAIpC,EAAI,GACpB+c,EAAU,IACVC,EAAU,IACVC,EAAM,GAEHD,EAAUD,EAAUE,GAAK,CAE5B,IAAInW,EAAQ2V,GADZD,EAA6B,IAArBQ,EAAUD,IAEbjW,EAAM,GAAKA,EAAM,IAAQ1E,EAAI1E,EAC9Bsf,EAAUR,EAEVO,EAAUP,EAGlB,OAAOhY,GAAMgY,IAWjBI,GAAQpe,UAAUge,KAClBI,GAAQpe,UAAU+d,OAClBK,GAAQpe,UAAU0e,YAAc,WAC5B,OAAOJ,GAAgB/a,KAAKW,OAGhCia,GAASH,KACTG,GAASJ,OACTI,GAASO,YAAc,WAEnB,IADA,IAAI3c,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,OAAO,IAAKoB,SAASxE,UAAUJ,KAAKoE,MAAOoa,GAAS,CAAE,MAAO1Z,OAAQ3C,EAAM,CAAC,YAGhFsc,GAAQxb,OAAOmb,KACfK,GAAQxb,OAAOkb,OACfM,GAAQxb,OAAO6b,YAAcZ,GAE7B,IAAIa,GAAWrd,EAAMQ,OACjB8c,GAAOxd,KAAKwd,KACZC,GAAQzd,KAAKiO,IACbyP,GAAS1d,KAAK2d,KA2BdC,GAzBc,WAEd,IADA,IAAIjd,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAIzC,IAAIqC,EAAMkZ,GAAS5c,EAAM,OACrB7C,EAAIuG,EAAI,GACRC,EAAID,EAAI,GACR7B,EAAI6B,EAAI,GACRiK,EAAQ,CAACuP,GAAS/f,EAAI,KAAM+f,GAASvZ,EAAI,KAAMuZ,GAASrb,EAAI,MAC5Dsb,EAAKxP,EAAM,GACXyP,EAAKzP,EAAM,GACX0P,EAAK1P,EAAM,GACXrR,EAAIugB,GAAK,YAAeM,EAAK,YAAeC,EAAK,YAAeC,GAChE5gB,EAAIogB,GAAK,YAAeM,EAAK,YAAeC,EAAK,YAAeC,GAChEjf,EAAIye,GAAK,YAAeM,EAAK,YAAeC,EAAK,YAAeC,GAEpE,MAAO,CACH,YAAe/gB,EAAI,WAAcG,EAAI,YAAe2B,EACpD,aAAe9B,EAAI,YAAcG,EAAI,YAAe2B,EACpD,YAAe9B,EAAI,YAAeG,EAAI,WAAc2B,IAM5D,SAAS8e,GAASxgB,GACd,IAAI4gB,EAAMje,KAAKie,IAAI5gB,GACnB,OAAI4gB,EAAM,OACC5gB,EAAI,OAEPqgB,GAAOrgB,IAAM,GAAKogB,IAAOQ,EAAM,MAAS,MAAO,KAG3D,IAAIC,GAAWhe,EAAMQ,OACjByd,GAAQne,KAAKiO,IACb0P,GAAO3d,KAAK2d,KA4BZS,GArBc,WAEd,IADA,IAAIzd,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAGzC,IAAIyO,GADJ9P,EAAOud,GAASvd,EAAM,QACT,GACT4B,EAAI5B,EAAK,GACT6B,EAAI7B,EAAK,GAET1D,EAAIkhB,GAAM1N,EAAI,YAAelO,EAAI,YAAeC,EAAG,GACnDpF,EAAI+gB,GAAM1N,EAAI,YAAelO,EAAI,YAAeC,EAAG,GACnDzD,EAAIof,GAAM1N,EAAI,YAAelO,EAAI,YAAcC,EAAG,GAEtD,MAAO,CACH,IAAM6b,GAAS,aAAgBphB,EAAI,aAAeG,EAAI,YAAe2B,GACrE,IAAMsf,IAAU,aAAephB,EAAI,aAAeG,EAAI,YAAe2B,GACrE,IAAMsf,IAAU,YAAephB,EAAI,YAAeG,EAAI,YAAc2B,GACpE4B,EAAKnB,OAAS,EAAImB,EAAK,GAAK,IAMpC,SAAS0d,GAAShhB,GACd,IAAI4gB,EAAMje,KAAKie,IAAI5gB,GACnB,OAAI4gB,EAAM,UACEN,GAAKtgB,IAAM,IAAM,MAAQ8gB,GAAMF,EAAK,EAAI,KAAO,MAEhD,MAAJ5gB,EAGX,IAAIihB,GAAWpe,EAAMQ,OACjB6d,GAASre,EAAMO,KACf+d,GAAWhb,EACXib,GAAUvb,EACVwb,GAAUld,EAEVmd,GAAcf,GAElBa,GAAQ7f,UAAUggB,MAAQ,WACtB,OAAOD,GAAYxc,KAAKW,OAG5B0b,GAASI,MAAQ,WAEb,IADA,IAAIje,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,OAAO,IAAKoB,SAASxE,UAAUJ,KAAKoE,MAAO6b,GAAS,CAAE,MAAOnb,OAAQ3C,EAAM,CAAC,aAGhF+d,GAAQjd,OAAOmd,MAAQR,GAEvBM,GAAQhd,WAAWqB,KAAK,CACpBjE,EAAG,EACH6D,KAAM,WAEF,IADA,IAAIhC,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAGzC,GADArB,EAAO2d,GAAS3d,EAAM,SACD,UAAjB4d,GAAO5d,IAAqC,IAAhBA,EAAKnB,OACjC,MAAO,WAKnB,IAAIqf,GAAW3e,EAAMQ,OACjBoe,GAAYlB,GACZmB,GAAUrP,GAmBVsP,GAAW9e,EAAMQ,OACjBue,GAAU7O,GACV8O,GAAYd,GAqBZe,GAnBY,WAEZ,IADA,IAAIxe,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAGzC,IAAI/E,GADJ0D,EAAOqe,GAASre,EAAM,QACT,GACTtD,EAAIsD,EAAK,GACToE,EAAIpE,EAAK,GACT0D,EAAM4a,GAAQhiB,EAAGI,EAAG0H,GACpB0L,EAAIpM,EAAI,GACR9B,EAAI8B,EAAI,GACR0L,EAAK1L,EAAI,GACTiK,EAAQ4Q,GAAUzO,EAAGlO,EAAGwN,GACxBjS,EAAIwQ,EAAM,GACVhK,EAAIgK,EAAM,GACV9L,EAAI8L,EAAM,GACd,MAAO,CAACxQ,EAAGwG,EAAG9B,EAAG7B,EAAKnB,OAAS,EAAImB,EAAK,GAAK,IAK7CD,GAASR,EAAMQ,OACf0e,GAASlf,EAAMO,KACf4e,GAAW7b,EACX8b,GAAUpc,EACVqc,GAAQ/d,EAERge,GAhDc,WAEd,IADA,IAAI7e,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,IAAIqC,EAAMwa,GAASle,EAAM,OACrB7C,EAAIuG,EAAI,GACRC,EAAID,EAAI,GACR7B,EAAI6B,EAAI,GACRiK,EAAQwQ,GAAUhhB,EAAGwG,EAAG9B,GACxBvF,EAAIqR,EAAM,GACV/L,EAAI+L,EAAM,GACVyB,EAAKzB,EAAM,GACf,OAAOyQ,GAAQ9hB,EAAGsF,EAAGwN,IAsCzBuP,GAAQ1gB,UAAU6gB,MAAQ,WACtB,OAAOD,GAAUrd,KAAKW,OAG1Buc,GAASI,MAAQ,WAEb,IADA,IAAI9e,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,OAAO,IAAKoB,SAASxE,UAAUJ,KAAKoE,MAAO0c,GAAS,CAAE,MAAOhc,OAAQ3C,EAAM,CAAC,aAGhF4e,GAAM9d,OAAOge,MAAQN,GAErBI,GAAM7d,WAAWqB,KAAK,CAClBjE,EAAG,EACH6D,KAAM,WAEF,IADA,IAAIhC,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAGzC,GADArB,EAAOD,GAAOC,EAAM,SACC,UAAjBye,GAAOze,IAAqC,IAAhBA,EAAKnB,OACjC,MAAO,WAKnB,IAAIkgB,GAAUxc,EACVyc,GAASzf,EAAMO,KAEnBif,GAAQ9gB,UAAUkF,MAAQ,SAASvB,EAAGqd,GAGlC,YAFgB,IAAXA,IAAoBA,GAAO,QAEtB3e,IAANsB,GAAiC,WAAdod,GAAOpd,GACtBqd,GACAzd,KAAKW,KAAK,GAAKP,EACRJ,MAEJ,IAAIud,GAAQ,CAACvd,KAAKW,KAAK,GAAIX,KAAKW,KAAK,GAAIX,KAAKW,KAAK,GAAIP,GAAI,OAE/DJ,KAAKW,KAAK,IAGPI,EAENtE,UAAUihB,QAAU,WACxB,OAAO1d,KAAKW,KAAKzC,WAAY,GAGjC,IAAIyf,GAAU5c,EACV6c,GAAkBvS,GAEtBsS,GAAQlhB,UAAUohB,OAAS,SAASC,QACnB,IAAXA,IAAoBA,EAAO,GAEhC,IACI7Q,EADKjN,KACIiN,MAEb,OADAA,EAAI,IAAM2Q,GAAgBtS,GAAKwS,EACxB,IAAIH,GAAQ1Q,EAAK,OAAOtL,MAHtB3B,KAG+B2B,SAAS,IAGlDgc,GAAQlhB,UAAUshB,SAAW,SAASD,GAGrC,YAFgB,IAAXA,IAAoBA,EAAO,GAEzB9d,KAAK6d,QAAQC,IAGrBH,GAAQlhB,UAAUuhB,OAASL,GAAQlhB,UAAUohB,OAC7CF,GAAQlhB,UAAUwhB,SAAWN,GAAQlhB,UAAUshB,SAEjChd,EAENtE,UAAUf,IAAM,SAAUwiB,GAC9B,IAAIhc,EAAMgc,EAAGvf,MAAM,KACf3C,EAAOkG,EAAI,GACXic,EAAUjc,EAAI,GACdkc,EAAMpe,KAAKhE,KACf,GAAImiB,EAAS,CACT,IAAItjB,EAAImB,EAAK0M,QAAQyV,IAAkC,OAAtBniB,EAAKuH,OAAO,EAAG,GAAc,EAAI,GAClE,GAAI1I,GAAK,EAAK,OAAOujB,EAAIvjB,GACzB,MAAM,IAAI6F,MAAO,mBAAqByd,EAAU,YAAcniB,GAE9D,OAAOoiB,GAIf,IAAIC,GAAUtd,EACVud,GAASvgB,EAAMO,KACfigB,GAAQ1gB,KAAKiO,IAKjBuS,GAAQ5hB,UAAU+hB,UAAY,SAASC,GACnC,QAAY3f,IAAR2f,GAAqC,WAAhBH,GAAOG,GAAmB,CAC/C,GAAY,IAARA,EAEA,OAAO,IAAIJ,GAAQ,CAAC,EAAE,EAAE,EAAEre,KAAKW,KAAK,IAAK,OAE7C,GAAY,IAAR8d,EAEA,OAAO,IAAIJ,GAAQ,CAAC,IAAI,IAAI,IAAIre,KAAKW,KAAK,IAAK,OAGnD,IAAI+d,EAAU1e,KAAKwe,YAEfG,EAfG,GAiBHne,EAAO,SAAUoe,EAAKC,GACtB,IAAIC,EAAMF,EAAIG,YAAYF,EAAM,GAJzB,OAKHG,EAAKF,EAAIN,YACb,OAAI3gB,KAAKie,IAAI2C,EAAMO,GArBrB,OAqBmCL,IAEtBG,EAEJE,EAAKP,EAAMje,EAAKoe,EAAKE,GAAOte,EAAKse,EAAKD,IAG7C5gB,GAAOygB,EAAUD,EAAMje,EAAK,IAAI6d,GAAQ,CAAC,EAAE,EAAE,IAAKre,MAAQQ,EAAKR,KAAM,IAAIqe,GAAQ,CAAC,IAAI,IAAI,QAAQpgB,MACtG,OAAO,IAAIogB,GAAQpgB,EAAIkD,OAAQ,CAACnB,KAAKW,KAAK,MAE9C,OAAOse,GAAcxe,WAAM,EAAST,KAAS,KAAE5B,MAAM,EAAE,KAI3D,IAAI6gB,GAAgB,SAAUtjB,EAAEwG,EAAE9B,GAM9B,MAAO,OAHP1E,EAAIujB,GAAYvjB,IAGI,OAFpBwG,EAAI+c,GAAY/c,IAEiB,OADjC9B,EAAI6e,GAAY7e,KAIhB6e,GAAc,SAAUpiB,GAExB,OADAA,GAAK,MACO,OAAUA,EAAE,MAAQyhB,IAAOzhB,EAAE,MAAO,MAAO,MAGvDqiB,GAAiB,GAEjBC,GAAUre,EACVse,GAASthB,EAAMO,KACfghB,GAAeH,GAEfI,GAAQ,SAAUC,EAAMC,EAAMrd,QACnB,IAANA,IAAeA,EAAE,IAEtB,IADA,IAAI0D,EAAO,GAAIjG,EAAMC,UAAUzC,OAAS,EAChCwC,KAAQ,GAAIiG,EAAMjG,GAAQC,UAAWD,EAAM,GAEnD,IAAI7D,EAAO8J,EAAK,IAAM,OAKtB,GAJKwZ,GAAatjB,IAAU8J,EAAKzI,SAE7BrB,EAAOT,OAAO8d,KAAKiG,IAAc,KAEhCA,GAAatjB,GACd,MAAM,IAAI0E,MAAO,sBAAwB1E,EAAO,mBAIpD,MAFqB,WAAjBqjB,GAAOG,KAAsBA,EAAO,IAAIJ,GAAQI,IAC/B,WAAjBH,GAAOI,KAAsBA,EAAO,IAAIL,GAAQK,IAC7CH,GAAatjB,GAAMwjB,EAAMC,EAAMrd,GACjCT,MAAM6d,EAAK7d,QAAUS,GAAKqd,EAAK9d,QAAU6d,EAAK7d,WAGnD+d,GAAU3e,EACV4e,GAAMJ,GAEVG,GAAQjjB,UAAUkjB,IAClBD,GAAQjjB,UAAUsiB,YAAc,SAASU,EAAMrd,QACnC,IAANA,IAAeA,EAAE,IAEtB,IADA,IAAI0D,EAAO,GAAIjG,EAAMC,UAAUzC,OAAS,EAChCwC,KAAQ,GAAIiG,EAAMjG,GAAQC,UAAWD,EAAM,GAEnD,OAAO8f,GAAIlf,WAAM,EAAQ,CAAET,KAAMyf,EAAMrd,GAAIjB,OAAQ2E,KAGpD,IAAI8Z,GAAU7e,EAEd6e,GAAQnjB,UAAUojB,YAAc,SAASpC,QACxB,IAAXA,IAAoBA,GAAO,GAEhC,IAAIxf,EAAM+B,KAAKW,KACXP,EAAInC,EAAI,GACZ,OAAIwf,GACHzd,KAAKW,KAAO,CAAC1C,EAAI,GAAGmC,EAAGnC,EAAI,GAAGmC,EAAGnC,EAAI,GAAGmC,EAAGA,GACpCJ,MAEA,IAAI4f,GAAQ,CAAC3hB,EAAI,GAAGmC,EAAGnC,EAAI,GAAGmC,EAAGnC,EAAI,GAAGmC,EAAGA,GAAI,QAIxD,IAAI0f,GAAU/e,EACVgf,GAAgB1U,GAEpByU,GAAQrjB,UAAUujB,SAAW,SAASlC,QACrB,IAAXA,IAAoBA,EAAO,GAEhC,IACI5O,EADKlP,KACIkP,MAGb,OAFAA,EAAI,IAAM6Q,GAAczU,GAAKwS,EACzB5O,EAAI,GAAK,IAAKA,EAAI,GAAK,GACpB,IAAI4Q,GAAQ5Q,EAAK,OAAOvN,MAJtB3B,KAI+B2B,SAAS,IAGlDme,GAAQrjB,UAAUwjB,WAAa,SAASnC,GAGvC,YAFgB,IAAXA,IAAoBA,EAAO,GAEzB9d,KAAKggB,UAAUlC,IAGvB,IAAIoC,GAAUnf,EACVof,GAASpiB,EAAMO,KAEnB4hB,GAAQzjB,UAAU2jB,IAAM,SAAUlC,EAAIpiB,EAAO2hB,QACzB,IAAXA,IAAoBA,GAAS,GAElC,IAAIvb,EAAMgc,EAAGvf,MAAM,KACf3C,EAAOkG,EAAI,GACXic,EAAUjc,EAAI,GACdkc,EAAMpe,KAAKhE,KACf,GAAImiB,EAAS,CACT,IAAItjB,EAAImB,EAAK0M,QAAQyV,IAAkC,OAAtBniB,EAAKuH,OAAO,EAAG,GAAc,EAAI,GAClE,GAAI1I,GAAK,EAAG,CACR,GAAqB,UAAjBslB,GAAOrkB,GACP,OAAQA,EAAMukB,OAAO,IACjB,IAAK,IAGL,IAAK,IACDjC,EAAIvjB,KAAOiB,EACX,MACJ,IAAK,IACDsiB,EAAIvjB,KAAOiB,EAAMyH,OAAO,GACxB,MACJ,IAAK,IACD6a,EAAIvjB,KAAOiB,EAAMyH,OAAO,GACxB,MACJ,QACI6a,EAAIvjB,IAAMiB,MAEf,IAAsB,WAAlBqkB,GAAOrkB,GAGd,MAAM,IAAI4E,MAAM,mCAFhB0d,EAAIvjB,GAAKiB,EAIb,IAAIwkB,EAAM,IAAIJ,GAAQ9B,EAAKpiB,GAC3B,OAAIyhB,GACAzd,KAAKW,KAAO2f,EAAI3f,KACTX,MAEJsgB,EAEX,MAAM,IAAI5f,MAAO,mBAAqByd,EAAU,YAAcniB,GAE9D,OAAOoiB,GAIf,IAAImC,GAAUxf,EAcdoe,GAAelhB,IAZL,SAAUuhB,EAAMC,EAAMrd,GAC5B,IAAIoe,EAAOhB,EAAK7e,KACZ8f,EAAOhB,EAAK9e,KAChB,OAAO,IAAI4f,GACPC,EAAK,GAAKpe,GAAKqe,EAAK,GAAGD,EAAK,IAC5BA,EAAK,GAAKpe,GAAKqe,EAAK,GAAGD,EAAK,IAC5BA,EAAK,GAAKpe,GAAKqe,EAAK,GAAGD,EAAK,IAC5B,QAOR,IAAIE,GAAU3f,EACV4f,GAAS9iB,KAAKkL,KACd6X,GAAQ/iB,KAAKiO,IAoBjBqT,GAAe0B,KAlBJ,SAAUrB,EAAMC,EAAMrd,GAC7B,IAAIF,EAAMsd,EAAK7e,KACXmgB,EAAK5e,EAAI,GACT6e,EAAK7e,EAAI,GACT8e,EAAK9e,EAAI,GACTiK,EAAQsT,EAAK9e,KACbsgB,EAAK9U,EAAM,GACX+U,EAAK/U,EAAM,GACXgV,EAAKhV,EAAM,GACf,OAAO,IAAIuU,GACPC,GAAOC,GAAME,EAAG,IAAM,EAAE1e,GAAKwe,GAAMK,EAAG,GAAK7e,GAC3Cue,GAAOC,GAAMG,EAAG,IAAM,EAAE3e,GAAKwe,GAAMM,EAAG,GAAK9e,GAC3Cue,GAAOC,GAAMI,EAAG,IAAM,EAAE5e,GAAKwe,GAAMO,EAAG,GAAK/e,GAC3C,QAOR,IAAIgf,GAAUrgB,EAcdoe,GAAelS,IAZL,SAAUuS,EAAMC,EAAMrd,GAC5B,IAAIoe,EAAOhB,EAAKvS,MACZwT,EAAOhB,EAAKxS,MAChB,OAAO,IAAImU,GACPZ,EAAK,GAAKpe,GAAKqe,EAAK,GAAGD,EAAK,IAC5BA,EAAK,GAAKpe,GAAKqe,EAAK,GAAGD,EAAK,IAC5BA,EAAK,GAAKpe,GAAKqe,EAAK,GAAGD,EAAK,IAC5B,QAOR,IAAIa,GAAUtgB,EAEVugB,GAAO,SAAU9B,EAAMC,EAAMrd,EAAGnH,GAChC,IAAI0I,EAAQgD,EAER6Z,EAAMC,EAsBNc,EAAMC,EAAMC,EAAMC,EAAMC,EAAMC,EAM9BC,EAAKC,EAAKC,EAwBd,MAnDU,QAAN9mB,GACAulB,EAAOhB,EAAKpa,MACZqb,EAAOhB,EAAKra,OACC,QAANnK,GACPulB,EAAOhB,EAAKpU,MACZqV,EAAOhB,EAAKrU,OACC,QAANnQ,GACPulB,EAAOhB,EAAK/X,MACZgZ,EAAOhB,EAAKhY,OACC,QAANxM,GACPulB,EAAOhB,EAAKzV,MACZ0W,EAAOhB,EAAK1V,OACC,QAAN9O,GAAqB,QAANA,GACtBA,EAAI,MACJulB,EAAOhB,EAAK9Q,MACZ+R,EAAOhB,EAAK/Q,OACC,UAANzT,IACPulB,EAAOhB,EAAKlC,QAAQ3O,UACpB8R,EAAOhB,EAAKnC,QAAQ3O,WAID,MAAnB1T,EAAEsI,OAAO,EAAG,IAAoB,UAANtI,IACVsmB,GAAf5d,EAAS6c,GAAoB,GAAIiB,EAAO9d,EAAO,GAAIge,EAAOhe,EAAO,GAChD6d,GAAjB7a,EAAW8Z,GAAsB,GAAIiB,EAAO/a,EAAS,GAAIib,EAAOjb,EAAS,IAKzE6C,MAAM+X,IAAU/X,MAAMgY,GAUfhY,MAAM+X,GAGN/X,MAAMgY,GAIdM,EAAMjf,OAAOC,KAHbgf,EAAMN,EACO,GAARG,GAAqB,GAARA,GAAmB,OAAL1mB,IAAc4mB,EAAMH,KAJpDI,EAAMP,EACO,GAARK,GAAqB,GAARA,GAAmB,OAAL3mB,IAAc4mB,EAAMJ,IAHpDK,EAAMP,EAAOnf,GAPTof,EAAOD,GAAQC,EAAOD,EAAO,IACxBC,GAAQD,EAAO,KACbC,EAAOD,GAAQA,EAAOC,EAAO,IAC/BA,EAAO,IAAMD,EAEbC,EAAOD,QAaRziB,IAAR+iB,IAAqBA,EAAMJ,EAAOrf,GAAKsf,EAAOD,IAClDM,EAAMJ,EAAOvf,GAAKwf,EAAOD,GACF,IAAIN,GAAd,UAANpmB,EAA4B,CAAC8mB,EAAKF,EAAKC,GAAuB,CAACA,EAAKD,EAAKE,GAA5B9mB,IAGpD+mB,GAAoBV,GAEpBpS,GAAM,SAAUsQ,EAAMC,EAAMrd,GAC/B,OAAO4f,GAAkBxC,EAAMC,EAAMrd,EAAG,QAIzC+c,GAAejQ,IAAMA,GACrBiQ,GAAezQ,IAAMQ,GAErB,IAAI+S,GAAUlhB,EASdoe,GAAe1F,IAPL,SAAU+F,EAAMC,EAAMrd,GAC5B,IAAI8f,EAAK1C,EAAK/F,MACV0I,EAAK1C,EAAKhG,MACd,OAAO,IAAIwI,GAAQC,EAAK9f,GAAK+f,EAAGD,GAAK,QAMzC,IAAIE,GAAoBd,GAOxBnC,GAAe1X,IALL,SAAU+X,EAAMC,EAAMrd,GAC/B,OAAOggB,GAAkB5C,EAAMC,EAAMrd,EAAG,QAMzC,IAAIigB,GAAoBf,GAOxBnC,GAAepV,IALL,SAAUyV,EAAMC,EAAMrd,GAC/B,OAAOigB,GAAkB7C,EAAMC,EAAMrd,EAAG,QAMzC,IAAIkgB,GAAoBhB,GAOxBnC,GAAe/Z,IALL,SAAUoa,EAAMC,EAAMrd,GAC/B,OAAOkgB,GAAkB9C,EAAMC,EAAMrd,EAAG,QAMzC,IAAImgB,GAAoBjB,GAOxBnC,GAAe/T,IALL,SAAUoU,EAAMC,EAAMrd,GAC/B,OAAOmgB,GAAkB/C,EAAMC,EAAMrd,EAAG,QAMzC,IAAIogB,GAAUzhB,EAcdoe,GAAe1C,MAZH,SAAU+C,EAAMC,EAAMrd,GAC9B,IAAIoe,EAAOhB,EAAK/C,QACZgE,EAAOhB,EAAKhD,QAChB,OAAO,IAAI+F,GACPhC,EAAK,GAAKpe,GAAKqe,EAAK,GAAKD,EAAK,IAC9BA,EAAK,GAAKpe,GAAKqe,EAAK,GAAKD,EAAK,IAC9BA,EAAK,GAAKpe,GAAKqe,EAAK,GAAKD,EAAK,IAC9B,UAOR,IAAIiC,GAAkBnB,GAOtBnC,GAAe7B,MALH,SAAUkC,EAAMC,EAAMrd,GAC9B,OAAOqgB,GAAgBjD,EAAMC,EAAMrd,EAAG,UAM1C,IAAIsgB,GAAU3hB,EACV4hB,GAAa5kB,EAAMC,SACnB4kB,GAAQ/kB,KAAKiO,IACb+W,GAAShlB,KAAKkL,KACd+Z,GAAOjlB,KAAKC,GACZilB,GAAQllB,KAAKyL,IACb0Z,GAAQnlB,KAAKkQ,IACbkV,GAAUplB,KAAKwP,MAiEf6V,GAAgB,SAAUC,EAAQC,GAGlC,IAFA,IAAItoB,EAAIqoB,EAAO9lB,OACXgmB,EAAM,CAAC,EAAE,EAAE,EAAE,GACRxoB,EAAE,EAAGA,EAAIsoB,EAAO9lB,OAAQxC,IAAK,CAClC,IAAIyoB,EAAMH,EAAOtoB,GACbuH,EAAIghB,EAAQvoB,GAAKC,EACjBmD,EAAMqlB,EAAI3iB,KACd0iB,EAAI,IAAMT,GAAM3kB,EAAI,GAAG,GAAKmE,EAC5BihB,EAAI,IAAMT,GAAM3kB,EAAI,GAAG,GAAKmE,EAC5BihB,EAAI,IAAMT,GAAM3kB,EAAI,GAAG,GAAKmE,EAC5BihB,EAAI,IAAMplB,EAAI,GAAKmE,EAMvB,OAJAihB,EAAI,GAAKR,GAAOQ,EAAI,IACpBA,EAAI,GAAKR,GAAOQ,EAAI,IACpBA,EAAI,GAAKR,GAAOQ,EAAI,IAChBA,EAAI,GAAK,WAAaA,EAAI,GAAK,GAC5B,IAAIX,GAAQC,GAAWU,KAO9BE,GAAWliB,EACXmiB,GAASzlB,EAAMO,KAEfmlB,GAAQ5lB,KAAKiO,IAEb4X,GAAU,SAASP,GAGnB,IAAIQ,EAAQ,MACRC,EAASL,GAAS,QAClBM,EAAU,EAEVC,EAAU,CAAC,EAAG,GACdC,EAAO,GACPC,EAAW,CAAC,EAAE,GACdC,GAAW,EACXC,EAAU,GACVC,GAAO,EACPC,EAAO,EACPC,EAAO,EACPC,GAAoB,EACpBC,EAAc,GACdC,GAAY,EACZC,EAAS,EAITC,EAAY,SAASvB,GAMrB,IALAA,EAASA,GAAU,CAAC,OAAQ,UACK,WAAnBK,GAAOL,IAAwBI,GAASoB,QAClDpB,GAASoB,OAAOxB,EAAO7lB,iBACvB6lB,EAASI,GAASoB,OAAOxB,EAAO7lB,gBAEb,UAAnBkmB,GAAOL,GAAqB,CAEN,IAAlBA,EAAO9lB,SACP8lB,EAAS,CAACA,EAAO,GAAIA,EAAO,KAGhCA,EAASA,EAAO/kB,MAAM,GAEtB,IAAK,IAAIlD,EAAE,EAAGA,EAAEioB,EAAO9lB,OAAQnC,IAC3BioB,EAAOjoB,GAAKqoB,GAASJ,EAAOjoB,IAGhC6oB,EAAK1mB,OAAS,EACd,IAAK,IAAIunB,EAAI,EAAGA,EAAIzB,EAAO9lB,OAAQunB,IAC/Bb,EAAKnjB,KAAKgkB,GAAKzB,EAAO9lB,OAAO,IAIrC,OADAwnB,IACOX,EAAUf,GAejB2B,EAAgB,SAAU/oB,GAAK,OAAOA,GACtCgpB,EAAa,SAAUhpB,GAAK,OAAOA,GAcnCipB,EAAW,SAASC,EAAKC,GACzB,IAAI5B,EAAKvnB,EAET,GADiB,MAAbmpB,IAAqBA,GAAY,GACjC1b,MAAMyb,IAAiB,OAARA,EAAiB,OAAOrB,EAavC7nB,EAZCmpB,EAYGD,EAXAhB,GAAaA,EAAS5mB,OAAS,EAhC5B,SAASvB,GACpB,GAAgB,MAAZmoB,EAAkB,CAGlB,IAFA,IAAI3nB,EAAI2nB,EAAS5mB,OAAO,EACpBxC,EAAI,EACDA,EAAIyB,GAAKR,GAASmoB,EAASppB,IAC9BA,IAEJ,OAAOA,EAAE,EAEb,OAAO,EAyBSsqB,CAASF,IACRhB,EAAS5mB,OAAO,GAClBgnB,IAASD,GAEXa,EAAMb,IAASC,EAAOD,GAEvB,EAOZroB,EAAIgpB,EAAWhpB,GAEVmpB,IACDnpB,EAAI+oB,EAAc/oB,IAGP,IAAX0oB,IAAgB1oB,EAAI0nB,GAAM1nB,EAAG0oB,IAEjC1oB,EAAIioB,EAAS,GAAMjoB,GAAK,EAAIioB,EAAS,GAAKA,EAAS,IAEnDjoB,EAAI8B,KAAKd,IAAI,EAAGc,KAAKb,IAAI,EAAGjB,IAE5B,IAAI8C,EAAIhB,KAAK4I,MAAU,IAAJ1K,GAEnB,GAAIyoB,GAAaD,EAAY1lB,GACzBykB,EAAMiB,EAAY1lB,OACf,CACH,GAAwB,UAApB2kB,GAAOU,GAEP,IAAK,IAAIrpB,EAAE,EAAGA,EAAEkpB,EAAK1mB,OAAQxC,IAAK,CAC9B,IAAI8B,EAAIonB,EAAKlpB,GACb,GAAIkB,GAAKY,EAAG,CACR2mB,EAAMY,EAAQrpB,GACd,MAEJ,GAAKkB,GAAKY,GAAO9B,IAAOkpB,EAAK1mB,OAAO,EAAK,CACrCimB,EAAMY,EAAQrpB,GACd,MAEJ,GAAIkB,EAAIY,GAAKZ,EAAIgoB,EAAKlpB,EAAE,GAAI,CACxBkB,GAAKA,EAAEY,IAAIonB,EAAKlpB,EAAE,GAAG8B,GACrB2mB,EAAMC,GAASxE,YAAYmF,EAAQrpB,GAAIqpB,EAAQrpB,EAAE,GAAIkB,EAAG4nB,GACxD,WAGmB,aAApBH,GAAOU,KACdZ,EAAMY,EAAQnoB,IAEdyoB,IAAaD,EAAY1lB,GAAKykB,GAEtC,OAAOA,GAGPuB,EAAa,WAAc,OAAON,EAAc,IAEpDG,EAAUvB,GAIV,IAAI/gB,EAAI,SAAS8E,GACb,IAAIhM,EAAIqoB,GAASyB,EAAS9d,IAC1B,OAAIid,GAAQjpB,EAAEipB,GAAgBjpB,EAAEipB,KAAyBjpB,GAwM7D,OArMAkH,EAAEgjB,QAAU,SAASA,GACjB,GAAe,MAAXA,EAAiB,CACjB,GAAwB,UAApB5B,GAAO4B,GACPnB,EAAWmB,EACXtB,EAAU,CAACsB,EAAQ,GAAIA,EAAQA,EAAQ/nB,OAAO,QAC3C,CACH,IAAIlC,EAAIooB,GAAS8B,QAAQvB,GAErBG,EADY,IAAZmB,EACW,CAACjqB,EAAE4B,IAAK5B,EAAE6B,KAEVumB,GAAS+B,OAAOnqB,EAAG,IAAKiqB,GAG3C,OAAOhjB,EAEX,OAAO6hB,GAIX7hB,EAAEmjB,OAAS,SAASA,GAChB,IAAKzlB,UAAUzC,OACX,OAAOymB,EAEXM,EAAOmB,EAAO,GACdlB,EAAOkB,EAAOA,EAAOloB,OAAO,GAC5B0mB,EAAO,GACP,IAAIllB,EAAIqlB,EAAQ7mB,OAChB,GAAKkoB,EAAOloB,SAAWwB,GAAOulB,IAASC,EAEnC,IAAK,IAAIxpB,EAAI,EAAGyF,EAAO5B,MAAM8mB,KAAKD,GAAS1qB,EAAIyF,EAAKjD,OAAQxC,GAAK,EAAG,CAChE,IAAIM,EAAImF,EAAKzF,GAEfkpB,EAAKnjB,MAAMzF,EAAEipB,IAASC,EAAKD,QAE1B,CACH,IAAK,IAAIlpB,EAAE,EAAGA,EAAE2D,EAAG3D,IACf6oB,EAAKnjB,KAAK1F,GAAG2D,EAAE,IAEnB,GAAI0mB,EAAOloB,OAAS,EAAG,CAEnB,IAAIooB,EAAOF,EAAOxmB,KAAI,SAAU5D,EAAEN,GAAK,OAAOA,GAAG0qB,EAAOloB,OAAO,MAC3DqoB,EAAUH,EAAOxmB,KAAI,SAAU5D,GAAK,OAAQA,EAAIipB,IAASC,EAAOD,MAC/DsB,EAAQC,OAAM,SAAUV,EAAKpqB,GAAK,OAAO4qB,EAAK5qB,KAAOoqB,OACtDF,EAAa,SAAUhpB,GACnB,GAAIA,GAAK,GAAKA,GAAK,EAAK,OAAOA,EAE/B,IADA,IAAIlB,EAAI,EACDkB,GAAK2pB,EAAQ7qB,EAAE,IAAMA,IAC5B,IAAIuH,GAAKrG,EAAI2pB,EAAQ7qB,KAAO6qB,EAAQ7qB,EAAE,GAAK6qB,EAAQ7qB,IAEnD,OADU4qB,EAAK5qB,GAAKuH,GAAKqjB,EAAK5qB,EAAE,GAAK4qB,EAAK5qB,OAQ1D,OADAipB,EAAU,CAACM,EAAMC,GACVjiB,GAGXA,EAAEpG,KAAO,SAAS4pB,GACd,OAAK9lB,UAAUzC,QAGfsmB,EAAQiC,EACRf,IACOziB,GAJIuhB,GAOfvhB,EAAEyjB,MAAQ,SAAS1C,EAAQY,GAEvB,OADAW,EAAUvB,GACH/gB,GAGXA,EAAEke,IAAM,SAASwF,GAEb,OADA3B,EAAO2B,EACA1jB,GAGXA,EAAE2jB,OAAS,SAASd,GAChB,OAAKnlB,UAAUzC,QAGfwmB,EAAUoB,EACH7iB,GAHIyhB,GAMfzhB,EAAE4jB,iBAAmB,SAAS9e,GAkC1B,OAjCS,MAALA,IAAaA,GAAI,GACrBod,EAAoBpd,EACpB2d,IAEIC,EADAR,EACgB,SAASvoB,GAUrB,IATA,IAAIkqB,EAAKjB,EAAS,GAAG,GAAM/X,MAAM,GAC7BiZ,EAAKlB,EAAS,GAAG,GAAM/X,MAAM,GAC7BkZ,EAAMF,EAAKC,EACXE,EAAWpB,EAASjpB,GAAG,GAAMkR,MAAM,GACnCoZ,EAAUJ,GAAOC,EAAKD,GAAMlqB,EAC5BuqB,EAASF,EAAWC,EACpB3a,EAAK,EACL5H,EAAK,EACL6a,EAAW,GACP9gB,KAAKie,IAAIwK,GAAU,KAAU3H,KAAa,GAEtCwH,IAAOG,IAAW,GAClBA,EAAS,GACT5a,EAAK3P,EACLA,GAAgB,IAAV+H,EAAK/H,KAEX+H,EAAK/H,EACLA,GAAgB,IAAV2P,EAAK3P,IAEfqqB,EAAWpB,EAASjpB,GAAG,GAAMkR,MAAM,GAC5BqZ,EAASF,EAAWC,EAGnC,OAAOtqB,GAGK,SAAUA,GAAK,OAAOA,GAEnCqG,GAGXA,EAAEmkB,QAAU,SAAS5pB,GACjB,OAAS,MAALA,GACkB,WAAd6mB,GAAO7mB,KACPA,EAAI,CAACA,EAAEA,IAEXqnB,EAAWrnB,EACJyF,GAEA4hB,GAIf5hB,EAAE+gB,OAAS,SAASqD,EAAWlG,GAEvBxgB,UAAUzC,OAAS,IAAKijB,EAAM,OAClC,IAAImG,EAAS,GAEb,GAAyB,IAArB3mB,UAAUzC,OACVopB,EAASvC,EAAQ9lB,MAAM,QAEpB,GAAkB,IAAdooB,EACPC,EAAS,CAACrkB,EAAE,UAET,GAAIokB,EAAY,EAAG,CACtB,IAAIE,EAAK5C,EAAQ,GACb6C,EAAK7C,EAAQ,GAAK4C,EACtBD,EAASG,GAAU,EAAGJ,GAAW,GAAOznB,KAAI,SAAUlE,GAAK,OAAOuH,EAAGskB,EAAO7rB,GAAG2rB,EAAU,GAAMG,UAE5F,CACHxD,EAAS,GACT,IAAI0D,EAAU,GACd,GAAI5C,GAAaA,EAAS5mB,OAAS,EAC/B,IAAK,IAAIxC,EAAI,EAAGisB,EAAM7C,EAAS5mB,OAAQ0pB,EAAM,GAAKD,EAAKC,EAAMlsB,EAAIisB,EAAMjsB,EAAIisB,EAAKC,EAAMlsB,IAAMA,IACxFgsB,EAAQjmB,KAAiC,IAA3BqjB,EAASppB,EAAE,GAAGopB,EAASppB,UAGzCgsB,EAAU/C,EAEd2C,EAASI,EAAQ9nB,KAAI,SAAUmI,GAAK,OAAO9E,EAAE8E,MAMjD,OAHIqc,GAASjD,KACTmG,EAASA,EAAO1nB,KAAI,SAAU7D,GAAK,OAAOA,EAAEolB,SAEzCmG,GAGXrkB,EAAE4kB,MAAQ,SAAS9rB,GACf,OAAS,MAALA,GACAspB,EAAYtpB,EACLkH,GAEAoiB,GAIfpiB,EAAE6kB,MAAQ,SAAS9kB,GACf,OAAS,MAALA,GACAsiB,EAAStiB,EACFC,GAEAqiB,GAIfriB,EAAE8kB,OAAS,SAAS/rB,GAChB,OAAS,MAALA,GACAyoB,EAASL,GAASpoB,GACXiH,GAEAwhB,GAIRxhB,GAGX,SAASwkB,GAAUO,EAAMC,EAAOC,GAI9B,IAHA,IAAIxB,EAAQ,GACRyB,EAAYH,EAAOC,EACnBN,EAAOO,EAAoBC,EAAYF,EAAQ,EAAIA,EAAQ,EAAxCA,EACdvsB,EAAIssB,EAAMG,EAAYzsB,EAAIisB,EAAMjsB,EAAIisB,EAAKQ,EAAYzsB,IAAMA,IAClEgrB,EAAMjlB,KAAK/F,GAEb,OAAOgrB,EAQT,IAAI0B,GAAUxmB,EAEVymB,GAAU9D,GAeV+D,GAAS,SAAStE,GAClB,IAAIxf,EAAQgD,EAAUC,EAElB8gB,EAAGC,EAAMC,EAAMC,EAEnB,GAAsB,KADtB1E,EAASA,EAAOpkB,KAAI,SAAU7D,GAAK,OAAO,IAAIqsB,GAAQrsB,OAC3CmC,OAENsG,EAASwf,EAAOpkB,KAAI,SAAU7D,GAAK,OAAOA,EAAE+R,SAAW0a,EAAOhkB,EAAO,GAAIikB,EAAOjkB,EAAO,GACxF+jB,EAAI,SAAS3rB,GACT,IAAIkR,EAAO,CAAC,EAAG,EAAG,GAAGlO,KAAI,SAAUlE,GAAK,OAAO8sB,EAAK9sB,GAAMkB,GAAK6rB,EAAK/sB,GAAK8sB,EAAK9sB,OAC9E,OAAO,IAAI0sB,GAAQta,EAAK,aAEzB,GAAsB,IAAlBkW,EAAO9lB,OAEbsJ,EAAWwc,EAAOpkB,KAAI,SAAU7D,GAAK,OAAOA,EAAE+R,SAAW0a,EAAOhhB,EAAS,GAAIihB,EAAOjhB,EAAS,GAAIkhB,EAAOlhB,EAAS,GAClH+gB,EAAI,SAAS3rB,GACT,IAAIkR,EAAO,CAAC,EAAG,EAAG,GAAGlO,KAAI,SAAUlE,GAAK,OAAS,EAAEkB,IAAI,EAAEA,GAAK4rB,EAAK9sB,GAAO,GAAK,EAAEkB,GAAKA,EAAI6rB,EAAK/sB,GAAOkB,EAAIA,EAAI8rB,EAAKhtB,MACnH,OAAO,IAAI0sB,GAAQta,EAAK,aAEzB,GAAsB,IAAlBkW,EAAO9lB,OAAc,CAE5B,IAAIyqB,EACHlhB,EAAWuc,EAAOpkB,KAAI,SAAU7D,GAAK,OAAOA,EAAE+R,SAAW0a,EAAO/gB,EAAS,GAAIghB,EAAOhhB,EAAS,GAAIihB,EAAOjhB,EAAS,GAAIkhB,EAAOlhB,EAAS,GACtI8gB,EAAI,SAAS3rB,GACT,IAAIkR,EAAO,CAAC,EAAG,EAAG,GAAGlO,KAAI,SAAUlE,GAAK,OAAS,EAAEkB,IAAI,EAAEA,IAAI,EAAEA,GAAK4rB,EAAK9sB,GAAO,GAAK,EAAEkB,IAAM,EAAEA,GAAKA,EAAI6rB,EAAK/sB,GAAO,GAAK,EAAEkB,GAAKA,EAAIA,EAAI8rB,EAAKhtB,GAAOkB,EAAEA,EAAEA,EAAI+rB,EAAKjtB,MACjK,OAAO,IAAI0sB,GAAQta,EAAK,YAEzB,MAAIkW,EAAO9lB,QAAU,GAYxB,MAAM,IAAI0qB,WAAW,mDAVrB,IAAIC,EAAMC,EAAK3rB,EACf0rB,EAAO7E,EAAOpkB,KAAI,SAAU7D,GAAK,OAAOA,EAAE+R,SAC1C3Q,EAAI6mB,EAAO9lB,OAAS,EACpB4qB,EA5CQ,SAAS3rB,GAErB,IADA,IAAI2rB,EAAM,CAAC,EAAG,GACLptB,EAAI,EAAGA,EAAIyB,EAAGzB,IAAK,CAExB,IADA,IAAIqtB,EAAS,CAAC,GACLC,EAAI,EAAGA,GAAKF,EAAI5qB,OAAQ8qB,IAC7BD,EAAOC,IAAMF,EAAIE,IAAM,GAAKF,EAAIE,EAAI,GAExCF,EAAMC,EAEV,OAAOD,EAmCGG,CAAU9rB,GAChBorB,EAAI,SAAU3rB,GACV,IAAI8L,EAAI,EAAI9L,EACRkR,EAAO,CAAC,EAAG,EAAG,GAAGlO,KAAI,SAAUlE,GAAK,OAAOmtB,EAAKK,QAAO,SAAUC,EAAKC,EAAIJ,GAAK,OAAQG,EAAML,EAAIE,GAAKtqB,KAAKiO,IAAKjE,EAAIvL,EAAI6rB,GAAOtqB,KAAKiO,IAAK/P,EAAGosB,GAAMI,EAAG1tB,KAAQ,MACjK,OAAO,IAAI0sB,GAAQta,EAAK,QAKhC,OAAOya,GAcPc,GAAWnnB,EAEXonB,GAAQ,SAAUC,EAAQC,EAAK3sB,GAC/B,IAAKysB,GAAMzsB,GACP,MAAM,IAAI0E,MAAM,sBAAwB1E,GAE5C,OAAOysB,GAAMzsB,GAAM0sB,EAAQC,IAG3BC,GAAU,SAAUxmB,GAAK,OAAO,SAAUsmB,EAAOC,GAC7C,IAAIE,EAAKL,GAASG,GAAK1qB,MACnBikB,EAAKsG,GAASE,GAAQzqB,MAC1B,OAAOuqB,GAASvqB,IAAImE,EAAEymB,EAAI3G,MAG9B4G,GAAO,SAAU1mB,GAAK,OAAO,SAAUymB,EAAI3G,GACvC,IAAI5B,EAAM,GAIV,OAHAA,EAAI,GAAKle,EAAEymB,EAAG,GAAI3G,EAAG,IACrB5B,EAAI,GAAKle,EAAEymB,EAAG,GAAI3G,EAAG,IACrB5B,EAAI,GAAKle,EAAEymB,EAAG,GAAI3G,EAAG,IACd5B,IAmBfmI,GAAMM,OAASH,GAAQE,IAhBV,SAAU1oB,GAAK,OAAOA,MAiBnCqoB,GAAMO,SAAWJ,GAAQE,IAhBV,SAAU1oB,EAAEC,GAAK,OAAOD,EAAIC,EAAI,QAiB/CooB,GAAMQ,OAASL,GAAQE,IAdV,SAAU1oB,EAAEC,GAAK,OAAO,KAAO,GAAK,EAAED,EAAE,MAAQ,EAAEC,EAAE,UAejEooB,GAAMS,QAAUN,GAAQE,IAdV,SAAU1oB,EAAEC,GAAK,OAAOA,EAAI,IAAM,EAAID,EAAIC,EAAI,IAAM,KAAO,EAAI,GAAK,EAAID,EAAI,MAAU,EAAIC,EAAI,UAe5GooB,GAAM5K,OAAS+K,GAAQE,IAlBV,SAAU1oB,EAAEC,GAAK,OAAOD,EAAIC,EAAIA,EAAID,MAmBjDqoB,GAAMU,QAAUP,GAAQE,IAlBV,SAAU1oB,EAAEC,GAAK,OAAOD,EAAIC,EAAID,EAAIC,MAmBlDooB,GAAMW,MAAQR,GAAQE,IAfV,SAAU1oB,EAAEC,GACpB,OAAU,MAAND,IACJA,EAAWC,EAAI,IAAX,KAAmB,EAAID,EAAI,MACpB,IAFa,IAEDA,MAa3BqoB,GAAMY,KAAOT,GAAQE,IAjBV,SAAU1oB,EAAEC,GAAK,OAAO,KAAO,GAAK,EAAIA,EAAI,MAAQD,EAAE,UAigBjE,IA7eA,IAAIkpB,GAAUb,GAMVc,GAASxrB,EAAMO,KACfN,GAAWD,EAAMC,SACjBiB,GAAQlB,EAAMkB,MACduqB,GAAQ3rB,KAAKiO,IACb2d,GAAQ5rB,KAAKkQ,IACb2b,GAAQ7rB,KAAKyL,IACbqgB,GAAWtoB,EA+EXuoB,GAAU7oB,EAGV8oB,GAAUhsB,KAAK4I,MACfqjB,GAASjsB,KAAKisB,OAUdxrB,GAAOf,EACP+c,GAAMzc,KAAKyc,IACXyP,GAAQlsB,KAAKiO,IACbrF,GAAQ5I,KAAK4I,MACbujB,GAAQnsB,KAAKie,IAGbuJ,GAAU,SAAU4E,EAAM7tB,QACb,IAARA,IAAiBA,EAAI,MAE1B,IAAIT,EAAI,CACJoB,IAAK8F,OAAOqnB,UACZltB,KAAuB,EAAlB6F,OAAOqnB,UACZ5B,IAAK,EACL6B,OAAQ,GACRC,MAAO,GAoBX,MAlBmB,WAAf9rB,GAAK2rB,KACLA,EAAO1uB,OAAO4uB,OAAOF,IAEzBA,EAAK9a,SAAQ,SAAU8V,GACf7oB,GAAqB,WAAdkC,GAAK2mB,KAAqBA,EAAMA,EAAI7oB,IAC3C6oB,SAAsCzb,MAAMyb,KAC5CtpB,EAAEwuB,OAAOvpB,KAAKqkB,GACdtpB,EAAE2sB,KAAOrD,EACLA,EAAMtpB,EAAEoB,MAAOpB,EAAEoB,IAAMkoB,GACvBA,EAAMtpB,EAAEqB,MAAOrB,EAAEqB,IAAMioB,GAC3BtpB,EAAEyuB,OAAS,MAInBzuB,EAAE4pB,OAAS,CAAC5pB,EAAEoB,IAAKpB,EAAEqB,KAErBrB,EAAE2pB,OAAS,SAAUtpB,EAAMyd,GAAO,OAAO6L,GAAO3pB,EAAGK,EAAMyd,IAElD9d,GAIP2pB,GAAS,SAAU2E,EAAMjuB,EAAMyd,QACjB,IAATzd,IAAkBA,EAAK,cACf,IAARyd,IAAiBA,EAAI,GAER,SAAdnb,GAAK2rB,KACLA,EAAO5E,GAAQ4E,IAEnB,IAAIltB,EAAMktB,EAAKltB,IACXC,EAAMitB,EAAKjtB,IACXmtB,EAASF,EAAKE,OAAOhqB,MAAK,SAAUC,EAAEC,GAAK,OAAOD,EAAEC,KAExD,GAAY,IAARoZ,EAAa,MAAO,CAAC1c,EAAIC,GAE7B,IAAIsoB,EAAS,GAOb,GALyB,MAArBtpB,EAAKuH,OAAO,EAAE,KACd+hB,EAAO1kB,KAAK7D,GACZuoB,EAAO1kB,KAAK5D,IAGS,MAArBhB,EAAKuH,OAAO,EAAE,GAAY,CAC1B+hB,EAAO1kB,KAAK7D,GACZ,IAAK,IAAIlC,EAAE,EAAGA,EAAE4e,EAAK5e,IACjByqB,EAAO1kB,KAAK7D,EAAMlC,EAAE4e,GAAMzc,EAAID,IAElCuoB,EAAO1kB,KAAK5D,QAGX,GAAyB,MAArBhB,EAAKuH,OAAO,EAAE,GAAY,CAC/B,GAAIxG,GAAO,EACP,MAAM,IAAI2D,MAAM,uDAEpB,IAAI2pB,EAAUxsB,KAAKysB,OAAShQ,GAAIvd,GAC5BwtB,EAAU1sB,KAAKysB,OAAShQ,GAAItd,GAChCsoB,EAAO1kB,KAAK7D,GACZ,IAAK,IAAII,EAAI,EAAGA,EAAIsc,EAAKtc,IACrBmoB,EAAO1kB,KAAKmpB,GAAM,GAAIM,EAAYltB,EAAIsc,GAAQ8Q,EAAUF,KAE5D/E,EAAO1kB,KAAK5D,QAGX,GAAyB,MAArBhB,EAAKuH,OAAO,EAAE,GAAY,CAC/B+hB,EAAO1kB,KAAK7D,GACZ,IAAK,IAAIkI,EAAI,EAAGA,EAAIwU,EAAKxU,IAAO,CAC5B,IAAItI,GAAMwtB,EAAO9sB,OAAO,GAAK4H,EAAKwU,EAC9B+Q,EAAK/jB,GAAM9J,GACf,GAAI6tB,IAAO7tB,EACP2oB,EAAO1kB,KAAKupB,EAAOK,QAChB,CACH,IAAIC,EAAK9tB,EAAI6tB,EACblF,EAAO1kB,KAAMupB,EAAOK,IAAK,EAAEC,GAAQN,EAAOK,EAAG,GAAGC,IAGxDnF,EAAO1kB,KAAK5D,QAIX,GAAyB,MAArBhB,EAAKuH,OAAO,EAAE,GAAY,CAM/B,IAAImnB,EACApuB,EAAI6tB,EAAO9sB,OACXstB,EAAc,IAAIjsB,MAAMpC,GACxBsuB,EAAe,IAAIlsB,MAAM+a,GACzBoR,GAAS,EACTC,EAAW,EACXC,EAAY,MAGhBA,EAAY,IACFnqB,KAAK7D,GACf,IAAK,IAAIoI,EAAI,EAAGA,EAAIsU,EAAKtU,IACrB4lB,EAAUnqB,KAAK7D,EAAQoI,EAAIsU,GAAQzc,EAAID,IAI3C,IAFAguB,EAAUnqB,KAAK5D,GAER6tB,GAAQ,CAEX,IAAK,IAAI1C,EAAE,EAAGA,EAAE1O,EAAK0O,IACjByC,EAAazC,GAAK,EAEtB,IAAK,IAAI6C,EAAI,EAAGA,EAAI1uB,EAAG0uB,IAInB,IAHA,IAAIlvB,EAAQquB,EAAOa,GACfC,EAAUpoB,OAAOqnB,UACjBgB,OAAO,EACFC,EAAI,EAAGA,EAAI1R,EAAK0R,IAAO,CAC5B,IAAIC,EAAOpB,GAAMe,EAAUI,GAAKrvB,GAC5BsvB,EAAOH,IACPA,EAAUG,EACVF,EAAOC,GAEXP,EAAaM,KACbP,EAAYK,GAAOE,EAM3B,IADA,IAAIG,EAAe,IAAI3sB,MAAM+a,GACpB6R,EAAI,EAAGA,EAAI7R,EAAK6R,IACrBD,EAAaC,GAAO,KAExB,IAAK,IAAIC,EAAI,EAAGA,EAAIjvB,EAAGivB,IAEW,OAA1BF,EADJX,EAAUC,EAAYY,IAElBF,EAAaX,GAAWP,EAAOoB,GAE/BF,EAAaX,IAAYP,EAAOoB,GAGxC,IAAK,IAAIC,EAAI,EAAGA,EAAI/R,EAAK+R,IACrBH,EAAaG,IAAQ,EAAEZ,EAAaY,GAIxCX,GAAS,EACT,IAAK,IAAIY,EAAI,EAAGA,EAAIhS,EAAKgS,IACrB,GAAIJ,EAAaI,KAASV,EAAUU,GAAM,CACtCZ,GAAS,EACT,MAIRE,EAAYM,IACZP,EAEe,MACXD,GAAS,GAOjB,IADA,IAAIa,EAAY,GACPC,EAAI,EAAGA,EAAIlS,EAAKkS,IACrBD,EAAUC,GAAO,GAErB,IAAK,IAAIC,EAAI,EAAGA,EAAItvB,EAAGsvB,IAEnBF,EADAhB,EAAUC,EAAYiB,IACHhrB,KAAKupB,EAAOyB,IAGnC,IADA,IAAIC,EAAkB,GACbC,EAAI,EAAGA,EAAIrS,EAAKqS,IACrBD,EAAgBjrB,KAAK8qB,EAAUI,GAAK,IACpCD,EAAgBjrB,KAAK8qB,EAAUI,GAAKJ,EAAUI,GAAKzuB,OAAO,IAE9DwuB,EAAkBA,EAAgB1rB,MAAK,SAAUC,EAAEC,GAAI,OAAOD,EAAEC,KAChEilB,EAAO1kB,KAAKirB,EAAgB,IAC5B,IAAK,IAAIE,EAAI,EAAGA,EAAMF,EAAgBxuB,OAAQ0uB,GAAM,EAAG,CACnD,IAAI7kB,EAAI2kB,EAAgBE,GACnBviB,MAAMtC,KAA8B,IAAvBoe,EAAO5c,QAAQxB,IAC7Boe,EAAO1kB,KAAKsG,IAIxB,OAAOoe,GAGP0G,GAAY,CAAC3G,QAASA,GAASC,OAAQA,IAEvC2G,GAAUlrB,EAaVmrB,GAAUnrB,EACVgI,GAAOlL,KAAKkL,KACZ+C,GAAMjO,KAAKiO,IACX/O,GAAMc,KAAKd,IACXC,GAAMa,KAAKb,IACXqQ,GAAQxP,KAAKwP,MACbyO,GAAMje,KAAKie,IACXxS,GAAMzL,KAAKyL,IACXyE,GAAMlQ,KAAKkQ,IACXoe,GAAMtuB,KAAKsuB,IACXruB,GAAKD,KAAKC,GAwDVsuB,GAAUrrB,EAoBVG,GAAQH,EAeRsrB,GAAWhrB,EAEXirB,GAAQ5I,GAER6I,GAAS,CACZC,KAAM,WAAkB,OAAOF,GAAM,CAACD,GAASjnB,IAAI,IAAI,EAAE,IAAKinB,GAASjnB,IAAI,IAAI,GAAG,OAClFqnB,IAAK,WAAiB,OAAOH,GAAM,CAAC,OAAO,OAAO,OAAO,SAAStwB,KAAK,SAoBpE0wB,GAAc,CAEdC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/FC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/FC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/FC,QAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAClGC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/FC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACjGC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/FC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/FC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/FC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACjGC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACjGC,QAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAClGC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/FC,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAChGC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACjGC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/FC,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAChGC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACjGC,QAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAIlGC,SAAU,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACzHC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACvHC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACrHC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACrHC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACrHC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACvHC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACrHC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACrHC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAIrHC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACpFC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACtFC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/FC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAChIC,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACrFC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAClIC,QAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACvFC,QAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,YAI7Fj0B,GAAI,EAAGyF,GAAO/E,OAAO8d,KAAKqT,IAAc7xB,GAAIyF,GAAKjD,OAAQxC,IAAK,EAAG,CACtE,IAAIuB,GAAMkE,GAAKzF,IAEf6xB,GAAYtwB,GAAIkB,eAAiBovB,GAAYtwB,IAGjD,IAAI2yB,GAAgBrC,GAEhBsC,GAAS3tB,EAyEb,OAzBA2tB,GAAOC,QAtmCO,SAAU9L,EAAQnnB,EAAMonB,QACpB,IAATpnB,IAAkBA,EAAK,aACX,IAAZonB,IAAqBA,EAAQ,MAElC,IAAItoB,EAAIqoB,EAAO9lB,OACV+lB,IAAWA,EAAU1kB,MAAM8mB,KAAK,IAAI9mB,MAAM5D,IAAIiE,KAAI,WAAc,OAAO,MAE5E,IAAIF,EAAI/D,EAAIsoB,EAAQiF,QAAO,SAASjoB,EAAGC,GAAK,OAAOD,EAAIC,KAIvD,GAHA+iB,EAAQjU,SAAQ,SAAU+f,EAAEr0B,GAAKuoB,EAAQvoB,IAAMgE,KAE/CskB,EAASA,EAAOpkB,KAAI,SAAU7D,GAAK,OAAO,IAAIwnB,GAAQxnB,MACzC,SAATc,EACA,OAAOknB,GAAcC,EAAQC,GAQjC,IANA,IAAI+L,EAAQhM,EAAOiM,QACf/L,EAAM8L,EAAMzzB,IAAIM,GAChBqzB,EAAM,GACNC,EAAK,EACLC,EAAK,EAEA10B,EAAE,EAAGA,EAAEwoB,EAAIhmB,OAAQxC,IAGxB,GAFAwoB,EAAIxoB,IAAMwoB,EAAIxoB,IAAM,GAAKuoB,EAAQ,GACjCiM,EAAIzuB,KAAK4I,MAAM6Z,EAAIxoB,IAAM,EAAIuoB,EAAQ,IACd,MAAnBpnB,EAAKqkB,OAAOxlB,KAAe2O,MAAM6Z,EAAIxoB,IAAK,CAC1C,IAAI20B,EAAInM,EAAIxoB,GAAK,IAAMioB,GACvBwM,GAAMvM,GAAMyM,GAAKpM,EAAQ,GACzBmM,GAAMvM,GAAMwM,GAAKpM,EAAQ,GAIjC,IAAIzhB,EAAQwtB,EAAMxtB,QAAUyhB,EAAQ,GACpCD,EAAOhU,SAAQ,SAAUjU,EAAEu0B,GACvB,IAAIC,EAAOx0B,EAAEQ,IAAIM,GACjB2F,GAASzG,EAAEyG,QAAUyhB,EAAQqM,EAAG,GAChC,IAAK,IAAI50B,EAAE,EAAGA,EAAEwoB,EAAIhmB,OAAQxC,IACxB,IAAK2O,MAAMkmB,EAAK70B,IAEZ,GADAw0B,EAAIx0B,IAAMuoB,EAAQqM,EAAG,GACE,MAAnBzzB,EAAKqkB,OAAOxlB,GAAY,CACxB,IAAI20B,EAAIE,EAAK70B,GAAK,IAAMioB,GACxBwM,GAAMvM,GAAMyM,GAAKpM,EAAQqM,EAAG,GAC5BF,GAAMvM,GAAMwM,GAAKpM,EAAQqM,EAAG,QAE5BpM,EAAIxoB,IAAM60B,EAAK70B,GAAKuoB,EAAQqM,EAAG,MAM/C,IAAK,IAAItyB,EAAI,EAAGA,EAAIkmB,EAAIhmB,OAAQF,IAC5B,GAAyB,MAArBnB,EAAKqkB,OAAOljB,GAAc,CAE1B,IADA,IAAIwyB,EAAM1M,GAAQsM,EAAKF,EAAIlyB,GAAMmyB,EAAKD,EAAIlyB,IAAQ2lB,GAAO,IAClD6M,EAAM,GAAKA,GAAO,IACzB,KAAOA,GAAO,KAAOA,GAAO,IAC5BtM,EAAIlmB,GAAOwyB,OAEXtM,EAAIlmB,GAAOkmB,EAAIlmB,GAAKkyB,EAAIlyB,GAIhC,OADAwE,GAAS7G,EACF,IAAK4nB,GAAQW,EAAKrnB,GAAO2F,MAAMA,EAAQ,OAAU,EAAIA,GAAO,IA4iCvEqtB,GAAOvH,OAlmBQ,SAAUtE,GACrB,IAAI/gB,EAAIqlB,GAAOtE,GAEf,OADA/gB,EAAEkqB,MAAQ,WAAc,OAAO9E,GAAQplB,IAChCA,GAgmBX4sB,GAAOvG,MAAQa,GACf0F,GAAOY,UA1hBS,SAASC,EAAOC,EAAWhO,EAAKmF,EAAO8I,QACpC,IAAVF,IAAmBA,EAAM,UACX,IAAdC,IAAuBA,GAAW,UAC1B,IAARhO,IAAiBA,EAAI,QACX,IAAVmF,IAAmBA,EAAM,QACX,IAAd8I,IAAuBA,EAAU,CAAC,EAAE,IAEzC,IAAYC,EAARC,EAAK,EACiB,UAAtB1G,GAAOwG,GACPC,EAAKD,EAAU,GAAKA,EAAU,IAE9BC,EAAK,EACLD,EAAY,CAACA,EAAWA,IAG5B,IAAI3tB,EAAI,SAAS8tB,GACb,IAAI9vB,EAAInB,KAAW4wB,EAAM,KAAK,IAAQC,EAAYI,GAC9Cp1B,EAAI0uB,GAAMuG,EAAU,GAAMC,EAAKE,EAAQjJ,GAEvCkJ,GADW,IAAPF,EAAWnO,EAAI,GAAMoO,EAAQD,EAAMnO,GAC5BhnB,GAAK,EAAEA,GAAM,EACxBs1B,EAAQ1G,GAAMtpB,GACdiwB,EAAQ5G,GAAMrpB,GAIlB,OAAOupB,GAAS3rB,GAAS,CAAG,KAHpBlD,EAAKq1B,IAAS,OAAUC,EAAU,QAASC,IAGjB,KAF1Bv1B,EAAKq1B,IAAS,OAAUC,EAAU,OAASC,IAEX,KADhCv1B,EAAKq1B,GAAO,QAAWC,IACa,MAiDhD,OA9CAhuB,EAAEytB,MAAQ,SAASjzB,GACf,OAAU,MAALA,EAAqBizB,GAC1BA,EAAQjzB,EACDwF,IAGXA,EAAE0tB,UAAY,SAASn0B,GACnB,OAAU,MAALA,EAAqBm0B,GAC1BA,EAAYn0B,EACLyG,IAGXA,EAAE6kB,MAAQ,SAAS9kB,GACf,OAAU,MAALA,EAAqB8kB,GAC1BA,EAAQ9kB,EACDC,IAGXA,EAAE0f,IAAM,SAASlf,GACb,OAAU,MAALA,EAAqBkf,GAEN,UAAhByH,GADJzH,EAAMlf,GAGS,IADXqtB,EAAKnO,EAAI,GAAKA,EAAI,MACFA,EAAMA,EAAI,IAE1BmO,EAAK,EAEF7tB,IAGXA,EAAE2tB,UAAY,SAASntB,GACnB,OAAU,MAALA,EAAqBmtB,GACR,UAAdxG,GAAO3mB,IACPmtB,EAAYntB,EACZotB,EAAKptB,EAAE,GAAKA,EAAE,KAEdmtB,EAAY,CAACntB,EAAEA,GACfotB,EAAK,GAEF5tB,IAGXA,EAAEkqB,MAAQ,WAAc,OAAO3C,GAAS2C,MAAMlqB,IAE9CA,EAAE0f,IAAIA,GAEC1f,GAidX4sB,GAAOrP,IAAMqP,GAAOjQ,YAAcQ,GAClCyP,GAAOlF,OAzcQ,WAEX,IADA,IAAIwG,EAAO,IACFz1B,EAAE,EAAGA,EAAE,EAAGA,IACfy1B,GARK,mBAQUjQ,OAAOwJ,GAAmB,GAAXC,OAElC,OAAO,IAAIF,GAAQ0G,EAAM,QAqc7BtB,GAAO1C,MAAQ5I,GAGfsL,GAAO3J,QAAU2G,GAAU3G,QAC3B2J,GAAOuB,SA1PQ,SAAUnwB,EAAGC,GAGxBD,EAAI,IAAI6rB,GAAQ7rB,GAChBC,EAAI,IAAI4rB,GAAQ5rB,GAChB,IAAImwB,EAAKpwB,EAAEoe,YACPiS,EAAKpwB,EAAEme,YACX,OAAOgS,EAAKC,GAAMD,EAAK,MAASC,EAAK,MAASA,EAAK,MAASD,EAAK,MAoPrExB,GAAO0B,OArOM,SAAStwB,EAAGC,EAAGswB,EAAIC,EAAIC,QACpB,IAAPF,IAAgBA,EAAG,QACZ,IAAPC,IAAgBA,EAAG,QACZ,IAAPC,IAAgBA,EAAG,GAIxB,IAAIC,EAAU,SAASC,GACnB,OAAO,IAAMA,GAAO,EAAIjzB,KAExBkzB,EAAU,SAASC,GACnB,OAAQ,EAAInzB,GAAKmzB,EAAO,KAE5B7wB,EAAI,IAAI8rB,GAAQ9rB,GAChBC,EAAI,IAAI6rB,GAAQ7rB,GAChB,IAAI6B,EAAMxD,MAAM8mB,KAAKplB,EAAE6M,OACnBiZ,EAAKhkB,EAAI,GACTgvB,EAAKhvB,EAAI,GACTivB,EAAKjvB,EAAI,GACTiK,EAAQzN,MAAM8mB,KAAKnlB,EAAE4M,OACrBmkB,EAAKjlB,EAAM,GACXklB,EAAKllB,EAAM,GACXmlB,EAAKnlB,EAAM,GACXolB,GAAQrL,EAAKkL,GAAI,EACjBI,EAAKzoB,GAAK+C,GAAIolB,EAAI,GAAKplB,GAAIqlB,EAAI,IAC/BM,EAAK1oB,GAAK+C,GAAIulB,EAAI,GAAKvlB,GAAIwlB,EAAI,IAC/BI,GAAQF,EAAKC,GAAI,EACjBE,EAAI,IAAK,EAAE5oB,GAAK+C,GAAI4lB,EAAM,IAAI5lB,GAAI4lB,EAAM,GAAK5lB,GAAI,GAAI,MACrD8lB,EAAMV,GAAI,EAAES,GACZE,EAAMR,GAAI,EAAEM,GACZG,EAAM/oB,GAAK+C,GAAI8lB,EAAK,GAAK9lB,GAAIqlB,EAAI,IACjCY,EAAMhpB,GAAK+C,GAAI+lB,EAAK,GAAK/lB,GAAIwlB,EAAI,IACjCU,GAASF,EAAMC,GAAK,EACpBE,EAAUnB,EAAQzjB,GAAM8jB,EAAIS,IAC5BM,EAAUpB,EAAQzjB,GAAMikB,EAAIO,IAC5BM,EAAMF,GAAW,EAAIA,EAAUA,EAAU,IACzCG,EAAMF,GAAW,EAAIA,EAAUA,EAAU,IACzCG,EAAQvW,GAAIqW,EAAMC,GAAO,KAAOD,EAAMC,EAAM,KAAK,GAAKD,EAAMC,GAAK,EACjEE,EAAI,EAAI,IAAKhpB,GAAI0nB,EAAQqB,EAAQ,KAAO,IAAK/oB,GAAI0nB,EAAQ,EAAEqB,IAAU,IAAK/oB,GAAI0nB,EAAQ,EAAEqB,EAAQ,IAAM,GAAI/oB,GAAI0nB,EAAQ,EAAEqB,EAAQ,KAChIE,EAAUH,EAAMD,EACpBI,EAAUzW,GAAIyW,IAAY,IAAMA,EAAUH,GAAOD,EAAMI,EAAU,IAAMA,EAAU,IACjFA,EAAU,EAAExpB,GAAK+oB,EAAIC,GAAKhkB,GAAIijB,EAAQuB,GAAS,GAC/C,IAAIC,EAASpB,EAAKlL,EACduM,EAAUV,EAAMD,EAChBY,EAAK,EAAK,KAAM5mB,GAAIylB,EAAO,GAAI,GAAIxoB,GAAK,GAAK+C,GAAIylB,EAAO,GAAI,IAC5DoB,EAAK,EAAI,KAAMX,EACfY,EAAK,EAAI,KAAMZ,EAAMM,EACrBO,EAAa,GAAG1G,IAAKrgB,IAAKumB,EAAQ,KAAK,GAAI,IAE3CS,GADK,EAAE/pB,GAAK+C,GAAIkmB,EAAO,IAAIlmB,GAAIkmB,EAAO,GAAKlmB,GAAI,GAAI,KAC1CiC,GAAI,EAAEijB,EAAQ6B,IACvBpM,EAAS1d,GAAK+C,GAAI0mB,GAAQ7B,EAAG+B,GAAK,GAAK5mB,GAAI2mB,GAAS7B,EAAG+B,GAAK,GAAK7mB,GAAIymB,GAAS1B,EAAG+B,GAAK,GAAKE,GAAIL,GAAS7B,EAAG+B,KAAMJ,GAAS1B,EAAG+B,KACjI,OAAO51B,GAAI,EAAGD,GAAI,IAAK0pB,KAmL3BuI,GAAO+D,SA7KQ,SAAS3yB,EAAGC,EAAGrE,QACZ,IAATA,IAAkBA,EAAK,OAI5BoE,EAAI,IAAIgsB,GAAQhsB,GAChBC,EAAI,IAAI+rB,GAAQ/rB,GAChB,IAAImwB,EAAKpwB,EAAE1E,IAAIM,GACXy0B,EAAKpwB,EAAE3E,IAAIM,GACXg3B,EAAS,EACb,IAAK,IAAIn4B,KAAK21B,EAAI,CACd,IAAIr1B,GAAKq1B,EAAG31B,IAAM,IAAM41B,EAAG51B,IAAM,GACjCm4B,GAAU73B,EAAEA,EAEhB,OAAO0C,KAAKkL,KAAKiqB,IAgKrBhE,GAAO1J,OAAS0G,GAAU1G,OAC1B0J,GAAOiE,MA5JK,WAER,IADA,IAAIz0B,EAAO,GAAIqB,EAAMC,UAAUzC,OACvBwC,KAAQrB,EAAMqB,GAAQC,UAAWD,GAEzC,IAEI,OADA,IAAKoB,SAASxE,UAAUJ,KAAKoE,MAAOS,GAAO,CAAE,MAAOC,OAAQ3C,MACrD,EACT,MAAOqG,GACL,OAAO,IAuJfmqB,GAAOzC,OAASA,GAGhByC,GAAO7L,OAAS/T,GAChB4f,GAAOrK,OAASoK,GAEAC,GAh8GgEkE,I,cC1DpFt4B,EAAOD,QAAU,+J,cCAjBC,EAAOD,QAAU,qtB,cCAjBC,EAAOD,QAAU,snkC,cCAjBC,EAAOD,QAAU,+vH,cCAjBC,EAAOD,QAAU,iL,cCAjBC,EAAOD,QAAU,24lE,cCAjBC,EAAOD,QAAU,oqD,cCAjBC,EAAOD,QAAU,ymS,cCAjBC,EAAOD,QAAU,q8F,cCAjBC,EAAOD,QAAU,6zB,cCAjBC,EAAOD,QAAU,gmE,cCAjBC,EAAOD,QAAU,mmH,cCAjBC,EAAOD,QAAU,uS,g1PCAjBC,EAAOD,QAAU,0I,cCAjBC,EAAOD,QAAU,+L,cCAjBC,EAAOD,QAAU,4S,cCAjBC,EAAOD,QAAU,y5E,cCAjBC,EAAOD,QAAU,+I,cCAjBC,EAAOD,QAAU,sG,cCAjBC,EAAOD,QAAU,uvF,msECAIw4B,EAAmB,SAAAC,I,qRAAAC,CAAAF,EAASG,EAAEC,KAAKC,SAAhB,I,MAAAC,EAAAC,EAAAP,GAAA,SAAAA,IAAA,OAAAQ,EAAA,KAAAR,GAAAM,EAAAhzB,MAAA,KAAAX,WA+BvB,O,EA/BuBqzB,G,EAAA,EAAA/2B,IAAA,QAAAN,MAUtC,SAAMiD,EAAK60B,GAITC,EAAAC,EAAAX,EAAA12B,WAAA,cAAAzB,KAAA,KAAY+D,EAAK60B,KAGnB,CAAAx3B,IAAA,WAAAN,MAMA,cAEA,CAAAM,IAAA,aAAAN,MAMA,iB,8EAAeq3B,EA/BuB,G,2KCSlCY,EAAe,CACnBC,G,MACAC,G,OAGIC,EAAU,WACd,IAAIC,EAAM,KAKV,MAJkC,mBAAvBb,EAAEc,SAASF,UACpBC,EAAMb,EAAEc,SAASF,WAGZC,GAsBIE,EAAiB,SAACC,GAC7B,MAAa,OAATA,GAA0B,OAATA,EACZP,EAAaO,GAEfhB,EAAEc,SAASC,eAAeC,GAAMC,SAc5BC,EAAW,SAACC,GAA8B,IAArBH,EAAIx0B,UAAAzC,OAAA,QAAAyB,IAAAgB,UAAA,GAAAA,UAAA,GAAGo0B,IACjCQ,EAAcL,EAAeC,GAC/Bx4B,EAAQ,GAQZ,OAPIw3B,EAAEv1B,MAAM42B,cAAcD,GAExBE,QAAQC,KAAK,oBAAD1zB,OAAqBmzB,EAAI,4BAErCx4B,EAAQ24B,EAAQ91B,MAAM,KAAK0pB,QAAO,SAACyM,EAAMC,GAAO,OAAKD,EAAKC,KAAUL,GAG/D54B,G,4oEChEF,IAAMk5B,EAAO,WAElB,SAAAA,EAAYpB,EAAMqB,EAAYC,EAAWC,EAAOC,I,4FAAOzB,CAAA,KAAAqB,GACrDh1B,KAAKq1B,cAAgB,CACnBC,QAASd,EAAS,WAClBe,aAAcf,EAAS,gBACvBgB,YAAahB,EAAS,eACtBiB,eAAgBjB,EAAS,kBACzBkB,QAASlB,EAAS,WAClBmB,OAAQnB,EAAS,UACjBoB,MAAOpB,EAAS,SAChBqB,QAASrB,EAAS,WAClBl2B,KAAMk2B,EAAS,QACfsB,KAAMtB,EAAS,QACfuB,MAAOvB,EAAS,SAChBwB,SAAUxB,EAAS,YACnBlI,MAAOkI,EAAS,SAChByB,KAAMzB,EAAS,QACf0B,KAAM1B,EAAS,QACf2B,KAAM3B,EAAS,QACf4B,oBAAqB5B,EAAS,uBAC9B6B,kBAAmB7B,EAAS,qBAC5B8B,eAAgB9B,EAAS,kBACzB+B,YAAa/B,EAAS,eACtBgC,aAAchC,EAAS,gBACvBiC,OAAQjC,EAAS,UACjBkC,SAAUlC,EAAS,YACnBmC,OAAQnC,EAAS,UACjBoC,QAASpC,EAAS,WAClBqC,SAAUrC,EAAS,YACnBsC,YAAatC,EAAS,eACtBuC,OAAQvC,EAAS,UACjBwC,MAAOxC,EAAS,SAChByC,UAAWzC,EAAS,aACpB0C,KAAM1C,EAAS,QACf2C,OAAQ3C,EAAS,UACjB4C,SAAU5C,EAAS,YACnB6C,SAAU7C,EAAS,YACnB8C,UAAW9C,EAAS,aACpB+C,OAAQ/C,EAAS,UACjBgD,UAAWhD,EAAS,aACpBiD,KAAMjD,EAAS,QACfkD,OAAQlD,EAAS,UACjBmD,KAAMnD,EAAS,QACfoD,WAAYpD,EAAS,cACrBqD,cAAerD,EAAS,iBACxBsD,cAAetD,EAAS,iBACxBuD,UAAWvD,EAAS,aACpBwD,SAAUxD,EAAS,YACnByD,KAAMzD,EAAS,QACf0D,MAAO1D,EAAS,SAChB2D,KAAM3D,EAAS,QACf4D,YAAa5D,EAAS,eACtB6D,OAAQ7D,EAAS,UACjB8D,OAAQ9D,EAAS,UACjB+D,MAAO/D,EAAS,SAChBgE,MAAOhE,EAAS,SAChBiE,SAAUjE,EAAS,YACnBkE,SAAUlE,EAAS,YACnBmE,WAAYnE,EAAS,cACrBoE,SAAUpE,EAAS,YACnBzB,SAAUyB,EAAS,YACnBqE,OAAQrE,EAAS,UACjBsE,YAAatE,EAAS,eACtBuE,UAAWvE,EAAS,aACpBwE,UAAWxE,EAAS,aACpByE,sBAAuBzE,EAAS,yBAChC0E,eAAgB1E,EAAS,kBACzB2E,qBAAsB3E,EAAS,wBAC/B4E,UAAW5E,EAAS,aACpB6E,cAAe7E,EAAS,iBACxB8E,SAAU9E,EAAS,YACnB+E,UAAW/E,EAAS,aACpBgF,KAAMhF,EAAS,QACfiF,OAAQjF,EAAS,UACjBkF,MAAOlF,EAAS,SAChBmF,QAASnF,EAAS,WAClBoF,QAASpF,EAAS,WAClBqF,KAAMrF,EAAS,QACfsF,KAAMtF,EAAS,QACfuF,KAAMvF,EAAS,QACfwF,IAAKxF,EAAS,OACdyF,MAAOzF,EAAS,SAChB0F,MAAO1F,EAAS,SAChB2F,aAAc3F,EAAS,gBACvB4F,QAAS5F,EAAS,WAClB6F,MAAO7F,EAAS,SAChB8F,MAAO9F,EAAS,SAChB+F,WAAY/F,EAAS,cACrBgG,UAAWhG,EAAS,cAEtBx0B,KAAKy6B,YAAcxF,EACnBj1B,KAAK06B,cAAgB,KACrB16B,KAAK26B,MAAQ/G,EACb5zB,KAAK46B,YAAa,EAClB56B,KAAK66B,WAAY,EACjB76B,KAAK86B,WAAY,EACjB96B,KAAK+6B,OAAS3F,EACdp1B,KAAKg7B,gBAAkB/F,EAAWgG,cAAc,sCAAD95B,OAAuC+zB,EAAS,OAC/Fl1B,KAAKk7B,cAAgBjG,EAAWgG,cAAc,0CAAD95B,OAA2C+zB,EAAS,OACjGl1B,KAAKm7B,OAAShG,EACdn1B,KAAKo7B,WAAalG,EAClBl1B,KAAKq7B,gBAAkBr7B,KAAKs7B,eAAet7B,KAAK26B,MAAO36B,KAAKy6B,a,UAkhB7D,O,EA/gBDzF,E,EAsfA,EAAA54B,IAAA,YAAAN,MAQA,SAAiB0B,EAAK+9B,EAAMz/B,GAC1B,IAAMud,EAAOia,EAAEv1B,MAAMy9B,QAAQD,GAAQA,EAAOA,EAAK58B,MAAM,KACjD88B,EAAYpiB,EAAKhc,OACjBjB,EAAMid,EAAK,GACC,IAAdoiB,GACEnI,EAAEv1B,MAAMy9B,QAAQ1/B,GAClBA,EAAK4/B,EAAO5/B,GACHw3B,EAAEv1B,MAAM49B,SAAS7/B,KAC1BA,EAAQP,OAAOoI,OAAO,GAAI7H,IAE5B0B,EAAIpB,GAAON,GACF2/B,EAAY,IACjBnI,EAAEv1B,MAAM42B,cAAcn3B,EAAIpB,MAC5BoB,EAAIpB,GAAO,IAEb44B,EAAQ4G,UAAUp+B,EAAIpB,GAAMid,EAAKjb,MAAM,EAAGq9B,GAAY3/B,Q,EA7gB1D,EAAAM,IAAA,kBAAAN,MAMA,SAAgB+/B,EAAUvG,GACxB,IAAMwG,EAAGC,IAAA,GACJzG,GAAO,IACVvB,aAAc/zB,KAAKq1B,gBAGrB,OAAO,IAAI2G,SAAQ,SAACC,GAIlBA,EAHa3I,EAAE4I,SAASC,YAAYN,EAAU,CAC5CO,KAAMN,UAMZ,CAAA1/B,IAAA,oBAAAN,MAMA,WACE,OAAOkE,KAAKq7B,kBAGd,CAAAj/B,IAAA,iBAAAN,MAKA,SAAe+/B,EAAU5G,GAAY,IAAAoH,EAAA,KAC7BC,EAAet8B,KAAKu8B,qBAC1B,OAAOv8B,KAAKw8B,gBAAgBX,EAAUS,GAAcG,MAAK,SAAC7I,GACxDqB,EAAWyH,YAAY9I,GACvByI,EAAK3B,cAAgB9G,OAIzB,CAAAx3B,IAAA,qBAAAN,MAIA,cAEA,CAAAM,IAAA,cAAAN,MAKA,SAAY+/B,EAAU5G,EAAYK,GAA0B,IAAjBqH,EAAQ78B,UAAAzC,OAAA,QAAAyB,IAAAgB,UAAA,GAAAA,UAAA,GAAG,KACpDE,KAAKw8B,gBAAgBX,EAAUvG,GAASmH,MAAK,SAAC7I,GAC5CqB,EAAW2H,UAAYhJ,EAAKgJ,UACJ,mBAAbD,GACTA,SAKN,CAAAvgC,IAAA,iBAAAN,MAKA,SAAe+/B,EAAU5G,EAAYK,GAA0B,IAAjBqH,EAAQ78B,UAAAzC,OAAA,QAAAyB,IAAAgB,UAAA,GAAAA,UAAA,GAAG,KACvDE,KAAKw8B,gBAAgBX,EAAUvG,GAASmH,MAAK,SAAC7I,GAC5CqB,EAAWyH,YAAY9I,GACC,mBAAb+I,GACTA,SAMN,CAAAvgC,IAAA,kBAAAN,MAMA,WACE,IAAM+gC,EAAY,CAClBA,QAAuB,GACvBA,OAAsB,IA2DtB,OAxDA78B,KAAK88B,wBAAwB,kBAAkB,SAACC,GAC9C,IAAMC,EAAOD,EAAQE,QAAiB,QAClCnhC,EAAQihC,EAAQjhC,MACC,aAAjBihC,EAAQz+B,OACVxC,EAAQihC,EAAQG,SAGG,WAAjBH,EAAQz+B,OACVxC,EAAQqhC,WAAWrhC,IAGrB+gC,EAAUG,GAAQlhC,KAIpBkE,KAAK88B,wBAAwB,wBAAwB,SAACC,GACpD,IAAMC,EAAOD,EAAQE,QAAsB,aACvCnhC,EAAQihC,EAAQjhC,MACC,aAAjBihC,EAAQz+B,OACVxC,EAAQihC,EAAQG,SAGG,WAAjBH,EAAQz+B,OACVxC,EAAQqhC,WAAWrhC,IAGrB+gC,EAAmB,QAAEG,GAAQlhC,KAI/BkE,KAAK88B,wBAAwB,wBAAwB,SAACC,GACpD,IAAMC,EAAOD,EAAQE,QAAsB,aACrCnhC,EAAQihC,EAAQjhC,MAEjBw3B,EAAEv1B,MAAMy9B,QAAQqB,EAAmB,QAAEG,MACxCH,EAAmB,QAAEG,GAAQ,IAG/BH,EAAmB,QAAEG,GAAMp8B,KAAK9E,MAIlCkE,KAAK88B,wBAAwB,oBAAoB,SAACC,GAChD,IAAMK,EAAKL,EAAQE,QAAkB,cACLn+B,IAA5B+9B,EAAkB,OAAEO,KACtBP,EAAkB,OAAEO,GAAM,IAE5B,IAAM7B,EAAOwB,EAAQE,QAAuB,cACxCnhC,EAAQihC,EAAQjhC,MAEC,WAAjBihC,EAAQz+B,OACVxC,EAAQqhC,WAAWrhC,IAGrBk5B,EAAQ4G,UAAUiB,EAAkB,OAAEO,GAAK7B,EAAMz/B,MAE5C+gC,IAGT,CAAAzgC,IAAA,eAAAN,MAKA,SAAauhC,GACXr9B,KAAK46B,WAAayC,GACL,IAATA,IACFr9B,KAAKg7B,gBAAgBsC,UAAUC,QAAQ,iBAAkB,gBACzDv9B,KAAKw9B,WAGM,IAATH,IACFr9B,KAAKg7B,gBAAgBsC,UAAUC,QAAQ,eAAgB,kBACvDv9B,KAAKy9B,UAIT,CAAArhC,IAAA,cAAAN,MAKA,SAAYuhC,GACVr9B,KAAK66B,UAAYwC,EACjBr9B,KAAKk7B,cAAcgC,QAAUG,IAG/B,CAAAjhC,IAAA,cAAAN,MAKA,SAAYuhC,GACVr9B,KAAK86B,UAAYuC,EACjBr9B,KAAKk7B,cAAcwC,SAAWL,GACjB,IAATA,IACFr9B,KAAKg7B,gBAAgBsC,UAAUK,IAAI,kBACnC39B,KAAK49B,aAAaP,GAClBr9B,KAAK69B,cAAcR,GACnBr9B,KAAKy9B,SAGM,IAATJ,GACFr9B,KAAKg7B,gBAAgBsC,UAAUQ,OAAO,oBAI1C,CAAA1hC,IAAA,OAAAN,MAKA,WAEE,OADAkE,KAAK+9B,cAAcT,UAAUK,IAAI,YAC1B39B,OAGT,CAAA5D,IAAA,SAAAN,MAKA,WAEE,OADAkE,KAAK+9B,cAAcT,UAAUQ,OAAO,YAC7B99B,OAGT,CAAA5D,IAAA,cAAAN,MAKA,WACE,OAAOkE,KAAK06B,gBAGd,CAAAt+B,IAAA,oBAAAN,MAKA,WACE,OAAOkE,KAAKy6B,cAGd,CAAAr+B,IAAA,gBAAAN,MAKA,SAAckiC,GACZ,OAAOh+B,KAAK+9B,cAAc9C,cAAc+C,KAG1C,CAAA5hC,IAAA,mBAAAN,MAKA,SAAiBkiC,GACf,OAAOh+B,KAAK+9B,cAAcE,iBAAiBD,KAG7C,CAAA5hC,IAAA,0BAAAN,MAKA,SAAwBkiC,EAAUrB,GAA6B,IAAnBuB,EAAKp+B,UAAAzC,OAAA,QAAAyB,IAAAgB,UAAA,GAAAA,UAAA,QAAGhB,EAClDJ,MAAMjC,UAAU0S,QAAQ1O,MAAMT,KAAKi+B,iBAAiBD,GAAW,CAACrB,EAAUuB,MAG5E,CAAA9hC,IAAA,sBAAAN,MAKA,SAAoBkiC,EAAUrB,GAA6B,IAAnBuB,EAAKp+B,UAAAzC,OAAA,QAAAyB,IAAAgB,UAAA,GAAAA,UAAA,QAAGhB,EAC9C,OAAOJ,MAAMjC,UAAUsC,IAAI0B,MAAMT,KAAKi+B,iBAAiBD,GAAW,CAACrB,EAAUuB,MAG/E,CAAA9hC,IAAA,sBAAAN,MAKA,SAAoBkiC,GAClB,OAAOh+B,KAAKm+B,oBAAoBlD,cAAc+C,KAGhD,CAAA5hC,IAAA,yBAAAN,MAKA,SAAuBkiC,GACrB,OAAOh+B,KAAKm+B,oBAAoBF,iBAAiBD,KAGnD,CAAA5hC,IAAA,gCAAAN,MAKA,SAA8BkiC,EAAUrB,GAA6B,IAAnBuB,EAAKp+B,UAAAzC,OAAA,QAAAyB,IAAAgB,UAAA,GAAAA,UAAA,QAAGhB,EACxDJ,MAAMjC,UAAU0S,QAAQ1O,MAAMT,KAAKo+B,uBAAuBJ,GAAW,CAACrB,EAAUuB,MAGlF,CAAA9hC,IAAA,4BAAAN,MAKA,SAA0BkiC,EAAUrB,GAA6B,IAAnBuB,EAAKp+B,UAAAzC,OAAA,QAAAyB,IAAAgB,UAAA,GAAAA,UAAA,QAAGhB,EACpD,OAAOJ,MAAMjC,UAAUsC,IAAI0B,MAAMT,KAAKo+B,uBAAuBJ,GAAW,CAACrB,EAAUuB,MAGrF,CAAA9hC,IAAA,WAAAN,MAMA,SAASs5B,GAEP,OADAp1B,KAAK+6B,OAAS3F,EACPp1B,OAGT,CAAA5D,IAAA,oBAAAN,MAMA,WACE,OAAOkE,KAAKg7B,kBAGd,CAAA5+B,IAAA,kBAAAN,MAMA,WACE,OAAOkE,KAAKk7B,gBAGd,CAAA9+B,IAAA,uBAAAN,MAMA,WAAuB,IAAAuiC,EAAA,KAErB,GADcr+B,KAAK+6B,kBACEzH,EAAE8B,MAAMkJ,OAAQ,CACnC,IAAMC,EAAiBv+B,KAAKw+B,wBAAwB,UAAUz/B,KAAI,SAACg+B,GACjE,MAAO,CACL3hC,KAAM2hC,MAGJ0B,EAAgBz+B,KAAK+9B,cAAc9C,cAAc,kCACvDj7B,KAAKw8B,gBAAgBkC,IAAoB,CACvC9G,WAAY2G,IACX9B,MAAK,SAAC7I,GACP6K,EAAc7B,UAAYhJ,EAAKgJ,UACD,IAA1B2B,EAAelhC,OACjBghC,EAAKM,oBAELN,EAAKO,wBAMb,CAAAxiC,IAAA,0BAAAN,MAMA,SAAwBwC,GACtB,IAAMs5B,EAAa53B,KAAK6+B,2BACpBN,EAAiBhjC,OAAO8d,KAAKue,GACjC,OAAQt5B,GACN,IAAK,SACHigC,EACEA,EAAe3/B,QAAO,SAAAm+B,GAAO,OAAIl6B,OAAO2G,MAAM2zB,WAAWvF,EAAWmF,QACtE,MACF,IAAK,SACHwB,EACEA,EAAe3/B,QAAO,SAAAm+B,GAAO,OAAKl6B,OAAO2G,MAAM2zB,WAAWvF,EAAWmF,QAI3E,OAAOwB,IAIT,CAAAniC,IAAA,wBAAAN,MAMA,WACE,OAAOkE,KAAK+6B,OAAO+D,cAAc,GAAGC,kBAGtC,CAAA3iC,IAAA,2BAAAN,MAMA,WACE,IAAMkjC,EAAch/B,KAAKi/B,wBAOzB,OANAj/B,KAAK+6B,OAAO+D,cAAcnwB,UAAUQ,SAAQ,SAAC+vB,GAC3C3jC,OAAO8d,KAAK6lB,EAAGH,iBAAiB5vB,SAAQ,SAACtQ,EAAGqI,GAEjC,MAALA,GAA+B,MAAlB83B,EAAYngC,KAAYmgC,EAAYngC,GAAKqI,SAGvD83B,IAGT,CAAA5iC,IAAA,yBAAAN,MAMA,WACEkE,KAAK88B,wBAAwB,eAAe,SAACC,GAC3CA,EAAQO,UAAUK,IAAI,iBAI1B,CAAAvhC,IAAA,oBAAAN,MAMA,SAAkBqjC,GACOn/B,KAAKi7B,cAAc,YAAD95B,OAAag+B,EAAM,MAC7C7B,UAAUK,IAAI,cAG/B,CAAAvhC,IAAA,oBAAAN,MAMA,SAAkBqjC,GACOn/B,KAAKi7B,cAAc,YAAD95B,OAAag+B,EAAM,MAC7C7B,UAAUQ,OAAO,cAGlC,CAAA1hC,IAAA,mBAAAN,MAKA,SAAiB6gC,GACf38B,KAAK88B,wBAAwB,SAAS,SAACC,GACrCA,EAAQqC,iBAAiB,SAAUzC,MAGrC38B,KAAK88B,wBAAwB,UAAU,SAACC,GACtCA,EAAQqC,iBAAiB,SAAUzC,QAIvC,CAAAvgC,IAAA,oBAAAN,MAIA,WACEkE,KAAK88B,wBAAwB,yEAAyE,SAACC,GACrGA,EAAQO,UAAUK,IAAI,eAGxB39B,KAAKi7B,cAAc,kCAAkCyC,UAAW,EAChE,IAAMyB,EAASE,SAASC,cAAc,UACtCH,EAAOrjC,MAAQ,GACfqjC,EAAOI,UAAY,uBACnBv/B,KAAKi7B,cAAc,kCAAkC0C,IAAIwB,GACzDn/B,KAAKi7B,cAAc,QAAQqC,UAAUQ,OAAO,cAG9C,CAAA1hC,IAAA,kBAAAN,MAIA,WACEkE,KAAK88B,wBAAwB,yEAAyE,SAACC,GACrGA,EAAQO,UAAUQ,OAAO,eAG3B99B,KAAKi7B,cAAc,kCAAkCyC,UAAW,IAGlE,CAAAthC,IAAA,UAAAN,MAGA,WACEkE,KAAKy6B,YAAY+E,YAAYx/B,KAAK06B,oB,8EA4BnC1F,EAxnBiB,G,qqDCKb,IAAMyK,GAAa,SAAAC,I,sRAAArM,CAAAoM,EAAAC,GAAA,I,MAAAjM,EAAAC,GAAA+L,GACxB,SAAAA,EAAY7L,EAAMqB,EAAYC,EAAWyK,EAAavK,EAAOwK,GAAY,IAAAvD,EAKpE,O,4FALoE1I,CAAA,KAAA8L,IACvEpD,EAAA5I,EAAAz4B,KAAA,KAAM44B,EAAMqB,EAAYC,EAAWyK,EAAavK,IAC3CyK,YAAcD,EACnBvD,EAAKhB,gBAAgBoB,MAAK,WACxBJ,EAAKyD,kBACJzD,EA+3BJ,O,EA53BDoD,E,EA+tBA,EAAArjC,IAAA,gBAAAV,IAIA,WACE,OAAO,KAIT,CAAAU,IAAA,qBAAAV,IAIA,WACE,OAAO,KAGT,CAAAU,IAAA,wBAAAV,IAIA,WACE,MAAO,CAAC,CACN0hC,GAAI,OACJhiC,KAAMo5B,EAAS,SACd,CACD4I,GAAI,SACJhiC,KAAMo5B,EAAS,WACd,CACD4I,GAAI,QACJhiC,KAAMo5B,EAAS,cACd,CACD4I,GAAI,OACJhiC,KAAMo5B,EAAS,SACd,CACD4I,GAAI,OACJhiC,KAAMo5B,EAAS,YAInB,CAAAp4B,IAAA,kBAAAV,IAIA,WACE,MAAO,CAAC,CACN0hC,GAAI,OACJhiC,KAAMo5B,EAAS,SACd,CACD4I,GAAI,SACJhiC,KAAMo5B,EAAS,WACd,CACD4I,GAAI,QACJhiC,KAAMo5B,EAAS,iBAInB,CAAAp4B,IAAA,aAAAV,IAIA,WACE,MAAO,CAAC,QAAS,OAAQ,aAG3B,CAAAU,IAAA,sBAAAN,MAGA,SAA2BikC,EAAUC,EAASC,GAC5C,OAAOD,EAAQjhC,KAAI,SAACq+B,EAAI8C,GACtB,MAAO,CACL9C,KACAhiC,KAAM6kC,EAAUC,GAChBH,iBAKN,CAAA3jC,IAAA,wBAAAV,IAGA,WACE,IAAMykC,EAAM,CACVxK,OAAQ,GACR8B,KAAM,CACJ2I,MAAO,UACP1K,QAAS,EACTE,MAAO,EACPC,QAAS,CACPuK,MAAO,MACPhlC,KAAM,QACN06B,KAAM,EACNuK,QAAS,EACT/T,MAAO,EACPgU,OAAQ,EACRtK,SAAU,IAGde,OAAQ,CACNqJ,MAAO,UACP1K,QAAS,EACTE,MAAO,EACP2K,SAAU,CAAC,EAAG,GACdC,eAAgB,EAChBC,QAAS,OACTC,SAAU,OACV7K,QAAS,CACPuK,MAAO,MACPhlC,KAAM,QACN06B,KAAM,EACNuK,QAAS,EACT/T,MAAO,EACPgU,OAAQ,EACRtK,SAAU,IAGdgB,MAAO,CACLS,KAAM,CACJ2I,MAAO,WAETrJ,OAAQ,CACNqJ,MAAO,WACPxK,MAAO,EACP2K,SAAU,CAAC,EAAG,GACdC,eAAgB,EAChBC,QAAS,OACTC,SAAU,QAEZpU,MAAO,EACP4J,KAAM,GACNC,KAAM,aACNwK,MAAO,SACPC,SAAU,MACVC,QAAQ,EACR7K,SAAU,EACVsK,OAAQ,CAAC,EAAG,IAEdQ,KAAM,CACJ1iB,IAAK,GACL0X,KAAM,CAAC,GAAI,IACXiL,OAAQ,CAAC,GAAI,IACbzU,MAAO,EACPgU,OAAQ,CAAC,EAAG,GACZO,QAAQ,EACR7K,SAAU,EACVN,QAAS,EACTwB,KAAM,SACN8J,MAAO,qBACPvJ,KAAM,UACN2I,MAAO,YAGX,MAAO,CACL,MAAS9M,EAAEv1B,MAAK,QAAS,GAAIoiC,GAC7B,KAAQ7M,EAAEv1B,MAAK,QAAS,GAAIoiC,GAC5B,QAAW7M,EAAEv1B,MAAK,QAAS,GAAIoiC,Q,EA13BnC,EAAA/jC,IAAA,WAAAN,MAMA,SAASs5B,GAAuB,IAAhB6L,IAAOnhC,UAAAzC,OAAA,QAAAyB,IAAAgB,UAAA,KAAAA,UAAA,GAKrB,OAJAE,KAAK+6B,OAAS3F,GACE,IAAZ6L,GACFjhC,KAAKkhC,kBAEAlhC,OAGT,CAAA5D,IAAA,cAAAN,MAMA,SAAYqlC,GAMV,OALI1B,EAAc2B,WAAWC,SAASF,GACpCnhC,KAAKshC,UAAYH,EAEjBnhC,KAAKshC,UAAY,QAEZthC,OAGT,CAAA5D,IAAA,cAAAN,MAKA,WACE,OAAOkE,KAAKshC,YAGd,CAAAllC,IAAA,kBAAAN,MAIA,WACEkE,KAAK88B,wBAAwB,mBAAmB,SAAAyE,GAAI,OAAIA,EAAKjE,UAAUQ,OAAO,eAC9E99B,KAAKwhC,wBACLxhC,KAAKyhC,yBAGP,CAAArlC,IAAA,wBAAAN,MAIA,WAAwB,IAAAuiC,EAAA,KAChB/I,EAAUmK,EAAciC,sBAE9B1hC,KAAK2hC,kBAAkBrM,GAAS,WAC9B+I,EAAKuD,0BAA0B,OAAQ,QACvCvD,EAAKuD,0BAA0B,OAAQ,aAE1C,CAAAxlC,IAAA,eAAAN,MAED,WACqBkE,KAAKi7B,cAAc,eAC3BmE,iBAAiB,SAAS,WACnC9L,EAAEuO,OAAOC,KAAKtN,EAAS,WAAYA,EAAS,cAIhD,CAAAp4B,IAAA,oBAAAN,MAIA,SAAkBw5B,GAA0B,IAAAyM,EAAA,KAAjBpF,EAAQ78B,UAAAzC,OAAA,QAAAyB,IAAAgB,UAAA,GAAAA,UAAA,GAAG,KAC9BkiC,EAAahiC,KAAKm+B,oBAAoBlD,cAAc,yBAC1Dj7B,KAAKiiC,yBACLjiC,KAAKkiC,YAAYC,IAAeH,EAAY,CAC1CI,cAAe9M,IACd,WACDA,EAAQnmB,SAAQ,SAACgwB,GACf4C,EAAKM,yBAAyBlD,EAAO/B,IACrC2E,EAAKO,sBAAsBnD,EAAO/B,IACV,mBAAbT,GACTA,OAGJoF,EAAKQ,uBACLR,EAAKS,gCAER,CAAApmC,IAAA,2BAAAN,MAED,WAA2B,IAAA2mC,EAAA,KACzBziC,KAAK0iC,8BAA8B,+BAA+B,SAACtlB,GACjEA,EAAMgiB,iBAAiB,UAAU,WAC/BqD,EAAK5C,YAAY8C,YAAY,uBAKnC,CAAAvmC,IAAA,uBAAAN,MAIA,WACE,IAAMq5B,EAAQn1B,KAAKm7B,OACfyH,EAAa5iC,KAAKi7B,cAAc,gBACpC2H,EAAWC,YAAYD,EAAWE,WAAU,KAC5CF,EAAa5iC,KAAKi7B,cAAc,iBACrBmE,iBAAiB,QAASp/B,KAAK+iC,uBACvB1D,SAASpE,cAAc,yBAC/BmE,iBAAiB,QAASp/B,KAAKgjC,iBAC1C,IAAMC,EAAejjC,KAAKi7B,cAAc,2CACxCgI,EAAa7D,iBAAiB,SAAUp/B,KAAKkjC,kBAC7C,IAAMC,EAAcnjC,KAAKi7B,cAAc,kEACjCmI,EAAUD,EAAYlG,QAAQ6D,KACpC,GAAgB,KAAZsC,EAAgB,CAClB,IAAMC,EAAeD,EAAQzkC,MAAM,KAE7B2kC,EAAyB,KAAnBD,EAAa,GAAY,gBAAsC,MAAnBA,EAAa,GAAa,KAAO,GACzFF,EAAYlI,cAAc,iBAAD95B,OAAkBmiC,EAAG,OAAMvD,UAAW,EAC/DoD,EAAYI,cAAc,IAAIC,OAAOC,MAAM,WAC3CpE,SAASpE,cAAc,gBAAgBqC,WAAqB,OAARgG,EAAe,MAAQ,IAAMF,EACjF/D,SAASpE,cAAc,mBAAD95B,OAA4B,OAARmiC,EAAe,MAAQ,GAAE,KAAAniC,OAAIiiC,IAAW9F,UAAUK,IAAI,YAGlG,GAAa,MAATxI,KAAmBA,aAAiB7B,EAAE6B,MAAMuO,UAAW,CACzD,IAAMpO,EAAUH,EAAMwO,aACtB,GAAgC,MAA5BrO,EAAe,MAAQ,MAAwC,MAA3BA,EAAc,KAAQ,MAA2C,MAA9BA,EAAiB,QAAQ,KAAW,CAC7G,IAAMsO,EACJroC,OAAO4uB,OAAOmL,EAAQuO,MAAMpM,MAAM74B,QAAO,SAAA9C,GAAK,YAAcgD,IAAVhD,KAC9CgoC,EACJvoC,OAAO4uB,OAAOmL,EAAQyO,KAAKtM,MAAM74B,QAAO,SAAA9C,GAAK,YAAcgD,IAAVhD,KAC7CkoC,EACJzoC,OAAO4uB,OAAOmL,EAAQ2O,QAAQxM,MAAM74B,QAAO,SAAA9C,GAAK,YAAcgD,IAAVhD,MAClD8nC,EAAgBvmC,OAAS,GAC3BymC,EAAezmC,OAAS,GAAK2mC,EAAkB3mC,OAAS,IACxD2C,KAAKkkC,mBAAmB,aAIOplC,IAA/Bw2B,EAAe,MAAU,aAAiDx2B,IAA9Bw2B,EAAc,KAAU,aAAoDx2B,IAAjCw2B,EAAiB,QAAU,QACpHt1B,KAAKkkC,mBAAmB,eAGQplC,IAA9Bw2B,EAAe,MAAS,OAC1Bt1B,KAAKkkC,mBAAmB,cAGOplC,IAA7Bw2B,EAAe,MAAQ,OACrBA,EAAe,MAAQ,KAAE54B,eAAe,SAC1CsD,KAAKkkC,mBAAmB,QACxBlkC,KAAKmkC,cAAc,SAGjB7O,EAAe,MAAQ,KAAE54B,eAAe,UAC1CsD,KAAKkkC,mBAAmB,QACxBlkC,KAAKmkC,cAAc,SAGjB7O,EAAe,MAAQ,KAAE54B,eAAe,WAC1CumC,EAAannC,MAAQw5B,EAAe,MAAQ,KAAS,aAGtBx2B,IAA/Bw2B,EAAiB,QAAQ,OACvBA,EAAiB,QAAQ,KAAE54B,eAAe,SAC5CsD,KAAKkkC,mBAAmB,QACxBlkC,KAAKmkC,cAAc,SAGjB7O,EAAiB,QAAQ,KAAE54B,eAAe,UAC5CsD,KAAKkkC,mBAAmB,QACxBlkC,KAAKmkC,cAAc,SAGjB7O,EAAiB,QAAQ,KAAE54B,eAAe,WAC5CumC,EAAannC,MAAQw5B,EAAiB,QAAQ,KAAS,aAG3Bx2B,IAA5Bw2B,EAAc,KAAQ,OACpBA,EAAc,KAAQ,KAAE54B,eAAe,SACzCsD,KAAKkkC,mBAAmB,QACxBlkC,KAAKmkC,cAAc,SAGjB7O,EAAc,KAAQ,KAAE54B,eAAe,UACzCsD,KAAKkkC,mBAAmB,QACxBlkC,KAAKmkC,cAAc,SAGjB7O,EAAc,KAAQ,KAAE54B,eAAe,WACzCumC,EAAannC,MAAQw5B,EAAc,KAAQ,KAAS,WAM5D,CAAAl5B,IAAA,wBAAAN,MAGA,SAAsBsoC,GACpB,IAAMC,EAAahF,SAASpE,cAAc,yBACF,gCAApCoJ,EAAW/G,UAAU7/B,WAAgD4mC,EAAW/G,UAAUQ,OAAO,UAAoBuG,EAAW/G,UAAUK,IAAI,YAGpJ,CAAAvhC,IAAA,kBAAAN,MAGA,SAAgBsoC,GACd,IAAKA,EAAGE,OAAOhH,UAAUiH,SAAS,aAAeH,EAAGE,OAAOhH,UAAUiH,SAAS,mBAAoB,CAChG,IAAMxE,EAAWV,SAASpE,cAAc,6BACpC8E,GAAYA,EAASzC,UAAUQ,OAAO,YAC1CsG,EAAGE,OAAOhH,UAAUK,IAAI,YACxB,IAAM6G,EAAeJ,EAAGE,OAAOhH,UAAU7/B,WAAW8/B,QAAQ,WAAY,IAAIA,QAAQ,kBAAmB,IAAI54B,OAC3G06B,SAASpE,cAAc,2CAA2CgC,QAAQ6D,KAAO0D,EAAajH,QAAQ,KAAM,IAAI54B,OAChH06B,SAASpE,cAAc,gBAAgBqC,UAAYkH,KAIvD,CAAApoC,IAAA,mBAAAN,MAGA,SAAiBsoC,GACS,KAApBA,EAAGE,OAAOxoC,OACZujC,SAASpE,cAAc,gBAAgB9F,MAAMsP,QAAU,OACvDpF,SAASpE,cAAc,yBAAyBqC,UAAUQ,OAAO,WAEjEuB,SAASpE,cAAc,gBAAgB9F,MAAMsP,QAAU,UAE1CpF,SAASpB,iBAAiB,oBAClC9uB,SAAQ,SAACu1B,GACdA,EAAKvP,MAAMsP,QAAU,UAEApF,SAASpB,iBAAiB,4BAAD98B,OAA6BijC,EAAGE,OAAOxoC,MAAK,OAC7EqT,SAAQ,SAACu1B,GACtBA,EAAKvP,MAAMsP,QAAU,eAIzB,CAAAroC,IAAA,uBAAAN,MAIA,WAAuB,IAAA6oC,EAAA,KACfC,EAAgB5kC,KAAKi7B,cAAc,0CACzC2J,EAAcxF,iBAAiB,UAAU,WACvCuF,EAAKE,mBAAmBD,EAAc1H,cAI1C,CAAA9gC,IAAA,oBAAAN,MAGA,SAAkBuhC,GAChBr9B,KAAK88B,wBAAwB,mBAAmB,SAACC,GAC/CA,EAAQW,UAAoB,IAATL,GAAgBA,OAIvC,CAAAjhC,IAAA,2BAAAN,MAMA,SAAyBqjC,GAAQ,IAAA2F,EAAA,KACb9kC,KAAKm+B,oBAAoBlD,cAAc,2CAAD95B,OAA4Cg+B,EAAM,OAChGC,iBAAiB,UAAU,SAAC2F,GACpCD,EAAKE,8BAA8B7F,EAAQ4F,QAI/C,CAAA3oC,IAAA,gCAAAN,MAGA,SAA8BqjC,EAAQ4F,IACP,IAAzBA,EAAMT,OAAOpH,SACfl9B,KAAKilC,eAAe9F,KAIxB,CAAA/iC,IAAA,qBAAAN,MAGA,SAAmBqjC,GACjB,IAAM+F,EAAellC,KAAKm+B,oBAAoBlD,cAAc,2CAAD95B,OAA4Cg+B,EAAM,OAC7Gn/B,KAAKilC,eAAe9F,GACpB+F,EAAahI,SAAU,IAGzB,CAAA9gC,IAAA,wBAAAN,MAMA,SAAsBqjC,GAAQ,IAAAgG,EAAA,KACVnlC,KAAKm+B,oBAAoBlD,cAAc,sCAAD95B,OAAuCg+B,EAAM,OAC3FC,iBAAiB,SAAS,WAClC+F,EAAKF,eAAe9F,QAIxB,CAAA/iC,IAAA,iBAAAN,MAMA,SAAeqjC,GACb,IAAMnI,EAAQh3B,KAAKolC,oBAAoB,2CAADjkC,OAA4Cg+B,EAAM,aAClFkG,EAAWrlC,KAAKolC,oBAAoB,2CAADjkC,OAA4Cg+B,EAAM,OAC3E,MAAZkG,IAA0C,IAAtBA,EAAS3H,WAC/B19B,KAAKslC,cAActO,GACnBh3B,KAAKulC,qBAAqBpG,MAI9B,CAAA/iC,IAAA,gBAAAN,MAMA,SAAck7B,GACZh3B,KAAK0iC,8BAA8B,mBAAmB,SAAC3F,GACrDA,EAAQO,UAAUQ,OAAO,gBACzBf,EAAQO,UAAUK,IAAI,qBAExB3G,EAAMsG,UAAUK,IAAI,gBACpB3G,EAAMsG,UAAUQ,OAAO,oBAGzB,CAAA1hC,IAAA,uBAAAN,MAMA,SAAqBqjC,GACnBn/B,KAAKiiC,yBACLjiC,KAAKwlC,kBAAkBrG,KAGzB,CAAA/iC,IAAA,kBAAAN,MAIA,WAAkB,IAAA2pC,EAAA,KACV5I,EAAY,CAClBA,QAAuB,IAEvB78B,KAAK88B,wBAAwB,wBAAwB,SAACC,GACpD,IAAMxB,EAAOwB,EAAQE,QAAsB,aACvCnhC,EAAQihC,EAAQjhC,MACP,qBAATy/B,GAAyC,KAAVz/B,IACjCA,EAAQ2pC,EAAKxK,cAAc,2CAA2CgC,QAAQ6D,MAE3D,aAAjB/D,EAAQz+B,OACVxC,EAAQihC,EAAQG,SAGG,WAAjBH,EAAQz+B,OACVxC,EAAQqhC,WAAWrhC,GACf+G,OAAO2G,MAAM1N,KACfA,EAAQ,IAIZ,IAAI4pC,GAAe,EACbpB,EAASvH,EAAQE,QAAgB,OACvC,QAAen+B,IAAXwlC,EAAsB,CACxB,IAAMqB,EAAUF,EAAKxK,cAAc,iBAAD95B,OAAkBmjC,EAAM,OAAMxoC,MAC1D8pC,EAAUH,EAAKxK,cAAc,aAAD95B,OAAcmjC,EAAM,OAAMxoC,MAC5D4pC,IAA2B,SAAXpB,GAAgC,WAAXA,GACjCqB,GAAYC,GAAqC,IAAxBzI,WAAWwI,IACZ,IAAxBxI,WAAWyI,IACf,IAAIC,EAAS1I,WAAWsI,EAAKxK,cAAc,aAAD95B,OAAcmjC,EAAM,OAAMxoC,OAChE+G,OAAO2G,MAAMq8B,KACfA,EAAS,GAEX/pC,EAAQ,CAACA,EAAO+pC,GAEbH,GACH1Q,EAAQ4G,UAAUiB,EAAmB,QAAGtB,EAAMz/B,MAIlDkE,KAAK88B,wBAAwB,gBAAgB,SAACC,GAC5C,IAAMjB,EAAMiB,EAAQE,QAAe,OACX,IAApBF,EAAQG,UACE,cAARpB,IACF9G,EAAQ4G,UAAUiB,EAAmB,QAAG,wBAAoB/9B,GAC5Dk2B,EAAQ4G,UAAUiB,EAAmB,QAAG,sBAAkB/9B,IAE5Dk2B,EAAQ4G,UAAUiB,EAAmB,QAAGf,OAAKh9B,OAIjD,IAgBIgnC,EAIAC,EAIAC,EAxBEC,EAAgBjmC,KAAKi7B,cAAc,0BAA0Bn/B,OAAS,GACtEoqC,EAAkBlmC,KAAKi7B,cAAc,4BAA4Bn/B,MACjEqqC,EAAY,GAAHhlC,OAAM8kC,EAAa,OAAA9kC,OAAM+kC,GAElCE,EAAkBpmC,KAAKi7B,cAAc,4BAA4Bn/B,OAAS,GAC1EuqC,EAAoBrmC,KAAKi7B,cAAc,8BAA8Bn/B,MACrEwqC,EAAc,GAAHnlC,OAAMilC,EAAe,OAAAjlC,OAAMklC,GAEtCE,EAAevmC,KAAKi7B,cAAc,yBAAyBn/B,OAAS,GACpE0qC,EAAiBxmC,KAAKi7B,cAAc,2BAA2Bn/B,MAC/D2qC,EAAW,GAAHtlC,OAAMolC,EAAY,OAAAplC,OAAMqlC,GAEhC1F,EAAOzB,SAASpE,cAAc,uBAC9ByL,EAAoB,OAAT5F,IAAkC,IAAjBA,EAAK5D,QACrCL,EAAmB,QAAS,MAAEze,IAAMye,EAAmB,QAAS,MAAE3F,KA6CpE,OA1C8C,MAA1C2F,EAAmB,QAAS,MAAS,OAA+D,MAAlDA,EAAmB,QAAS,MAAS,MAAQ,OACjGiJ,EAAgBjJ,EAAmB,QAAS,MAAS,OAGP,MAA5CA,EAAmB,QAAW,QAAS,OAAiE,MAApDA,EAAmB,QAAW,QAAS,MAAQ,OACrGkJ,EAAkBlJ,EAAmB,QAAW,QAAS,OAGd,MAAzCA,EAAmB,QAAQ,KAAS,OAA8D,MAAjDA,EAAmB,QAAQ,KAAS,MAAQ,OAC/FmJ,EAAenJ,EAAmB,QAAQ,KAAS,OAGrDA,EAAmB,QAAI,CACrBgH,MAAO,CACLpM,KAAMoF,EAAmB,QAAS,MAAEpF,KACpCV,OAAQ8F,EAAmB,QAAS,MAAE9F,OACtCC,MAAO8O,EACPhF,KAAM4F,EACN/Q,OAAQkH,EAAmB,QAAS,MAAElH,QAExCoO,KAAM,CACJtM,KAAMoF,EAAmB,QAAQ,KAAEpF,KACnCV,OAAQ8F,EAAmB,QAAQ,KAAE9F,OACrCC,MAAOgP,GAET/B,QAAS,CACPxM,KAAMoF,EAAmB,QAAW,QAAEpF,KACtCV,OAAQ8F,EAAmB,QAAW,QAAE9F,OACxCC,MAAO+O,SAIoCjnC,IAA3C+9B,EAAmB,QAAS,MAAS,QACvCA,EAAmB,QAAS,MAAS,MAAQ,KAAIsJ,QAEFrnC,IAA7C+9B,EAAmB,QAAW,QAAS,QACzCA,EAAmB,QAAW,QAAS,MAAQ,KAAIyJ,QAEPxnC,IAA1C+9B,EAAmB,QAAQ,KAAS,QACtCA,EAAmB,QAAQ,KAAS,MAAQ,KAAI4J,GAG3CzmC,KAAK2mC,eAAe9J,KAG7B,CAAAzgC,IAAA,iBAAAN,MAIA,SAAe+gC,GACb,IAAM+J,EAAiBtT,EAAEv1B,MAAK,QAAS,GAAI8+B,GACrCgK,EAAc7mC,KAAK8mC,UAAU,QAC7BC,EAAgB/mC,KAAK8mC,UAAU,UAC/BE,EAAehnC,KAAK8mC,UAAU,SAC9BG,EAAcjnC,KAAK8mC,UAAU,QAC7BI,EAAclnC,KAAK8mC,UAAU,QAqCnC,OApCAF,EAAwB,QAAS,MAAQ,MAAoB,IAAhBC,EAAuBD,EAAwB,QAAS,MAAQ,UAAI9nC,EACjH8nC,EAAwB,QAAS,MAAU,QAAsB,IAAlBG,EAAyBH,EAAwB,QAAS,MAAU,YAAI9nC,EACvH8nC,EAAwB,QAAS,MAAS,OAAqB,IAAjBI,EAAwBJ,EAAwB,QAAS,MAAS,WAAI9nC,EACpH8nC,EAAwB,QAAS,MAAQ,MAAoB,IAAhBK,IAAwC,IAAhBC,EAAuBN,EAAwB,QAAS,MAAQ,UAAI9nC,EAEzI8nC,EAAwB,QAAQ,KAAQ,MAAoB,IAAhBC,EAAuBD,EAAwB,QAAQ,KAAQ,UAAI9nC,EAC/G8nC,EAAwB,QAAQ,KAAU,QAAsB,IAAlBG,EAAyBH,EAAwB,QAAQ,KAAU,YAAI9nC,EACrH8nC,EAAwB,QAAQ,KAAS,OAAqB,IAAjBI,EAAwBJ,EAAwB,QAAQ,KAAS,WAAI9nC,EAClH8nC,EAAwB,QAAQ,KAAQ,MAAoB,IAAhBK,IAAwC,IAAhBC,EAAuBN,EAAwB,QAAQ,KAAQ,UAAI9nC,EAEvI8nC,EAAwB,QAAW,QAAQ,MAAoB,IAAhBC,EAAuBD,EAAwB,QAAW,QAAQ,UAAI9nC,EACrH8nC,EAAwB,QAAW,QAAU,QAAsB,IAAlBG,EAAyBH,EAAwB,QAAW,QAAU,YAAI9nC,EAC3H8nC,EAAwB,QAAW,QAAS,OAAqB,IAAjBI,EAAwBJ,EAAwB,QAAW,QAAS,WAAI9nC,EACxH8nC,EAAwB,QAAW,QAAQ,MAAoB,IAAhBK,IAAwC,IAAhBC,EAAuBN,EAAwB,QAAW,QAAQ,UAAI9nC,EAE7I8nC,EAAsB,MAAI,CACxBnP,KAAMmP,EAAwB,QAAS,MAAEnP,KACzC9B,OAAQiR,EAAwB,QAAS,MAAEjR,OAC3CoB,OAAQ6P,EAAwB,QAAS,MAAE7P,OAC3CC,MAAO4P,EAAwB,QAAS,MAAE5P,MAC1C8J,KAAM8F,EAAwB,QAAS,MAAE9F,MAG3C8F,EAAqB,KAAI,CACvBnP,KAAMmP,EAAwB,QAAQ,KAAEnP,KACxCV,OAAQ6P,EAAwB,QAAQ,KAAE7P,OAC1CC,MAAO4P,EAAwB,QAAQ,KAAE5P,OAG3C4P,EAAwB,QAAI,CAC1BnP,KAAMmP,EAAwB,QAAW,QAAEnP,KAC3CV,OAAQ6P,EAAwB,QAAW,QAAE7P,OAC7CC,MAAO4P,EAAwB,QAAW,QAAE5P,cAEvC4P,EAAwB,QAExBA,IAGT,CAAAxqC,IAAA,YAAAN,MAGA,SAAUqjC,GACR,IAAIjC,GAAU,EACR9f,EAAQpd,KAAKm+B,oBAAoBlD,cAAc,2CAAD95B,OAA4Cg+B,EAAM,MAItG,OAHa,MAAT/hB,IACF8f,EAAU9f,EAAM8f,SAEXA,IAGT,CAAA9gC,IAAA,gBAAAN,MAIA,WAEE,IAAMqrC,EAAennC,KAAKonC,kBAC1B,OAAO,IAAI9T,EAAE6B,MAAMkS,QAAQF,KAG7B,CAAA/qC,IAAA,4BAAAN,MAKA,SAA0BwrC,EAAcC,GAAe,IAAAC,EAAA,KAC/CpqB,EAAQpd,KAAKolC,oBAAoB,2CAADjkC,OAA4CmmC,EAAY,OACjF,MAATlqB,GACFA,EAAMgiB,iBAAiB,UAAU,YACT,IAAlBhiB,EAAM8f,QACRsK,EAAKrD,cAAcoD,GAEnBC,EAAKC,aAAaF,QAM1B,CAAAnrC,IAAA,gBAAAN,MAKA,SAAcqjC,GACZ,IAAM/hB,EAAQpd,KAAKm+B,oBAAoBlD,cAAc,2CAAD95B,OAA4Cg+B,EAAM,OAChGuI,EAAY1nC,KAAKm+B,oBAAoBlD,cAAc,2CAAD95B,OAA4Cg+B,EAAM,aAC1Gn/B,KAAK2nC,kBAAkBxI,GACvBuI,EAAUpK,UAAUK,IAAI,kBACxB+J,EAAUpK,UAAUK,IAAI,kBACxB+J,EAAUpK,UAAUQ,OAAO,mBAC3B1gB,EAAMsgB,UAAW,EACjBtgB,EAAM8f,SAAU,IAGlB,CAAA9gC,IAAA,eAAAN,MAKA,SAAaqjC,GACX,IAAM/hB,EAAQpd,KAAKm+B,oBAAoBlD,cAAc,2CAAD95B,OAA4Cg+B,EAAM,OACpFn/B,KAAKm+B,oBAAoBlD,cAAc,2CAAD95B,OAA4Cg+B,EAAM,aAChG7B,UAAUQ,OAAO,kBAC3B1gB,EAAMsgB,UAAW,IAInB,CAAAthC,IAAA,qBAAAN,MAIA,WACE,IAAIw5B,EAAUmK,EAAcmI,sBACT,MAAf5nC,KAAKm7B,SACP7F,EAAUhC,EAAEv1B,MAAK,QAAS,GAAIiC,KAAKm7B,OAAOwI,cAC1CrO,EAAUhC,EAAEv1B,MAAK,QAASu3B,EAASmK,EAAcmI,uBAEF,MAA3C5nC,KAAKm7B,OAAOz/B,IAAI,0BAClB45B,EAAiB,QAAgB,cAAI,GAEU,MAA7Ct1B,KAAKm7B,OAAOz/B,IAAI,4BAClB45B,EAAiB,QAAiB,eAAI,GAEI,MAAxCt1B,KAAKm7B,OAAOz/B,IAAI,uBAClB45B,EAAc,KAAe,aAAI,GAGE,MAAjCt1B,KAAKm7B,OAAOz/B,IAAI,eAA8D,MAArCsE,KAAKm7B,OAAOz/B,IAAI,mBACpB,MAAtCsE,KAAKm7B,OAAOz/B,IAAI,oBAAsE,MAAxCsE,KAAKm7B,OAAOz/B,IAAI,uBAC/D45B,EAAe,MAAW,SAAI,IAMlCA,EAAe,MAAQ,KAAS,MAAIA,EAAe,MAAQ,KAAS,MAAE5sB,QAAQ,SAAW,EAAIsmB,EAAOA,EAAOsG,EAAe,MAAQ,KAAS,OAAGr3B,OAAO4C,MAAQmuB,EAAOsG,EAAe,MAAQ,KAAS,OAAGz0B,MACvMy0B,EAAc,KAAQ,KAAS,MAAIA,EAAc,KAAQ,KAAS,MAAE5sB,QAAQ,SAAW,EAAIsmB,EAAOA,EAAOsG,EAAc,KAAQ,KAAS,OAAGr3B,OAAO4C,MAAQmuB,EAAOsG,EAAc,KAAQ,KAAS,OAAGz0B,MACnMy0B,EAAiB,QAAQ,KAAS,MAAIA,EAAiB,QAAQ,KAAS,MAAE5sB,QAAQ,SAAW,EAAIsmB,EAAOA,EAAOsG,EAAiB,QAAQ,KAAS,OAAGr3B,OAAO4C,MAAQmuB,EAAOsG,EAAiB,QAAQ,KAAS,OAAGz0B,MAC/My0B,EAAe,MAAU,OAAS,MAAIA,EAAe,MAAU,OAAS,MAAE5sB,QAAQ,SAAW,EAAIsmB,EAAOA,EAAOsG,EAAe,MAAU,OAAS,OAAGr3B,OAAO4C,MAAQmuB,EAAOsG,EAAe,MAAU,OAAS,OAAGz0B,MAC/My0B,EAAc,KAAU,OAAS,MAAIA,EAAc,KAAU,OAAS,MAAE5sB,QAAQ,SAAW,EAAIsmB,EAAOA,EAAOsG,EAAc,KAAU,OAAS,OAAGr3B,OAAO4C,MAAQmuB,EAAOsG,EAAc,KAAU,OAAS,OAAGz0B,MAC3My0B,EAAiB,QAAU,OAAS,MAAIA,EAAiB,QAAU,OAAS,MAAE5sB,QAAQ,SAAW,EAAIsmB,EAAOA,EAAOsG,EAAiB,QAAU,OAAS,OAAGr3B,OAAO4C,MAAQmuB,EAAOsG,EAAiB,QAAU,OAAS,OAAGz0B,MACvNy0B,EAAiB,QAAQ,KAAW,QAAS,MAAItG,EAAOsG,EAAiB,QAAQ,KAAW,QAAS,OAAGz0B,MACxGy0B,EAAiB,QAAU,OAAW,QAAS,MAAItG,EAAOsG,EAAiB,QAAU,OAAW,QAAS,OAAGz0B,MAC5Gy0B,EAAe,MAAQ,KAAS,MAAItG,EAAOsG,EAAe,MAAQ,KAAS,OAAGz0B,MAC9Ey0B,EAAc,KAAQ,KAAW,QAAS,MAAItG,EAAOsG,EAAiB,QAAQ,KAAW,QAAS,OAAGz0B,MAGrG,IAAMgnC,EAAgBtsC,OAAO8d,KAAKia,EAAE6B,MAAMU,SAASj3B,QAAO,SAAAxD,GAAI,MAAa,SAATA,GAA4B,UAATA,KAC/E0sC,EAAcvsC,OAAO4uB,OAAOmJ,EAAE6B,MAAMwL,OACpCoH,EAAiBxsC,OAAO4uB,OAAOmJ,EAAE6B,MAAMyL,UACvCoH,EAAazsC,OAAO4uB,OAAOmJ,EAAE6B,MAAM+B,MAAMt4B,QAAO,SAAAxD,GAAI,OAAY,MAARA,KACxD6sC,EAAY,CAACzT,EAAS,SAAUA,EAAS,SAAUA,EAAS,YAC5D0T,EAAiB,CAAC1T,EAAS,WAAYA,EAAS,WAAYA,EAAS,WACrE2T,EAAS,CAAC3T,EAAS,UAAWA,EAAS,aAAcA,EAAS,QAASA,EAAS,UAGtFc,EAAc,KAAe,YAAImK,EAAc2I,oBAAoB9S,EAAc,KAAQ,KAAW,QAAQ,KAAGuS,EAAeA,GAC9HvS,EAAiB,QAAgB,aAAImK,EAAc2I,oBAAoB9S,EAAiB,QAAQ,KAAW,QAAQ,KAAGuS,EAAeA,GACrIvS,EAAiB,QAAiB,cAAImK,EAAc2I,oBAAoB9S,EAAiB,QAAU,OAAW,QAAQ,KAAGuS,EAAeA,GACxIvS,EAAe,MAAiB,cAAImK,EAAc2I,oBAAoB9S,EAAe,MAAU,OAAW,QAAG,CAAC,OAAQ,SAAU,SAAU4S,GAC1I5S,EAAc,KAAiB,cAAImK,EAAc2I,oBAAoB9S,EAAc,KAAU,OAAW,QAAG,CAAC,OAAQ,SAAU,SAAU4S,GACxI5S,EAAiB,QAAiB,cAAImK,EAAc2I,oBAAoB9S,EAAiB,QAAU,OAAW,QAAG,CAAC,OAAQ,SAAU,SAAU4S,GAC9I5S,EAAe,MAAkB,eAAImK,EAAc2I,oBAAoB9S,EAAe,MAAU,OAAY,SAAG,CAAC,QAAS,QAAS,SAAU2S,GAC5I3S,EAAc,KAAkB,eAAImK,EAAc2I,oBAAoB9S,EAAc,KAAU,OAAY,SAAG,CAAC,QAAS,QAAS,SAAU2S,GAC1I3S,EAAiB,QAAkB,eAAImK,EAAc2I,oBAAoB9S,EAAiB,QAAU,OAAY,SAAG,CAAC,QAAS,QAAS,SAAU2S,GAChJ3S,EAAe,MAAsB,mBAAImK,EAAc2I,oBAAoB9S,EAAe,MAAS,MAAU,OAAW,QAAG,CAAC,OAAQ,SAAU,SAAU4S,GACxJ5S,EAAc,KAAsB,mBAAImK,EAAc2I,oBAAoB9S,EAAc,KAAS,MAAU,OAAW,QAAG,CAAC,OAAQ,SAAU,SAAU4S,GACtJ5S,EAAiB,QAAsB,mBAAImK,EAAc2I,oBAAoB9S,EAAiB,QAAS,MAAU,OAAW,QAAG,CAAC,OAAQ,SAAU,SAAU4S,GAC5J5S,EAAe,MAAuB,oBAAImK,EAAc2I,oBAAoB9S,EAAe,MAAS,MAAU,OAAY,SAAG,CAAC,QAAS,QAAS,SAAU2S,GAC1J3S,EAAiB,QAAuB,oBAAImK,EAAc2I,oBAAoB9S,EAAiB,QAAS,MAAU,OAAY,SAAG,CAAC,QAAS,QAAS,SAAU2S,GAC9J3S,EAAc,KAAuB,oBAAImK,EAAc2I,oBAAoB9S,EAAc,KAAS,MAAU,OAAY,SAAG,CAAC,QAAS,QAAS,SAAU2S,GACxJ3S,EAAe,MAAa,UAAImK,EAAc2I,oBAAoB9S,EAAe,MAAS,MAAS,MAAGwS,EAAaK,GACnH7S,EAAiB,QAAa,UAAImK,EAAc2I,oBAAoB9S,EAAiB,QAAS,MAAS,MAAGwS,EAAaK,GACvH7S,EAAc,KAAa,UAAImK,EAAc2I,oBAAoB9S,EAAc,KAAS,MAAS,MAAGwS,EAAaK,GAEjH,IAAME,EAAY,CAAC7T,EAAS,gBAAiBA,EAAS,QAASA,EAAS,WAAYA,EAAS,eAAgBA,EAAS,OAOtH,GALAc,EAAe,MAAgB,aAAImK,EAAc2I,oBAAoB9S,EAAe,MAAS,MAAY,SAAGyS,EAAgBM,GAC5H/S,EAAiB,QAAgB,aAAImK,EAAc2I,oBAAoB9S,EAAiB,QAAS,MAAY,SAAGyS,EAAgBM,GAChI/S,EAAc,KAAgB,aAAImK,EAAc2I,oBAAoB9S,EAAc,KAAS,MAAY,SAAGyS,EAAgBM,GAE1H/S,EAAe,MAAY,SAAImK,EAAc2I,oBAAoB9S,EAAe,MAAQ,KAAQ,KAAG0S,EAAYA,GAC5F,MAAfhoC,KAAK+6B,OAAgB,CACvB,IAAMuN,EAAkB/sC,OAAO8d,KAAKrZ,KAAKi/B,yBACnCsJ,EAAsD,MAA7BjT,EAAe,MAAS,MAAYA,EAAe,MAAS,MAAQ,KAAI,GACjGkT,EAA0D,MAA/BlT,EAAiB,QAAS,MAAYA,EAAiB,QAAS,MAAQ,KAAI,GACvGmT,EAAoD,MAA5BnT,EAAc,KAAS,MAAYA,EAAc,KAAS,MAAQ,KAAI,GAEpGA,EAAe,MAAgB,aAAImK,EAAc2I,oBAAoBG,EAAwBD,EAAgBvpC,KAAI,SAAA3D,GAAI,WAAA+F,OAAS/F,EAAI,SAAOktC,GACzIhT,EAAiB,QAAgB,aAAImK,EAAc2I,oBAAoBI,EAA0BF,EAAgBvpC,KAAI,SAAA3D,GAAI,WAAA+F,OAAS/F,EAAI,SAAOktC,GAC7IhT,EAAc,KAAgB,aAAImK,EAAc2I,oBAAoBK,EAAuBH,EAAgBvpC,KAAI,SAAA3D,GAAI,WAAA+F,OAAS/F,EAAI,SAAOktC,GA8BzI,OA3BAhT,EAAe,MAAS,MAAY,SAAIA,EAAe,MAAS,MAAQ,KAAE32B,MAAM,KAAK,GAAG4+B,QAAQ,KAAM,IACtGjI,EAAe,MAAS,MAAQ,KAAIA,EAAe,MAAS,MAAQ,KAAE32B,MAAM,KAAK,GACjF22B,EAAc,KAAS,MAAY,SAAIA,EAAc,KAAS,MAAQ,KAAE32B,MAAM,KAAK,GAAG4+B,QAAQ,KAAM,IACpGjI,EAAc,KAAS,MAAQ,KAAIA,EAAc,KAAS,MAAQ,KAAE32B,MAAM,KAAK,GAC/E22B,EAAiB,QAAS,MAAY,SAAIA,EAAiB,QAAS,MAAQ,KAAE32B,MAAM,KAAK,GAAG4+B,QAAQ,KAAM,IAC1GjI,EAAiB,QAAS,MAAQ,KAAIA,EAAiB,QAAS,MAAQ,KAAE32B,MAAM,KAAK,GAIrC,iBAArC22B,EAAe,MAAQ,KAAQ,MACxCA,EAAe,MAAQ,KAAQ,KAAItG,EAAOsG,EAAe,MAAQ,KAAQ,MAAGz0B,MAC5Ey0B,EAAe,MAAO,IAAI,CACxBmC,KAAM,CAAE2I,MAAO,UAAW1K,QAAS,GACnCqB,OAAQ,CAAEqJ,MAAO,UAAWxK,MAAO,KAGrCN,EAAe,MAAO,IAAI,CACxBmC,KAAM,CACJ2I,MAAOpR,EAAOsG,EAAe,MAAQ,KAAQ,KAAS,OAAGz0B,OAAS,UAClE60B,QAASJ,EAAe,MAAQ,KAAQ,KAAW,SAAK,GAE1DyB,OAAQ,CACNqJ,MAAOpR,EAAOsG,EAAe,MAAQ,KAAU,OAAS,OAAGz0B,OAAS,UACpE+0B,MAAON,EAAe,MAAQ,KAAU,OAAS,OAAK,IAIrDA,IACR,CAAAl5B,IAAA,QAAAV,IAMD,WACE,OAAOsE,KAAK0oC,QACbtoB,IAND,SAAUgd,GACRp9B,KAAK0oC,OAAStL,IACf,CAAAhhC,IAAA,uBAAAN,MAMD,SAAqBuhC,GACnB,IACMsL,GAAiB,IAATtL,EAAgB,MAAQ,SADhBr9B,KAAKm+B,oBAAoBlD,cAAc,yBAE/CqC,UAAUqL,GAAO,cAGjC,CAAAvsC,IAAA,gBAAAN,MAIA,SAAcihC,GAAuB,IAAdM,EAAIv9B,UAAAzC,OAAA,QAAAyB,IAAAgB,UAAA,IAAAA,UAAA,GACnBs9B,EAAKp9B,KAAK0oC,OACZvT,EAAQn1B,KAAK4oC,gBAIjB,IAHa,IAATvL,IACFlI,EAAQn1B,KAAKm7B,QAEF,MAAThG,EAAe,EACjBA,EAAQA,EAAM0T,mBACOvV,EAAE6B,MAAM2T,QAC3B3T,EAAM/U,IAAI,SAAUqf,EAAcsJ,eACF,MAA5B5T,EAAMz5B,IAAI,gBACZy5B,EAAM/U,IAAI,cAAeqf,EAAcuJ,qBAG3C,IAAMC,EAAMjpC,KAAKy6B,YAAYQ,cAAc,eAAD95B,OAAgBi8B,EAAE,OAC5DjI,EAAM+T,eACN,IAAMC,EAAUhU,EAAMiU,UACX,MAAPH,IACFA,EAAI7qB,IAAM+qB,S,8EAkKf1J,EAr4BuB,CAASzK,G,2wDCA5B,IAAMqU,GAAmB,SAAA3J,I,sRAAArM,CAAAgW,EAAA3J,GAAA,I,MAAAjM,EAAAC,GAAA2V,GAAA,SAAAA,IAAA,OAAA1V,GAAA,KAAA0V,GAAA5V,EAAAhzB,MAAA,KAAAX,WAyE7B,O,EAzE6BupC,E,EAqF7B,EAAAjtC,IAAA,sBAAAN,MApBD,SAA2BikC,EAAUC,EAASC,GAC5C,OAAOD,EAAQjhC,KAAI,SAACq+B,EAAI8C,GACtB,MAAO,CACL9C,KACAhiC,KAAM6kC,EAAUC,GAChBH,mB,EAtEwB,EAAA3jC,IAAA,WAAAN,MAM9B,SAASs5B,GAGP,OAFAp1B,KAAK+6B,OAAS3F,EAEPp1B,OAGT,CAAA5D,IAAA,gBAAAN,MAMA,WACE,IAAMwtC,EAAOtpC,KAAKonC,kBACdjS,EAAQ,KACZ,GAA2B,KAAvBmU,EAAKC,cAAsB,CAC7B,IAAMC,EAAiC,aAApBF,EAAKE,WAA4B,CAAEC,UAAU,GAAS,CAAEA,UAAU,GACrFtU,EAAQ,IAAI7B,EAAE6B,MAAMuU,aAClBJ,EAAKC,cACLD,EAAKK,UACLL,EAAKM,UACL,KACA,KACAJ,GAGJ,OAAOrU,IAGT,CAAA/4B,IAAA,qBAAAN,MAIA,WACE,IAAIw5B,EAAU+T,EAAoBzB,sBAClC,GAAmB,MAAf5nC,KAAKm7B,OAAgB,CACvB,IAAM0O,EAAY7pC,KAAKm7B,OAAO2O,WAA8C,IAAlC9pC,KAAKm7B,OAAO2O,SAASL,SAAoB,WAAa,WAChGnU,EAAU,CACRiU,cAAevpC,KAAKm7B,OAAO4O,mBAC3BJ,UAAW3pC,KAAKm7B,OAAO6O,eACvBJ,UAAW5pC,KAAKm7B,OAAO8O,eACvBC,qBAAsBL,GAExB7pC,KAAK49B,aAAY,GAUnB,OARmB,MAAf59B,KAAK+6B,SACPzF,EAAoB,WAAIt1B,KAAK++B,gBAC7BzJ,EAAoB,WAAEnmB,SAAQ,SAAA4oB,GAAS,OAAIA,EAAoB,SAAIzC,EAAQiU,iBAC3EjU,EAAmB,UAAI+T,EAAoBjB,oBACzC9S,EAAQ4U,qBAAsB,CAAC,WAAY,YAC3C,CAAC1V,EAAS,YAAa,cAGpBc,IAGT,CAAAl5B,IAAA,gBAAAN,MAgBA,WAME,OALuBkE,KAAKw+B,wBAAwB,UAAUz/B,KAAI,SAACg+B,GACjE,MAAO,CACL3hC,KAAM2hC,W,gFARXsM,EAzE6B,CAASrU,G,86EAwFzCqU,GAAoBzB,sBAAwB,CAC1C2B,cAAe,GACfI,UAAW,GACXC,UAAW,GACXM,qBAAsB,YCjGjB,IAAMC,GAAc,SAAAzK,I,sRAAArM,CAAA8W,EAAAzK,GAAA,I,MAAAjM,EAAAC,GAAAyW,GACzB,SAAAA,EAAYvW,EAAMqB,EAAYC,EAAWyK,EAAavK,GAAO,IAAAiH,EAKxD,O,4FALwD1I,CAAA,KAAAwW,IAC3D9N,EAAA5I,EAAAz4B,KAAA,KAAM44B,EAAMqB,EAAYC,EAAWyK,EAAavK,IAC3CiG,gBAAgBoB,MAAK,WACxBJ,EAAK+N,wBACL/N,EAAKgO,2BACJhO,EAsNJ,O,EAnND8N,G,EAAA,EAAA/tC,IAAA,WAAAN,MAKA,SAASs5B,GAEP,OADAp1B,KAAK+6B,OAAS3F,EACPp1B,OAGT,CAAA5D,IAAA,kBAAAN,MAMA,WACE,IAAM+gC,EAAY,CAClBA,QAAuB,GACvBA,OAAsB,IAwCtB,OArCA78B,KAAK88B,wBAAwB,wBAAwB,SAACC,GACpD,IAAMC,EAAOD,EAAQE,QAAsB,aACvCnhC,EAAQihC,EAAQjhC,MAEC,aAAjBihC,EAAQz+B,OACVxC,EAAQihC,EAAQG,SAGG,WAAjBH,EAAQz+B,OACVxC,EAAQqhC,WAAWrhC,IAGR,gBAATkhC,GACFH,EAAmB,QAAS,MAAI,GAChCA,EAAmB,QAAS,MAAS,MAAI/gC,GAEzC+gC,EAAmB,QAAEG,GAAQlhC,KAKjCkE,KAAK88B,wBAAwB,sCAAsC,SAACC,GAClE,IAAMK,EAAKL,EAAQE,QAAkB,cACLn+B,IAA5B+9B,EAAkB,OAAEO,KACtBP,EAAkB,OAAEO,GAAM,IAE5B,IAAM7B,EAAOwB,EAAQE,QAAuB,cACxCnhC,EAAQihC,EAAQjhC,MAEC,WAAjBihC,EAAQz+B,OACVxC,EAAQqhC,WAAWrhC,IAGrBk5B,EAAQ4G,UAAUiB,EAAkB,OAAEO,GAAK7B,EAAMz/B,MAGnD+gC,EAAkB,OAAIthC,OAAO4uB,OAAO0S,EAAkB,QAAGj+B,QAAO,SAAAugC,GAAM,OAAKt8B,OAAO2G,MAAM21B,EAAiB,YAAOt8B,OAAO2G,MAAM21B,EAAiB,aACvItC,IAGT,CAAAzgC,IAAA,gBAAAN,MAMA,WACE,IAAMwtC,EAAOtpC,KAAKonC,kBAEZ/O,EADUqD,GAAO4N,EAAKjR,QACFt5B,KAAI,SAACvB,GAC7B,MAAO,CACLT,IAAKS,EAAc,SACnBR,IAAKQ,EAAc,SACnB23B,MAAO,IAAI7B,EAAE6B,MAAM2T,MAAMtrC,EAAW,WAIxC,OADA8rC,EAAKhU,QAAgB,OAAI+C,EAClB,IAAI/E,EAAE6B,MAAMmV,QAAQhB,EAAKhU,QAAS,CACvCiV,uBAAwBjB,EAAKhU,QAAQiV,2BAIzC,CAAAnuC,IAAA,YAAAN,MAKA,WACE,IAAM0uC,EAAcxqC,KAAKi7B,cAAc,wBACjCwP,EAAYtiC,SAASqiC,EAAY1uC,MAAO,GAC9C,GAAI2uC,EAAY,GAAKA,EAAYN,EAAeO,cAAe,CAC7D,IAAK,IAAI7vC,EAAI,EAAGA,EAAI4vC,EAAY,EAAG5vC,GAAK,EACjBmF,KAAKi7B,cAAc,wBAAD95B,OAAyBtG,EAAC,OACpDyiC,UAAUQ,OAAO,YAC9B99B,KAAK88B,wBAAwB,oBAAD37B,OAAqBtG,EAAC,OAAM,SAACkiC,GACvDA,EAAQ4N,aAAa,mBAAoB,OAI7C,IAAK,IAAI9vC,EAAI4vC,EAAY,EAAG5vC,EAAIsvC,EAAeO,cAAe7vC,GAAK,EAC5CmF,KAAKi7B,cAAc,wBAAD95B,OAAyBtG,EAAC,OACpDyiC,UAAUK,IAAI,YAC3B39B,KAAK88B,wBAAwB,oBAAD37B,OAAqBtG,EAAC,OAAM,SAACkiC,GACvDA,EAAQ6N,gBAAgB,uBAI5B,IAAMC,EAAe7qC,KAAKi7B,cAAc,wBAAD95B,OAAyBspC,EAAS,OACzEzqC,KAAK8qC,mBAAmBD,EAAxB7qC,MAIJ,CAAA5D,IAAA,qBAAAN,MAMA,SAAmBihC,GAAS,IAAAsB,EAAA,KAC1B,OAAO,WACL,IAAM0M,EAAa1M,EAAKpD,cAAc,sBACtC,GAAkB,MAAd8P,EAAoB,CACtBA,EAAWH,gBAAgB,oBAC3BG,EAAWzN,UAAUQ,OAAO,iBAC5B,IAAMkN,EAAQD,EAAW9N,QAAsB,aACzCgO,EAAW5M,EAAKpD,cAAc,eAAD95B,OAAgB6pC,EAAK,OACxC,MAAZC,GACFA,EAAS3N,UAAUK,IAAI,YAI3B,GAAe,MAAXZ,EAAiB,CACnBA,EAAQO,UAAUK,IAAI,iBACtBZ,EAAQE,QAAoB,WAAI,GAChC,IAAMG,EAAKL,EAAQE,QAAsB,aACxBoB,EAAKpD,cAAc,eAAD95B,OAAgBi8B,EAAE,OAC5CE,UAAUQ,OAAO,gBAKhC,CAAA1hC,IAAA,wBAAAN,MAGA,WACsBkE,KAAKi7B,cAAc,wBAC3BmE,iBAAiB,QAASp/B,KAAKkrC,UAAU7uC,KAAK2D,SAG5D,CAAA5D,IAAA,wBAAAN,MAGA,WAAwB,IAAAimC,EAAA,KACtB/hC,KAAK88B,wBAAwB,wBAAwB,SAACC,GACpDA,EAAQqC,iBAAiB,QAAS2C,EAAK+I,mBAAmB/N,GAAS1gC,KAAK0lC,SAI5E,CAAA3lC,IAAA,qBAAAN,MAIA,WACE,IAAIw5B,EAAU/5B,OAAOoI,OAAO,GAAIwmC,EAAevC,uBAC/C,GAAmB,MAAf5nC,KAAKm7B,OAAgB,CAEvB,IAAM9C,GADN/C,EAAU/5B,OAAOoI,OAAO,GAAI3D,KAAKm7B,OAAOwI,eACT,OAAE/kC,QAAO,SAAAinB,GAAK,OAAKhjB,OAAO2G,MAAMqc,EAAW,QAAI9mB,KAAI,SAACosC,GACjF,IAAM3tC,EAAM,GACN23B,EAAQgW,EAAgB,MAQ9B,OAPA3tC,EAAS,IAAI2tC,EAAc,IAC3B3tC,EAAS,IAAI2tC,EAAc,IAC3B3tC,EAAU,KAAI23B,EAAMz5B,IAAI,cACxB8B,EAAY,OAAI23B,EAAMz5B,IAAI,gBAC1B8B,EAAW,MAAI23B,EAAMz5B,IAAI,gBACzB8B,EAAa,QAAiC,MAA7B23B,EAAMz5B,IAAI,gBAA0B,EAAIy5B,EAAMz5B,IAAI,gBACnE8B,EAAY,OAAI23B,EAAMz5B,IAAI,UACnB8B,KAET83B,EAAgB,OAAI+C,EAItB,IAmBM+S,EAAY9V,EAAgB,OAAEl3B,OAAO,GAAG,GAAQ,IAOtD,OANAk3B,EAAe,MAAI,GApBL,SAACh5B,EAAGrB,EAAGmwC,GAGnB,IAFA,IAAM/S,EAAS,GACXgT,EAASD,EACJvwC,EAAIyB,EAAGzB,EAAII,EAAGJ,GAAK,EAAG,CAC7B,IAAMywC,EAASD,EAAS,EAElB7tC,EAAM,CACV4/B,GAAIviC,EACJkC,IAAKuuC,EACLtuC,IAJFquC,EAASC,EAAS,IAKhB7T,KAAMzI,WAAgBnuB,MACtBk2B,OAAQ/H,WAAgBnuB,OAE1Bw3B,EAAOz3B,KAAKpD,GAEd,OAAO66B,EAMMxS,CAAMyP,EAAgB,OAAEj4B,OAAS,EAAG8sC,EAAeO,cAAeU,GAC1Ej8B,SAAQ,SAAC4tB,EAASmD,GACvB5K,EAAe,MAAE10B,KAAKm8B,MAGjBzH,O,gFACR6U,EA5NwB,CAASnV,GAoOpCmV,GAAeO,cAAgB,GAM/BP,GAAevC,sBAAwB,CACrC2D,kBAAkB,EAClBC,eAAe,EACfC,mBAAmB,EACnB7S,UAAU,EACV7F,SAAU,GACViE,MAAO,CACLoJ,MAAO,WAETsL,oBAAqB,GACrBnB,uBAAwB,GACxBlS,OAAQ,CAAC,CACPt7B,IAAK,EACLC,IAAK,GACLy6B,KAAM,UACNV,OAAQ,UACRnB,MAAO,EACPF,QAAS,K,yrDCvPN,IAAMiW,GAAc,SAAAjM,I,sRAAArM,CAAAsY,EAAAjM,GAAA,I,MAAAjM,EAAAC,GAAAiY,GACzB,SAAAA,EAAY/X,EAAMqB,EAAYC,EAAWyK,EAAavK,GAAO,IAAAiH,EAO/B,O,4FAP+B1I,CAAA,KAAAgY,IAC3DtP,EAAA5I,EAAAz4B,KAAA,KAAM44B,EAAMqB,EAAYC,EAAWyK,EAAavK,IAC3C+F,OAAS,KACdkB,EAAKhB,gBAAgBoB,MAAK,WACxBJ,EAAKuP,yBACLvP,EAAKwP,yBAEPxP,EAAKyP,mBAAqB,EAAEzP,EAqG7B,O,EAlGDsP,G,EAAA,EAAAvvC,IAAA,WAAAN,MAMA,SAASs5B,GAIP,OAHAp1B,KAAK+6B,OAAS3F,EACdp1B,KAAKm7B,OAAS,KAEPn7B,OAGT,CAAA5D,IAAA,yBAAAN,MAIA,WAAyB,IAAAuiC,EAAA,KACvBr+B,KAAK88B,wBAAwB,qCAAqC,SAACC,GACjEA,EAAQqC,iBAAiB,SAAS,WACZrC,EAAQgP,cAAcA,cAC9BvM,YAAYzC,EAAQgP,eAChC1N,EAAKyN,oBAAsB,UAKjC,CAAA1vC,IAAA,sBAAAN,MAIA,WAAsB,IAAAimC,EAAA,KACdiK,EAAShsC,KAAKi7B,cAAc,4BAClCj7B,KAAKi7B,cAAc,cAAcmE,iBAAiB,SAAS,WACzD2C,EAAKvF,gBAAgByP,GAAc,IAAIxP,MAAK,SAACyP,GACvCnK,EAAK+J,mBAAqBH,EAAeQ,mBAC3CH,EAAOtP,YAAYwP,GACnBnK,EAAKqK,eAAeF,GACpBA,EAAMjR,cAAc,YAAYmE,iBAAiB,SAAS,WACpC8M,EAAMH,cACdvM,YAAY0M,GACxBnK,EAAK+J,oBAAsB,KAE7B/J,EAAK+J,oBAAsB,GAE3BxY,EAAEuO,OAAOC,KAAKtN,EAAS,gCAAiCA,EAAS,kCAMzE,CAAAp4B,IAAA,iBAAAN,MAGA,SAAe83B,GACb,IAAMyY,EAAazY,EAAKqH,cAAc,SAChCqR,EAActd,WAAgBnuB,MACpCwrC,EAAWvwC,MAAQwwC,IAGrB,CAAAlwC,IAAA,gBAAAN,MAKA,WACE,IAAMwtC,EAAOtpC,KAAKonC,kBAElB,OADc,IAAI9T,EAAE6B,MAAMoX,QAAQjD,EAAKC,cAAeD,EAAKhU,WAI7D,CAAAl5B,IAAA,qBAAAN,MAIA,WACE,IAAMw5B,EAAUqW,EAAe/D,sBAW/B,OAVmB,MAAf5nC,KAAKm7B,SACP7F,EAAmB,UAAIt1B,KAAKm7B,OAAO4O,mBACnCzU,EAAgB,OAAIt1B,KAAKm7B,OAAOqR,YAChClX,EAAc,KAAIt1B,KAAKm7B,OAAOsR,cAC9BnX,EAAkB,SAAIt1B,KAAKm7B,OAAOuR,cAAc3tC,KAAI,SAAAwpB,GAAE,OAAIyG,EAAOzG,GAAI1nB,UAEpD,MAAfb,KAAK+6B,SACPzF,EAAoB,WAAIt1B,KAAK++B,gBAC7BzJ,EAAoB,WAAEnmB,SAAQ,SAAA4oB,GAAS,OAAIA,EAAoB,SAAIzC,EAAQyC,cAEtEzC,IAGT,CAAAl5B,IAAA,gBAAAN,MAGA,WAIE,OAHuBkE,KAAKw+B,wBAAwB,UAAUz/B,KAAI,SAACg+B,GACjE,MAAO,CAAE3hC,KAAM2hC,W,gFAGlB4O,EA7GwB,CAAS3W,GAmHpC2W,GAAe/D,sBAAwB,CACrC7P,UAAW,GACXV,SAAU,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,WAClEY,KAAM,GACNtC,OAAQ,IAMVgW,GAAeQ,kBAAoB,G,s8EC9H5B,IAAMQ,GAAiB,SAAAjN,I,sRAAArM,CAAAsZ,EAAAjN,GAAA,I,MAAAjM,EAAAC,GAAAiZ,GAC5B,SAAAA,EAAY/Y,EAAMqB,EAAYC,EAAWyK,EAAavK,GAAO,IAAAiH,EAIxD,O,4FAJwD1I,CAAA,KAAAgZ,IAC3DtQ,EAAA5I,EAAAz4B,KAAA,KAAM44B,EAAMqB,EAAYC,EAAWyK,EAAavK,IAC3CiG,gBAAgBoB,MAAK,WACxBJ,EAAKuQ,sBACJvQ,EAoHJ,O,EAnHAsQ,G,EAAA,EAAAvwC,IAAA,WAAAN,MAED,SAASs5B,GAGP,OAFAp1B,KAAK+6B,OAAS3F,EAEPp1B,OACR,CAAA5D,IAAA,YAAAN,MAED,WAKE,IAJA,IAAM+wC,EAAe7sC,KAAKi7B,cAAc,wBAClC6R,EAAS3kC,SAAS0kC,EAAa/wC,MAAO,GACtCixC,EAAc,GAEXlyC,EAAI,EAAGA,GAAKiyC,EAAQjyC,GAAK,EAChCkyC,EAAYnsC,KAAK,CAAEksC,OAAQjyC,IAE7B,IAAMmxC,EAAShsC,KAAKi7B,cAAc,iBAClCj7B,KAAKkiC,YAAY,wBAAyB8J,EAAQ,CAAE3T,OAAQ0U,MAC7D,CAAA3wC,IAAA,wBAAAN,MAGD,WACuBkE,KAAKi7B,cAAc,wBAC3BmE,iBAAiB,QAASp/B,KAAKkrC,UAAU7uC,KAAK2D,SAC5D,CAAA5D,IAAA,gBAAAN,MAED,WACE,IAAMwtC,EAAOtpC,KAAKonC,kBACZ/O,EAASiR,EAAKjR,OACdlV,EAASmmB,EAAKhU,QAAQnS,OACxB6pB,EAAiB,KACO,2BAAxB1D,EAAK0D,eACPA,EAAiB1Z,EAAE6B,MAAM6X,eAAeC,uBACP,mBAAxB3D,EAAK0D,eACdA,EAAiB1Z,EAAE6B,MAAM6X,eAAeE,eACP,0BAAxB5D,EAAK0D,eACdA,EAAiB1Z,EAAE6B,MAAM6X,eAAeG,sBACP,gBAAxB7D,EAAK0D,eACdA,EAAiB1Z,EAAE6B,MAAM6X,eAAeI,YACP,UAAxB9D,EAAK0D,eACdA,EAAiB1Z,EAAE6B,MAAM6X,eAAeK,MACP,aAAxB/D,EAAK0D,iBACdA,EAAiB1Z,EAAE6B,MAAM6X,eAAeM,UAE1C,IAAInY,EAAQ,KAIZ,MAH2B,KAAvBmU,EAAKC,gBACPpU,EAAQ,IAAI7B,EAAE6B,MAAMoY,WAAWjE,EAAKC,cAAepmB,EAAQ6pB,EAAe3U,KAErElD,IACR,CAAA/4B,IAAA,YAAAN,MAED,WACE,IAAM+wC,EAAe7sC,KAAKi7B,cAAc,wBAClC6R,EAAS3kC,SAAS0kC,EAAa/wC,MAAO,GAEtC0xC,EADcxtC,KAAKi+B,iBAAiB,wBACT5gC,OAC7BmwC,EAAeV,EACjB9sC,KAAKytC,iBAAiBD,GAEtBla,EAAEuO,OAAOC,KAAKtN,EAAS,8BAA+BA,EAAS,6BAElE,CAAAp4B,IAAA,mBAAAN,MAED,SAAiB0xC,GACf,IAAMxB,EAAShsC,KAAKi7B,cAAc,iBAClCj7B,KAAKw8B,gBAAgBkR,KAAiB,CACpCC,YAAaH,EACbpN,MAAO,UACN3D,MAAK,SAAC7I,GACPoY,EAAO4B,OAAMntC,MAAburC,EAAMtQ,GAAW9H,EAAKia,gBAEzB,CAAAzxC,IAAA,mBAAAN,MAED,WAAmB,IAAAuiC,EAAA,KACCr+B,KAAKi7B,cAAc,oBAC3BmE,iBAAiB,SAAS,WAClCf,EAAKyP,iBAIT,CAAA1xC,IAAA,qBAAAN,MAIA,WACE,IAAIw5B,EAAUqX,EAAkB/E,sBAChC,GAAmB,MAAf5nC,KAAKm7B,OAAgB,CACvB,IAAI4S,EAAgB/tC,KAAKm7B,OAAO6S,sBAAsB,GAAGtyC,IAAI,cACzDuyC,EAAcjuC,KAAKm7B,OAAO6S,sBAAsB5vC,OAAO,GAAG,GAAG1C,IAAI,cACrEqyC,EAAgBA,GAAiB/tC,KAAKm7B,OAAO6S,sBAAsB,GAAGtyC,IAAI,gBAC1EuyC,EAAcA,GAAejuC,KAAKm7B,OAAO6S,sBAAsB5vC,OAAO,GAAG,GAAG1C,IAAI,gBAEhF45B,EAAU,CACRyC,UAAW/3B,KAAKm7B,OAAO4O,mBACvB1R,OAAQr4B,KAAKm7B,OAAO6S,sBAAsB3wC,OAC1C2vC,eAAgBhtC,KAAKm7B,OAAO+S,oBAAoB9yC,KAChD+yC,WAAYJ,EACZK,SAAUH,GAOd,OAJmB,MAAfjuC,KAAK+6B,SACPzF,EAAoB,WAAIt1B,KAAK++B,gBAC7BzJ,EAAoB,WAAEnmB,SAAQ,SAAA4oB,GAAS,OAAIA,EAAoB,SAAIzC,EAAQyC,cAEtEzC,IAGT,CAAAl5B,IAAA,gBAAAN,MAGA,WAIE,OAHuBkE,KAAKw+B,wBAAwB,UAAUz/B,KAAI,SAACg+B,GACjE,MAAO,CAAE3hC,KAAM2hC,W,gFAGlB4P,EAzH2B,CAAS3X,GA4HvC2X,GAAkB/E,sBAAwB,CACxC7P,UAAW,GACXiV,eAAgB,QAChB3U,OAAQ,EACR8V,WAAY,UACZC,SAAU,W,utDCjIL,IAAMC,GAAqB,SAAA3O,I,sRAAArM,CAAAgb,EAAA3O,GAAA,I,MAAAjM,EAAAC,GAAA2a,GAChC,SAAAA,EAAYza,EAAMqB,EAAYC,EAAWyK,EAAavK,EAAOkZ,GAAS,IAAAjS,EAe5C,O,4FAf4C1I,CAAA,KAAA0a,IACpEhS,EAAA5I,EAAAz4B,KAAA,KAAM44B,EAAMqB,EAAYC,EAAWyK,EAAavK,IAC3CmZ,OAAQ,EACblS,EAAKmS,SAAU,EACfnS,EAAKoS,QAAS,EACdpS,EAAKqS,OAAQ,EACbrS,EAAKsS,OAAQ,EACM,MAAfhP,IACFtD,EAAKkS,WAA0CzvC,IAAlC6gC,EAAYgE,aAAalM,KACtC4E,EAAKmS,aAA8C1vC,IAApC6gC,EAAYgE,aAAa5M,OACxCsF,EAAKoS,YAA4C3vC,IAAnC6gC,EAAYgE,aAAa3M,MACvCqF,EAAKsS,WAAwC7vC,IAAhC6gC,EAAYjkC,IAAI,YAC7B2gC,EAAKqS,WAAyC5vC,IAAjC6gC,EAAYjkC,IAAI,cAG/B2gC,EAAKuS,SAAWN,EAAQjS,EAusBzB,O,EApsBDgS,E,EAwkBA,EAAAjyC,IAAA,gBAAAV,IAjBA,WACE,OAAO,KAIT,CAAAU,IAAA,qBAAAV,IAIA,WACE,OAAO,KACR,CAAAU,IAAA,wBAAAV,IAUD,WACE,MAAO,CAAC,CACN0hC,GAAI,OACJhiC,KAAMo5B,EAAS,SACd,CACD4I,GAAI,SACJhiC,KAAMo5B,EAAS,WACd,CACD4I,GAAI,QACJhiC,KAAMo5B,EAAS,cACd,CACD4I,GAAI,OACJhiC,KAAMo5B,EAAS,SACd,CACD4I,GAAI,OACJhiC,KAAMo5B,EAAS,YAInB,CAAAp4B,IAAA,kBAAAV,IAIA,WACE,MAAO,CAAC,CACN0hC,GAAI,OACJhiC,KAAMo5B,EAAS,SACd,CACD4I,GAAI,SACJhiC,KAAMo5B,EAAS,WACd,CACD4I,GAAI,QACJhiC,KAAMo5B,EAAS,iBAInB,CAAAp4B,IAAA,aAAAV,IAIA,WACE,MAAO,CAAC,QAAS,OAAQ,aAG3B,CAAAU,IAAA,sBAAAN,MAGA,SAA2BikC,EAAUC,EAASC,GAC5C,OAAOD,EAAQjhC,KAAI,SAACq+B,EAAI8C,GACtB,MAAO,CACL9C,KACAhiC,KAAM6kC,EAAUC,GAChBH,iBAKN,CAAA3jC,IAAA,wBAAAV,IAGA,WACE,MAAO,CACLi6B,OAAQ,GACR8B,KAAM,CACJ2I,MAAO,UACP1K,QAAS,EACTE,MAAO,EACPC,QAAS,CACPuK,MAAO,MACPhlC,KAAM,QACN06B,KAAM,EACNuK,QAAS,EACT/T,MAAO,EACPgU,OAAQ,EACRtK,SAAU,IAGde,OAAQ,CACNqJ,MAAO,UACP1K,QAAS,EACTE,MAAO,EACP2K,SAAU,CAAC,EAAG,GACdC,eAAgB,EAChBC,QAAS,OACTC,SAAU,QAEZ1J,MAAO,CACLS,KAAM,CACJ2I,MAAO,WAETrJ,OAAQ,CACNqJ,MAAO,WACPxK,MAAO,EACP2K,SAAU,CAAC,EAAG,GACdC,eAAgB,EAChBC,QAAS,OACTC,SAAU,QAEZpU,MAAO,EACP4J,KAAM,kBACNC,KAAM,aACNwK,MAAO,SACPC,SAAU,MACVC,QAAQ,EACR7K,SAAU,EACVsK,OAAQ,CAAC,EAAG,IAEdQ,KAAM,CACJ1iB,IAAK,GACL0X,KAAM,CAAC,GAAI,IACXiL,OAAQ,CAAC,EAAG,GACZzU,MAAO,EACPgU,OAAQ,CAAC,EAAG,GACZtK,SAAU,EACVN,QAAS,EACTwB,KAAM,SACNO,KAAM,UACNoX,cAAe,gB,EAjsBrB,EAAAzyC,IAAA,WAAAN,MAMA,SAASs5B,GAAuB,IAAhB6L,IAAOnhC,UAAAzC,OAAA,QAAAyB,IAAAgB,UAAA,KAAAA,UAAA,GAKrB,OAJAE,KAAK+6B,OAAS3F,GACE,IAAZ6L,GACFjhC,KAAKkhC,kBAEAlhC,OACR,CAAA5D,IAAA,aAAAN,MAED,WACE,MAAO,CACL27B,KAAMz3B,KAAKuuC,MACXxX,OAAQ/2B,KAAKwuC,QACbxX,MAAOh3B,KAAKyuC,OACZvX,KAAMl3B,KAAK0uC,MACX5N,KAAM9gC,KAAK2uC,SAIf,CAAAvyC,IAAA,cAAAN,MAMA,SAAYqlC,GAMV,OALIkN,EAAsBjN,WAAWC,SAASF,GAC5CnhC,KAAKshC,UAAYH,EAEjBnhC,KAAKshC,UAAY,QAEZthC,OAGT,CAAA5D,IAAA,cAAAN,MAKA,WACE,OAAOkE,KAAKshC,YAGd,CAAAllC,IAAA,kBAAAN,MAIA,WAAkB,IAAAuiC,EAAA,KACV8C,EAAWnhC,KAAK8uC,cAChBC,EACJV,EAAsBjN,WAAWxiC,QAAO,SAAAowC,GAAO,OAAIA,IAAY7N,KACjE4N,EAAiBnuC,KAAK,WACtBmuC,EAAiB5/B,SAAQ,SAAC8/B,IACN,UAAb9N,GAAgC,YAAR8N,GAA8B,YAARA,IACjD5Q,EAAKvB,wBAAwB,mBAAD37B,OAAoB8tC,EAAG,OAAM,SAAA1N,GAAI,OAAIA,EAAKjE,UAAUK,IAAI,kBAGxF39B,KAAK88B,wBAAwB,mBAAD37B,OAAoBggC,EAAQ,OAAM,SAAAI,GAAI,OAAIA,EAAKjE,UAAUQ,OAAO,eAC5F99B,KAAKyhC,yBAGP,CAAArlC,IAAA,uBAAAN,MAIA,WACE,IAAMq5B,EAAQn1B,KAAKm7B,OACnB,GAAa,MAAThG,EAAe,CACjB,IAAMG,EAAUH,EAAMwO,aACC,MAAnBrO,EAAc,MACG/5B,OAAO4uB,OAAOmL,EAAQmC,MAAM74B,QAAO,SAAA9C,GAAK,YAAcgD,IAAVhD,KAChDuB,OAAS,GACtB2C,KAAKkkC,mBAAmB,aAIFplC,IAAtBw2B,EAAgB,QAClBt1B,KAAKkkC,mBAAmB,eAGDplC,IAArBw2B,EAAe,OACjBt1B,KAAKkkC,mBAAmB,cAGFplC,IAApBw2B,EAAc,OACZA,EAAc,KAAE54B,eAAe,SACjCsD,KAAKkkC,mBAAmB,QACxBlkC,KAAKmkC,cAAc,SAGjB7O,EAAc,KAAE54B,eAAe,UACjCsD,KAAKkkC,mBAAmB,QACxBlkC,KAAKmkC,cAAc,aAI1B,CAAA/nC,IAAA,yBAAAN,MAED,WACEkE,KAAK4uC,SAASnH,aAAa,QAC3BznC,KAAK4uC,SAASnH,aAAa,SACR,IAAfznC,KAAK2uC,OACP3uC,KAAK4uC,SAASzK,cAAc,SAGX,IAAfnkC,KAAK0uC,OACP1uC,KAAK4uC,SAASzK,cAAc,UAIhC,CAAA/nC,IAAA,uBAAAN,MAIA,WAAuB,IAAAimC,EAAA,KACfmN,EAAYlvC,KAAKi7B,cAAc,qCACrCiU,EAAU9P,iBAAiB,UAAU,WACnC2C,EAAK8C,mBAAmBqK,EAAUhS,cAItC,CAAA9gC,IAAA,oBAAAN,MAGA,SAAkBuhC,GAChBr9B,KAAK88B,wBAAwB,mBAAmB,SAACC,GAC/CA,EAAQW,UAAoB,IAATL,GAAgBA,OAIvC,CAAAjhC,IAAA,2BAAAN,MAMA,SAAyBqjC,GAAQ,IAAAsD,EAAA,KACbziC,KAAKm+B,oBAAoBlD,cAAc,2CAAD95B,OAA4Cg+B,EAAM,OAChGC,iBAAiB,UAAU,SAAC2F,GACpCtC,EAAKuC,8BAA8B7F,EAAQ4F,QAI/C,CAAA3oC,IAAA,gCAAAN,MAGA,SAA8BqjC,EAAQ4F,IACP,IAAzBA,EAAMT,OAAOpH,SACfl9B,KAAKilC,eAAe9F,KAIxB,CAAA/iC,IAAA,qBAAAN,MAGA,SAAmBqjC,GACjB,IAAM+F,EAAellC,KAAKm+B,oBAAoBlD,cAAc,2CAAD95B,OAA4Cg+B,EAAM,OAC7Gn/B,KAAKilC,eAAe9F,GACpB+F,EAAahI,SAAU,IAGzB,CAAA9gC,IAAA,wBAAAN,MAMA,SAAsBqjC,GAAQ,IAAAwF,EAAA,KACV3kC,KAAKm+B,oBAAoBlD,cAAc,sCAAD95B,OAAuCg+B,EAAM,OAC3FC,iBAAiB,SAAS,WAClCuF,EAAKM,eAAe9F,QAIxB,CAAA/iC,IAAA,iBAAAN,MAMA,SAAeqjC,GACb,IAAMnI,EAAQh3B,KAAKolC,oBAAoB,2CAADjkC,OAA4Cg+B,EAAM,aAClFkG,EAAWrlC,KAAKolC,oBAAoB,2CAADjkC,OAA4Cg+B,EAAM,OAC3E,MAAZkG,IAA0C,IAAtBA,EAAS3H,WAC/B19B,KAAKslC,cAActO,GACnBh3B,KAAKulC,qBAAqBpG,MAI9B,CAAA/iC,IAAA,gBAAAN,MAMA,SAAck7B,GACZh3B,KAAK0iC,8BAA8B,mBAAmB,SAAC3F,GACrDA,EAAQO,UAAUQ,OAAO,gBACzBf,EAAQO,UAAUK,IAAI,qBAExB3G,EAAMsG,UAAUK,IAAI,gBACpB3G,EAAMsG,UAAUQ,OAAO,oBAGzB,CAAA1hC,IAAA,uBAAAN,MAMA,SAAqBqjC,GACnBn/B,KAAKiiC,yBACLjiC,KAAKwlC,kBAAkBrG,KAGzB,CAAA/iC,IAAA,kBAAAN,MAIA,WAAkB,IAAAgpC,EAAA,KACVjI,EAAY,CAClBA,QAAuB,IAEvB78B,KAAK88B,wBAAwB,wBAAwB,SAACC,GACpD,IAAMxB,EAAOwB,EAAQE,QAAsB,aACvCnhC,EAAQihC,EAAQjhC,MACC,aAAjBihC,EAAQz+B,OACVxC,EAAQihC,EAAQG,SAGG,WAAjBH,EAAQz+B,OACVxC,EAAQqhC,WAAWrhC,GACf+G,OAAO2G,MAAM1N,KACfA,EAAQ,IAIZ,IAAMwoC,EAASvH,EAAQE,QAAgB,OACvC,QAAen+B,IAAXwlC,EAAsB,CACxB,IAAIuB,EAAS1I,WAAW2H,EAAK7J,cAAc,aAAD95B,OAAcmjC,EAAM,OAAMxoC,OAChE+G,OAAO2G,MAAMq8B,KACfA,EAAS,GAEX/pC,EAAQ,CAACA,EAAO+pC,GAElB7Q,EAAQ4G,UAAUiB,EAAmB,QAAGtB,EAAMz/B,MAGhDkE,KAAK88B,wBAAwB,gBAAgB,SAACC,GAC5C,IAAMjB,EAAMiB,EAAQE,QAAe,OACX,IAApBF,EAAQG,SACVlI,EAAQ4G,UAAUiB,EAAmB,QAAGf,OAAKh9B,MAKjD,IAOIqwC,EAPEC,EAAWpvC,KAAKi7B,cAAc,oBAAoBn/B,OAAS,GAC3DuzC,EAAarvC,KAAKi7B,cAAc,sBAAsBn/B,MAEtDq6B,EAAO,GAAHh1B,OAAMiuC,EAAQ,OAAAjuC,OAAMkuC,GAExB3I,GAAyB,IAAd1mC,KAAK8gC,KAAgBjE,EAAmB,QAAEze,IAAMye,EAAmB,QAAE3F,KAwCtF,OArCqC,MAAjC2F,EAAmB,QAAS,OAAsD,MAAzCA,EAAmB,QAAS,MAAQ,OAC/EsS,EAAWtS,EAAmB,QAAS,OAGzCA,EAAmB,QAAI,CACrBpF,KAAMoF,EAAmB,QAAEpF,KAC3BV,OAAQ8F,EAAmB,QAAE9F,OAC7BC,MAAOmY,EACPrO,KAAM4F,EACN/Q,OAAQkH,EAAmB,QAAElH,QAGJ,SAAvB31B,KAAK8uC,gBACPjS,EAAmB,QAAI,CACrBpF,KAAMoF,EAAmB,QAAEpF,KAC3BV,OAAQ8F,EAAmB,QAAE9F,OAC7BC,MAAO6F,EAAmB,QAAE7F,cAGvB6F,EAAmB,QAAQ,KAAW,QACY,IAArDthC,OAAO8d,KAAKwjB,EAAmB,QAAQ,MAAGx/B,eACrCw/B,EAAmB,QAAQ,MAIX,YAAvB78B,KAAK8uC,gBACPjS,EAAmB,QAAI,CACrBpF,KAAMoF,EAAmB,QAAEpF,KAC3BV,OAAQ8F,EAAmB,QAAE9F,OAC7BC,MAAO6F,EAAmB,QAAE7F,aAIMl4B,IAAlC+9B,EAAmB,QAAS,QAC9BA,EAAmB,QAAS,MAAQ,KAAI1G,GAGnCn2B,KAAK2mC,eAAe9J,KAG7B,CAAAzgC,IAAA,iBAAAN,MAIA,SAAe+gC,GACb,IAAM+J,EAAiBtT,EAAEv1B,MAAK,QAAS,GAAI8+B,GACrCgK,EAAc7mC,KAAK8mC,UAAU,QAC7BC,EAAgB/mC,KAAK8mC,UAAU,UAC/BE,EAAehnC,KAAK8mC,UAAU,SAC9BG,EAAcjnC,KAAK8mC,UAAU,QAC7BI,EAAclnC,KAAK8mC,UAAU,QAKnC,OAJAF,EAAwB,QAAQ,MAAoB,IAAhBC,EAAuBD,EAAwB,QAAQ,UAAI9nC,EAC/F8nC,EAAwB,QAAU,QAAsB,IAAlBG,EAAyBH,EAAwB,QAAU,YAAI9nC,EACrG8nC,EAAwB,QAAS,OAAqB,IAAjBI,EAAwBJ,EAAwB,QAAS,WAAI9nC,EAClG8nC,EAAwB,QAAQ,MAAoB,IAAhBK,IAAwC,IAAhBC,EAAuBN,EAAwB,QAAQ,UAAI9nC,EAChH8nC,IAGT,CAAAxqC,IAAA,YAAAN,MAGA,SAAUqjC,GACR,IAAIjC,GAAU,EACR9f,EAAQpd,KAAKm+B,oBAAoB4N,cAAc9Q,cAAc,oDAAD95B,OAAqDg+B,EAAM,MAI7H,OAHa,MAAT/hB,IACF8f,EAAU9f,EAAM8f,SAEXA,IAGT,CAAA9gC,IAAA,gBAAAN,MAIA,WACE,IAAIq5B,EACEgM,EAAWnhC,KAAK8uC,cAChB3H,EAAennC,KAAKonC,kBAAkB9R,QAG5C,OAAQ6L,GACN,IAAK,QACHhM,EAAQ,IAAI7B,EAAE6B,MAAM2T,MAAM3B,GAC1B,MACF,IAAK,OACHhS,EAAQ,IAAI7B,EAAE6B,MAAMma,KAAKnI,GACzB,MACF,IAAK,UACHhS,EAAQ,IAAI7B,EAAE6B,MAAMoa,QAAQpI,GAC5B,MAEF,QACE7T,EAAEuO,OAAO2N,MAAMhb,EAAS,8BAA+B,SAG3D,OAAOW,IAGT,CAAA/4B,IAAA,4BAAAN,MAKA,SAA0BwrC,EAAcC,GAAe,IAAApC,EAAA,KAC/CuC,EAAY1nC,KAAKolC,oBAAoB,2CAADjkC,OAA4CmmC,EAAY,aAC5FlqB,EAAQpd,KAAKolC,oBAAoB,2CAADjkC,OAA4CmmC,EAAY,OAC7E,MAAbI,GACFA,EAAUtI,iBAAiB,SAAS,YACZ,IAAlBhiB,EAAM8f,QACRiI,EAAKhB,cAAcoD,GAEnBpC,EAAKsC,aAAaF,QAM1B,CAAAnrC,IAAA,gBAAAN,MAKA,SAAcqjC,GACZ,IAAM/hB,EAAQpd,KAAKm+B,oBAAoBlD,cAAc,2CAAD95B,OAA4Cg+B,EAAM,OAChGuI,EAAY1nC,KAAKm+B,oBAAoBlD,cAAc,2CAAD95B,OAA4Cg+B,EAAM,aAC1Gn/B,KAAK2nC,kBAAkBxI,GACvBuI,EAAUpK,UAAUK,IAAI,kBACxB+J,EAAUpK,UAAUK,IAAI,kBACxB+J,EAAUpK,UAAUQ,OAAO,mBAC3B1gB,EAAMsgB,UAAW,EACjBtgB,EAAM8f,SAAU,IAGlB,CAAA9gC,IAAA,eAAAN,MAKA,SAAaqjC,GACX,IAAM/hB,EAAQpd,KAAKm+B,oBAAoBlD,cAAc,2CAAD95B,OAA4Cg+B,EAAM,OACpFn/B,KAAKm+B,oBAAoBlD,cAAc,2CAAD95B,OAA4Cg+B,EAAM,aAChG7B,UAAUQ,OAAO,kBAC3B1gB,EAAMsgB,UAAW,IAInB,CAAAthC,IAAA,qBAAAN,MAIA,WACE,IAAIw5B,EAAU+Y,EAAsBzG,sBACjB,MAAf5nC,KAAKm7B,SACgC,MAAnCn7B,KAAKm7B,OAAOz/B,IAAI,kBAClB45B,EAAqB,aAAI,GAE3BA,EAAUhC,EAAEv1B,MAAK,QAAS,GAAIiC,KAAKm7B,OAAOwI,cAC1CrO,EAAUhC,EAAEv1B,MAAK,QAASu3B,EAAS+Y,EAAsBzG,wBAI3DtS,EAAc,KAAS,MAAItG,EAAOsG,EAAc,KAAS,OAAGz0B,MAC5Dy0B,EAAgB,OAAS,MAAItG,EAAOsG,EAAgB,OAAS,OAAGz0B,MAChEy0B,EAAe,MAAQ,KAAS,MAAItG,EAAOsG,EAAe,MAAQ,KAAS,OAAGz0B,MAC9Ey0B,EAAe,MAAU,OAAS,MAA4C,aAAxCA,EAAe,MAAU,OAAS,MAAmB,WAAatG,EAAOsG,EAAe,MAAU,OAAS,OAAGz0B,MACpJy0B,EAAc,KAAW,QAAS,MAAItG,EAAOsG,EAAc,KAAW,QAAS,OAAGz0B,MAClFy0B,EAAc,KAAQ,KAAItG,EAAOsG,EAAc,KAAQ,MAAGz0B,MAC1Dy0B,EAAc,KAAiB,cAAItG,EAAOsG,EAAc,KAAiB,eAAGz0B,MAG5E,IAAMgnC,EAAgBtsC,OAAO8d,KAAKia,EAAE6B,MAAMU,SAASj3B,QAAO,SAAAxD,GAAI,MAAa,SAATA,GAA4B,UAATA,KAC/E0sC,EAAcvsC,OAAO4uB,OAAOmJ,EAAE6B,MAAMwL,OACpCoH,EAAiBxsC,OAAO4uB,OAAOmJ,EAAE6B,MAAMyL,UACvCoH,EAAazsC,OAAO4uB,OAAOmJ,EAAE6B,MAAM+B,MAAMt4B,QAAO,SAAAxD,GAAI,OAAY,MAARA,KACxD6sC,EAAY,CAACzT,EAAS,SAAUA,EAAS,SAAUA,EAAS,YAC5D0T,EAAiB,CAAC1T,EAAS,WAAYA,EAAS,WAAYA,EAAS,WAW3E,GARAc,EAAqB,YAAI+Y,EAAsBjG,oBAAoB9S,EAAc,KAAW,QAAQ,KAAGuS,EAAeA,GACtHvS,EAAuB,cAAI+Y,EAAsBjG,oBAAoB9S,EAAgB,OAAW,QAAG,CAAC,OAAQ,SAAU,SAAU4S,GAChI5S,EAAwB,eAAI+Y,EAAsBjG,oBAAoB9S,EAAgB,OAAY,SAAG,CAAC,QAAS,QAAS,SAAU2S,GAClI3S,EAA4B,mBAAI+Y,EAAsBjG,oBAAoB9S,EAAe,MAAU,OAAW,QAAG,CAAC,OAAQ,SAAU,SAAU4S,GAC9I5S,EAA6B,oBAAI+Y,EAAsBjG,oBAAoB9S,EAAe,MAAU,OAAY,SAAG,CAAC,QAAS,QAAS,SAAU2S,GAChJ3S,EAAmB,UAAI+Y,EAAsBjG,oBAAoB9S,EAAe,MAAS,MAAGwS,EAAaA,GACzGxS,EAAsB,aAAI+Y,EAAsBjG,oBAAoB9S,EAAe,MAAY,SAAGyS,EAAgBA,GAClHzS,EAAkB,SAAI+Y,EAAsBjG,oBAAoB9S,EAAc,KAAQ,KAAG0S,EAAYA,GAClF,MAAfhoC,KAAK+6B,OAAgB,CACvB,IAAMuN,EAAkB/sC,OAAO8d,KAAKrZ,KAAKi/B,yBACnCwQ,EAAwC,MAApBna,EAAe,MAAYA,EAAe,MAAQ,KAAI,GAChFA,EAAsB,aAAI+Y,EAAsBjG,oBAAoBqH,EAAmBnH,EAAgBvpC,KAAI,SAAA3D,GAAI,WAAA+F,OAAS/F,EAAI,SAAOktC,GAErI,OAAOhT,IACR,CAAAl5B,IAAA,QAAAV,IAMD,WACE,OAAOsE,KAAK0oC,QACbtoB,IAND,SAAUgd,GACRp9B,KAAK0oC,OAAStL,IACf,CAAAhhC,IAAA,OAAAV,IA0BD,WACE,OAAOsE,KAAKuuC,OACbnuB,IAtBD,SAASsvB,GACP1vC,KAAKuuC,MAAQmB,IACd,CAAAtzC,IAAA,SAAAV,IAsBD,WACE,OAAOsE,KAAKwuC,SACbpuB,IAtBD,SAAWsvB,GACT1vC,KAAKwuC,QAAUkB,IAChB,CAAAtzC,IAAA,QAAAV,IAsBD,WACE,OAAOsE,KAAKyuC,QACbruB,IAtBD,SAAUsvB,GACR1vC,KAAKyuC,OAASiB,IACf,CAAAtzC,IAAA,OAAAV,IAsBD,WACE,OAAOsE,KAAK0uC,OACbtuB,IAtBD,SAASsvB,GACP1vC,KAAK0uC,MAAQgB,IACd,CAAAtzC,IAAA,OAAAV,IAsBD,WACE,OAAOsE,KAAK2uC,OACbvuB,IAtBD,SAASsvB,GACP1vC,KAAK2uC,MAAQe,IACd,CAAAtzC,IAAA,uBAAAN,MAsBD,SAAqBuhC,GACnB,IACMsL,GAAiB,IAATtL,EAAgB,MAAQ,SADhBr9B,KAAKm+B,oBAAoBlD,cAAc,yBAE/CqC,UAAUqL,GAAO,cAChC,CAAAvsC,IAAA,oBAAAN,MAED,WAAoB,IAAA2pC,EAAA,KAClBzlC,KAAK88B,wBAAwB,4BAA4B,SAACC,GACpDA,aAAmByG,OAAOmM,eAC5B5S,EAAQqC,iBAAiB,SAAS,WAChCqG,EAAKmK,cAAc7S,MAEZA,aAAmByG,OAAOqM,kBACnC9S,EAAQqC,iBAAiB,UAAU,WACjCqG,EAAKmK,cAAc7S,MAGrBA,EAAQqC,iBAAiB,SAAS,WAChCqG,EAAKmK,cAAc7S,WAM3B,CAAA3gC,IAAA,gBAAAN,MAIA,SAAcihC,EAASM,GACrB,IAAMD,EAAKp9B,KAAK0oC,OACZvT,EAAQn1B,KAAK4oC,gBAIjB,IAHa,IAATvL,IACFlI,EAAQn1B,KAAKm7B,QAEF,MAAThG,EAAe,CACjBn1B,KAAKm7B,OAAShG,GACdA,EAAQA,EAAM0T,mBACOvV,EAAE6B,MAAM2T,QAC3B3T,EAAM/U,IAAI,SAAUiuB,EAAsBtF,eACV,MAA5B5T,EAAMz5B,IAAI,gBACZy5B,EAAM/U,IAAI,cAAeiuB,EAAsBrF,qBAGnD,IAAMC,EAAMjpC,KAAKy6B,YAAYQ,cAAc,eAAD95B,OAAgBi8B,EAAE,OAC5DjI,EAAM+T,eACN,IAAMC,EAAUhU,EAAMiU,UACX,MAAPH,IACFA,EAAI7qB,IAAM+qB,MAKhB,CAAA/sC,IAAA,QAAAV,IAiBA,WACE,OAAOsE,KAAKm7B,Y,gFA+HbkT,EAvtB+B,CAASrZ,G,4qDCKpC,IAAM8a,GAAe,SAAApQ,I,sRAAArM,CAAAyc,EAAApQ,GAAA,I,MAAAjM,EAAAC,GAAAoc,GAC1B,SAAAA,EAAYlc,EAAMqB,EAAYC,EAAWyK,EAAavK,EAAOwK,GAAY,IAAAvD,EAYzC,O,4FAZyC1I,CAAA,KAAAmc,IACvEzT,EAAA5I,EAAAz4B,KAAA,KAAM44B,EAAMqB,EAAYC,EAAWyK,EAAavK,IAC3C2a,iBAAmB,GAExB1T,EAAKhB,gBAAgBoB,MAAK,WACFJ,EAAK0B,cAAc9C,cAAc,kCACzCmE,iBAAiB,SAAS,WACtC/C,EAAK2T,+BAGT3T,EAAK4T,kBAAoB,KACzB5T,EAAK6T,iBAAkB,EACvB7T,EAAKwD,YAAcD,EAAWvD,EAojB/B,O,EAjjBDyT,E,EA2iBA,EAAA1zC,IAAA,wBAAAV,IAtZA,WACE,MAAO,CAAC,CACN0hC,GAAI,OACJhiC,KAAMo5B,EAAS,SACd,CACD4I,GAAI,SACJhiC,KAAMo5B,EAAS,WACd,CACD4I,GAAI,QACJhiC,KAAMo5B,EAAS,cACd,CACD4I,GAAI,OACJhiC,KAAMo5B,EAAS,SACd,CACD4I,GAAI,OACJhiC,KAAMo5B,EAAS,YAInB,CAAAp4B,IAAA,kBAAAV,IAIA,WACE,MAAO,CAAC,CACN0hC,GAAI,OACJhiC,KAAMo5B,EAAS,SACd,CACD4I,GAAI,SACJhiC,KAAMo5B,EAAS,WACd,CACD4I,GAAI,QACJhiC,KAAMo5B,EAAS,iBAElB,CAAAp4B,IAAA,uBAAAV,IAwXD,WACE,OAAO,O,EAhjBT,EAAAU,IAAA,WAAAN,MAKA,SAASs5B,GAIP,OAHAp1B,KAAK+6B,OAAS3F,EACdp1B,KAAKmwC,gBACLnwC,KAAKwhC,wBACExhC,OAGT,CAAA5D,IAAA,SAAAN,MAKA,WAGE,OAFAkE,KAAK+9B,cAAcT,UAAUQ,OAAO,YACpC99B,KAAKm+B,oBAAoBlD,cAAc,kCAAkCqC,UAAUQ,OAAO,YACnF99B,OAGT,CAAA5D,IAAA,OAAAN,MAKA,WAGE,OAFAkE,KAAK+9B,cAAcT,UAAUK,IAAI,YACjC39B,KAAKm+B,oBAAoBlD,cAAc,kCAAkCqC,UAAUK,IAAI,YAChF39B,OAGT,CAAA5D,IAAA,wBAAAN,MAGA,WAAwB,IAAAuiC,EAAA,KACtBr+B,KAAK88B,wBAAwB,kBAAkB,SAACC,GAC9CA,EAAQqC,iBAAiB,SAAS,WAChCf,EAAK+R,eAAerT,EAAQK,YAKlC,CAAAhhC,IAAA,wBAAAN,MAIA,WAAwB,IAAAimC,EAAA,KAClBzM,EAAU+Y,GAAsB3M,sBAET,UAAvB1hC,KAAK8uC,gBACPxZ,EAAU+Y,GAAsBgC,iBAGlCrwC,KAAK2hC,kBAAkBrM,GAAS,WAC9ByM,EAAKH,0BAA0B,OAAQ,QACvCG,EAAKH,0BAA0B,OAAQ,aAI3C,CAAAxlC,IAAA,oBAAAN,MAIA,SAAkBw5B,GAA0B,IAAAmN,EAAA,KAAjB9F,EAAQ78B,UAAAzC,OAAA,QAAAyB,IAAAgB,UAAA,GAAAA,UAAA,GAAG,KAC9BkiC,EAAahiC,KAAKm+B,oBAAoBlD,cAAc,kCAC1Dj7B,KAAKkiC,YAAYoO,KAAgBtO,EAAY,CAC3CI,cAAe9M,IACd,SAAC1B,GACsB,mBAAb+I,GACTA,IAEFrH,EAAQnmB,SAAQ,SAAAgwB,GAAM,OAAIsD,EAAK8N,uBAAuBpR,EAAQ7J,MAC9DA,EAAQnmB,SAAQ,SAAAgwB,GAAM,OAAIsD,EAAK+N,sBAAsBrR,EAAQ7J,MAC7DmN,EAAKgO,oBACLhO,EAAKD,gCAER,CAAApmC,IAAA,2BAAAN,MAED,WAA2B,IAAA6oC,EAAA,KACzB3kC,KAAK0iC,8BAA8B,wCAAwC,SAACtlB,GAC1EA,EAAMgiB,iBAAiB,UAAU,WAC/BuF,EAAK9E,YAAY8C,YAAY,iBAC7BgC,EAAK9E,YAAY6Q,yBAAyB,iBAC1C/L,EAAK9E,YAAY8Q,gBAAgB,yBAKvC,CAAAv0C,IAAA,4BAAAN,MAKA,SAA0BwrC,EAAcC,GAAe,IAAAzC,EAAA,KAC/C1nB,EAAQpd,KAAKolC,oBAAoB,oDAADjkC,OAAqDmmC,EAAY,OAC1F,MAATlqB,GACFA,EAAMgiB,iBAAiB,UAAU,YACT,IAAlBhiB,EAAM8f,QACR4H,EAAKX,cAAcoD,GAEnBzC,EAAK2C,aAAaF,QAM1B,CAAAnrC,IAAA,gBAAAN,MAKA,SAAcqjC,GACZ,IAAM/hB,EAAQpd,KAAKm+B,oBAAoBlD,cAAc,oDAAD95B,OAAqDg+B,EAAM,OACzGuI,EAAY1nC,KAAKm+B,oBAAoBlD,cAAc,oDAAD95B,OAAqDg+B,EAAM,aACnHn/B,KAAK2nC,kBAAkBxI,GACN,MAAbuI,IACFA,EAAUpK,UAAUK,IAAI,kBACxB+J,EAAUpK,UAAUK,IAAI,kBACxB+J,EAAUpK,UAAUQ,OAAO,oBAEhB,MAAT1gB,IACFA,EAAMsgB,UAAW,EACjBtgB,EAAM8f,SAAU,KAIpB,CAAA9gC,IAAA,eAAAN,MAKA,SAAaqjC,GACX,IAAM/hB,EAAQpd,KAAKm+B,oBAAoBlD,cAAc,oDAAD95B,OAAqDg+B,EAAM,OACzGuI,EAAY1nC,KAAKm+B,oBAAoBlD,cAAc,oDAAD95B,OAAqDg+B,EAAM,aAClG,MAAbuI,GACFA,EAAUpK,UAAUQ,OAAO,kBAEhB,MAAT1gB,IACFA,EAAMsgB,UAAW,KAIrB,CAAAthC,IAAA,iBAAAN,MA4CA,SAAeshC,GAAI,IAAA+H,EAAA,KACjB5pC,OAAO4uB,OAAOnqB,KAAK+vC,kBAAkB5gC,SAAQ,SAACyhC,GAC5CA,EAAcnT,WAEa,IAAzBz9B,KAAKkwC,kBACPlwC,KAAK6wC,kBACL7wC,KAAKkwC,iBAAkB,GAEzB,IAAMU,EAAgB5wC,KAAK+vC,iBAAiB3S,GAC5Cp9B,KAAKiwC,kBAAoBW,EACzB,IAAMtb,EAAUt1B,KAAKiwC,kBAAkBtM,aACvC3jC,KAAK8wC,WAAW,OAAQxb,EAAc,MACtCt1B,KAAK8wC,WAAW,SAAUxb,EAAgB,QAC1Ct1B,KAAK8wC,WAAW,QAASxb,EAAe,OACxCt1B,KAAK8wC,WAAW,OAAQxb,EAAc,MACtCt1B,KAAK8wC,WAAW,OAAQxb,EAAc,MACjB,MAAjBsb,IACFA,EAAcpT,SACdoT,EAAcG,0BAEhBx1C,OAAO4uB,OAAOnqB,KAAK+vC,kBAAkB5gC,SAAQ,SAAC6hC,GAC5CA,EAAUC,SAAS9L,EAAKpK,QAAQ,QAIpC,CAAA3+B,IAAA,yBAAAN,MAIA,WAAqC,IAAduhC,EAAIv9B,UAAAzC,OAAA,QAAAyB,IAAAgB,UAAA,IAAAA,UAAA,GACnBoxC,EAAelxC,KAAKi7B,cAAc,kCACpCn/B,EAAQo1C,EAAap1C,MACN,MAAfkE,KAAKm7B,SAA2B,IAATkC,IACzBvhC,EAAQkE,KAAKm7B,OAAO4O,oBAEtB,IAAMoH,GAAmB7d,EAAEv1B,MAAM42B,cAAc74B,GACzCquB,EAASnqB,KAAKoxC,sBAAsBt1C,GACvC8C,QAAO,SAAAqmB,GAAG,OAAMqO,EAAEv1B,MAAM42B,cAAc1P,MACtClmB,KAAI,SAACsyC,GACJ,MAAO,CACLj2C,KAAMi2C,MAEPC,OAAO,EAAGxB,EAAgByB,sBAE/BvxC,KAAKwxC,mBACLxxC,KAAKyxC,iBAAiBtnB,GACtBnqB,KAAK0xC,kBAAkBvnB,EAAQgnB,KAGjC,CAAA/0C,IAAA,oBAAAN,MAIA,SAAkBquB,EAAQgnB,GAAiB,IAAA1L,EAAA,KACnCuG,EAAShsC,KAAKi7B,cAAc,2BAClCj7B,KAAKw8B,gBAAgBmV,IAAgB,CACnCxnB,SACAgnB,oBACC1U,MAAK,SAAC7I,GACPoY,EAAOpP,UAAYhJ,EAAKgJ,UACxBrhC,OAAO4uB,OAAOsb,EAAKsK,kBAAkB5gC,SAAQ,SAACm/B,GAC5CA,EAAQpN,kBACRoN,EAAQ7Q,UAEVgI,EAAKmM,wBACLnM,EAAKoM,2BACLpM,EAAKqM,4BAIT,CAAA11C,IAAA,mBAAAN,MAIA,SAAiBquB,GAAQ,IAAAqd,EAAA,KACjBuK,EAAiC,MAAf/xC,KAAKm7B,OAAiB,KAAOn7B,KAAKm7B,OAAO6W,gBACjE7nB,EAAOhb,SAAQ,SAACrT,GACd,IAAMm2C,EAAmC,MAAnBF,EAA0B,KAAOA,EAAgBj2C,EAAMV,MAC7EosC,EAAKuI,iBAAiBj0C,EAAMV,MAAQ,IAAIizC,GAAsB6D,KAAe1K,EAAK9M,cAAe,cAAeuX,EAAezK,EAAKzM,OAAQyM,GAC5IA,EAAKuI,iBAAiBj0C,EAAMV,MAAMigC,gBAAgBoB,MAAK,WACrD+K,EAAKuI,iBAAiBj0C,EAAMV,MAAMw0C,cAAc9zC,EAAMV,MAAM,MAE9DosC,EAAK2K,oBAAoB3K,EAAKuI,iBAAiBj0C,EAAMV,UAGvD,IAAMg3C,EAAmC,MAAnBL,EAA0B,KAAOA,EAAuB,MAC9E/xC,KAAK+vC,iBAAwB,MAAI,IAAI1B,GAAsB6D,KAAelyC,KAAK06B,cAAe,cAAe0X,EAAepyC,KAAK+6B,OAAQ/6B,MACzIA,KAAK+vC,iBAAwB,MAAE1U,gBAAgBoB,MAAK,WAClD+K,EAAKuI,iBAAwB,MAAEH,cAAc,SAAS,MAExD5vC,KAAKmyC,oBAAoBnyC,KAAK+vC,iBAAwB,SAGxD,CAAA3zC,IAAA,mBAAAN,MAIA,WACEP,OAAO4uB,OAAOnqB,KAAK+vC,kBAAkB5gC,SAAQ,SAAAm/B,GAAO,OAAIA,EAAQ+D,aAChEryC,KAAK+vC,iBAAmB,KAG1B,CAAA3zC,IAAA,gBAAAN,MAIA,WAAgB,IAAAw2C,EAAA,KAEd,GADctyC,KAAK+6B,kBACEzH,EAAE8B,MAAMkJ,OAAQ,CACnC,IAAMyB,EAA0B,MAAf//B,KAAKm7B,OAAiB,GAAKn7B,KAAKm7B,OAAO4O,mBAClDxL,EAAiBv+B,KAAKw+B,wBAAwB,UAAUz/B,KAAI,SAACg+B,GACjE,MAAO,CACL3hC,KAAM2hC,EACNgD,eAGEtB,EAAgBz+B,KAAK+9B,cAAc9C,cAAc,kCACvDj7B,KAAKw8B,gBAAgBkC,IAAoB,CACvC9G,WAAY2G,IACX9B,MAAK,SAAC7I,GACP6K,EAAc7B,UAAYhJ,EAAKgJ,UAC/B0V,EAAKtC,wBAAuB,GACE,IAA1BzR,EAAelhC,OACjBi1C,EAAK3T,oBAEL2T,EAAK1T,wBAMb,CAAAxiC,IAAA,sBAAAN,MAIA,SAAoBy2C,GAElB,OADiBvyC,KAAK+6B,OAAO+D,cAAc,GAAGgQ,cAAcxwC,MAE1D,IAAK,QACL,IAAK,aACHi0C,EAASjR,UAAY,QACrB,MACF,IAAK,aACL,IAAK,kBACHiR,EAASjR,UAAY,OACrB,MACF,IAAK,UACL,IAAK,eACHiR,EAASjR,UAAY,UACrB,MACF,QACEhO,EAAEuO,OAAO2N,MAAMhb,EAAS,8BAA+B,YAI7D,CAAAp4B,IAAA,cAAAN,MAGA,SAAYqjC,GACVn/B,KAAK88B,wBAAwB,aAAD37B,OAAcg+B,EAAM,OAAM,SAACpC,GACrDA,EAAQO,UAAUQ,OAAO,iBAI7B,CAAA1hC,IAAA,cAAAN,MAGA,SAAYqjC,GACVn/B,KAAK88B,wBAAwB,aAAD37B,OAAcg+B,EAAM,OAAM,SAACpC,GACrDA,EAAQO,UAAUK,IAAI,iBAI1B,CAAAvhC,IAAA,yBAAAN,MAGA,SAAuBqjC,EAAQ7J,GAAS,IAAAkd,EAAA,KAChCzV,EAAU/8B,KAAKolC,oBAAoB,+CAADjkC,OAAgDg+B,EAAO/B,GAAE,OAC3FhgB,EAAQpd,KAAKolC,oBAAoB,oDAADjkC,OAAqDg+B,EAAO/B,GAAE,OACpGL,EAAQqC,iBAAiB,SAAS,YACT,IAAnBhiB,EAAMsgB,WACRpI,EAAQnmB,SAAQ,SAAA2sB,GAAG,OAAI0W,EAAKC,YAAY3W,EAAIsB,OAC5CoV,EAAKE,YAAYvT,EAAO/B,IACxBoV,EAAKG,cAAcxT,EAAO/B,UAKhC,CAAAhhC,IAAA,wBAAAN,MAGA,SAAsBqjC,EAAQ7J,GAAS,IAAAsd,EAAA,KACrB5yC,KAAKolC,oBAAoB,oDAADjkC,OAAqDg+B,EAAO/B,GAAE,OAC9FgC,iBAAiB,SAAS,WAChCwT,EAAKC,aAAa1T,EAAO/B,GAAI9H,QAIjC,CAAAl5B,IAAA,gBAAAN,MAGA,SAAcshC,GACZ,IAAMY,EAAWh+B,KAAKolC,oBAAoB,kDAADjkC,OAAmDi8B,EAAE,OAC9Fp9B,KAAK0iC,8BAA8B,kDAAkD,SAAC3F,GACpFA,EAAQO,UAAUQ,OAAO,gBACzBf,EAAQO,UAAUK,IAAI,qBAExBK,EAASV,UAAUQ,OAAO,kBAC1BE,EAASV,UAAUK,IAAI,kBAGzB,CAAAvhC,IAAA,iBAAAN,MAGA,SAAeshC,GACbp9B,KAAK88B,wBAAwB,kBAAkB,SAACC,GAC9CA,EAAQO,UAAUQ,OAAO,4BAE3B99B,KAAKi7B,cAAc,QAAD95B,OAASi8B,EAAE,OAAME,UAAUK,IAAI,2BAClD,CAAAvhC,IAAA,2BAAAN,MAED,WAA2B,IAAAg3C,EAAA,KACzB9yC,KAAK88B,wBAAwB,kBAAkB,SAACC,GAC9C,IAAMK,EAAKL,EAAQK,GACnBL,EAAQqC,iBAAiB,SAAS,kBAAM0T,EAAKC,eAAe3V,WAKhE,CAAAhhC,IAAA,eAAAN,MAGA,SAAashC,EAAI9H,GAAS,IAAA0d,EAAA,MAEA,IADRhzC,KAAKolC,oBAAoB,uCAADjkC,OAAwCi8B,IACpEF,SACoB,MAA1Bl9B,KAAKiwC,oBACPjwC,KAAKiwC,kBAAkB7S,IAAM,GAE/B9H,EAAQnmB,SAAQ,SAAAgwB,GAAM,OAAI6T,EAAKP,YAAYtT,EAAO/B,OAClDp9B,KAAK0yC,YAAYtV,GACjBp9B,KAAK2yC,cAAcvV,IACiB,OAA3Bp9B,KAAKiwC,oBACdjwC,KAAKiwC,kBAAkB7S,IAAM,GAE/Bp9B,KAAKiwC,kBAAkBL,kBAGzB,CAAAxzC,IAAA,aAAAN,MAGA,SAAWshC,EAAIC,GACb,IAAMN,EAAU/8B,KAAKolC,oBAAoB,uCAADjkC,OAAwCi8B,IACjE,MAAXL,IACFA,EAAQG,QAAUG,KAItB,CAAAjhC,IAAA,kBAAAN,MAGA,WACEkE,KAAK0iC,8BAA8B,wCAAwC,SAAAtlB,GAAK,OAAIA,EAAMsgB,UAAW,KACrG19B,KAAK0iC,8BAA8B,uDAAuD,SAAC1L,GACzFA,EAAMsG,UAAUQ,OAAO,kBACvB9G,EAAMsG,UAAUK,IAAI,uBAIxB,CAAAvhC,IAAA,oBAAAN,MAGA,WACEkE,KAAK0iC,8BAA8B,wCAAwC,SAAAtlB,GAAK,OAAIA,EAAMsgB,UAAW,KACrG19B,KAAK0iC,8BAA8B,uDAAuD,SAAC1L,GACzFA,EAAMsG,UAAUK,IAAI,kBACpB3G,EAAMsG,UAAUQ,OAAO,uBAI3B,CAAA1hC,IAAA,cAAAN,MAKA,WACE,IAAIqlC,EAAWnhC,KAAK+6B,OAAO+D,cAAc,GAAGgQ,cAAcxwC,KAC1D,OAAQ6iC,GACN,IAAK,QACL,IAAK,aACHA,EAAW,QACX,MACF,IAAK,aACL,IAAK,kBACHA,EAAW,OACX,MACF,IAAK,UACL,IAAK,eACHA,EAAW,UACX,MACF,QACE7N,EAAEuO,OAAO2N,MAAMhb,EAAS,oBAAqB,SAEjD,OAAO2M,IAGT,CAAA/kC,IAAA,wBAAAN,MAIA,SAAsBi8B,GAEpB,OADiB/3B,KAAK+6B,OAAO+D,cACb//B,KAAI,SAAAk0C,GAAO,OACzBA,EAAQC,aAAanb,MAAYn5B,QAAO,SAAC8lC,EAAMyO,EAAKC,GAAG,OAAKA,EAAI1qC,QAAQg8B,KAAUyO,OAGtF,CAAA/2C,IAAA,kBAAAN,MAIA,WAAkB,IAAAu3C,EAAA,KACVlM,EAAe,GACfmM,EAAkB,GAgBxB,OAfAnM,EAA4B,cAAInnC,KAAKi7B,cAAc,kCAAkCn/B,MAErFP,OAAO8d,KAAKrZ,KAAK+vC,kBAAkB5gC,SAAQ,SAACrT,GAC1C,IAAM80C,EAAgByC,EAAKtD,iBAAiBj0C,GACtC27B,EAAOmZ,EAAcnZ,KACrBV,EAAS6Z,EAAc7Z,OACvB+J,EAAO8P,EAAc9P,MAAQ8P,EAAc1Z,KAC3CF,EAAQ4Z,EAAc5Z,OACxBS,GAAQV,GAAU+J,GAAQ9J,KAC5Bsc,EAAgBx3C,GAASu3C,EAAKtD,iBAAiBj0C,GAAOq5B,SAEvDn1B,MAEHmnC,EAAsB,QAAImM,EAEnBnM,IAGT,CAAA/qC,IAAA,gBAAAN,MAIA,WACE,IAAMwtC,EAAOtpC,KAAKonC,kBACdjS,EAAQ,KAIZ,MAH2B,KAAvBmU,EAAKC,gBACPpU,EAAQ,IAAI7B,EAAE6B,MAAMoe,SAASjK,EAAKC,cAAeD,EAAKhU,UAEjDH,IAGT,CAAA/4B,IAAA,uBAAAN,MAKA,WAAuB,IAAA03C,EAAA,KACrBj4C,OAAO8d,KAAKrZ,KAAK+vC,kBAAkB5gC,SAAQ,SAACojC,GAC1C,IAAMjE,EAAUkF,EAAKzD,iBAAiBwC,GACtCjE,EAAQmF,MAAQlB,EAChBjE,EAAQoF,4B,gFAUX5D,EAjkByB,CAAS9a,G,0+ECJ9B,IAAM2e,GAAY,SAAAjU,I,sRAAArM,CAAAsgB,EAAAjU,GAAA,I,MAAAjM,EAAAC,GAAAigB,GACvB,SAAAA,EAAY/f,EAAMqB,EAAYC,EAAWyK,EAAavK,GAAO,IAAAiH,EAWxD,O,4FAXwD1I,CAAA,KAAAggB,IAC3DtX,EAAA5I,EAAAz4B,KAAA,KAAM44B,EAAMqB,EAAYC,EAAWyK,EAAavK,IAC3Cwe,WAAa,GACC,MAAfjU,IACFtD,EAAKuX,WAAajU,EAAYgE,aAAakQ,UAAU90C,KAAI,SAAA+0C,GAAQ,OAAIA,EAAS/b,cAEhFsE,EAAKhB,gBAAgBoB,MAAK,WACxBJ,EAAK0X,sBACL1X,EAAK2X,8BACL3X,EAAK4X,uBACL5X,EAAK6X,sBACJ7X,EAmZJ,O,EAlZAsX,G,EAAA,EAAAv3C,IAAA,WAAAN,MAED,SAASs5B,GAGP,OAFAp1B,KAAK+6B,OAAS3F,EACdp1B,KAAKm0C,mBACEn0C,OAGT,CAAA5D,IAAA,eAAAN,MAIA,SAAas4C,GACXp0C,KAAK4zC,WAAWhzC,KAAKwzC,KAGvB,CAAAh4C,IAAA,kBAAAN,MAIA,SAAgBs4C,GACdp0C,KAAK4zC,WAAa5zC,KAAK4zC,WAAWh1C,QAAO,SAAAy1C,GAAK,OAAIA,IAAUD,OAC7D,CAAAh4C,IAAA,6BAAAN,MAED,SAA2Bi8B,GACzB/3B,KAAKm6B,aAAapC,GAClB/3B,KAAKs0C,oBAAoBvc,GACzB/3B,KAAKu0C,sBAGP,CAAAn4C,IAAA,wBAAAN,MAGA,WACE,IACMi8B,EADiB/3B,KAAKi7B,cAAc,oBACTn/B,MACf,KAAdi8B,EACE/3B,KAAK4zC,WAAWvS,SAAStJ,GAC3BzE,EAAEuO,OAAOC,KAAKtN,EAAS,4BAA6BA,EAAS,+BAExCx0B,KAAK+6B,OAAO+D,cAAc,GAAGC,gBACjCriC,eAAeq7B,GAC9B/3B,KAAKw0C,2BAA2Bzc,GAEhCzE,EAAEuO,OAAOC,KAAKtN,EAAS,0BAA2BA,EAAS,4BAI/DlB,EAAEuO,OAAOC,KAAKtN,EAAS,yBAA0BA,EAAS,8BAI9D,CAAAp4B,IAAA,2BAAAN,MAGA,WACE,IACMi8B,EADiB/3B,KAAKi7B,cAAc,oBACTn/B,MACjCkE,KAAK4qC,gBAAgB7S,KAGvB,CAAA37B,IAAA,uBAAAN,MAGA,WAAuB,IAAAuiC,EAAA,KACNr+B,KAAKi7B,cAAc,cAC3BmE,iBAAiB,SAAS,WAC/Bf,EAAKoW,6BAIT,CAAAr4C,IAAA,sBAAAN,MAGA,WACuBkE,KAAKi7B,cAAc,oBAC3BmE,iBAAiB,UAAWp/B,KAAK00C,sBAGhD,CAAAt4C,IAAA,mBAAAN,MAGA,WAAmB,IAAAimC,EAAA,KACjB,OAAO,SAAC4S,GACU,UAAZA,EAAIv4C,KACN2lC,EAAK0S,2BAKX,CAAAr4C,IAAA,sBAAAN,MAGA,SAAoBi8B,GAAW,IAGzB+b,EAHyBrR,EAAA,KACvBuJ,EAAShsC,KAAKi7B,cAAc,oBAC9B4Y,EAAY,GAEZtc,EAASoc,EAAaiB,yBAAyBrd,OAC/CP,EAAQ2c,EAAaiB,yBAAyB5d,MAC/B,MAAfh3B,KAAKm7B,SACP0Y,EAAY7zC,KAAKm7B,OAAOwI,aAAakQ,WAEd,IAArBA,EAAUx2C,QAEI,OADhBy2C,EAAWD,EAAUgB,MAAK,SAAAC,GAAI,OAAIA,EAAK/c,YAAcA,QAEnDR,EAASuc,EAASvc,OAClBP,EAAQ8c,EAAS9c,OAGrBh3B,KAAKw8B,gBAAgBuY,KAAe,CAClChd,YACAR,SACAP,UACCyF,MAAK,SAAC7I,GACPoY,EAAO4B,OAAMntC,MAAburC,EAAMtQ,GAAW9H,EAAKia,WACtB,IAAMmH,EAAgBvS,EAAKxH,cAAc,iBAAD95B,OAAkB42B,EAAS,OAC9C,MAAjBid,IACFvS,EAAKwS,4BAA4BD,GACjCvS,EAAKyS,uBAAuBnd,SAKlC,CAAA37B,IAAA,yBAAAN,MAGA,SAAuBkiC,GACrB,IAAMgO,EAAShsC,KAAKi7B,cAAc,sBAClCj7B,KAAK88B,wBAAwB,oCAAD37B,OAAqC68B,EAAQ,OAAM,SAACjB,GAC9EiP,EAAOxM,YAAYzC,QAIvB,CAAA3gC,IAAA,wBAAAN,MAGA,SAAsBs4C,GACpBp0C,KAAK4qC,gBAAgBwJ,GACrBp0C,KAAKm1C,uBAAuBf,GAC5Bp0C,KAAKu0C,sBAGP,CAAAn4C,IAAA,mBAAAN,MAGA,WAAmB,IAAA6oC,EAAA,KACFjJ,GAAO17B,KAAK4zC,YACjBzkC,SAAQ,SAAC2kC,GACjBnP,EAAKyQ,sBAAsBtB,GAC3BnP,EAAK6P,2BAA2BV,QAIpC,CAAA13C,IAAA,8BAAAN,MAGA,SAA4BihC,GAC1BA,EAAQqC,iBAAiB,QAASp/B,KAAKq1C,yBAAyBtY,GAAS1gC,KAAK2D,SAGhF,CAAA5D,IAAA,2BAAAN,MAGA,SAAyBihC,GAAS,IAAA+H,EAAA,KAC1B/M,EAAYgF,EAAQE,QAAgB,OAC1C,OAAO,WACL6H,EAAKsQ,sBAAsBrd,MAI/B,CAAA37B,IAAA,oBAAAN,MAGA,WAAoB,IAAAqpC,EAAA,KACZ7P,EAAUt1B,KAAK4zC,WAAW70C,KAAI,SAACg5B,EAAWmI,GAK9C,MAJe,CACbnI,YACA+U,OAAQ5M,EAAQ,MAKd8L,EAAShsC,KAAKi7B,cAAc,qBAClCj7B,KAAKw8B,gBAAgB8Y,KAAiB,CACpCjd,OAAQ/C,IACPmH,MAAK,SAAC7I,GACPoY,EAAOpP,UAAYhJ,EAAKgJ,UACxBuI,EAAKoQ,wBACL,IAAMC,EAAYrQ,EAAKyO,WAAWx1C,OAAO,GAAG,GAC3B,MAAbo3C,GACFrQ,EAAKsQ,oBAAoBD,EAAzBrQ,QAKN,CAAA/oC,IAAA,wBAAAN,MAGA,WAAwB,IAAA2pC,EAAA,KACtBzlC,KAAK88B,wBAAwB,wBAAwB,SAACC,GACpD,IAAMiB,EAAWjB,EAAQE,QAAsB,aAC/CF,EAAQqC,iBAAiB,QAASqG,EAAKgQ,oBAAoBzX,GAAU3hC,KAAKopC,SAI9E,CAAArpC,IAAA,qBAAAN,MAGA,SAAmBkiC,GACjBh+B,KAAK88B,wBAAwB,iBAAiB,SAACC,GAC7CA,EAAQO,UAAUK,IAAI,eAGxB39B,KAAK88B,wBAAwB,iBAAD37B,OAAkB68B,EAAQ,OAAM,SAACjB,GAC3DA,EAAQO,UAAUQ,OAAO,iBAI7B,CAAA1hC,IAAA,qBAAAN,MAGA,SAAmBkiC,GACjBh+B,KAAK88B,wBAAwB,wBAAwB,SAAC4Y,GACpDA,EAASpY,UAAUQ,OAAO,oBAE5B,IAAMf,EAAU/8B,KAAKi7B,cAAc,wBAAD95B,OAAyB68B,EAAQ,OACpD,MAAXjB,GACFA,EAAQO,UAAUK,IAAI,mBAI1B,CAAAvhC,IAAA,sBAAAN,MAGA,SAAoBkiC,GAAU,IAAAwJ,EAAA,KAC5B,OAAO,WACLA,EAAKmO,mBAAmB3X,GACxBwJ,EAAKoO,mBAAmB5X,MAI5B,CAAA5hC,IAAA,uBAAAN,MAGA,SAAqBwC,GACnB0B,KAAK88B,wBAAwB,eAAe,SAACC,GAC7BA,EAAQE,QAAc,KAAEt+B,MAAM,KACjC0iC,SAAS/iC,GAGlBy+B,EAAQO,UAAUQ,OAAO,YAFzBf,EAAQO,UAAUK,IAAI,iBAO5B,CAAAvhC,IAAA,2BAAAN,MAGA,WACE,IACM+5C,EADgB71C,KAAKi7B,cAAc,+BACR6a,gBAAgB,GAAGh6C,MACpDkE,KAAK+1C,qBAAqBF,KAG5B,CAAAz5C,IAAA,8BAAAN,MAGA,WACwBkE,KAAKi7B,cAAc,+BAC3BmE,iBAAiB,SAAUp/B,KAAKg2C,yBAAyB35C,KAAK2D,SAG9E,CAAA5D,IAAA,mBAAAN,MAGA,WAAmB,IAAAw2C,EAAA,KACX1a,EAAa53B,KAAK+6B,OAAO+D,cAAc,GAAGC,gBAC5C1lB,EAAO9d,OAAO8d,KAAKue,GACvBve,EAAOA,EAAKza,QAAO,SAACxC,GAClB,OAAQyG,OAAO2G,MAAM2zB,WAAWvF,EAAWx7B,QAG7C4D,KAAKw8B,gBAAgByZ,KAAiB,CACpCre,WAAYve,IACXojB,MAAK,SAAC7I,GACP0e,EAAKrX,cAAc,oBAAoB2B,UAAYhJ,EAAKgJ,eAI5D,CAAAxgC,IAAA,qBAAAN,MAGA,SAAmBV,MAEnB,CAAAgB,IAAA,yBAAAN,MAGA,SAAuBV,GAAM,IAAAo3C,EAAA,KACVxyC,KAAKi7B,cAAc,0BAAD95B,OAA2B/F,EAAI,iBACzDgkC,iBAAiB,UAAU,WAClCoT,EAAK0D,mBAAmB96C,QAI5B,CAAAgB,IAAA,0BAAAN,MAGA,WACE,IAAM0B,EAAM,GAEZwC,KAAK88B,wBAAwB,+BAA+B,SAACC,GAC3D,IAAMxB,EAAOwB,EAAQE,QAAwB,eACzCnhC,EAAQihC,EAAQjhC,MACC,WAAjBihC,EAAQz+B,OACVxC,EAAQqhC,WAAWrhC,IAGA,aAAjBihC,EAAQz+B,OACVxC,EAAQihC,EAAQG,SAElBlI,EAAQ4G,UAAUp+B,EAAK+9B,EAAMz/B,MAG/B,IAAIq6C,EAAUn2C,KAAK4zC,WAAW70C,KAAI,SAACg5B,GAGjC,OAFAv6B,EAAIu6B,GAAsB,UAAIA,EAEvBv6B,EAAIu6B,MAeb,OAZAoe,EAAUA,EAAQp3C,KAAI,SAACogC,GASrB,OAPyB,IAArBA,EAAOiX,UACTjX,EAAc,MAAQ,KAAI,SAACrjC,EAAOquB,GAChC,MAAO,GAAPhpB,OAAUtD,KAAK4E,MAAO3G,EAASquB,EAAO9B,QAAO,SAACguB,EAAKC,GAAI,OAAKD,EAAMC,KAAU,KAAI,MAGlFnX,EAAc,WAAIrgC,EAEbqgC,OAMX,CAAA/iC,IAAA,gBAAAN,MAGA,WACE,IAAMw5B,EAAUt1B,KAAKonC,kBAAkB9R,QACjCihB,EAAWv2C,KAAKw2C,0BAChBC,EAASnjB,EAAE6B,MAAMuhB,MAAMC,QAAQrhB,EAAQmhB,QAe7C,OAbc,IAAInjB,EAAE6B,MAAMyhB,MAAM,CAC9Bt4C,KAAMg3B,EAAQh3B,KACdm4C,SACA9gB,OAAQL,EAAQK,OAChBkhB,WAAYvhB,EAAQwhB,YACpBC,QAASzhB,EAAQyhB,QACjBC,QAAS1hB,EAAQ0hB,QACjBnD,UAA+B,IAApB0C,EAASl5C,OAAe,CAAC,IAAIi2B,EAAE6B,MAAMuhB,MAAMO,SAAS,CAC7Dlf,UAAW,aACPwe,EACNW,YAAa5hB,EAAQ4hB,gBAMzB,CAAA96C,IAAA,qBAAAN,MAIA,WACE,IAAIw5B,EAAUqe,EAAa/L,sBAM3B,OALmB,MAAf5nC,KAAKm7B,UACP7F,EAAUt1B,KAAKm7B,OAAOwI,cACN,OAAI3jC,KAAKm3C,iBAGpB7hB,IAGT,CAAAl5B,IAAA,gBAAAN,MAGA,WACE,IASIs7C,EAAU,GACd,GAAmB,MAAfp3C,KAAKm7B,OAAgB,CACvB,IAAMsb,EAASz2C,KAAKm7B,OAAOwI,aAAqB,OAC1C0T,EAAe/jB,EAAE6B,MAAMuhB,MAAMC,QACnCS,EAAU77C,OAAO8d,KAAKg+B,GAAcxC,MAAK,SAAAz5C,GAAI,OAb1Bk8C,EAa0Cb,EAbnCc,EAa2CF,EAAaj8C,GAZ9Eo8C,GAAU,EACVC,GAAW,EACXH,aAAiB54C,OAAS64C,aAAkB74C,QAC9C84C,EAAUF,EAAM3xB,OAAM,SAACoX,EAASmD,GAAK,OAAKnD,IAAYwa,EAAOrX,MAC7DuX,EAAWF,EAAO5xB,OAAM,SAACoX,EAASmD,GAAK,OAAKnD,IAAYua,EAAMpX,OAEzDsX,GAAWC,EAPA,IAACH,EAAOC,EACtBC,EACAC,KAaN,OAAOL,O,gFACRzD,EA/ZsB,CAAS3e,GAqalC2e,GAAa/L,sBAAwB,CACnC8P,WAAY,EACZR,YAAa,UACbH,QAAS,EACTC,QAAS,EACTrhB,OAAQ,GACRgiB,gBAAgB,EAChBlB,OAAQ,CAAC,UAAW,OAAQ,MAAO,QAAS,OAAQ,UAAW,SAAU,QACzEn4C,KAAM,OAMRq1C,GAAaiB,yBAA2B,CACtCrd,OAAQ,qBACRP,MAAO,CACLS,KAAM,UACNnL,MAAO,EACP4J,KAAM,SAACp6B,EAAOquB,GACZ,MAAO,GAAPhpB,OAAUtD,KAAK4E,MAAO3G,EAASquB,EAAO9B,QAAO,SAACguB,EAAKC,GAAI,OAAKD,EAAMC,KAAU,KAAI,MAElFsB,gBAAiB,EACjB7gB,OAAQ,CACNqJ,MAAO,UACPxK,MAAO,K,myDChcN,IAAMiiB,GAAe,SAAAnY,I,sRAAArM,CAAAwkB,EAAAnY,GAAA,I,MAAAjM,EAAAC,GAAAmkB,GAAA,SAAAA,IAAA,OAAAlkB,GAAA,KAAAkkB,GAAApkB,EAAAhzB,MAAA,KAAAX,WA+EzB,O,EA/EyB+3C,E,EAoE1B,EAAAz7C,IAAA,sBAAAN,MAGA,SAA2BikC,EAAUC,EAASC,GAC5C,OAAOD,EAAQjhC,KAAI,SAACq+B,EAAI8C,GACtB,MAAO,CACL9C,KACAhiC,KAAM6kC,EAAUC,GAChBH,mB,EA5EoB,EAAA3jC,IAAA,WAAAN,MAM1B,SAASs5B,GAGP,OAFAp1B,KAAK+6B,OAAS3F,EAEPp1B,OAGT,CAAA5D,IAAA,gBAAAN,MAMA,WACE,IAAMwtC,EAAOtpC,KAAKonC,kBACdjS,EAAQ,KAcZ,OAbImU,IACFnU,EAAQ,IAAI7B,EAAE6B,MAAMuO,SAAS,CAC3BtD,MAAOkJ,EAAKlJ,MACZ0X,OAAQxO,EAAKwO,OACbxd,MAAOgP,EAAKhP,MACZ1E,MAAO0T,EAAK1T,MACZmiB,OAAQzO,EAAKyO,OACbxd,WAAY+O,EAAK/O,WACjByd,QAAS1O,EAAK0O,QACdC,QAAS3O,EAAK2O,QACdC,QAAS5O,EAAK4O,WAGX/iB,IAGT,CAAA/4B,IAAA,qBAAAN,MAIA,WACE,IAAIw5B,EAAUuiB,EAAgBjQ,sBAE9B,GAAmB,MAAf5nC,KAAKm7B,OAAgB,CACvB,IAAMhG,EAAQn1B,KAAKm7B,OAAO2O,SAC1BxU,EAAU,CACR8K,MAAOjL,EAAMiL,MACb0X,OAAQ3iB,EAAM2iB,OACdxd,MAAOnF,EAAMmF,MACbC,WAAYpF,EAAMoF,WAClB3E,MAAOT,EAAMS,MACbmiB,OAAQ5iB,EAAM4iB,OACdC,QAAS7iB,EAAM6iB,QACfC,QAAS9iB,EAAM8iB,QACfC,QAAS/iB,EAAM+iB,SAEjBl4C,KAAK49B,aAAY,GAQnB,OALmB,MAAf59B,KAAK+6B,SACPzF,EAAmB,UAAI,CAAC,CAAEl6B,KAAM,GAAK,CAAEA,MAAO,GAAK,CAAEA,KAAM,GAAK,CAAEA,KAAM,IACxEk6B,EAAmB,UAAEnmB,SAAQ,SAAAgpC,GAAE,OAAIA,EAAa,SAAI7iB,EAAQgF,SAC5DhF,EAAiB,QAAIuiB,EAAgBzP,oBAAoB9S,EAAQ0iB,QAAS,CAAC,QAAS,QAAS,CAACxjB,EAAS,WAAYA,EAAS,cAEvHc,O,gFAcRuiB,EA/EyB,CAAS7iB,G,o9CAkFrC6iB,GAAgBjQ,sBAAwB,CACtCxH,MAAO,UACP0X,OAAQ,UACRxd,MAAO,EACP1E,MAAO,EACPmiB,OAAQ,GACRC,QAAS,OACTzd,WAAY,UACZ0d,QAAS,EACTC,QAAS,GC/EiD,IAEvCE,GAAiB,WACpC,SAAAA,EAAYnjB,I,4FAAYtB,CAAA,KAAAykB,GACtBp4C,KAAK+6B,OAAS,KACd/6B,KAAKq4C,aAAe,KACpBr4C,KAAKs4C,gBAAkB,GACvBt4C,KAAK26B,MAAQ1F,EACbj1B,KAAKu4C,YAAY,M,UAuhBlB,O,EAthBAH,E,EA8dD,EAAAh8C,IAAA,2BAAAV,IAIA,WACE,MAAO,CACL88C,YAAa,CAAC,oBAAqB,eAAgB,eACnDC,kBAAmB,CAAC,cAAe,eAAgB,aAAc,oBAAqB,gBAAiB,mBACvGC,gBAAiB,CAAC,oBAAqB,eAAgB,mBACvDC,cAAe,CAAC,oBAAqB,eAAgB,iBACrDC,aAAc,CAAC,cAAe,aAAc,oBAAqB,gBAAiB,kBAAmB,gBACrGC,aAAc,CAAC,gBACfC,WAAY,CAAC,eAAgB,oBAAqB,cAClDC,cAAe,CAAC,oBAIpB,CAAA38C,IAAA,8BAAAV,IAIA,WACE,MAAO,CACLs9C,QAAS,CAAC,eACVnV,MAAO,CAAC,oBAAqB,eAAgB,kBAAmB,gBAC9D,eAAgB,aAAc,eAEhCE,KAAM,CAAC,kBAAmB,gBAAiB,gBAAiB,eAC5DE,QAAS,CAAC,kBAAmB,gBAAiB,cAAe,wBAIjE,CAAA7nC,IAAA,mBAAAN,MAIA,SAAwBq5B,GACtB,IAAI/5B,EAAO,GAkBX,OAjBI+5B,aAAiB7B,EAAE6B,MAAMuO,SAC3BtoC,EAAO,gBACE+5B,aAAiB7B,EAAE6B,MAAM8jB,OAClC79C,EAAO,cACE+5B,aAAiB7B,EAAE6B,MAAMmV,QAClClvC,EAAO,eACE+5B,aAAiB7B,EAAE6B,MAAMoX,QAClCnxC,EAAO,eACE+5B,aAAiB7B,EAAE6B,MAAMoY,WAClCnyC,EAAO,kBACE+5B,aAAiB7B,EAAE6B,MAAMoe,SAClCn4C,EAAO,gBACE+5B,aAAiB7B,EAAE6B,MAAMyhB,MAClCx7C,EAAO,aACE+5B,aAAiB7B,EAAE6B,MAAMuU,eAClCtuC,EAAO,qBAEFA,M,EArhBR,EAAAgB,IAAA,YAAAN,MAED,SAAUs5B,EAAOF,GACf,IAAIgkB,EAAe,KACnB,GAAa,MAAT9jB,EAAe,CACjB,IAAMD,EAAQC,EAAM+jB,WAEhBhkB,aAAiBD,EACnBgkB,EAAe/jB,EACNA,aAAiB7B,EAAE6B,MAAMikB,YAElCF,EADe/jB,EAAMkkB,YACCxE,MAAK,SAAAyE,GAAO,OAAIA,aAAmBpkB,MAG7D,OAAOgkB,IACR,CAAA98C,IAAA,cAAAN,MAED,SAAYs5B,GAAO,IAAAiH,EAAA,KACjBr8B,KAAKu5C,UAAY,GACjBv5C,KAAKu5C,UAAuB,YAAI,IAAI9Z,GAAc+Y,IAAax4C,KAAK26B,MAAO,cAAe36B,KAAKq5C,UAAUjkB,EAAO9B,EAAE6B,MAAM8jB,QAAS7jB,EAAOp1B,MACxIA,KAAKu5C,UAA6B,kBAAI,IAAIlQ,GAAoBoP,IAAmBz4C,KAAK26B,MAAO,oBAAqB36B,KAAKq5C,UAAUjkB,EAAO9B,EAAE6B,MAAMuU,cAAetU,GAC/Jp1B,KAAKu5C,UAAwB,aAAI,IAAIpP,GAAeyO,IAAc54C,KAAK26B,MAAO,eAAgB36B,KAAKq5C,UAAUjkB,EAAO9B,EAAE6B,MAAMmV,SAAUlV,GACtIp1B,KAAKu5C,UAA2B,gBAAI,IAAI5M,GAAkB+L,IAAiB14C,KAAK26B,MAAO,kBAAmB36B,KAAKq5C,UAAUjkB,EAAO9B,EAAE6B,MAAMoY,YAAanY,GACrJp1B,KAAKu5C,UAAwB,aAAI,IAAI5N,GAAekN,IAAc74C,KAAK26B,MAAO,eAAgB36B,KAAKq5C,UAAUjkB,EAAO9B,EAAE6B,MAAMoX,SAAUnX,GACtIp1B,KAAKu5C,UAAsB,WAAI,IAAI5F,GAAamF,IAAY94C,KAAK26B,MAAO,aAAc36B,KAAKq5C,UAAUjkB,EAAO9B,EAAE6B,MAAMyhB,OAAQxhB,GAC5Hp1B,KAAKu5C,UAAyB,cAAI,IAAIzJ,GAAgB6I,IAAe34C,KAAK26B,MAAO,gBAAiB36B,KAAKq5C,UAAUjkB,EAAO9B,EAAE6B,MAAMoe,UAAWne,EAAOp1B,MAClJA,KAAKu5C,UAAyB,cAAI,IAAI1B,GAAgBkB,KAAe/4C,KAAK26B,MAAO,gBAAiB36B,KAAKq5C,UAAUjkB,EAAO9B,EAAE6B,MAAMuO,UAAWtO,GAE3Ip1B,KAAKu5C,UAAuB,YAAEC,oBAAoB/c,MAAK,WACrDJ,EAAKod,4BACLpd,EAAKqd,sBAEP15C,KAAK25C,oBAAsB35C,KAAK45C,cAAc76C,KAAI,SAAAuvC,GAAO,OAAIA,EAAQkL,yBACtE,CAAAp9C,IAAA,wBAAAN,MAED,WACE,OAAOkE,KAAK25C,sBACb,CAAAv9C,IAAA,qBAAAN,MAED,WACE,IAAM+9C,EAAWt+C,OAAO4uB,OAAOnqB,KAAKu5C,WAAWx6C,KAAI,SAAAuvC,GAAO,OAAIA,EAAQkL,uBACtE,OAAOxd,QAAQ8d,IAAID,KACpB,CAAAz9C,IAAA,eAAAN,MAED,WACEP,OAAO4uB,OAAOnqB,KAAKu5C,WAAWpqC,SAAQ,SAAAm/B,GAAO,OAAIA,EAAQ+D,eAG3D,CAAAj2C,IAAA,iBAAAN,MAGA,WACE,OAAOkE,KAAKq4C,eAGd,CAAAj8C,IAAA,iBAAAN,MAGA,SAAeq5B,GACb55B,OAAO4uB,OAAOnqB,KAAKu5C,WAAWpqC,SAAQ,SAAAm/B,GAAO,OAAIA,EAAQzQ,cAAa,MACtE79B,KAAKq4C,aAAer4C,KAAKu5C,UAAUpkB,GACnCn1B,KAAKq4C,aAAaxa,cAAa,GACjB,gBAAV1I,EACFn1B,KAAKu5C,UAAuB,YAAEQ,sBAAqB,GAEnD/5C,KAAKu5C,UAAuB,YAAEQ,sBAAqB,KAIvD,CAAA39C,IAAA,oBAAAN,MAGA,WAAoB,IAAAuiC,EAAA,KAClB,OAAOr+B,KAAKs4C,gBAAgBv5C,KAAI,SAAAghC,GAAQ,OAAI1B,EAAKkb,UAAUxZ,QAG7D,CAAA3jC,IAAA,mBAAAN,MAGA,SAAiBq5B,GACVn1B,KAAKs4C,gBAAgBjX,SAASlM,KACjCn1B,KAAKs4C,gBAAgB13C,KAAKu0B,GAC1Bn1B,KAAKu5C,UAAUpkB,GAAOyI,aAAY,MAErC,CAAAxhC,IAAA,cAAAN,MAED,SAAYq5B,GACVn1B,KAAK26B,MAAMM,cAAc,mBAAD95B,OAAoBg0B,EAAK,OAAM+H,SAAU,EACjEl9B,KAAKg6C,iBAAiB7kB,KAGxB,CAAA/4B,IAAA,sBAAAN,MAGA,SAAoBq5B,GAClBn1B,KAAKs4C,gBAAkBt4C,KAAKs4C,gBAAgB15C,QAAO,SAAAq7C,GAAM,OAAIA,IAAW9kB,KACxEn1B,KAAKu5C,UAAUpkB,GAAOyI,aAAY,KAGpC,CAAAxhC,IAAA,eAAAN,MAGA,SAAaq5B,GACX,IAAMmZ,EAAUtuC,KAAKu5C,UAAUpkB,GAChB,MAAXmZ,GACFA,EAAQ4L,aAAY,KAIxB,CAAA99C,IAAA,cAAAN,MAGA,SAAYq5B,GACV,IAAMmZ,EAAUtuC,KAAKu5C,UAAUpkB,GAChB,MAAXmZ,GACFA,EAAQ4L,aAAY,KAIxB,CAAA99C,IAAA,cAAAN,MAGA,SAAYqlC,GACVnhC,KAAKshC,UAAYH,IAGnB,CAAA/kC,IAAA,cAAAN,MAGA,WACE,OAAOkE,KAAKshC,YAGd,CAAAllC,IAAA,SAAAN,MAGA,SAAOs5B,GAAO,IAAA2M,EAAA,KACZ/hC,KAAKm6C,eACLn6C,KAAKu4C,YAAYnjB,GAEjBp1B,KAAKo6C,qBAAqB3d,MAAK,WAC7BsF,EAAKkP,SAAS7b,GACd2M,EAAKsY,eACLtY,EAAKuY,sBACLvY,EAAKwY,aAAanlB,QAItB,CAAAh5B,IAAA,WAAAN,MAGA,SAASs5B,GAQP,IAAI92B,EAGJ,GAVoB,OAAhB0B,KAAK+6B,SACP/6B,KAAKw6C,oBACLx6C,KAAKy6C,qBAEPz6C,KAAK+6B,OAAS3F,EAMK,QAAfA,EAAM92B,KACRA,EAAO,eAEP,OAAQ82B,EAAM0J,cAAc,GAAGgQ,cAAcxwC,MAC3C,IAAK,QACL,IAAK,aACHA,EAAO,QACP,MACF,IAAK,aACL,IAAK,kBACHA,EAAO,OACP,MACF,IAAK,UACL,IAAK,eACHA,EAAO,UACP,MACF,QACEg1B,EAAEuO,OAAO2N,MAAMhb,EAAS,8BAA+B,SAY7Dx0B,KAAK06C,YAAYp8C,KAOnB,CAAAlC,IAAA,kBAAAN,MAGA,WACE,OAAOP,OAAO8d,KAAKrZ,KAAKu5C,aAG1B,CAAAn9C,IAAA,cAAAN,MAGA,WACE,OAAOP,OAAO4uB,OAAOnqB,KAAKu5C,aAG5B,CAAAn9C,IAAA,gBAAAN,MAGA,WACEkE,KAAK45C,cAAczqC,SAAQ,SAAAm/B,GAAO,OAAIA,EAAQzQ,cAAa,MAC3D79B,KAAKq4C,aAAe,OAGtB,CAAAj8C,IAAA,cAAAN,MAGA,WACEkE,KAAK45C,cAAczqC,SAAQ,SAAAm/B,GAAO,OAAIA,EAAQ1Q,aAAY,MAC1D59B,KAAKs4C,gBAAkB,KAGzB,CAAAl8C,IAAA,YAAAN,MAGA,WAAY,IAAA2mC,EAAA,KACVziC,KAAK26C,kBAAkBxrC,SAAQ,SAAAm/B,GAAO,OAAI7L,EAAKmY,YAAYtM,QAG7D,CAAAlyC,IAAA,aAAAN,MAGA,WAAa,IAAA6oC,EAAA,KACX3kC,KAAK26C,kBAAkBxrC,SAAQ,SAAAm/B,GAAO,OAAI3J,EAAKkW,aAAavM,QAG9D,CAAAlyC,IAAA,YAAAN,MAGA,SAAUwyC,GACRtuC,KAAKu5C,UAAUjL,GAAS2C,SAASjxC,KAAK+6B,QACtC/6B,KAAKu5C,UAAUjL,GAAS4L,aAAY,KAGtC,CAAA99C,IAAA,eAAAN,MAGA,WACEkE,KAAK86C,gBACL96C,KAAK+6C,gBAGP,CAAA3+C,IAAA,eAAAN,MAGA,SAAas5B,GAAO,IAAA0P,EAAA,KAClB9kC,KAAKu5C,UAAuB,YAAEmB,YAAY16C,KAAKshC,WAAW2P,SAASjxC,KAAK+6B,QACxE,IAAMigB,EAAS,CAAC5lB,EAAM+jB,YAClB6B,EAAO,aAAc1nB,EAAE6B,MAAMikB,WAC/B4B,EAAOp6C,KAAIH,MAAXu6C,EAAMtf,GAASsf,EAAO,GAAG3B,cAER2B,EAAOj8C,KAAI,SAAAo2B,GAAK,OAAIijB,EAAkB6C,iBAAiB9lB,MAC/DhmB,SAAQ,SAACgmB,GAClB2P,EAAKoW,oBAAoB/lB,GACzB2P,EAAKqW,mBAAmBhmB,QAI5B,CAAA/4B,IAAA,sBAAAN,MAGA,WAAsB,IAAAqpC,EAAA,KACd6V,EAAS5C,EAAkBgD,4BAA4Bp7C,KAAKshC,WAClEthC,KAAK26C,kBAAkBxrC,SAAQ,SAACm/B,GAC1B0M,EAAO3Z,SAASiN,GAClBnJ,EAAKkW,UAAU/M,GAEfnJ,EAAK0V,aAAavM,MAGtBtuC,KAAK86C,kBAGP,CAAA1+C,IAAA,2BAAAN,MAGA,SAAyBq5B,GAAO,IAAAsQ,EAAA,KAC9BzlC,KAAKs7C,aACLt7C,KAAKu7C,iBAAiBpsC,SAAQ,SAAC8qC,GACzBxU,EAAK+V,mBAAmBvB,IAC1BxU,EAAKmV,YAAYX,MAGrBj6C,KAAKs4C,gBAAgBnpC,SAAQ,SAACmqC,GAC5B7T,EAAK8T,UAAUD,GAAS1b,aAAY,QAIxC,CAAAxhC,IAAA,kBAAAN,MAGA,SAAgBq5B,GACdn1B,KAAK86C,gBACL96C,KAAKy7C,eAAetmB,KAGtB,CAAA/4B,IAAA,qBAAAN,MAGA,SAAmBq5B,GACjB,IAAIumB,EAAe17C,KAAKs4C,gBAAgBl6C,OAAO,GAAG,QAC7BU,IAAjB48C,IACFA,EAAevmB,GAEjBn1B,KAAK2wC,gBAAgB+K,KAGvB,CAAAt/C,IAAA,sBAAAN,MAGA,SAAoBq5B,GACdn1B,KAAKs4C,gBAAgBjX,SAASlM,GAChCn1B,KAAK27C,oBAAoBxmB,GAEzBn1B,KAAKg6C,iBAAiB7kB,GAExBn1B,KAAK0wC,yBAAyBvb,KAGhC,CAAA/4B,IAAA,oBAAAN,MAGA,WAAoB,IAAA0rC,EAAA,KAClBxnC,KAAK26C,kBAAkBxrC,SAAQ,SAACm/B,GAC9B,IAAMsN,EAAepU,EAAK+R,UAAUjL,GAC9B4C,EAAe0K,EAAaC,kBAC5BC,EAAeF,EAAaG,oBACpBvU,EAAK7M,MAAMM,cAAc,eAAD95B,OAAgBmtC,EAAO,aACvDlP,iBAAiB,SAAS,WAC9B,IAA8B,IAA1B8R,EAAaxT,SAAoB,CACnC,IAAMvI,EAAQ2mB,EAAa7e,QAAQ+e,KACnCxU,EAAKuS,qBAA+B,gBAAV5kB,GAC1BqS,EAAKmJ,gBAAgBxb,YAM7B,CAAA/4B,IAAA,oBAAAN,MAGA,WAAoB,IAAAw2C,EAAA,KAClBtyC,KAAK26C,kBAAkBxrC,SAAQ,SAACm/B,GAC9B,IACM4C,EADeoB,EAAKiH,UAAUjL,GACFuN,kBAClC3K,EAAa9R,iBAAiB,UAAU,WACtC,IAAMjK,EAAQ+b,EAAajU,QAAQoI,SACnCiN,EAAKyH,qBAA+B,gBAAV5kB,GAC1Bmd,EAAK4I,oBAAoB/lB,GACzBmd,EAAK6I,mBAAmBhmB,WAK9B,CAAA/4B,IAAA,WAAAN,MAGA,WACE,IAAIq5B,EACJ,GAAwC,IAApCn1B,KAAKi8C,oBAAoB5+C,OAC3Bi2B,EAAEuO,OAAOC,KAAKtN,EAAS,yBAA0BA,EAAS,4BACrD,GAAwC,IAApCx0B,KAAKi8C,oBAAoB5+C,OAClC83B,EAAQn1B,KAAKi8C,oBAAoB,GAAGrT,oBAC/B,CACL,IAAMsT,EAAYl8C,KAAKm8C,eACjBnB,EAASh7C,KAAKo8C,sBACpBF,EAAUve,IAAIqd,GACd7lB,EAAQ+mB,EAEV,OAAO/mB,IAGT,CAAA/4B,IAAA,eAAAN,MAGA,WACE,OAAOkE,KAAKi8C,oBAAoBl9C,KAAI,SAAAuvC,GAAO,OAAIA,EAAQ1F,mBAAiBiM,MAAK,SAAA1f,GAAK,OAChFA,aAAiB7B,EAAE6B,MAAMikB,eAG7B,CAAAh9C,IAAA,sBAAAN,MAGA,WACE,IAAMogD,EAAYl8C,KAAKm8C,eACvB,OAAOn8C,KAAKi8C,oBACTr9C,QAAO,SAAAu2B,GAAK,OAAa,MAATA,KAChBp2B,KAAI,SAAAuvC,GAAO,OAAIA,EAAQ1F,mBAAiBhqC,QAAO,SAAAu2B,GAAK,OAAKA,EAAMknB,OAAOH,QAG3E,CAAA9/C,IAAA,iBAAAN,MAGA,WAAiB,IAAA02C,EAAA,KAEf,MADoB,CAAC,cAAe,eAAgB,aAAc,oBAAqB,gBAAiB,kBAAmB,eAAgB,iBACxH5zC,QAAO,SAAAu2B,GAAK,OAAIqd,EAAK8J,gBAAgB9J,EAAK8F,gBAAiBnjB,QAC/E,CAAA/4B,IAAA,uBAAAN,MAED,SAAqBuhC,GACnBr9B,KAAKu5C,UAAuB,YAAEQ,qBAAqB1c,KAGrD,CAAAjhC,IAAA,eAAAN,MAGA,SAAaq5B,EAAO8kB,GAClB,OAAO7B,EAAkBmE,yBAAyBpnB,GAAOkM,SAAS4Y,KAGpE,CAAA79C,IAAA,kBAAAN,MAGA,SAAgBk/C,EAAQ7lB,GAAO,IAAAyd,EAAA,KACzB4J,GAAe,EAMnB,OALAxB,EAAO7rC,SAAQ,SAAC8qC,GACTrH,EAAK4J,aAAavC,EAAQ9kB,KAC7BqnB,GAAe,MAGZA,IAGT,CAAApgD,IAAA,qBAAAN,MAGA,SAAmBq5B,GACjB,OAAOijB,EAAkBgD,4BAA4Bp7C,KAAKshC,WAAWD,SAASlM,KAGhF,CAAA/4B,IAAA,4BAAAN,MAGA,WAA4B,IAAAg3C,EAAA,KAC1B9yC,KAAKu5C,UAAuB,YAAEzc,wBAAwB,KAAK,SAACC,GAC1DA,EAAQqC,iBAAiB,SAAS,WAChC0T,EAAKkH,iBAAiB,uBAK5B,CAAA59C,IAAA,mBAAAN,MAGA,WACEkE,KAAKu5C,UAAuB,YAAEzc,wBAAwB,aAAa,SAACC,GAClEA,EAAQqC,iBAAiB,SAAS,SAACv6B,GAEpB,uBADAA,EAAE43C,cAAcC,mBAAmBpf,UAAUxhC,OAExD+I,EAAE43C,cAAcC,mBAAmBpf,UAAUK,IAAI,oBACjD94B,EAAE43C,cAAcC,mBAAmBpf,UAAUQ,OAAO,sBACpDj5B,EAAE43C,cAAcE,kBAAkBrf,UAAUQ,OAAO,8BACnDj5B,EAAE43C,cAAcE,kBAAkBrf,UAAUK,IAAI,iCAEhD94B,EAAE43C,cAAcC,mBAAmBpf,UAAUQ,OAAO,oBACpDj5B,EAAE43C,cAAcC,mBAAmBpf,UAAUK,IAAI,sBACjD94B,EAAE43C,cAAcE,kBAAkBrf,UAAUK,IAAI,8BAChD94B,EAAE43C,cAAcE,kBAAkBrf,UAAUQ,OAAO,2C,gFA8D1Dsa,EA7hBmC,G,qxFChBK,IAEtBjlB,GAAmB,SAAAypB,I,sRAAAvpB,CAAAF,EAASG,EAAEE,SAAX,I,MAAAC,EAAAC,GAAAP,GAUtC,SAAAA,EAAYiC,GAAO,IAAAiH,G,4FAAA1I,CAAA,KAAAR,GAEbG,EAAEv1B,MAAM8+C,YAAYC,IACtBxpB,EAAEypB,UAAUvoB,EAAS,SAIvB,IAAMjB,EAAO,IAAIupB,EAEG,OADpBzgB,EAAA5I,EAAAz4B,KAAA,KAAMu4B,EAAM,iBACPwH,OAAS3F,EAAMiH,EAubrB,O,EArbDlJ,G,EAAA,EAAA/2B,IAAA,aAAAN,MAQA,SAAWiD,GAAK,IAAAs/B,EAAA,KACdr+B,KAAKg9C,WAAaj+C,EAClB,IAAMk+C,EAASl+C,EAAIm+C,SAAS/7C,OAAOpC,EAAIo+C,SAASh8C,OAAOpC,EAAIq+C,SAASj8C,OAAOpC,EAAIs+C,YAAYz+C,QAAO,SAAAw2B,GAAK,MAAmB,YAAfA,EAAM92B,WAAuBM,QAAO,SAACw2B,GAC9I,MAAsB,gBAAfA,EAAMh6B,QAEf,OAAO,IAAI4gC,SAAQ,SAACshB,EAASC,GAC3B,IAAM3pB,EAAON,EAAE4I,SAASC,YAAYqhB,IAAc,CAChDC,OAAO,EACPrhB,KAAM,CACJ6gB,SACAlpB,aAAc,CACZ2pB,YAAalpB,EAAS,eACtBmpB,WAAYnpB,EAAS,cACrBopB,WAAYppB,EAAS,cACrBqpB,mBAAoBrpB,EAAS,sBAC7BspB,QAAStpB,EAAS,WAClB+d,SAAU/d,EAAS,YACnBupB,YAAavpB,EAAS,eACtBwpB,aAAcxpB,EAAS,gBACvBypB,UAAWzpB,EAAS,aACpB0pB,SAAU1pB,EAAS,gBAInB2pB,EAAavqB,EAAKqH,cAAc,0BAChCmjB,EAAYxqB,EAAKqH,cAAc,oCACrCoD,EAAKggB,kBAAoB,IAAIjG,GAAkBgG,GAC/C/f,EAAKoc,kBAAkB0D,EAAYvqB,GACnCyK,EAAKigB,oBAAoBH,GACzB9f,EAAKkgB,oBAAoB3qB,GACzByK,EAAKmgB,oBAAoB5qB,GACzByK,EAAKogB,yBAAyB7qB,GAC9ByK,EAAKqgB,wBAAwBP,EAAYvqB,EAAMqpB,GAC/CK,EAAQ1pB,GACRyK,EAAKsgB,UAAU/qB,QAInB,CAAAx3B,IAAA,0BAAAN,MAMA,SAAwBqiD,EAAYvqB,EAAMqpB,GAAQ,IAAAlb,EAAA,KAC5C/hC,KAAK+6B,kBAAkBzH,EAAE8B,MAAMkJ,QACjCtC,QAAQ8d,IAAI95C,KAAKq+C,kBAAkBO,yBAAyBniB,MAAK,WAC/DsF,EAAK8c,cAAcV,EAAYvqB,EAAMmO,EAAKhH,QAC1C,IAAM+jB,EAAUxrB,EAAE4I,SAASC,YAAY4iB,IAAa,CAClD3iB,KAAM,CACJ6gB,OAAQA,EAAOl+C,KAAI,SAACq2B,GAClB,MAAO,CACLh6B,KAAMg6B,EAAMh6B,KACZ2kC,SAAUgC,EAAKhH,OAAO3/B,YAK9B+iD,EAAWvhB,UAAYkiB,EAAQliB,eAKrC,CAAAxgC,IAAA,mBAAAN,MAMA,SAAiB83B,GACSA,EAAKqH,cAAc,oCAC3B0P,aAAa,cAAe,MAG9C,CAAAvuC,IAAA,sBAAAN,MAMA,SAAoB83B,GACEA,EAAKqH,cAAc,sBAC3BmE,iBAAiB,QAASp/B,KAAK29C,WAAWthD,KAAK2D,SAG7D,CAAA5D,IAAA,2BAAAN,MAMA,SAAyB83B,GACEA,EAAKqH,cAAc,2BAC3BmE,iBAAiB,QAASp/B,KAAKg/C,gBAAgB3iD,KAAK2D,SAGvE,CAAA5D,IAAA,sBAAAN,MAMA,SAAoB83B,GACEA,EAAKqH,cAAc,sBAC3BmE,iBAAiB,QAASp/B,KAAK49C,WAAWvhD,KAAK2D,SAG7D,CAAA5D,IAAA,oBAAAN,MAMA,SAAkBqiD,EAAYvqB,GAAM,IAAA6O,EAAA,KAClC0b,EAAW/e,iBAAiB,UAAU,WACpCqD,EAAKoc,cAAcV,EAAYvqB,QAInC,CAAAx3B,IAAA,sBAAAN,MAMA,SAAoBqiD,GAAY,IAAAxZ,EAAA,KAC9B3kC,KAAKg9C,WAAWiC,GAAG3rB,EAAEqhB,IAAIuK,aAAa,SAACjC,GACrC,GAAIv+C,MAAM88B,QAAQyhB,GAChBA,EAAOr+C,QAAO,SAAAw2B,GAAK,OAAKA,aAAiB9B,EAAE8B,MAAMkJ,QAAUlJ,aAC9C9B,EAAE8B,MAAM+pB,eAAkB,GAAwB,gBAAf/pB,EAAMh6B,QAAyB+T,SAAQ,SAAAimB,GAAK,OAAIuP,EAAKya,eAAejB,EAAY/oB,EAAMh6B,cACjI,GAAI6hD,aAAkB3pB,EAAE8B,MAAMkJ,OAAQ,CAC3C,IAAMlJ,E,kWAAK2G,CAAA,GAAQkhB,GACnBtY,EAAKya,eAAejB,EAAY/oB,SAKtC,CAAAh5B,IAAA,sBAAAN,MAMA,SAAoB83B,GAClB,OAAOA,EAAKqH,cAAc,wBAG5B,CAAA7+B,IAAA,iBAAAN,MAGA,SAAeqiD,EAAY/iD,GACzB,GAAa,kBAATA,IACwC,IAAtC4E,KAAKq/C,WAAWjkD,EAAM+iD,GAAsB,CAC9C,IAAMmB,EAAajgB,SAASC,cAAc,UAC1CggB,EAAW3U,aAAa,OAAQvvC,GAChCkkD,EAAW/f,UAAYnkC,EACvB+iD,EAAWxgB,IAAI2hB,MAKrB,CAAAljD,IAAA,aAAAN,MAGA,SAAWyjD,EAAWpB,GAEpB,OADeziB,GAAOyiB,EAAWtQ,UACf2R,MAAK,SAAAlkD,GAAC,OAAIA,EAAEshC,YAAc2iB,OAG9C,CAAAnjD,IAAA,gBAAAN,MAMA,SAAcqiD,EAAYvqB,GAAoB,IAAdwB,EAAKt1B,UAAAzC,OAAA,QAAAyB,IAAAgB,UAAA,GAAAA,UAAA,GAAG,KAChCy/C,EAAYpB,EAAWriD,MAK7B,GAJAkE,KAAK+6B,OAAS/6B,KAAKy/C,eAAeF,GACrB,MAATnqB,IACFp1B,KAAK+6B,OAAS3F,GAEZp1B,KAAK+6B,kBAAkBzH,EAAE8B,MAAMkJ,OAAQ,CACzC,IAAMohB,EAAW1/C,KAAK+6B,OAAO+D,cACL,IAApB4gB,EAASriD,QACXi2B,EAAEuO,OAAO2N,MAAMhb,EAAS,iCAAkC,SAC1D2pB,EAAWwB,cAAgB,IAE3B3/C,KAAKq+C,kBAAkBuB,OAAO5/C,KAAK+6B,QACnC/6B,KAAK6/C,UAAUjsB,GACf5zB,KAAK8/C,iBAAiBlsB,OAK5B,CAAAx3B,IAAA,iBAAAN,MAMA,SAAeyjD,GAIb,OAHev/C,KAAKg9C,WAAWE,SAAS/7C,OAAOnB,KAAKg9C,WAAWG,SAASh8C,OAAOnB,KAAKg9C,WAAWI,SAASj8C,OAAOnB,KAAKg9C,WAAWK,YAAYz+C,QAAO,SAAAw2B,GAAK,MAAmB,YAAfA,EAAM92B,WAAuBM,QAAO,SAACw2B,GAC9L,MAAsB,gBAAfA,EAAMh6B,QAEDy5C,MAAK,SAAAzf,GAAK,OAAIA,EAAMh6B,OAASmkD,OAG7C,CAAAnjD,IAAA,YAAAN,MAMA,SAAUm5B,GACRA,EAAWgG,cAAc,YAAYqC,UAAUQ,OAAO,cAGxD,CAAA1hC,IAAA,aAAAN,MAMA,WACE,GAAIkE,KAAK+6B,kBAAkBzH,EAAE8B,MAAMkJ,OAAQ,CACzCt+B,KAAK49C,aACL,IAAMzoB,EAAQn1B,KAAKq+C,kBAAkBlF,WACrCn5C,KAAK+6B,OAAOglB,SAAS5qB,QAErB7B,EAAEuO,OAAOC,KAAKtN,EAAS,yBAA0BA,EAAS,yBAI9D,CAAAp4B,IAAA,kBAAAN,MAKA,WACE,GAAIkE,KAAK+6B,kBAAkBzH,EAAE8B,MAAMkJ,OAAQ,CACzC,IACMpI,EADQl2B,KAAKq+C,kBAAkBlF,WAClB6G,YACbrjD,EAAI0iC,SAASC,cAAc,SACjC3iC,EAAEb,MAAQo6B,EACVmJ,SAAS4gB,KAAKvjB,YAAY//B,GAC1BA,EAAEujD,SACF7gB,SAAS8gB,YAAY,QACrB7sB,EAAEuO,OAAOC,KAAKtN,EAAS,aAAcA,EAAS,oBAC9C6K,SAAS4gB,KAAKzgB,YAAY7iC,QAE1B22B,EAAEuO,OAAOC,KAAKtN,EAAS,yBAA0BA,EAAS,yBAI9D,CAAAp4B,IAAA,aAAAN,MAMA,WACMkE,KAAK+6B,kBAAkBzH,EAAE8B,MAAMkJ,OACjCt+B,KAAK+6B,OAAOglB,SAASzsB,EAAE8B,MAAMkJ,OAAOsJ,uBAEpCtU,EAAEuO,OAAOC,KAAKtN,EAAS,yBAA0BA,EAAS,yBAG9D,CAAAp4B,IAAA,YAAAN,MAGA,WACEw3B,EAAE6B,MAAMirB,KAAKC,UAAU,CACrBlqB,KAAM,cACN/6B,KAAM,cACNklD,UAAW,cACXC,MAAO,MACN,CACD,WAAY,IACZ,WAAY,IACZ,YAAa,IACb,gBAAiB,IACjB,WAAY,IACZ,UAAW,IACX,YAAa,IACb,UAAW,IACX,UAAW,IACX,cAAe,IACf,QAAS,IACT,aAAc,IACd,WAAY,IACZ,YAAa,IACb,WAAY,IACZ,WAAY,IACZ,iBAAkB,IAClB,kBAAmB,IACnB,eAAgB,IAChB,YAAa,IACb,UAAW,IACX,SAAU,IACV,aAAc,IACd,UAAW,IACX,YAAa,IACb,aAAc,IACd,UAAW,IACX,cAAe,IACf,yBAA0B,IAC1B,uBAAwB,IACxB,WAAY,IACZ,mBAAoB,IACpB,kBAAmB,IACnB,YAAa,IACb,aAAc,IACd,cAAe,IACf,UAAW,IACX,UAAW,IACX,gBAAiB,IACjB,gBAAiB,IACjB,iBAAkB,IAClB,eAAgB,IAChB,YAAa,IACb,aAAc,IACd,SAAU,IACV,UAAW,IACX,UAAW,IACX,cAAe,IACf,WAAY,IACZ,YAAa,IACb,UAAW,IACX,UAAW,IACX,YAAa,IACb,iBAAkB,IAClB,gBAAiB,IACjB,gBAAiB,IACjB,kBAAmB,IACnB,iBAAkB,IAClB,mBAAoB,IACpB,UAAW,IACX,YAAa,IACb,aAAc,IACd,YAAa,IACb,kBAAmB,IACnB,WAAY,IACZ,WAAY,IACZ,eAAgB,IAChB,YAAa,IACb,gBAAiB,IACjB,YAAa,IACb,UAAW,IACX,UAAW,IACX,qBAAsB,IACtB,oBAAqB,IACrB,oBAAqB,IACrB,YAAa,IACb,mBAAoB,IACpB,mBAAoB,IACpB,cAAe,IACf,UAAW,IACX,WAAY,IACZ,UAAW,IACX,aAAc,IACd,kBAAmB,IACnB,kBAAmB,IACnB,WAAY,IACZ,kBAAmB,IACnB,mBAAoB,IACpB,iBAAkB,IAClB,kBAAmB,IACnB,kBAAmB,IACnB,kBAAmB,IACnB,qBAAsB,IACtB,iBAAkB,IAClB,gBAAiB,IACjB,oBAAqB,IACrB,oBAAqB,IACrB,SAAU,IACV,gBAAiB,IACjB,iBAAkB,IAClB,cAAe,IACf,gBAAiB,IACjB,kBAAmB,IACnB,WAAY,IACZ,YAAa,IACb,cAAe,IACf,UAAW,IACX,WAAY,IACZ,cAAe,IACf,wBAAyB,IACzB,UAAW,IACX,UAAW,IACX,UAAW,IACX,SAAU,IACV,eAAgB,IAChB,aAAc,IACd,0BAA2B,IAC3B,WAAY,IACZ,cAAe,IACf,YAAa,IACb,aAAc,IACd,YAAa,IACb,gBAAiB,IACjB,kBAAmB,IACnB,aAAc,IACd,mBAAoB,IACpB,YAAa,IACb,iBAAkB,IAClB,cAAe,IACf,cAAe,IACf,aAAc,IACd,WAAY,IACZ,oBAAqB,IACrB,qBAAsB,IACtB,kBAAmB,IACnB,SAAU,IACV,WAAY,IACZ,UAAW,IACX,cAAe,QAInB,CAAAnkD,IAAA,SAAAN,MAQA,SAAO0kD,GACL,OAAOA,aAAmBrtB,O,gFAC3BA,EA1cqC,G,ktBCJjC,IAAMstB,GAAmB,oBAAAA,K,4FAAA9sB,CAAA,KAAA8sB,G,UAuJ7B,O,EAvJ6BA,E,EAAA,EAAArkD,IAAA,QAAAN,MAC9B,SAAa0nC,GAAQ,IAAAnH,EAAA,KACbgD,EAAWmE,EAAOnE,SAClBqhB,EAAoB,CAExBC,SAAS,EAGTvgB,MAAO,UAGPwgB,OAAQ,GAGRC,uBAAuB,EAGvBC,KAAM,SAACC,GAIL,GAFA1kB,EAAKxM,SAEDwM,EAAKwkB,sBAAT,CAIA,GAAuB,iBAAZE,EACT,MAAM,IAAIrgD,MAAM,2CAOlB,GAHA27B,EAAKjf,OAASif,EAAKukB,OAAOG,GAAW1kB,EAAKukB,OAAOG,KAC/C1hB,EAAS2hB,eAAeD,IAErB1kB,EAAKjf,MACR,MAAM,IAAI1c,MAAM,sCAADS,OAAuC4/C,EAAO,MAI/D1kB,EAAKjf,MAAMthB,MAAQugC,EAAK+D,MACxB/D,EAAKjf,MAAM6jC,aAAe,KAC1B5kB,EAAK33B,IAAI23B,EAAKjf,MAAO,CACnB8jC,gBAAiB7kB,EAAK+D,MACtB+gB,YAAa,cACbvrB,MAAO,MACPwrB,OAAQ,YAIV/kB,EAAKjf,MAAMikC,QAAU,WACnBX,EAAkBY,QAAQjlB,EAAKe,OAKnCvN,MAAO,WAEL,IAAIwM,EAAKskB,QAAT,CAKA,IACEtkB,EAAKwkB,yBAA2BxhB,EAASC,cAAc,SAAShhC,KAAO,SACvE,MAAOuG,IAKT,IAAKw3B,EAAKwkB,sBAAuB,CAE/B,IAAMU,EAAgBliB,EAASC,cAAc,UAC7CiiB,EAAcC,QAAU,6CAExBD,EAAcnkB,GAAK,iBACnBf,EAAK33B,IAAI68C,EAAe,CACtB3rB,MAAO,IACP6rB,OAAQ,MAEVpiB,EAAS4gB,KAAKvjB,YAAY6kB,GAG5BllB,EAAKskB,SAAU,IAIjBtO,QAAS,SAAC0O,GACR,IAAIlmD,EAEJ,GAAuB,iBAAZkmD,EACT1kB,EAAKqlB,IAAIrlB,EAAKukB,OAAOG,QAChB,CAIL,IAAKlmD,KAFLwkC,EAAS4gB,KAAKzgB,YAAYH,EAAS2hB,eAAe,mBAExC3kB,EAAKukB,OACbvkB,EAAKqlB,IAAIrlB,EAAKukB,OAAO/lD,IAGvBwhC,EAAKskB,SAAU,IAInBe,IAAK,SAACtkC,GACJA,EAAMikC,QAAU,KAChBhlB,EAAK33B,IAAI0Y,EAAO,CACd8jC,gBAAiB,GACjBC,YAAa,GACbvrB,MAAO,GACPwrB,OAAQ,MAKZE,QAAS,SAACP,GACR1kB,EAAKjf,MAAQif,EAAKukB,OAAOG,GACzB1kB,EAAK+D,MAAQ/D,EAAKrX,WAClBqX,EAAKjf,MAAMthB,MAAQugC,EAAK+D,MACxBsgB,EAAkBh8C,IAAI23B,EAAKjf,MAAO,CAChC8jC,gBAAiB7kB,EAAK+D,MACtBA,MAAO/D,EAAK+D,QAEd/D,EAAKjf,MAAM6a,QAKbjT,SAAU,WAGR,IACInkB,EADmBw+B,EAAS2hB,eAAe,kBACtBW,eAAetlB,EAAK+D,MAAM7C,QAAQ,IAAK,KAAK9/B,SAAS,IAQ9E,OALIoD,EAAIxD,OAAS,IAEfwD,EADe,SAAS+gD,UAAU,EAAG,EAAI/gD,EAAIxD,QAChC8D,OAAON,IAGf,KAAPM,OAAYN,IAId6D,IAAK,SAAC6jB,EAAIs5B,GACR,IAAK,IAAM7kB,KAAQ6kB,EACjBt5B,EAAG4M,MAAM6H,GAAQ6kB,EAAM7kB,KAM7BwG,EAAOkd,kBAAoBA,M,EAtJC,O,gFAuJ7BD,EAvJ6B,G,2wDCKW,IAEtBqB,GAAY,SAAAC,I,sRAAA1uB,CAAAyuB,EAASxuB,EAAE0uB,QAAX,I,MAAAvuB,EAAAC,GAAAouB,GAW/B,SAAAA,IAA0B,IAAAzlB,EAAd/G,EAAOx1B,UAAAzC,OAAA,QAAAyB,IAAAgB,UAAA,GAAAA,UAAA,GAAG,GAkEiB,OAlEf6zB,GAAA,KAAAmuB,IACtBzlB,EAAA5I,EAAAz4B,KAAA,OAMKinD,KAAO,KAOZ5lB,EAAK6lB,UAAY,GAOjB7lB,EAAK8lB,UAAY7sB,EAAQ8sB,UAAY,KAOrC/lB,EAAKgmB,WAAa/sB,EAAQgtB,eACFxjD,IAApBu9B,EAAKgmB,aAA0BhmB,EAAKgmB,YAAa,GAOrDhmB,EAAKkmB,aAAejtB,EAAQktB,iBACF1jD,IAAtBu9B,EAAKkmB,eAA4BlmB,EAAKkmB,cAAe,GAMzDlmB,EAAKomB,OAAS,KAMdpmB,EAAKtB,OAASzF,EAAQF,MAMtBiH,EAAKqmB,SAAWptB,EAAQqtB,SAAWnuB,EAAS,WAO5C6H,EAAK/G,QAAUA,EAEfmrB,GAAoBhgD,MAAM+iC,QAE1BlQ,EAAEv1B,MAAK,QAAWu1B,EAAEv1B,MAAM6kD,WAAWvmB,EA0DtC,O,EAvDDylB,G,EAAA,EAAA1lD,IAAA,QAAAN,MAQA,SAAMiD,GACJiB,KAAKkiD,UAAUthD,KAAK,IAAIuyB,GAAoBnzB,KAAK+6B,SACjD/6B,KAAKiiD,KAAOljD,EACZiB,KAAKyiD,OAAS,IAAInvB,EAAEuvB,GAAGC,MAAMhB,EAAaiB,KAAM,CAC9CT,UAAWtiD,KAAKqiD,WAChBG,YAAaxiD,KAAKuiD,aAClBS,UAAW,iBACXC,qBAAsB,uBACtBb,SAAU9uB,EAAEuvB,GAAGT,SAASpiD,KAAKmiD,WAC7BQ,QAAS3iD,KAAK0iD,WAEhB1iD,KAAKyiD,OAAOS,YAAYljD,KAAKkiD,WAC7BnjD,EAAIokD,UAAUnjD,KAAKyiD,UAGrB,CAAArmD,IAAA,aAAAN,MAOA,WACE,MAAO,GAAPqF,OAAUnB,KAAK5E,KAAI,KAAA+F,OAAInB,KAAKmiD,UAAS,KAAAhhD,OAAInB,KAAKqiD,WAAU,KAAAlhD,OAAInB,KAAKuiD,aAAY,KAAAphD,OAAInB,KAAK0iD,YAGxF,CAAAtmD,IAAA,mBAAAN,MAOA,WACE,MAAO,GAAPqF,OAAUnB,KAAK5E,KAAI,YAAA+F,OAAWmyB,EAAEv1B,MAAMqlD,aAAapjD,KAAKs1B,YAG1D,CAAAl5B,IAAA,UAAAN,MAGA,WACEkE,KAAKiiD,KAAKoB,eAAerjD,KAAKkiD,WAAW,IAAAoB,EACC,CAAC,KAAM,KAAM,MAAtDtjD,KAAKujD,SAAQD,EAAA,GAAEtjD,KAAKyiD,OAAMa,EAAA,GAAEtjD,KAAKiiD,KAAIqB,EAAA,KACvC,CAAAlnD,IAAA,OAAAV,IAED,WACE,MAAO,oB,gFACRomD,EAvI8B,GCT5Bte,OAAOlQ,EAAEkwB,SAAQhgB,OAAOlQ,EAAEkwB,OAAS,IACxChgB,OAAOlQ,EAAEkwB,OAAO1B,aAAe2B","file":"stylemanager.ol.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 25);\n","/**\n * chroma.js - JavaScript library for color conversions\n *\n * Copyright (c) 2011-2019, Gregor Aisch\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n * list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n * this list of conditions and the following disclaimer in the documentation\n * and/or other materials provided with the distribution.\n *\n * 3. The name Gregor Aisch may not be used to endorse or promote products\n * derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,\n * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * -------------------------------------------------------\n *\n * chroma.js includes colors from colorbrewer2.org, which are released under\n * the following license:\n *\n * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,\n * and The Pennsylvania State University.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,\n * either express or implied. See the License for the specific\n * language governing permissions and limitations under the License.\n *\n * ------------------------------------------------------\n *\n * Named colors are taken from X11 Color Names.\n * http://www.w3.org/TR/css3-color/#svg-color\n *\n * @preserve\n */\n\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.chroma = factory());\n})(this, (function () { 'use strict';\n\n    var limit$2 = function (x, min, max) {\n        if ( min === void 0 ) min=0;\n        if ( max === void 0 ) max=1;\n\n        return x < min ? min : x > max ? max : x;\n    };\n\n    var limit$1 = limit$2;\n\n    var clip_rgb$3 = function (rgb) {\n        rgb._clipped = false;\n        rgb._unclipped = rgb.slice(0);\n        for (var i=0; i<=3; i++) {\n            if (i < 3) {\n                if (rgb[i] < 0 || rgb[i] > 255) { rgb._clipped = true; }\n                rgb[i] = limit$1(rgb[i], 0, 255);\n            } else if (i === 3) {\n                rgb[i] = limit$1(rgb[i], 0, 1);\n            }\n        }\n        return rgb;\n    };\n\n    // ported from jQuery's $.type\n    var classToType = {};\n    for (var i$1 = 0, list$1 = ['Boolean', 'Number', 'String', 'Function', 'Array', 'Date', 'RegExp', 'Undefined', 'Null']; i$1 < list$1.length; i$1 += 1) {\n        var name = list$1[i$1];\n\n        classToType[(\"[object \" + name + \"]\")] = name.toLowerCase();\n    }\n    var type$p = function(obj) {\n        return classToType[Object.prototype.toString.call(obj)] || \"object\";\n    };\n\n    var type$o = type$p;\n\n    var unpack$B = function (args, keyOrder) {\n        if ( keyOrder === void 0 ) keyOrder=null;\n\n    \t// if called with more than 3 arguments, we return the arguments\n        if (args.length >= 3) { return Array.prototype.slice.call(args); }\n        // with less than 3 args we check if first arg is object\n        // and use the keyOrder string to extract and sort properties\n    \tif (type$o(args[0]) == 'object' && keyOrder) {\n    \t\treturn keyOrder.split('')\n    \t\t\t.filter(function (k) { return args[0][k] !== undefined; })\n    \t\t\t.map(function (k) { return args[0][k]; });\n    \t}\n    \t// otherwise we just return the first argument\n    \t// (which we suppose is an array of args)\n        return args[0];\n    };\n\n    var type$n = type$p;\n\n    var last$4 = function (args) {\n        if (args.length < 2) { return null; }\n        var l = args.length-1;\n        if (type$n(args[l]) == 'string') { return args[l].toLowerCase(); }\n        return null;\n    };\n\n    var PI$2 = Math.PI;\n\n    var utils = {\n    \tclip_rgb: clip_rgb$3,\n    \tlimit: limit$2,\n    \ttype: type$p,\n    \tunpack: unpack$B,\n    \tlast: last$4,\n    \tPI: PI$2,\n    \tTWOPI: PI$2*2,\n    \tPITHIRD: PI$2/3,\n    \tDEG2RAD: PI$2 / 180,\n    \tRAD2DEG: 180 / PI$2\n    };\n\n    var input$h = {\n    \tformat: {},\n    \tautodetect: []\n    };\n\n    var last$3 = utils.last;\n    var clip_rgb$2 = utils.clip_rgb;\n    var type$m = utils.type;\n    var _input = input$h;\n\n    var Color$D = function Color() {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var me = this;\n        if (type$m(args[0]) === 'object' &&\n            args[0].constructor &&\n            args[0].constructor === this.constructor) {\n            // the argument is already a Color instance\n            return args[0];\n        }\n\n        // last argument could be the mode\n        var mode = last$3(args);\n        var autodetect = false;\n\n        if (!mode) {\n            autodetect = true;\n            if (!_input.sorted) {\n                _input.autodetect = _input.autodetect.sort(function (a,b) { return b.p - a.p; });\n                _input.sorted = true;\n            }\n            // auto-detect format\n            for (var i = 0, list = _input.autodetect; i < list.length; i += 1) {\n                var chk = list[i];\n\n                mode = chk.test.apply(chk, args);\n                if (mode) { break; }\n            }\n        }\n\n        if (_input.format[mode]) {\n            var rgb = _input.format[mode].apply(null, autodetect ? args : args.slice(0,-1));\n            me._rgb = clip_rgb$2(rgb);\n        } else {\n            throw new Error('unknown format: '+args);\n        }\n\n        // add alpha channel\n        if (me._rgb.length === 3) { me._rgb.push(1); }\n    };\n\n    Color$D.prototype.toString = function toString () {\n        if (type$m(this.hex) == 'function') { return this.hex(); }\n        return (\"[\" + (this._rgb.join(',')) + \"]\");\n    };\n\n    var Color_1 = Color$D;\n\n    var chroma$k = function () {\n    \tvar args = [], len = arguments.length;\n    \twhile ( len-- ) args[ len ] = arguments[ len ];\n\n    \treturn new (Function.prototype.bind.apply( chroma$k.Color, [ null ].concat( args) ));\n    };\n\n    chroma$k.Color = Color_1;\n    chroma$k.version = '2.4.2';\n\n    var chroma_1 = chroma$k;\n\n    var unpack$A = utils.unpack;\n    var max$2 = Math.max;\n\n    var rgb2cmyk$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$A(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        r = r / 255;\n        g = g / 255;\n        b = b / 255;\n        var k = 1 - max$2(r,max$2(g,b));\n        var f = k < 1 ? 1 / (1-k) : 0;\n        var c = (1-r-k) * f;\n        var m = (1-g-k) * f;\n        var y = (1-b-k) * f;\n        return [c,m,y,k];\n    };\n\n    var rgb2cmyk_1 = rgb2cmyk$1;\n\n    var unpack$z = utils.unpack;\n\n    var cmyk2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$z(args, 'cmyk');\n        var c = args[0];\n        var m = args[1];\n        var y = args[2];\n        var k = args[3];\n        var alpha = args.length > 4 ? args[4] : 1;\n        if (k === 1) { return [0,0,0,alpha]; }\n        return [\n            c >= 1 ? 0 : 255 * (1-c) * (1-k), // r\n            m >= 1 ? 0 : 255 * (1-m) * (1-k), // g\n            y >= 1 ? 0 : 255 * (1-y) * (1-k), // b\n            alpha\n        ];\n    };\n\n    var cmyk2rgb_1 = cmyk2rgb;\n\n    var chroma$j = chroma_1;\n    var Color$C = Color_1;\n    var input$g = input$h;\n    var unpack$y = utils.unpack;\n    var type$l = utils.type;\n\n    var rgb2cmyk = rgb2cmyk_1;\n\n    Color$C.prototype.cmyk = function() {\n        return rgb2cmyk(this._rgb);\n    };\n\n    chroma$j.cmyk = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$C, [ null ].concat( args, ['cmyk']) ));\n    };\n\n    input$g.format.cmyk = cmyk2rgb_1;\n\n    input$g.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$y(args, 'cmyk');\n            if (type$l(args) === 'array' && args.length === 4) {\n                return 'cmyk';\n            }\n        }\n    });\n\n    var unpack$x = utils.unpack;\n    var last$2 = utils.last;\n    var rnd = function (a) { return Math.round(a*100)/100; };\n\n    /*\n     * supported arguments:\n     * - hsl2css(h,s,l)\n     * - hsl2css(h,s,l,a)\n     * - hsl2css([h,s,l], mode)\n     * - hsl2css([h,s,l,a], mode)\n     * - hsl2css({h,s,l,a}, mode)\n     */\n    var hsl2css$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var hsla = unpack$x(args, 'hsla');\n        var mode = last$2(args) || 'lsa';\n        hsla[0] = rnd(hsla[0] || 0);\n        hsla[1] = rnd(hsla[1]*100) + '%';\n        hsla[2] = rnd(hsla[2]*100) + '%';\n        if (mode === 'hsla' || (hsla.length > 3 && hsla[3]<1)) {\n            hsla[3] = hsla.length > 3 ? hsla[3] : 1;\n            mode = 'hsla';\n        } else {\n            hsla.length = 3;\n        }\n        return (mode + \"(\" + (hsla.join(',')) + \")\");\n    };\n\n    var hsl2css_1 = hsl2css$1;\n\n    var unpack$w = utils.unpack;\n\n    /*\n     * supported arguments:\n     * - rgb2hsl(r,g,b)\n     * - rgb2hsl(r,g,b,a)\n     * - rgb2hsl([r,g,b])\n     * - rgb2hsl([r,g,b,a])\n     * - rgb2hsl({r,g,b,a})\n     */\n    var rgb2hsl$3 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$w(args, 'rgba');\n        var r = args[0];\n        var g = args[1];\n        var b = args[2];\n\n        r /= 255;\n        g /= 255;\n        b /= 255;\n\n        var min = Math.min(r, g, b);\n        var max = Math.max(r, g, b);\n\n        var l = (max + min) / 2;\n        var s, h;\n\n        if (max === min){\n            s = 0;\n            h = Number.NaN;\n        } else {\n            s = l < 0.5 ? (max - min) / (max + min) : (max - min) / (2 - max - min);\n        }\n\n        if (r == max) { h = (g - b) / (max - min); }\n        else if (g == max) { h = 2 + (b - r) / (max - min); }\n        else if (b == max) { h = 4 + (r - g) / (max - min); }\n\n        h *= 60;\n        if (h < 0) { h += 360; }\n        if (args.length>3 && args[3]!==undefined) { return [h,s,l,args[3]]; }\n        return [h,s,l];\n    };\n\n    var rgb2hsl_1 = rgb2hsl$3;\n\n    var unpack$v = utils.unpack;\n    var last$1 = utils.last;\n    var hsl2css = hsl2css_1;\n    var rgb2hsl$2 = rgb2hsl_1;\n    var round$6 = Math.round;\n\n    /*\n     * supported arguments:\n     * - rgb2css(r,g,b)\n     * - rgb2css(r,g,b,a)\n     * - rgb2css([r,g,b], mode)\n     * - rgb2css([r,g,b,a], mode)\n     * - rgb2css({r,g,b,a}, mode)\n     */\n    var rgb2css$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var rgba = unpack$v(args, 'rgba');\n        var mode = last$1(args) || 'rgb';\n        if (mode.substr(0,3) == 'hsl') {\n            return hsl2css(rgb2hsl$2(rgba), mode);\n        }\n        rgba[0] = round$6(rgba[0]);\n        rgba[1] = round$6(rgba[1]);\n        rgba[2] = round$6(rgba[2]);\n        if (mode === 'rgba' || (rgba.length > 3 && rgba[3]<1)) {\n            rgba[3] = rgba.length > 3 ? rgba[3] : 1;\n            mode = 'rgba';\n        }\n        return (mode + \"(\" + (rgba.slice(0,mode==='rgb'?3:4).join(',')) + \")\");\n    };\n\n    var rgb2css_1 = rgb2css$1;\n\n    var unpack$u = utils.unpack;\n    var round$5 = Math.round;\n\n    var hsl2rgb$1 = function () {\n        var assign;\n\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n        args = unpack$u(args, 'hsl');\n        var h = args[0];\n        var s = args[1];\n        var l = args[2];\n        var r,g,b;\n        if (s === 0) {\n            r = g = b = l*255;\n        } else {\n            var t3 = [0,0,0];\n            var c = [0,0,0];\n            var t2 = l < 0.5 ? l * (1+s) : l+s-l*s;\n            var t1 = 2 * l - t2;\n            var h_ = h / 360;\n            t3[0] = h_ + 1/3;\n            t3[1] = h_;\n            t3[2] = h_ - 1/3;\n            for (var i=0; i<3; i++) {\n                if (t3[i] < 0) { t3[i] += 1; }\n                if (t3[i] > 1) { t3[i] -= 1; }\n                if (6 * t3[i] < 1)\n                    { c[i] = t1 + (t2 - t1) * 6 * t3[i]; }\n                else if (2 * t3[i] < 1)\n                    { c[i] = t2; }\n                else if (3 * t3[i] < 2)\n                    { c[i] = t1 + (t2 - t1) * ((2 / 3) - t3[i]) * 6; }\n                else\n                    { c[i] = t1; }\n            }\n            (assign = [round$5(c[0]*255),round$5(c[1]*255),round$5(c[2]*255)], r = assign[0], g = assign[1], b = assign[2]);\n        }\n        if (args.length > 3) {\n            // keep alpha channel\n            return [r,g,b,args[3]];\n        }\n        return [r,g,b,1];\n    };\n\n    var hsl2rgb_1 = hsl2rgb$1;\n\n    var hsl2rgb = hsl2rgb_1;\n    var input$f = input$h;\n\n    var RE_RGB = /^rgb\\(\\s*(-?\\d+),\\s*(-?\\d+)\\s*,\\s*(-?\\d+)\\s*\\)$/;\n    var RE_RGBA = /^rgba\\(\\s*(-?\\d+),\\s*(-?\\d+)\\s*,\\s*(-?\\d+)\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;\n    var RE_RGB_PCT = /^rgb\\(\\s*(-?\\d+(?:\\.\\d+)?)%,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*\\)$/;\n    var RE_RGBA_PCT = /^rgba\\(\\s*(-?\\d+(?:\\.\\d+)?)%,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;\n    var RE_HSL = /^hsl\\(\\s*(-?\\d+(?:\\.\\d+)?),\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*\\)$/;\n    var RE_HSLA = /^hsla\\(\\s*(-?\\d+(?:\\.\\d+)?),\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;\n\n    var round$4 = Math.round;\n\n    var css2rgb$1 = function (css) {\n        css = css.toLowerCase().trim();\n        var m;\n\n        if (input$f.format.named) {\n            try {\n                return input$f.format.named(css);\n            } catch (e) {\n                // eslint-disable-next-line\n            }\n        }\n\n        // rgb(250,20,0)\n        if ((m = css.match(RE_RGB))) {\n            var rgb = m.slice(1,4);\n            for (var i=0; i<3; i++) {\n                rgb[i] = +rgb[i];\n            }\n            rgb[3] = 1;  // default alpha\n            return rgb;\n        }\n\n        // rgba(250,20,0,0.4)\n        if ((m = css.match(RE_RGBA))) {\n            var rgb$1 = m.slice(1,5);\n            for (var i$1=0; i$1<4; i$1++) {\n                rgb$1[i$1] = +rgb$1[i$1];\n            }\n            return rgb$1;\n        }\n\n        // rgb(100%,0%,0%)\n        if ((m = css.match(RE_RGB_PCT))) {\n            var rgb$2 = m.slice(1,4);\n            for (var i$2=0; i$2<3; i$2++) {\n                rgb$2[i$2] = round$4(rgb$2[i$2] * 2.55);\n            }\n            rgb$2[3] = 1;  // default alpha\n            return rgb$2;\n        }\n\n        // rgba(100%,0%,0%,0.4)\n        if ((m = css.match(RE_RGBA_PCT))) {\n            var rgb$3 = m.slice(1,5);\n            for (var i$3=0; i$3<3; i$3++) {\n                rgb$3[i$3] = round$4(rgb$3[i$3] * 2.55);\n            }\n            rgb$3[3] = +rgb$3[3];\n            return rgb$3;\n        }\n\n        // hsl(0,100%,50%)\n        if ((m = css.match(RE_HSL))) {\n            var hsl = m.slice(1,4);\n            hsl[1] *= 0.01;\n            hsl[2] *= 0.01;\n            var rgb$4 = hsl2rgb(hsl);\n            rgb$4[3] = 1;\n            return rgb$4;\n        }\n\n        // hsla(0,100%,50%,0.5)\n        if ((m = css.match(RE_HSLA))) {\n            var hsl$1 = m.slice(1,4);\n            hsl$1[1] *= 0.01;\n            hsl$1[2] *= 0.01;\n            var rgb$5 = hsl2rgb(hsl$1);\n            rgb$5[3] = +m[4];  // default alpha = 1\n            return rgb$5;\n        }\n    };\n\n    css2rgb$1.test = function (s) {\n        return RE_RGB.test(s) ||\n            RE_RGBA.test(s) ||\n            RE_RGB_PCT.test(s) ||\n            RE_RGBA_PCT.test(s) ||\n            RE_HSL.test(s) ||\n            RE_HSLA.test(s);\n    };\n\n    var css2rgb_1 = css2rgb$1;\n\n    var chroma$i = chroma_1;\n    var Color$B = Color_1;\n    var input$e = input$h;\n    var type$k = utils.type;\n\n    var rgb2css = rgb2css_1;\n    var css2rgb = css2rgb_1;\n\n    Color$B.prototype.css = function(mode) {\n        return rgb2css(this._rgb, mode);\n    };\n\n    chroma$i.css = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$B, [ null ].concat( args, ['css']) ));\n    };\n\n    input$e.format.css = css2rgb;\n\n    input$e.autodetect.push({\n        p: 5,\n        test: function (h) {\n            var rest = [], len = arguments.length - 1;\n            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];\n\n            if (!rest.length && type$k(h) === 'string' && css2rgb.test(h)) {\n                return 'css';\n            }\n        }\n    });\n\n    var Color$A = Color_1;\n    var chroma$h = chroma_1;\n    var input$d = input$h;\n    var unpack$t = utils.unpack;\n\n    input$d.format.gl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var rgb = unpack$t(args, 'rgba');\n        rgb[0] *= 255;\n        rgb[1] *= 255;\n        rgb[2] *= 255;\n        return rgb;\n    };\n\n    chroma$h.gl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$A, [ null ].concat( args, ['gl']) ));\n    };\n\n    Color$A.prototype.gl = function() {\n        var rgb = this._rgb;\n        return [rgb[0]/255, rgb[1]/255, rgb[2]/255, rgb[3]];\n    };\n\n    var unpack$s = utils.unpack;\n\n    var rgb2hcg$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$s(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var min = Math.min(r, g, b);\n        var max = Math.max(r, g, b);\n        var delta = max - min;\n        var c = delta * 100 / 255;\n        var _g = min / (255 - delta) * 100;\n        var h;\n        if (delta === 0) {\n            h = Number.NaN;\n        } else {\n            if (r === max) { h = (g - b) / delta; }\n            if (g === max) { h = 2+(b - r) / delta; }\n            if (b === max) { h = 4+(r - g) / delta; }\n            h *= 60;\n            if (h < 0) { h += 360; }\n        }\n        return [h, c, _g];\n    };\n\n    var rgb2hcg_1 = rgb2hcg$1;\n\n    var unpack$r = utils.unpack;\n    var floor$3 = Math.floor;\n\n    /*\n     * this is basically just HSV with some minor tweaks\n     *\n     * hue.. [0..360]\n     * chroma .. [0..1]\n     * grayness .. [0..1]\n     */\n\n    var hcg2rgb = function () {\n        var assign, assign$1, assign$2, assign$3, assign$4, assign$5;\n\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n        args = unpack$r(args, 'hcg');\n        var h = args[0];\n        var c = args[1];\n        var _g = args[2];\n        var r,g,b;\n        _g = _g * 255;\n        var _c = c * 255;\n        if (c === 0) {\n            r = g = b = _g;\n        } else {\n            if (h === 360) { h = 0; }\n            if (h > 360) { h -= 360; }\n            if (h < 0) { h += 360; }\n            h /= 60;\n            var i = floor$3(h);\n            var f = h - i;\n            var p = _g * (1 - c);\n            var q = p + _c * (1 - f);\n            var t = p + _c * f;\n            var v = p + _c;\n            switch (i) {\n                case 0: (assign = [v, t, p], r = assign[0], g = assign[1], b = assign[2]); break\n                case 1: (assign$1 = [q, v, p], r = assign$1[0], g = assign$1[1], b = assign$1[2]); break\n                case 2: (assign$2 = [p, v, t], r = assign$2[0], g = assign$2[1], b = assign$2[2]); break\n                case 3: (assign$3 = [p, q, v], r = assign$3[0], g = assign$3[1], b = assign$3[2]); break\n                case 4: (assign$4 = [t, p, v], r = assign$4[0], g = assign$4[1], b = assign$4[2]); break\n                case 5: (assign$5 = [v, p, q], r = assign$5[0], g = assign$5[1], b = assign$5[2]); break\n            }\n        }\n        return [r, g, b, args.length > 3 ? args[3] : 1];\n    };\n\n    var hcg2rgb_1 = hcg2rgb;\n\n    var unpack$q = utils.unpack;\n    var type$j = utils.type;\n    var chroma$g = chroma_1;\n    var Color$z = Color_1;\n    var input$c = input$h;\n\n    var rgb2hcg = rgb2hcg_1;\n\n    Color$z.prototype.hcg = function() {\n        return rgb2hcg(this._rgb);\n    };\n\n    chroma$g.hcg = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$z, [ null ].concat( args, ['hcg']) ));\n    };\n\n    input$c.format.hcg = hcg2rgb_1;\n\n    input$c.autodetect.push({\n        p: 1,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$q(args, 'hcg');\n            if (type$j(args) === 'array' && args.length === 3) {\n                return 'hcg';\n            }\n        }\n    });\n\n    var unpack$p = utils.unpack;\n    var last = utils.last;\n    var round$3 = Math.round;\n\n    var rgb2hex$2 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$p(args, 'rgba');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var a = ref[3];\n        var mode = last(args) || 'auto';\n        if (a === undefined) { a = 1; }\n        if (mode === 'auto') {\n            mode = a < 1 ? 'rgba' : 'rgb';\n        }\n        r = round$3(r);\n        g = round$3(g);\n        b = round$3(b);\n        var u = r << 16 | g << 8 | b;\n        var str = \"000000\" + u.toString(16); //#.toUpperCase();\n        str = str.substr(str.length - 6);\n        var hxa = '0' + round$3(a * 255).toString(16);\n        hxa = hxa.substr(hxa.length - 2);\n        switch (mode.toLowerCase()) {\n            case 'rgba': return (\"#\" + str + hxa);\n            case 'argb': return (\"#\" + hxa + str);\n            default: return (\"#\" + str);\n        }\n    };\n\n    var rgb2hex_1 = rgb2hex$2;\n\n    var RE_HEX = /^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/;\n    var RE_HEXA = /^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/;\n\n    var hex2rgb$1 = function (hex) {\n        if (hex.match(RE_HEX)) {\n            // remove optional leading #\n            if (hex.length === 4 || hex.length === 7) {\n                hex = hex.substr(1);\n            }\n            // expand short-notation to full six-digit\n            if (hex.length === 3) {\n                hex = hex.split('');\n                hex = hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2];\n            }\n            var u = parseInt(hex, 16);\n            var r = u >> 16;\n            var g = u >> 8 & 0xFF;\n            var b = u & 0xFF;\n            return [r,g,b,1];\n        }\n\n        // match rgba hex format, eg #FF000077\n        if (hex.match(RE_HEXA)) {\n            if (hex.length === 5 || hex.length === 9) {\n                // remove optional leading #\n                hex = hex.substr(1);\n            }\n            // expand short-notation to full eight-digit\n            if (hex.length === 4) {\n                hex = hex.split('');\n                hex = hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2]+hex[3]+hex[3];\n            }\n            var u$1 = parseInt(hex, 16);\n            var r$1 = u$1 >> 24 & 0xFF;\n            var g$1 = u$1 >> 16 & 0xFF;\n            var b$1 = u$1 >> 8 & 0xFF;\n            var a = Math.round((u$1 & 0xFF) / 0xFF * 100) / 100;\n            return [r$1,g$1,b$1,a];\n        }\n\n        // we used to check for css colors here\n        // if _input.css? and rgb = _input.css hex\n        //     return rgb\n\n        throw new Error((\"unknown hex color: \" + hex));\n    };\n\n    var hex2rgb_1 = hex2rgb$1;\n\n    var chroma$f = chroma_1;\n    var Color$y = Color_1;\n    var type$i = utils.type;\n    var input$b = input$h;\n\n    var rgb2hex$1 = rgb2hex_1;\n\n    Color$y.prototype.hex = function(mode) {\n        return rgb2hex$1(this._rgb, mode);\n    };\n\n    chroma$f.hex = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$y, [ null ].concat( args, ['hex']) ));\n    };\n\n    input$b.format.hex = hex2rgb_1;\n    input$b.autodetect.push({\n        p: 4,\n        test: function (h) {\n            var rest = [], len = arguments.length - 1;\n            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];\n\n            if (!rest.length && type$i(h) === 'string' && [3,4,5,6,7,8,9].indexOf(h.length) >= 0) {\n                return 'hex';\n            }\n        }\n    });\n\n    var unpack$o = utils.unpack;\n    var TWOPI$2 = utils.TWOPI;\n    var min$2 = Math.min;\n    var sqrt$4 = Math.sqrt;\n    var acos = Math.acos;\n\n    var rgb2hsi$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        /*\n        borrowed from here:\n        http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/rgb2hsi.cpp\n        */\n        var ref = unpack$o(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        r /= 255;\n        g /= 255;\n        b /= 255;\n        var h;\n        var min_ = min$2(r,g,b);\n        var i = (r+g+b) / 3;\n        var s = i > 0 ? 1 - min_/i : 0;\n        if (s === 0) {\n            h = NaN;\n        } else {\n            h = ((r-g)+(r-b)) / 2;\n            h /= sqrt$4((r-g)*(r-g) + (r-b)*(g-b));\n            h = acos(h);\n            if (b > g) {\n                h = TWOPI$2 - h;\n            }\n            h /= TWOPI$2;\n        }\n        return [h*360,s,i];\n    };\n\n    var rgb2hsi_1 = rgb2hsi$1;\n\n    var unpack$n = utils.unpack;\n    var limit = utils.limit;\n    var TWOPI$1 = utils.TWOPI;\n    var PITHIRD = utils.PITHIRD;\n    var cos$4 = Math.cos;\n\n    /*\n     * hue [0..360]\n     * saturation [0..1]\n     * intensity [0..1]\n     */\n    var hsi2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        /*\n        borrowed from here:\n        http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/hsi2rgb.cpp\n        */\n        args = unpack$n(args, 'hsi');\n        var h = args[0];\n        var s = args[1];\n        var i = args[2];\n        var r,g,b;\n\n        if (isNaN(h)) { h = 0; }\n        if (isNaN(s)) { s = 0; }\n        // normalize hue\n        if (h > 360) { h -= 360; }\n        if (h < 0) { h += 360; }\n        h /= 360;\n        if (h < 1/3) {\n            b = (1-s)/3;\n            r = (1+s*cos$4(TWOPI$1*h)/cos$4(PITHIRD-TWOPI$1*h))/3;\n            g = 1 - (b+r);\n        } else if (h < 2/3) {\n            h -= 1/3;\n            r = (1-s)/3;\n            g = (1+s*cos$4(TWOPI$1*h)/cos$4(PITHIRD-TWOPI$1*h))/3;\n            b = 1 - (r+g);\n        } else {\n            h -= 2/3;\n            g = (1-s)/3;\n            b = (1+s*cos$4(TWOPI$1*h)/cos$4(PITHIRD-TWOPI$1*h))/3;\n            r = 1 - (g+b);\n        }\n        r = limit(i*r*3);\n        g = limit(i*g*3);\n        b = limit(i*b*3);\n        return [r*255, g*255, b*255, args.length > 3 ? args[3] : 1];\n    };\n\n    var hsi2rgb_1 = hsi2rgb;\n\n    var unpack$m = utils.unpack;\n    var type$h = utils.type;\n    var chroma$e = chroma_1;\n    var Color$x = Color_1;\n    var input$a = input$h;\n\n    var rgb2hsi = rgb2hsi_1;\n\n    Color$x.prototype.hsi = function() {\n        return rgb2hsi(this._rgb);\n    };\n\n    chroma$e.hsi = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$x, [ null ].concat( args, ['hsi']) ));\n    };\n\n    input$a.format.hsi = hsi2rgb_1;\n\n    input$a.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$m(args, 'hsi');\n            if (type$h(args) === 'array' && args.length === 3) {\n                return 'hsi';\n            }\n        }\n    });\n\n    var unpack$l = utils.unpack;\n    var type$g = utils.type;\n    var chroma$d = chroma_1;\n    var Color$w = Color_1;\n    var input$9 = input$h;\n\n    var rgb2hsl$1 = rgb2hsl_1;\n\n    Color$w.prototype.hsl = function() {\n        return rgb2hsl$1(this._rgb);\n    };\n\n    chroma$d.hsl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$w, [ null ].concat( args, ['hsl']) ));\n    };\n\n    input$9.format.hsl = hsl2rgb_1;\n\n    input$9.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$l(args, 'hsl');\n            if (type$g(args) === 'array' && args.length === 3) {\n                return 'hsl';\n            }\n        }\n    });\n\n    var unpack$k = utils.unpack;\n    var min$1 = Math.min;\n    var max$1 = Math.max;\n\n    /*\n     * supported arguments:\n     * - rgb2hsv(r,g,b)\n     * - rgb2hsv([r,g,b])\n     * - rgb2hsv({r,g,b})\n     */\n    var rgb2hsl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$k(args, 'rgb');\n        var r = args[0];\n        var g = args[1];\n        var b = args[2];\n        var min_ = min$1(r, g, b);\n        var max_ = max$1(r, g, b);\n        var delta = max_ - min_;\n        var h,s,v;\n        v = max_ / 255.0;\n        if (max_ === 0) {\n            h = Number.NaN;\n            s = 0;\n        } else {\n            s = delta / max_;\n            if (r === max_) { h = (g - b) / delta; }\n            if (g === max_) { h = 2+(b - r) / delta; }\n            if (b === max_) { h = 4+(r - g) / delta; }\n            h *= 60;\n            if (h < 0) { h += 360; }\n        }\n        return [h, s, v]\n    };\n\n    var rgb2hsv$1 = rgb2hsl;\n\n    var unpack$j = utils.unpack;\n    var floor$2 = Math.floor;\n\n    var hsv2rgb = function () {\n        var assign, assign$1, assign$2, assign$3, assign$4, assign$5;\n\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n        args = unpack$j(args, 'hsv');\n        var h = args[0];\n        var s = args[1];\n        var v = args[2];\n        var r,g,b;\n        v *= 255;\n        if (s === 0) {\n            r = g = b = v;\n        } else {\n            if (h === 360) { h = 0; }\n            if (h > 360) { h -= 360; }\n            if (h < 0) { h += 360; }\n            h /= 60;\n\n            var i = floor$2(h);\n            var f = h - i;\n            var p = v * (1 - s);\n            var q = v * (1 - s * f);\n            var t = v * (1 - s * (1 - f));\n\n            switch (i) {\n                case 0: (assign = [v, t, p], r = assign[0], g = assign[1], b = assign[2]); break\n                case 1: (assign$1 = [q, v, p], r = assign$1[0], g = assign$1[1], b = assign$1[2]); break\n                case 2: (assign$2 = [p, v, t], r = assign$2[0], g = assign$2[1], b = assign$2[2]); break\n                case 3: (assign$3 = [p, q, v], r = assign$3[0], g = assign$3[1], b = assign$3[2]); break\n                case 4: (assign$4 = [t, p, v], r = assign$4[0], g = assign$4[1], b = assign$4[2]); break\n                case 5: (assign$5 = [v, p, q], r = assign$5[0], g = assign$5[1], b = assign$5[2]); break\n            }\n        }\n        return [r,g,b,args.length > 3?args[3]:1];\n    };\n\n    var hsv2rgb_1 = hsv2rgb;\n\n    var unpack$i = utils.unpack;\n    var type$f = utils.type;\n    var chroma$c = chroma_1;\n    var Color$v = Color_1;\n    var input$8 = input$h;\n\n    var rgb2hsv = rgb2hsv$1;\n\n    Color$v.prototype.hsv = function() {\n        return rgb2hsv(this._rgb);\n    };\n\n    chroma$c.hsv = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$v, [ null ].concat( args, ['hsv']) ));\n    };\n\n    input$8.format.hsv = hsv2rgb_1;\n\n    input$8.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$i(args, 'hsv');\n            if (type$f(args) === 'array' && args.length === 3) {\n                return 'hsv';\n            }\n        }\n    });\n\n    var labConstants = {\n        // Corresponds roughly to RGB brighter/darker\n        Kn: 18,\n\n        // D65 standard referent\n        Xn: 0.950470,\n        Yn: 1,\n        Zn: 1.088830,\n\n        t0: 0.137931034,  // 4 / 29\n        t1: 0.206896552,  // 6 / 29\n        t2: 0.12841855,   // 3 * t1 * t1\n        t3: 0.008856452,  // t1 * t1 * t1\n    };\n\n    var LAB_CONSTANTS$3 = labConstants;\n    var unpack$h = utils.unpack;\n    var pow$a = Math.pow;\n\n    var rgb2lab$2 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$h(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var ref$1 = rgb2xyz(r,g,b);\n        var x = ref$1[0];\n        var y = ref$1[1];\n        var z = ref$1[2];\n        var l = 116 * y - 16;\n        return [l < 0 ? 0 : l, 500 * (x - y), 200 * (y - z)];\n    };\n\n    var rgb_xyz = function (r) {\n        if ((r /= 255) <= 0.04045) { return r / 12.92; }\n        return pow$a((r + 0.055) / 1.055, 2.4);\n    };\n\n    var xyz_lab = function (t) {\n        if (t > LAB_CONSTANTS$3.t3) { return pow$a(t, 1 / 3); }\n        return t / LAB_CONSTANTS$3.t2 + LAB_CONSTANTS$3.t0;\n    };\n\n    var rgb2xyz = function (r,g,b) {\n        r = rgb_xyz(r);\n        g = rgb_xyz(g);\n        b = rgb_xyz(b);\n        var x = xyz_lab((0.4124564 * r + 0.3575761 * g + 0.1804375 * b) / LAB_CONSTANTS$3.Xn);\n        var y = xyz_lab((0.2126729 * r + 0.7151522 * g + 0.0721750 * b) / LAB_CONSTANTS$3.Yn);\n        var z = xyz_lab((0.0193339 * r + 0.1191920 * g + 0.9503041 * b) / LAB_CONSTANTS$3.Zn);\n        return [x,y,z];\n    };\n\n    var rgb2lab_1 = rgb2lab$2;\n\n    var LAB_CONSTANTS$2 = labConstants;\n    var unpack$g = utils.unpack;\n    var pow$9 = Math.pow;\n\n    /*\n     * L* [0..100]\n     * a [-100..100]\n     * b [-100..100]\n     */\n    var lab2rgb$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$g(args, 'lab');\n        var l = args[0];\n        var a = args[1];\n        var b = args[2];\n        var x,y,z, r,g,b_;\n\n        y = (l + 16) / 116;\n        x = isNaN(a) ? y : y + a / 500;\n        z = isNaN(b) ? y : y - b / 200;\n\n        y = LAB_CONSTANTS$2.Yn * lab_xyz(y);\n        x = LAB_CONSTANTS$2.Xn * lab_xyz(x);\n        z = LAB_CONSTANTS$2.Zn * lab_xyz(z);\n\n        r = xyz_rgb(3.2404542 * x - 1.5371385 * y - 0.4985314 * z);  // D65 -> sRGB\n        g = xyz_rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z);\n        b_ = xyz_rgb(0.0556434 * x - 0.2040259 * y + 1.0572252 * z);\n\n        return [r,g,b_,args.length > 3 ? args[3] : 1];\n    };\n\n    var xyz_rgb = function (r) {\n        return 255 * (r <= 0.00304 ? 12.92 * r : 1.055 * pow$9(r, 1 / 2.4) - 0.055)\n    };\n\n    var lab_xyz = function (t) {\n        return t > LAB_CONSTANTS$2.t1 ? t * t * t : LAB_CONSTANTS$2.t2 * (t - LAB_CONSTANTS$2.t0)\n    };\n\n    var lab2rgb_1 = lab2rgb$1;\n\n    var unpack$f = utils.unpack;\n    var type$e = utils.type;\n    var chroma$b = chroma_1;\n    var Color$u = Color_1;\n    var input$7 = input$h;\n\n    var rgb2lab$1 = rgb2lab_1;\n\n    Color$u.prototype.lab = function() {\n        return rgb2lab$1(this._rgb);\n    };\n\n    chroma$b.lab = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$u, [ null ].concat( args, ['lab']) ));\n    };\n\n    input$7.format.lab = lab2rgb_1;\n\n    input$7.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$f(args, 'lab');\n            if (type$e(args) === 'array' && args.length === 3) {\n                return 'lab';\n            }\n        }\n    });\n\n    var unpack$e = utils.unpack;\n    var RAD2DEG = utils.RAD2DEG;\n    var sqrt$3 = Math.sqrt;\n    var atan2$2 = Math.atan2;\n    var round$2 = Math.round;\n\n    var lab2lch$2 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$e(args, 'lab');\n        var l = ref[0];\n        var a = ref[1];\n        var b = ref[2];\n        var c = sqrt$3(a * a + b * b);\n        var h = (atan2$2(b, a) * RAD2DEG + 360) % 360;\n        if (round$2(c*10000) === 0) { h = Number.NaN; }\n        return [l, c, h];\n    };\n\n    var lab2lch_1 = lab2lch$2;\n\n    var unpack$d = utils.unpack;\n    var rgb2lab = rgb2lab_1;\n    var lab2lch$1 = lab2lch_1;\n\n    var rgb2lch$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$d(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var ref$1 = rgb2lab(r,g,b);\n        var l = ref$1[0];\n        var a = ref$1[1];\n        var b_ = ref$1[2];\n        return lab2lch$1(l,a,b_);\n    };\n\n    var rgb2lch_1 = rgb2lch$1;\n\n    var unpack$c = utils.unpack;\n    var DEG2RAD = utils.DEG2RAD;\n    var sin$3 = Math.sin;\n    var cos$3 = Math.cos;\n\n    var lch2lab$2 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        /*\n        Convert from a qualitative parameter h and a quantitative parameter l to a 24-bit pixel.\n        These formulas were invented by David Dalrymple to obtain maximum contrast without going\n        out of gamut if the parameters are in the range 0-1.\n\n        A saturation multiplier was added by Gregor Aisch\n        */\n        var ref = unpack$c(args, 'lch');\n        var l = ref[0];\n        var c = ref[1];\n        var h = ref[2];\n        if (isNaN(h)) { h = 0; }\n        h = h * DEG2RAD;\n        return [l, cos$3(h) * c, sin$3(h) * c]\n    };\n\n    var lch2lab_1 = lch2lab$2;\n\n    var unpack$b = utils.unpack;\n    var lch2lab$1 = lch2lab_1;\n    var lab2rgb = lab2rgb_1;\n\n    var lch2rgb$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$b(args, 'lch');\n        var l = args[0];\n        var c = args[1];\n        var h = args[2];\n        var ref = lch2lab$1 (l,c,h);\n        var L = ref[0];\n        var a = ref[1];\n        var b_ = ref[2];\n        var ref$1 = lab2rgb (L,a,b_);\n        var r = ref$1[0];\n        var g = ref$1[1];\n        var b = ref$1[2];\n        return [r, g, b, args.length > 3 ? args[3] : 1];\n    };\n\n    var lch2rgb_1 = lch2rgb$1;\n\n    var unpack$a = utils.unpack;\n    var lch2rgb = lch2rgb_1;\n\n    var hcl2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var hcl = unpack$a(args, 'hcl').reverse();\n        return lch2rgb.apply(void 0, hcl);\n    };\n\n    var hcl2rgb_1 = hcl2rgb;\n\n    var unpack$9 = utils.unpack;\n    var type$d = utils.type;\n    var chroma$a = chroma_1;\n    var Color$t = Color_1;\n    var input$6 = input$h;\n\n    var rgb2lch = rgb2lch_1;\n\n    Color$t.prototype.lch = function() { return rgb2lch(this._rgb); };\n    Color$t.prototype.hcl = function() { return rgb2lch(this._rgb).reverse(); };\n\n    chroma$a.lch = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$t, [ null ].concat( args, ['lch']) ));\n    };\n    chroma$a.hcl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$t, [ null ].concat( args, ['hcl']) ));\n    };\n\n    input$6.format.lch = lch2rgb_1;\n    input$6.format.hcl = hcl2rgb_1;\n\n    ['lch','hcl'].forEach(function (m) { return input$6.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$9(args, m);\n            if (type$d(args) === 'array' && args.length === 3) {\n                return m;\n            }\n        }\n    }); });\n\n    /**\n    \tX11 color names\n\n    \thttp://www.w3.org/TR/css3-color/#svg-color\n    */\n\n    var w3cx11$1 = {\n        aliceblue: '#f0f8ff',\n        antiquewhite: '#faebd7',\n        aqua: '#00ffff',\n        aquamarine: '#7fffd4',\n        azure: '#f0ffff',\n        beige: '#f5f5dc',\n        bisque: '#ffe4c4',\n        black: '#000000',\n        blanchedalmond: '#ffebcd',\n        blue: '#0000ff',\n        blueviolet: '#8a2be2',\n        brown: '#a52a2a',\n        burlywood: '#deb887',\n        cadetblue: '#5f9ea0',\n        chartreuse: '#7fff00',\n        chocolate: '#d2691e',\n        coral: '#ff7f50',\n        cornflower: '#6495ed',\n        cornflowerblue: '#6495ed',\n        cornsilk: '#fff8dc',\n        crimson: '#dc143c',\n        cyan: '#00ffff',\n        darkblue: '#00008b',\n        darkcyan: '#008b8b',\n        darkgoldenrod: '#b8860b',\n        darkgray: '#a9a9a9',\n        darkgreen: '#006400',\n        darkgrey: '#a9a9a9',\n        darkkhaki: '#bdb76b',\n        darkmagenta: '#8b008b',\n        darkolivegreen: '#556b2f',\n        darkorange: '#ff8c00',\n        darkorchid: '#9932cc',\n        darkred: '#8b0000',\n        darksalmon: '#e9967a',\n        darkseagreen: '#8fbc8f',\n        darkslateblue: '#483d8b',\n        darkslategray: '#2f4f4f',\n        darkslategrey: '#2f4f4f',\n        darkturquoise: '#00ced1',\n        darkviolet: '#9400d3',\n        deeppink: '#ff1493',\n        deepskyblue: '#00bfff',\n        dimgray: '#696969',\n        dimgrey: '#696969',\n        dodgerblue: '#1e90ff',\n        firebrick: '#b22222',\n        floralwhite: '#fffaf0',\n        forestgreen: '#228b22',\n        fuchsia: '#ff00ff',\n        gainsboro: '#dcdcdc',\n        ghostwhite: '#f8f8ff',\n        gold: '#ffd700',\n        goldenrod: '#daa520',\n        gray: '#808080',\n        green: '#008000',\n        greenyellow: '#adff2f',\n        grey: '#808080',\n        honeydew: '#f0fff0',\n        hotpink: '#ff69b4',\n        indianred: '#cd5c5c',\n        indigo: '#4b0082',\n        ivory: '#fffff0',\n        khaki: '#f0e68c',\n        laserlemon: '#ffff54',\n        lavender: '#e6e6fa',\n        lavenderblush: '#fff0f5',\n        lawngreen: '#7cfc00',\n        lemonchiffon: '#fffacd',\n        lightblue: '#add8e6',\n        lightcoral: '#f08080',\n        lightcyan: '#e0ffff',\n        lightgoldenrod: '#fafad2',\n        lightgoldenrodyellow: '#fafad2',\n        lightgray: '#d3d3d3',\n        lightgreen: '#90ee90',\n        lightgrey: '#d3d3d3',\n        lightpink: '#ffb6c1',\n        lightsalmon: '#ffa07a',\n        lightseagreen: '#20b2aa',\n        lightskyblue: '#87cefa',\n        lightslategray: '#778899',\n        lightslategrey: '#778899',\n        lightsteelblue: '#b0c4de',\n        lightyellow: '#ffffe0',\n        lime: '#00ff00',\n        limegreen: '#32cd32',\n        linen: '#faf0e6',\n        magenta: '#ff00ff',\n        maroon: '#800000',\n        maroon2: '#7f0000',\n        maroon3: '#b03060',\n        mediumaquamarine: '#66cdaa',\n        mediumblue: '#0000cd',\n        mediumorchid: '#ba55d3',\n        mediumpurple: '#9370db',\n        mediumseagreen: '#3cb371',\n        mediumslateblue: '#7b68ee',\n        mediumspringgreen: '#00fa9a',\n        mediumturquoise: '#48d1cc',\n        mediumvioletred: '#c71585',\n        midnightblue: '#191970',\n        mintcream: '#f5fffa',\n        mistyrose: '#ffe4e1',\n        moccasin: '#ffe4b5',\n        navajowhite: '#ffdead',\n        navy: '#000080',\n        oldlace: '#fdf5e6',\n        olive: '#808000',\n        olivedrab: '#6b8e23',\n        orange: '#ffa500',\n        orangered: '#ff4500',\n        orchid: '#da70d6',\n        palegoldenrod: '#eee8aa',\n        palegreen: '#98fb98',\n        paleturquoise: '#afeeee',\n        palevioletred: '#db7093',\n        papayawhip: '#ffefd5',\n        peachpuff: '#ffdab9',\n        peru: '#cd853f',\n        pink: '#ffc0cb',\n        plum: '#dda0dd',\n        powderblue: '#b0e0e6',\n        purple: '#800080',\n        purple2: '#7f007f',\n        purple3: '#a020f0',\n        rebeccapurple: '#663399',\n        red: '#ff0000',\n        rosybrown: '#bc8f8f',\n        royalblue: '#4169e1',\n        saddlebrown: '#8b4513',\n        salmon: '#fa8072',\n        sandybrown: '#f4a460',\n        seagreen: '#2e8b57',\n        seashell: '#fff5ee',\n        sienna: '#a0522d',\n        silver: '#c0c0c0',\n        skyblue: '#87ceeb',\n        slateblue: '#6a5acd',\n        slategray: '#708090',\n        slategrey: '#708090',\n        snow: '#fffafa',\n        springgreen: '#00ff7f',\n        steelblue: '#4682b4',\n        tan: '#d2b48c',\n        teal: '#008080',\n        thistle: '#d8bfd8',\n        tomato: '#ff6347',\n        turquoise: '#40e0d0',\n        violet: '#ee82ee',\n        wheat: '#f5deb3',\n        white: '#ffffff',\n        whitesmoke: '#f5f5f5',\n        yellow: '#ffff00',\n        yellowgreen: '#9acd32'\n    };\n\n    var w3cx11_1 = w3cx11$1;\n\n    var Color$s = Color_1;\n    var input$5 = input$h;\n    var type$c = utils.type;\n\n    var w3cx11 = w3cx11_1;\n    var hex2rgb = hex2rgb_1;\n    var rgb2hex = rgb2hex_1;\n\n    Color$s.prototype.name = function() {\n        var hex = rgb2hex(this._rgb, 'rgb');\n        for (var i = 0, list = Object.keys(w3cx11); i < list.length; i += 1) {\n            var n = list[i];\n\n            if (w3cx11[n] === hex) { return n.toLowerCase(); }\n        }\n        return hex;\n    };\n\n    input$5.format.named = function (name) {\n        name = name.toLowerCase();\n        if (w3cx11[name]) { return hex2rgb(w3cx11[name]); }\n        throw new Error('unknown color name: '+name);\n    };\n\n    input$5.autodetect.push({\n        p: 5,\n        test: function (h) {\n            var rest = [], len = arguments.length - 1;\n            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];\n\n            if (!rest.length && type$c(h) === 'string' && w3cx11[h.toLowerCase()]) {\n                return 'named';\n            }\n        }\n    });\n\n    var unpack$8 = utils.unpack;\n\n    var rgb2num$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$8(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        return (r << 16) + (g << 8) + b;\n    };\n\n    var rgb2num_1 = rgb2num$1;\n\n    var type$b = utils.type;\n\n    var num2rgb = function (num) {\n        if (type$b(num) == \"number\" && num >= 0 && num <= 0xFFFFFF) {\n            var r = num >> 16;\n            var g = (num >> 8) & 0xFF;\n            var b = num & 0xFF;\n            return [r,g,b,1];\n        }\n        throw new Error(\"unknown num color: \"+num);\n    };\n\n    var num2rgb_1 = num2rgb;\n\n    var chroma$9 = chroma_1;\n    var Color$r = Color_1;\n    var input$4 = input$h;\n    var type$a = utils.type;\n\n    var rgb2num = rgb2num_1;\n\n    Color$r.prototype.num = function() {\n        return rgb2num(this._rgb);\n    };\n\n    chroma$9.num = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$r, [ null ].concat( args, ['num']) ));\n    };\n\n    input$4.format.num = num2rgb_1;\n\n    input$4.autodetect.push({\n        p: 5,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            if (args.length === 1 && type$a(args[0]) === 'number' && args[0] >= 0 && args[0] <= 0xFFFFFF) {\n                return 'num';\n            }\n        }\n    });\n\n    var chroma$8 = chroma_1;\n    var Color$q = Color_1;\n    var input$3 = input$h;\n    var unpack$7 = utils.unpack;\n    var type$9 = utils.type;\n    var round$1 = Math.round;\n\n    Color$q.prototype.rgb = function(rnd) {\n        if ( rnd === void 0 ) rnd=true;\n\n        if (rnd === false) { return this._rgb.slice(0,3); }\n        return this._rgb.slice(0,3).map(round$1);\n    };\n\n    Color$q.prototype.rgba = function(rnd) {\n        if ( rnd === void 0 ) rnd=true;\n\n        return this._rgb.slice(0,4).map(function (v,i) {\n            return i<3 ? (rnd === false ? v : round$1(v)) : v;\n        });\n    };\n\n    chroma$8.rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$q, [ null ].concat( args, ['rgb']) ));\n    };\n\n    input$3.format.rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var rgba = unpack$7(args, 'rgba');\n        if (rgba[3] === undefined) { rgba[3] = 1; }\n        return rgba;\n    };\n\n    input$3.autodetect.push({\n        p: 3,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$7(args, 'rgba');\n            if (type$9(args) === 'array' && (args.length === 3 ||\n                args.length === 4 && type$9(args[3]) == 'number' && args[3] >= 0 && args[3] <= 1)) {\n                return 'rgb';\n            }\n        }\n    });\n\n    /*\n     * Based on implementation by Neil Bartlett\n     * https://github.com/neilbartlett/color-temperature\n     */\n\n    var log$1 = Math.log;\n\n    var temperature2rgb$1 = function (kelvin) {\n        var temp = kelvin / 100;\n        var r,g,b;\n        if (temp < 66) {\n            r = 255;\n            g = temp < 6 ? 0 : -155.25485562709179 - 0.44596950469579133 * (g = temp-2) + 104.49216199393888 * log$1(g);\n            b = temp < 20 ? 0 : -254.76935184120902 + 0.8274096064007395 * (b = temp-10) + 115.67994401066147 * log$1(b);\n        } else {\n            r = 351.97690566805693 + 0.114206453784165 * (r = temp-55) - 40.25366309332127 * log$1(r);\n            g = 325.4494125711974 + 0.07943456536662342 * (g = temp-50) - 28.0852963507957 * log$1(g);\n            b = 255;\n        }\n        return [r,g,b,1];\n    };\n\n    var temperature2rgb_1 = temperature2rgb$1;\n\n    /*\n     * Based on implementation by Neil Bartlett\n     * https://github.com/neilbartlett/color-temperature\n     **/\n\n    var temperature2rgb = temperature2rgb_1;\n    var unpack$6 = utils.unpack;\n    var round = Math.round;\n\n    var rgb2temperature$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var rgb = unpack$6(args, 'rgb');\n        var r = rgb[0], b = rgb[2];\n        var minTemp = 1000;\n        var maxTemp = 40000;\n        var eps = 0.4;\n        var temp;\n        while (maxTemp - minTemp > eps) {\n            temp = (maxTemp + minTemp) * 0.5;\n            var rgb$1 = temperature2rgb(temp);\n            if ((rgb$1[2] / rgb$1[0]) >= (b / r)) {\n                maxTemp = temp;\n            } else {\n                minTemp = temp;\n            }\n        }\n        return round(temp);\n    };\n\n    var rgb2temperature_1 = rgb2temperature$1;\n\n    var chroma$7 = chroma_1;\n    var Color$p = Color_1;\n    var input$2 = input$h;\n\n    var rgb2temperature = rgb2temperature_1;\n\n    Color$p.prototype.temp =\n    Color$p.prototype.kelvin =\n    Color$p.prototype.temperature = function() {\n        return rgb2temperature(this._rgb);\n    };\n\n    chroma$7.temp =\n    chroma$7.kelvin =\n    chroma$7.temperature = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$p, [ null ].concat( args, ['temp']) ));\n    };\n\n    input$2.format.temp =\n    input$2.format.kelvin =\n    input$2.format.temperature = temperature2rgb_1;\n\n    var unpack$5 = utils.unpack;\n    var cbrt = Math.cbrt;\n    var pow$8 = Math.pow;\n    var sign$1 = Math.sign;\n\n    var rgb2oklab$2 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        // OKLab color space implementation taken from\n        // https://bottosson.github.io/posts/oklab/\n        var ref = unpack$5(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var ref$1 = [rgb2lrgb(r / 255), rgb2lrgb(g / 255), rgb2lrgb(b / 255)];\n        var lr = ref$1[0];\n        var lg = ref$1[1];\n        var lb = ref$1[2];\n        var l = cbrt(0.4122214708 * lr + 0.5363325363 * lg + 0.0514459929 * lb);\n        var m = cbrt(0.2119034982 * lr + 0.6806995451 * lg + 0.1073969566 * lb);\n        var s = cbrt(0.0883024619 * lr + 0.2817188376 * lg + 0.6299787005 * lb);\n\n        return [\n            0.2104542553 * l + 0.793617785 * m - 0.0040720468 * s,\n            1.9779984951 * l - 2.428592205 * m + 0.4505937099 * s,\n            0.0259040371 * l + 0.7827717662 * m - 0.808675766 * s\n        ];\n    };\n\n    var rgb2oklab_1 = rgb2oklab$2;\n\n    function rgb2lrgb(c) {\n        var abs = Math.abs(c);\n        if (abs < 0.04045) {\n            return c / 12.92;\n        }\n        return (sign$1(c) || 1) * pow$8((abs + 0.055) / 1.055, 2.4);\n    }\n\n    var unpack$4 = utils.unpack;\n    var pow$7 = Math.pow;\n    var sign = Math.sign;\n\n    /*\n     * L* [0..100]\n     * a [-100..100]\n     * b [-100..100]\n     */\n    var oklab2rgb$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$4(args, 'lab');\n        var L = args[0];\n        var a = args[1];\n        var b = args[2];\n\n        var l = pow$7(L + 0.3963377774 * a + 0.2158037573 * b, 3);\n        var m = pow$7(L - 0.1055613458 * a - 0.0638541728 * b, 3);\n        var s = pow$7(L - 0.0894841775 * a - 1.291485548 * b, 3);\n\n        return [\n            255 * lrgb2rgb(+4.0767416621 * l - 3.3077115913 * m + 0.2309699292 * s),\n            255 * lrgb2rgb(-1.2684380046 * l + 2.6097574011 * m - 0.3413193965 * s),\n            255 * lrgb2rgb(-0.0041960863 * l - 0.7034186147 * m + 1.707614701 * s),\n            args.length > 3 ? args[3] : 1\n        ];\n    };\n\n    var oklab2rgb_1 = oklab2rgb$1;\n\n    function lrgb2rgb(c) {\n        var abs = Math.abs(c);\n        if (abs > 0.0031308) {\n            return (sign(c) || 1) * (1.055 * pow$7(abs, 1 / 2.4) - 0.055);\n        }\n        return c * 12.92;\n    }\n\n    var unpack$3 = utils.unpack;\n    var type$8 = utils.type;\n    var chroma$6 = chroma_1;\n    var Color$o = Color_1;\n    var input$1 = input$h;\n\n    var rgb2oklab$1 = rgb2oklab_1;\n\n    Color$o.prototype.oklab = function () {\n        return rgb2oklab$1(this._rgb);\n    };\n\n    chroma$6.oklab = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$o, [ null ].concat( args, ['oklab']) ));\n    };\n\n    input$1.format.oklab = oklab2rgb_1;\n\n    input$1.autodetect.push({\n        p: 3,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$3(args, 'oklab');\n            if (type$8(args) === 'array' && args.length === 3) {\n                return 'oklab';\n            }\n        }\n    });\n\n    var unpack$2 = utils.unpack;\n    var rgb2oklab = rgb2oklab_1;\n    var lab2lch = lab2lch_1;\n\n    var rgb2oklch$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$2(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var ref$1 = rgb2oklab(r, g, b);\n        var l = ref$1[0];\n        var a = ref$1[1];\n        var b_ = ref$1[2];\n        return lab2lch(l, a, b_);\n    };\n\n    var rgb2oklch_1 = rgb2oklch$1;\n\n    var unpack$1 = utils.unpack;\n    var lch2lab = lch2lab_1;\n    var oklab2rgb = oklab2rgb_1;\n\n    var oklch2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$1(args, 'lch');\n        var l = args[0];\n        var c = args[1];\n        var h = args[2];\n        var ref = lch2lab(l, c, h);\n        var L = ref[0];\n        var a = ref[1];\n        var b_ = ref[2];\n        var ref$1 = oklab2rgb(L, a, b_);\n        var r = ref$1[0];\n        var g = ref$1[1];\n        var b = ref$1[2];\n        return [r, g, b, args.length > 3 ? args[3] : 1];\n    };\n\n    var oklch2rgb_1 = oklch2rgb;\n\n    var unpack = utils.unpack;\n    var type$7 = utils.type;\n    var chroma$5 = chroma_1;\n    var Color$n = Color_1;\n    var input = input$h;\n\n    var rgb2oklch = rgb2oklch_1;\n\n    Color$n.prototype.oklch = function () {\n        return rgb2oklch(this._rgb);\n    };\n\n    chroma$5.oklch = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$n, [ null ].concat( args, ['oklch']) ));\n    };\n\n    input.format.oklch = oklch2rgb_1;\n\n    input.autodetect.push({\n        p: 3,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack(args, 'oklch');\n            if (type$7(args) === 'array' && args.length === 3) {\n                return 'oklch';\n            }\n        }\n    });\n\n    var Color$m = Color_1;\n    var type$6 = utils.type;\n\n    Color$m.prototype.alpha = function(a, mutate) {\n        if ( mutate === void 0 ) mutate=false;\n\n        if (a !== undefined && type$6(a) === 'number') {\n            if (mutate) {\n                this._rgb[3] = a;\n                return this;\n            }\n            return new Color$m([this._rgb[0], this._rgb[1], this._rgb[2], a], 'rgb');\n        }\n        return this._rgb[3];\n    };\n\n    var Color$l = Color_1;\n\n    Color$l.prototype.clipped = function() {\n        return this._rgb._clipped || false;\n    };\n\n    var Color$k = Color_1;\n    var LAB_CONSTANTS$1 = labConstants;\n\n    Color$k.prototype.darken = function(amount) {\n    \tif ( amount === void 0 ) amount=1;\n\n    \tvar me = this;\n    \tvar lab = me.lab();\n    \tlab[0] -= LAB_CONSTANTS$1.Kn * amount;\n    \treturn new Color$k(lab, 'lab').alpha(me.alpha(), true);\n    };\n\n    Color$k.prototype.brighten = function(amount) {\n    \tif ( amount === void 0 ) amount=1;\n\n    \treturn this.darken(-amount);\n    };\n\n    Color$k.prototype.darker = Color$k.prototype.darken;\n    Color$k.prototype.brighter = Color$k.prototype.brighten;\n\n    var Color$j = Color_1;\n\n    Color$j.prototype.get = function (mc) {\n        var ref = mc.split('.');\n        var mode = ref[0];\n        var channel = ref[1];\n        var src = this[mode]();\n        if (channel) {\n            var i = mode.indexOf(channel) - (mode.substr(0, 2) === 'ok' ? 2 : 0);\n            if (i > -1) { return src[i]; }\n            throw new Error((\"unknown channel \" + channel + \" in mode \" + mode));\n        } else {\n            return src;\n        }\n    };\n\n    var Color$i = Color_1;\n    var type$5 = utils.type;\n    var pow$6 = Math.pow;\n\n    var EPS = 1e-7;\n    var MAX_ITER = 20;\n\n    Color$i.prototype.luminance = function(lum) {\n        if (lum !== undefined && type$5(lum) === 'number') {\n            if (lum === 0) {\n                // return pure black\n                return new Color$i([0,0,0,this._rgb[3]], 'rgb');\n            }\n            if (lum === 1) {\n                // return pure white\n                return new Color$i([255,255,255,this._rgb[3]], 'rgb');\n            }\n            // compute new color using...\n            var cur_lum = this.luminance();\n            var mode = 'rgb';\n            var max_iter = MAX_ITER;\n\n            var test = function (low, high) {\n                var mid = low.interpolate(high, 0.5, mode);\n                var lm = mid.luminance();\n                if (Math.abs(lum - lm) < EPS || !max_iter--) {\n                    // close enough\n                    return mid;\n                }\n                return lm > lum ? test(low, mid) : test(mid, high);\n            };\n\n            var rgb = (cur_lum > lum ? test(new Color$i([0,0,0]), this) : test(this, new Color$i([255,255,255]))).rgb();\n            return new Color$i(rgb.concat( [this._rgb[3]]));\n        }\n        return rgb2luminance.apply(void 0, (this._rgb).slice(0,3));\n    };\n\n\n    var rgb2luminance = function (r,g,b) {\n        // relative luminance\n        // see http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        r = luminance_x(r);\n        g = luminance_x(g);\n        b = luminance_x(b);\n        return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n    };\n\n    var luminance_x = function (x) {\n        x /= 255;\n        return x <= 0.03928 ? x/12.92 : pow$6((x+0.055)/1.055, 2.4);\n    };\n\n    var interpolator$1 = {};\n\n    var Color$h = Color_1;\n    var type$4 = utils.type;\n    var interpolator = interpolator$1;\n\n    var mix$1 = function (col1, col2, f) {\n        if ( f === void 0 ) f=0.5;\n        var rest = [], len = arguments.length - 3;\n        while ( len-- > 0 ) rest[ len ] = arguments[ len + 3 ];\n\n        var mode = rest[0] || 'lrgb';\n        if (!interpolator[mode] && !rest.length) {\n            // fall back to the first supported mode\n            mode = Object.keys(interpolator)[0];\n        }\n        if (!interpolator[mode]) {\n            throw new Error((\"interpolation mode \" + mode + \" is not defined\"));\n        }\n        if (type$4(col1) !== 'object') { col1 = new Color$h(col1); }\n        if (type$4(col2) !== 'object') { col2 = new Color$h(col2); }\n        return interpolator[mode](col1, col2, f)\n            .alpha(col1.alpha() + f * (col2.alpha() - col1.alpha()));\n    };\n\n    var Color$g = Color_1;\n    var mix = mix$1;\n\n    Color$g.prototype.mix =\n    Color$g.prototype.interpolate = function(col2, f) {\n    \tif ( f === void 0 ) f=0.5;\n    \tvar rest = [], len = arguments.length - 2;\n    \twhile ( len-- > 0 ) rest[ len ] = arguments[ len + 2 ];\n\n    \treturn mix.apply(void 0, [ this, col2, f ].concat( rest ));\n    };\n\n    var Color$f = Color_1;\n\n    Color$f.prototype.premultiply = function(mutate) {\n    \tif ( mutate === void 0 ) mutate=false;\n\n    \tvar rgb = this._rgb;\n    \tvar a = rgb[3];\n    \tif (mutate) {\n    \t\tthis._rgb = [rgb[0]*a, rgb[1]*a, rgb[2]*a, a];\n    \t\treturn this;\n    \t} else {\n    \t\treturn new Color$f([rgb[0]*a, rgb[1]*a, rgb[2]*a, a], 'rgb');\n    \t}\n    };\n\n    var Color$e = Color_1;\n    var LAB_CONSTANTS = labConstants;\n\n    Color$e.prototype.saturate = function(amount) {\n    \tif ( amount === void 0 ) amount=1;\n\n    \tvar me = this;\n    \tvar lch = me.lch();\n    \tlch[1] += LAB_CONSTANTS.Kn * amount;\n    \tif (lch[1] < 0) { lch[1] = 0; }\n    \treturn new Color$e(lch, 'lch').alpha(me.alpha(), true);\n    };\n\n    Color$e.prototype.desaturate = function(amount) {\n    \tif ( amount === void 0 ) amount=1;\n\n    \treturn this.saturate(-amount);\n    };\n\n    var Color$d = Color_1;\n    var type$3 = utils.type;\n\n    Color$d.prototype.set = function (mc, value, mutate) {\n        if ( mutate === void 0 ) mutate = false;\n\n        var ref = mc.split('.');\n        var mode = ref[0];\n        var channel = ref[1];\n        var src = this[mode]();\n        if (channel) {\n            var i = mode.indexOf(channel) - (mode.substr(0, 2) === 'ok' ? 2 : 0);\n            if (i > -1) {\n                if (type$3(value) == 'string') {\n                    switch (value.charAt(0)) {\n                        case '+':\n                            src[i] += +value;\n                            break;\n                        case '-':\n                            src[i] += +value;\n                            break;\n                        case '*':\n                            src[i] *= +value.substr(1);\n                            break;\n                        case '/':\n                            src[i] /= +value.substr(1);\n                            break;\n                        default:\n                            src[i] = +value;\n                    }\n                } else if (type$3(value) === 'number') {\n                    src[i] = value;\n                } else {\n                    throw new Error(\"unsupported value for Color.set\");\n                }\n                var out = new Color$d(src, mode);\n                if (mutate) {\n                    this._rgb = out._rgb;\n                    return this;\n                }\n                return out;\n            }\n            throw new Error((\"unknown channel \" + channel + \" in mode \" + mode));\n        } else {\n            return src;\n        }\n    };\n\n    var Color$c = Color_1;\n\n    var rgb = function (col1, col2, f) {\n        var xyz0 = col1._rgb;\n        var xyz1 = col2._rgb;\n        return new Color$c(\n            xyz0[0] + f * (xyz1[0]-xyz0[0]),\n            xyz0[1] + f * (xyz1[1]-xyz0[1]),\n            xyz0[2] + f * (xyz1[2]-xyz0[2]),\n            'rgb'\n        )\n    };\n\n    // register interpolator\n    interpolator$1.rgb = rgb;\n\n    var Color$b = Color_1;\n    var sqrt$2 = Math.sqrt;\n    var pow$5 = Math.pow;\n\n    var lrgb = function (col1, col2, f) {\n        var ref = col1._rgb;\n        var x1 = ref[0];\n        var y1 = ref[1];\n        var z1 = ref[2];\n        var ref$1 = col2._rgb;\n        var x2 = ref$1[0];\n        var y2 = ref$1[1];\n        var z2 = ref$1[2];\n        return new Color$b(\n            sqrt$2(pow$5(x1,2) * (1-f) + pow$5(x2,2) * f),\n            sqrt$2(pow$5(y1,2) * (1-f) + pow$5(y2,2) * f),\n            sqrt$2(pow$5(z1,2) * (1-f) + pow$5(z2,2) * f),\n            'rgb'\n        )\n    };\n\n    // register interpolator\n    interpolator$1.lrgb = lrgb;\n\n    var Color$a = Color_1;\n\n    var lab = function (col1, col2, f) {\n        var xyz0 = col1.lab();\n        var xyz1 = col2.lab();\n        return new Color$a(\n            xyz0[0] + f * (xyz1[0]-xyz0[0]),\n            xyz0[1] + f * (xyz1[1]-xyz0[1]),\n            xyz0[2] + f * (xyz1[2]-xyz0[2]),\n            'lab'\n        )\n    };\n\n    // register interpolator\n    interpolator$1.lab = lab;\n\n    var Color$9 = Color_1;\n\n    var _hsx = function (col1, col2, f, m) {\n        var assign, assign$1;\n\n        var xyz0, xyz1;\n        if (m === 'hsl') {\n            xyz0 = col1.hsl();\n            xyz1 = col2.hsl();\n        } else if (m === 'hsv') {\n            xyz0 = col1.hsv();\n            xyz1 = col2.hsv();\n        } else if (m === 'hcg') {\n            xyz0 = col1.hcg();\n            xyz1 = col2.hcg();\n        } else if (m === 'hsi') {\n            xyz0 = col1.hsi();\n            xyz1 = col2.hsi();\n        } else if (m === 'lch' || m === 'hcl') {\n            m = 'hcl';\n            xyz0 = col1.hcl();\n            xyz1 = col2.hcl();\n        } else if (m === 'oklch') {\n            xyz0 = col1.oklch().reverse();\n            xyz1 = col2.oklch().reverse();\n        }\n\n        var hue0, hue1, sat0, sat1, lbv0, lbv1;\n        if (m.substr(0, 1) === 'h' || m === 'oklch') {\n            (assign = xyz0, hue0 = assign[0], sat0 = assign[1], lbv0 = assign[2]);\n            (assign$1 = xyz1, hue1 = assign$1[0], sat1 = assign$1[1], lbv1 = assign$1[2]);\n        }\n\n        var sat, hue, lbv, dh;\n\n        if (!isNaN(hue0) && !isNaN(hue1)) {\n            // both colors have hue\n            if (hue1 > hue0 && hue1 - hue0 > 180) {\n                dh = hue1 - (hue0 + 360);\n            } else if (hue1 < hue0 && hue0 - hue1 > 180) {\n                dh = hue1 + 360 - hue0;\n            } else {\n                dh = hue1 - hue0;\n            }\n            hue = hue0 + f * dh;\n        } else if (!isNaN(hue0)) {\n            hue = hue0;\n            if ((lbv1 == 1 || lbv1 == 0) && m != 'hsv') { sat = sat0; }\n        } else if (!isNaN(hue1)) {\n            hue = hue1;\n            if ((lbv0 == 1 || lbv0 == 0) && m != 'hsv') { sat = sat1; }\n        } else {\n            hue = Number.NaN;\n        }\n\n        if (sat === undefined) { sat = sat0 + f * (sat1 - sat0); }\n        lbv = lbv0 + f * (lbv1 - lbv0);\n        return m === 'oklch' ? new Color$9([lbv, sat, hue], m) : new Color$9([hue, sat, lbv], m);\n    };\n\n    var interpolate_hsx$5 = _hsx;\n\n    var lch = function (col1, col2, f) {\n    \treturn interpolate_hsx$5(col1, col2, f, 'lch');\n    };\n\n    // register interpolator\n    interpolator$1.lch = lch;\n    interpolator$1.hcl = lch;\n\n    var Color$8 = Color_1;\n\n    var num = function (col1, col2, f) {\n        var c1 = col1.num();\n        var c2 = col2.num();\n        return new Color$8(c1 + f * (c2-c1), 'num')\n    };\n\n    // register interpolator\n    interpolator$1.num = num;\n\n    var interpolate_hsx$4 = _hsx;\n\n    var hcg = function (col1, col2, f) {\n    \treturn interpolate_hsx$4(col1, col2, f, 'hcg');\n    };\n\n    // register interpolator\n    interpolator$1.hcg = hcg;\n\n    var interpolate_hsx$3 = _hsx;\n\n    var hsi = function (col1, col2, f) {\n    \treturn interpolate_hsx$3(col1, col2, f, 'hsi');\n    };\n\n    // register interpolator\n    interpolator$1.hsi = hsi;\n\n    var interpolate_hsx$2 = _hsx;\n\n    var hsl = function (col1, col2, f) {\n    \treturn interpolate_hsx$2(col1, col2, f, 'hsl');\n    };\n\n    // register interpolator\n    interpolator$1.hsl = hsl;\n\n    var interpolate_hsx$1 = _hsx;\n\n    var hsv = function (col1, col2, f) {\n    \treturn interpolate_hsx$1(col1, col2, f, 'hsv');\n    };\n\n    // register interpolator\n    interpolator$1.hsv = hsv;\n\n    var Color$7 = Color_1;\n\n    var oklab = function (col1, col2, f) {\n        var xyz0 = col1.oklab();\n        var xyz1 = col2.oklab();\n        return new Color$7(\n            xyz0[0] + f * (xyz1[0] - xyz0[0]),\n            xyz0[1] + f * (xyz1[1] - xyz0[1]),\n            xyz0[2] + f * (xyz1[2] - xyz0[2]),\n            'oklab'\n        );\n    };\n\n    // register interpolator\n    interpolator$1.oklab = oklab;\n\n    var interpolate_hsx = _hsx;\n\n    var oklch = function (col1, col2, f) {\n        return interpolate_hsx(col1, col2, f, 'oklch');\n    };\n\n    // register interpolator\n    interpolator$1.oklch = oklch;\n\n    var Color$6 = Color_1;\n    var clip_rgb$1 = utils.clip_rgb;\n    var pow$4 = Math.pow;\n    var sqrt$1 = Math.sqrt;\n    var PI$1 = Math.PI;\n    var cos$2 = Math.cos;\n    var sin$2 = Math.sin;\n    var atan2$1 = Math.atan2;\n\n    var average = function (colors, mode, weights) {\n        if ( mode === void 0 ) mode='lrgb';\n        if ( weights === void 0 ) weights=null;\n\n        var l = colors.length;\n        if (!weights) { weights = Array.from(new Array(l)).map(function () { return 1; }); }\n        // normalize weights\n        var k = l / weights.reduce(function(a, b) { return a + b; });\n        weights.forEach(function (w,i) { weights[i] *= k; });\n        // convert colors to Color objects\n        colors = colors.map(function (c) { return new Color$6(c); });\n        if (mode === 'lrgb') {\n            return _average_lrgb(colors, weights)\n        }\n        var first = colors.shift();\n        var xyz = first.get(mode);\n        var cnt = [];\n        var dx = 0;\n        var dy = 0;\n        // initial color\n        for (var i=0; i<xyz.length; i++) {\n            xyz[i] = (xyz[i] || 0) * weights[0];\n            cnt.push(isNaN(xyz[i]) ? 0 : weights[0]);\n            if (mode.charAt(i) === 'h' && !isNaN(xyz[i])) {\n                var A = xyz[i] / 180 * PI$1;\n                dx += cos$2(A) * weights[0];\n                dy += sin$2(A) * weights[0];\n            }\n        }\n\n        var alpha = first.alpha() * weights[0];\n        colors.forEach(function (c,ci) {\n            var xyz2 = c.get(mode);\n            alpha += c.alpha() * weights[ci+1];\n            for (var i=0; i<xyz.length; i++) {\n                if (!isNaN(xyz2[i])) {\n                    cnt[i] += weights[ci+1];\n                    if (mode.charAt(i) === 'h') {\n                        var A = xyz2[i] / 180 * PI$1;\n                        dx += cos$2(A) * weights[ci+1];\n                        dy += sin$2(A) * weights[ci+1];\n                    } else {\n                        xyz[i] += xyz2[i] * weights[ci+1];\n                    }\n                }\n            }\n        });\n\n        for (var i$1=0; i$1<xyz.length; i$1++) {\n            if (mode.charAt(i$1) === 'h') {\n                var A$1 = atan2$1(dy / cnt[i$1], dx / cnt[i$1]) / PI$1 * 180;\n                while (A$1 < 0) { A$1 += 360; }\n                while (A$1 >= 360) { A$1 -= 360; }\n                xyz[i$1] = A$1;\n            } else {\n                xyz[i$1] = xyz[i$1]/cnt[i$1];\n            }\n        }\n        alpha /= l;\n        return (new Color$6(xyz, mode)).alpha(alpha > 0.99999 ? 1 : alpha, true);\n    };\n\n\n    var _average_lrgb = function (colors, weights) {\n        var l = colors.length;\n        var xyz = [0,0,0,0];\n        for (var i=0; i < colors.length; i++) {\n            var col = colors[i];\n            var f = weights[i] / l;\n            var rgb = col._rgb;\n            xyz[0] += pow$4(rgb[0],2) * f;\n            xyz[1] += pow$4(rgb[1],2) * f;\n            xyz[2] += pow$4(rgb[2],2) * f;\n            xyz[3] += rgb[3] * f;\n        }\n        xyz[0] = sqrt$1(xyz[0]);\n        xyz[1] = sqrt$1(xyz[1]);\n        xyz[2] = sqrt$1(xyz[2]);\n        if (xyz[3] > 0.9999999) { xyz[3] = 1; }\n        return new Color$6(clip_rgb$1(xyz));\n    };\n\n    // minimal multi-purpose interface\n\n    // @requires utils color analyze\n\n    var chroma$4 = chroma_1;\n    var type$2 = utils.type;\n\n    var pow$3 = Math.pow;\n\n    var scale$2 = function(colors) {\n\n        // constructor\n        var _mode = 'rgb';\n        var _nacol = chroma$4('#ccc');\n        var _spread = 0;\n        // const _fixed = false;\n        var _domain = [0, 1];\n        var _pos = [];\n        var _padding = [0,0];\n        var _classes = false;\n        var _colors = [];\n        var _out = false;\n        var _min = 0;\n        var _max = 1;\n        var _correctLightness = false;\n        var _colorCache = {};\n        var _useCache = true;\n        var _gamma = 1;\n\n        // private methods\n\n        var setColors = function(colors) {\n            colors = colors || ['#fff', '#000'];\n            if (colors && type$2(colors) === 'string' && chroma$4.brewer &&\n                chroma$4.brewer[colors.toLowerCase()]) {\n                colors = chroma$4.brewer[colors.toLowerCase()];\n            }\n            if (type$2(colors) === 'array') {\n                // handle single color\n                if (colors.length === 1) {\n                    colors = [colors[0], colors[0]];\n                }\n                // make a copy of the colors\n                colors = colors.slice(0);\n                // convert to chroma classes\n                for (var c=0; c<colors.length; c++) {\n                    colors[c] = chroma$4(colors[c]);\n                }\n                // auto-fill color position\n                _pos.length = 0;\n                for (var c$1=0; c$1<colors.length; c$1++) {\n                    _pos.push(c$1/(colors.length-1));\n                }\n            }\n            resetCache();\n            return _colors = colors;\n        };\n\n        var getClass = function(value) {\n            if (_classes != null) {\n                var n = _classes.length-1;\n                var i = 0;\n                while (i < n && value >= _classes[i]) {\n                    i++;\n                }\n                return i-1;\n            }\n            return 0;\n        };\n\n        var tMapLightness = function (t) { return t; };\n        var tMapDomain = function (t) { return t; };\n\n        // const classifyValue = function(value) {\n        //     let val = value;\n        //     if (_classes.length > 2) {\n        //         const n = _classes.length-1;\n        //         const i = getClass(value);\n        //         const minc = _classes[0] + ((_classes[1]-_classes[0]) * (0 + (_spread * 0.5)));  // center of 1st class\n        //         const maxc = _classes[n-1] + ((_classes[n]-_classes[n-1]) * (1 - (_spread * 0.5)));  // center of last class\n        //         val = _min + ((((_classes[i] + ((_classes[i+1] - _classes[i]) * 0.5)) - minc) / (maxc-minc)) * (_max - _min));\n        //     }\n        //     return val;\n        // };\n\n        var getColor = function(val, bypassMap) {\n            var col, t;\n            if (bypassMap == null) { bypassMap = false; }\n            if (isNaN(val) || (val === null)) { return _nacol; }\n            if (!bypassMap) {\n                if (_classes && (_classes.length > 2)) {\n                    // find the class\n                    var c = getClass(val);\n                    t = c / (_classes.length-2);\n                } else if (_max !== _min) {\n                    // just interpolate between min/max\n                    t = (val - _min) / (_max - _min);\n                } else {\n                    t = 1;\n                }\n            } else {\n                t = val;\n            }\n\n            // domain map\n            t = tMapDomain(t);\n\n            if (!bypassMap) {\n                t = tMapLightness(t);  // lightness correction\n            }\n\n            if (_gamma !== 1) { t = pow$3(t, _gamma); }\n\n            t = _padding[0] + (t * (1 - _padding[0] - _padding[1]));\n\n            t = Math.min(1, Math.max(0, t));\n\n            var k = Math.floor(t * 10000);\n\n            if (_useCache && _colorCache[k]) {\n                col = _colorCache[k];\n            } else {\n                if (type$2(_colors) === 'array') {\n                    //for i in [0.._pos.length-1]\n                    for (var i=0; i<_pos.length; i++) {\n                        var p = _pos[i];\n                        if (t <= p) {\n                            col = _colors[i];\n                            break;\n                        }\n                        if ((t >= p) && (i === (_pos.length-1))) {\n                            col = _colors[i];\n                            break;\n                        }\n                        if (t > p && t < _pos[i+1]) {\n                            t = (t-p)/(_pos[i+1]-p);\n                            col = chroma$4.interpolate(_colors[i], _colors[i+1], t, _mode);\n                            break;\n                        }\n                    }\n                } else if (type$2(_colors) === 'function') {\n                    col = _colors(t);\n                }\n                if (_useCache) { _colorCache[k] = col; }\n            }\n            return col;\n        };\n\n        var resetCache = function () { return _colorCache = {}; };\n\n        setColors(colors);\n\n        // public interface\n\n        var f = function(v) {\n            var c = chroma$4(getColor(v));\n            if (_out && c[_out]) { return c[_out](); } else { return c; }\n        };\n\n        f.classes = function(classes) {\n            if (classes != null) {\n                if (type$2(classes) === 'array') {\n                    _classes = classes;\n                    _domain = [classes[0], classes[classes.length-1]];\n                } else {\n                    var d = chroma$4.analyze(_domain);\n                    if (classes === 0) {\n                        _classes = [d.min, d.max];\n                    } else {\n                        _classes = chroma$4.limits(d, 'e', classes);\n                    }\n                }\n                return f;\n            }\n            return _classes;\n        };\n\n\n        f.domain = function(domain) {\n            if (!arguments.length) {\n                return _domain;\n            }\n            _min = domain[0];\n            _max = domain[domain.length-1];\n            _pos = [];\n            var k = _colors.length;\n            if ((domain.length === k) && (_min !== _max)) {\n                // update positions\n                for (var i = 0, list = Array.from(domain); i < list.length; i += 1) {\n                    var d = list[i];\n\n                  _pos.push((d-_min) / (_max-_min));\n                }\n            } else {\n                for (var c=0; c<k; c++) {\n                    _pos.push(c/(k-1));\n                }\n                if (domain.length > 2) {\n                    // set domain map\n                    var tOut = domain.map(function (d,i) { return i/(domain.length-1); });\n                    var tBreaks = domain.map(function (d) { return (d - _min) / (_max - _min); });\n                    if (!tBreaks.every(function (val, i) { return tOut[i] === val; })) {\n                        tMapDomain = function (t) {\n                            if (t <= 0 || t >= 1) { return t; }\n                            var i = 0;\n                            while (t >= tBreaks[i+1]) { i++; }\n                            var f = (t - tBreaks[i]) / (tBreaks[i+1] - tBreaks[i]);\n                            var out = tOut[i] + f * (tOut[i+1] - tOut[i]);\n                            return out;\n                        };\n                    }\n\n                }\n            }\n            _domain = [_min, _max];\n            return f;\n        };\n\n        f.mode = function(_m) {\n            if (!arguments.length) {\n                return _mode;\n            }\n            _mode = _m;\n            resetCache();\n            return f;\n        };\n\n        f.range = function(colors, _pos) {\n            setColors(colors);\n            return f;\n        };\n\n        f.out = function(_o) {\n            _out = _o;\n            return f;\n        };\n\n        f.spread = function(val) {\n            if (!arguments.length) {\n                return _spread;\n            }\n            _spread = val;\n            return f;\n        };\n\n        f.correctLightness = function(v) {\n            if (v == null) { v = true; }\n            _correctLightness = v;\n            resetCache();\n            if (_correctLightness) {\n                tMapLightness = function(t) {\n                    var L0 = getColor(0, true).lab()[0];\n                    var L1 = getColor(1, true).lab()[0];\n                    var pol = L0 > L1;\n                    var L_actual = getColor(t, true).lab()[0];\n                    var L_ideal = L0 + ((L1 - L0) * t);\n                    var L_diff = L_actual - L_ideal;\n                    var t0 = 0;\n                    var t1 = 1;\n                    var max_iter = 20;\n                    while ((Math.abs(L_diff) > 1e-2) && (max_iter-- > 0)) {\n                        (function() {\n                            if (pol) { L_diff *= -1; }\n                            if (L_diff < 0) {\n                                t0 = t;\n                                t += (t1 - t) * 0.5;\n                            } else {\n                                t1 = t;\n                                t += (t0 - t) * 0.5;\n                            }\n                            L_actual = getColor(t, true).lab()[0];\n                            return L_diff = L_actual - L_ideal;\n                        })();\n                    }\n                    return t;\n                };\n            } else {\n                tMapLightness = function (t) { return t; };\n            }\n            return f;\n        };\n\n        f.padding = function(p) {\n            if (p != null) {\n                if (type$2(p) === 'number') {\n                    p = [p,p];\n                }\n                _padding = p;\n                return f;\n            } else {\n                return _padding;\n            }\n        };\n\n        f.colors = function(numColors, out) {\n            // If no arguments are given, return the original colors that were provided\n            if (arguments.length < 2) { out = 'hex'; }\n            var result = [];\n\n            if (arguments.length === 0) {\n                result = _colors.slice(0);\n\n            } else if (numColors === 1) {\n                result = [f(0.5)];\n\n            } else if (numColors > 1) {\n                var dm = _domain[0];\n                var dd = _domain[1] - dm;\n                result = __range__(0, numColors, false).map(function (i) { return f( dm + ((i/(numColors-1)) * dd) ); });\n\n            } else { // returns all colors based on the defined classes\n                colors = [];\n                var samples = [];\n                if (_classes && (_classes.length > 2)) {\n                    for (var i = 1, end = _classes.length, asc = 1 <= end; asc ? i < end : i > end; asc ? i++ : i--) {\n                        samples.push((_classes[i-1]+_classes[i])*0.5);\n                    }\n                } else {\n                    samples = _domain;\n                }\n                result = samples.map(function (v) { return f(v); });\n            }\n\n            if (chroma$4[out]) {\n                result = result.map(function (c) { return c[out](); });\n            }\n            return result;\n        };\n\n        f.cache = function(c) {\n            if (c != null) {\n                _useCache = c;\n                return f;\n            } else {\n                return _useCache;\n            }\n        };\n\n        f.gamma = function(g) {\n            if (g != null) {\n                _gamma = g;\n                return f;\n            } else {\n                return _gamma;\n            }\n        };\n\n        f.nodata = function(d) {\n            if (d != null) {\n                _nacol = chroma$4(d);\n                return f;\n            } else {\n                return _nacol;\n            }\n        };\n\n        return f;\n    };\n\n    function __range__(left, right, inclusive) {\n      var range = [];\n      var ascending = left < right;\n      var end = !inclusive ? right : ascending ? right + 1 : right - 1;\n      for (var i = left; ascending ? i < end : i > end; ascending ? i++ : i--) {\n        range.push(i);\n      }\n      return range;\n    }\n\n    //\n    // interpolates between a set of colors uzing a bezier spline\n    //\n\n    // @requires utils lab\n    var Color$5 = Color_1;\n\n    var scale$1 = scale$2;\n\n    // nth row of the pascal triangle\n    var binom_row = function(n) {\n        var row = [1, 1];\n        for (var i = 1; i < n; i++) {\n            var newrow = [1];\n            for (var j = 1; j <= row.length; j++) {\n                newrow[j] = (row[j] || 0) + row[j - 1];\n            }\n            row = newrow;\n        }\n        return row;\n    };\n\n    var bezier = function(colors) {\n        var assign, assign$1, assign$2;\n\n        var I, lab0, lab1, lab2;\n        colors = colors.map(function (c) { return new Color$5(c); });\n        if (colors.length === 2) {\n            // linear interpolation\n            (assign = colors.map(function (c) { return c.lab(); }), lab0 = assign[0], lab1 = assign[1]);\n            I = function(t) {\n                var lab = ([0, 1, 2].map(function (i) { return lab0[i] + (t * (lab1[i] - lab0[i])); }));\n                return new Color$5(lab, 'lab');\n            };\n        } else if (colors.length === 3) {\n            // quadratic bezier interpolation\n            (assign$1 = colors.map(function (c) { return c.lab(); }), lab0 = assign$1[0], lab1 = assign$1[1], lab2 = assign$1[2]);\n            I = function(t) {\n                var lab = ([0, 1, 2].map(function (i) { return ((1-t)*(1-t) * lab0[i]) + (2 * (1-t) * t * lab1[i]) + (t * t * lab2[i]); }));\n                return new Color$5(lab, 'lab');\n            };\n        } else if (colors.length === 4) {\n            // cubic bezier interpolation\n            var lab3;\n            (assign$2 = colors.map(function (c) { return c.lab(); }), lab0 = assign$2[0], lab1 = assign$2[1], lab2 = assign$2[2], lab3 = assign$2[3]);\n            I = function(t) {\n                var lab = ([0, 1, 2].map(function (i) { return ((1-t)*(1-t)*(1-t) * lab0[i]) + (3 * (1-t) * (1-t) * t * lab1[i]) + (3 * (1-t) * t * t * lab2[i]) + (t*t*t * lab3[i]); }));\n                return new Color$5(lab, 'lab');\n            };\n        } else if (colors.length >= 5) {\n            // general case (degree n bezier)\n            var labs, row, n;\n            labs = colors.map(function (c) { return c.lab(); });\n            n = colors.length - 1;\n            row = binom_row(n);\n            I = function (t) {\n                var u = 1 - t;\n                var lab = ([0, 1, 2].map(function (i) { return labs.reduce(function (sum, el, j) { return (sum + row[j] * Math.pow( u, (n - j) ) * Math.pow( t, j ) * el[i]); }, 0); }));\n                return new Color$5(lab, 'lab');\n            };\n        } else {\n            throw new RangeError(\"No point in running bezier with only one color.\")\n        }\n        return I;\n    };\n\n    var bezier_1 = function (colors) {\n        var f = bezier(colors);\n        f.scale = function () { return scale$1(f); };\n        return f;\n    };\n\n    /*\n     * interpolates between a set of colors uzing a bezier spline\n     * blend mode formulas taken from http://www.venture-ware.com/kevin/coding/lets-learn-math-photoshop-blend-modes/\n     */\n\n    var chroma$3 = chroma_1;\n\n    var blend = function (bottom, top, mode) {\n        if (!blend[mode]) {\n            throw new Error('unknown blend mode ' + mode);\n        }\n        return blend[mode](bottom, top);\n    };\n\n    var blend_f = function (f) { return function (bottom,top) {\n            var c0 = chroma$3(top).rgb();\n            var c1 = chroma$3(bottom).rgb();\n            return chroma$3.rgb(f(c0, c1));\n        }; };\n\n    var each = function (f) { return function (c0, c1) {\n            var out = [];\n            out[0] = f(c0[0], c1[0]);\n            out[1] = f(c0[1], c1[1]);\n            out[2] = f(c0[2], c1[2]);\n            return out;\n        }; };\n\n    var normal = function (a) { return a; };\n    var multiply = function (a,b) { return a * b / 255; };\n    var darken = function (a,b) { return a > b ? b : a; };\n    var lighten = function (a,b) { return a > b ? a : b; };\n    var screen = function (a,b) { return 255 * (1 - (1-a/255) * (1-b/255)); };\n    var overlay = function (a,b) { return b < 128 ? 2 * a * b / 255 : 255 * (1 - 2 * (1 - a / 255 ) * ( 1 - b / 255 )); };\n    var burn = function (a,b) { return 255 * (1 - (1 - b / 255) / (a/255)); };\n    var dodge = function (a,b) {\n        if (a === 255) { return 255; }\n        a = 255 * (b / 255) / (1 - a / 255);\n        return a > 255 ? 255 : a\n    };\n\n    // # add = (a,b) ->\n    // #     if (a + b > 255) then 255 else a + b\n\n    blend.normal = blend_f(each(normal));\n    blend.multiply = blend_f(each(multiply));\n    blend.screen = blend_f(each(screen));\n    blend.overlay = blend_f(each(overlay));\n    blend.darken = blend_f(each(darken));\n    blend.lighten = blend_f(each(lighten));\n    blend.dodge = blend_f(each(dodge));\n    blend.burn = blend_f(each(burn));\n    // blend.add = blend_f(each(add));\n\n    var blend_1 = blend;\n\n    // cubehelix interpolation\n    // based on D.A. Green \"A colour scheme for the display of astronomical intensity images\"\n    // http://astron-soc.in/bulletin/11June/289392011.pdf\n\n    var type$1 = utils.type;\n    var clip_rgb = utils.clip_rgb;\n    var TWOPI = utils.TWOPI;\n    var pow$2 = Math.pow;\n    var sin$1 = Math.sin;\n    var cos$1 = Math.cos;\n    var chroma$2 = chroma_1;\n\n    var cubehelix = function(start, rotations, hue, gamma, lightness) {\n        if ( start === void 0 ) start=300;\n        if ( rotations === void 0 ) rotations=-1.5;\n        if ( hue === void 0 ) hue=1;\n        if ( gamma === void 0 ) gamma=1;\n        if ( lightness === void 0 ) lightness=[0,1];\n\n        var dh = 0, dl;\n        if (type$1(lightness) === 'array') {\n            dl = lightness[1] - lightness[0];\n        } else {\n            dl = 0;\n            lightness = [lightness, lightness];\n        }\n\n        var f = function(fract) {\n            var a = TWOPI * (((start+120)/360) + (rotations * fract));\n            var l = pow$2(lightness[0] + (dl * fract), gamma);\n            var h = dh !== 0 ? hue[0] + (fract * dh) : hue;\n            var amp = (h * l * (1-l)) / 2;\n            var cos_a = cos$1(a);\n            var sin_a = sin$1(a);\n            var r = l + (amp * ((-0.14861 * cos_a) + (1.78277* sin_a)));\n            var g = l + (amp * ((-0.29227 * cos_a) - (0.90649* sin_a)));\n            var b = l + (amp * (+1.97294 * cos_a));\n            return chroma$2(clip_rgb([r*255,g*255,b*255,1]));\n        };\n\n        f.start = function(s) {\n            if ((s == null)) { return start; }\n            start = s;\n            return f;\n        };\n\n        f.rotations = function(r) {\n            if ((r == null)) { return rotations; }\n            rotations = r;\n            return f;\n        };\n\n        f.gamma = function(g) {\n            if ((g == null)) { return gamma; }\n            gamma = g;\n            return f;\n        };\n\n        f.hue = function(h) {\n            if ((h == null)) { return hue; }\n            hue = h;\n            if (type$1(hue) === 'array') {\n                dh = hue[1] - hue[0];\n                if (dh === 0) { hue = hue[1]; }\n            } else {\n                dh = 0;\n            }\n            return f;\n        };\n\n        f.lightness = function(h) {\n            if ((h == null)) { return lightness; }\n            if (type$1(h) === 'array') {\n                lightness = h;\n                dl = h[1] - h[0];\n            } else {\n                lightness = [h,h];\n                dl = 0;\n            }\n            return f;\n        };\n\n        f.scale = function () { return chroma$2.scale(f); };\n\n        f.hue(hue);\n\n        return f;\n    };\n\n    var Color$4 = Color_1;\n    var digits = '0123456789abcdef';\n\n    var floor$1 = Math.floor;\n    var random = Math.random;\n\n    var random_1 = function () {\n        var code = '#';\n        for (var i=0; i<6; i++) {\n            code += digits.charAt(floor$1(random() * 16));\n        }\n        return new Color$4(code, 'hex');\n    };\n\n    var type = type$p;\n    var log = Math.log;\n    var pow$1 = Math.pow;\n    var floor = Math.floor;\n    var abs$1 = Math.abs;\n\n\n    var analyze = function (data, key) {\n        if ( key === void 0 ) key=null;\n\n        var r = {\n            min: Number.MAX_VALUE,\n            max: Number.MAX_VALUE*-1,\n            sum: 0,\n            values: [],\n            count: 0\n        };\n        if (type(data) === 'object') {\n            data = Object.values(data);\n        }\n        data.forEach(function (val) {\n            if (key && type(val) === 'object') { val = val[key]; }\n            if (val !== undefined && val !== null && !isNaN(val)) {\n                r.values.push(val);\n                r.sum += val;\n                if (val < r.min) { r.min = val; }\n                if (val > r.max) { r.max = val; }\n                r.count += 1;\n            }\n        });\n\n        r.domain = [r.min, r.max];\n\n        r.limits = function (mode, num) { return limits(r, mode, num); };\n\n        return r;\n    };\n\n\n    var limits = function (data, mode, num) {\n        if ( mode === void 0 ) mode='equal';\n        if ( num === void 0 ) num=7;\n\n        if (type(data) == 'array') {\n            data = analyze(data);\n        }\n        var min = data.min;\n        var max = data.max;\n        var values = data.values.sort(function (a,b) { return a-b; });\n\n        if (num === 1) { return [min,max]; }\n\n        var limits = [];\n\n        if (mode.substr(0,1) === 'c') { // continuous\n            limits.push(min);\n            limits.push(max);\n        }\n\n        if (mode.substr(0,1) === 'e') { // equal interval\n            limits.push(min);\n            for (var i=1; i<num; i++) {\n                limits.push(min+((i/num)*(max-min)));\n            }\n            limits.push(max);\n        }\n\n        else if (mode.substr(0,1) === 'l') { // log scale\n            if (min <= 0) {\n                throw new Error('Logarithmic scales are only possible for values > 0');\n            }\n            var min_log = Math.LOG10E * log(min);\n            var max_log = Math.LOG10E * log(max);\n            limits.push(min);\n            for (var i$1=1; i$1<num; i$1++) {\n                limits.push(pow$1(10, min_log + ((i$1/num) * (max_log - min_log))));\n            }\n            limits.push(max);\n        }\n\n        else if (mode.substr(0,1) === 'q') { // quantile scale\n            limits.push(min);\n            for (var i$2=1; i$2<num; i$2++) {\n                var p = ((values.length-1) * i$2)/num;\n                var pb = floor(p);\n                if (pb === p) {\n                    limits.push(values[pb]);\n                } else { // p > pb\n                    var pr = p - pb;\n                    limits.push((values[pb]*(1-pr)) + (values[pb+1]*pr));\n                }\n            }\n            limits.push(max);\n\n        }\n\n        else if (mode.substr(0,1) === 'k') { // k-means clustering\n            /*\n            implementation based on\n            http://code.google.com/p/figue/source/browse/trunk/figue.js#336\n            simplified for 1-d input values\n            */\n            var cluster;\n            var n = values.length;\n            var assignments = new Array(n);\n            var clusterSizes = new Array(num);\n            var repeat = true;\n            var nb_iters = 0;\n            var centroids = null;\n\n            // get seed values\n            centroids = [];\n            centroids.push(min);\n            for (var i$3=1; i$3<num; i$3++) {\n                centroids.push(min + ((i$3/num) * (max-min)));\n            }\n            centroids.push(max);\n\n            while (repeat) {\n                // assignment step\n                for (var j=0; j<num; j++) {\n                    clusterSizes[j] = 0;\n                }\n                for (var i$4=0; i$4<n; i$4++) {\n                    var value = values[i$4];\n                    var mindist = Number.MAX_VALUE;\n                    var best = (void 0);\n                    for (var j$1=0; j$1<num; j$1++) {\n                        var dist = abs$1(centroids[j$1]-value);\n                        if (dist < mindist) {\n                            mindist = dist;\n                            best = j$1;\n                        }\n                        clusterSizes[best]++;\n                        assignments[i$4] = best;\n                    }\n                }\n\n                // update centroids step\n                var newCentroids = new Array(num);\n                for (var j$2=0; j$2<num; j$2++) {\n                    newCentroids[j$2] = null;\n                }\n                for (var i$5=0; i$5<n; i$5++) {\n                    cluster = assignments[i$5];\n                    if (newCentroids[cluster] === null) {\n                        newCentroids[cluster] = values[i$5];\n                    } else {\n                        newCentroids[cluster] += values[i$5];\n                    }\n                }\n                for (var j$3=0; j$3<num; j$3++) {\n                    newCentroids[j$3] *= 1/clusterSizes[j$3];\n                }\n\n                // check convergence\n                repeat = false;\n                for (var j$4=0; j$4<num; j$4++) {\n                    if (newCentroids[j$4] !== centroids[j$4]) {\n                        repeat = true;\n                        break;\n                    }\n                }\n\n                centroids = newCentroids;\n                nb_iters++;\n\n                if (nb_iters > 200) {\n                    repeat = false;\n                }\n            }\n\n            // finished k-means clustering\n            // the next part is borrowed from gabrielflor.it\n            var kClusters = {};\n            for (var j$5=0; j$5<num; j$5++) {\n                kClusters[j$5] = [];\n            }\n            for (var i$6=0; i$6<n; i$6++) {\n                cluster = assignments[i$6];\n                kClusters[cluster].push(values[i$6]);\n            }\n            var tmpKMeansBreaks = [];\n            for (var j$6=0; j$6<num; j$6++) {\n                tmpKMeansBreaks.push(kClusters[j$6][0]);\n                tmpKMeansBreaks.push(kClusters[j$6][kClusters[j$6].length-1]);\n            }\n            tmpKMeansBreaks = tmpKMeansBreaks.sort(function (a,b){ return a-b; });\n            limits.push(tmpKMeansBreaks[0]);\n            for (var i$7=1; i$7 < tmpKMeansBreaks.length; i$7+= 2) {\n                var v = tmpKMeansBreaks[i$7];\n                if (!isNaN(v) && (limits.indexOf(v) === -1)) {\n                    limits.push(v);\n                }\n            }\n        }\n        return limits;\n    };\n\n    var analyze_1 = {analyze: analyze, limits: limits};\n\n    var Color$3 = Color_1;\n\n\n    var contrast = function (a, b) {\n        // WCAG contrast ratio\n        // see http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef\n        a = new Color$3(a);\n        b = new Color$3(b);\n        var l1 = a.luminance();\n        var l2 = b.luminance();\n        return l1 > l2 ? (l1 + 0.05) / (l2 + 0.05) : (l2 + 0.05) / (l1 + 0.05);\n    };\n\n    var Color$2 = Color_1;\n    var sqrt = Math.sqrt;\n    var pow = Math.pow;\n    var min = Math.min;\n    var max = Math.max;\n    var atan2 = Math.atan2;\n    var abs = Math.abs;\n    var cos = Math.cos;\n    var sin = Math.sin;\n    var exp = Math.exp;\n    var PI = Math.PI;\n\n    var deltaE = function(a, b, Kl, Kc, Kh) {\n        if ( Kl === void 0 ) Kl=1;\n        if ( Kc === void 0 ) Kc=1;\n        if ( Kh === void 0 ) Kh=1;\n\n        // Delta E (CIE 2000)\n        // see http://www.brucelindbloom.com/index.html?Eqn_DeltaE_CIE2000.html\n        var rad2deg = function(rad) {\n            return 360 * rad / (2 * PI);\n        };\n        var deg2rad = function(deg) {\n            return (2 * PI * deg) / 360;\n        };\n        a = new Color$2(a);\n        b = new Color$2(b);\n        var ref = Array.from(a.lab());\n        var L1 = ref[0];\n        var a1 = ref[1];\n        var b1 = ref[2];\n        var ref$1 = Array.from(b.lab());\n        var L2 = ref$1[0];\n        var a2 = ref$1[1];\n        var b2 = ref$1[2];\n        var avgL = (L1 + L2)/2;\n        var C1 = sqrt(pow(a1, 2) + pow(b1, 2));\n        var C2 = sqrt(pow(a2, 2) + pow(b2, 2));\n        var avgC = (C1 + C2)/2;\n        var G = 0.5*(1-sqrt(pow(avgC, 7)/(pow(avgC, 7) + pow(25, 7))));\n        var a1p = a1*(1+G);\n        var a2p = a2*(1+G);\n        var C1p = sqrt(pow(a1p, 2) + pow(b1, 2));\n        var C2p = sqrt(pow(a2p, 2) + pow(b2, 2));\n        var avgCp = (C1p + C2p)/2;\n        var arctan1 = rad2deg(atan2(b1, a1p));\n        var arctan2 = rad2deg(atan2(b2, a2p));\n        var h1p = arctan1 >= 0 ? arctan1 : arctan1 + 360;\n        var h2p = arctan2 >= 0 ? arctan2 : arctan2 + 360;\n        var avgHp = abs(h1p - h2p) > 180 ? (h1p + h2p + 360)/2 : (h1p + h2p)/2;\n        var T = 1 - 0.17*cos(deg2rad(avgHp - 30)) + 0.24*cos(deg2rad(2*avgHp)) + 0.32*cos(deg2rad(3*avgHp + 6)) - 0.2*cos(deg2rad(4*avgHp - 63));\n        var deltaHp = h2p - h1p;\n        deltaHp = abs(deltaHp) <= 180 ? deltaHp : h2p <= h1p ? deltaHp + 360 : deltaHp - 360;\n        deltaHp = 2*sqrt(C1p*C2p)*sin(deg2rad(deltaHp)/2);\n        var deltaL = L2 - L1;\n        var deltaCp = C2p - C1p;    \n        var sl = 1 + (0.015*pow(avgL - 50, 2))/sqrt(20 + pow(avgL - 50, 2));\n        var sc = 1 + 0.045*avgCp;\n        var sh = 1 + 0.015*avgCp*T;\n        var deltaTheta = 30*exp(-pow((avgHp - 275)/25, 2));\n        var Rc = 2*sqrt(pow(avgCp, 7)/(pow(avgCp, 7) + pow(25, 7)));\n        var Rt = -Rc*sin(2*deg2rad(deltaTheta));\n        var result = sqrt(pow(deltaL/(Kl*sl), 2) + pow(deltaCp/(Kc*sc), 2) + pow(deltaHp/(Kh*sh), 2) + Rt*(deltaCp/(Kc*sc))*(deltaHp/(Kh*sh)));\n        return max(0, min(100, result));\n    };\n\n    var Color$1 = Color_1;\n\n    // simple Euclidean distance\n    var distance = function(a, b, mode) {\n        if ( mode === void 0 ) mode='lab';\n\n        // Delta E (CIE 1976)\n        // see http://www.brucelindbloom.com/index.html?Equations.html\n        a = new Color$1(a);\n        b = new Color$1(b);\n        var l1 = a.get(mode);\n        var l2 = b.get(mode);\n        var sum_sq = 0;\n        for (var i in l1) {\n            var d = (l1[i] || 0) - (l2[i] || 0);\n            sum_sq += d*d;\n        }\n        return Math.sqrt(sum_sq);\n    };\n\n    var Color = Color_1;\n\n    var valid = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        try {\n            new (Function.prototype.bind.apply( Color, [ null ].concat( args) ));\n            return true;\n        } catch (e) {\n            return false;\n        }\n    };\n\n    // some pre-defined color scales:\n    var chroma$1 = chroma_1;\n\n    var scale = scale$2;\n\n    var scales = {\n    \tcool: function cool() { return scale([chroma$1.hsl(180,1,.9), chroma$1.hsl(250,.7,.4)]) },\n    \thot: function hot() { return scale(['#000','#f00','#ff0','#fff']).mode('rgb') }\n    };\n\n    /**\n        ColorBrewer colors for chroma.js\n\n        Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The\n        Pennsylvania State University.\n\n        Licensed under the Apache License, Version 2.0 (the \"License\");\n        you may not use this file except in compliance with the License.\n        You may obtain a copy of the License at\n        http://www.apache.org/licenses/LICENSE-2.0\n\n        Unless required by applicable law or agreed to in writing, software distributed\n        under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n        CONDITIONS OF ANY KIND, either express or implied. See the License for the\n        specific language governing permissions and limitations under the License.\n    */\n\n    var colorbrewer = {\n        // sequential\n        OrRd: ['#fff7ec', '#fee8c8', '#fdd49e', '#fdbb84', '#fc8d59', '#ef6548', '#d7301f', '#b30000', '#7f0000'],\n        PuBu: ['#fff7fb', '#ece7f2', '#d0d1e6', '#a6bddb', '#74a9cf', '#3690c0', '#0570b0', '#045a8d', '#023858'],\n        BuPu: ['#f7fcfd', '#e0ecf4', '#bfd3e6', '#9ebcda', '#8c96c6', '#8c6bb1', '#88419d', '#810f7c', '#4d004b'],\n        Oranges: ['#fff5eb', '#fee6ce', '#fdd0a2', '#fdae6b', '#fd8d3c', '#f16913', '#d94801', '#a63603', '#7f2704'],\n        BuGn: ['#f7fcfd', '#e5f5f9', '#ccece6', '#99d8c9', '#66c2a4', '#41ae76', '#238b45', '#006d2c', '#00441b'],\n        YlOrBr: ['#ffffe5', '#fff7bc', '#fee391', '#fec44f', '#fe9929', '#ec7014', '#cc4c02', '#993404', '#662506'],\n        YlGn: ['#ffffe5', '#f7fcb9', '#d9f0a3', '#addd8e', '#78c679', '#41ab5d', '#238443', '#006837', '#004529'],\n        Reds: ['#fff5f0', '#fee0d2', '#fcbba1', '#fc9272', '#fb6a4a', '#ef3b2c', '#cb181d', '#a50f15', '#67000d'],\n        RdPu: ['#fff7f3', '#fde0dd', '#fcc5c0', '#fa9fb5', '#f768a1', '#dd3497', '#ae017e', '#7a0177', '#49006a'],\n        Greens: ['#f7fcf5', '#e5f5e0', '#c7e9c0', '#a1d99b', '#74c476', '#41ab5d', '#238b45', '#006d2c', '#00441b'],\n        YlGnBu: ['#ffffd9', '#edf8b1', '#c7e9b4', '#7fcdbb', '#41b6c4', '#1d91c0', '#225ea8', '#253494', '#081d58'],\n        Purples: ['#fcfbfd', '#efedf5', '#dadaeb', '#bcbddc', '#9e9ac8', '#807dba', '#6a51a3', '#54278f', '#3f007d'],\n        GnBu: ['#f7fcf0', '#e0f3db', '#ccebc5', '#a8ddb5', '#7bccc4', '#4eb3d3', '#2b8cbe', '#0868ac', '#084081'],\n        Greys: ['#ffffff', '#f0f0f0', '#d9d9d9', '#bdbdbd', '#969696', '#737373', '#525252', '#252525', '#000000'],\n        YlOrRd: ['#ffffcc', '#ffeda0', '#fed976', '#feb24c', '#fd8d3c', '#fc4e2a', '#e31a1c', '#bd0026', '#800026'],\n        PuRd: ['#f7f4f9', '#e7e1ef', '#d4b9da', '#c994c7', '#df65b0', '#e7298a', '#ce1256', '#980043', '#67001f'],\n        Blues: ['#f7fbff', '#deebf7', '#c6dbef', '#9ecae1', '#6baed6', '#4292c6', '#2171b5', '#08519c', '#08306b'],\n        PuBuGn: ['#fff7fb', '#ece2f0', '#d0d1e6', '#a6bddb', '#67a9cf', '#3690c0', '#02818a', '#016c59', '#014636'],\n        Viridis: ['#440154', '#482777', '#3f4a8a', '#31678e', '#26838f', '#1f9d8a', '#6cce5a', '#b6de2b', '#fee825'],\n\n        // diverging\n\n        Spectral: ['#9e0142', '#d53e4f', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#e6f598', '#abdda4', '#66c2a5', '#3288bd', '#5e4fa2'],\n        RdYlGn: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#d9ef8b', '#a6d96a', '#66bd63', '#1a9850', '#006837'],\n        RdBu: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#f7f7f7', '#d1e5f0', '#92c5de', '#4393c3', '#2166ac', '#053061'],\n        PiYG: ['#8e0152', '#c51b7d', '#de77ae', '#f1b6da', '#fde0ef', '#f7f7f7', '#e6f5d0', '#b8e186', '#7fbc41', '#4d9221', '#276419'],\n        PRGn: ['#40004b', '#762a83', '#9970ab', '#c2a5cf', '#e7d4e8', '#f7f7f7', '#d9f0d3', '#a6dba0', '#5aae61', '#1b7837', '#00441b'],\n        RdYlBu: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee090', '#ffffbf', '#e0f3f8', '#abd9e9', '#74add1', '#4575b4', '#313695'],\n        BrBG: ['#543005', '#8c510a', '#bf812d', '#dfc27d', '#f6e8c3', '#f5f5f5', '#c7eae5', '#80cdc1', '#35978f', '#01665e', '#003c30'],\n        RdGy: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#ffffff', '#e0e0e0', '#bababa', '#878787', '#4d4d4d', '#1a1a1a'],\n        PuOr: ['#7f3b08', '#b35806', '#e08214', '#fdb863', '#fee0b6', '#f7f7f7', '#d8daeb', '#b2abd2', '#8073ac', '#542788', '#2d004b'],\n\n        // qualitative\n\n        Set2: ['#66c2a5', '#fc8d62', '#8da0cb', '#e78ac3', '#a6d854', '#ffd92f', '#e5c494', '#b3b3b3'],\n        Accent: ['#7fc97f', '#beaed4', '#fdc086', '#ffff99', '#386cb0', '#f0027f', '#bf5b17', '#666666'],\n        Set1: ['#e41a1c', '#377eb8', '#4daf4a', '#984ea3', '#ff7f00', '#ffff33', '#a65628', '#f781bf', '#999999'],\n        Set3: ['#8dd3c7', '#ffffb3', '#bebada', '#fb8072', '#80b1d3', '#fdb462', '#b3de69', '#fccde5', '#d9d9d9', '#bc80bd', '#ccebc5', '#ffed6f'],\n        Dark2: ['#1b9e77', '#d95f02', '#7570b3', '#e7298a', '#66a61e', '#e6ab02', '#a6761d', '#666666'],\n        Paired: ['#a6cee3', '#1f78b4', '#b2df8a', '#33a02c', '#fb9a99', '#e31a1c', '#fdbf6f', '#ff7f00', '#cab2d6', '#6a3d9a', '#ffff99', '#b15928'],\n        Pastel2: ['#b3e2cd', '#fdcdac', '#cbd5e8', '#f4cae4', '#e6f5c9', '#fff2ae', '#f1e2cc', '#cccccc'],\n        Pastel1: ['#fbb4ae', '#b3cde3', '#ccebc5', '#decbe4', '#fed9a6', '#ffffcc', '#e5d8bd', '#fddaec', '#f2f2f2'],\n    };\n\n    // add lowercase aliases for case-insensitive matches\n    for (var i = 0, list = Object.keys(colorbrewer); i < list.length; i += 1) {\n        var key = list[i];\n\n        colorbrewer[key.toLowerCase()] = colorbrewer[key];\n    }\n\n    var colorbrewer_1 = colorbrewer;\n\n    var chroma = chroma_1;\n\n    // feel free to comment out anything to rollup\n    // a smaller chroma.js built\n\n    // io --> convert colors\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    // operators --> modify existing Colors\n\n\n\n\n\n\n\n\n\n\n    // interpolators\n\n\n\n\n\n\n\n\n\n\n\n\n    // generators -- > create new colors\n    chroma.average = average;\n    chroma.bezier = bezier_1;\n    chroma.blend = blend_1;\n    chroma.cubehelix = cubehelix;\n    chroma.mix = chroma.interpolate = mix$1;\n    chroma.random = random_1;\n    chroma.scale = scale$2;\n\n    // other utility methods\n    chroma.analyze = analyze_1.analyze;\n    chroma.contrast = contrast;\n    chroma.deltaE = deltaE;\n    chroma.distance = distance;\n    chroma.limits = analyze_1.limits;\n    chroma.valid = valid;\n\n    // scale\n    chroma.scales = scales;\n\n    // colors\n    chroma.colors = w3cx11_1;\n    chroma.brewer = colorbrewer_1;\n\n    var chroma_js = chroma;\n\n    return chroma_js;\n\n}));\n","module.exports = \"<div>\\n  {{#each attributes}}\\n  <option value=\\\"{{this.name}}\\\" {{#eq this.name this.selected}}selected{{/eq}}>{{this.name}}</option>\\n  {{/each}}\\n</div>\\n\";","module.exports = \"<div class=\\\"\\\">\\n    <table class=\\\"m-table-category\\\">\\n        <tr>\\n            <th>{{translations.attributeValue}}</th>\\n            <th>{{translations.preview}}</th>\\n        </tr>\\n        {{#each values}}\\n            <tr>\\n                <td id=\\\"{{this.name}}\\\">{{this.name}}</td>\\n                <td><img id=\\\"img-{{this.name}}\\\" src=\\\"xxxHTMLLINKxxx0.93643730926751420.40164303946819735xxx\\\" alt=\\\"\\\"></td>\\n            </tr>\\n        {{/each}} {{#if attributeExists}}\\n            <tr>\\n                <td id=\\\"other\\\">{{translations.others}}</td>\\n                <td><img id=\\\"img-other\\\" src=\\\"xxxHTMLLINKxxx0.89163466635276610.5429566136691584xxx\\\" alt=\\\"\\\"></td>\\n            </tr>\\n        {{/if}}\\n    </table>\\n</div>\";","module.exports = \"<div data-category-section>\\n    <div class=\\\"styles-row m-hidden m-simple-category\\\" data-id=\\\"fill\\\">\\n        <div class=\\\"title\\\"> {{translations.options}}</div>\\n        <div class=\\\"m-styles-body\\\">\\n\\n            <div class=\\\"group-row\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span>Color:</span>\\n                    <input data-style-options=\\\"fill.color\\\" type=\\\"color\\\" value=\\\"{{fill.color}}\\\">\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>{{translations.opacity}}:</span>\\n                    <input data-style-options=\\\"fill.opacity\\\" type=\\\"number\\\" value=\\\"{{fill.opacity}}\\\" min=\\\"0\\\" step=\\\"0.1\\\" max=\\\"1\\\">\\n                </div>\\n            </div>\\n\\n            <div class=\\\"group-row\\\" data-geometry=\\\"point\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span>{{translations.radius}}:</span>\\n                    <input data-style-options=\\\"radius\\\" type=\\\"number\\\" value=\\\"{{radius}}\\\" min=\\\"1\\\" max=\\\"60\\\">\\n                </div>\\n            </div>\\n\\n            <div class=\\\"group-row\\\" data-geometry=\\\"line\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span>{{translations.width}}:</span>\\n                    <input value=\\\"{{fill.width}}\\\" type=\\\"number\\\" data-style-options=\\\"fill.width\\\">\\n                </div>\\n            </div>\\n            <!-- Polygon Pattern -->\\n            <div class=\\\"subtitle\\\" data-geometry=\\\"pattern\\\">{{translations.patternOptions}}</div>\\n\\n            <div class=\\\"group-row\\\" data-geometry=\\\"pattern\\\">\\n                <div class=\\\"style-col-1 input-reverse\\\">\\n                    <span>{{translations.pattern}}</span>\\n                    <input data-apply=\\\"fill.pattern\\\" type=\\\"checkbox\\\" {{#if patternflag }}checked{{/if}}>\\n                </div>\\n            </div>\\n\\n            <div class=\\\"group-row\\\" data-geometry=\\\"pattern\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span>{{translations.type}}:</span>\\n                    <select data-style-options=\\\"fill.pattern.name\\\">\\n                        {{#each patternlist}}\\n                            <option value=\\\"{{#lowercase this.name}}{{/lowercase}}\\\" {{#eq this.name this.selected}} selected {{/eq}}>\\n                                {{this.name}}</option>\\n                        {{/each}}\\n                    </select>\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>Color:</span>\\n                    <input value=\\\"{{fill.pattern.color}}\\\" type=\\\"color\\\" data-style-options=\\\"fill.pattern.color\\\">\\n                </div>\\n            </div>\\n\\n            <div class=\\\"group-row\\\" data-geometry=\\\"pattern\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span>{{translations.size}}:</span>\\n                    <input value=\\\"{{fill.pattern.size}}\\\" type=\\\"number\\\" min=\\\"1\\\" max=\\\"100\\\" data-style-options=\\\"fill.pattern.size\\\">\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>{{translations.space}}:</span>\\n                    <input value=\\\"{{fill.pattern.spacing}}\\\" type=\\\"number\\\" min=\\\"1\\\" max=\\\"100\\\" data-style-options=\\\"fill.pattern.spacing\\\">\\n                </div>\\n            </div>\\n\\n            <div class=\\\"group-row\\\" data-geometry=\\\"pattern\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span>{{translations.rotation}}:</span>\\n                    <input value=\\\"{{fill.pattern.rotation}}\\\" type=\\\"number\\\" min=\\\"0\\\" max=\\\"360\\\" step=\\\"1\\\" data-style-options=\\\"fill.pattern.rotation\\\">\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>{{translations.scale}}:</span>\\n                    <input value=\\\"{{fill.pattern.scale}}\\\" type=\\\"number\\\" min=\\\"1\\\" max=\\\"30\\\" data-style-options=\\\"fill.pattern.scale\\\">\\n                </div>\\n            </div>\\n            <div class=\\\"group-row\\\" data-geometry=\\\"pattern\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span>Offset:</span>\\n                    <input value=\\\"{{fill.pattern.offset}}\\\" type=\\\"number\\\" min=\\\"1\\\" data-style-options=\\\"fill.pattern.offset\\\">\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <!-- Stroke options -->\\n    <div class=\\\"styles-row m-hidden m-simple-category\\\" data-id=\\\"stroke\\\">\\n        <div class=\\\"title\\\">{{translations.options}}</div>\\n        <div class=\\\"m-styles-body\\\">\\n\\n            <div class=\\\"group-row\\\">\\n\\n                <div class=\\\"style-col-1\\\">\\n                    <span>Color:</span>\\n                    <input value=\\\"{{stroke.color}}\\\" type=\\\"color\\\" data-style-options=\\\"stroke.color\\\">\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>{{translations.width}}:</span>\\n                    <input value=\\\"{{stroke.width}}\\\" type=\\\"number\\\" value=\\\"2\\\" min=\\\"1\\\" data-style-options=\\\"stroke.width\\\">\\n                </div>\\n\\n            </div>\\n            <div class=\\\"group-row\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span>{{translations.opacity}}:</span>\\n                    <input value=\\\"{{stroke.opacity}}\\\" type=\\\"number\\\" min=\\\"0\\\" step=\\\"0.1\\\" max=\\\"1\\\" data-style-options=\\\"stroke.opacity\\\">\\n                </div>\\n            </div>\\n            <div class=\\\"group-row\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span>Linedash:</span>\\n                    <input value=\\\"{{#get 0 stroke.linedash}}{{/get}}\\\" type=\\\"number\\\" data-target=\\\"stroke.linedash\\\" data-style-options=\\\"stroke.linedash\\\">\\n                    <span class=\\\"empty\\\">&nbsp;</span>\\n                    <input value=\\\"{{#get 1 stroke.linedash}}{{/get}}\\\" type=\\\"number\\\" data-id=\\\"stroke.linedash\\\">\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>Linedash Offset:</span>\\n                    <input type=\\\"number\\\" value=\\\"{{stroke.linedashoffset}}\\\" data-style-options=\\\"stroke.linedashoffset\\\">\\n                </div>\\n            </div>\\n\\n            <div class=\\\"group-row\\\">\\n\\n                <div class=\\\"style-col-1\\\">\\n                    <span>Line Cap</span>\\n                    <select data-style-options=\\\"stroke.linecap\\\">\\n                        <option value=\\\"\\\">{{translations.none}}</option>\\n                        {{#each linecapstroke}}\\n                            <option value=\\\"{{this.name}}\\\" {{#eq this.name this.selected}}selected{{/eq}}>{{this.name}}</option>\\n                        {{/each}}\\n                    </select>\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>Line Join</span>\\n                    <select data-style-options=\\\"stroke.linejoin\\\">\\n                        <option value=\\\"\\\">{{translations.none}}</option>\\n                        {{#each linejoinstroke}}\\n                            <option value=\\\"{{this.name}}\\\" {{#eq this.name this.selected}}selected{{/eq}}> {{this.name}}</option>\\n                        {{/each}}\\n                    </select>\\n                </div>\\n\\n            </div>\\n        </div>\\n    </div>\\n\\n    <!-- Label options -->\\n    <div class=\\\"styles-row m-hidden m-simple-category m-label-option\\\" data-id=\\\"label\\\">\\n        <div class=\\\"title\\\">{{translations.options}}</div>\\n        <div class=\\\"m-styles-body\\\">\\n\\n            <div class=\\\"group-row\\\">\\n\\n                <div class=\\\"style-col-1\\\">\\n                    <span>Color</span>\\n                    <input value=\\\"{{label.fill.color}}\\\" type=\\\"color\\\" data-style-options=\\\"label.color\\\" value=\\\"#0d5cdc\\\">\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>{{translations.text}}:</span>\\n                    <select data-style-options=\\\"label.text\\\">\\n                        {{#each featuresAttr}}\\n                            <option value=\\\"{{this.id}}\\\" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\\n                        {{/each}}\\n                    </select>\\n                </div>\\n            </div>\\n\\n            <div class=\\\"group-row\\\">\\n\\n                <div class=\\\"style-col-1\\\">\\n                    <span>{{translations.font}}:</span>\\n                    <select data-font-family>\\n                        <option value=\\\"serif\\\">Serif</option>\\n                        <option value=\\\"sans-serif\\\">Sans-Serif</option>\\n                        <option value=\\\"mono\\\">Mono</option>\\n                    </select>\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>{{translations.size}}:</span>\\n                    <input data-font-size type=\\\"number\\\" min=\\\"1\\\" value=\\\"12\\\">\\n                </div>\\n            </div>\\n\\n            <div class=\\\"group-row\\\">\\n\\n                <div class=\\\"style-col-1\\\">\\n                    <span>{{translations.horizontalAlignment}}:</span>\\n                    <select data-style-options=\\\"label.align\\\">\\n                        {{#each alignlist}}\\n                            <option value=\\\"{{this.name}}\\\" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\\n                        {{/each}}\\n                    </select>\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>{{translations.verticalAlignment}}:</span>\\n                    <select data-style-options=\\\"label.baseline\\\">\\n                        {{#each baselinelist}}\\n                            <option value=\\\"{{this.name}}\\\" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\\n                        {{/each}}\\n                    </select>\\n                </div>\\n\\n            </div>\\n\\n            <div class=\\\"group-row\\\">\\n\\n                <div class=\\\"style-col-1 input-reverse\\\">\\n                    <span>{{translations.enableRotation}}</span>\\n                    <input {{#if label.rotate}}checked{{/if}} type=\\\"checkbox\\\" data-style-options=\\\"label.rotate\\\">\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>{{translations.rotate}}:</span>\\n                    <input value=\\\"{{label.rotation}}\\\" type=\\\"number\\\" step=\\\"0.1\\\" data-style-options=\\\"label.rotation\\\">\\n                </div>\\n\\n            </div>\\n\\n            <div class=\\\"group-row\\\">\\n\\n                <div class=\\\"style-col-1\\\">\\n                    <span>{{translations.scale}}:</span>\\n                    <input value=\\\"{{label.scale}}\\\" type=\\\"number\\\" max=\\\"3\\\" min=\\\"0\\\" step=\\\"0.1\\\" value=\\\"2\\\" data-style-options=\\\"label.scale\\\">\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>Offset:</span>\\n                    <input value=\\\"{{#get 0 label.offset}}{{/get}}\\\" type=\\\"number\\\" data-target=\\\"label.offset\\\" data-style-options=\\\"label.offset\\\">\\n                    <span class=\\\"empty\\\">&nbsp;</span>\\n                    <input value=\\\"{{#get 1 label.offset}}{{/get}}\\\" type=\\\"number\\\" data-id=\\\"label.offset\\\">\\n                </div>\\n\\n            </div>\\n\\n            <!-- TextPath Options -->\\n\\n            <div class=\\\"group-row\\\" data-geometry=\\\"line\\\">\\n\\n                <div class=\\\"style-col-1 input-reverse\\\">\\n                    <span>{{translations.adjust}}</span>\\n                    <input {{#if label.path}}checked{{/if}} type=\\\"checkbox\\\" data-style-options=\\\"label.path\\\">\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>{{translations.minimumWidth}}:</span>\\n                    <input value=\\\"{{label.minwidth}}\\\" type=\\\"number\\\" min=\\\"1\\\" max=\\\"200\\\" value=\\\"10\\\" data-style-options=\\\"label.minwidth\\\" data-textpath {{#unless label.path}}disabled{{/unless}}>\\n                </div>\\n\\n            </div>\\n\\n            <div class=\\\"group-row\\\" data-geometry=\\\"line\\\">\\n\\n                <div class=\\\"style-col-1 input-reverse\\\">\\n                    <span>{{translations.smooth}}</span>\\n                    <input {{#if label.smooth}}checked{{/if}} type=\\\"checkbox\\\" data-style-options=\\\"label.smooth\\\" data-textpath {{#unless label.path}}disabled{{/unless}}>\\n                </div>\\n\\n                <div class=style-col-2>\\n                    <span>{{translations.overflow}}:</span>\\n                    <select data-style-options=\\\"label.textoverflow\\\" data-textpath {{#unless label.path}}disabled{{/unless}}>\\n                        <option value=\\\"hidden\\\">{{translations.hidden}}</option>\\n                        <option value=\\\"visible\\\">{{translations.visible}}</option>\\n                        <option value=\\\"ellipsis\\\">{{translations.ellipsis}}</option>\\n                    </select>\\n                </div>\\n\\n            </div>\\n\\n            <!-- Stroke Label -->\\n            <div class=\\\"subtitle\\\">{{translations.labelStroke}}:</div>\\n            <div class=\\\"group-row\\\">\\n\\n                <div class=\\\"style-col-1 input-reverse\\\">\\n                    <span>{{translations.stroke}}</span>\\n                    <input type=\\\"checkbox\\\" data-apply=\\\"label.stroke\\\" {{#neq label.stroke.color 'no-color' }}checked{{/neq}}>\\n                </div>\\n\\n            </div>\\n            <div class=\\\"group-row\\\">\\n\\n                <div class=\\\"style-col-1\\\">\\n                    <span>Color:</span>\\n                    <input type=\\\"color\\\" data-style-options=\\\"label.stroke.color\\\" {{#neq label.stroke.color 'no-color'\\n            }}value=\\\"{{label.stroke.color}}\\\" {{/neq}}>\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>{{translations.width}}:</span>\\n                    <input value=\\\"{{label.stroke.width}}\\\" type=\\\"number\\\" value=\\\"2\\\" max=\\\"15\\\" min=\\\"1\\\" data-style-options=\\\"label.stroke.width\\\">\\n                </div>\\n\\n            </div>\\n\\n            <div class=\\\"group-row\\\">\\n\\n                <div class=\\\"style-col-1\\\">\\n                    <span>Line Dash:</span>\\n                    <input value=\\\"{{#get 0 label.stroke.linedash}}{{/get}}\\\" type=\\\"number\\\" data-target=\\\"label.stroke.linedash\\\" data-style-options=\\\"label.stroke.linedash\\\" data-format=\\\"array\\\">\\n                    <span class=\\\"empty\\\">&nbsp;</span>\\n                    <input value=\\\"{{#get 1 label.stroke.linedash}}{{/get}}\\\" type=\\\"number\\\" data-id=\\\"label.stroke.linedash\\\">\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>Line Dash Offset:</span>\\n                    <input type=\\\"number\\\" value=\\\"{{label.stroke.linedashoffset}}\\\" data-style-options=\\\"label.stroke.linedashoffset\\\">\\n                </div>\\n\\n            </div>\\n\\n            <div class=\\\"group-row\\\">\\n\\n                <div class=\\\"style-col-1\\\">\\n                    <span>Line Cap:</span>\\n                    <select data-style-options=\\\"label.stroke.linecap\\\">\\n                        {{#each linecaplabelstroke}}\\n                            <option value=\\\"{{this.id}}\\\" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\\n                        {{/each}}\\n                    </select>\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>Line Join:</span>\\n                    <select data-style-options=\\\"label.stroke.linejoin\\\">\\n                        {{#each linejoinlabelstroke}}\\n                            <option value=\\\"{{this.id}}\\\" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\\n                        {{/each}}\\n                    </select>\\n                </div>\\n            </div>\\n\\n        </div>\\n    </div>\\n\\n    <!-- Icon Options -->\\n    <div class=\\\"styles-row m-hidden m-simple-category\\\" data-id=\\\"icon\\\">\\n        <div class=\\\"title\\\">{{translations.options}}</div>\\n\\n        <div class=\\\"m-styles-body\\\">\\n\\n\\n            <!-- Point Icon -->\\n            <div data-pointicon class=\\\"group-row\\\">\\n\\n                <div class=\\\"style-col-1\\\">\\n                    <span>URL</span>\\n                    <input value=\\\"{{icon.src}}\\\" type=\\\"url\\\" data-style-options=\\\"src.src\\\">\\n                </div>\\n                <div class=\\\"style-col-2\\\">\\n                    <span>{{translations.size}}:</span>\\n                    <input {{#if icon.size}}value=\\\"{{#get 0 icon.size}}{{/get}}\\\" {{/if}} type=\\\"number\\\" data-undefined data-target=\\\"size\\\" data-style-options=\\\"src.size\\\">\\n                    <span class=\\\"empty\\\">&nbsp;</span>\\n                    <input {{#if icon.size}}value=\\\"{{#get 1 icon.size}}{{/get}}\\\" {{/if}} type=\\\"number\\\" data-undefined data-id=\\\"size\\\">\\n                </div>\\n\\n\\n            </div>\\n\\n            <div data-pointicon class=\\\"group-row\\\">\\n\\n\\n                <div class=\\\"style-col-2 input-reverse m-hidden\\\">\\n                    <span>Snap to pixel</span>\\n                    <input {{#if icon.snaptopixel}}checked{{/if}} type=\\\"checkbox\\\" data-style-options=\\\"src.snaptopixel\\\">\\n                </div>\\n\\n            </div>\\n\\n            <div data-pointicon class=\\\"group-row\\\">\\n\\n                <div class=\\\"style-col-1\\\">\\n                    <span>{{translations.anchorage}}:</span>\\n                    <input value=\\\"{{#get 0 icon.anchor}}{{/get}}\\\" type=\\\"number\\\" data-target=\\\"anchor\\\" data-style-options=\\\"src.anchor\\\">\\n                    <span class=\\\"empty\\\">&nbsp;</span>\\n                    <input value=\\\"{{#get 1 icon.anchor}}{{/get}}\\\" type=\\\"number\\\" data-id=\\\"anchor\\\">\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>{{translations.scale}}:</span>\\n                    <input value=\\\"{{icon.scale}}\\\" type=\\\"number\\\" data-style-options=\\\"src.scale\\\" max=\\\"3\\\" min=\\\"0\\\" step=\\\"0.1\\\">\\n                </div>\\n            </div>\\n\\n\\n\\n            <!-- Common -->\\n            <div data-common-icon class=\\\"group-row\\\">\\n\\n                <div class=\\\"style-col-1\\\">\\n                    <span>Offset:</span>\\n                    <input value=\\\"{{#get 0 icon.offset}}{{/get}}\\\" type=\\\"number\\\" data-target=\\\"icon-offset\\\" data-style-options=\\\"src.offset\\\">\\n                    <span class=\\\"empty\\\">&nbsp;</span>\\n                    <input value=\\\"{{#get 1 icon.offset}}{{/get}}\\\" type=\\\"number\\\" data-id=\\\"icon-offset\\\" />\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>{{translations.opacity}}:</span>\\n                    <input value=\\\"{{icon.opacity}}\\\" type=\\\"number\\\" step=\\\"0.1\\\" min=0 max=1 data-style-options=\\\"src.opacity\\\">\\n                </div>\\n            </div>\\n\\n            <div data-common-icon class=\\\"group-row\\\">\\n\\n                <div class=\\\"style-col-1 input-reverse\\\">\\n                    <span>{{translations.enableRotation}}</span>\\n                    <input {{#if icon.rotate}}checked {{/if}} type=\\\"checkbox\\\" data-style-options=\\\"src.rotate\\\">\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>{{translations.rotate}}:</span>\\n                    <input value=\\\"{{icon.rotation}}\\\" type=\\\"number\\\" min=0 max=360 data-style-options=\\\"src.rotation\\\">\\n                </div>\\n\\n            </div>\\n\\n        </div>\\n    </div>\\n\\n    <!-- Form Options -->\\n    <div class=\\\"styles-row m-hidden m-simple-category\\\" data-id=\\\"form\\\">\\n        <div class=\\\"title\\\">{{translations.options}}</div>\\n        <div class=\\\"m-styles-body\\\">\\n\\n            <!-- Point Font -->\\n            <div data-pointfont class=\\\"group-row\\\">\\n\\n                <div class=\\\"style-col-1\\\">\\n                    <span>bkColor:</span>\\n                    <input type=\\\"color\\\" data-style-options=\\\"form.fill\\\" value=\\\"{{icon.fill}}\\\">\\n                </div>\\n\\n            </div>\\n\\n            <div data-pointfont class=\\\"group-row\\\">\\n\\n                <div class=\\\"style-col-1\\\">\\n                    <span>{{translations.form}}:</span>\\n                    <select data-style-options=\\\"form.form\\\">\\n                        {{#each formlist}}\\n                            <option value=\\\"{{this.id}}\\\" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\\n                        {{/each}}\\n                    </select>\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>{{translations.family}}:</span>\\n                    <select data-style-options=\\\"form.class\\\" data-icon=\\\"{{icon.class}}\\\">\\n                        <option value=\\\"\\\" selected>None</option>\\n                        <option value=\\\"g-cartografia\\\">G-Cartografa</option>\\n                        <option value=\\\"fa\\\">Font Awesome</option>\\n                    </select>\\n                    <button id=\\\"select-icon\\\" class=\\\"g-cartografia-info\\\"></button>\\n                    <div class=\\\"style-grid-container\\\">\\n                        <div class=\\\"style-grid-item g-cartografia-spinner\\\"></div>\\n                        <div class=\\\"style-grid-item g-cartografia-posicion3\\\"></div>\\n                        <div class=\\\"style-grid-item g-cartografia-brujula-norte\\\"></div>\\n                        <div class=\\\"style-grid-item g-cartografia-capas2\\\"></div>\\n                        <div class=\\\"style-grid-item g-cartografia-comentarios\\\"></div>\\n                        <div class=\\\"style-grid-item g-cartografia-escala3\\\"></div>\\n                        <div class=\\\"style-grid-item g-cartografia-flecha\\\"></div>\\n                        <div class=\\\"style-grid-item g-cartografia-flecha-abajo\\\"></div>\\n                        <div class=\\\"style-grid-item g-cartografia-flecha-arriba\\\"></div>\\n                        <div class=\\\"style-grid-item g-cartografia-flecha-derecha\\\"></div>\\n                        <div class=\\\"style-grid-item g-cartografia-flecha-izquierda\\\"></div>\\n                        <div class=\\\"style-grid-item g-cartografia-gps2\\\"></div>\\n                        <div class=\\\"style-grid-item g-cartografia-info\\\"></div>\\n                        <div class=\\\"style-grid-item g-cartografia-papelera\\\"></div>\\n                        <div class=\\\"style-grid-item g-cartografia-pin\\\"></div>\\n                        <div class=\\\"style-grid-item g-cartografia-zoom-extension\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-glass\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-music\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-search\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-envelope-o\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-heart\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-star\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-star-o\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-user\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-film\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-th-large\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-th\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-th-list\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-check\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-remove\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-close\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-times\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-search-plus\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-search-minus\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-power-off\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-signal\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-gear\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-cog\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-trash-o\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-home\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-file-o\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-clock-o\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-road\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-download\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-arrow-circle-o-down\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-arrow-circle-o-up\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-inbox\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-play-circle-o\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-rotate-right\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-repeat\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-refresh\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-list-alt\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-lock\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-flag\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-headphones\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-volume-off\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-volume-down\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-volume-up\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-qrcode\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-barcode\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-tag\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-tags\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-book\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-bookmark\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-print\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-camera\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-font\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-bold\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-italic\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-text-height\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-text-width\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-align-left\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-align-center\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-align-right\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-align-justify\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-list\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-dedent\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-outdent\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-indent\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-video-camera\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-photo\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-image\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-picture-o\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-pencil\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-map-marker\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-adjust\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-tint\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-edit\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-pencil-square-o\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-share-square-o\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-check-square-o\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-arrows\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-step-backward\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-fast-backward\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-backward\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-play\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-pause\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-stop\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-forward\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-fast-forward\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-step-forward\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-eject\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-chevron-left\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-chevron-right\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-plus-circle\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-minus-circle\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-times-circle\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-check-circle\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-question-circle\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-info-circle\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-crosshairs\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-times-circle-o\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-check-circle-o\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-ban\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-arrow-left\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-arrow-right\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-arrow-up\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-arrow-down\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-mail-forward\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-share\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-expand\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-compress\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-plus\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-minus\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-asterisk\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-exclamation-circle\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-gift\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-leaf\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-fire\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-eye\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-eye-slash\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-warning\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-exclamation-triangle\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-plane\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-calendar\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-random\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-comment\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-magnet\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-chevron-up\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-chevron-down\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-retweet\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-shopping-cart\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-folder\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-folder-open\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-arrows-v\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-arrows-h\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-bar-t-o\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-bar-t\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-twitter-square\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-facebook-square\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-camera-retro\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-key\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-gears\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-cogs\\\"></div>\\n                        <div class=\\\"style-grid-item fa fa-comments\\\"></div>\\n                    </div>\\n                </div>\\n\\n            </div>\\n\\n            <div data-pointfont class=\\\"group-row\\\">\\n\\n                <div class=\\\"style-col-1\\\">\\n                    <span>{{translation.radius}}:</span>\\n                    <input type=\\\"number\\\" min=\\\"1\\\" max=\\\"100\\\" value=\\\"20\\\" data-style-options=\\\"form.radius\\\" value=\\\"{{icon.radius}}\\\">\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>{{translation.iconSize}}:</span>\\n                    <input type=\\\"number\\\" step=\\\"0.1\\\" min=0 max=100 data-style-options=\\\"form.fontsize\\\" value=\\\"{{icon.fontsize}}\\\">\\n                </div>\\n\\n\\n            </div>\\n\\n            <div data-pointfont class=\\\"group-row\\\">\\n\\n                <div class=\\\"style-col-1 input-reverse\\\">\\n                    <span>{{translation.gradient}}</span>\\n                    <input type=\\\"checkbox\\\" data-style-options=\\\"form.gradient\\\" {{#if icon.gradient}}checked{{/if}}>\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>{{translation.iconColor}}:</span>\\n                    <input type=\\\"color\\\" data-style-options=\\\"form.color\\\" value=\\\"{{icon.color}}\\\">\\n                </div>\\n            </div>\\n\\n            <!-- Common -->\\n            <div data-common-icon class=\\\"group-row\\\">\\n\\n                <div class=\\\"style-col-1\\\">\\n                    <span>Offset:</span>\\n                    <input value=\\\"{{#get 0 icon.offset}}{{/get}}\\\" type=\\\"number\\\" data-target=\\\"form-offset\\\" data-style-options=\\\"form.offset\\\">\\n                    <span class=\\\"empty\\\">&nbsp;</span>\\n                    <input value=\\\"{{#get 1 icon.offset}}{{/get}}\\\" type=\\\"number\\\" data-id=\\\"form-offset\\\" />\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>{{translation.opacity}}:</span>\\n                    <input value=\\\"{{icon.opacity}}\\\" type=\\\"number\\\" step=\\\"0.1\\\" min=0 max=1 data-style-options=\\\"form.opacity\\\">\\n                </div>\\n            </div>\\n\\n            <div data-common-icon class=\\\"group-row\\\">\\n\\n                <div class=\\\"style-col-1 input-reverse\\\">\\n                    <span>{{translation.enableRotation}}</span>\\n                    <input {{#if icon.rotate}}checked {{/if}} type=\\\"checkbox\\\" data-style-options=\\\"form.rotate\\\">\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>{{translation.rotate}}:</span>\\n                    <input value=\\\"{{icon.rotation}}\\\" type=\\\"number\\\" min=0 max=360 data-style-options=\\\"form.rotation\\\">\\n                </div>\\n\\n            </div>\\n\\n        </div>\\n    </div>\\n</div>\\n</div>\";","module.exports = \"<div class=\\\"m-stylemanager-control styles-panel\\\">\\n    <div class=\\\"m-stylemanager-container-select\\\">\\n        <ul>\\n            <li class=\\\"group\\\">\\n                <div class=\\\"m-stylemanager-buttons-wrap\\\">\\n                    <select class=\\\"\\\" id=\\\"m-stylemanager-select\\\">\\n                        <option disabled=\\\"disabled\\\" selected=\\\"selected\\\">{{translations.selectLayer}}</option>\\n                        {{#each layers}}\\n                            <option name={{this.name}}>{{this.name}}</option>\\n                        {{/each}}\\n                    </select>\\n                    <button title=\\\"{{translations.applyStyle}}\\\" class=\\\"m-button-styles\\\" data-apply-style><i class=\\\"gi-1x stylemanager-apply\\\"></i></button>\\n                    <button title=\\\"{{translations.clearStyle}}\\\" class=\\\"m-button-styles\\\" data-clear-style><i class=\\\"gi-1x stylemanager-reset\\\"></i></button>\\n                    <button title=\\\"{{translations.generateSerialized}}\\\" class=\\\"m-button-styles\\\" data-serialized-style><i class=\\\"gi-1x stylemanager-copy\\\"></i></button>\\n                </div>\\n            </li>\\n        </ul>\\n\\n        <div class=\\\"m-boxes m-hidden m-boxes-botonera\\\" data-role=\\\"botonera\\\">\\n            <input data-checkbox=\\\"stylesimple\\\" type=\\\"checkbox\\\" class=\\\"m-input\\\" id=\\\"box-4\\\">\\n            <label data-flap=\\\"stylesimple\\\" for=\\\"box-4\\\" class=\\\"check-selected check-inactive\\\"></label>\\n            <label><i class=\\\"gi-1x stylemanager-simple\\\"></i> Simple</label>\\n\\n            <!-- submenu -->\\n            <div data-buttons-option class=\\\"m-submenu-simple\\\">\\n            </div>\\n\\n            <!-- fin submenu -->\\n            <input data-checkbox=\\\"styleflowline\\\" type=\\\"checkbox\\\" class=\\\"m-input\\\" id=\\\"box-8\\\">\\n            <label data-flap=\\\"styleflowline\\\" for=\\\"box-8\\\" class=\\\"check-selected check-inactive\\\"></label>\\n            <label><i class=\\\"gi-1x stylemanager-arrow\\\"></i>{{translations.flowLine}}</label>\\n\\n            <input data-checkbox=\\\"stylecluster\\\" type=\\\"checkbox\\\" class=\\\"m-input\\\" id=\\\"box-1\\\">\\n            <label data-flap=\\\"stylecluster\\\" for=\\\"box-1\\\" class=\\\"check-selected check-inactive\\\"></label>\\n            <label><i class=\\\"gi-1x stylemanager-cluster\\\"></i>Cluster</label>\\n\\n            <input data-checkbox=\\\"styleheatmap\\\" type=\\\"checkbox\\\" class=\\\"m-input\\\" id=\\\"box-2\\\">\\n            <label data-flap=\\\"styleheatmap\\\" for=\\\"box-2\\\" class=\\\"check-selected check-inactive\\\"></label>\\n            <label><i class=\\\"gi-1x stylemanager-heatmap\\\"></i>{{translations.heatMap}}</label>\\n\\n            <input data-checkbox=\\\"stylecategory\\\" type=\\\"checkbox\\\" class=\\\"m-input\\\" id=\\\"box-3\\\">\\n            <label data-flap=\\\"stylecategory\\\" for=\\\"box-3\\\" class=\\\"check-selected check-inactive\\\"></label>\\n            <label><i class=\\\"gi-1x stylemanager-category\\\"></i>{{translations.category}}</label>\\n\\n            <div data-buttons-option-category class=\\\"m-hidden m-submenu-simple\\\">\\n            </div>\\n\\n            <input data-checkbox=\\\"stylechoropleth\\\" type=\\\"checkbox\\\" class=\\\"m-input\\\" id=\\\"box-5\\\">\\n            <label data-flap=\\\"stylechoropleth\\\" for=\\\"box-5\\\" class=\\\"check-selected check-inactive\\\"></label>\\n            <label><i class=\\\"gi-1x stylemanager-choro\\\"></i>{{translations.choropleths}}</label>\\n\\n            <input data-checkbox=\\\"styleproportional\\\" type=\\\"checkbox\\\" class=\\\"m-input\\\" id=\\\"box-6\\\">\\n            <label data-flap=\\\"styleproportional\\\" for=\\\"box-6\\\" class=\\\"check-selected check-inactive\\\"></label>\\n            <label><i class=\\\"gi-1x stylemanager-proportional\\\"></i>{{translations.proportional}}</label>\\n\\n            <input data-checkbox=\\\"stylechart\\\" type=\\\"checkbox\\\" class=\\\"m-input\\\" id=\\\"box-7\\\">\\n            <label data-flap=\\\"stylechart\\\" for=\\\"box-7\\\" class=\\\"check-selected check-inactive\\\"></label>\\n            <label><i class=\\\"gi-1x stylemanager-chart\\\"></i>{{translations.statistic}}</label>\\n        </div>\\n\\n\\n    </div>\\n</div>\";","module.exports = \"<select class=\\\"\\\" name=\\\"\\\">\\n  {{#each layers}}\\n  <option name=\\\"{{this.name}}\\\" {{#eq this.name this.selected}}selected{{/eq}}>{{this.name}}</option>\\n  {{/each}}\\n</select>\\n\";","module.exports = \"<div data-role=\\\"m-simple\\\" class=\\\"m-stylemanager-simple-section\\\">\\n    <!-- Fill options -->\\n    <div class=\\\"styles-row m-hidden m-simple-category\\\" data-id=\\\"fill\\\">\\n        <div class=\\\"title\\\">{{translations.options}}</div>\\n        <div class=\\\"m-styles-body\\\">\\n            <div class=\\\"subtitle\\\">{{translations.pointOptions}}<span class='g-cartografia-flecha-abajo'></span></div>\\n            <div class=\\\"content-row-hidden\\\">\\n                <div class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>Color:</span>\\n                        <input data-style-options=\\\"point.fill.color\\\" type=\\\"color\\\" value=\\\"{{point.fill.color}}\\\">\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.opacity}}:</span>\\n                        <input data-style-options=\\\"point.fill.opacity\\\" type=\\\"number\\\" value=\\\"{{point.fill.opacity}}\\\" min=\\\"0\\\" step=\\\"0.1\\\" max=\\\"1\\\">\\n                    </div>\\n                </div>\\n                <div class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>{{translations.radius}}:</span>\\n                        <input data-style-options=\\\"point.radius\\\" type=\\\"number\\\" value=\\\"{{point.radius}}\\\" min=\\\"1\\\" max=\\\"60\\\">\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"subtitle\\\">{{translations.lineOptions}}<span class='g-cartografia-flecha-abajo'></span> </div>\\n            <div class=\\\"content-row-hidden\\\">\\n                <div class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>Color:</span>\\n                        <input data-style-options=\\\"line.fill.color\\\" type=\\\"color\\\" value=\\\"{{line.fill.color}}\\\">\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.opacity}}:</span>\\n                        <input data-style-options=\\\"line.fill.opacity\\\" type=\\\"number\\\" value=\\\"{{line.fill.opacity}}\\\" min=\\\"0\\\" step=\\\"0.1\\\" max=\\\"1\\\">\\n                    </div>\\n                </div>\\n                <div class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>{{translations.width}}:</span>\\n                        <input value=\\\"{{line.fill.width}}\\\" min=\\\"1\\\" type=\\\"number\\\" data-style-options=\\\"line.fill.width\\\">\\n                    </div>\\n                </div>\\n                <div class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1 input-reverse\\\">\\n                        <span>{{translations.pattern}}</span>\\n                        <input data-apply=\\\"line.fill.pattern\\\" type=\\\"checkbox\\\" {{#if line.patternflag }}checked{{/if}}>\\n                    </div>\\n                </div>\\n                <div class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>{{translations.type}}:</span>\\n                        <select data-style-options=\\\"line.fill.pattern.name\\\">\\n                            {{#each line.patternlist}}\\n                                <option value=\\\"{{#lowercase this.name}}{{/lowercase}}\\\" {{#eq this.name this.selected}} selected {{/eq}}>\\n                                    {{this.name}}\\n                                </option>\\n                            {{/each}}\\n                        </select>\\n                    </div>\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>Color:</span>\\n                        <input value=\\\"{{line.fill.pattern.color}}\\\" type=\\\"color\\\" data-style-options=\\\"line.fill.pattern.color\\\">\\n                    </div>\\n                </div>\\n                <div class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>{{translations.size}}:</span>\\n                        <input value=\\\"{{line.fill.pattern.size}}\\\" type=\\\"number\\\" min=\\\"1\\\" max=\\\"100\\\" data-style-options=\\\"line.fill.pattern.size\\\">\\n                    </div>\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.space}}:</span>\\n                        <input value=\\\"{{line.fill.pattern.spacing}}\\\" type=\\\"number\\\" min=\\\"1\\\" max=\\\"100\\\" data-style-options=\\\"line.fill.pattern.spacing\\\">\\n                    </div>\\n                </div>\\n                <div class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>{{translations.rotation}}:</span>\\n                        <input value=\\\"{{line.fill.pattern.rotation}}\\\" type=\\\"number\\\" data-style-options=\\\"line.fill.pattern.rotation\\\">\\n                    </div>\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.scale}}:</span>\\n                        <input value=\\\"{{line.fill.pattern.scale}}\\\" type=\\\"number\\\" min=\\\"1\\\" max=\\\"30\\\" data-style-options=\\\"line.fill.pattern.scale\\\">\\n                    </div>\\n                </div>\\n                <div class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>Offset:</span>\\n                        <input value=\\\"{{line.fill.pattern.offset}}\\\" type=\\\"number\\\" data-style-options=\\\"line.fill.pattern.offset\\\">\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"subtitle\\\">{{translations.polygonOptions}}<span class='g-cartografia-flecha-abajo'></span></div>\\n            <div class=\\\"content-row-hidden\\\">\\n                <div class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>Color:</span>\\n                        <input data-style-options=\\\"polygon.fill.color\\\" type=\\\"color\\\" value=\\\"{{polygon.fill.color}}\\\">\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.opacity}}:</span>\\n                        <input data-style-options=\\\"polygon.fill.opacity\\\" type=\\\"number\\\" value=\\\"{{polygon.fill.opacity}}\\\" min=\\\"0\\\" step=\\\"0.1\\\" max=\\\"1\\\">\\n                    </div>\\n                </div>\\n                <div class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1 input-reverse\\\">\\n                        <span>{{translations.pattern}}</span>\\n                        <input data-apply=\\\"polygon.fill.pattern\\\" type=\\\"checkbox\\\" {{#if polygon.patternfflag }}checked{{/if}}>\\n                    </div>\\n                </div>\\n                <div class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>{{translations.type}}:</span>\\n                        <select data-style-options=\\\"polygon.fill.pattern.name\\\">\\n                            {{#each polygon.patternflist}}\\n                                <option value=\\\"{{#lowercase this.name}}{{/lowercase}}\\\" {{#eq this.name this.selected}} selected {{/eq}}>\\n                                    {{this.name}}\\n                                </option>\\n                            {{/each}}\\n                        </select>\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>Color:</span>\\n                        <input value=\\\"{{polygon.fill.pattern.color}}\\\" type=\\\"color\\\" data-style-options=\\\"polygon.fill.pattern.color\\\">\\n                    </div>\\n                </div>\\n                <div class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>{{translations.size}}:</span>\\n                        <input value=\\\"{{polygon.fill.pattern.size}}\\\" type=\\\"number\\\" min=\\\"1\\\" max=\\\"100\\\" data-style-options=\\\"polygon.fill.pattern.size\\\">\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.space}}:</span>\\n                        <input value=\\\"{{polygon.fill.pattern.spacing}}\\\" type=\\\"number\\\" min=\\\"1\\\" max=\\\"100\\\" data-style-options=\\\"polygon.fill.pattern.spacing\\\">\\n                    </div>\\n                </div>\\n                <div class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>{{translations.rotation}}:</span>\\n                        <input value=\\\"{{polygon.fill.pattern.rotation}}\\\" type=\\\"number\\\" data-style-options=\\\"polygon.fill.pattern.rotation\\\">\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.scale}}:</span>\\n                        <input value=\\\"{{polygon.fill.pattern.scale}}\\\" type=\\\"number\\\" min=\\\"1\\\" max=\\\"30\\\" data-style-options=\\\"polygon.fill.pattern.scale\\\">\\n                    </div>\\n                </div>\\n                <div class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>Offset:</span>\\n                        <input value=\\\"{{polygon.fill.pattern.offset}}\\\" type=\\\"number\\\" data-style-options=\\\"polygon.fill.pattern.offset\\\">\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <!-- Stroke options -->\\n    <div class=\\\"styles-row m-hidden m-simple-category\\\" data-id=\\\"stroke\\\">\\n        <div class=\\\"title\\\">{{translations.options}}</div>\\n        <div class=\\\"m-styles-body\\\">\\n            <div class=\\\"subtitle\\\">{{translations.pointOptions}} <span class='g-cartografia-flecha-abajo'></span></div>\\n            <div class=\\\"content-row-hidden\\\">\\n                <div class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>Color:</span>\\n                        <input value=\\\"{{point.stroke.color}}\\\" type=\\\"color\\\" data-style-options=\\\"point.stroke.color\\\">\\n                    </div>\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.width}}:</span>\\n                        <input value=\\\"{{point.stroke.width}}\\\" type=\\\"number\\\" value=\\\"2\\\" min=\\\"1\\\" data-style-options=\\\"point.stroke.width\\\">\\n                    </div>\\n                </div>\\n                <div class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>{{translations.opacity}}:</span>\\n                        <input value=\\\"{{point.stroke.opacity}}\\\" type=\\\"number\\\" min=\\\"0\\\" step=\\\"0.1\\\" max=\\\"1\\\" data-style-options=\\\"point.stroke.opacity\\\">\\n                    </div>\\n                </div>\\n                <div class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>Linedash:</span>\\n                        <input value=\\\"{{#get 0 point.stroke.linedash}}{{/get}}\\\" type=\\\"number\\\" data-target=\\\"point.stroke.linedash\\\" data-style-options=\\\"point.stroke.linedash\\\">\\n                        <span class=\\\"empty\\\">&nbsp;</span>\\n                        <input value=\\\"{{#get 1 point.stroke.linedash}}{{/get}}\\\" type=\\\"number\\\" data-id=\\\"point.stroke.linedash\\\">\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>Linedash Offset:</span>\\n                        <input type=\\\"number\\\" value=\\\"{{point.stroke.linedashoffset}}\\\" data-style-options=\\\"point.stroke.linedashoffset\\\">\\n                    </div>\\n                </div>\\n                <div class=\\\"group-row\\\">\\n\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>Line Cap</span>\\n                        <select data-style-options=\\\"stroke.linecap\\\">\\n                            <option value=\\\"\\\">{{translations.none}}</option>\\n                            {{#each point.linecapstroke}}\\n                                <option value=\\\"{{this.name}}\\\" {{#eq this.name this.selected}}selected{{/eq}}>{{this.name}}</option>\\n                            {{/each}}\\n                        </select>\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>Line Join:</span>\\n                        <select data-style-options=\\\"stroke.linejoin\\\">\\n                            <option value=\\\"\\\">{{translations.none}}</option>\\n                            {{#each point.linejoinstroke}}\\n                                <option value=\\\"{{this.name}}\\\" {{#eq this.name this.selected}}selected{{/eq}}> {{this.name}}</option>\\n                            {{/each}}\\n                        </select>\\n                    </div>\\n\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\\"subtitle\\\">{{translations.lineOptions}} <span class='g-cartografia-flecha-abajo'></span></div>\\n        <div class=\\\"content-row-hidden\\\">\\n            <div class=\\\"group-row\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span>Color:</span>\\n                    <input value=\\\"{{line.stroke.color}}\\\" type=\\\"color\\\" data-style-options=\\\"line.stroke.color\\\">\\n                </div>\\n                <div class=\\\"style-col-2\\\">\\n                    <span>Ancho:</span>\\n                    <input value=\\\"{{line.stroke.width}}\\\" type=\\\"number\\\" value=\\\"2\\\" min=\\\"1\\\" data-style-options=\\\"line.stroke.width\\\">\\n                </div>\\n            </div>\\n            <div class=\\\"group-row\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span>{{translations.opacity}}:</span>\\n                    <input value=\\\"{{line.stroke.opacity}}\\\" type=\\\"number\\\" min=\\\"0\\\" step=\\\"0.1\\\" max=\\\"1\\\" data-style-options=\\\"line.stroke.opacity\\\">\\n                </div>\\n            </div>\\n            <div class=\\\"group-row\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span>Linedash:</span>\\n                    <input value=\\\"{{#get 0 line.stroke.linedash}}{{/get}}\\\" type=\\\"number\\\" data-target=\\\"line.stroke.linedash\\\" data-style-options=\\\"line.stroke.linedash\\\">\\n                    <span class=\\\"empty\\\">&nbsp;</span>\\n                    <input value=\\\"{{#get 1 line.stroke.linedash}}{{/get}}\\\" type=\\\"number\\\" data-id=\\\"line.stroke.linedash\\\">\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>Linedash Offset:</span>\\n                    <input type=\\\"number\\\" value=\\\"{{line.stroke.linedashoffset}}\\\" data-style-options=\\\"line.stroke.linedashoffset\\\">\\n                </div>\\n            </div>\\n            <div class=\\\"group-row\\\">\\n\\n                <div class=\\\"style-col-1\\\">\\n                    <span>Line Cap</span>\\n                    <select data-style-options=\\\"stroke.linecap\\\">\\n                        <option value=\\\"\\\">{{translations.none}}</option>\\n                        {{#each line.linecapstroke}}\\n                            <option value=\\\"{{this.name}}\\\" {{#eq this.name this.selected}}selected{{/eq}}>{{this.name}}</option>\\n                        {{/each}}\\n                    </select>\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>Line Join:</span>\\n                    <select data-style-options=\\\"stroke.linejoin\\\">\\n                        <option value=\\\"\\\">{{translations.none}}</option>\\n                        {{#each line.linejoinstroke}}\\n                            <option value=\\\"{{this.name}}\\\" {{#eq this.name this.selected}}selected{{/eq}}> {{this.name}}</option>\\n                        {{/each}}\\n                    </select>\\n                </div>\\n\\n            </div>\\n        </div>\\n        <div class=\\\"subtitle\\\">{{translations.polygonOptions}} <span class='g-cartografia-flecha-abajo'></span></div>\\n        <div class=\\\"content-row-hidden\\\">\\n            <div class=\\\"group-row\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span>Color:</span>\\n                    <input value=\\\"{{polygon.stroke.color}}\\\" type=\\\"color\\\" data-style-options=\\\"polygon.stroke.color\\\">\\n                </div>\\n                <div class=\\\"style-col-2\\\">\\n                    <span>{{translations.width}}:</span>\\n                    <input value=\\\"{{polygon.stroke.width}}\\\" type=\\\"number\\\" value=\\\"2\\\" min=\\\"1\\\" data-style-options=\\\"polygon.stroke.width\\\">\\n                </div>\\n            </div>\\n            <div class=\\\"group-row\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span>{{translations.opacity}}:</span>\\n                    <input value=\\\"{{polygon.stroke.opacity}}\\\" type=\\\"number\\\" min=\\\"0\\\" step=\\\"0.1\\\" max=\\\"1\\\" data-style-options=\\\"polygon.stroke.opacity\\\">\\n                </div>\\n            </div>\\n            <div class=\\\"group-row\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span>Linedash:</span>\\n                    <input value=\\\"{{#get 0 polygon.stroke.linedash}}{{/get}}\\\" type=\\\"number\\\" data-target=\\\"polygon.stroke.linedash\\\" data-style-options=\\\"polygon.stroke.linedash\\\">\\n                    <span class=\\\"empty\\\">&nbsp;</span>\\n                    <input value=\\\"{{#get 1 polygon.stroke.linedash}}{{/get}}\\\" type=\\\"number\\\" data-id=\\\"polygon.stroke.linedash\\\">\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>Linedash Offset:</span>\\n                    <input type=\\\"number\\\" value=\\\"{{polygon.stroke.linedashoffset}}\\\" data-style-options=\\\"polygon.stroke.linedashoffset\\\">\\n                </div>\\n            </div>\\n            <div class=\\\"group-row\\\">\\n\\n                <div class=\\\"style-col-1\\\">\\n                    <span>Line Cap</span>\\n                    <select data-style-options=\\\"stroke.linecap\\\">\\n                        <option value=\\\"\\\">{{translations.none}}</option>\\n                        {{#each polygon.linecapstroke}}\\n                            <option value=\\\"{{this.name}}\\\" {{#eq this.name this.selected}}selected{{/eq}}>{{this.name}}</option>\\n                        {{/each}}\\n                    </select>\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>Line Join:</span>\\n                    <select data-style-options=\\\"stroke.linejoin\\\">\\n                        <option value=\\\"\\\">{{translations.none}}</option>\\n                        {{#each polygon.linejoinstroke}}\\n                            <option value=\\\"{{this.name}}\\\" {{#eq this.name this.selected}}selected{{/eq}}> {{this.name}}</option>\\n                        {{/each}}\\n                    </select>\\n                </div>\\n            </div>\\n            <div class=\\\"group-row\\\">\\n                <div class=\\\"style-col-1 input-reverse\\\">\\n                    <span>{{translations.pattern}}</span>\\n                    <input data-apply=\\\"polygon.stroke.pattern\\\" type=\\\"checkbox\\\" {{#if polygon.patternstflag }}checked{{/if}}>\\n                </div>\\n            </div>\\n            <div class=\\\"group-row\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span>{{translations.type}}:</span>\\n                    <select data-style-options=\\\"polygon.stroke.pattern.name\\\">\\n                        {{#each polygon.patternstlist}}\\n                            <option value=\\\"{{#lowercase this.name}}{{/lowercase}}\\\" {{#eq this.name this.selected}} selected {{/eq}}>\\n                                {{this.name}}\\n                            </option>\\n                        {{/each}}\\n                    </select>\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>Color:</span>\\n                    <input value=\\\"{{polygon.stroke.pattern.color}}\\\" type=\\\"color\\\" data-style-options=\\\"polygon.stroke.pattern.color\\\">\\n                </div>\\n            </div>\\n            <div class=\\\"group-row\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span>{{translations.size}}:</span>\\n                    <input value=\\\"{{polygon.stroke.pattern.size}}\\\" type=\\\"number\\\" min=\\\"1\\\" max=\\\"100\\\" data-style-options=\\\"polygon.stroke.pattern.size\\\">\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>{{translations.space}}:</span>\\n                    <input value=\\\"{{polygon.stroke.pattern.spacing}}\\\" type=\\\"number\\\" min=\\\"1\\\" max=\\\"100\\\" data-style-options=\\\"polygon.stroke.pattern.spacing\\\">\\n                </div>\\n            </div>\\n            <div class=\\\"group-row\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span>{{translations.rotation}}:</span>\\n                    <input value=\\\"{{polygon.stroke.pattern.rotation}}\\\" type=\\\"number\\\" data-style-options=\\\"polygon.stroke.pattern.rotation\\\">\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>{{translations.scale}}:</span>\\n                    <input value=\\\"{{polygon.stroke.pattern.scale}}\\\" type=\\\"number\\\" min=\\\"1\\\" max=\\\"30\\\" data-style-options=\\\"polygon.stroke.pattern.scale\\\">\\n                </div>\\n            </div>\\n            <div class=\\\"group-row\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span>Offset:</span>\\n                    <input value=\\\"{{polygon.stroke.pattern.offset}}\\\" type=\\\"number\\\" data-style-options=\\\"polygon.stroke.pattern.offset\\\">\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <!-- Label options -->\\n    <div class=\\\"styles-row m-hidden m-simple-category\\\" data-id=\\\"label\\\">\\n        <div class=\\\"title\\\">{{translations.options}}</div>\\n        <div class=\\\"m-styles-body\\\">\\n            <div class=\\\"subtitle\\\">{{translations.pointOptions}} <span class='g-cartografia-flecha-abajo'></span></div>\\n            <div class=\\\"content-row-hidden\\\">\\n                <div class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>Color</span>\\n                        <input value=\\\"{{point.label.color}}\\\" type=\\\"color\\\" data-style-options=\\\"point.label.color\\\" value=\\\"#0d5cdc\\\">\\n                    </div>\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.text}}:</span>\\n                        <select data-style-options=\\\"point.label.text\\\">\\n                            {{#each point.featuresAttr}}\\n                                <option value=\\\"{{this.id}}\\\" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\\n                            {{/each}}\\n                        </select>\\n                    </div>\\n                </div>\\n                <div class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>{{translations.font}}:</span>\\n                        <select data-font-family-point>\\n                            <option {{#eq point.label.font 'serif'}}selected{{/eq}} {{this.name}}value=\\\"serif\\\">Serif</option>\\n                            <option {{#eq point.label.font 'sans-serif'}}selected{{/eq}} value=\\\"sans-serif\\\">Sans-Serif</option>\\n                            <option {{#eq point.label.font 'mono'}}selected{{/eq}} value=\\\"mono\\\">Mono</option>\\n                        </select>\\n                    </div>\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.size}}:</span>\\n                        <input value=\\\"{{point.label.fontSize}}\\\" data-font-size-point type=\\\"number\\\" min=\\\"1\\\" max=\\\"40\\\" value=\\\"12\\\">\\n                    </div>\\n                </div>\\n                <div class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>{{translations.horizontalAlignment}}:</span>\\n                        <select data-style-options=\\\"point.label.align\\\">\\n                            {{#each point.alignlist}}\\n                                <option value=\\\"{{this.id}}\\\" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\\n                            {{/each}}\\n                        </select>\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.verticalAlignment}}:</span>\\n                        <select data-style-options=\\\"point.label.baseline\\\">\\n                            {{#each point.baselinelist}}\\n                                <option value=\\\"{{this.id}}\\\" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\\n                            {{/each}}\\n                        </select>\\n                    </div>\\n\\n                </div>\\n                <div class=\\\"group-row\\\">\\n\\n                    <div class=\\\"style-col-1 input-reverse\\\">\\n                        <span>{{translations.enableRotation}}</span>\\n                        <input {{#if point.label.rotate}}checked{{/if}} type=\\\"checkbox\\\" data-style-options=\\\"point.label.rotate\\\">\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.rotation}}</span>\\n                        <input value=\\\"{{point.label.rotation}}\\\" type=\\\"number\\\" step=\\\"0.1\\\" data-style-options=\\\"point.label.rotation\\\">\\n                    </div>\\n\\n                </div>\\n                <div class=\\\"group-row\\\">\\n\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>{{translations.scale}}:</span>\\n                        <input value=\\\"{{point.label.scale}}\\\" type=\\\"number\\\" max=\\\"3\\\" min=\\\"0\\\" step=\\\"0.1\\\" value=\\\"2\\\" data-style-options=\\\"point.label.scale\\\">\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>Offset:</span>\\n                        <input value=\\\"{{#get 0 point.label.offset}}{{/get}}\\\" type=\\\"number\\\" data-target=\\\"point.label.offset\\\" data-style-options=\\\"point.label.offset\\\">\\n                        <span class=\\\"empty\\\">&nbsp;</span>\\n                        <input value=\\\"{{#get 1 point.label.offset}}{{/get}}\\\" type=\\\"number\\\" data-id=\\\"point.label.offset\\\">\\n                    </div>\\n\\n                </div>\\n                <!-- Stroke Label -->\\n                <div class=\\\"subtitle\\\">{{translations.labelStroke}}:</div>\\n                <div class=\\\"group-row\\\">\\n\\n                    <div class=\\\"style-col-1 input-reverse\\\">\\n                        <span>{{translations.label}}</span>\\n                        <input type=\\\"checkbox\\\" data-apply=\\\"point.label.stroke\\\" {{#neq point.label.stroke.color 'no-color' }}checked{{/neq}}>\\n                    </div>\\n\\n                </div>\\n                <div class=\\\"group-row\\\">\\n\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>Color:</span>\\n                        <input type=\\\"color\\\" data-style-options=\\\"point.label.stroke.color\\\" {{#neq point.label.stroke.color 'no-color'}} value=\\\"{{point.label.stroke.color}}\\\" {{/neq}}>\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.width}}:</span>\\n                        <input value=\\\"{{point.label.stroke.width}}\\\" type=\\\"number\\\" value=\\\"2\\\" max=\\\"15\\\" min=\\\"1\\\" data-style-options=\\\"point.label.stroke.width\\\">\\n                    </div>\\n\\n                </div>\\n                <div class=\\\"group-row\\\">\\n\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>Line Dash:</span>\\n                        <input value=\\\"{{#get 0 point.label.stroke.linedash}}{{/get}}\\\" type=\\\"number\\\" data-target=\\\"point.label.stroke.linedash\\\" data-style-options=\\\"point.label.stroke.linedash\\\" data-format=\\\"array\\\">\\n                        <span class=\\\"empty\\\">&nbsp;</span>\\n                        <input value=\\\"{{#get 1 point.label.stroke.linedash}}{{/get}}\\\" type=\\\"number\\\" data-id=\\\"point.label.stroke.linedash\\\">\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>Offset:</span>\\n                        <input type=\\\"number\\\" value=\\\"{{point.label.stroke.linedashoffset}}\\\" data-style-options=\\\"point.label.stroke.linedashoffset\\\">\\n                    </div>\\n                </div>\\n                <div class=\\\"group-row\\\">\\n\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>Line Cap:</span>\\n                        <select data-style-options=\\\"point.label.stroke.linecap\\\">\\n                            {{#each point.linecaplabelstroke}}\\n                                <option value=\\\"{{this.id}}\\\" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\\n                            {{/each}}\\n                        </select>\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>Line Join:</span>\\n                        <select data-style-options=\\\"point.label.stroke.linejoin\\\">\\n                            {{#each point.linejoinlabelstroke}}\\n                                <option value=\\\"{{this.id}}\\\" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\\n                            {{/each}}\\n                        </select>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"subtitle\\\">{{translations.lineOptions}} <span class='g-cartografia-flecha-abajo'></span></div>\\n            <div class=\\\"content-row-hidden\\\">\\n                <div class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>Color</span>\\n                        <input value=\\\"{{line.label.color}}\\\" type=\\\"color\\\" data-style-options=\\\"line.label.color\\\" value=\\\"#0d5cdc\\\">\\n                    </div>\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.text}}:</span>\\n                        <select data-style-options=\\\"line.label.text\\\">\\n                            {{#each line.featuresAttr}}\\n                                <option value=\\\"{{this.id}}\\\" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\\n                            {{/each}}\\n                        </select>\\n                    </div>\\n                </div>\\n                <div class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>{{translations.font}}:</span>\\n                        <select data-font-family-line>\\n                            <option {{#eq line.label.font 'serif'}}selected{{/eq}} {{this.name}}value=\\\"serif\\\">Serif</option>\\n                            <option {{#eq line.label.font 'sans-serif'}}selected{{/eq}} value=\\\"sans-serif\\\">Sans-Serif</option>\\n                            <option {{#eq line.label.font 'mono'}}selected{{/eq}} value=\\\"mono\\\">Mono</option>\\n                        </select>\\n                    </div>\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.size}}:</span>\\n                        <input value=\\\"{{line.label.fontSize}}\\\" data-font-size-line type=\\\"number\\\" min=\\\"1\\\" max=\\\"40\\\" value=\\\"12\\\">\\n                    </div>\\n                </div>\\n                <div class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>{{translations.horizontalAlignment}}:</span>\\n                        <select data-style-options=\\\"line.label.align\\\">\\n                            {{#each line.alignlist}}\\n                                <option value=\\\"{{this.id}}\\\" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\\n                            {{/each}}\\n                        </select>\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.verticalAlignment}}:</span>\\n                        <select data-style-options=\\\"line.label.baseline\\\">\\n                            {{#each line.baselinelist}}\\n                                <option value=\\\"{{this.id}}\\\" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\\n                            {{/each}}\\n                        </select>\\n                    </div>\\n\\n                </div>\\n                <div class=\\\"group-row\\\">\\n\\n                    <div class=\\\"style-col-1 input-reverse\\\">\\n                        <span>{{translations.enableRotation}}</span>\\n                        <input {{#if line.label.rotate}}checked{{/if}} type=\\\"checkbox\\\" data-style-options=\\\"line.label.rotate\\\">\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.rotation}}</span>\\n                        <input value=\\\"{{line.label.rotation}}\\\" type=\\\"number\\\" step=\\\"0.1\\\" data-style-options=\\\"line.label.rotation\\\">\\n                    </div>\\n\\n                </div>\\n                <div class=\\\"group-row\\\">\\n\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>{{translations.scale}}:</span>\\n                        <input value=\\\"{{line.label.scale}}\\\" type=\\\"number\\\" max=\\\"3\\\" min=\\\"0\\\" step=\\\"0.1\\\" value=\\\"2\\\" data-style-options=\\\"line.label.scale\\\">\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>Offset:</span>\\n                        <input value=\\\"{{#get 0 line.label.offset}}{{/get}}\\\" type=\\\"number\\\" data-target=\\\"line.label.offset\\\" data-style-options=\\\"line.label.offset\\\">\\n                        <span class=\\\"empty\\\">&nbsp;</span>\\n                        <input value=\\\"{{#get 1 line.label.offset}}{{/get}}\\\" type=\\\"number\\\" data-id=\\\"line.label.offset\\\">\\n                    </div>\\n\\n                </div>\\n                <!-- TextPath Options -->\\n\\n                <div class=\\\"group-row\\\">\\n\\n                    <div class=\\\"style-col-1 input-reverse\\\">\\n                        <span>{{translations.fitGeometry}}</span>\\n                        <input {{#if line.label.path}}checked{{/if}} type=\\\"checkbox\\\" data-style-options=\\\"line.label.path\\\">\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.minimumWidth}}:</span>\\n                        <input value=\\\"{{line.label.minwidth}}\\\" type=\\\"number\\\" min=\\\"1\\\" max=\\\"200\\\" value=\\\"10\\\" data-style-options=\\\"line.label.minwidth\\\" data-textpath {{#unless line.label.path}}disabled{{/unless}}>\\n                    </div>\\n\\n                </div>\\n\\n                <div class=\\\"group-row\\\">\\n\\n                    <div class=\\\"style-col-1 input-reverse\\\">\\n                        <span>{{translations.smooth}}</span>\\n                        <input {{#if line.label.smooth}}checked{{/if}} type=\\\"checkbox\\\" data-style-options=\\\"line.label.smooth\\\" data-textpath {{#unless line.label.path}}disabled{{/unless}}>\\n                    </div>\\n\\n                    <div class=style-col-2>\\n                        <span>{{translations.overflow}}:</span>\\n                        <select data-style-options=\\\"line.label.textoverflow\\\" data-textpath {{#unless line.label.path}}disabled{{/unless}}>\\n                            <option value=\\\"hidden\\\">{{translations.hidden}}</option>\\n                            <option value=\\\"visible\\\">{{translations.visible}}</option>\\n                            <option value=\\\"ellipsis\\\">{{translations.ellipsis}}</option>\\n                        </select>\\n                    </div>\\n\\n                </div>\\n                <!-- Stroke Label -->\\n                <div class=\\\"subtitle\\\">{{translations.labelStroke}}:</div>\\n                <div class=\\\"group-row\\\">\\n\\n                    <div class=\\\"style-col-1 input-reverse\\\">\\n                        <span>{{translations.label}}</span>\\n                        <input type=\\\"checkbox\\\" data-apply=\\\"line.label.stroke\\\" {{#neq line.label.stroke.color 'no-color' }}checked{{/neq}}>\\n                    </div>\\n\\n                </div>\\n                <div class=\\\"group-row\\\">\\n\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>Color:</span>\\n                        <input type=\\\"color\\\" data-style-options=\\\"line.label.stroke.color\\\" {{#neq line.label.stroke.color 'no-color'}} value=\\\"{{line.label.stroke.color}}\\\" {{/neq}}>\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.width}}:</span>\\n                        <input value=\\\"{{line.label.stroke.width}}\\\" type=\\\"number\\\" value=\\\"2\\\" max=\\\"15\\\" min=\\\"1\\\" data-style-options=\\\"line.label.stroke.width\\\">\\n                    </div>\\n\\n                </div>\\n                <div class=\\\"group-row\\\">\\n\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>Line Dash:</span>\\n                        <input value=\\\"{{#get 0 line.label.stroke.linedash}}{{/get}}\\\" type=\\\"number\\\" data-target=\\\"line.label.stroke.linedash\\\" data-style-options=\\\"line.label.stroke.linedash\\\" data-format=\\\"array\\\">\\n                        <span class=\\\"empty\\\">&nbsp;</span>\\n                        <input value=\\\"{{#get 1 line.label.stroke.linedash}}{{/get}}\\\" type=\\\"number\\\" data-id=\\\"line.label.stroke.linedash\\\">\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>Offset:</span>\\n                        <input type=\\\"number\\\" value=\\\"{{line.label.stroke.linedashoffset}}\\\" data-style-options=\\\"line.label.stroke.linedashoffset\\\">\\n                    </div>\\n                </div>\\n                <div class=\\\"group-row\\\">\\n\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>Line Cap:</span>\\n                        <select data-style-options=\\\"line.label.stroke.linecap\\\">\\n                            {{#each line.linecaplabelstroke}}\\n                                <option value=\\\"{{this.id}}\\\" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\\n                            {{/each}}\\n                        </select>\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>Line Join:</span>\\n                        <select data-style-options=\\\"line.label.stroke.linejoin\\\">\\n                            {{#each line.linejoinlabelstroke}}\\n                                <option value=\\\"{{this.id}}\\\" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\\n                            {{/each}}\\n                        </select>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"subtitle\\\">{{translations.polygonOptions}} <span class='g-cartografia-flecha-abajo'></span></div>\\n            <div class=\\\"content-row-hidden\\\">\\n                <div class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>Color</span>\\n                        <input value=\\\"{{polygon.label.color}}\\\" type=\\\"color\\\" data-style-options=\\\"polygon.label.color\\\" value=\\\"#0d5cdc\\\">\\n                    </div>\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.text}}:</span>\\n                        <select data-style-options=\\\"polygon.label.text\\\">\\n                            {{#each polygon.featuresAttr}}\\n                                <option value=\\\"{{this.id}}\\\" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\\n                            {{/each}}\\n                        </select>\\n                    </div>\\n                </div>\\n                <div class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>{{translations.font}}:</span>\\n                        <select data-font-family-polygon>\\n                            <option {{#eq polygon.label.font 'serif'}}selected{{/eq}} {{this.name}}value=\\\"serif\\\">Serif</option>\\n                            <option {{#eq polygon.label.font 'sans-serif'}}selected{{/eq}} value=\\\"sans-serif\\\">Sans-Serif</option>\\n                            <option {{#eq polygon.label.font 'mono'}}selected{{/eq}} value=\\\"mono\\\">Mono</option>\\n                        </select>\\n                    </div>\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.size}}:</span>\\n                        <input value=\\\"{{polygon.label.fontSize}}\\\" data-font-size-polygon type=\\\"number\\\" min=\\\"1\\\" max=\\\"40\\\" value=\\\"12\\\">\\n                    </div>\\n                </div>\\n                <div class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>{{translations.horizontalAlignment}}:</span>\\n                        <select data-style-options=\\\"polygon.label.align\\\">\\n                            {{#each polygon.alignlist}}\\n                                <option value=\\\"{{this.id}}\\\" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\\n                            {{/each}}\\n                        </select>\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.verticalAlignment}}:</span>\\n                        <select data-style-options=\\\"polygon.label.baseline\\\">\\n                            {{#each polygon.baselinelist}}\\n                                <option value=\\\"{{this.id}}\\\" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\\n                            {{/each}}\\n                        </select>\\n                    </div>\\n\\n                </div>\\n                <div class=\\\"group-row\\\">\\n\\n                    <div class=\\\"style-col-1 input-reverse\\\">\\n                        <span>{{translations.enableRotation}}</span>\\n                        <input {{#if polygon.label.rotate}}checked{{/if}} type=\\\"checkbox\\\" data-style-options=\\\"polygon.label.rotate\\\">\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.rotation}}</span>\\n                        <input value=\\\"{{polygon.label.rotation}}\\\" type=\\\"number\\\" step=\\\"0.1\\\" data-style-options=\\\"polygon.label.rotation\\\">\\n                    </div>\\n\\n                </div>\\n                <div class=\\\"group-row\\\">\\n\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>{{translations.scale}}:</span>\\n                        <input value=\\\"{{polygon.label.scale}}\\\" type=\\\"number\\\" max=\\\"3\\\" min=\\\"0\\\" step=\\\"0.1\\\" value=\\\"2\\\" data-style-options=\\\"polygon.label.scale\\\">\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>Offset:</span>\\n                        <input value=\\\"{{#get 0 polygon.label.offset}}{{/get}}\\\" type=\\\"number\\\" data-target=\\\"polygon.label.offset\\\" data-style-options=\\\"polygon.label.offset\\\">\\n                        <span class=\\\"empty\\\">&nbsp;</span>\\n                        <input value=\\\"{{#get 1 polygon.label.offset}}{{/get}}\\\" type=\\\"number\\\" data-id=\\\"polygon.label.offset\\\">\\n                    </div>\\n\\n                </div>\\n                <!-- Stroke Label -->\\n                <div class=\\\"subtitle\\\">{{translations.labelStroke}}:</div>\\n                <div class=\\\"group-row\\\">\\n\\n                    <div class=\\\"style-col-1 input-reverse\\\">\\n                        <span>{{translations.label}}</span>\\n                        <input type=\\\"checkbox\\\" data-apply=\\\"polygon.label.stroke\\\" {{#neq polygon.label.stroke.color 'no-color' }}checked{{/neq}}>\\n                    </div>\\n\\n                </div>\\n                <div class=\\\"group-row\\\">\\n\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>Color:</span>\\n                        <input type=\\\"color\\\" data-style-options=\\\"polygon.label.stroke.color\\\" {{#neq polygon.label.stroke.color 'no-color'}} value=\\\"{{polygon.label.stroke.color}}\\\" {{/neq}}>\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.width}}:</span>\\n                        <input value=\\\"{{polygon.label.stroke.width}}\\\" type=\\\"number\\\" value=\\\"2\\\" max=\\\"15\\\" min=\\\"1\\\" data-style-options=\\\"polygon.label.stroke.width\\\">\\n                    </div>\\n\\n                </div>\\n                <div class=\\\"group-row\\\">\\n\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>Line Dash:</span>\\n                        <input value=\\\"{{#get 0 polygon.label.stroke.linedash}}{{/get}}\\\" type=\\\"number\\\" data-target=\\\"polygon.label.stroke.linedash\\\" data-style-options=\\\"polygon.label.stroke.linedash\\\" data-format=\\\"array\\\">\\n                        <span class=\\\"empty\\\">&nbsp;</span>\\n                        <input value=\\\"{{#get 1 polygon.label.stroke.linedash}}{{/get}}\\\" type=\\\"number\\\" data-id=\\\"polygon.label.stroke.linedash\\\">\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>Offset:</span>\\n                        <input type=\\\"number\\\" value=\\\"{{polygon.label.stroke.linedashoffset}}\\\" data-style-options=\\\"polygon.label.stroke.linedashoffset\\\">\\n                    </div>\\n                </div>\\n                <div class=\\\"group-row\\\">\\n\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>Line Cap:</span>\\n                        <select data-style-options=\\\"polygon.label.stroke.linecap\\\">\\n                            {{#each polygon.linecaplabelstroke}}\\n                                <option value=\\\"{{this.id}}\\\" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\\n                            {{/each}}\\n                        </select>\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>Line Join:</span>\\n                        <select data-style-options=\\\"polygon.label.stroke.linejoin\\\">\\n                            {{#each polygon.linejoinlabelstroke}}\\n                                <option value=\\\"{{this.id}}\\\" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\\n                            {{/each}}\\n                        </select>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <!-- Icon Options -->\\n    <div class=\\\"styles-row m-hidden m-simple-category\\\" data-id=\\\"icon\\\">\\n        <div class=\\\"title\\\">{{translations.options}}</div>\\n        <div class=\\\"m-styles-body\\\">\\n            <div class=\\\"subtitle\\\">{{translations.pointOptions}} <span class='g-cartografia-flecha-abajo'></span></div>\\n            <div class=\\\"content-row-hidden\\\">\\n                <div data-pointicon class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>URL:</span>\\n                        <input value=\\\"{{point.icon.src}}\\\" type=\\\"url\\\" data-style-options=\\\"point.src.src\\\">\\n                        <button title=\\\"{{translations.info}}\\\" class=\\\"m-button-add-styles info-url\\\" data-info><i class=\\\"fa fa-info-circle\\\"></i></button>\\n                    </div>\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.size}}:</span>\\n                        <input {{#if point.icon.size}}value=\\\"{{#get 0 point.icon.size}}{{/get}}\\\" {{/if}} type=\\\"number\\\" min=\\\"1\\\" data-undefined data-target=\\\"size\\\" data-style-options=\\\"point.src.size\\\">\\n                        <span class=\\\"empty\\\">&nbsp;</span>\\n                        <input {{#if point.icon.size}}value=\\\"{{#get 1 point.icon.size}}{{/get}}\\\" {{/if}} type=\\\"number\\\" min=\\\"1\\\" data-undefined data-id=\\\"size\\\">\\n                    </div>\\n                </div>\\n\\n                <div data-pointicon class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-2 input-reverse m-hidden\\\">\\n                        <span>Snap to pixel</span>\\n                        <input {{#if point.icon.snaptopixel}}checked{{/if}} type=\\\"checkbox\\\" data-style-options=\\\"point.src.snaptopixel\\\">\\n                    </div>\\n                </div>\\n\\n                <div data-pointicon class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>{{translations.anchorage}}:</span>\\n                        <input value=\\\"{{#get 0 point.icon.anchor}}{{/get}}\\\" type=\\\"number\\\" data-target=\\\"anchor\\\" data-style-options=\\\"point.src.anchor\\\" step=\\\"0.1\\\">\\n                        <span class=\\\"empty\\\">&nbsp;</span>\\n                        <input value=\\\"{{#get 1 point.icon.anchor}}{{/get}}\\\" type=\\\"number\\\" data-id=\\\"anchor\\\" step=\\\"0.1\\\">\\n                    </div>\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>Escala:</span>\\n                        <input value=\\\"{{point.icon.scale}}\\\" type=\\\"number\\\" data-style-options=\\\"point.src.scale\\\" max=\\\"3\\\" min=\\\"0\\\" step=\\\"0.1\\\">\\n                    </div>\\n                </div>\\n\\n                <!-- Common -->\\n                <div data-common-icon class=\\\"group-row\\\">\\n\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>Offset:</span>\\n                        <input value=\\\"{{#get 0 point.icon.offset}}{{/get}}\\\" type=\\\"number\\\" data-target=\\\"icon-offset\\\" data-style-options=\\\"point.src.offset\\\">\\n                        <span class=\\\"empty\\\">&nbsp;</span>\\n                        <input value=\\\"{{#get 1 point.icon.offset}}{{/get}}\\\" type=\\\"number\\\" data-id=\\\"icon-offset\\\" />\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.opacity}}:</span>\\n                        <input value=\\\"{{point.icon.opacity}}\\\" type=\\\"number\\\" step=\\\"0.1\\\" min=0 max=1 data-style-options=\\\"point.src.opacity\\\">\\n                    </div>\\n                </div>\\n\\n                <div data-common-icon class=\\\"group-row\\\">\\n\\n                    <div class=\\\"style-col-1 input-reverse\\\">\\n                        <span>{{translations.enableRotation}}</span>\\n                        <input {{#if point.icon.rotate}}checked {{/if}} type=\\\"checkbox\\\" data-style-options=\\\"point.src.rotate\\\">\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.rotation}}:</span>\\n                        <input value=\\\"{{point.icon.rotation}}\\\" type=\\\"number\\\" min=0 max=360 data-style-options=\\\"point.src.rotation\\\">\\n                    </div>\\n\\n                </div>\\n                <!-- SVG -->\\n                <div class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1 input-reverse\\\">\\n                        <span>{{translations.modifySVG}}</span>\\n                        <input type=\\\"checkbox\\\" {{#if point.svgflag}}checked {{/if}} data-apply=\\\"point-svg\\\">\\n                    </div>\\n                </div>\\n                <div class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>{{translations.stroke}}</span>\\n                    </div>\\n                </div>\\n                <div data-pointicon class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>Color:</span>\\n                        <input type=\\\"color\\\" value=\\\"{{point.src.stroke.color}}\\\" data-style-options=\\\"point.src.stroke.color\\\">\\n                    </div>\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.width}}:</span>\\n                        <input type=\\\"text\\\" value=\\\"{{point.src.stroke.width}}\\\" min=\\\"1\\\" max=\\\"100\\\" data-style-options=\\\"point.src.stroke.width\\\">\\n                    </div>\\n                </div>\\n\\n                <div class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>{{translations.fill}}</span>\\n                    </div>\\n                </div>\\n                <div data-pointicon class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>Color:</span>\\n                        <input type=\\\"color\\\" value=\\\"{{point.src.fill.color}}\\\" data-style-options=\\\"point.src.fill.color\\\">\\n                    </div>\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.opacity}}:</span>\\n                        <input type=\\\"text\\\" value=\\\"{{point.src.fill.opacity}}\\\" step=\\\"0.1\\\" min=0 max=1 data-style-options=\\\"point.src.fill.opacity\\\">\\n                    </div>\\n                </div>\\n                <!---->\\n            </div>\\n        </div>\\n    </div>\\n    <!-- Form Options -->\\n    <div class=\\\"styles-row m-hidden m-simple-category\\\" data-id=\\\"form\\\">\\n        <div class=\\\"title\\\">{{translations.options}}</div>\\n        <div class=\\\"m-styles-body\\\">\\n            <div class=\\\"subtitle\\\">{{translations.pointOptions}} <span class='g-cartografia-flecha-abajo'></span></div>\\n            <!-- Point Font -->\\n            <div class=\\\"content-row-hidden\\\">\\n                <div data-pointfont class=\\\"group-row\\\">\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>bkColor:</span>\\n                        <input type=\\\"color\\\" data-style-options=\\\"point.form.fill\\\" value=\\\"{{point.icon.fill}}\\\">\\n                    </div>\\n                </div>\\n                <div data-pointfont class=\\\"group-row\\\">\\n\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>{{translations.form}}:</span>\\n                        <select data-style-options=\\\"point.form.form\\\">\\n                            {{#each point.formlist}}\\n                                <option value=\\\"{{this.id}}\\\" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\\n                            {{/each}}\\n                        </select>\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.family}}:</span>\\n                        <select data-style-options=\\\"point.form.class\\\" data-icon=\\\"{{point.con.class}}\\\">\\n                            <option value=\\\"\\\" selected>None</option>\\n                            <option value=\\\"g-cartografia\\\">G-Cartografa</option>\\n                            <option value=\\\"fa\\\">Font Awesome</option>\\n                        </select>\\n                        <button id=\\\"select-icon\\\" class=\\\"g-cartografia-info\\\"></button>\\n                        <div class=\\\"style-grid-container\\\">\\n                            <div class=\\\"style-grid-item g-cartografia-spinner\\\"></div>\\n                            <div class=\\\"style-grid-item g-cartografia-posicion3\\\"></div>\\n                            <div class=\\\"style-grid-item g-cartografia-brujula-norte\\\"></div>\\n                            <div class=\\\"style-grid-item g-cartografia-capas2\\\"></div>\\n                            <div class=\\\"style-grid-item g-cartografia-comentarios\\\"></div>\\n                            <div class=\\\"style-grid-item g-cartografia-escala3\\\"></div>\\n                            <div class=\\\"style-grid-item g-cartografia-flecha\\\"></div>\\n                            <div class=\\\"style-grid-item g-cartografia-flecha-abajo\\\"></div>\\n                            <div class=\\\"style-grid-item g-cartografia-flecha-arriba\\\"></div>\\n                            <div class=\\\"style-grid-item g-cartografia-flecha-derecha\\\"></div>\\n                            <div class=\\\"style-grid-item g-cartografia-flecha-izquierda\\\"></div>\\n                            <div class=\\\"style-grid-item g-cartografia-gps2\\\"></div>\\n                            <div class=\\\"style-grid-item g-cartografia-info\\\"></div>\\n                            <div class=\\\"style-grid-item g-cartografia-papelera\\\"></div>\\n                            <div class=\\\"style-grid-item g-cartografia-pin\\\"></div>\\n                            <div class=\\\"style-grid-item g-cartografia-zoom-extension\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-glass\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-music\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-search\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-envelope-o\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-heart\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-star\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-star-o\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-user\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-film\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-th-large\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-th\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-th-list\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-check\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-remove\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-close\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-times\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-search-plus\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-search-minus\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-power-off\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-signal\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-gear\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-cog\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-trash-o\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-home\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-file-o\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-clock-o\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-road\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-download\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-arrow-circle-o-down\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-arrow-circle-o-up\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-inbox\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-play-circle-o\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-rotate-right\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-repeat\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-refresh\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-list-alt\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-lock\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-flag\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-headphones\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-volume-off\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-volume-down\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-volume-up\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-qrcode\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-barcode\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-tag\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-tags\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-book\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-bookmark\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-print\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-camera\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-font\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-bold\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-italic\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-text-height\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-text-width\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-align-left\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-align-center\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-align-right\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-align-justify\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-list\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-dedent\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-outdent\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-indent\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-video-camera\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-photo\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-image\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-picture-o\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-pencil\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-map-marker\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-adjust\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-tint\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-edit\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-pencil-square-o\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-share-square-o\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-check-square-o\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-arrows\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-step-backward\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-fast-backward\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-backward\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-play\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-pause\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-stop\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-forward\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-fast-forward\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-step-forward\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-eject\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-chevron-left\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-chevron-right\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-plus-circle\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-minus-circle\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-times-circle\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-check-circle\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-question-circle\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-info-circle\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-crosshairs\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-times-circle-o\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-check-circle-o\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-ban\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-arrow-left\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-arrow-right\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-arrow-up\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-arrow-down\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-mail-forward\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-share\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-expand\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-compress\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-plus\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-minus\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-asterisk\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-exclamation-circle\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-gift\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-leaf\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-fire\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-eye\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-eye-slash\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-warning\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-exclamation-triangle\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-plane\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-calendar\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-random\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-comment\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-magnet\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-chevron-up\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-chevron-down\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-retweet\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-shopping-cart\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-folder\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-folder-open\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-arrows-v\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-arrows-h\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-bar-t-o\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-bar-t\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-twitter-square\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-facebook-square\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-camera-retro\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-key\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-gears\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-cogs\\\"></div>\\n                            <div class=\\\"style-grid-item fa fa-comments\\\"></div>\\n                        </div>\\n                    </div>\\n\\n                </div>\\n                <div data-pointfont class=\\\"group-row\\\">\\n\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>{{translations.radius}}:</span>\\n                        <input type=\\\"number\\\" min=\\\"1\\\" max=\\\"100\\\" value=\\\"20\\\" data-style-options=\\\"point.form.radius\\\" value=\\\"{{point.icon.radius}}\\\">\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.iconSize}}:</span>\\n                        <input type=\\\"number\\\" step=\\\"0.1\\\" min=0 max=100 data-style-options=\\\"point.form.fontsize\\\" value=\\\"{{point.icon.fontsize}}\\\">\\n                    </div>\\n\\n\\n                </div>\\n                <div data-pointfont class=\\\"group-row\\\">\\n\\n                    <div class=\\\"style-col-1 input-reverse\\\">\\n                        <span>{{translations.gradient}}</span>\\n                        <input type=\\\"checkbox\\\" data-style-options=\\\"point.form.gradient\\\" {{#if point.icon.gradient}}checked{{/if}}>\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.iconColor}}:</span>\\n                        <input type=\\\"color\\\" data-style-options=\\\"point.form.color\\\" value=\\\"{{point.icon.color}}\\\">\\n                    </div>\\n                </div>\\n                <!-- Common -->\\n                <div data-common-icon class=\\\"group-row\\\">\\n\\n                    <div class=\\\"style-col-1\\\">\\n                        <span>Offset:</span>\\n                        <input value=\\\"{{#get 0 point.icon.offset}}{{/get}}\\\" type=\\\"number\\\" data-target=\\\"form-offset\\\" data-style-options=\\\"point.form.offset\\\">\\n                        <span class=\\\"empty\\\">&nbsp;</span>\\n                        <input value=\\\"{{#get 1 point.icon.offset}}{{/get}}\\\" type=\\\"number\\\" data-id=\\\"form-offset\\\" />\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.opacity}}:</span>\\n                        <input value=\\\"{{point.icon.opacity}}\\\" type=\\\"number\\\" step=\\\"0.1\\\" min=0 max=1 data-style-options=\\\"point.form.opacity\\\">\\n                    </div>\\n                </div>\\n                <div data-common-icon class=\\\"group-row\\\">\\n\\n                    <div class=\\\"style-col-1 input-reverse\\\">\\n                        <span>{{translations.enableRotation}}</span>\\n                        <input {{#if point.icon.rotate}}checked {{/if}} type=\\\"checkbox\\\" data-style-options=\\\"point.form.rotate\\\">\\n                    </div>\\n\\n                    <div class=\\\"style-col-2\\\">\\n                        <span>{{translations.rotation}}:</span>\\n                        <input value=\\\"{{point.icon.rotation}}\\\" type=\\\"number\\\" min=0 max=360 data-style-options=\\\"point.form.rotation\\\">\\n                    </div>\\n\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\";","module.exports = \"<div data-role=\\\"m-proportional\\\" class=\\\"m-stylemanager-simple-section m-proportional m-hidden\\\">\\n    <div class=\\\"styles-row\\\">\\n        <div class=\\\"title\\\">{{translations.options}}</div>\\n        <div class=\\\"m-styles-body\\\">\\n            <div class=\\\"group-row\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span>{{translations.attributes}}:</span>\\n                    <select data-options=\\\"attributeName\\\">\\n                        {{#each attributes}}\\n                            <option value=\\\"{{this.name}}\\\" {{#eq this.name this.selected}}selected{{/eq}}>{{this.name}}</option>\\n                        {{/each}}\\n                    </select>\\n                </div>\\n                <div class=\\\"style-col-2\\\">\\n                    <span>{{translations.scale}}:</span>\\n                    <select data-options=\\\"scaledName\\\">\\n                        {{#each functions}}\\n                            <option value=\\\"{{this.id}}\\\" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\\n                        {{/each}}\\n                    </select>\\n                </div>\\n            </div>\\n            <div class=\\\"group-row\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span>{{translations.minimumRadius}}:</span>\\n                    <input type=\\\"number\\\" min=\\\"1\\\" data-options=\\\"minRadius\\\" value=\\\"{{this.minRadius}}\\\">\\n                </div>\\n                <div class=\\\"style-col-2\\\">\\n                    <span for=\\\"\\\">{{translations.maximumRadius}}:</span>\\n                    <input type=\\\"number\\\" min=\\\"1\\\" data-options=\\\"maxRadius\\\" value=\\\"{{this.maxRadius}}\\\">\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\";","module.exports = \"<div data-role=\\\"m-cluster\\\" class=\\\"m-stylemanager-simple-section m-hidden\\\">\\n    <!-- Ranges Options -->\\n    <div class=\\\"styles-row\\\" data-id=\\\"ranges\\\">\\n        <div class=\\\"title\\\">{{translations.ranks}}</div>\\n        <div class=\\\"m-styles-body\\\">\\n\\n            <div class=\\\"group-row\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span>{{translations.numberRanks}}:</span>\\n                    <input type=\\\"number\\\" data-number-ranges value=\\\"{{ranges.length}}\\\" min=\\\"1\\\" max=\\\"12\\\">\\n                </div>\\n            </div>\\n            <div data-parent=\\\"ranges\\\">\\n                {{#each ranges}}\\n                    <div {{#neq @index 0}} class=\\\"m-hidden\\\" {{/neq}} data-page=\\\"{{#sum @index 1}}{{/sum}}\\\">\\n                        <div class=\\\"subtitle\\\">{{../translations.rank}} {{#sum @index 1}}{{/sum}}</div>\\n                        <div class=\\\"group-row\\\">\\n                            <div class=\\\"style-col-1\\\">\\n                                <span>{{../translations.since}}:</span>\\n                                <input data-apply-range type=\\\"number\\\" min=\\\"0\\\" data-ranges-options=\\\"minRange\\\" data-ranges-id=\\\"{{#sum @index 1}}{{/sum}}\\\" value=\\\"{{min}}\\\">\\n                            </div>\\n                            <div class=\\\"style-col-2\\\">\\n                                <span>{{../translations.until}}:</span>\\n                                <input data-apply-range type=\\\"number\\\" min=\\\"0\\\" data-ranges-options=\\\"maxRange\\\" data-ranges-id=\\\"{{#sum @index 1}}{{/sum}}\\\" value=\\\"{{max}}\\\">\\n                            </div>\\n                        </div>\\n                        <div class=\\\"group-row\\\">\\n                            <div class=\\\"style-col-1\\\">\\n                                <span>{{../translations.fill}}:</span>\\n                                <input data-apply-range value=\\\"{{fill}}\\\" type=\\\"color\\\" data-ranges-options=\\\"style.fill.color\\\" data-ranges-id=\\\"{{#sum @index 1}}{{/sum}}\\\">\\n                            </div>\\n                            <div class=\\\"style-col-2\\\">\\n                                <span>{{../translations.opacity}}:</span>\\n                                <input data-apply-range value=\\\"{{opacity}}\\\" min=\\\"0\\\" step=\\\"0.1\\\" type=\\\"number\\\" data-ranges-options=\\\"style.fill.opacity\\\" data-ranges-id=\\\"{{#sum @index 1}}{{/sum}}\\\">\\n                            </div>\\n                        </div>\\n                        <div class=\\\"group-row\\\">\\n                            <div class=\\\"style-col-1\\\">\\n                                <span>{{../translations.border}}:</span>\\n                                <input data-apply-range type=\\\"color\\\" value=\\\"{{stroke}}\\\" data-ranges-options=\\\"style.stroke.color\\\" data-ranges-id=\\\"{{#sum @index 1}}{{/sum}}\\\">\\n                            </div>\\n                            <div class=\\\"style-col-2\\\">\\n                                <span>{{../translations.width}}:</span>\\n                                <input data-apply-range value=\\\"{{width}}\\\" type=\\\"number\\\" min=\\\"1\\\" data-ranges-options=\\\"style.stroke.width\\\" data-ranges-id=\\\"{{#sum @index 1}}{{/sum}}\\\">\\n                            </div>\\n                        </div>\\n\\n                        <div class=\\\"group-row\\\">\\n                            <div class=\\\"style-col-1\\\">\\n                                <span>{{../translations.radius}}:</span>\\n                                <input data-apply-range value=\\\"{{#if radius}}{{radius}}{{/if}}{{#unless radius}}10{{/unless}}\\\" type=\\\"number\\\" min=\\\"1\\\" data-ranges-options=\\\"style.radius\\\" data-ranges-id=\\\"{{#sum @index 1}}{{/sum}}\\\">\\n                            </div>\\n                        </div>\\n                    </div>\\n                {{/each}} {{#pages}}\\n                    <div class=\\\"m-hidden\\\" data-page=\\\"{{id}}\\\">\\n                        <div class=\\\"subtitle\\\">{{../translations.range}} {{id}}</div>\\n                        <div class=\\\"group-row\\\">\\n                            <div class=\\\"style-col-1\\\">\\n                                <span>{{../translations.since}}:</span>\\n                                <input value=\\\"{{min}}\\\" type=\\\"number\\\" min=\\\"0\\\" data-ranges-options=\\\"minRange\\\" data-ranges-id=\\\"{{id}}\\\">\\n                            </div>\\n                            <div class=\\\"style-col-2\\\">\\n                                <span>{{../translations.until}}:</span>\\n                                <input value=\\\"{{max}}\\\" type=\\\"number\\\" min=\\\"0\\\" data-ranges-options=\\\"maxRange\\\" data-ranges-id=\\\"{{id}}\\\">\\n                            </div>\\n                        </div>\\n                        <div class=\\\"group-row\\\">\\n                            <div class=\\\"style-col-1\\\">\\n                                <span>{{../translations.fill}}:</span>\\n                                <input type=\\\"color\\\" value=\\\"{{fill}}\\\" data-ranges-options=\\\"style.fill.color\\\" data-ranges-id=\\\"{{id}}\\\">\\n                            </div>\\n                            <div class=\\\"style-col-2\\\">\\n                                <span>{{../translations.opacity}}:</span>\\n                                <input value=\\\"1\\\" step=\\\"0.1\\\" type=\\\"number\\\" min=\\\"0\\\" data-ranges-options=\\\"style.fill.opacity\\\" data-ranges-id=\\\"{{id}}\\\">\\n                            </div>\\n                        </div>\\n                        <div class=\\\"group-row\\\">\\n                            <div class=\\\"style-col-1\\\">\\n                                <span>{{../translations.border}}:</span>\\n                                <input type=\\\"color\\\" value=\\\"{{stroke}}\\\" data-ranges-options=\\\"style.stroke.color\\\" data-ranges-id=\\\"{{id}}\\\">\\n                            </div>\\n                            <div class=\\\"style-col-2\\\">\\n                                <span>{{../translations.width}}:</span>\\n                                <input value=\\\"2\\\" type=\\\"number\\\" min=\\\"1\\\" data-ranges-options=\\\"style.stroke.width\\\" data-ranges-id=\\\"{{id}}\\\">\\n                            </div>\\n                        </div>\\n\\n                        <div class=\\\"group-row\\\">\\n                            <div class=\\\"style-col-1\\\">\\n                                <span>{{../translations.radius}}:</span>\\n                                <input value=\\\"10\\\" type=\\\"number\\\" min=\\\"1\\\" data-ranges-options=\\\"style.radius\\\" data-ranges-id=\\\"{{id}}\\\">\\n                            </div>\\n                        </div>\\n                    </div>\\n                {{/pages}}\\n            </div>\\n\\n            <div class=\\\"m-pagination\\\" data-parent-pagination>\\n                <ul>\\n                    {{#each ranges}}\\n                        <li data-page-selector=\\\"{{#sum @index 1}}{{/sum}}\\\" {{#eq @index 0}} data-page-active class=\\\"m-page-active\\\" {{/eq}}>{{#sum @index 1}}{{/sum}}</li>\\n                    {{/each}} {{#each pages}}\\n                        <li data-page-selector=\\\"{{id}}\\\" class=\\\"m-hidden\\\">{{id}}</li>\\n                    {{/each}}\\n\\n                </ul>\\n            </div>\\n\\n        </div>\\n    </div>\\n    <!-- Vendor Options -->\\n    <div class=\\\"styles-row\\\" data-id=\\\"options\\\">\\n        <div class=\\\"title\\\">{{translations.options}}</div>\\n        <div class=\\\"m-styles-body\\\">\\n\\n            <div class=\\\"group-row\\\">\\n                <div class=\\\"style-col-1 input-reverse\\\">\\n                    <span>{{translations.envelope}}</span>\\n                    <input type=\\\"checkbox\\\" data-style-options=\\\"hoveInteraction\\\" {{#if hoverInteraction}}checked{{/if}}>\\n                </div>\\n                <div class=\\\"style-col-2 input-reverse\\\">\\n                    <span>{{translations.quantity}}</span>\\n                    <input type=\\\"checkbox\\\" data-style-options=\\\"displayAmount\\\" {{#if displayAmount}}checked{{/if}}>\\n                </div>\\n            </div>\\n\\n            <div class=\\\"group-row\\\">\\n                <div class=\\\"style-col-1 input-reverse\\\">\\n                    <span>{{translations.selectable}}</span>\\n                    <input type=\\\"checkbox\\\" data-style-options=\\\"selectInteraction\\\" {{#if selectInteraction}}checked{{/if}}>\\n                </div>\\n                <div class=\\\"style-col-2 input-reverse\\\">\\n                    <span>{{translations.animated}}</span>\\n                    <input type=\\\"checkbox\\\" data-style-options=\\\"animated\\\" {{#if animated}}checked{{/if}}>\\n                </div>\\n            </div>\\n\\n            <div class=\\\"group-row\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span>{{translations.distance}}:</span>\\n                    <input type=\\\"number\\\" min=\\\"1\\\" data-style-options=\\\"distance\\\" value=\\\"{{distance}}\\\">\\n                </div>\\n                <div class=\\\"style-col-2\\\">\\n                    <span>{{translations.points}}:</span>\\n                    <input type=\\\"number\\\" min=\\\"1\\\" data-style-options=\\\"maxFeaturesToSelect\\\" value=\\\"{{maxFeaturesToSelect}}\\\">\\n                </div>\\n            </div>\\n\\n            <div class=\\\"group-row\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span>{{translations.fanDistance}}:</span>\\n                    <input type=\\\"number\\\" min=\\\"1\\\" data-style-options=\\\"distanceSelectFeatures\\\" value=\\\"{{distanceSelectFeatures}}\\\">\\n                </div>\\n                <div class=\\\"style-col-2\\\">\\n                    <span>{{translations.textColor}}:</span>\\n                    <input type=\\\"color\\\" data-style-options=\\\"label.color\\\" value=\\\"{{label.color}}\\\">\\n                </div>\\n            </div>\\n\\n        </div>\\n    </div>\\n</div>\";","module.exports = \"<div data-role=\\\"m-choropleth\\\" class=\\\"m-stylemanager-simple-section m-hidden m-choropleth\\\">\\n    <div class=\\\"styles-row\\\">\\n        <div class=\\\"title\\\">{{translations.options}}</div>\\n        <div class=\\\"m-styles-body\\\">\\n\\n            <div class=\\\"group-row\\\">\\n\\n                <div class=\\\"style-col-1\\\">\\n                    <span>{{translations.attributes}}:</span>\\n                    <select data-options=\\\"attributeName\\\">\\n                        {{#each attributes}}\\n                            <option value=\\\"{{this.name}}\\\" {{#eq this.name this.selected}} selected {{/eq}}>{{this.name}}</option>\\n                        {{/each}}\\n                    </select>\\n                </div>\\n\\n            </div>\\n            <div class=\\\"group-row\\\">\\n\\n                <div class=\\\"style-col-1\\\">\\n                    <span>{{translations.algorithm}}:</span>\\n                    <select data-options=\\\"quantification\\\">\\n                        <option value=\\\"ARITHMETIC_PROGRESSION\\\" {{#eq quantification \\\"arithmetic_progression\\\"}}selected{{/eq}}>{{translations.arithmeticProgression}}</option>\\n                        <option value=\\\"EQUAL_INTERVAL\\\" {{#eq quantification \\\"equal_interval\\\"}}selected{{/eq}}>{{translations.equalIntervals}}</option>\\n                        <option value=\\\"GEOMETRIC_PROGRESSION\\\" {{#eq quantification \\\"geometric_progression\\\"}}selected{{/eq}}>{{translations.geometricProgression}}</option>\\n                        <option value=\\\"MEDIA_SIGMA\\\" {{#eq quantification \\\"media_sigma\\\"}}selected{{/eq}}>{{translations.meanSigma}}</option>\\n                        <option value=\\\"JENKS\\\" {{#eq quantification \\\"jenks\\\"}}selected{{/eq}}>{{translations.naturalBreaks}}</option>\\n                        <option value=\\\"QUANTILE\\\" {{#eq quantification \\\"quantile\\\"}}selected{{/eq}}>{{translations.quantile}}</option>\\n                    </select>\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span>{{translations.ranges}}:</span>\\n                    <input type=\\\"number\\\" min=\\\"2\\\" data-number-ranges data-options=\\\"ranges\\\" value=\\\"{{ranges}}\\\">\\n                </div>\\n            </div>\\n            <div class=\\\"subtitle\\\">\\n                <span>{{translations.colorRamp}}</span>\\n                <button title=\\\"{{translations.addColor}}\\\" class=\\\"m-button-add-styles\\\" data-add-color><i class=\\\"fa fa-plus\\\"></i></button>\\n            </div>\\n            <div class=\\\"group-row\\\">\\n                <div class=\\\"style-col-color\\\">\\n                    <span>{{translations.initial}}:</span>\\n                    <input type=\\\"color\\\" data-array-options=\\\"colors\\\" value=\\\"{{startColor}}\\\">\\n                </div>\\n                <div data-colors class=\\\"style-col-color\\\">\\n                </div>\\n                <div class=\\\"style-col-color\\\">\\n                    <span>{{translations.final}}:</span>\\n                    <input type=\\\"color\\\" data-array-options=\\\"colors\\\" value=\\\"{{endColor}}\\\">\\n                </div>\\n            </div>\\n\\n        </div>\\n    </div>\\n</div>\";","module.exports = \"<div data-role=\\\"m-category\\\" class=\\\"m-stylemanager-simple-section m-category m-hidden\\\">\\n    <div class=\\\"styles-row\\\">\\n        <div class=\\\"title\\\">{{translations.options}}</div>\\n        <div class=\\\"m-styles-body\\\">\\n            <div class=\\\"group-row\\\">\\n\\n                <div class=\\\"style-col-1\\\">\\n                    <span>{{translations.attribute}}:</span>\\n                    <select data-options=\\\"attributeName\\\">\\n                        {{#each attributes}}\\n                            <option value=\\\"{{this.name}}\\\" {{#eq this.name this.selected}}selected{{/eq}}>{{this.name}}</option>\\n                        {{/each}}\\n                    </select>\\n                </div>\\n            </div>\\n\\n            <div class=\\\"container-table\\\" data-options=\\\"values\\\">\\n\\n            </div>\\n        </div>\\n    </div>\\n</div>\";","module.exports = \"<div data-role=\\\"m-heatmap\\\" class=\\\"m-stylemanager-simple-section m-hidden m-heatmap\\\">\\n    <div class=\\\"styles-row\\\">\\n        <div class=\\\"title\\\">Opciones</div>\\n        <div class=\\\"m-styles-body\\\">\\n            <div class=\\\"group-row\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span>{{translations.attribute}}:</span>\\n                    <select data-options=\\\"attributeName\\\">\\n                        <option value=\\\"{{null}}\\\" selected></option>\\n                        {{#each attributes}}\\n                            <option value=\\\"{{this.name}}\\\" {{#eq this.name this.selected}}selected{{/eq}}>{{this.name}}</option>\\n                        {{/each}}\\n                    </select>\\n                </div>\\n            </div>\\n            <div class=\\\"group-row\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span>{{translations.gradient}}:</span>\\n                    <div class=\\\"m-grid\\\" data-parent=\\\"gradient\\\">\\n                        {{#each gradient}}\\n                            <div class=\\\"m-removable-input-color\\\">\\n                                <input type=\\\"color\\\" data-array-options=\\\"gradient\\\" value=\\\"{{this}}\\\">\\n                                <span class=\\\"m-close\\\"></span>\\n                            </div>\\n                        {{/each}}\\n                    </div>\\n                </div>\\n                <div class=\\\"style-col-2\\\">\\n                    <span></span>\\n                    <button data-add class=\\\"m-add-gradient m-button-styles\\\">{{translations.addColor}}</button>\\n                </div>\\n            </div>\\n\\n            <div class=\\\"group-row\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span for=\\\"\\\">{{translations.blur}}:</span>\\n                    <input type=\\\"number\\\" data-style-options=\\\"blur\\\" min=\\\"1\\\" value=\\\"{{blur}}\\\">\\n                </div>\\n\\n                <div class=\\\"style-col-2\\\">\\n                    <span for=\\\"\\\">{{translations.radius}}:</span>\\n                    <input type=\\\"number\\\" data-style-options=\\\"radius\\\" min=\\\"1\\\" value=\\\"{{radius}}\\\">\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\";","module.exports = \"<div data-role=\\\"m-chart\\\" class=\\\"m-stylemanager-simple-section m-chart m-hidden\\\">\\n    <div class=\\\"styles-row m-stylechart\\\">\\n        <div class=\\\"title\\\">{{translations.options}}</div>\\n\\n        <div class=\\\"group-row\\\">\\n            <div class=\\\"style-col-1\\\">\\n                <span>{{translations.type}}:</span>\\n                <select data-style-options=\\\"type\\\">\\n                    <option value=\\\"pie\\\" {{#eq type \\\"pie\\\"}}selected {{/eq}}>{{translations.cake}}</option>\\n                    <option value=\\\"pie3D\\\" {{#eq type \\\"pie3D\\\"}}selected {{/eq}}>{{translations.tDcake}}</option>\\n                    <option value=\\\"donut\\\" {{#eq type \\\"donut\\\"}}selected {{/eq}}>{{translations.donut}}</option>\\n                    <option value=\\\"bar\\\" {{#eq type \\\"bar\\\"}}selected {{/eq}}>{{translations.graphic}}</option>\\n                </select>\\n            </div>\\n\\n            <div class=\\\"style-col-2\\\">\\n                <span>Color:</span>\\n                <select data-style-options=\\\"scheme\\\">\\n                    <option value=\\\"Classic\\\" {{#eq scheme \\\"Classic\\\"}}selected {{/eq}}>{{translations.classic}}</option>\\n                    <option value=\\\"Dark\\\" {{#eq scheme \\\"Dark\\\"}}selected {{/eq}}>{{translations.dark}}</option>\\n                    <option value=\\\"Pale\\\" {{#eq scheme \\\"Pale\\\"}}selected {{/eq}}>{{translations.pale}}</option>\\n                    <option value=\\\"Pastel\\\" {{#eq scheme \\\"Pastel\\\"}}selected {{/eq}}>{{translations.neon}}</option>\\n                    <option value=\\\"Neon\\\" {{#eq scheme \\\"Neon\\\"}}selected {{/eq}}>{{translations.pie}}</option>\\n                </select>\\n            </div>\\n        </div>\\n\\n        <div class=\\\"group-row\\\">\\n            <div class=\\\"style-col-1\\\">\\n                <span>{{translations.xAxis}}:</span>\\n                <input type=\\\"number\\\" value=\\\"{{offsetX}}\\\" data-style-options=\\\"offsetX\\\">\\n            </div>\\n\\n            <div class=\\\"style-col-2\\\">\\n                <span>{{translations.yAxis}}:</span>\\n                <input type=\\\"number\\\" value=\\\"{{offsetY}}\\\" data-style-options=\\\"offsetY\\\">\\n            </div>\\n        </div>\\n\\n        <div class=\\\"group-row\\\">\\n            <div class=\\\"style-col-1 {{#eq type 'bar'}}m-hidden{{/eq}}\\\" data-type=\\\"donut,pie,pie3D\\\">\\n                <span>{{translations.radius}}:</span>\\n                <input type=\\\"number\\\" min=\\\"1\\\" value=\\\"{{radius}}\\\" data-style-options=\\\"radius\\\">\\n            </div>\\n\\n            <div class=\\\"style-col-2 {{#neq type 'donut'}}m-hidden{{/neq}}\\\" data-type=\\\"donut\\\">\\n                <span>{{translations.radius}} donut:</span>\\n                <input type=\\\"number\\\" min=\\\"0\\\" value=\\\"6\\\" data-style-options=\\\"donutRadio\\\">\\n            </div>\\n        </div>\\n\\n        <div class=\\\"group-row\\\">\\n            <div class=\\\"style-col-1 {{#neq type 'pie3D'}}m-hidden{{/neq}}\\\" data-type=\\\"pie3D\\\">\\n                <span>3D color:</span>\\n                <input type=\\\"color\\\" value=\\\"#ff00f0\\\" data-style-options=\\\"fill3DColor\\\">\\n            </div>\\n        </div>\\n\\n    </div>\\n    <div class=\\\"styles-row m-stylechart\\\">\\n        <div class=\\\"title\\\">{{translations.attributes}}</div>\\n        <div class=\\\"group-row\\\">\\n\\n            <div class=\\\"style-col-1\\\">\\n                <span>{{translations.attribute}}:</span>\\n                <select data-attribute>\\n\\n                </select>\\n            </div>\\n\\n            <div class=\\\"style-col-2\\\">\\n                <span></span>\\n                <button data-add class=\\\"m-add-gradient m-button-styles\\\">{{translations.addAttribute}}</button>\\n            </div>\\n        </div>\\n        <div class=\\\"m-chart-variables\\\" data-variables>\\n        </div>\\n\\n        <div class=\\\"m-pagination\\\" data-pagination>\\n        </div>\\n\\n    </div>\\n</div>\";","module.exports = \"<div>\\n  {{#each buttonsParams}}\\n  <input data-apply=\\\"{{id}}\\\" type=\\\"checkbox\\\" class=\\\"m-input\\\" id=\\\"{{id}}\\\">\\n  <label data-selector=\\\"{{id}}\\\" for=\\\"{{id}}\\\" class=\\\"submenu-check check-selected\\\"></label>\\n  <label data-label=\\\"{{id}}\\\" class=\\\"submenu-label\\\">{{name}}</label>\\n  {{/each}}\\n</div>\\n\";","module.exports = \"<div class=\\\"m-removable-input-color\\\">\\n  <input type=\\\"color\\\" data-array-options=\\\"gradient\\\">\\n  <span class=\\\"m-close\\\"></span>\\n</div>\\n\";","module.exports = \"<div>\\n    <div class=\\\"color-intermedio\\\">\\n        <span>Color {{numbercolor}}:</span>\\n        <input type=\\\"color\\\" data-array-options=\\\"colors\\\" value=\\\"{{startColor}}\\\">\\n    </div>\\n</div>\";","module.exports = \"<div>\\n  {{#each buttonsParams}}\\n  <input data-apply=\\\"{{id}}\\\" type=\\\"checkbox\\\" class=\\\"m-input\\\" id=\\\"cat-{{id}}\\\">\\n  <label data-selector=\\\"{{id}}\\\" for=\\\"cat-{{id}}\\\" class=\\\"submenu-check check-selected\\\"></label>\\n  <label data-label=\\\"{{id}}\\\" class=\\\"submenu-label\\\">{{name}}</label> {{/each}}\\n</div>\\n\";","module.exports = \"<div>\\n\\n    <div class=\\\"subtitle m-hidden\\\" data-target=\\\"{{attribute}}\\\" data-delete=\\\"{{attribute}}\\\">Variable: {{attribute}} <span data-remove=\\\"{{attribute}}\\\" class=\\\"m-icon-remove\\\"><i class=\\\"g-cartografia-papelera 2x\\\"></i></span></div>\\n    <div class=\\\"group-row m-hidden\\\" data-target=\\\"{{attribute}}\\\" data-delete=\\\"{{attribute}}\\\">\\n\\n        <div class=\\\"style-col-1\\\">\\n            <span>{{translations.legend}}:</span>\\n            <input data-variable-option=\\\"{{attribute}}.legend\\\" type=\\\"text\\\" value=\\\"{{legend}}\\\">\\n        </div>\\n\\n        <div class=\\\"style-col-2 input-reverse\\\">\\n            <span>{{translations.showLabel}}</span>\\n            <input type=\\\"checkbox\\\" data-variable-option=\\\"{{attribute}}.labelshow\\\" {{#if label}} checked {{/if}}>\\n        </div>\\n\\n    </div>\\n\\n    <div data-label-target=\\\"{{attribute}}\\\" data-delete=\\\"{{attribute}}\\\" class=\\\"{{#unless label}}m-hidden{{/unless}}\\\">\\n\\n        <div class=\\\"group-row m-hidden\\\" data-target=\\\"{{attribute}}\\\">\\n\\n            <div class=\\\"style-col-1\\\">\\n                <span>{{translations.fill}}:</span>\\n                <input data-variable-option=\\\"{{attribute}}.label.fill\\\" type=\\\"color\\\" value=\\\"{{label.fill}}\\\">\\n            </div>\\n\\n            <div class=\\\"style-col-2\\\">\\n                <span>{{translations.size}}:</span>\\n                <input data-variable-option=\\\"{{attribute}}.label.scale\\\" type=\\\"number\\\" min=\\\"1\\\" value=\\\"{{label.scale}}\\\">\\n            </div>\\n\\n        </div>\\n\\n        <div class=\\\"group-row m-hidden\\\" data-target=\\\"{{attribute}}\\\">\\n\\n            <div class=\\\"style-col-1\\\">\\n                <span>{{translations.border}}:</span>\\n                <input type=\\\"color\\\" data-variable-option=\\\"{{attribute}}.label.stroke.color\\\" value=\\\"{{label.stroke.color}}\\\">\\n            </div>\\n\\n            <div class=\\\"style-col-2\\\">\\n                <span>{{translations.bulk}}:</span>\\n                <input type=\\\"number\\\" data-variable-option=\\\"{{attribute}}.label.stroke.width\\\" min=\\\"1\\\" value=\\\"{{label.stroke.width}}\\\">\\n            </div>\\n        </div>\\n\\n        <div class=\\\"group-row m-hidden\\\" data-target=\\\"{{attribute}}\\\">\\n\\n            <div class=\\\"style-col-1\\\">\\n                <span>{{translations.space}}:</span>\\n                <input data-variable-option=\\\"{{attribute}}.label.radiusIncrement\\\" type=\\\"number\\\" value=\\\"{{label.radiusIncrement}}\\\">\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"group-row m-hidden\\\" data-target=\\\"{{attribute}}\\\">\\n    </div>\\n</div>\";","module.exports = \"<div>\\n  <ul>\\n    {{#each ranges}}\\n    <li data-page-selector=\\\"{{this.attribute}}\\\">{{this.number}}</li>\\n    {{/each}}\\n  </ul>\\n</div>\\n\";","module.exports = \"<div>\\n  {{#each attributes}}\\n  <option value=\\\"{{this}}\\\">{{this}}</option>\\n  {{/each}}\\n</div>\\n\";","module.exports = \"<!-- Flow Line -->\\n<div data-role=\\\"m-flowline\\\" class=\\\"m-stylemanager-simple-section m-flowline m-hidden\\\">\\n    <div class=\\\"styles-row\\\">\\n        <div class=\\\"title\\\">{{translations.options}}</div>\\n        <div class=\\\"m-styles-body\\\">\\n            <div class=\\\"group-row\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span>Color:</span>\\n                    <input data-options=\\\"color\\\" type=\\\"color\\\" value=\\\"{{color}}\\\">\\n                </div>\\n                <div class=\\\"style-col-2\\\">\\n                    <span>Color 2:</span>\\n                    <input data-options=\\\"color2\\\" type=\\\"color\\\" value=\\\"{{color2}}\\\">\\n                </div>\\n            </div>\\n            <div class=\\\"group-row\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span>{{translations.width}}:</span>\\n                    <input data-options=\\\"width\\\" type=\\\"number\\\" value=\\\"{{width}}\\\">\\n                </div>\\n                <div class=\\\"style-col-2\\\">\\n                    <span>{{translations.width}} 2:</span>\\n                    <input data-options=\\\"width2\\\" type=\\\"number\\\" value=\\\"{{width2}}\\\">\\n                </div>\\n            </div>\\n            <div class=\\\"group-row\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span>{{translations.arrow}}:</span>\\n                    <select data-options=\\\"arrow\\\">\\n                        {{#each arrowlist}}\\n                            <option value=\\\"{{this.name}}\\\" {{#eq this.name this.selected}} selected {{/eq}}>\\n                                {{this.name}}\\n                            </option>\\n                        {{/each}}\\n                    </select>\\n                </div>\\n                <div class=\\\"style-col-2\\\">\\n                    <span>{{translations.arrowColor}}:</span>\\n                    <input value=\\\"{{arrowColor}}\\\" type=\\\"color\\\" data-options=\\\"arrowColor\\\">\\n                </div>\\n            </div>\\n            <div class=\\\"group-row\\\">\\n                <div class=\\\"style-col-1\\\">\\n                    <span>Line Cap:</span>\\n                    <select data-options=\\\"lineCap\\\">\\n                        {{#each linecap}}\\n                            <option value=\\\"{{this.id}}\\\" {{#eq this.id this.selected}}selected{{/eq}}>\\n                                {{this.name}}\\n                            </option>\\n                        {{/each}}\\n                    </select>\\n                </div>\\n                <div class=\\\"style-col-2\\\">\\n                    <span>Offset:</span>\\n                    <input value=\\\"{{offset0}}\\\" type=\\\"number\\\" data-options=\\\"offset0\\\">\\n                    <span class=\\\"empty\\\">&nbsp;</span>\\n                    <input value=\\\"{{offset1}}\\\" type=\\\"number\\\" data-options=\\\"offset1\\\">\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\";","export default class StyleManagerControl extends M.impl.Control {\n  /**\n   * This function adds the control to the specified map\n   *\n   * @public\n   * @function\n   * @param {M.Map} map to add the plugin\n   * @param {HTMLElement} html of the plugin\n   * @api stable\n   */\n  addTo(map, html) {\n    // specific code\n\n    // super addTo\n    super.addTo(map, html);\n  }\n\n  /**\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  activate() {}\n\n  /**\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  deactivate() {}\n}\n","import en from './en';\nimport es from './es';\n\n/**\n * Default object with es and en translate.\n *\n * @const\n * @type {object}\n */\nconst translations = {\n  en,\n  es,\n};\n\nconst getLang = () => {\n  let res = 'es';\n  if (typeof M.language.getLang === 'function') {\n    res = M.language.getLang();\n  }\n\n  return res;\n};\n\n/**\n * This function sets a new language translate.\n * @param {string} lang\n * @param {JSON} json\n * @public\n * @api\n */\nexport const addTranslation = (lang, json) => {\n  translations[lang] = json;\n};\n\n/**\n * This function gets a language translate.\n *\n * @param {string} lang\n * @return {JSON}\n * @public\n * @api\n */\nexport const getTranslation = (lang) => {\n  if (lang === 'es' || lang === 'en') {\n    return translations[lang];\n  }\n  return M.language.getTranslation(lang).fulltoc;\n};\n\n/**\n * This function gets a language value from key\n *\n * @public\n * @param {string}\n * @param {string}\n * @return {string}\n * @public\n * @api\n */\n\nexport const getValue = (keyPath, lang = getLang()) => {\n  const translation = getTranslation(lang);\n  let value = '';\n  if (M.utils.isNullOrEmpty(translation)) {\n    /* eslint-disable no-console */\n    console.warn(`The translation '${lang}' has not been defined.`);\n  } else {\n    value = keyPath.split('.').reduce((prev, current) => prev[current], translation);\n  }\n\n  return value;\n};\n","/* eslint-disable  dot-notation */\n/* eslint-disable no-param-reassign */\nimport attributestemplate from 'templates/attributestemplate';\nimport { getValue } from '../i18n/language';\n\n// eslint-disable-next-line\nexport class Binding {\n\n  constructor(html, htmlParent, styleType, style, layer) {\n    this.translations_ = {\n      options: getValue('options'),\n      pointOptions: getValue('pointOptions'),\n      lineOptions: getValue('lineOptions'),\n      polygonOptions: getValue('polygonOptions'),\n      opacity: getValue('opacity'),\n      radius: getValue('radius'),\n      width: getValue('width'),\n      pattern: getValue('pattern'),\n      type: getValue('type'),\n      size: getValue('size'),\n      space: getValue('space'),\n      rotation: getValue('rotation'),\n      scale: getValue('scale'),\n      none: getValue('none'),\n      text: getValue('text'),\n      font: getValue('font'),\n      horizontalAlignment: getValue('horizontalAlignment'),\n      verticalAlignment: getValue('verticalAlignment'),\n      enableRotation: getValue('enableRotation'),\n      fitGeometry: getValue('fitGeometry'),\n      minimumWidth: getValue('minimumWidth'),\n      smooth: getValue('smooth'),\n      overflow: getValue('overflow'),\n      hidden: getValue('hidden'),\n      visible: getValue('visible'),\n      ellipsis: getValue('ellipsis'),\n      labelStroke: getValue('labelStroke'),\n      stroke: getValue('stroke'),\n      label: getValue('label'),\n      anchorage: getValue('anchorage'),\n      form: getValue('form'),\n      family: getValue('family'),\n      iconSize: getValue('iconSize'),\n      gradient: getValue('gradient'),\n      iconColor: getValue('iconColor'),\n      legend: getValue('legend'),\n      showLabel: getValue('showLabel'),\n      fill: getValue('fill'),\n      border: getValue('border'),\n      bulk: getValue('bulk'),\n      attributes: getValue('attributes'),\n      minimumRadius: getValue('minimumRadius'),\n      maximumRadius: getValue('maximumRadius'),\n      attribute: getValue('attribute'),\n      addColor: getValue('addColor'),\n      blur: getValue('blur'),\n      ranks: getValue('ranks'),\n      rank: getValue('rank'),\n      numberRanks: getValue('numberRanks'),\n      ranges: getValue('ranges'),\n      adjust: getValue('adjust'),\n      since: getValue('since'),\n      until: getValue('until'),\n      envelope: getValue('envelope'),\n      quantity: getValue('quantity'),\n      selectable: getValue('selectable'),\n      animated: getValue('animated'),\n      distance: getValue('distance'),\n      points: getValue('points'),\n      fanDistance: getValue('fanDistance'),\n      textColor: getValue('textColor'),\n      algorithm: getValue('algorithm'),\n      arithmeticProgression: getValue('arithmeticProgression'),\n      equalIntervals: getValue('equalIntervals'),\n      geometricProgression: getValue('geometricProgression'),\n      meanSigma: getValue('meanSigma'),\n      naturalBreaks: getValue('naturalBreaks'),\n      quantile: getValue('quantile'),\n      colorRamp: getValue('colorRamp'),\n      cake: getValue('cake'),\n      tDcake: getValue('tDcake'),\n      donut: getValue('donut'),\n      graphic: getValue('graphic'),\n      classic: getValue('classic'),\n      dark: getValue('dark'),\n      pale: getValue('pale'),\n      neon: getValue('neon'),\n      pie: getValue('pie'),\n      xAxis: getValue('xAxis'),\n      yAxis: getValue('yAxis'),\n      addAttribute: getValue('addAttribute'),\n      initial: getValue('initial'),\n      final: getValue('final'),\n      arrow: getValue('arrow'),\n      arrowColor: getValue('arrowColor'),\n      modifySVG: getValue('modifySVG'),\n    };\n    this.htmlParent_ = htmlParent;\n    this.htmlTemplate_ = null;\n    this.html_ = html;\n    this.activated_ = true;\n    this.selected_ = false;\n    this.disabled_ = false;\n    this.layer_ = layer;\n    this.activateButton_ = htmlParent.querySelector(`[data-role=\"botonera\"] [data-flap=\"${styleType}\"]`);\n    this.selectButton_ = htmlParent.querySelector(`[data-role=\"botonera\"] [data-checkbox=\"${styleType}\"]`);\n    this.style_ = style;\n    this.styleType_ = styleType;\n    this.compilePromise_ = this.initializeView(this.html_, this.htmlParent_);\n  }\n\n  /**\n   * This function compile with handlerbars a html template.\n   *\n   * @function\n   * @return {Promise}\n   */\n  compileTemplate(htmlName, options) {\n    const opt = {\n      ...options,\n      translations: this.translations_,\n    };\n\n    return new Promise((resolve) => {\n      const html = M.template.compileSync(htmlName, {\n        vars: opt,\n      });\n      resolve(html);\n    });\n  }\n\n  /**\n   * This function compile with handlerbars a html template.\n   *\n   * @function\n   * @return {Promise}\n   */\n  getCompilePromise() {\n    return this.compilePromise_;\n  }\n\n  /**\n   * This function compile with handlebars a html template.\n   *\n   * @function\n   */\n  initializeView(htmlName, htmlParent) {\n    const optsTemplate = this.getOptionsTemplate();\n    return this.compileTemplate(htmlName, optsTemplate).then((html) => {\n      htmlParent.appendChild(html);\n      this.htmlTemplate_ = html;\n    });\n  }\n\n  /**\n   * @function\n   * @protected\n   */\n  getOptionsTemplate() {}\n\n  /**\n   * This function add the html template to html parent.\n   *\n   * @function\n   */\n  addTemplate(htmlName, htmlParent, options, callback = null) {\n    this.compileTemplate(htmlName, options).then((html) => {\n      htmlParent.innerHTML = html.innerHTML;\n      if (typeof callback === 'function') {\n        callback();\n      }\n    });\n  }\n\n  /**\n   * This function compile with handlerbars a html template.\n   *\n   * @function\n   */\n  appendTemplate(htmlName, htmlParent, options, callback = null) {\n    this.compileTemplate(htmlName, options).then((html) => {\n      htmlParent.appendChild(html);\n      if (typeof callback === 'function') {\n        callback();\n      }\n    });\n  }\n\n\n  /**\n   * This function generates the options style from his own html form.\n   *\n   * @function\n   * @api stable\n   */\n  generateOptions() {\n    const styleOpts = {};\n    styleOpts['options'] = {};\n    styleOpts['ranges'] = {};\n\n    // styleOpts section\n    this.querySelectorAllForEach('[data-options]', (element) => {\n      const prop = element.dataset['options'];\n      let value = element.value;\n      if (element.type === 'checkbox') {\n        value = element.checked;\n      }\n\n      if (element.type === 'number') {\n        value = parseFloat(value);\n      }\n\n      styleOpts[prop] = value;\n    });\n\n    // styleOpts.options section\n    this.querySelectorAllForEach('[data-style-options]', (element) => {\n      const prop = element.dataset['styleOptions'];\n      let value = element.value;\n      if (element.type === 'checkbox') {\n        value = element.checked;\n      }\n\n      if (element.type === 'number') {\n        value = parseFloat(value);\n      }\n\n      styleOpts['options'][prop] = value;\n    });\n\n    // Array option section (eg: gradient heatmap )\n    this.querySelectorAllForEach('[data-array-options]', (element) => {\n      const prop = element.dataset['arrayOptions'];\n      const value = element.value;\n\n      if (!M.utils.isArray(styleOpts['options'][prop])) {\n        styleOpts['options'][prop] = [];\n      }\n\n      styleOpts['options'][prop].push(value);\n    });\n\n    // Ranges cluster section\n    this.querySelectorAllForEach('[data-ranges-id]', (element) => {\n      const id = element.dataset['rangesId'];\n      if (styleOpts['ranges'][id] === undefined) {\n        styleOpts['ranges'][id] = {};\n      }\n      const path = element.dataset['rangesOptions'];\n      let value = element.value;\n\n      if (element.type === 'number') {\n        value = parseFloat(value);\n      }\n\n      Binding.createObj(styleOpts['ranges'][id], path, value);\n    });\n    return styleOpts;\n  }\n\n  /**\n   * This function activate or deactivate the binding class.\n   * @function\n   * @param {boolean}\n   */\n  setActivated(flag) {\n    this.activated_ = flag;\n    if (flag === true) {\n      this.activateButton_.classList.replace('check-selected', 'check-active');\n      this.unhide();\n    }\n\n    if (flag === false) {\n      this.activateButton_.classList.replace('check-active', 'check-selected');\n      this.hide();\n    }\n  }\n\n  /**\n   * This function select or unselect the binding class.\n   * @function\n   * @param {boolean}\n   */\n  setSelected(flag) {\n    this.selected_ = flag;\n    this.selectButton_.checked = flag;\n  }\n\n  /**\n   * This function disable or enable the binding class.\n   * @function\n   * @param {boolean}\n   */\n  setDisabled(flag) {\n    this.disabled_ = flag;\n    this.selectButton_.disabled = flag;\n    if (flag === true) {\n      this.activateButton_.classList.add('check-inactive');\n      this.setSelected(!flag);\n      this.setActivated(!flag);\n      this.hide();\n    }\n\n    if (flag === false) {\n      this.activateButton_.classList.remove('check-inactive');\n    }\n  }\n\n  /**\n   * This function hides the html view.\n   * @function\n   * @return {Binding}\n   */\n  hide() {\n    this.getTemplate().classList.add('m-hidden');\n    return this;\n  }\n\n  /**\n   * This function shows the html view.\n   * @function\n   * @return {Binding}\n   */\n  unhide() {\n    this.getTemplate().classList.remove('m-hidden');\n    return this;\n  }\n\n  /**\n   * This function gets the html template of binding class.\n   * @function\n   * @param {boolean}\n   */\n  getTemplate() {\n    return this.htmlTemplate_;\n  }\n\n  /**\n   * This function gets the html template of binding class.\n   * @function\n   * @param {boolean}\n   */\n  getParentTemplate() {\n    return this.htmlParent_;\n  }\n\n  /**\n   * TODO\n   * @function\n   * @param {string}\n   */\n  querySelector(selector) {\n    return this.getTemplate().querySelector(selector);\n  }\n\n  /**\n   * TODO\n   * @function\n   * @param {string}\n   */\n  querySelectorAll(selector) {\n    return this.getTemplate().querySelectorAll(selector);\n  }\n\n  /**\n   * TODO\n   * @function\n   * @param {string}\n   */\n  querySelectorAllForEach(selector, callback, scope = undefined) {\n    Array.prototype.forEach.apply(this.querySelectorAll(selector), [callback, scope]);\n  }\n\n  /**\n   * TODO\n   * @function\n   * @param {string}\n   */\n  querySelectorAllMap(selector, callback, scope = undefined) {\n    return Array.prototype.map.apply(this.querySelectorAll(selector), [callback, scope]);\n  }\n\n  /**\n   * TODO\n   * @function\n   * @param {string}\n   */\n  querySelectorParent(selector) {\n    return this.getParentTemplate().querySelector(selector);\n  }\n\n  /**\n   * TODO\n   * @function\n   * @param {string}\n   */\n  querySelectorAllParent(selector) {\n    return this.getParentTemplate().querySelectorAll(selector);\n  }\n\n  /**\n   * TODO\n   * @function\n   * @param {string}\n   */\n  querySelectorAllForEachParent(selector, callback, scope = undefined) {\n    Array.prototype.forEach.apply(this.querySelectorAllParent(selector), [callback, scope]);\n  }\n\n  /**\n   * TODO\n   * @function\n   * @param {string}\n   */\n  querySelectorAllMapParent(selector, callback, scope = undefined) {\n    return Array.prototype.map.apply(this.querySelectorAllParent(selector), [callback, scope]);\n  }\n\n  /**\n   * This function sets the layer of a binding class.\n   * @function\n   * @param {M.layer.Vector}\n   * @returns {Binding}\n   */\n  setLayer(layer) {\n    this.layer_ = layer;\n    return this;\n  }\n\n  /**\n   * This function sets the layer of a binding class.\n   * @function\n   * @param {M.layer.Vector}\n   * @returns {Binding}\n   */\n  getActivateButton() {\n    return this.activateButton_;\n  }\n\n  /**\n   * This function sets the layer of a binding class.\n   * @function\n   * @param {M.layer.Vector}\n   * @returns {Binding}\n   */\n  getSelectButton() {\n    return this.selectButton_;\n  }\n\n  /**\n   * This function sets the layer of a binding class.\n   * @function\n   * @param {M.layer.Vector}\n   * @returns {Binding}\n   */\n  setIntegerAttributes() {\n    const layer = this.layer_;\n    if (layer instanceof M.layer.Vector) {\n      const attributeNames = this.filterAttributesFeature('number').map((element) => {\n        return {\n          name: element,\n        };\n      });\n      const selectElement = this.getTemplate().querySelector(\"[data-options='attributeName']\");\n      this.compileTemplate(attributestemplate, {\n        attributes: attributeNames,\n      }).then((html) => {\n        selectElement.innerHTML = html.innerHTML;\n        if (attributeNames.length === 0) {\n          this.deactivateBinding();\n        } else {\n          this.activateBinding();\n        }\n      });\n    }\n  }\n\n  /**\n   * This function sets the layer of a binding class.\n   * @function\n   * @param {M.layer.Vector}\n   * @returns {Binding}\n   */\n  filterAttributesFeature(type) {\n    const attributes = this.getAllFeaturesAttributes();\n    let attributeNames = Object.keys(attributes);\n    switch (type) {\n      case 'string':\n        attributeNames =\n          attributeNames.filter(element => Number.isNaN(parseFloat(attributes[element])));\n        break;\n      case 'number':\n        attributeNames =\n          attributeNames.filter(element => !Number.isNaN(parseFloat(attributes[element])));\n        break;\n      default:\n    }\n    return attributeNames;\n  }\n\n\n  /**\n   * This function sets the layer of a binding class.\n   * @function\n   * @param {M.layer.Vector}\n   * @returns {Binding}\n   */\n  getFeaturesAttributes() {\n    return this.layer_.getFeatures()[0].getAttributes();\n  }\n\n  /**\n   * This function search all attributes of each feature.\n   * @function\n   * @param {M.layer.Vector}\n   * @returns {Binding}\n   */\n  getAllFeaturesAttributes() {\n    const allFeatures = this.getFeaturesAttributes();\n    this.layer_.getFeatures().reverse().forEach((fs) => {\n      Object.keys(fs.getAttributes()).forEach((k, v) => {\n        // Keep a value if the next is null so we can check attribute type later.\n        if (v != null && allFeatures[k] == null) allFeatures[k] = v;\n      });\n    });\n    return allFeatures;\n  }\n\n  /**\n   * This function sets the layer of a binding class.\n   * @function\n   * @param {M.layer.Vector}\n   * @returns {Binding}\n   */\n  hideAllOptionsSections() {\n    this.querySelectorAllForEach('.styles-row', (element) => {\n      element.classList.add('m-hidden');\n    });\n  }\n\n  /**\n   * This function sets the layer of a binding class.\n   * @function\n   * @param {M.layer.Vector}\n   * @returns {Binding}\n   */\n  hideOptionSection(option) {\n    const optionsSection = this.querySelector(`[data-id=${option}]`);\n    optionsSection.classList.add('m-hidden');\n  }\n\n  /**\n   * This function sets the layer of a binding class.\n   * @function\n   * @param {M.layer.Vector}\n   * @returns {Binding}\n   */\n  showOptionSection(option) {\n    const optionsSection = this.querySelector(`[data-id=${option}]`);\n    optionsSection.classList.remove('m-hidden');\n  }\n\n  /**\n   * This function adds an event listener for all HTMLInputElement and HTMLSelectElement.\n   * @function\n   * @param {function}\n   */\n  addInputListener(callback) {\n    this.querySelectorAllForEach('input', (element) => {\n      element.addEventListener('change', callback);\n    });\n\n    this.querySelectorAllForEach('select', (element) => {\n      element.addEventListener('change', callback);\n    });\n  }\n\n  /**\n   * This function deactivate all html options of a binding class.\n   * @function\n   */\n  deactivateBinding() {\n    this.querySelectorAllForEach(\"input,select:not([data-options='attributeName']),label,span,.subtitle\", (element) => {\n      element.classList.add('m-hidden');\n    });\n\n    this.querySelector(\"[data-options='attributeName']\").disabled = true;\n    const option = document.createElement('option');\n    option.value = '';\n    option.innerText = 'No existen atributos';\n    this.querySelector(\"[data-options='attributeName']\").add(option);\n    this.querySelector('span').classList.remove('m-hidden');\n  }\n\n  /**\n   * This function deactivate all html options of a binding class.\n   * @function\n   */\n  activateBinding() {\n    this.querySelectorAllForEach(\"input,select:not([data-options='attributeName']),label,span,.subtitle\", (element) => {\n      element.classList.remove('m-hidden');\n    });\n\n    this.querySelector(\"[data-options='attributeName']\").disabled = false;\n  }\n\n  /**\n   * @function\n   */\n  destroy() {\n    this.htmlParent_.removeChild(this.htmlTemplate_);\n  }\n\n  /**\n   * This function\n   * @static\n   * @function\n   * @param {object}\n   * @param {string}\n   * @param {number|string|object}\n   */\n  static createObj(obj, path, value) {\n    const keys = M.utils.isArray(path) ? path : path.split('.');\n    const keyLength = keys.length;\n    const key = keys[0];\n    if (keyLength === 1) { // base case\n      if (M.utils.isArray(value)) {\n        value = [...value];\n      } else if (M.utils.isObject(value)) {\n        value = Object.assign({}, value);\n      }\n      obj[key] = value;\n    } else if (keyLength > 1) { // recursive case\n      if (M.utils.isNullOrEmpty(obj[key])) {\n        obj[key] = {};\n      }\n      Binding.createObj(obj[key], keys.slice(1, keyLength), value);\n    }\n  }\n}\n","/* eslint-disable  dot-notation */\n/* eslint-disable no-prototype-builtins */\n/* eslint-disable no-param-reassign */\n/* eslint-disable quote-props */\n\nimport * as chroma from 'chroma-js';\nimport buttonoptions from 'templates/buttonoptions';\nimport { Binding } from './binding';\nimport { getValue } from '../i18n/language';\n\n// eslint-disable-next-line\nexport class SimpleBinding extends Binding {\n  constructor(html, htmlParent, styleType, styleParams, layer, controller) {\n    super(html, htmlParent, styleType, styleParams, layer);\n    this.controller_ = controller;\n    this.compilePromise_.then(() => {\n      this.infoListener();\n    });\n  }\n\n  /**\n   * This function sets the layer of a binding class.\n   * @function\n   * @param {M.layer.Vector}\n   * @returns {Binding}\n   */\n  setLayer(layer, refresh = true) {\n    this.layer_ = layer;\n    if (refresh === true) {\n      this.refreshTemplate();\n    }\n    return this;\n  }\n\n  /**\n   * This function sets the geometry of binding class.\n   * @function\n   * @param {string}\n   * @return {SimpleBinding}\n   */\n  setGeometry(geometry) {\n    if (SimpleBinding.GEOMETRIES.includes(geometry)) {\n      this.geometry_ = geometry;\n    } else {\n      this.geometry_ = 'point';\n    }\n    return this;\n  }\n\n  /**\n   * This function sets the geometry of binding class.\n   * @function\n   * @return {string}\n   */\n  getGeometry() {\n    return this.geometry_;\n  }\n\n  /**\n   * This function refresh the html template.\n   * @function\n   */\n  refreshTemplate() {\n    this.querySelectorAllForEach('[data-geometry]', node => node.classList.remove('m-hidden'));\n    this.refreshOptionsButtons();\n    this.addLabelPathListener();\n  }\n\n  /**\n   * This function refresh the html options buttons template.\n   * @function\n   */\n  refreshOptionsButtons() {\n    const options = SimpleBinding.OPTIONS_POINT_SUBMENU;\n\n    this.addOptionsButtons(options, () => {\n      this.compatibleSectionListener('icon', 'form');\n      this.compatibleSectionListener('form', 'icon');\n    });\n  }\n\n  infoListener() {\n    const infoButton = this.querySelector('[data-info]');\n    infoButton.addEventListener('click', () => {\n      M.dialog.info(getValue('infoURL'), getValue('info'));\n    });\n  }\n\n  /**\n   * This function sets the layer of a binding class.\n   * @function\n   */\n  addOptionsButtons(options, callback = null) {\n    const parentHtml = this.getParentTemplate().querySelector('[data-buttons-option]');\n    this.hideAllOptionsSections();\n    this.addTemplate(buttonoptions, parentHtml, {\n      buttonsParams: options,\n    }, () => {\n      options.forEach((option) => {\n        this.toggleCheckOptionSection(option.id);\n        this.activateOptionSection(option.id);\n        if (typeof callback === 'function') {\n          callback();\n        }\n      });\n      this.activateOptionsStyle();\n      this.addEventCheckFromSubmenu();\n    });\n  }\n\n  addEventCheckFromSubmenu() {\n    this.querySelectorAllForEachParent('[data-buttons-option] input', (input) => {\n      input.addEventListener('change', () => {\n        this.controller_.selectPanel('stylesimple');\n      });\n    });\n  }\n\n  /**\n   * This functions initialize the submenu view of each option of Style simple\n   * @function\n   */\n  activateOptionsStyle() {\n    const style = this.style_;\n    let iconSelect = this.querySelector('#select-icon');\n    iconSelect.replaceWith(iconSelect.cloneNode(true));\n    iconSelect = this.querySelector('#select-icon');\n    iconSelect.addEventListener('click', this.eventOpenIconSelector);\n    const iconDialog = document.querySelector('.style-grid-container');\n    iconDialog.addEventListener('click', this.eventSelectIcon);\n    const familySelect = this.querySelector(\"[data-style-options='point.form.class']\");\n    familySelect.addEventListener('change', this.changeFamilyFont);\n    const famSelector = this.querySelector(\".style-col-2 > select[data-style-options = 'point.form.class']\");\n    const fmSIcon = famSelector.dataset.icon;\n    if (fmSIcon !== '') {\n      const fmSIconArray = fmSIcon.split('-');\n      // eslint-disable-next-line\n      const fam = fmSIconArray[0] == 'g' ? 'g-cartografia' : (fmSIconArray[0] == 'fa' ? 'fa' : '');\n      famSelector.querySelector(`option[value=\"${fam}\"]`).selected = true;\n      famSelector.dispatchEvent(new window.Event('change'));\n      document.querySelector('#select-icon').classList = (fam === 'fa' ? 'fa ' : '') + fmSIcon;\n      document.querySelector(`.style-grid-item${fam === 'fa' ? '.fa' : ''}.${fmSIcon}`).classList.add('selected');\n    }\n\n    if (style != null && !(style instanceof M.style.FlowLine)) {\n      const options = style.getOptions();\n      if (options['point']['fill'] != null || options['line']['fill'] != null || options['polygon']['fill'] != null) {\n        const valuesFillPoint =\n          Object.values(options.point.fill).filter(value => value !== undefined);\n        const valuesFillLine =\n          Object.values(options.line.fill).filter(value => value !== undefined);\n        const valuesFillPolygon =\n          Object.values(options.polygon.fill).filter(value => value !== undefined);\n        if (valuesFillPoint.length > 0 ||\n          valuesFillLine.length > 0 || valuesFillPolygon.length > 0) {\n          this.checkOptionSection('fill');\n        }\n      }\n\n      if (options['point']['stroke'] !== undefined || options['line']['stroke'] !== undefined || options['polygon']['stroke'] !== undefined) {\n        this.checkOptionSection('stroke');\n      }\n\n      if (options['point']['label'] !== undefined) {\n        this.checkOptionSection('label');\n      }\n\n      if (options['point']['icon'] !== undefined) {\n        if (options['point']['icon'].hasOwnProperty('src')) {\n          this.checkOptionSection('icon');\n          this.disableOption('form');\n        }\n\n        if (options['point']['icon'].hasOwnProperty('form')) {\n          this.checkOptionSection('form');\n          this.disableOption('icon');\n        }\n\n        if (options['point']['icon'].hasOwnProperty('class')) {\n          familySelect.value = options['point']['icon']['class'];\n        }\n      }\n      if (options['polygon']['icon'] !== undefined) {\n        if (options['polygon']['icon'].hasOwnProperty('src')) {\n          this.checkOptionSection('icon');\n          this.disableOption('form');\n        }\n\n        if (options['polygon']['icon'].hasOwnProperty('form')) {\n          this.checkOptionSection('form');\n          this.disableOption('icon');\n        }\n\n        if (options['polygon']['icon'].hasOwnProperty('class')) {\n          familySelect.value = options['polygon']['icon']['class'];\n        }\n      }\n      if (options['line']['icon'] !== undefined) {\n        if (options['line']['icon'].hasOwnProperty('src')) {\n          this.checkOptionSection('icon');\n          this.disableOption('form');\n        }\n\n        if (options['line']['icon'].hasOwnProperty('form')) {\n          this.checkOptionSection('form');\n          this.disableOption('icon');\n        }\n\n        if (options['line']['icon'].hasOwnProperty('class')) {\n          familySelect.value = options['line']['icon']['class'];\n        }\n      }\n    }\n  }\n\n  /**\n   * @function\n   */\n  eventOpenIconSelector(ev) {\n    const iconDialog = document.querySelector('.style-grid-container');\n    if (iconDialog.classList.toString() === 'style-grid-container active') { iconDialog.classList.remove('active'); } else { iconDialog.classList.add('active'); }\n  }\n\n  /**\n   * @function\n   */\n  eventSelectIcon(ev) {\n    if (!ev.target.classList.contains('selected') && ev.target.classList.contains('style-grid-item')) {\n      const selected = document.querySelector('.style-grid-item.selected');\n      if (selected) { selected.classList.remove('selected'); }\n      ev.target.classList.add('selected');\n      const iconSelected = ev.target.classList.toString().replace('selected', '').replace('style-grid-item', '').trim();\n      document.querySelector(\"[data-style-options='point.form.class']\").dataset.icon = iconSelected.replace('fa', '').trim();\n      document.querySelector('#select-icon').classList = iconSelected;\n    }\n  }\n\n  /**\n   * @function\n   */\n  changeFamilyFont(ev) {\n    if (ev.target.value === '') {\n      document.querySelector('#select-icon').style.display = 'none';\n      document.querySelector('.style-grid-container').classList.remove('active');\n    } else {\n      document.querySelector('#select-icon').style.display = 'inherit';\n    }\n    const childs = document.querySelectorAll('.style-grid-item');\n    childs.forEach((elem) => {\n      elem.style.display = 'none';\n    });\n    const childsSelected = document.querySelectorAll(`.style-grid-item[class*='${ev.target.value}']`);\n    childsSelected.forEach((elem) => {\n      elem.style.display = 'inherit';\n    });\n  }\n\n  /**\n   * This function sets the layer of a binding class.\n   * @function\n   */\n  addLabelPathListener() {\n    const pathCheckLine = this.querySelector('[data-style-options=\"line.label.path\"]');\n    pathCheckLine.addEventListener('change', () => {\n      this.togglePathSection(!pathCheckLine.checked);\n    });\n  }\n\n  /**\n   * @function\n   */\n  togglePathSection(flag) {\n    this.querySelectorAllForEach('[data-textpath]', (element) => {\n      element.disabled = flag === true ? flag : false;\n    });\n  }\n\n  /**\n   * This function sets the layer of a binding class.\n   * @function\n   * @param {M.layer.Vector}\n   * @returns {Binding}\n   */\n  toggleCheckOptionSection(option) {\n    const clickable = this.getParentTemplate().querySelector(`[data-buttons-option] input[data-apply='${option}']`);\n    clickable.addEventListener('change', (event) => {\n      this.toggleCheckOptSectionListener(option, event);\n    });\n  }\n\n  /**\n   * @function\n   */\n  toggleCheckOptSectionListener(option, event) {\n    if (event.target.checked === true) {\n      this.activateOption(option);\n    }\n  }\n\n  /**\n   * @function\n   */\n  checkOptionSection(option) {\n    const inputSection = this.getParentTemplate().querySelector(`[data-buttons-option] input[data-apply='${option}']`);\n    this.activateOption(option);\n    inputSection.checked = true;\n  }\n\n  /**\n   * This function sets the layer of a binding class.\n   * @function\n   * @param {M.layer.Vector}\n   * @returns {Binding}\n   */\n  activateOptionSection(option) {\n    const clickable = this.getParentTemplate().querySelector(`[data-buttons-option] [data-label='${option}']`);\n    clickable.addEventListener('click', () => {\n      this.activateOption(option);\n    });\n  }\n\n  /**\n   * This function sets the layer of a binding class.\n   * @function\n   * @param {M.layer.Vector}\n   * @returns {Binding}\n   */\n  activateOption(option) {\n    const label = this.querySelectorParent(`[data-buttons-option] input[data-apply='${option}']+label`);\n    const checkbox = this.querySelectorParent(`[data-buttons-option] input[data-apply='${option}']`);\n    if (checkbox != null && checkbox.disabled === false) {\n      this.activateLabel(label);\n      this.displaySectionOption(option);\n    }\n  }\n\n  /**\n   * This function sets the layer of a binding class.\n   * @function\n   * @param {M.layer.Vector}\n   * @returns {Binding}\n   */\n  activateLabel(label) {\n    this.querySelectorAllForEachParent('[data-selector]', (element) => {\n      element.classList.remove('check-active');\n      element.classList.add('check-selected');\n    });\n    label.classList.add('check-active');\n    label.classList.remove('check-selected');\n  }\n\n  /**\n   * This function sets the layer of a binding class.\n   * @function\n   * @param {M.layer.Vector}\n   * @returns {Binding}\n   */\n  displaySectionOption(option) {\n    this.hideAllOptionsSections();\n    this.showOptionSection(option);\n  }\n\n  /**\n   * This function generates the style simple options.\n   * @return {object}\n   */\n  generateOptions() {\n    const styleOpts = {};\n    styleOpts['options'] = {};\n\n    this.querySelectorAllForEach('[data-style-options]', (element) => {\n      const path = element.dataset['styleOptions'];\n      let value = element.value;\n      if (path === 'point.form.class' && value !== '') {\n        value = this.querySelector(\"[data-style-options='point.form.class']\").dataset.icon;\n      }\n      if (element.type === 'checkbox') {\n        value = element.checked;\n      }\n\n      if (element.type === 'number') {\n        value = parseFloat(value);\n        if (Number.isNaN(value)) {\n          value = 0;\n        }\n      }\n\n      let isEmptyValue = false;\n      const target = element.dataset['target'];\n      if (target !== undefined) {\n        const value1S = this.querySelector(`[data-target=\"${target}\"]`).value;\n        const value2S = this.querySelector(`[data-id=\"${target}\"]`).value;\n        isEmptyValue = (target === 'size' || target === 'anchor') &&\n          (!value1S && !value2S) && (parseFloat(value1S) !== 0 &&\n            parseFloat(value2S) !== 0);\n        let value2 = parseFloat(this.querySelector(`[data-id=\"${target}\"]`).value);\n        if (Number.isNaN(value2)) {\n          value2 = 0;\n        }\n        value = [value, value2];\n      }\n      if (!isEmptyValue) {\n        Binding.createObj(styleOpts['options'], path, value);\n      }\n    });\n\n    this.querySelectorAllForEach('[data-apply]', (element) => {\n      const opt = element.dataset['apply'];\n      if (element.checked === false) {\n        if (opt === 'point-svg') {\n          Binding.createObj(styleOpts['options'], 'point.src.stroke', undefined);\n          Binding.createObj(styleOpts['options'], 'point.src.fill', undefined);\n        }\n        Binding.createObj(styleOpts['options'], opt, undefined);\n      }\n    });\n\n    const fontSizePoint = this.querySelector('[data-font-size-point]').value || 12;\n    const fontFamilyPoint = this.querySelector('[data-font-family-point]').value;\n    const fontPoint = `${fontSizePoint}px ${fontFamilyPoint}`;\n\n    const fontSizePolygon = this.querySelector('[data-font-size-polygon]').value || 12;\n    const fontFamilyPolygon = this.querySelector('[data-font-family-polygon]').value;\n    const fontPolygon = `${fontSizePolygon}px ${fontFamilyPolygon}`;\n\n    const fontSizeLine = this.querySelector('[data-font-size-line]').value || 12;\n    const fontFamilyLine = this.querySelector('[data-font-family-line]').value;\n    const fontLine = `${fontSizeLine}px ${fontFamilyLine}`;\n\n    const icon = document.querySelector('[data-apply=\"icon\"]');\n    const iconOpts = icon !== null && icon.checked === true ?\n      styleOpts['options']['point'].src : styleOpts['options']['point'].form;\n\n    let labelOptPoint;\n    if (styleOpts['options']['point']['label'] != null && styleOpts['options']['point']['label']['text'] != null) {\n      labelOptPoint = styleOpts['options']['point']['label'];\n    }\n    let labelOptPolygon;\n    if (styleOpts['options']['polygon']['label'] != null && styleOpts['options']['polygon']['label']['text'] != null) {\n      labelOptPolygon = styleOpts['options']['polygon']['label'];\n    }\n    let labelOptLine;\n    if (styleOpts['options']['line']['label'] != null && styleOpts['options']['line']['label']['text'] != null) {\n      labelOptLine = styleOpts['options']['line']['label'];\n    }\n\n    styleOpts['options'] = {\n      point: {\n        fill: styleOpts['options']['point'].fill,\n        stroke: styleOpts['options']['point'].stroke,\n        label: labelOptPoint,\n        icon: iconOpts,\n        radius: styleOpts['options']['point'].radius,\n      },\n      line: {\n        fill: styleOpts['options']['line'].fill,\n        stroke: styleOpts['options']['line'].stroke,\n        label: labelOptLine,\n      },\n      polygon: {\n        fill: styleOpts['options']['polygon'].fill,\n        stroke: styleOpts['options']['polygon'].stroke,\n        label: labelOptPolygon,\n      },\n    };\n\n    if (styleOpts['options']['point']['label'] !== undefined) {\n      styleOpts['options']['point']['label']['font'] = fontPoint;\n    }\n    if (styleOpts['options']['polygon']['label'] !== undefined) {\n      styleOpts['options']['polygon']['label']['font'] = fontPolygon;\n    }\n    if (styleOpts['options']['line']['label'] !== undefined) {\n      styleOpts['options']['line']['label']['font'] = fontLine;\n    }\n\n    return this.processOptions(styleOpts);\n  }\n\n  /**\n   * This function process de style generate options\n   * @function\n   */\n  processOptions(styleOpts) {\n    const styleOptsClone = M.utils.extends({}, styleOpts);\n    const checkedFill = this.isChecked('fill');\n    const checkedStroke = this.isChecked('stroke');\n    const checkedLabel = this.isChecked('label');\n    const checkedIcon = this.isChecked('icon');\n    const checkedForm = this.isChecked('form');\n    styleOptsClone['options']['point']['fill'] = checkedFill === true ? styleOptsClone['options']['point']['fill'] : undefined;\n    styleOptsClone['options']['point']['stroke'] = checkedStroke === true ? styleOptsClone['options']['point']['stroke'] : undefined;\n    styleOptsClone['options']['point']['label'] = checkedLabel === true ? styleOptsClone['options']['point']['label'] : undefined;\n    styleOptsClone['options']['point']['icon'] = checkedIcon === true || checkedForm === true ? styleOptsClone['options']['point']['icon'] : undefined;\n\n    styleOptsClone['options']['line']['fill'] = checkedFill === true ? styleOptsClone['options']['line']['fill'] : undefined;\n    styleOptsClone['options']['line']['stroke'] = checkedStroke === true ? styleOptsClone['options']['line']['stroke'] : undefined;\n    styleOptsClone['options']['line']['label'] = checkedLabel === true ? styleOptsClone['options']['line']['label'] : undefined;\n    styleOptsClone['options']['line']['icon'] = checkedIcon === true || checkedForm === true ? styleOptsClone['options']['line']['icon'] : undefined;\n\n    styleOptsClone['options']['polygon']['fill'] = checkedFill === true ? styleOptsClone['options']['polygon']['fill'] : undefined;\n    styleOptsClone['options']['polygon']['stroke'] = checkedStroke === true ? styleOptsClone['options']['polygon']['stroke'] : undefined;\n    styleOptsClone['options']['polygon']['label'] = checkedLabel === true ? styleOptsClone['options']['polygon']['label'] : undefined;\n    styleOptsClone['options']['polygon']['icon'] = checkedIcon === true || checkedForm === true ? styleOptsClone['options']['polygon']['icon'] : undefined;\n\n    styleOptsClone['point'] = {\n      fill: styleOptsClone['options']['point'].fill,\n      radius: styleOptsClone['options']['point'].radius,\n      stroke: styleOptsClone['options']['point'].stroke,\n      label: styleOptsClone['options']['point'].label,\n      icon: styleOptsClone['options']['point'].icon,\n    };\n\n    styleOptsClone['line'] = {\n      fill: styleOptsClone['options']['line'].fill,\n      stroke: styleOptsClone['options']['line'].stroke,\n      label: styleOptsClone['options']['line'].label,\n    };\n\n    styleOptsClone['polygon'] = {\n      fill: styleOptsClone['options']['polygon'].fill,\n      stroke: styleOptsClone['options']['polygon'].stroke,\n      label: styleOptsClone['options']['polygon'].label,\n    };\n    delete styleOptsClone['options'];\n\n    return styleOptsClone;\n  }\n\n  /**\n   * @function\n   */\n  isChecked(option) {\n    let checked = false;\n    const input = this.getParentTemplate().querySelector(`[data-buttons-option] input[data-apply='${option}'`);\n    if (input != null) {\n      checked = input.checked;\n    }\n    return checked;\n  }\n\n  /**\n   * This function generates the style simple.\n   * @return {M.style.Simple}\n   */\n  generateStyle() {\n    // let geometry = this.getGeometry();\n    const styleOptions = this.generateOptions();\n    return new M.style.Generic(styleOptions);\n  }\n\n  /**\n   * This function adds the listener click event that shows the compatible sections buttons.\n   * @param {string}\n   * @param {string}\n   */\n  compatibleSectionListener(optionEnable, optionDisable) {\n    const input = this.querySelectorParent(`[data-buttons-option] input[data-apply=\"${optionEnable}\"]`);\n    if (input != null) {\n      input.addEventListener('change', () => {\n        if (input.checked === true) {\n          this.disableOption(optionDisable);\n        } else {\n          this.enableOption(optionDisable);\n        }\n      });\n    }\n  }\n\n  /**\n   * This function disable a button options passed by paramenter.\n   * @function\n   * @param {string}\n   */\n  disableOption(option) {\n    const input = this.getParentTemplate().querySelector(`[data-buttons-option] input[data-apply=\"${option}\"]`);\n    const clickable = this.getParentTemplate().querySelector(`[data-buttons-option] input[data-apply=\"${option}\"]+label`);\n    this.hideOptionSection(option);\n    clickable.classList.add('check-inactive');\n    clickable.classList.add('check-selected');\n    clickable.classList.remove('m-option-active');\n    input.disabled = true;\n    input.checked = false;\n  }\n\n  /**\n   * This function enable a button options passed by paramenter.\n   * @function\n   * @param {string}\n   */\n  enableOption(option) {\n    const input = this.getParentTemplate().querySelector(`[data-buttons-option] input[data-apply=\"${option}\"]`);\n    const clickable = this.getParentTemplate().querySelector(`[data-buttons-option] input[data-apply=\"${option}\"]+label`);\n    clickable.classList.remove('check-inactive');\n    input.disabled = false;\n  }\n\n\n  /**\n   * @function\n   *\n   */\n  getOptionsTemplate() {\n    let options = SimpleBinding.DEFAULT_OPTIONS_STYLE;\n    if (this.style_ != null) {\n      options = M.utils.extends({}, this.style_.getOptions());\n      options = M.utils.extends(options, SimpleBinding.DEFAULT_OPTIONS_STYLE);\n\n      if (this.style_.get('polygon.fill.pattern') != null) {\n        options['polygon']['patternfflag'] = true;\n      }\n      if (this.style_.get('polygon.stroke.pattern') != null) {\n        options['polygon']['patternstflag'] = true;\n      }\n      if (this.style_.get('line.fill.pattern') != null) {\n        options['line']['patternflag'] = true;\n      }\n\n      if (this.style_.get('point.icon') != null && this.style_.get('point.icon.src') != null &&\n        (this.style_.get('point.icon.fill') != null || this.style_.get('point.icon.stroke') != null)) {\n        options['point']['svgflag'] = true;\n      }\n    }\n\n    // transform color options to hex color for value inputs color\n\n    options['point']['fill']['color'] = options['point']['fill']['color'].indexOf('rgba') >= 0 ? chroma(chroma(options['point']['fill']['color']).rgb()).hex() : chroma(options['point']['fill']['color']).hex();\n    options['line']['fill']['color'] = options['line']['fill']['color'].indexOf('rgba') >= 0 ? chroma(chroma(options['line']['fill']['color']).rgb()).hex() : chroma(options['line']['fill']['color']).hex();\n    options['polygon']['fill']['color'] = options['polygon']['fill']['color'].indexOf('rgba') >= 0 ? chroma(chroma(options['polygon']['fill']['color']).rgb()).hex() : chroma(options['polygon']['fill']['color']).hex();\n    options['point']['stroke']['color'] = options['point']['stroke']['color'].indexOf('rgba') >= 0 ? chroma(chroma(options['point']['stroke']['color']).rgb()).hex() : chroma(options['point']['stroke']['color']).hex();\n    options['line']['stroke']['color'] = options['line']['stroke']['color'].indexOf('rgba') >= 0 ? chroma(chroma(options['line']['stroke']['color']).rgb()).hex() : chroma(options['line']['stroke']['color']).hex();\n    options['polygon']['stroke']['color'] = options['polygon']['stroke']['color'].indexOf('rgba') >= 0 ? chroma(chroma(options['polygon']['stroke']['color']).rgb()).hex() : chroma(options['polygon']['stroke']['color']).hex();\n    options['polygon']['fill']['pattern']['color'] = chroma(options['polygon']['fill']['pattern']['color']).hex();\n    options['polygon']['stroke']['pattern']['color'] = chroma(options['polygon']['stroke']['pattern']['color']).hex();\n    options['point']['icon']['color'] = chroma(options['point']['icon']['color']).hex();\n    options['line']['fill']['pattern']['color'] = chroma(options['polygon']['fill']['pattern']['color']).hex();\n    // --\n\n    const patternValids = Object.keys(M.style.pattern).filter(name => name !== 'ICON' && name !== 'IMAGE');\n    const alignValues = Object.values(M.style.align);\n    const baselineValues = Object.values(M.style.baseline);\n    const formValues = Object.values(M.style.form).filter(name => name != null);\n    const linejoins = [getValue('bevel'), getValue('miter'), getValue('rounded')];\n    const linecapstrokes = [getValue('rounded'), getValue('extreme'), getValue('square')];\n    const alings = [getValue('center'), getValue('justified'), getValue('left'), getValue('right')];\n\n    // transform array options to data template option\n    options['line']['patternlist'] = SimpleBinding.arrayDataToTemplate(options['line']['fill']['pattern']['name'], patternValids, patternValids);\n    options['polygon']['patternflist'] = SimpleBinding.arrayDataToTemplate(options['polygon']['fill']['pattern']['name'], patternValids, patternValids);\n    options['polygon']['patternstlist'] = SimpleBinding.arrayDataToTemplate(options['polygon']['stroke']['pattern']['name'], patternValids, patternValids);\n    options['point']['linecapstroke'] = SimpleBinding.arrayDataToTemplate(options['point']['stroke']['linecap'], ['butt', 'square', 'round'], linecapstrokes);\n    options['line']['linecapstroke'] = SimpleBinding.arrayDataToTemplate(options['line']['stroke']['linecap'], ['butt', 'square', 'round'], linecapstrokes);\n    options['polygon']['linecapstroke'] = SimpleBinding.arrayDataToTemplate(options['polygon']['stroke']['linecap'], ['butt', 'square', 'round'], linecapstrokes);\n    options['point']['linejoinstroke'] = SimpleBinding.arrayDataToTemplate(options['point']['stroke']['linejoin'], ['bevel', 'miter', 'round'], linejoins);\n    options['line']['linejoinstroke'] = SimpleBinding.arrayDataToTemplate(options['line']['stroke']['linejoin'], ['bevel', 'miter', 'round'], linejoins);\n    options['polygon']['linejoinstroke'] = SimpleBinding.arrayDataToTemplate(options['polygon']['stroke']['linejoin'], ['bevel', 'miter', 'round'], linejoins);\n    options['point']['linecaplabelstroke'] = SimpleBinding.arrayDataToTemplate(options['point']['label']['stroke']['linecap'], ['butt', 'square', 'round'], linecapstrokes);\n    options['line']['linecaplabelstroke'] = SimpleBinding.arrayDataToTemplate(options['line']['label']['stroke']['linecap'], ['butt', 'square', 'round'], linecapstrokes);\n    options['polygon']['linecaplabelstroke'] = SimpleBinding.arrayDataToTemplate(options['polygon']['label']['stroke']['linecap'], ['butt', 'square', 'round'], linecapstrokes);\n    options['point']['linejoinlabelstroke'] = SimpleBinding.arrayDataToTemplate(options['point']['label']['stroke']['linejoin'], ['bevel', 'miter', 'round'], linejoins);\n    options['polygon']['linejoinlabelstroke'] = SimpleBinding.arrayDataToTemplate(options['polygon']['label']['stroke']['linejoin'], ['bevel', 'miter', 'round'], linejoins);\n    options['line']['linejoinlabelstroke'] = SimpleBinding.arrayDataToTemplate(options['line']['label']['stroke']['linejoin'], ['bevel', 'miter', 'round'], linejoins);\n    options['point']['alignlist'] = SimpleBinding.arrayDataToTemplate(options['point']['label']['align'], alignValues, alings);\n    options['polygon']['alignlist'] = SimpleBinding.arrayDataToTemplate(options['polygon']['label']['align'], alignValues, alings);\n    options['line']['alignlist'] = SimpleBinding.arrayDataToTemplate(options['line']['label']['align'], alignValues, alings);\n\n    const baseLines = [getValue('alphabetical'), getValue('down'), getValue('hanging'), getValue('ideographic'), getValue('up')];\n\n    options['point']['baselinelist'] = SimpleBinding.arrayDataToTemplate(options['point']['label']['baseline'], baselineValues, baseLines);\n    options['polygon']['baselinelist'] = SimpleBinding.arrayDataToTemplate(options['polygon']['label']['baseline'], baselineValues, baseLines);\n    options['line']['baselinelist'] = SimpleBinding.arrayDataToTemplate(options['line']['label']['baseline'], baselineValues, baseLines);\n\n    options['point']['formlist'] = SimpleBinding.arrayDataToTemplate(options['point']['icon']['form'], formValues, formValues);\n    if (this.layer_ != null) {\n      const labelTextValues = Object.keys(this.getFeaturesAttributes());\n      const labelTextSelectedPoint = options['point']['label'] != null ? options['point']['label']['text'] : '';\n      const labelTextSelectedPolygon = options['polygon']['label'] != null ? options['polygon']['label']['text'] : '';\n      const labelTextSelectedLine = options['line']['label'] != null ? options['line']['label']['text'] : '';\n\n      options['point']['featuresAttr'] = SimpleBinding.arrayDataToTemplate(labelTextSelectedPoint, labelTextValues.map(name => `{{${name}}}`), labelTextValues);\n      options['polygon']['featuresAttr'] = SimpleBinding.arrayDataToTemplate(labelTextSelectedPolygon, labelTextValues.map(name => `{{${name}}}`), labelTextValues);\n      options['line']['featuresAttr'] = SimpleBinding.arrayDataToTemplate(labelTextSelectedLine, labelTextValues.map(name => `{{${name}}}`), labelTextValues);\n    }\n\n    options['point']['label']['fontSize'] = options['point']['label']['font'].split(' ')[0].replace('px', '');\n    options['point']['label']['font'] = options['point']['label']['font'].split(' ')[1];\n    options['line']['label']['fontSize'] = options['line']['label']['font'].split(' ')[0].replace('px', '');\n    options['line']['label']['font'] = options['line']['label']['font'].split(' ')[1];\n    options['polygon']['label']['fontSize'] = options['polygon']['label']['font'].split(' ')[0].replace('px', '');\n    options['polygon']['label']['font'] = options['polygon']['label']['font'].split(' ')[1];\n\n\n    // icon SVG\n    if (typeof options['point']['icon']['fill'] === 'string') {\n      options['point']['icon']['fill'] = chroma(options['point']['icon']['fill']).hex();\n      options['point']['src'] = {\n        fill: { color: '#000000', opacity: 1 },\n        stroke: { color: '#000000', width: 1 },\n      };\n    } else {\n      options['point']['src'] = {\n        fill: {\n          color: chroma(options['point']['icon']['fill']['color']).hex() || '#000000',\n          opacity: options['point']['icon']['fill']['opacity'] || 1,\n        },\n        stroke: {\n          color: chroma(options['point']['icon']['stroke']['color']).hex() || '#000000',\n          width: options['point']['icon']['stroke']['width'] || 1,\n        },\n      };\n    }\n    return options;\n  }\n\n  set imgId(id) {\n    this.imgId_ = id;\n  }\n\n  get imgId() {\n    return this.imgId_;\n  }\n\n  toggleDisplaySubmenu(flag) {\n    const buttonOptions = this.getParentTemplate().querySelector('[data-buttons-option]');\n    const funct = flag === true ? 'add' : 'remove';\n    buttonOptions.classList[funct]('m-hidden');\n  }\n\n  /**\n   * @function\n   * @param {function}\n   */\n  refreshLegend(element, flag = false) {\n    const id = this.imgId_;\n    let style = this.generateStyle();\n    if (flag === true) {\n      style = this.style_;\n    }\n    if (style != null) {\n      style = style.clone();\n      if (style instanceof M.style.Point) {\n        style.set('radius', SimpleBinding.RADIUS_OPTION);\n        if (style.get('icon.radius') != null) {\n          style.set('icon.radius', SimpleBinding.ICON_RADIUS_OPTION);\n        }\n      }\n      const img = this.htmlParent_.querySelector(`img[id='img-${id}']`);\n      style.updateCanvas();\n      const dataURL = style.toImage();\n      if (img != null) {\n        img.src = dataURL;\n      }\n    }\n  }\n\n  /**\n   * TODO\n   * @const\n   */\n  static get RADIUS_OPTION() {\n    return 10;\n  }\n\n\n  /**\n   * TODO\n   * @const\n   */\n  static get ICON_RADIUS_OPTION() {\n    return 10;\n  }\n\n  /**\n   * TODO\n   * @const\n   */\n  static get OPTIONS_POINT_SUBMENU() {\n    return [{\n      id: 'fill',\n      name: getValue('fill'),\n    }, {\n      id: 'stroke',\n      name: getValue('stroke'),\n    }, {\n      id: 'label',\n      name: getValue('labelText'),\n    }, {\n      id: 'icon',\n      name: getValue('icon'),\n    }, {\n      id: 'form',\n      name: getValue('font'),\n    }];\n  }\n\n  /**\n   * TODO\n   * @const\n   */\n  static get OPTIONS_SUBMENU() {\n    return [{\n      id: 'fill',\n      name: getValue('fill'),\n    }, {\n      id: 'stroke',\n      name: getValue('stroke'),\n    }, {\n      id: 'label',\n      name: getValue('labelText'),\n    }];\n  }\n\n  /**\n   * Array of allowed geometries.\n   * @const {Array<string>}\n   */\n  static get GEOMETRIES() {\n    return ['point', 'line', 'polygon'];\n  }\n\n  /**\n   * @function\n   */\n  static arrayDataToTemplate(selected, arrayId, arrayName) {\n    return arrayId.map((id, index) => {\n      return {\n        id,\n        name: arrayName[index],\n        selected,\n      };\n    });\n  }\n\n  /**\n   * @const\n   */\n  static get DEFAULT_OPTIONS_STYLE() {\n    const def = {\n      radius: 10,\n      fill: {\n        color: '#e5008a',\n        opacity: 1,\n        width: 2,\n        pattern: {\n          color: 'red',\n          name: 'HATCH',\n          size: 1,\n          spacing: 2,\n          scale: 3,\n          offset: 5,\n          rotation: 0,\n        },\n      },\n      stroke: {\n        color: '#000000',\n        opacity: 1,\n        width: 2,\n        linedash: [0, 0],\n        linedashoffset: 0,\n        linecap: 'none',\n        linejoin: 'none',\n        pattern: {\n          color: 'red',\n          name: 'HATCH',\n          size: 1,\n          spacing: 2,\n          scale: 3,\n          offset: 5,\n          rotation: 0,\n        },\n      },\n      label: {\n        fill: {\n          color: '#ff0000',\n        },\n        stroke: {\n          color: 'no-color',\n          width: 2,\n          linedash: [0, 0],\n          linedashoffset: 0,\n          linecap: 'none',\n          linejoin: 'none',\n        },\n        scale: 2,\n        text: '',\n        font: '14px serif',\n        align: 'center',\n        baseline: 'top',\n        rotate: false,\n        rotation: 0,\n        offset: [0, 0],\n      },\n      icon: {\n        src: '',\n        size: ['', ''],\n        anchor: ['', ''],\n        scale: 1,\n        offset: [0, 0],\n        rotate: false,\n        rotation: 0,\n        opacity: 1,\n        form: 'CIRCLE',\n        class: 'g-cartografia-info',\n        fill: '#ffffff',\n        color: '#e07e18',\n      },\n    };\n    return {\n      'point': M.utils.extends({}, def),\n      'line': M.utils.extends({}, def),\n      'polygon': M.utils.extends({}, def),\n    };\n  }\n}\n","/* eslint-disable  dot-notation */\n/* eslint-disable no-prototype-builtins */\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-return-assign */\n/* eslint-disable no-underscore-dangle */\n\nimport { getValue } from '../i18n/language';\n\nimport { Binding } from './binding';\n\n// eslint-disable-next-line\nexport class ProportionalBinding extends Binding {\n  /**\n   * This function sets the attribute layer to the binding.\n   * @function\n   * @param {M.layer.Vector}\n   */\n  setLayer(layer) {\n    this.layer_ = layer;\n    // this.setIntegerAttributes();\n    return this;\n  }\n\n  /**\n   * This function generates the cluster style from GUI Options.\n   *\n   * @function\n   * @returns {M.style.Cluster}\n   */\n  generateStyle() {\n    const opts = this.generateOptions();\n    let style = null;\n    if (opts.attributeName !== '') {\n      const scaledName = opts.scaledName === 'flannery' ? { flannery: true } : { flannery: false };\n      style = new M.style.Proportional(\n        opts.attributeName,\n        opts.minRadius,\n        opts.maxRadius,\n        null,\n        null,\n        scaledName,\n      );\n    }\n    return style;\n  }\n\n  /**\n   * @function\n   *\n   */\n  getOptionsTemplate() {\n    let options = ProportionalBinding.DEFAULT_OPTIONS_STYLE;\n    if (this.style_ != null) {\n      const pfunction = this.style_.options_ && this.style_.options_.flannery === true ? 'flannery' : 'absolute';\n      options = {\n        attributeName: this.style_.getAttributeName(),\n        minRadius: this.style_.getMinRadius(),\n        maxRadius: this.style_.getMaxRadius(),\n        proportionalFunction: pfunction,\n      };\n      this.setSelected(true);\n    }\n    if (this.layer_ != null) {\n      options['attributes'] = this.getAttributes();\n      options['attributes'].forEach(attribute => attribute['selected'] = options.attributeName);\n      options['functions'] = ProportionalBinding.arrayDataToTemplate(\n        options.proportionalFunction, ['absolute', 'flannery'],\n        [getValue('absolute'), 'Flannery'],\n      );\n    }\n    return options;\n  }\n\n  /**\n   * @function\n   */\n  static arrayDataToTemplate(selected, arrayId, arrayName) {\n    return arrayId.map((id, index) => {\n      return {\n        id,\n        name: arrayName[index],\n        selected,\n      };\n    });\n  }\n\n  /**\n   * @function\n   */\n  getAttributes() {\n    const attributeNames = this.filterAttributesFeature('number').map((element) => {\n      return {\n        name: element,\n      };\n    });\n    return attributeNames;\n  }\n}\n\nProportionalBinding.DEFAULT_OPTIONS_STYLE = {\n  attributeName: '',\n  minRadius: 12,\n  maxRadius: 25,\n  proportionalFunction: 'absolute',\n};\n","/* eslint-disable  dot-notation */\n/* eslint-disable no-param-reassign */\nimport * as chroma from 'chroma-js';\nimport { Binding } from './binding';\n\n// eslint-disable-next-line\nexport class ClusterBinding extends Binding {\n  constructor(html, htmlParent, styleType, styleParams, layer) {\n    super(html, htmlParent, styleType, styleParams, layer);\n    this.compilePromise_.then(() => {\n      this.addEventRangeListener();\n      this.addPaginationListener();\n    });\n  }\n\n  /**\n   * This function sets the attribute layer to the binding.\n   * @function\n   * @param {M.layer.Vector}\n   */\n  setLayer(layer) {\n    this.layer_ = layer;\n    return this;\n  }\n\n  /**\n   * This function generates the options style from his own html form.\n   *\n   * @function\n   * @api stable\n   */\n  generateOptions() {\n    const styleOpts = {};\n    styleOpts['options'] = {};\n    styleOpts['ranges'] = {};\n\n    // styleOpts.options section\n    this.querySelectorAllForEach('[data-style-options]', (element) => {\n      const prop = element.dataset['styleOptions'];\n      let value = element.value;\n\n      if (element.type === 'checkbox') {\n        value = element.checked;\n      }\n\n      if (element.type === 'number') {\n        value = parseFloat(value);\n      }\n\n      if (prop === 'label.color') {\n        styleOpts['options']['label'] = {};\n        styleOpts['options']['label']['color'] = value;\n      } else {\n        styleOpts['options'][prop] = value;\n      }\n    });\n\n    // Ranges cluster section\n    this.querySelectorAllForEach('[data-ranges-id][data-apply-range]', (element) => {\n      const id = element.dataset['rangesId'];\n      if (styleOpts['ranges'][id] === undefined) {\n        styleOpts['ranges'][id] = {};\n      }\n      const path = element.dataset['rangesOptions'];\n      let value = element.value;\n\n      if (element.type === 'number') {\n        value = parseFloat(value);\n      }\n\n      Binding.createObj(styleOpts['ranges'][id], path, value);\n    });\n\n    styleOpts['ranges'] = Object.values(styleOpts['ranges']).filter(option => !Number.isNaN(option['minRange']) && !Number.isNaN(option['maxRange']));\n    return styleOpts;\n  }\n\n  /**\n   * This function generates the cluster style from GUI Options.\n   *\n   * @function\n   * @returns {M.style.Cluster}\n   */\n  generateStyle() {\n    const opts = this.generateOptions();\n    const optsRanges = [...opts.ranges];\n    const ranges = optsRanges.map((obj) => {\n      return {\n        min: obj['minRange'],\n        max: obj['maxRange'],\n        style: new M.style.Point(obj['style']),\n      };\n    });\n    opts.options['ranges'] = ranges;\n    return new M.style.Cluster(opts.options, {\n      distanceSelectFeatures: opts.options.distanceSelectFeatures,\n    });\n  }\n\n  /**\n   * This function sets the number of cluster ranges.\n   *\n   * @function\n   */\n  setRanges() {\n    const rangesInput = this.querySelector('[data-number-ranges]');\n    const numRanges = parseInt(rangesInput.value, 0);\n    if (numRanges > 0 && numRanges < ClusterBinding.NUMBER_RANGES) {\n      for (let i = 1; i < numRanges + 1; i += 1) {\n        const pagerElement = this.querySelector(`[data-page-selector=\"${i}\"]`);\n        pagerElement.classList.remove('m-hidden');\n        this.querySelectorAllForEach(`[data-ranges-id='${i}']`, (element) => {\n          element.setAttribute('data-apply-range', '');\n        });\n      }\n\n      for (let i = numRanges + 1; i < ClusterBinding.NUMBER_RANGES; i += 1) {\n        const pagerElement = this.querySelector(`[data-page-selector=\"${i}\"]`);\n        pagerElement.classList.add('m-hidden');\n        this.querySelectorAllForEach(`[data-ranges-id=\"${i}\"]`, (element) => {\n          element.removeAttribute('data-apply-range');\n        });\n      }\n\n      const pagerElement = this.querySelector(`[data-page-selector=\"${numRanges}\"]`);\n      this.paginationListener(pagerElement)();\n    }\n  }\n\n  /**\n   * This function activate the page selector passed by parameter.\n   *\n   * @function\n   * @param {HTMLElement}\n   */\n  paginationListener(element) {\n    return () => {\n      const oldElement = this.querySelector('[data-page-active]');\n      if (oldElement != null) {\n        oldElement.removeAttribute('data-page-active');\n        oldElement.classList.remove('m-page-active');\n        const oldId = oldElement.dataset['pageSelector'];\n        const oldRange = this.querySelector(`[data-page='${oldId}']`);\n        if (oldRange != null) {\n          oldRange.classList.add('m-hidden');\n        }\n      }\n\n      if (element != null) {\n        element.classList.add('m-page-active');\n        element.dataset['pageActive'] = '';\n        const id = element.dataset['pageSelector'];\n        const newRange = this.querySelector(`[data-page='${id}']`);\n        newRange.classList.remove('m-hidden');\n      }\n    };\n  }\n\n  /**\n   * TODO\n   */\n  addEventRangeListener() {\n    const rangesInput = this.querySelector('[data-number-ranges]');\n    rangesInput.addEventListener('input', this.setRanges.bind(this));\n  }\n\n  /**\n   * TODO\n   */\n  addPaginationListener() {\n    this.querySelectorAllForEach('[data-page-selector]', (element) => {\n      element.addEventListener('click', this.paginationListener(element).bind(this));\n    });\n  }\n\n  /**\n   * @function\n   *\n   */\n  getOptionsTemplate() {\n    let options = Object.assign({}, ClusterBinding.DEFAULT_OPTIONS_STYLE);\n    if (this.style_ != null) {\n      options = Object.assign({}, this.style_.getOptions());\n      const ranges = options['ranges'].filter(range => !Number.isNaN(range['min'])).map((rangeOpt) => {\n        const obj = {};\n        const style = rangeOpt['style'];\n        obj['min'] = rangeOpt['min'];\n        obj['max'] = rangeOpt['max'];\n        obj['fill'] = style.get('fill.color');\n        obj['stroke'] = style.get('stroke.color');\n        obj['width'] = style.get('stroke.width');\n        obj['opacity'] = style.get('fill.opacity') == null ? 1 : style.get('fill.opacity');\n        obj['radius'] = style.get('radius');\n        return obj;\n      });\n      options['ranges'] = ranges;\n    }\n\n    // generator function\n    const range = (n, m, lastRange) => {\n      const ranges = [];\n      let maxVar = lastRange;\n      for (let i = n; i < m; i += 1) {\n        const minVar = maxVar + 1;\n        maxVar = minVar + 200;\n        const obj = {\n          id: i,\n          min: minVar,\n          max: maxVar,\n          fill: chroma.random().hex(),\n          stroke: chroma.random().hex(),\n        };\n        ranges.push(obj);\n      }\n      return ranges;\n    };\n\n    // generates\n    const lastRange = options['ranges'].slice(-1)[0]['max'];\n    options['pages'] = [];\n    const ranges = range(options['ranges'].length + 1, ClusterBinding.NUMBER_RANGES, lastRange);\n    ranges.forEach((element, index) => {\n      options['pages'].push(element);\n    });\n\n    return options;\n  }\n}\n\n/**\n * Maximum number of cluster ranges allowed.\n *\n * @const\n */\nClusterBinding.NUMBER_RANGES = 13;\n\n/**\n *\n * @const\n */\nClusterBinding.DEFAULT_OPTIONS_STYLE = {\n  hoverInteraction: true,\n  displayAmount: true,\n  selectInteraction: true,\n  animated: true,\n  distance: 30,\n  label: {\n    color: '#4dfeef',\n  },\n  maxFeaturesToSelect: 20,\n  distanceSelectFeatures: 15,\n  ranges: [{\n    min: 2,\n    max: 30,\n    fill: '#ff00ff',\n    stroke: '#00fef0',\n    width: 2,\n    opacity: 1,\n  }],\n};\n","/* eslint-disable  dot-notation */\n/* eslint-disable no-prototype-builtins */\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-return-assign */\nimport * as chroma from 'chroma-js';\nimport { Binding } from './binding';\nimport * as htmlgradient from '../../../templates/gradientheatmap';\nimport { getValue } from '../i18n/language';\n\n// eslint-disable-next-line\nexport class HeatmapBinding extends Binding {\n  constructor(html, htmlParent, styleType, styleParams, layer) {\n    super(html, htmlParent, styleType, styleParams, layer);\n    this.style_ = null;\n    this.compilePromise_.then(() => {\n      this.removeGradientListener();\n      this.addGradientListener();\n    });\n    this.numberAddedColors_ = 6;\n  }\n\n  /**\n   * This function sets the layer of a binding class.\n   * @function\n   * @param {M.layer.Vector}\n   * @returns {Binding}\n   */\n  setLayer(layer) {\n    this.layer_ = layer;\n    this.style_ = null;\n    // this.setIntegerAttributes();\n    return this;\n  }\n\n  /**\n   * This function adds the event listener to remove gradient color option.\n   * @function\n   */\n  removeGradientListener() {\n    this.querySelectorAllForEach('.m-removable-input-color .m-close', (element) => {\n      element.addEventListener('click', () => {\n        const rootElement = element.parentElement.parentElement;\n        rootElement.removeChild(element.parentElement);\n        this.numberAddedColors_ -= 1;\n      });\n    });\n  }\n\n  /**\n   * This function adds the event listener to add gradient color option.\n   * @function\n   */\n  addGradientListener() {\n    const parent = this.querySelector(\"[data-parent='gradient']\");\n    this.querySelector('[data-add]').addEventListener('click', () => {\n      this.compileTemplate(htmlgradient, {}).then((htmlg) => {\n        if (this.numberAddedColors_ < HeatmapBinding.MAX_NUMBER_COLORS) {\n          parent.appendChild(htmlg);\n          this.setRandomColor(htmlg);\n          htmlg.querySelector('.m-close').addEventListener('click', () => {\n            const rootElement = htmlg.parentElement;\n            rootElement.removeChild(htmlg);\n            this.numberAddedColors_ -= 1;\n          });\n          this.numberAddedColors_ += 1;\n        } else {\n          M.dialog.info(getValue('exception.numberColorAllowed'), getValue('exception.information'));\n        }\n      });\n    });\n  }\n\n  /**\n   * @function\n   */\n  setRandomColor(html) {\n    const inputColor = html.querySelector('input');\n    const randomColor = chroma.random().hex();\n    inputColor.value = randomColor;\n  }\n\n  /**\n   * This function generates the heatmap style.\n   * @function\n   * @returns {M.style.Heatmap}\n   */\n  generateStyle() {\n    const opts = this.generateOptions();\n    const style = new M.style.Heatmap(opts.attributeName, opts.options);\n    return style;\n  }\n\n  /**\n   * @function\n   *\n   */\n  getOptionsTemplate() {\n    const options = HeatmapBinding.DEFAULT_OPTIONS_STYLE;\n    if (this.style_ != null) {\n      options['attribute'] = this.style_.getAttributeName();\n      options['radius'] = this.style_.getRadius();\n      options['blur'] = this.style_.getBlurSize();\n      options['gradient'] = this.style_.getGradient().map(el => chroma(el).hex());\n    }\n    if (this.layer_ != null) {\n      options['attributes'] = this.getAttributes();\n      options['attributes'].forEach(attribute => attribute['selected'] = options.attribute);\n    }\n    return options;\n  }\n\n  /**\n   * @function\n   */\n  getAttributes() {\n    const attributeNames = this.filterAttributesFeature('number').map((element) => {\n      return { name: element };\n    });\n    return attributeNames;\n  }\n}\n\n/**\n * @const\n */\nHeatmapBinding.DEFAULT_OPTIONS_STYLE = {\n  attribute: '',\n  gradient: ['#0000ff', '#00ffff', '#00ff00', '#ffff00', '#ffb619', '#ff0000'],\n  blur: 12,\n  radius: 22,\n};\n\n/**\n * @const\n */\nHeatmapBinding.MAX_NUMBER_COLORS = 30;\n","/* eslint-disable  dot-notation */\n/* eslint-disable no-prototype-builtins */\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-return-assign */\nimport colorchoropleth from 'templates/colorchoropleth';\nimport { Binding } from './binding';\nimport { getValue } from '../i18n/language';\n\n// eslint-disable-next-line\nexport class ChoroplethBinding extends Binding {\n  constructor(html, htmlParent, styleType, styleParams, layer) {\n    super(html, htmlParent, styleType, styleParams, layer);\n    this.compilePromise_.then(() => {\n      this.addColorListener();\n    });\n  }\n\n  setLayer(layer) {\n    this.layer_ = layer;\n    // this.setIntegerAttributes();\n    return this;\n  }\n\n  setRanges() {\n    const rangesButton = this.querySelector('[data-number-ranges]');\n    const number = parseInt(rangesButton.value, 0);\n    const rangesArray = [];\n\n    for (let i = 1; i <= number; i += 1) {\n      rangesArray.push({ number: i });\n    }\n    const parent = this.querySelector('[data-parent]');\n    this.addTemplate('choroplethstyles.html', parent, { ranges: rangesArray });\n  }\n\n\n  addEventRangeListener() {\n    const rangesButton = this.querySelector('[data-number-ranges]');\n    rangesButton.addEventListener('input', this.setRanges.bind(this));\n  }\n\n  generateStyle() {\n    const opts = this.generateOptions();\n    const ranges = opts.ranges;\n    const colors = opts.options.colors;\n    let quantification = null;\n    if (opts.quantification === 'ARITHMETIC_PROGRESSION') {\n      quantification = M.style.quantification.ARITHMETIC_PROGRESSION;\n    } else if (opts.quantification === 'EQUAL_INTERVAL') {\n      quantification = M.style.quantification.EQUAL_INTERVAL;\n    } else if (opts.quantification === 'GEOMETRIC_PROGRESSION') {\n      quantification = M.style.quantification.GEOMETRIC_PROGRESSION;\n    } else if (opts.quantification === 'MEDIA_SIGMA') {\n      quantification = M.style.quantification.MEDIA_SIGMA;\n    } else if (opts.quantification === 'JENKS') {\n      quantification = M.style.quantification.JENKS;\n    } else if (opts.quantification === 'QUANTILE') {\n      quantification = M.style.quantification.QUANTILE;\n    }\n    let style = null;\n    if (opts.attributeName !== '') {\n      style = new M.style.Choropleth(opts.attributeName, colors, quantification(ranges));\n    }\n    return style;\n  }\n\n  addColors() {\n    const rangesButton = this.querySelector('[data-number-ranges]');\n    const number = parseInt(rangesButton.value, 0);\n    const colorsInput = this.querySelectorAll('[data-array-options]');\n    const numberColors = colorsInput.length;\n    if (numberColors < number) {\n      this.addColorTemplate(numberColors);\n    } else {\n      M.dialog.info(getValue('exception.moreColorsRanges'), getValue('exception.numberColors'));\n    }\n  }\n\n  addColorTemplate(numberColors) {\n    const parent = this.querySelector('[data-colors]');\n    this.compileTemplate(colorchoropleth, {\n      numbercolor: numberColors,\n      color: '#ffff',\n    }).then((html) => {\n      parent.append(...html.children);\n    });\n  }\n\n  addColorListener() {\n    const addButton = this.querySelector('[data-add-color]');\n    addButton.addEventListener('click', () => {\n      this.addColors();\n    });\n  }\n\n  /**\n   * @function\n   *\n   */\n  getOptionsTemplate() {\n    let options = ChoroplethBinding.DEFAULT_OPTIONS_STYLE;\n    if (this.style_ != null) {\n      let startColorVar = this.style_.getChoroplethStyles()[0].get('fill.color');\n      let endColorVar = this.style_.getChoroplethStyles().slice(-1)[0].get('fill.color');\n      startColorVar = startColorVar || this.style_.getChoroplethStyles()[0].get('stroke.color');\n      endColorVar = endColorVar || this.style_.getChoroplethStyles().slice(-1)[0].get('stroke.color');\n\n      options = {\n        attribute: this.style_.getAttributeName(),\n        ranges: this.style_.getChoroplethStyles().length,\n        quantification: this.style_.getQuantification().name,\n        startColor: startColorVar,\n        endColor: endColorVar,\n      };\n    }\n    if (this.layer_ != null) {\n      options['attributes'] = this.getAttributes();\n      options['attributes'].forEach(attribute => attribute['selected'] = options.attribute);\n    }\n    return options;\n  }\n\n  /**\n   * @function\n   */\n  getAttributes() {\n    const attributeNames = this.filterAttributesFeature('number').map((element) => {\n      return { name: element };\n    });\n    return attributeNames;\n  }\n}\n\nChoroplethBinding.DEFAULT_OPTIONS_STYLE = {\n  attribute: '',\n  quantification: 'JENKS',\n  ranges: 4,\n  startColor: '#F8FF25',\n  endColor: '#4400FD',\n};\n","/* eslint-disable  dot-notation */\n/* eslint-disable no-prototype-builtins */\n/* eslint-disable no-param-reassign */\n\nimport * as chroma from 'chroma-js';\nimport { getValue } from '../i18n/language';\nimport { Binding } from './binding';\n\n// eslint-disable-next-line\nexport class SimpleCategoryBinding extends Binding {\n  constructor(html, htmlParent, styleType, styleParams, layer, binding) {\n    super(html, htmlParent, styleType, styleParams, layer);\n    this.fill_ = false;\n    this.stroke_ = false;\n    this.label_ = false;\n    this.form_ = false;\n    this.icon_ = false;\n    if (styleParams != null) {\n      this.fill_ = styleParams.getOptions().fill !== undefined;\n      this.stroke_ = styleParams.getOptions().stroke !== undefined;\n      this.label_ = styleParams.getOptions().label !== undefined;\n      this.icon_ = styleParams.get('icon.src') !== undefined;\n      this.form_ = styleParams.get('icon.form') !== undefined;\n    }\n\n    this.binding_ = binding;\n  }\n\n  /**\n   * This function sets the layer of a binding class.\n   * @function\n   * @param {M.layer.Vector}\n   * @returns {Binding}\n   */\n  setLayer(layer, refresh = true) {\n    this.layer_ = layer;\n    if (refresh === true) {\n      this.refreshTemplate();\n    }\n    return this;\n  }\n\n  getOptions() {\n    return {\n      fill: this.fill_,\n      stroke: this.stroke_,\n      label: this.label_,\n      form: this.form_,\n      icon: this.icon_,\n    };\n  }\n\n  /**\n   * This function sets the geometry of binding class.\n   * @function\n   * @param {string}\n   * @return {SimpleCategoryBinding}\n   */\n  setGeometry(geometry) {\n    if (SimpleCategoryBinding.GEOMETRIES.includes(geometry)) {\n      this.geometry_ = geometry;\n    } else {\n      this.geometry_ = 'point';\n    }\n    return this;\n  }\n\n  /**\n   * This function sets the geometry of binding class.\n   * @function\n   * @return {string}\n   */\n  getGeometry() {\n    return this.geometry_;\n  }\n\n  /**\n   * This function refresh the html template.\n   * @function\n   */\n  refreshTemplate() {\n    const geometry = this.getGeometry();\n    const hiddenGeometries =\n      SimpleCategoryBinding.GEOMETRIES.filter(section => section !== geometry);\n    hiddenGeometries.push('pattern');\n    hiddenGeometries.forEach((geo) => {\n      if ((geometry === 'point' && geo === 'pattern') || geo !== 'pattern') {\n        this.querySelectorAllForEach(`[data-geometry=\"${geo}\"]`, node => node.classList.add('m-hidden'));\n      }\n    });\n    this.querySelectorAllForEach(`[data-geometry=\"${geometry}\"]`, node => node.classList.remove('m-hidden'));\n    this.addLabelPathListener();\n  }\n\n  /**\n   * This functions initialize the submenu view of each option of Style simple\n   * @function\n   */\n  activateOptionsStyle() {\n    const style = this.style_;\n    if (style != null) {\n      const options = style.getOptions();\n      if (options['fill'] != null) {\n        const valuesFill = Object.values(options.fill).filter(value => value !== undefined);\n        if (valuesFill.length > 0) {\n          this.checkOptionSection('fill');\n        }\n      }\n\n      if (options['stroke'] !== undefined) {\n        this.checkOptionSection('stroke');\n      }\n\n      if (options['label'] !== undefined) {\n        this.checkOptionSection('label');\n      }\n\n      if (options['icon'] !== undefined) {\n        if (options['icon'].hasOwnProperty('src')) {\n          this.checkOptionSection('icon');\n          this.disableOption('form');\n        }\n\n        if (options['icon'].hasOwnProperty('form')) {\n          this.checkOptionSection('form');\n          this.disableOption('icon');\n        }\n      }\n    }\n  }\n\n  showCompatibleSections() {\n    this.binding_.enableOption('form');\n    this.binding_.enableOption('icon');\n    if (this.icon_ === true) {\n      this.binding_.disableOption('form');\n    }\n\n    if (this.form_ === true) {\n      this.binding_.disableOption('icon');\n    }\n  }\n\n  /**\n   * This function sets the layer of a binding class.\n   * @function\n   */\n  addLabelPathListener() {\n    const pathCheck = this.querySelector(\"[data-style-options='label.path']\");\n    pathCheck.addEventListener('change', () => {\n      this.togglePathSection(!pathCheck.checked);\n    });\n  }\n\n  /**\n   * @function\n   */\n  togglePathSection(flag) {\n    this.querySelectorAllForEach('[data-textpath]', (element) => {\n      element.disabled = flag === true ? flag : false;\n    });\n  }\n\n  /**\n   * This function sets the layer of a binding class.\n   * @function\n   * @param {M.layer.Vector}\n   * @returns {Binding}\n   */\n  toggleCheckOptionSection(option) {\n    const clickable = this.getParentTemplate().querySelector(`[data-buttons-option] input[data-apply='${option}']`);\n    clickable.addEventListener('change', (event) => {\n      this.toggleCheckOptSectionListener(option, event);\n    });\n  }\n\n  /**\n   * @function\n   */\n  toggleCheckOptSectionListener(option, event) {\n    if (event.target.checked === true) {\n      this.activateOption(option);\n    }\n  }\n\n  /**\n   * @function\n   */\n  checkOptionSection(option) {\n    const inputSection = this.getParentTemplate().querySelector(`[data-buttons-option] input[data-apply='${option}']`);\n    this.activateOption(option);\n    inputSection.checked = true;\n  }\n\n  /**\n   * This function sets the layer of a binding class.\n   * @function\n   * @param {M.layer.Vector}\n   * @returns {Binding}\n   */\n  activateOptionSection(option) {\n    const clickable = this.getParentTemplate().querySelector(`[data-buttons-option] [data-label='${option}']`);\n    clickable.addEventListener('click', () => {\n      this.activateOption(option);\n    });\n  }\n\n  /**\n   * This function sets the layer of a binding class.\n   * @function\n   * @param {M.layer.Vector}\n   * @returns {Binding}\n   */\n  activateOption(option) {\n    const label = this.querySelectorParent(`[data-buttons-option] input[data-apply=\"${option}\"]+label`);\n    const checkbox = this.querySelectorParent(`[data-buttons-option] input[data-apply=\"${option}\"]`);\n    if (checkbox != null && checkbox.disabled === false) {\n      this.activateLabel(label);\n      this.displaySectionOption(option);\n    }\n  }\n\n  /**\n   * This function sets the layer of a binding class.\n   * @function\n   * @param {M.layer.Vector}\n   * @returns {Binding}\n   */\n  activateLabel(label) {\n    this.querySelectorAllForEachParent('[data-selector]', (element) => {\n      element.classList.remove('check-active');\n      element.classList.add('check-selected');\n    });\n    label.classList.add('check-active');\n    label.classList.remove('check-selected');\n  }\n\n  /**\n   * This function sets the layer of a binding class.\n   * @function\n   * @param {M.layer.Vector}\n   * @returns {Binding}\n   */\n  displaySectionOption(option) {\n    this.hideAllOptionsSections();\n    this.showOptionSection(option);\n  }\n\n  /**\n   * This function generates the style simple options.\n   * @return {object}\n   */\n  generateOptions() {\n    const styleOpts = {};\n    styleOpts['options'] = {};\n\n    this.querySelectorAllForEach('[data-style-options]', (element) => {\n      const path = element.dataset['styleOptions'];\n      let value = element.value;\n      if (element.type === 'checkbox') {\n        value = element.checked;\n      }\n\n      if (element.type === 'number') {\n        value = parseFloat(value);\n        if (Number.isNaN(value)) {\n          value = 0;\n        }\n      }\n\n      const target = element.dataset['target'];\n      if (target !== undefined) {\n        let value2 = parseFloat(this.querySelector(`[data-id='${target}']`).value);\n        if (Number.isNaN(value2)) {\n          value2 = 0;\n        }\n        value = [value, value2];\n      }\n      Binding.createObj(styleOpts['options'], path, value);\n    });\n\n    this.querySelectorAllForEach('[data-apply]', (element) => {\n      const opt = element.dataset['apply'];\n      if (element.checked === false) {\n        Binding.createObj(styleOpts['options'], opt, undefined);\n      }\n    });\n\n\n    const fontSize = this.querySelector('[data-font-size]').value || 12;\n    const fontFamily = this.querySelector('[data-font-family]').value;\n\n    const font = `${fontSize}px ${fontFamily}`;\n\n    const iconOpts = this.icon === true ? styleOpts['options'].src : styleOpts['options'].form;\n\n    let labelOpt;\n    if (styleOpts['options']['label'] != null && styleOpts['options']['label']['text'] != null) {\n      labelOpt = styleOpts['options']['label'];\n    }\n\n    styleOpts['options'] = {\n      fill: styleOpts['options'].fill,\n      stroke: styleOpts['options'].stroke,\n      label: labelOpt,\n      icon: iconOpts,\n      radius: styleOpts['options'].radius,\n    };\n\n    if (this.getGeometry() === 'line') {\n      styleOpts['options'] = {\n        fill: styleOpts['options'].fill,\n        stroke: styleOpts['options'].stroke,\n        label: styleOpts['options'].label,\n      };\n\n      delete styleOpts['options']['fill']['pattern'];\n      if (Object.keys(styleOpts['options']['fill']).length === 0) {\n        delete styleOpts['options']['fill'];\n      }\n    }\n\n    if (this.getGeometry() === 'polygon') {\n      styleOpts['options'] = {\n        fill: styleOpts['options'].fill,\n        stroke: styleOpts['options'].stroke,\n        label: styleOpts['options'].label,\n      };\n    }\n\n    if (styleOpts['options']['label'] !== undefined) {\n      styleOpts['options']['label']['font'] = font;\n    }\n\n    return this.processOptions(styleOpts);\n  }\n\n  /**\n   * This function process de style generate options\n   * @function\n   */\n  processOptions(styleOpts) {\n    const styleOptsClone = M.utils.extends({}, styleOpts);\n    const checkedFill = this.isChecked('fill');\n    const checkedStroke = this.isChecked('stroke');\n    const checkedLabel = this.isChecked('label');\n    const checkedIcon = this.isChecked('icon');\n    const checkedForm = this.isChecked('form');\n    styleOptsClone['options']['fill'] = checkedFill === true ? styleOptsClone['options']['fill'] : undefined;\n    styleOptsClone['options']['stroke'] = checkedStroke === true ? styleOptsClone['options']['stroke'] : undefined;\n    styleOptsClone['options']['label'] = checkedLabel === true ? styleOptsClone['options']['label'] : undefined;\n    styleOptsClone['options']['icon'] = checkedIcon === true || checkedForm === true ? styleOptsClone['options']['icon'] : undefined;\n    return styleOptsClone;\n  }\n\n  /**\n   * @function\n   */\n  isChecked(option) {\n    let checked = false;\n    const input = this.getParentTemplate().parentElement.querySelector(`[data-buttons-option-category] input[data-apply='${option}'`);\n    if (input != null) {\n      checked = input.checked;\n    }\n    return checked;\n  }\n\n  /**\n   * This function generates the style simple.\n   * @return {M.style.Simple}\n   */\n  generateStyle() {\n    let style;\n    const geometry = this.getGeometry();\n    const styleOptions = this.generateOptions().options;\n\n\n    switch (geometry) {\n      case 'point':\n        style = new M.style.Point(styleOptions);\n        break;\n      case 'line':\n        style = new M.style.Line(styleOptions);\n        break;\n      case 'polygon':\n        style = new M.style.Polygon(styleOptions);\n        break;\n\n      default:\n        M.dialog.error(getValue('exception.geomNotSupported'), 'Error');\n    }\n\n    return style;\n  }\n\n  /**\n   * This function adds the listener click event that shows the compatible sections buttons.\n   * @param {string}\n   * @param {string}\n   */\n  compatibleSectionListener(optionEnable, optionDisable) {\n    const clickable = this.querySelectorParent(`[data-buttons-option] input[data-apply=\"${optionEnable}\"]+label`);\n    const input = this.querySelectorParent(`[data-buttons-option] input[data-apply=\"${optionEnable}\"]`);\n    if (clickable != null) {\n      clickable.addEventListener('click', () => {\n        if (input.checked === false) {\n          this.disableOption(optionDisable);\n        } else {\n          this.enableOption(optionDisable);\n        }\n      });\n    }\n  }\n\n  /**\n   * This function disable a button options passed by paramenter.\n   * @function\n   * @param {string}\n   */\n  disableOption(option) {\n    const input = this.getParentTemplate().querySelector(`[data-buttons-option] input[data-apply=\"${option}\"]`);\n    const clickable = this.getParentTemplate().querySelector(`[data-buttons-option] input[data-apply=\"${option}\"]+label`);\n    this.hideOptionSection(option);\n    clickable.classList.add('check-inactive');\n    clickable.classList.add('check-selected');\n    clickable.classList.remove('m-option-active');\n    input.disabled = true;\n    input.checked = false;\n  }\n\n  /**\n   * This function enable a button options passed by paramenter.\n   * @function\n   * @param {string}\n   */\n  enableOption(option) {\n    const input = this.getParentTemplate().querySelector(`[data-buttons-option] input[data-apply=\"${option}\"]`);\n    const clickable = this.getParentTemplate().querySelector(`[data-buttons-option] input[data-apply=\"${option}\"]+label`);\n    clickable.classList.remove('check-inactive');\n    input.disabled = false;\n  }\n\n\n  /**\n   * @function\n   *\n   */\n  getOptionsTemplate() {\n    let options = SimpleCategoryBinding.DEFAULT_OPTIONS_STYLE;\n    if (this.style_ != null) {\n      if (this.style_.get('fill.pattern') != null) {\n        options['patternflag'] = true;\n      }\n      options = M.utils.extends({}, this.style_.getOptions());\n      options = M.utils.extends(options, SimpleCategoryBinding.DEFAULT_OPTIONS_STYLE);\n    }\n\n    // transform color options to hex color for value inputs color\n    options['fill']['color'] = chroma(options['fill']['color']).hex();\n    options['stroke']['color'] = chroma(options['stroke']['color']).hex();\n    options['label']['fill']['color'] = chroma(options['label']['fill']['color']).hex();\n    options['label']['stroke']['color'] = options['label']['stroke']['color'] === 'no-color' ? 'no-color' : chroma(options['label']['stroke']['color']).hex();\n    options['fill']['pattern']['color'] = chroma(options['fill']['pattern']['color']).hex();\n    options['icon']['fill'] = chroma(options['icon']['fill']).hex();\n    options['icon']['gradientcolor'] = chroma(options['icon']['gradientcolor']).hex();\n    // --\n\n    const patternValids = Object.keys(M.style.pattern).filter(name => name !== 'ICON' && name !== 'IMAGE');\n    const alignValues = Object.values(M.style.align);\n    const baselineValues = Object.values(M.style.baseline);\n    const formValues = Object.values(M.style.form).filter(name => name != null);\n    const linejoins = [getValue('bevel'), getValue('miter'), getValue('rounded')];\n    const linecapstrokes = [getValue('rounded'), getValue('extreme'), getValue('square')];\n\n    // transform array options to data template option\n    options['patternlist'] = SimpleCategoryBinding.arrayDataToTemplate(options['fill']['pattern']['name'], patternValids, patternValids);\n    options['linecapstroke'] = SimpleCategoryBinding.arrayDataToTemplate(options['stroke']['linecap'], ['butt', 'square', 'round'], linecapstrokes);\n    options['linejoinstroke'] = SimpleCategoryBinding.arrayDataToTemplate(options['stroke']['linejoin'], ['bevel', 'miter', 'round'], linejoins);\n    options['linecaplabelstroke'] = SimpleCategoryBinding.arrayDataToTemplate(options['label']['stroke']['linecap'], ['butt', 'square', 'round'], linecapstrokes);\n    options['linejoinlabelstroke'] = SimpleCategoryBinding.arrayDataToTemplate(options['label']['stroke']['linejoin'], ['bevel', 'miter', 'round'], linejoins);\n    options['alignlist'] = SimpleCategoryBinding.arrayDataToTemplate(options['label']['align'], alignValues, alignValues);\n    options['baselinelist'] = SimpleCategoryBinding.arrayDataToTemplate(options['label']['baseline'], baselineValues, baselineValues);\n    options['formlist'] = SimpleCategoryBinding.arrayDataToTemplate(options['icon']['form'], formValues, formValues);\n    if (this.layer_ != null) {\n      const labelTextValues = Object.keys(this.getFeaturesAttributes());\n      const labelTextSelected = options['label'] != null ? options['label']['text'] : '';\n      options['featuresAttr'] = SimpleCategoryBinding.arrayDataToTemplate(labelTextSelected, labelTextValues.map(name => `{{${name}}}`), labelTextValues);\n    }\n    return options;\n  }\n\n  set imgId(id) {\n    this.imgId_ = id;\n  }\n\n  get imgId() {\n    return this.imgId_;\n  }\n\n  set fill(bool) {\n    this.fill_ = bool;\n  }\n\n  set stroke(bool) {\n    this.stroke_ = bool;\n  }\n\n  set label(bool) {\n    this.label_ = bool;\n  }\n\n  set form(bool) {\n    this.form_ = bool;\n  }\n\n  set icon(bool) {\n    this.icon_ = bool;\n  }\n\n  get fill() {\n    return this.fill_;\n  }\n\n  get stroke() {\n    return this.stroke_;\n  }\n\n  get label() {\n    return this.label_;\n  }\n\n  get form() {\n    return this.form_;\n  }\n\n  get icon() {\n    return this.icon_;\n  }\n\n  toggleDisplaySubmenu(flag) {\n    const buttonOptions = this.getParentTemplate().querySelector('[data-buttons-option]');\n    const funct = flag === true ? 'add' : 'remove';\n    buttonOptions.classList[funct]('m-hidden');\n  }\n\n  addLegendListener() {\n    this.querySelectorAllForEach('input,select,div.m-boxes', (element) => {\n      if (element instanceof window.HTMLDivElement) {\n        element.addEventListener('click', () => {\n          this.refreshLegend(element);\n        });\n      } else if (element instanceof window.HTMLSelectElement) {\n        element.addEventListener('change', () => {\n          this.refreshLegend(element);\n        });\n      } else {\n        element.addEventListener('input', () => {\n          this.refreshLegend(element);\n        });\n      }\n    });\n  }\n\n  /**\n   * @function\n   * @param {function}\n   */\n  refreshLegend(element, flag) {\n    const id = this.imgId_;\n    let style = this.generateStyle();\n    if (flag === true) {\n      style = this.style_;\n    }\n    if (style != null) {\n      this.style_ = style;\n      style = style.clone();\n      if (style instanceof M.style.Point) {\n        style.set('radius', SimpleCategoryBinding.RADIUS_OPTION);\n        if (style.get('icon.radius') != null) {\n          style.set('icon.radius', SimpleCategoryBinding.ICON_RADIUS_OPTION);\n        }\n      }\n      const img = this.htmlParent_.querySelector(`img[id='img-${id}']`);\n      style.updateCanvas();\n      const dataURL = style.toImage();\n      if (img != null) {\n        img.src = dataURL;\n      }\n    }\n  }\n\n  /**\n   * TODO\n   * @const\n   */\n  static get RADIUS_OPTION() {\n    return 10;\n  }\n\n\n  /**\n   * TODO\n   * @const\n   */\n  static get ICON_RADIUS_OPTION() {\n    return 10;\n  }\n\n  get style() {\n    return this.style_;\n  }\n\n  /**\n   * TODO\n   * @const\n   */\n  static get OPTIONS_POINT_SUBMENU() {\n    return [{\n      id: 'fill',\n      name: getValue('fill'),\n    }, {\n      id: 'stroke',\n      name: getValue('stroke'),\n    }, {\n      id: 'label',\n      name: getValue('labelText'),\n    }, {\n      id: 'icon',\n      name: getValue('icon'),\n    }, {\n      id: 'form',\n      name: getValue('font'),\n    }];\n  }\n\n  /**\n   * TODO\n   * @const\n   */\n  static get OPTIONS_SUBMENU() {\n    return [{\n      id: 'fill',\n      name: getValue('fill'),\n    }, {\n      id: 'stroke',\n      name: getValue('stroke'),\n    }, {\n      id: 'label',\n      name: getValue('labelText'),\n    }];\n  }\n\n  /**\n   * Array of allowed geometries.\n   * @const {Array<string>}\n   */\n  static get GEOMETRIES() {\n    return ['point', 'line', 'polygon'];\n  }\n\n  /**\n   * @function\n   */\n  static arrayDataToTemplate(selected, arrayId, arrayName) {\n    return arrayId.map((id, index) => {\n      return {\n        id,\n        name: arrayName[index],\n        selected,\n      };\n    });\n  }\n\n  /**\n   * @const\n   */\n  static get DEFAULT_OPTIONS_STYLE() {\n    return {\n      radius: 10,\n      fill: {\n        color: '#e5008a',\n        opacity: 1,\n        width: 2,\n        pattern: {\n          color: 'red',\n          name: 'HATCH',\n          size: 1,\n          spacing: 2,\n          scale: 3,\n          offset: 5,\n          rotation: 0,\n        },\n      },\n      stroke: {\n        color: '#000000',\n        opacity: 1,\n        width: 2,\n        linedash: [0, 0],\n        linedashoffset: 0,\n        linecap: 'none',\n        linejoin: 'none',\n      },\n      label: {\n        fill: {\n          color: '#ff0000',\n        },\n        stroke: {\n          color: 'no-color',\n          width: 2,\n          linedash: [0, 0],\n          linedashoffset: 0,\n          linecap: 'none',\n          linejoin: 'none',\n        },\n        scale: 2,\n        text: 'Texto de prueba',\n        font: '14px serif',\n        align: 'center',\n        baseline: 'top',\n        rotate: false,\n        rotation: 0,\n        offset: [0, 0],\n      },\n      icon: {\n        src: '',\n        size: [40, 40],\n        anchor: [0, 0],\n        scale: 1,\n        offset: [0, 0],\n        rotation: 0,\n        opacity: 1,\n        form: 'CIRCLE',\n        fill: '#ffffff',\n        gradientcolor: '#e07e18',\n      },\n    };\n  }\n}\n","/* eslint-disable  dot-notation */\n/* eslint-disable no-prototype-builtins */\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-return-assign */\n/* eslint-disable no-underscore-dangle */\nimport buttonoptions2 from 'templates/buttonoptions2';\nimport simpleoptions from 'templates/simpleoptions';\nimport attributestemplate from 'templates/attributestemplate';\nimport categorystyles from 'templates/categorystyles';\nimport { Binding } from './binding';\nimport { SimpleCategoryBinding } from './simplecategorybinding';\nimport { getValue } from '../i18n/language';\n\n// eslint-disable-next-line\nexport class CategoryBinding extends Binding {\n  constructor(html, htmlParent, styleType, styleParams, layer, controller) {\n    super(html, htmlParent, styleType, styleParams, layer);\n    this.styleCategories_ = {};\n\n    this.compilePromise_.then(() => {\n      const selectElement = this.getTemplate().querySelector(\"[data-options='attributeName']\");\n      selectElement.addEventListener('input', () => {\n        this.renderAttributeOptions();\n      });\n    });\n    this.selectedCategory_ = null;\n    this.clickedOnTable_ = false;\n    this.controller_ = controller;\n  }\n\n  /**\n   * This function sets the attribute layer to the binding.\n   * @function\n   * @param {M.layer.Vector}\n   */\n  setLayer(layer) {\n    this.layer_ = layer;\n    this.setAttributes();\n    this.refreshOptionsButtons();\n    return this;\n  }\n\n  /**\n   * This function shows the html view.\n   * @function\n   * @return {Binding}\n   */\n  unhide() {\n    this.getTemplate().classList.remove('m-hidden');\n    this.getParentTemplate().querySelector('[data-buttons-option-category]').classList.remove('m-hidden');\n    return this;\n  }\n\n  /**\n   * This function hides the html view.\n   * @function\n   * @return {Binding}\n   */\n  hide() {\n    this.getTemplate().classList.add('m-hidden');\n    this.getParentTemplate().querySelector('[data-buttons-option-category]').classList.add('m-hidden');\n    return this;\n  }\n\n  /**\n   * @function\n   */\n  addEventClickListener() {\n    this.querySelectorAllForEach('td:first-child', (element) => {\n      element.addEventListener('click', () => {\n        this.toggleCategory(element.id);\n      });\n    });\n  }\n\n  /**\n   * This function refresh the html options buttons template.\n   * @function\n   */\n  refreshOptionsButtons() {\n    let options = SimpleCategoryBinding.OPTIONS_POINT_SUBMENU;\n\n    if (this.getGeometry() !== 'point') {\n      options = SimpleCategoryBinding.OPTIONS_SUBMENU;\n    }\n\n    this.addOptionsButtons(options, () => {\n      this.compatibleSectionListener('icon', 'form');\n      this.compatibleSectionListener('form', 'icon');\n    });\n  }\n\n  /**\n   * This function sets the layer of a binding class.\n   * @function\n   */\n  addOptionsButtons(options, callback = null) {\n    const parentHtml = this.getParentTemplate().querySelector('[data-buttons-option-category]');\n    this.addTemplate(buttonoptions2, parentHtml, {\n      buttonsParams: options,\n    }, (html) => {\n      if (typeof callback === 'function') {\n        callback();\n      }\n      options.forEach(option => this.addEventOptionListener(option, options));\n      options.forEach(option => this.addEventCheckListener(option, options));\n      this.deactivateSubmenu();\n      this.addEventCheckFromSubmenu();\n    });\n  }\n\n  addEventCheckFromSubmenu() {\n    this.querySelectorAllForEachParent('[data-buttons-option-category] input', (input) => {\n      input.addEventListener('change', () => {\n        this.controller_.selectPanel('stylecategory');\n        this.controller_.setCompatibleStylePanels('stylecategory');\n        this.controller_.showActivePanel('stylecategory');\n      });\n    });\n  }\n\n  /**\n   * This function adds the listener click event that shows the compatible sections buttons.\n   * @param {string}\n   * @param {string}\n   */\n  compatibleSectionListener(optionEnable, optionDisable) {\n    const input = this.querySelectorParent(`[data-buttons-option-category] input[data-apply=\"${optionEnable}\"]`);\n    if (input != null) {\n      input.addEventListener('change', () => {\n        if (input.checked === true) {\n          this.disableOption(optionDisable);\n        } else {\n          this.enableOption(optionDisable);\n        }\n      });\n    }\n  }\n\n  /**\n   * This function disable a button options passed by paramenter.\n   * @function\n   * @param {string}\n   */\n  disableOption(option) {\n    const input = this.getParentTemplate().querySelector(`[data-buttons-option-category] input[data-apply=\"${option}\"]`);\n    const clickable = this.getParentTemplate().querySelector(`[data-buttons-option-category] input[data-apply=\"${option}\"]+label`);\n    this.hideOptionSection(option);\n    if (clickable != null) {\n      clickable.classList.add('check-inactive');\n      clickable.classList.add('check-selected');\n      clickable.classList.remove('m-option-active');\n    }\n    if (input != null) {\n      input.disabled = true;\n      input.checked = false;\n    }\n  }\n\n  /**\n   * This function enable a button options passed by paramenter.\n   * @function\n   * @param {string}\n   */\n  enableOption(option) {\n    const input = this.getParentTemplate().querySelector(`[data-buttons-option-category] input[data-apply=\"${option}\"]`);\n    const clickable = this.getParentTemplate().querySelector(`[data-buttons-option-category] input[data-apply=\"${option}\"]+label`);\n    if (clickable != null) {\n      clickable.classList.remove('check-inactive');\n    }\n    if (input != null) {\n      input.disabled = false;\n    }\n  }\n\n  /**\n   * TODO\n   * @const\n   */\n  static get OPTIONS_POINT_SUBMENU() {\n    return [{\n      id: 'fill',\n      name: getValue('fill'),\n    }, {\n      id: 'stroke',\n      name: getValue('stroke'),\n    }, {\n      id: 'label',\n      name: getValue('labelText'),\n    }, {\n      id: 'icon',\n      name: getValue('icon'),\n    }, {\n      id: 'form',\n      name: getValue('font'),\n    }];\n  }\n\n  /**\n   * TODO\n   * @const\n   */\n  static get OPTIONS_SUBMENU() {\n    return [{\n      id: 'fill',\n      name: getValue('fill'),\n    }, {\n      id: 'stroke',\n      name: getValue('stroke'),\n    }, {\n      id: 'label',\n      name: getValue('labelText'),\n    }];\n  }\n\n  /**\n   * TODO\n   * @function\n   */\n  toggleCategory(id) {\n    Object.values(this.styleCategories_).forEach((simpleBinding) => {\n      simpleBinding.hide();\n    });\n    if (this.clickedOnTable_ === false) {\n      this.activateSubmenu();\n      this.clickedOnTable_ = true;\n    }\n    const simpleBinding = this.styleCategories_[id];\n    this.selectedCategory_ = simpleBinding;\n    const options = this.selectedCategory_.getOptions();\n    this.checkInput('fill', options['fill']);\n    this.checkInput('stroke', options['stroke']);\n    this.checkInput('label', options['label']);\n    this.checkInput('form', options['form']);\n    this.checkInput('icon', options['icon']);\n    if (simpleBinding != null) {\n      simpleBinding.unhide();\n      simpleBinding.showCompatibleSections();\n    }\n    Object.values(this.styleCategories_).forEach((simpleBin) => {\n      simpleBin.setLayer(this.layer_, false);\n    });\n  }\n\n  /**\n   * TODO\n   * @function\n   */\n  renderAttributeOptions(flag = false) {\n    const selectButton = this.querySelector(\"[data-options='attributeName']\");\n    let value = selectButton.value;\n    if (this.style_ != null && flag === true) {\n      value = this.style_.getAttributeName();\n    }\n    const attributeExists = !M.utils.isNullOrEmpty(value);\n    const values = this.getAllValuesAttribute(value)\n      .filter(val => !(M.utils.isNullOrEmpty(val)))\n      .map((valu) => {\n        return {\n          name: valu,\n        };\n      }).splice(0, CategoryBinding.MAXNUMBER_CATEGORIES);\n\n    this.removeCategories();\n    this.createCategories(values);\n    this.addCategoriesView(values, attributeExists);\n  }\n\n  /**\n   * TODO\n   * @function\n   */\n  addCategoriesView(values, attributeExists) {\n    const parent = this.querySelector(\"[data-options='values']\");\n    this.compileTemplate(categorystyles, {\n      values,\n      attributeExists,\n    }).then((html) => {\n      parent.innerHTML = html.innerHTML;\n      Object.values(this.styleCategories_).forEach((binding) => {\n        binding.refreshTemplate();\n        binding.hide();\n      });\n      this.addEventClickListener();\n      this.addEventSelectedListener();\n      this.addLegendListenerAll();\n    });\n  }\n\n  /**\n   * TODO\n   * @function\n   */\n  createCategories(values) {\n    const categoriesStyle = this.style_ == null ? null : this.style_.getCategories();\n    values.forEach((value) => {\n      const categoryStyle = categoriesStyle == null ? null : categoriesStyle[value.name];\n      this.styleCategories_[value.name] = new SimpleCategoryBinding(simpleoptions, this.htmlTemplate_, 'stylesimple', categoryStyle, this.layer_, this);\n      this.styleCategories_[value.name].compilePromise_.then(() => {\n        this.styleCategories_[value.name].refreshLegend(value.name, true);\n      });\n      this.setGeometryCategory(this.styleCategories_[value.name]);\n    });\n\n    const otherCategory = categoriesStyle == null ? null : categoriesStyle['other'];\n    this.styleCategories_['other'] = new SimpleCategoryBinding(simpleoptions, this.htmlTemplate_, 'stylesimple', otherCategory, this.layer_, this);\n    this.styleCategories_['other'].compilePromise_.then(() => {\n      this.styleCategories_['other'].refreshLegend('other', true);\n    });\n    this.setGeometryCategory(this.styleCategories_['other']);\n  }\n\n  /**\n   * TODO\n   * @function\n   */\n  removeCategories() {\n    Object.values(this.styleCategories_).forEach(binding => binding.destroy());\n    this.styleCategories_ = {};\n  }\n\n  /**\n   * TODO\n   * @function\n   */\n  setAttributes() {\n    const layer = this.layer_;\n    if (layer instanceof M.layer.Vector) {\n      const selected = this.style_ == null ? '' : this.style_.getAttributeName();\n      const attributeNames = this.filterAttributesFeature('string').map((element) => {\n        return {\n          name: element,\n          selected,\n        };\n      });\n      const selectElement = this.getTemplate().querySelector(\"[data-options='attributeName']\");\n      this.compileTemplate(attributestemplate, {\n        attributes: attributeNames,\n      }).then((html) => {\n        selectElement.innerHTML = html.innerHTML;\n        this.renderAttributeOptions(true);\n        if (attributeNames.length === 0) {\n          this.deactivateBinding();\n        } else {\n          this.activateBinding();\n        }\n      });\n    }\n  }\n\n  /**\n   * TODO\n   * @function\n   */\n  setGeometryCategory(category) {\n    const geometry = this.layer_.getFeatures()[0].getGeometry().type;\n    switch (geometry) {\n      case 'Point':\n      case 'MultiPoint':\n        category.geometry_ = 'point';\n        break;\n      case 'LineString':\n      case 'MultiLineString':\n        category.geometry_ = 'line';\n        break;\n      case 'Polygon':\n      case 'MultiPolygon':\n        category.geometry_ = 'polygon';\n        break;\n      default:\n        M.dialog.error(getValue('exception.geomNotSupported'), 'Error');\n    }\n  }\n\n  /**\n   * @function\n   */\n  showSection(option) {\n    this.querySelectorAllForEach(`[data-id='${option}']`, (element) => {\n      element.classList.remove('m-hidden');\n    });\n  }\n\n  /**\n   * @function\n   */\n  hideSection(option) {\n    this.querySelectorAllForEach(`[data-id='${option}']`, (element) => {\n      element.classList.add('m-hidden');\n    });\n  }\n\n  /**\n   * @function\n   */\n  addEventOptionListener(option, options) {\n    const element = this.querySelectorParent(`[data-buttons-option-category] [data-label='${option.id}']`);\n    const input = this.querySelectorParent(`[data-buttons-option-category] input[data-apply='${option.id}']`);\n    element.addEventListener('click', () => {\n      if (input.disabled === false) {\n        options.forEach(opt => this.hideSection(opt.id));\n        this.showSection(option.id);\n        this.activeSection(option.id);\n      }\n    });\n  }\n\n  /**\n   * @function\n   */\n  addEventCheckListener(option, options) {\n    const element = this.querySelectorParent(`[data-buttons-option-category] input[data-apply='${option.id}']`);\n    element.addEventListener('click', () => {\n      this.checkSection(option.id, options);\n    });\n  }\n\n  /**\n   * @function\n   */\n  activeSection(id) {\n    const selector = this.querySelectorParent(`[data-buttons-option-category] [data-selector='${id}']`);\n    this.querySelectorAllForEachParent('[data-buttons-option-category] [data-selector]', (element) => {\n      element.classList.remove('check-active');\n      element.classList.add('check-selected');\n    });\n    selector.classList.remove('check-selected');\n    selector.classList.add('check-active');\n  }\n\n  /**\n   * @function\n   */\n  setSelectedRow(id) {\n    this.querySelectorAllForEach('td:first-child', (element) => {\n      element.classList.remove('m-table-cell-selected');\n    });\n    this.querySelector(`[id='${id}']`).classList.add('m-table-cell-selected');\n  }\n\n  addEventSelectedListener() {\n    this.querySelectorAllForEach('td:first-child', (element) => {\n      const id = element.id;\n      element.addEventListener('click', () => this.setSelectedRow(id));\n    });\n  }\n\n\n  /**\n   * @function\n   */\n  checkSection(id, options) {\n    const element = this.querySelectorParent(`[data-buttons-option-category] #cat-${id}`);\n    if (element.checked === true) {\n      if (this.selectedCategory_ != null) {\n        this.selectedCategory_[id] = true;\n      }\n      options.forEach(option => this.hideSection(option.id));\n      this.showSection(id);\n      this.activeSection(id);\n    } else if (this.selectedCategory_ !== null) {\n      this.selectedCategory_[id] = false;\n    }\n    this.selectedCategory_.refreshLegend();\n  }\n\n  /**\n   * @function\n   */\n  checkInput(id, flag) {\n    const element = this.querySelectorParent(`[data-buttons-option-category] #cat-${id}`);\n    if (element != null) {\n      element.checked = flag;\n    }\n  }\n\n  /**\n   * @function\n   */\n  activateSubmenu() {\n    this.querySelectorAllForEachParent('[data-buttons-option-category] input', input => input.disabled = false);\n    this.querySelectorAllForEachParent('[data-buttons-option-category] label[data-selector]', (label) => {\n      label.classList.remove('check-inactive');\n      label.classList.add('check-selected');\n    });\n  }\n\n  /**\n   * @function\n   */\n  deactivateSubmenu() {\n    this.querySelectorAllForEachParent('[data-buttons-option-category] input', input => input.disabled = true);\n    this.querySelectorAllForEachParent('[data-buttons-option-category] label[data-selector]', (label) => {\n      label.classList.add('check-inactive');\n      label.classList.remove('check-selected');\n    });\n  }\n\n  /**\n   * This function sets the geometry of binding class.\n   * @function\n   * @return {string}\n   */\n  getGeometry() {\n    let geometry = this.layer_.getFeatures()[0].getGeometry().type;\n    switch (geometry) {\n      case 'Point':\n      case 'MultiPoint':\n        geometry = 'point';\n        break;\n      case 'LineString':\n      case 'MultiLineString':\n        geometry = 'line';\n        break;\n      case 'Polygon':\n      case 'MultiPolygon':\n        geometry = 'polygon';\n        break;\n      default:\n        M.dialog.error(getValue('geomNotSupported'), 'Error');\n    }\n    return geometry;\n  }\n\n  /**\n   * TODO\n   * @function\n   */\n  getAllValuesAttribute(attribute) {\n    const features = this.layer_.getFeatures();\n    return features.map(feature =>\n      feature.getAttribute(attribute)).filter((elem, pos, arr) => arr.indexOf(elem) === pos);\n  }\n\n  /**\n   * TODO\n   * @function\n   */\n  generateOptions() {\n    const styleOptions = {};\n    const styleCategories = {};\n    styleOptions['attributeName'] = this.querySelector(\"[data-options='attributeName']\").value;\n\n    Object.keys(this.styleCategories_).forEach((value) => {\n      const simpleBinding = this.styleCategories_[value];\n      const fill = simpleBinding.fill;\n      const stroke = simpleBinding.stroke;\n      const icon = simpleBinding.icon || simpleBinding.form;\n      const label = simpleBinding.label;\n      if (fill || stroke || icon || label) {\n        styleCategories[value] = this.styleCategories_[value].style;\n      }\n    }, this);\n\n    styleOptions['options'] = styleCategories;\n\n    return styleOptions;\n  }\n\n  /**\n   * TODO\n   * @function\n   */\n  generateStyle() {\n    const opts = this.generateOptions();\n    let style = null;\n    if (opts.attributeName !== '') {\n      style = new M.style.Category(opts.attributeName, opts.options);\n    }\n    return style;\n  }\n\n  /**\n   * This function adds an event listener for all HTMLInputElement and HTMLSelectElement.\n   * @function\n   * @param {function}\n   */\n  addLegendListenerAll() {\n    Object.keys(this.styleCategories_).forEach((category) => {\n      const binding = this.styleCategories_[category];\n      binding.imgId = category;\n      binding.addLegendListener();\n    });\n  }\n\n  /**\n   * TODO\n   * @const\n   */\n  static get MAXNUMBER_CATEGORIES() {\n    return 30;\n  }\n}\n","/* eslint-disable  dot-notation */\n/* eslint-disable no-prototype-builtins */\n/* eslint-disable no-param-reassign */\nimport variablechart from 'templates/variablechart';\nimport paginationchart from 'templates/paginationchart';\nimport attributeschart from 'templates/attributeschart';\nimport { Binding } from './binding';\nimport { getValue } from '../i18n/language';\n\n// eslint-disable-next-line\nexport class ChartBinding extends Binding {\n  constructor(html, htmlParent, styleType, styleParams, layer) {\n    super(html, htmlParent, styleType, styleParams, layer);\n    this.variables_ = [];\n    if (styleParams != null) {\n      this.variables_ = styleParams.getOptions().variables.map(variable => variable.attribute);\n    }\n    this.compilePromise_.then(() => {\n      this.addKeyEnterListener();\n      this.addRenderCompatibleListener();\n      this.addAttributeListener();\n      this.refreshVariables();\n    });\n  }\n\n  setLayer(layer) {\n    this.layer_ = layer;\n    this.renderAttributes();\n    return this;\n  }\n\n  /**\n   * @function\n   * @param {string}\n   */\n  addAttribute(attr) {\n    this.variables_.push(attr);\n  }\n\n  /**\n   * @function\n   * @param {string}\n   */\n  removeAttribute(attr) {\n    this.variables_ = this.variables_.filter(attr2 => attr2 !== attr);\n  }\n\n  addAttributeFromParamenter(attribute) {\n    this.addAttribute(attribute);\n    this.addVariableTemplate(attribute);\n    this.refreshPagination();\n  }\n\n  /**\n   * @function\n   */\n  addAttributeFromInput() {\n    const inputAttribute = this.querySelector('[data-attribute]');\n    const attribute = inputAttribute.value;\n    if (attribute !== '') {\n      if (this.variables_.includes(attribute)) {\n        M.dialog.info(getValue('exception.attributeAdded'), getValue('exception.repeatedVariable'));\n      } else {\n        const allowedAttrs = this.layer_.getFeatures()[0].getAttributes();\n        if (allowedAttrs.hasOwnProperty(attribute)) {\n          this.addAttributeFromParamenter(attribute);\n        } else {\n          M.dialog.info(getValue('exception.variableName'), getValue('exception.incorrectName'));\n        }\n      }\n    } else {\n      M.dialog.info(getValue('exception.emptyString'), getValue('exception.emptyVariable'));\n    }\n  }\n\n  /**\n   * @function\n   */\n  removeAttributeFromInput() {\n    const inputAttribute = this.querySelector('[data-attribute]');\n    const attribute = inputAttribute.value;\n    this.removeAttribute(attribute);\n  }\n\n  /**\n   * @function\n   */\n  addAttributeListener() {\n    const button = this.querySelector('[data-add]');\n    button.addEventListener('click', () => {\n      this.addAttributeFromInput();\n    });\n  }\n\n  /**\n   * @function\n   */\n  addKeyEnterListener() {\n    const inputElement = this.querySelector('[data-attribute]');\n    inputElement.addEventListener('keydown', this.keyEnterListener());\n  }\n\n  /**\n   * @function\n   */\n  keyEnterListener() {\n    return (evt) => {\n      if (evt.key === 'Enter') {\n        this.addAttributeFromInput();\n      }\n    };\n  }\n\n  /**\n   * @function\n   */\n  addVariableTemplate(attribute) {\n    const parent = this.querySelector('[data-variables]');\n    let variables = [];\n    let variable;\n    let legend = ChartBinding.DEFAULT_OPTIONS_VARIABLE.legend;\n    let label = ChartBinding.DEFAULT_OPTIONS_VARIABLE.label;\n    if (this.style_ != null) {\n      variables = this.style_.getOptions().variables;\n    }\n    if (variables.length !== 0) {\n      variable = variables.find(vari => vari.attribute === attribute);\n      if (variable != null) {\n        legend = variable.legend;\n        label = variable.label;\n      }\n    }\n    this.compileTemplate(variablechart, {\n      attribute,\n      legend,\n      label,\n    }).then((html) => {\n      parent.append(...html.children);\n      const removeElement = this.querySelector(`[data-remove=\"${attribute}\"]`);\n      if (removeElement != null) {\n        this.addRemoveVarSectionListener(removeElement);\n        this.addLabelOptionListener(attribute);\n      }\n    });\n  }\n\n  /**\n   * @function\n   */\n  removeVariableTemplate(selector) {\n    const parent = this.querySelector('.m-chart-variables');\n    this.querySelectorAllForEach(`.m-chart-variables [data-delete=\"${selector}\"]`, (element) => {\n      parent.removeChild(element);\n    });\n  }\n\n  /**\n   * @function\n   */\n  removeVariableSection(attr) {\n    this.removeAttribute(attr);\n    this.removeVariableTemplate(attr);\n    this.refreshPagination();\n  }\n\n  /**\n   * @function\n   */\n  refreshVariables() {\n    const variables = [...this.variables_];\n    variables.forEach((variable) => {\n      this.removeVariableSection(variable);\n      this.addAttributeFromParamenter(variable);\n    });\n  }\n\n  /**\n   * @function\n   */\n  addRemoveVarSectionListener(element) {\n    element.addEventListener('click', this.removeVarSectionListener(element).bind(this));\n  }\n\n  /**\n   * @function\n   */\n  removeVarSectionListener(element) {\n    const attribute = element.dataset['remove'];\n    return () => {\n      this.removeVariableSection(attribute);\n    };\n  }\n\n  /**\n   * @function\n   */\n  refreshPagination() {\n    const options = this.variables_.map((attribute, index) => {\n      const option = {\n        attribute,\n        number: index + 1,\n      };\n      return option;\n    });\n\n    const parent = this.querySelector('[data-pagination]');\n    this.compileTemplate(paginationchart, {\n      ranges: options,\n    }).then((html) => {\n      parent.innerHTML = html.innerHTML;\n      this.addClickPagerListener();\n      const firstAttr = this.variables_.slice(-1)[0];\n      if (firstAttr != null) {\n        this.showVariableSection(firstAttr)();\n      }\n    });\n  }\n\n  /**\n   * @function\n   */\n  addClickPagerListener() {\n    this.querySelectorAllForEach('[data-page-selector]', (element) => {\n      const selector = element.dataset['pageSelector'];\n      element.addEventListener('click', this.showVariableSection(selector).bind(this));\n    });\n  }\n\n  /**\n   * @function\n   */\n  clickPagerListener(selector) {\n    this.querySelectorAllForEach('[data-target]', (element) => {\n      element.classList.add('m-hidden');\n    });\n\n    this.querySelectorAllForEach(`[data-target=\"${selector}\"]`, (element) => {\n      element.classList.remove('m-hidden');\n    });\n  }\n\n  /**\n   * @function\n   */\n  activePageListener(selector) {\n    this.querySelectorAllForEach('[data-page-selector]', (element2) => {\n      element2.classList.remove('m-page-active');\n    });\n    const element = this.querySelector(`[data-page-selector=\"${selector}\"]`);\n    if (element != null) {\n      element.classList.add('m-page-active');\n    }\n  }\n\n  /**\n   * @function\n   */\n  showVariableSection(selector) {\n    return () => {\n      this.clickPagerListener(selector);\n      this.activePageListener(selector);\n    };\n  }\n\n  /**\n   * @function\n   */\n  renderCompatibleOpts(type) {\n    this.querySelectorAllForEach('[data-type]', (element) => {\n      const types = element.dataset['type'].split(',');\n      if (!types.includes(type)) {\n        element.classList.add('m-hidden');\n      } else {\n        element.classList.remove('m-hidden');\n      }\n    });\n  }\n\n  /**\n   * @function\n   */\n  renderCompatibleListener() {\n    const selectElement = this.querySelector(\"[data-style-options='type']\");\n    const selectType = selectElement.selectedOptions[0].value;\n    this.renderCompatibleOpts(selectType);\n  }\n\n  /**\n   * @function\n   */\n  addRenderCompatibleListener() {\n    const selectElement = this.querySelector(\"[data-style-options='type']\");\n    selectElement.addEventListener('change', this.renderCompatibleListener.bind(this));\n  }\n\n  /**\n   * @function\n   */\n  renderAttributes() {\n    const attributes = this.layer_.getFeatures()[0].getAttributes();\n    let keys = Object.keys(attributes);\n    keys = keys.filter((key) => {\n      return !Number.isNaN(parseFloat(attributes[key]));\n    });\n\n    this.compileTemplate(attributeschart, {\n      attributes: keys,\n    }).then((html) => {\n      this.querySelector('[data-attribute]').innerHTML = html.innerHTML;\n    });\n  }\n\n  /**\n   * @function\n   */\n  toggleLabelOptions(name) {}\n\n  /**\n   * @function\n   */\n  addLabelOptionListener(name) {\n    const checkbox = this.querySelector(`[data-variable-option=\"${name}.labelshow\"]`);\n    checkbox.addEventListener('change', () => {\n      this.toggleLabelOptions(name);\n    });\n  }\n\n  /**\n   * @function\n   */\n  generateVariableOptions() {\n    const obj = {};\n\n    this.querySelectorAllForEach('input[data-variable-option]', (element) => {\n      const path = element.dataset['variableOption'];\n      let value = element.value;\n      if (element.type === 'number') {\n        value = parseFloat(value);\n      }\n\n      if (element.type === 'checkbox') {\n        value = element.checked;\n      }\n      Binding.createObj(obj, path, value);\n    });\n\n    let optVars = this.variables_.map((attribute) => {\n      obj[attribute]['attribute'] = attribute;\n\n      return obj[attribute];\n    });\n\n    optVars = optVars.map((option) => {\n      // options text label, show the % of data\n      if (option.labelshow === true) {\n        option['label']['text'] = (value, values) => {\n          return `${Math.round((value / (values.reduce((tot, curr) => tot + curr))) * 100)}%`;\n        };\n      } else {\n        option['label'] = undefined;\n      }\n      return option;\n    });\n\n    return optVars;\n  }\n\n  /**\n   * @function\n   */\n  generateStyle() {\n    const options = this.generateOptions().options;\n    const varsOpts = this.generateVariableOptions();\n    const scheme = M.style.chart.schemes[options.scheme];\n\n    const style = new M.style.Chart({\n      type: options.type,\n      scheme,\n      radius: options.radius,\n      donutRadio: options.donutRadius,\n      offsetX: options.offsetX,\n      offsetY: options.offsetY,\n      variables: varsOpts.length === 0 ? [new M.style.chart.Variable({\n        attribute: 'default',\n      })] : varsOpts,\n      fill3DColor: options.fill3DColor,\n    });\n\n    return style;\n  }\n\n  /**\n   * @function\n   *\n   */\n  getOptionsTemplate() {\n    let options = ChartBinding.DEFAULT_OPTIONS_STYLE;\n    if (this.style_ != null) {\n      options = this.style_.getOptions();\n      options['scheme'] = this.getSchemeName();\n      // parse variable options\n    }\n    return options;\n  }\n\n  /**\n   * @function\n   */\n  getSchemeName() {\n    const arrayEquals = (array, array2) => {\n      let include = false;\n      let include2 = false;\n      if (array instanceof Array && array2 instanceof Array) {\n        include = array.every((element, index) => element === array2[index]);\n        include2 = array2.every((element, index) => element === array[index]);\n      }\n      return include && include2;\n    };\n    let nameAux = '';\n    if (this.style_ != null) {\n      const scheme = this.style_.getOptions()['scheme'];\n      const schemesChart = M.style.chart.schemes;\n      nameAux = Object.keys(schemesChart).find(name => arrayEquals(scheme, schemesChart[name]));\n    }\n    return nameAux;\n  }\n}\n\n/**\n * @const\n */\nChartBinding.DEFAULT_OPTIONS_STYLE = {\n  donutRatio: 4,\n  fill3DColor: '#ff00f0',\n  offsetX: 0,\n  offsetY: 0,\n  radius: 12,\n  rotateWithView: false,\n  scheme: ['#ffa500', 'blue', 'red', 'green', 'cyan', 'magenta', 'yellow', '#0f0'],\n  type: 'pie',\n};\n\n/**\n * @const\n */\nChartBinding.DEFAULT_OPTIONS_VARIABLE = {\n  legend: 'Ejemplo de leyenda',\n  label: {\n    fill: '#ff0000',\n    scale: 1,\n    text: (value, values) => {\n      return `${Math.round((value / (values.reduce((tot, curr) => tot + curr))) * 100)}%`;\n    },\n    radiusIncrement: 2,\n    stroke: {\n      color: '#000000',\n      width: 1,\n    },\n  },\n};\n","/* eslint-disable  dot-notation */\n/* eslint-disable no-return-assign */\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-underscore-dangle */\nimport { Binding } from './binding';\nimport { getValue } from '../i18n/language';\n\n// eslint-disable-next-line\nexport class FlowLineBinding extends Binding {\n  /**\n   * This function sets the attribute layer to the binding.\n   * @function\n   * @param {M.layer.Vector}\n   */\n  setLayer(layer) {\n    this.layer_ = layer;\n    // this.setIntegerAttributes();\n    return this;\n  }\n\n  /**\n   * This function generates the cluster style from GUI Options.\n   *\n   * @function\n   * @returns {M.style.FlowLine}\n   */\n  generateStyle() {\n    const opts = this.generateOptions();\n    let style = null;\n    if (opts) {\n      style = new M.style.FlowLine({\n        color: opts.color,\n        color2: opts.color2,\n        arrow: opts.arrow,\n        width: opts.width,\n        width2: opts.width2,\n        arrowColor: opts.arrowColor,\n        lineCap: opts.lineCap,\n        offset0: opts.offset0,\n        offset1: opts.offset1,\n      });\n    }\n    return style;\n  }\n\n  /**\n   * @function\n   *\n   */\n  getOptionsTemplate() {\n    let options = FlowLineBinding.DEFAULT_OPTIONS_STYLE;\n\n    if (this.style_ != null) {\n      const style = this.style_.options_;\n      options = {\n        color: style.color,\n        color2: style.color2,\n        arrow: style.arrow,\n        arrowColor: style.arrowColor,\n        width: style.width,\n        width2: style.width2,\n        lineCap: style.lineCap,\n        offset0: style.offset0,\n        offset1: style.offset1,\n      };\n      this.setSelected(true);\n    }\n\n    if (this.layer_ != null) {\n      options['arrowlist'] = [{ name: 0 }, { name: -1 }, { name: 1 }, { name: 2 }];\n      options['arrowlist'].forEach(ar => ar['selected'] = options.arrow);\n      options['linecap'] = FlowLineBinding.arrayDataToTemplate(options.lineCap, ['round', 'butt'], [getValue('rounded'), getValue('extreme')]);\n    }\n    return options;\n  }\n\n  /**\n   * @function\n   */\n  static arrayDataToTemplate(selected, arrayId, arrayName) {\n    return arrayId.map((id, index) => {\n      return {\n        id,\n        name: arrayName[index],\n        selected,\n      };\n    });\n  }\n}\n\nFlowLineBinding.DEFAULT_OPTIONS_STYLE = {\n  color: '#ff0000',\n  color2: '#F8FF25',\n  arrow: 0,\n  width: 2,\n  width2: 25,\n  lineCap: 'butt',\n  arrowColor: '#ff0000',\n  offset0: 0,\n  offset1: 0,\n};\n","/* eslint-disable dot-notation */\n/* eslint-disable no-prototype-builtins */\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-return-assign */\nimport stylesimple from 'templates/stylesimple';\nimport styleproportional from 'templates/styleproportional';\nimport stylecluster from 'templates/stylecluster';\nimport stylechoropleth from 'templates/stylechoropleth';\nimport stylecategory from 'templates/stylecategory';\nimport styleheatmap from 'templates/styleheatmap';\nimport stylechart from 'templates/stylechart';\nimport { SimpleBinding } from './binding/simplebinding';\nimport { ProportionalBinding } from './binding/proportionalbinding';\nimport { ClusterBinding } from './binding/clusterbinding';\nimport { HeatmapBinding } from './binding/heatmapbinding';\nimport { ChoroplethBinding } from './binding/choroplethbinding';\nimport { CategoryBinding } from './binding/categorybinding';\nimport { ChartBinding } from './binding/chartbinding';\nimport { getValue } from './i18n/language';\nimport styleflowline from 'templates/styleflowline';\nimport { FlowLineBinding } from './binding/flowlinebinding';\n\nexport default class BindingController {\n  constructor(htmlParent) {\n    this.layer_ = null;\n    this.activePanel_ = null;\n    this.selectedPanels_ = [];\n    this.html_ = htmlParent;\n    this.renderViews(null);\n  }\n\n  getStyles(layer, styleType) {\n    let styleBinding = null;\n    if (layer != null) {\n      const style = layer.getStyle();\n\n      if (style instanceof styleType) {\n        styleBinding = style;\n      } else if (style instanceof M.style.Composite) {\n        const styles = style.getStyles();\n        styleBinding = styles.find(styleEl => styleEl instanceof styleType);\n      }\n    }\n    return styleBinding;\n  }\n\n  renderViews(layer) {\n    this.bindings_ = {};\n    this.bindings_['stylesimple'] = new SimpleBinding(stylesimple, this.html_, 'stylesimple', this.getStyles(layer, M.style.Simple), layer, this);\n    this.bindings_['styleproportional'] = new ProportionalBinding(styleproportional, this.html_, 'styleproportional', this.getStyles(layer, M.style.Proportional), layer);\n    this.bindings_['stylecluster'] = new ClusterBinding(stylecluster, this.html_, 'stylecluster', this.getStyles(layer, M.style.Cluster), layer);\n    this.bindings_['stylechoropleth'] = new ChoroplethBinding(stylechoropleth, this.html_, 'stylechoropleth', this.getStyles(layer, M.style.Choropleth), layer);\n    this.bindings_['styleheatmap'] = new HeatmapBinding(styleheatmap, this.html_, 'styleheatmap', this.getStyles(layer, M.style.Heatmap), layer);\n    this.bindings_['stylechart'] = new ChartBinding(stylechart, this.html_, 'stylechart', this.getStyles(layer, M.style.Chart), layer);\n    this.bindings_['stylecategory'] = new CategoryBinding(stylecategory, this.html_, 'stylecategory', this.getStyles(layer, M.style.Category), layer, this);\n    this.bindings_['styleflowline'] = new FlowLineBinding(styleflowline, this.html_, 'styleflowline', this.getStyles(layer, M.style.FlowLine), layer);\n\n    this.bindings_['stylesimple'].getCompilePromise().then(() => {\n      this.addSelectOnChangeListener();\n      this.addEventSubtitle();\n    });\n    this.allCompilePromises_ = this.getBindings().map(binding => binding.getCompilePromise());\n  }\n\n  getAllCompilePromises() {\n    return this.allCompilePromises_;\n  }\n\n  renderViewsPromise() {\n    const promises = Object.values(this.bindings_).map(binding => binding.getCompilePromise());\n    return Promise.all(promises);\n  }\n\n  destroyViews() {\n    Object.values(this.bindings_).forEach(binding => binding.destroy());\n  }\n\n  /**\n   * @function\n   */\n  getActivePanel() {\n    return this.activePanel_;\n  }\n\n  /**\n   * @function\n   */\n  setActivePanel(style) {\n    Object.values(this.bindings_).forEach(binding => binding.setActivated(false));\n    this.activePanel_ = this.bindings_[style];\n    this.activePanel_.setActivated(true);\n    if (style === 'stylesimple') {\n      this.bindings_['stylesimple'].toggleDisplaySubmenu(false);\n    } else {\n      this.bindings_['stylesimple'].toggleDisplaySubmenu(true);\n    }\n  }\n\n  /**\n   * @function\n   */\n  getSelectedPanels() {\n    return this.selectedPanels_.map(selected => this.bindings_[selected]);\n  }\n\n  /**\n   * @function\n   */\n  addSelectedPanel(style) {\n    if (!this.selectedPanels_.includes(style)) {\n      this.selectedPanels_.push(style);\n      this.bindings_[style].setSelected(true);\n    }\n  }\n\n  selectPanel(style) {\n    this.html_.querySelector(`[data-checkbox='${style}']`).checked = true;\n    this.addSelectedPanel(style);\n  }\n\n  /**\n   * @function\n   */\n  removeSelectedPanel(style) {\n    this.selectedPanels_ = this.selectedPanels_.filter(style2 => style2 !== style);\n    this.bindings_[style].setSelected(false);\n  }\n\n  /**\n   * @function\n   */\n  disablePanel(style) {\n    const binding = this.bindings_[style];\n    if (binding != null) {\n      binding.setDisabled(true);\n    }\n  }\n\n  /**\n   * @function\n   */\n  enablePanel(style) {\n    const binding = this.bindings_[style];\n    if (binding != null) {\n      binding.setDisabled(false);\n    }\n  }\n\n  /**\n   * @function\n   */\n  setGeometry(geometry) {\n    this.geometry_ = geometry;\n  }\n\n  /**\n   * @function\n   */\n  getGeometry() {\n    return this.geometry_;\n  }\n\n  /**\n   * @function\n   */\n  change(layer) {\n    this.destroyViews();\n    this.renderViews(layer);\n\n    this.renderViewsPromise().then(() => {\n      this.setLayer(layer);\n      this.resetOptions();\n      this.setCompatiblePanels();\n      this.initBindings(layer);\n    });\n  }\n\n  /**\n   * @function\n   */\n  setLayer(layer) {\n    if (this.layer_ === null) {\n      this.addActiveListener();\n      this.addSelectListener();\n    }\n    this.layer_ = layer;\n\n    // for (let feature of layer.getFeatures()) {\n    let type;\n\n    //   // Establece correspondencia entre tipo de feature y tipo de geometria\n    if (layer.type === 'MVT') {\n      type = 'generic';\n    } else {\n      switch (layer.getFeatures()[0].getGeometry().type) {\n        case 'Point':\n        case 'MultiPoint':\n          type = 'point';\n          break;\n        case 'LineString':\n        case 'MultiLineString':\n          type = 'line';\n          break;\n        case 'Polygon':\n        case 'MultiPolygon':\n          type = 'polygon';\n          break;\n        default:\n          M.dialog.error(getValue('exception.geomNotSupported'), 'Error');\n      }\n    }\n\n    //   // Establece la geometria\n    //   this.setGeometry(type);\n\n    //   // Entro si tengo una lista de puntos o que contiene puntos\n    //   if (type == \"point\") {\n    //     break;\n    //   }\n\n    this.setGeometry(type);\n\n    // }\n\n    // this.setGeometry(\"generic\");\n  }\n\n  /**\n   * @function\n   */\n  getKeysBindings() {\n    return Object.keys(this.bindings_);\n  }\n\n  /**\n   * @function\n   */\n  getBindings() {\n    return Object.values(this.bindings_);\n  }\n\n  /**\n   * @function\n   */\n  deactivateAll() {\n    this.getBindings().forEach(binding => binding.setActivated(false));\n    this.activePanel_ = null;\n  }\n\n  /**\n   * @function\n   */\n  unselectAll() {\n    this.getBindings().forEach(binding => binding.setSelected(false));\n    this.selectedPanels_ = [];\n  }\n\n  /**\n   * @function\n   */\n  enableAll() {\n    this.getKeysBindings().forEach(binding => this.enablePanel(binding));\n  }\n\n  /**\n   * @function\n   */\n  disableAll() {\n    this.getKeysBindings().forEach(binding => this.disablePanel(binding));\n  }\n\n  /**\n   * @function\n   */\n  bindLayer(binding) {\n    this.bindings_[binding].setLayer(this.layer_);\n    this.bindings_[binding].setDisabled(false);\n  }\n\n  /**\n   * @function\n   */\n  resetOptions() {\n    this.deactivateAll();\n    this.unselectAll();\n  }\n\n  /**\n   * @function\n   */\n  initBindings(layer) {\n    this.bindings_['stylesimple'].setGeometry(this.geometry_).setLayer(this.layer_);\n    const styles = [layer.getStyle()];\n    if (styles[0] instanceof M.style.Composite) {\n      styles.push(...styles[0].getStyles());\n    }\n    const styleNames = styles.map(style => BindingController.parseStyleToName(style));\n    styleNames.forEach((style) => {\n      this.showCompatiblePanel(style);\n      this.activeLastSelected(style);\n    });\n  }\n\n  /**\n   * @function\n   */\n  setCompatiblePanels() {\n    const styles = BindingController.GEOMETRY_COMPATIBLE_OPTIONS[this.geometry_];\n    this.getKeysBindings().forEach((binding) => {\n      if (styles.includes(binding)) {\n        this.bindLayer(binding);\n      } else {\n        this.disablePanel(binding);\n      }\n    });\n    this.deactivateAll();\n  }\n\n  /**\n   * @function\n   */\n  setCompatibleStylePanels(style) {\n    this.disableAll();\n    this.getCompatibles().forEach((style2) => {\n      if (this.compatibleGeometry(style2)) {\n        this.enablePanel(style2);\n      }\n    });\n    this.selectedPanels_.forEach((styleEl) => {\n      this.bindings_[styleEl].setSelected(true);\n    });\n  }\n\n  /**\n   * @function\n   */\n  showActivePanel(style) {\n    this.deactivateAll();\n    this.setActivePanel(style);\n  }\n\n  /**\n   * @function\n   */\n  activeLastSelected(style) {\n    let lastSelected = this.selectedPanels_.slice(-1)[0];\n    if (lastSelected === undefined) {\n      lastSelected = style;\n    }\n    this.showActivePanel(lastSelected);\n  }\n\n  /**\n   * @function\n   */\n  showCompatiblePanel(style) {\n    if (this.selectedPanels_.includes(style)) {\n      this.removeSelectedPanel(style);\n    } else {\n      this.addSelectedPanel(style);\n    }\n    this.setCompatibleStylePanels(style);\n  }\n\n  /**\n   * @function\n   */\n  addActiveListener() {\n    this.getKeysBindings().forEach((binding) => {\n      const bindingStyle = this.bindings_[binding];\n      const selectButton = bindingStyle.getSelectButton();\n      const activeButton = bindingStyle.getActivateButton();\n      const label = this.html_.querySelector(`[data-flap='${binding}']+label`);\n      label.addEventListener('click', () => {\n        if (selectButton.disabled === false) {\n          const style = activeButton.dataset.flap;\n          this.toggleDisplaySubmenu(style !== 'stylesimple');\n          this.showActivePanel(style);\n        }\n      });\n    });\n  }\n\n  /**\n   * @function\n   */\n  addSelectListener() {\n    this.getKeysBindings().forEach((binding) => {\n      const bindingStyle = this.bindings_[binding];\n      const selectButton = bindingStyle.getSelectButton();\n      selectButton.addEventListener('change', () => {\n        const style = selectButton.dataset.checkbox;\n        this.toggleDisplaySubmenu(style !== 'stylesimple');\n        this.showCompatiblePanel(style);\n        this.activeLastSelected(style);\n      });\n    });\n  }\n\n  /**\n   * @function\n   */\n  getStyle() {\n    let style;\n    if (this.getSelectedPanels().length === 0) {\n      M.dialog.info(getValue('exception.chooseStyle'), getValue('exception.choStyle'));\n    } else if (this.getSelectedPanels().length === 1) {\n      style = this.getSelectedPanels()[0].generateStyle();\n    } else {\n      const mainStyle = this.getMainStyle();\n      const styles = this.getIndividualStyles();\n      mainStyle.add(styles);\n      style = mainStyle;\n    }\n    return style;\n  }\n\n  /**\n   * @function\n   */\n  getMainStyle() {\n    return this.getSelectedPanels().map(binding => binding.generateStyle()).find(style =>\n      style instanceof M.style.Composite);\n  }\n\n  /**\n   * @function\n   */\n  getIndividualStyles() {\n    const mainStyle = this.getMainStyle();\n    return this.getSelectedPanels()\n      .filter(style => style != null)\n      .map(binding => binding.generateStyle()).filter(style => !style.equals(mainStyle));\n  }\n\n  /**\n   * @function\n   */\n  getCompatibles() {\n    const compatibles = ['stylesimple', 'stylecluster', 'stylechart', 'styleproportional', 'stylecategory', 'stylechoropleth', 'styleheatmap', 'styleflowline'];\n    return compatibles.filter(style => this.isCompatibleAll(this.selectedPanels_, style));\n  }\n\n  toggleDisplaySubmenu(flag) {\n    this.bindings_['stylesimple'].toggleDisplaySubmenu(flag);\n  }\n\n  /**\n   * @function\n   */\n  isCompatible(style, style2) {\n    return BindingController.STYLE_COMPATIBLE_OPTIONS[style].includes(style2);\n  }\n\n  /**\n   * @function\n   */\n  isCompatibleAll(styles, style) {\n    let isCompatible = true;\n    styles.forEach((style2) => {\n      if (!this.isCompatible(style2, style)) {\n        isCompatible = false;\n      }\n    });\n    return isCompatible;\n  }\n\n  /**\n   * @function\n   */\n  compatibleGeometry(style) {\n    return BindingController.GEOMETRY_COMPATIBLE_OPTIONS[this.geometry_].includes(style);\n  }\n\n  /**\n   * @function\n   */\n  addSelectOnChangeListener() {\n    this.bindings_['stylesimple'].querySelectorAllForEach('*', (element) => {\n      element.addEventListener('click', () => {\n        this.addSelectedPanel('stylesimple');\n      });\n    });\n  }\n\n  /**\n   * @function\n   */\n  addEventSubtitle() {\n    this.bindings_['stylesimple'].querySelectorAllForEach('.subtitle', (element) => {\n      element.addEventListener('click', (e) => {\n        const clss = e.currentTarget.nextElementSibling.classList.value;\n        if (clss === 'content-row-hidden') {\n          e.currentTarget.nextElementSibling.classList.add('content-row-show');\n          e.currentTarget.nextElementSibling.classList.remove('content-row-hidden');\n          e.currentTarget.firstElementChild.classList.remove('g-cartografia-flecha-abajo');\n          e.currentTarget.firstElementChild.classList.add('g-cartografia-flecha-arriba');\n        } else {\n          e.currentTarget.nextElementSibling.classList.remove('content-row-show');\n          e.currentTarget.nextElementSibling.classList.add('content-row-hidden');\n          e.currentTarget.firstElementChild.classList.add('g-cartografia-flecha-abajo');\n          e.currentTarget.firstElementChild.classList.remove('g-cartografia-flecha-arriba');\n        }\n      });\n    });\n  }\n\n  /**\n   * @const\n   * @static\n   */\n  static get STYLE_COMPATIBLE_OPTIONS() {\n    return {\n      stylesimple: ['styleproportional', 'stylecluster', 'stylesimple'],\n      styleproportional: ['stylesimple', 'stylecluster', 'stylechart', 'styleproportional', 'stylecategory', 'stylechoropleth'],\n      stylechoropleth: ['styleproportional', 'stylecluster', 'stylechoropleth'],\n      stylecategory: ['styleproportional', 'stylecluster', 'stylecategory'],\n      stylecluster: ['stylesimple', 'stylechart', 'styleproportional', 'stylecategory', 'stylechoropleth', 'stylecluster'],\n      styleheatmap: ['styleheatmap'],\n      stylechart: ['stylecluster', 'styleproportional', 'stylechart'],\n      styleflowline: ['styleflowline'],\n    };\n  }\n\n  /**\n   * @const\n   * @static\n   */\n  static get GEOMETRY_COMPATIBLE_OPTIONS() {\n    return {\n      generic: ['stylesimple'],\n      point: ['styleproportional', 'stylecluster', 'stylechoropleth', 'stylecategory',\n        'styleheatmap', 'stylechart', 'stylesimple',\n      ],\n      line: ['stylechoropleth', 'stylecategory', 'styleflowline', 'stylesimple'],\n      polygon: ['stylechoropleth', 'stylecategory', 'stylesimple', 'styleproportional'],\n    };\n  }\n\n  /**\n   * @function\n   * @static\n   */\n  static parseStyleToName(style) {\n    let name = '';\n    if (style instanceof M.style.FlowLine) {\n      name = 'styleflowline';\n    } else if (style instanceof M.style.Simple) {\n      name = 'stylesimple';\n    } else if (style instanceof M.style.Cluster) {\n      name = 'stylecluster';\n    } else if (style instanceof M.style.Heatmap) {\n      name = 'styleheatmap';\n    } else if (style instanceof M.style.Choropleth) {\n      name = 'stylechoropleth';\n    } else if (style instanceof M.style.Category) {\n      name = 'stylecategory';\n    } else if (style instanceof M.style.Chart) {\n      name = 'stylechart';\n    } else if (style instanceof M.style.Proportional) {\n      name = 'styleproportional';\n    }\n    return name;\n  }\n}\n","/* eslint-disable no-param-reassign */\n\nimport stylemanager from 'templates/stylemanager';\nimport StyleManagerImplControl from 'impl/stylemanagerControl';\nimport selectlayer from 'templates/selectlayer';\nimport BindingController from './bindingcontroller';\nimport { getValue } from './i18n/language';\n\nexport default class StyleManagerControl extends M.Control {\n  /**\n   * @classdesc\n   * Main constructor of the class. Creates a PluginControl\n   * control\n   *\n   * @constructor\n   * @extends {M.Control}\n   * @api stable\n   */\n  constructor(layer) {\n    // 1. checks if the implementation can create PluginControl\n    if (M.utils.isUndefined(StyleManagerImplControl)) {\n      M.exception(getValue('impl'));\n    }\n\n    // 2. implementation of this control\n    const impl = new StyleManagerImplControl();\n    super(impl, 'StyleManager');\n    this.layer_ = layer;\n  }\n  /**\n   * This function creates the view\n   *\n   * @public\n   * @function\n   * @param {M.Map} map to add the control\n   * @api stable\n   */\n  createView(map) {\n    this.facadeMap_ = map;\n    const layers = map.getWFS().concat(map.getMVT().concat(map.getKML().concat(map.getLayers().filter(layer => layer.type === 'GeoJSON')))).filter((layer) => {\n      return layer.name !== 'selectLayer';\n    });\n    return new Promise((success, fail) => {\n      const html = M.template.compileSync(stylemanager, {\n        jsonp: true,\n        vars: {\n          layers,\n          translations: {\n            selectLayer: getValue('selectLayer'),\n            applyStyle: getValue('applyStyle'),\n            clearStyle: getValue('clearStyle'),\n            generateSerialized: getValue('generateSerialized'),\n            heatMap: getValue('heatMap'),\n            category: getValue('category'),\n            choropleths: getValue('choropleths'),\n            proportional: getValue('proportional'),\n            statistic: getValue('statistic'),\n            flowLine: getValue('flowLine'),\n          },\n        },\n      });\n      const htmlSelect = html.querySelector('#m-stylemanager-select');\n      const container = html.querySelector('.m-stylemanager-container-select');\n      this.bindinController_ = new BindingController(container);\n      this.addSelectListener(htmlSelect, html);\n      this.subscribeAddedLayer(htmlSelect);\n      this.addApplyBtnListener(html);\n      this.addClearBtnListener(html);\n      this.addSerializedBtnListener(html);\n      this.renderOptionsLayerParam(htmlSelect, html, layers);\n      success(html);\n      this.loadFonts(html);\n    });\n  }\n\n  /**\n   * @public\n   * @function\n   * @param {HTMLElement} html to add the plugin\n   * @api stable\n   */\n  renderOptionsLayerParam(htmlSelect, html, layers) {\n    if (this.layer_ instanceof M.layer.Vector) {\n      Promise.all(this.bindinController_.getAllCompilePromises()).then(() => {\n        this.renderOptions(htmlSelect, html, this.layer_);\n        const htmlRes = M.template.compileSync(selectlayer, {\n          vars: {\n            layers: layers.map((layer) => {\n              return {\n                name: layer.name,\n                selected: this.layer_.name,\n              };\n            }),\n          },\n        });\n        htmlSelect.innerHTML = htmlRes.innerHTML;\n      });\n    }\n  }\n\n  /**\n   * @public\n   * @function\n   * @param {HTMLElement} html to add the plugin\n   * @api stable\n   */\n  addOpenAttribute(html) {\n    const containerSelect = html.querySelector('.m-stylemanager-container-select');\n    containerSelect.setAttribute('open-select', '');\n  }\n\n  /**\n   * @public\n   * @function\n   * @param {HTMLElement} html to add the plugin\n   * @api stable\n   */\n  addApplyBtnListener(html) {\n    const buttonApply = html.querySelector('[data-apply-style]');\n    buttonApply.addEventListener('click', this.applyStyle.bind(this));\n  }\n\n  /**\n   * @public\n   * @function\n   * @param {HTMLElement} html to add the plugin\n   * @api stable\n   */\n  addSerializedBtnListener(html) {\n    const buttonSerialized = html.querySelector('[data-serialized-style]');\n    buttonSerialized.addEventListener('click', this.serializedStyle.bind(this));\n  }\n\n  /**\n   * @public\n   * @function\n   * @param {HTMLElement} html to add the plugin\n   * @api stable\n   */\n  addClearBtnListener(html) {\n    const buttonClear = html.querySelector('[data-clear-style]');\n    buttonClear.addEventListener('click', this.clearStyle.bind(this));\n  }\n\n  /**\n   * @public\n   * @function\n   * @param {HTMLElement} html to add the plugin\n   * @api stable\n   */\n  addSelectListener(htmlSelect, html) {\n    htmlSelect.addEventListener('change', () => {\n      this.renderOptions(htmlSelect, html);\n    });\n  }\n\n  /**\n   * @public\n   * @function\n   * @param {HTMLElement} html to add the plugin\n   * @api stable\n   */\n  subscribeAddedLayer(htmlSelect) {\n    this.facadeMap_.on(M.evt.ADDED_LAYER, (layers) => {\n      if (Array.isArray(layers)) {\n        layers.filter(layer => (layer instanceof M.layer.Vector && layer\n          instanceof M.layer.MBTilesVector === false && layer.name !== 'selectLayer')).forEach(layer => this.addLayerOption(htmlSelect, layer.name));\n      } else if (layers instanceof M.layer.Vector) {\n        const layer = { ...layers };\n        this.addLayerOption(htmlSelect, layer);\n      }\n    });\n  }\n\n  /**\n   * @public\n   * @function\n   * @param {HTMLElement} html to add the plugin\n   * @api stable\n   */\n  getActivationButton(html) {\n    return html.querySelector('button.m-panel-btn');\n  }\n\n  /**\n   * @function\n   */\n  addLayerOption(htmlSelect, name) {\n    if (name !== 'cluster_cover') {\n      if (this.isNotAdded(name, htmlSelect) === true) {\n        const htmlOption = document.createElement('option');\n        htmlOption.setAttribute('name', name);\n        htmlOption.innerText = name;\n        htmlSelect.add(htmlOption);\n      }\n    }\n  }\n\n  /**\n   * @function\n   */\n  isNotAdded(layerName, htmlSelect) {\n    const aChildren = [...htmlSelect.children];\n    return !aChildren.some(o => o.innerHTML === layerName);\n  }\n\n  /**\n   * @public\n   * @function\n   * @param {HTMLElement} html to add the plugin\n   * @api stable\n   */\n  renderOptions(htmlSelect, html, layer = null) {\n    const layerName = htmlSelect.value;\n    this.layer_ = this.getLayerByName(layerName);\n    if (layer != null) {\n      this.layer_ = layer;\n    }\n    if (this.layer_ instanceof M.layer.Vector) {\n      const features = this.layer_.getFeatures();\n      if (features.length === 0) {\n        M.dialog.error(getValue('exception.layerNoFeaturesLoad'), 'Error');\n        htmlSelect.selectedIndex = 0;\n      } else {\n        this.bindinController_.change(this.layer_);\n        this.showBoxes(html);\n        this.addOpenAttribute(html);\n      }\n    }\n  }\n\n  /**\n   * @public\n   * @function\n   * @param {HTMLElement} html to add the plugin\n   * @api stable\n   */\n  getLayerByName(layerName) {\n    const layers = this.facadeMap_.getWFS().concat(this.facadeMap_.getMVT().concat(this.facadeMap_.getKML().concat(this.facadeMap_.getLayers().filter(layer => layer.type === 'GeoJSON')))).filter((layer) => {\n      return layer.name !== 'selectLayer';\n    });\n    return layers.find(layer => layer.name === layerName);\n  }\n\n  /**\n   * @public\n   * @function\n   * @param {HTMLElement} html to add the plugin\n   * @api stable\n   */\n  showBoxes(htmlParent) {\n    htmlParent.querySelector('.m-boxes').classList.remove('m-hidden');\n  }\n\n  /**\n   * @public\n   * @function\n   * @param {HTMLElement} html to add the plugin\n   * @api stable\n   */\n  applyStyle() {\n    if (this.layer_ instanceof M.layer.Vector) {\n      this.clearStyle();\n      const style = this.bindinController_.getStyle();\n      this.layer_.setStyle(style);\n    } else {\n      M.dialog.info(getValue('exception.chooseLayer'), getValue('exception.choLayer'));\n    }\n  }\n\n  /**\n   * @public\n   * @function\n   * @api stable\n   */\n  serializedStyle() {\n    if (this.layer_ instanceof M.layer.Vector) {\n      const style = this.bindinController_.getStyle();\n      const text = style.serialize();\n      const p = document.createElement('input');\n      p.value = text;\n      document.body.appendChild(p);\n      p.select();\n      document.execCommand('copy');\n      M.dialog.info(getValue('clipboard'), getValue('serializedStyle'));\n      document.body.removeChild(p);\n    } else {\n      M.dialog.info(getValue('exception.chooseLayer'), getValue('exception.choLayer'));\n    }\n  }\n\n  /**\n   * @public\n   * @function\n   * @param {HTMLElement} html to add the plugin\n   * @api stable\n   */\n  clearStyle() {\n    if (this.layer_ instanceof M.layer.Vector) {\n      this.layer_.setStyle(M.layer.Vector.DEFAULT_OPTIONS_STYLE);\n    } else {\n      M.dialog.info(getValue('exception.chooseLayer'), getValue('exception.choLayer'));\n    }\n  }\n  /**\n   * @function\n   */\n  loadFonts() {\n    M.style.Font.addSymbol({\n      font: 'FontAwesome',\n      name: 'FontAwesome',\n      copyright: 'SIL OFL 1.1',\n      prefi: 'fa',\n    }, {\n      'fa-glass': '\\uf000',\n      'fa-music': '\\uf001',\n      'fa-search': '\\uf002',\n      'fa-envelope-o': '\\uf003',\n      'fa-heart': '\\uf004',\n      'fa-star': '\\uf005',\n      'fa-star-o': '\\uf006',\n      'fa-user': '\\uf007',\n      'fa-film': '\\uf008',\n      'fa-th-large': '\\uf009',\n      'fa-th': '\\uf00a',\n      'fa-th-list': '\\uf00b',\n      'fa-check': '\\uf00c',\n      'fa-remove': '\\uf00d',\n      'fa-close': '\\uf00d',\n      'fa-times': '\\uf00d',\n      'fa-search-plus': '\\uf00e',\n      'fa-search-minus': '\\uf010',\n      'fa-power-off': '\\uf011',\n      'fa-signal': '\\uf012',\n      'fa-gear': '\\uf013',\n      'fa-cog': '\\uf013',\n      'fa-trash-o': '\\uf014',\n      'fa-home': '\\uf015',\n      'fa-file-o': '\\uf016',\n      'fa-clock-o': '\\uf017',\n      'fa-road': '\\uf018',\n      'fa-download': '\\uf019',\n      'fa-arrow-circle-o-down': '\\uf01a',\n      'fa-arrow-circle-o-up': '\\uf01b',\n      'fa-inbox': '\\uf01c',\n      'fa-play-circle-o': '\\uf01d',\n      'fa-rotate-right': '\\uf01e',\n      'fa-repeat': '\\uf01e',\n      'fa-refresh': '\\uf021',\n      'fa-list-alt': '\\uf022',\n      'fa-lock': '\\uf023',\n      'fa-flag': '\\uf024',\n      'fa-headphones': '\\uf025',\n      'fa-volume-off': '\\uf026',\n      'fa-volume-down': '\\uf027',\n      'fa-volume-up': '\\uf028',\n      'fa-qrcode': '\\uf029',\n      'fa-barcode': '\\uf02a',\n      'fa-tag': '\\uf02b',\n      'fa-tags': '\\uf02c',\n      'fa-book': '\\uf02d',\n      'fa-bookmark': '\\uf02e',\n      'fa-print': '\\uf02f',\n      'fa-camera': '\\uf030',\n      'fa-font': '\\uf031',\n      'fa-bold': '\\uf032',\n      'fa-italic': '\\uf033',\n      'fa-text-height': '\\uf034',\n      'fa-text-width': '\\uf035',\n      'fa-align-left': '\\uf036',\n      'fa-align-center': '\\uf037',\n      'fa-align-right': '\\uf038',\n      'fa-align-justify': '\\uf039',\n      'fa-list': '\\uf03a',\n      'fa-dedent': '\\uf03b',\n      'fa-outdent': '\\uf03b',\n      'fa-indent': '\\uf03c',\n      'fa-video-camera': '\\uf03d',\n      'fa-photo': '\\uf03e',\n      'fa-image': '\\uf03e',\n      'fa-picture-o': '\\uf03e',\n      'fa-pencil': '\\uf040',\n      'fa-map-marker': '\\uf041',\n      'fa-adjust': '\\uf042',\n      'fa-tint': '\\uf043',\n      'fa-edit': '\\uf044',\n      'fa-pencil-square-o': '\\uf044',\n      'fa-share-square-o': '\\uf045',\n      'fa-check-square-o': '\\uf046',\n      'fa-arrows': '\\uf047',\n      'fa-step-backward': '\\uf048',\n      'fa-fast-backward': '\\uf049',\n      'fa-backward': '\\uf04a',\n      'fa-play': '\\uf04b',\n      'fa-pause': '\\uf04c',\n      'fa-stop': '\\uf04d',\n      'fa-forward': '\\uf04e',\n      'fa-fast-forward': '\\uf050',\n      'fa-step-forward': '\\uf051',\n      'fa-eject': '\\uf052',\n      'fa-chevron-left': '\\uf053',\n      'fa-chevron-right': '\\uf054',\n      'fa-plus-circle': '\\uf055',\n      'fa-minus-circle': '\\uf056',\n      'fa-times-circle': '\\uf057',\n      'fa-check-circle': '\\uf058',\n      'fa-question-circle': '\\uf059',\n      'fa-info-circle': '\\uf05a',\n      'fa-crosshairs': '\\uf05b',\n      'fa-times-circle-o': '\\uf05c',\n      'fa-check-circle-o': '\\uf05d',\n      'fa-ban': '\\uf05e',\n      'fa-arrow-left': '\\uf060',\n      'fa-arrow-right': '\\uf061',\n      'fa-arrow-up': '\\uf062',\n      'fa-arrow-down': '\\uf063',\n      'fa-mail-forward': '\\uf064',\n      'fa-share': '\\uf064',\n      'fa-expand': '\\uf065',\n      'fa-compress': '\\uf066',\n      'fa-plus': '\\uf067',\n      'fa-minus': '\\uf068',\n      'fa-asterisk': '\\uf069',\n      'fa-exclamation-circle': '\\uf06a',\n      'fa-gift': '\\uf06b',\n      'fa-leaf': '\\uf06c',\n      'fa-fire': '\\uf06d',\n      'fa-eye': '\\uf06e',\n      'fa-eye-slash': '\\uf070',\n      'fa-warning': '\\uf071',\n      'fa-exclamation-triangle': '\\uf071',\n      'fa-plane': '\\uf072',\n      'fa-calendar': '\\uf073',\n      'fa-random': '\\uf074',\n      'fa-comment': '\\uf075',\n      'fa-magnet': '\\uf076',\n      'fa-chevron-up': '\\uf077',\n      'fa-chevron-down': '\\uf078',\n      'fa-retweet': '\\uf079',\n      'fa-shopping-cart': '\\uf07a',\n      'fa-folder': '\\uf07b',\n      'fa-folder-open': '\\uf07c',\n      'fa-arrows-v': '\\uf07d',\n      'fa-arrows-h': '\\uf07e',\n      'fa-bar-t-o': '\\uf080',\n      'fa-bar-t': '\\uf080',\n      'fa-twitter-square': '\\uf081',\n      'fa-facebook-square': '\\uf082',\n      'fa-camera-retro': '\\uf083',\n      'fa-key': '\\uf084',\n      'fa-gears': '\\uf085',\n      'fa-cogs': '\\uf085',\n      'fa-comments': '\\uf086',\n    });\n  }\n\n  /**\n   * This function compares controls\n   *\n   * @public\n   * @function\n   * @param {M.Control} control to compare\n   * @api stable\n   */\n  equals(control) {\n    return control instanceof StyleManagerControl;\n  }\n}\n","/* eslint-disable no-param-reassign */\n/* eslint-disable no-restricted-syntax */\n/* eslint-disable guard-for-in */\n// eslint-disable-next-line\nexport class ColorPickerPolyfill {\n  static apply(window) {\n    const document = window.document;\n    const nativeColorPicker = {\n      // initialized flag\n      started: false,\n\n      // start color\n      color: '#000000',\n\n      // inputs where plugin was initialized\n      inputs: {},\n\n      // flag to know if color input is supported\n      hasNativeColorSupport: false,\n\n      // inits the plugin on specified input\n      init: (inputId) => {\n        // start the plugin\n        this.start();\n\n        if (this.hasNativeColorSupport) {\n          return;\n        }\n\n        if (typeof inputId !== 'string') {\n          throw new Error('inputId have to be a string id selector');\n        }\n\n        // set the input\n        this.input = (this.inputs[inputId] = this.inputs[inputId]) ||\n          document.getElementById(inputId);\n\n        if (!this.input) {\n          throw new Error(`There was no input found with id: \"${inputId}\"`);\n        }\n\n        // input defaults\n        this.input.value = this.color;\n        this.input.unselectable = 'on';\n        this.css(this.input, {\n          backgroundColor: this.color,\n          borderWidth: '0.4em 0.3em',\n          width: '3em',\n          cursor: 'default',\n        });\n\n        // register input event\n        this.input.onfocus = () => {\n          nativeColorPicker.onFocus(this.id);\n        };\n      },\n\n      // initialize once\n      start: () => {\n        // is already started\n        if (this.started) {\n          return;\n        }\n\n        // test if browser has native support for color input\n        try {\n          this.hasNativeColorSupport = !!(document.createElement('input').type = 'color');\n        } catch (e) {\n          // continue regardless of error\n        }\n\n        // no native support...\n        if (!this.hasNativeColorSupport) {\n          // create object element\n          const objectElement = document.createElement('object');\n          objectElement.classid = 'clsid:3050f819-98b5-11cf-bb82-00aa00bdce0b';\n          // set attributes\n          objectElement.id = 'colorHelperObj';\n          this.css(objectElement, {\n            width: '0',\n            height: '0',\n          });\n          document.body.appendChild(objectElement);\n        }\n        // mark as started\n        this.started = true;\n      },\n\n      // destroys the plugin\n      destroy: (inputId) => {\n        let i;\n        // destroy one input or all the plugin if no input id\n        if (typeof inputId === 'string') {\n          this.off(this.inputs[inputId]);\n        } else {\n          // remove helper object\n          document.body.removeChild(document.getElementById('colorHelperObj'));\n          // remove input events and styles\n          for (i in this.inputs) {\n            this.off(this.inputs[i]);\n          }\n          // mark not started\n          this.started = false;\n        }\n      },\n\n      off: (input) => {\n        input.onfocus = null;\n        this.css(input, {\n          backgroundColor: '',\n          borderWidth: '',\n          width: '',\n          cursor: '',\n        });\n      },\n\n      // input focus function\n      onFocus: (inputId) => {\n        this.input = this.inputs[inputId];\n        this.color = this.getColor();\n        this.input.value = this.color;\n        nativeColorPicker.css(this.input, {\n          backgroundColor: this.color,\n          color: this.color,\n        });\n        this.input.blur();\n      },\n\n      // gets the color from the object\n      // and normalize it\n      getColor: () => {\n        // get decimal color, (passing the previous one)\n        // and change to hex\n        const colorHelperObj = document.getElementById('colorHelperObj');\n        let hex = colorHelperObj.ChooseColorDlg(this.color.replace(/#/, '')).toString(16);\n\n        // add extra zeroes if hex number is less than 6 digits\n        if (hex.length < 6) {\n          const tmpstr = '000000'.substring(0, 6 - hex.length);\n          hex = tmpstr.concat(hex);\n        }\n\n        return `# ${hex}`;\n      },\n\n      // set css properties\n      css: (el, props) => {\n        for (const prop in props) {\n          el.style[prop] = props[prop];\n        }\n      },\n    };\n\n    // expose to global\n    window.nativeColorPicker = nativeColorPicker;\n  }\n}\n","/* eslint-disable import/extensions */\n/**\n * @module M/plugin/StyleManager\n */\nimport 'css/stylemanager';\nimport 'css/font-awesome.min';\nimport 'templates/categorystyles';\nimport StyleManagerControl from './stylemanagerControl';\nimport { ColorPickerPolyfill } from './utils/colorpicker';\nimport { getValue } from './i18n/language';\n\nexport default class StyleManager extends M.Plugin {\n  /**\n   * @classdesc\n   * Main facade plugin object. This class creates a plugin\n   * object which has an implementation Object\n   *\n   * @constructor\n   * @extends {M.Plugin}\n   * @param {Object} impl implementation object\n   * @api stable\n   */\n  constructor(options = {}) {\n    super();\n    /**\n     * Facade of the map\n     * @private\n     * @type {M.Map}\n     */\n    this.map_ = null;\n\n    /**\n     * Array of controls\n     * @private\n     * @type {Array<M.Control>}\n     */\n    this.controls_ = [];\n\n    /**\n     * Position of the plugin\n     * @private\n     * @type {String}\n     */\n    this.position_ = options.position || 'TL';\n\n    /**\n     * Option to allow the plugin to be collapsed or not\n     * @private\n     * @type {Boolean}\n     */\n    this.collapsed_ = options.collapsed;\n    if (this.collapsed_ === undefined) this.collapsed_ = true;\n\n    /**\n     * Option to allow the plugin to be collapsible or not\n     * @private\n     * @type {Boolean}\n     */\n    this.collapsible_ = options.collapsible;\n    if (this.collapsible_ === undefined) this.collapsible_ = true;\n\n    /**\n     * @private\n     * @type {M.ui.Panel}\n     */\n    this.panel_ = null;\n\n    /**\n     * @private\n     * @type {M.layer.Vector}\n     */\n    this.layer_ = options.layer;\n\n    /**\n     *@private\n     *@type { string }\n     */\n    this.tooltip_ = options.tooltip || getValue('tooltip');\n\n    /**\n     * Plugin parameters\n     * @public\n     * @type {object}\n     */\n    this.options = options;\n\n    ColorPickerPolyfill.apply(window);\n\n    M.utils.extends = M.utils.extendsObj;\n  }\n\n  /**\n   * This function adds this plugin into the map\n   *\n   * @public\n   * @function\n   * @param {M.Map} map the map to add the plugin\n   * @api stable\n   */\n  addTo(map) {\n    this.controls_.push(new StyleManagerControl(this.layer_));\n    this.map_ = map;\n    this.panel_ = new M.ui.Panel(StyleManager.NAME, {\n      collapsed: this.collapsed_,\n      collapsible: this.collapsible_,\n      className: 'm-stylemanager',\n      collapsedButtonClass: 'stylemanager-palette',\n      position: M.ui.position[this.position_],\n      tooltip: this.tooltip_,\n    });\n    this.panel_.addControls(this.controls_);\n    map.addPanels(this.panel_);\n  }\n\n  /**\n   * Get the API REST Parameters of the plugin\n   *\n   * @function\n   * @public\n   * @api\n   */\n  getAPIRest() {\n    return `${this.name}=${this.position_}*${this.collapsed_}*${this.collapsible_}*${this.tooltip_}`;\n  }\n\n  /**\n   * Gets the API REST Parameters in base64 of the plugin\n   *\n   * @function\n   * @public\n   * @api\n   */\n  getAPIRestBase64() {\n    return `${this.name}=base64=${M.utils.encodeBase64(this.options)}`;\n  }\n\n  /**\n   * TODO\n   */\n  destroy() {\n    this.map_.removeControls(this.controls_);\n    [this.control_, this.panel_, this.map_] = [null, null, null];\n  }\n\n  get name() {\n    return 'stylemanager';\n  }\n}\n","import M$plugin$StyleManager from './/facade/js/stylemanager';\n\nif (!window.M.plugin) window.M.plugin = {};\nwindow.M.plugin.StyleManager = M$plugin$StyleManager;\n"],"sourceRoot":""}